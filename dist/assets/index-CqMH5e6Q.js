var l1=Object.defineProperty;var c1=(e,s,r)=>s in e?l1(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var Ri=(e,s,r)=>c1(e,typeof s!="symbol"?s+"":s,r);function d1(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P0={exports:{}},ud={},E0={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),u1=Symbol.for("react.portal"),m1=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),b1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),wh=Symbol.iterator;function j1(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,R0={};function Ni(e,s,r){this.props=e,this.context=s,this.refs=R0,this.updater=r||T0}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F0(){}F0.prototype=Ni.prototype;function $p(e,s,r){this.props=e,this.context=s,this.refs=R0,this.updater=r||T0}var Mp=$p.prototype=new F0;Mp.constructor=$p;z0(Mp,Ni.prototype);Mp.isPureReactComponent=!0;var _h=Array.isArray,D0=Object.prototype.hasOwnProperty,Ip={current:null},$0={key:!0,ref:!0,__self:!0,__source:!0};function M0(e,s,r){var a,n={},i=null,o=null;if(s!=null)for(a in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)D0.call(s,a)&&!$0.hasOwnProperty(a)&&(n[a]=s[a]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:el,type:e,key:i,ref:o,props:n,_owner:Ip.current}}function N1(e,s){return{$$typeof:el,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===el}function C1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var Sh=/\/+/g;function Nu(e,s){return typeof e=="object"&&e!==null&&e.key!=null?C1(""+e.key):s.toString(36)}function Gl(e,s,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case el:case u1:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+Nu(o,0):a,_h(n)?(r="",e!=null&&(r=e.replace(Sh,"$&/")+"/"),Gl(n,s,r,"",function(h){return h})):n!=null&&(Lp(n)&&(n=N1(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Sh,"$&/")+"/")+e)),s.push(n)),1;if(o=0,a=a===""?".":a+":",_h(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+Nu(i,l);o+=Gl(i,s,r,c,n)}else if(c=j1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+Nu(i,l++),o+=Gl(i,s,r,c,n);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(e,s,r){if(e==null)return e;var a=[],n=0;return Gl(e,a,"","",function(i){return s.call(r,i,n++)}),a}function w1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Ss={current:null},Kl={transition:null},_1={ReactCurrentDispatcher:Ss,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Ip};function I0(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:yl,forEach:function(e,s,r){yl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return yl(e,function(){s++}),s},toArray:function(e){return yl(e,function(s){return s})||[]},only:function(e){if(!Lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=Ni;nt.Fragment=m1;nt.Profiler=f1;nt.PureComponent=$p;nt.StrictMode=p1;nt.Suspense=y1;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;nt.act=I0;nt.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=z0({},e.props),n=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Ip.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)D0.call(s,c)&&!$0.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:el,type:e.type,key:n,ref:i,props:a,_owner:o}};nt.createContext=function(e){return e={$$typeof:g1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h1,_context:e},e.Consumer=e};nt.createElement=M0;nt.createFactory=function(e){var s=M0.bind(null,e);return s.type=e,s};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:x1,render:e}};nt.isValidElement=Lp;nt.lazy=function(e){return{$$typeof:v1,_payload:{_status:-1,_result:e},_init:w1}};nt.memo=function(e,s){return{$$typeof:b1,type:e,compare:s===void 0?null:s}};nt.startTransition=function(e){var s=Kl.transition;Kl.transition={};try{e()}finally{Kl.transition=s}};nt.unstable_act=I0;nt.useCallback=function(e,s){return Ss.current.useCallback(e,s)};nt.useContext=function(e){return Ss.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return Ss.current.useDeferredValue(e)};nt.useEffect=function(e,s){return Ss.current.useEffect(e,s)};nt.useId=function(){return Ss.current.useId()};nt.useImperativeHandle=function(e,s,r){return Ss.current.useImperativeHandle(e,s,r)};nt.useInsertionEffect=function(e,s){return Ss.current.useInsertionEffect(e,s)};nt.useLayoutEffect=function(e,s){return Ss.current.useLayoutEffect(e,s)};nt.useMemo=function(e,s){return Ss.current.useMemo(e,s)};nt.useReducer=function(e,s,r){return Ss.current.useReducer(e,s,r)};nt.useRef=function(e){return Ss.current.useRef(e)};nt.useState=function(e){return Ss.current.useState(e)};nt.useSyncExternalStore=function(e,s,r){return Ss.current.useSyncExternalStore(e,s,r)};nt.useTransition=function(){return Ss.current.useTransition()};nt.version="18.3.1";E0.exports=nt;var f=E0.exports;const at=Dp(f),yc=d1({__proto__:null,default:at},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=f,A1=Symbol.for("react.element"),k1=Symbol.for("react.fragment"),P1=Object.prototype.hasOwnProperty,E1=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T1={key:!0,ref:!0,__self:!0,__source:!0};function L0(e,s,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(a in s)P1.call(s,a)&&!T1.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:A1,type:e,key:i,ref:o,props:n,_owner:E1.current}}ud.Fragment=k1;ud.jsx=L0;ud.jsxs=L0;P0.exports=ud;var t=P0.exports,mm={},O0={exports:{}},tr={},U0={exports:{}},B0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(M,D){var O=M.length;M.push(D);e:for(;0<O;){var V=O-1>>>1,q=M[V];if(0<n(q,D))M[V]=D,M[O]=q,O=V;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var D=M[0],O=M.pop();if(O!==D){M[0]=O;e:for(var V=0,q=M.length,I=q>>>1;V<I;){var W=2*(V+1)-1,B=M[W],H=W+1,Y=M[H];if(0>n(B,O))H<q&&0>n(Y,B)?(M[V]=Y,M[H]=O,V=H):(M[V]=B,M[W]=O,V=W);else if(H<q&&0>n(Y,O))M[V]=Y,M[H]=O,V=H;else break e}}return D}function n(M,D){var O=M.sortIndex-D.sortIndex;return O!==0?O:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,p=null,m=3,u=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var D=r(h);D!==null;){if(D.callback===null)a(h);else if(D.startTime<=M)a(h),D.sortIndex=D.expirationTime,s(c,D);else break;D=r(h)}}function w(M){if(y=!1,_(M),!g)if(r(c)!==null)g=!0,C(T);else{var D=r(h);D!==null&&A(w,D.startTime-M)}}function T(M,D){g=!1,y&&(y=!1,x(E),E=-1),u=!0;var O=m;try{for(_(D),p=r(c);p!==null&&(!(p.expirationTime>D)||M&&!$());){var V=p.callback;if(typeof V=="function"){p.callback=null,m=p.priorityLevel;var q=V(p.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?p.callback=q:p===r(c)&&a(c),_(D)}else a(c);p=r(c)}if(p!==null)var I=!0;else{var W=r(h);W!==null&&A(w,W.startTime-D),I=!1}return I}finally{p=null,m=O,u=!1}}var k=!1,b=null,E=-1,v=5,R=-1;function $(){return!(e.unstable_now()-R<v)}function j(){if(b!==null){var M=e.unstable_now();R=M;var D=!0;try{D=b(!0,M)}finally{D?P():(k=!1,b=null)}}else k=!1}var P;if(typeof N=="function")P=function(){N(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=j,P=function(){F.postMessage(null)}}else P=function(){S(j,0)};function C(M){b=M,k||(k=!0,P())}function A(M,D){E=S(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||u||(g=!0,C(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var O=m;m=D;try{return M()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=m;m=M;try{return D()}finally{m=O}},e.unstable_scheduleCallback=function(M,D,O){var V=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=O+q,M={id:d++,callback:D,priorityLevel:M,startTime:O,expirationTime:q,sortIndex:-1},O>V?(M.sortIndex=O,s(h,M),r(c)===null&&M===r(h)&&(y?(x(E),E=-1):y=!0,A(w,O-V))):(M.sortIndex=q,s(c,M),g||u||(g=!0,C(T))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var D=m;return function(){var O=m;m=D;try{return M.apply(this,arguments)}finally{m=O}}}})(B0);U0.exports=B0;var z1=U0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1=f,er=z1;function ze(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q0=new Set,ko={};function _n(e,s){oi(e,s),oi(e+"Capture",s)}function oi(e,s){for(ko[e]=s,e=0;e<s.length;e++)q0.add(s[e])}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,F1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ah={},kh={};function D1(e){return pm.call(kh,e)?!0:pm.call(Ah,e)?!1:F1.test(e)?kh[e]=!0:(Ah[e]=!0,!1)}function $1(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M1(e,s,r,a){if(s===null||typeof s>"u"||$1(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function As(e,s,r,a,n,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cs[e]=new As(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];cs[s]=new As(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cs[e]=new As(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cs[e]=new As(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cs[e]=new As(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cs[e]=new As(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cs[e]=new As(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cs[e]=new As(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cs[e]=new As(e,5,!1,e.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Up(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Op,Up);cs[s]=new As(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Op,Up);cs[s]=new As(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Op,Up);cs[s]=new As(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cs[e]=new As(e,1,!1,e.toLowerCase(),null,!1,!1)});cs.xlinkHref=new As("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cs[e]=new As(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bp(e,s,r,a){var n=cs.hasOwnProperty(s)?cs[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M1(s,r,n,a)&&(r=null),a||n===null?D1(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var ga=R1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),In=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Wp=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),gm=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),Ph=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=Ph&&e[Ph]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Object.assign,Cu;function to(e){if(Cu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Cu=s&&s[1]||""}return`
`+Cu+e}var wu=!1;function _u(e,s){if(!e||wu)return"";wu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var a=h}Reflect.construct(e,[],s)}else{try{s.call()}catch(h){a=h}e.call(s.prototype)}else{try{throw Error()}catch(h){a=h}e()}}catch(h){if(h&&a&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?to(e):""}function I1(e){switch(e.tag){case 5:return to(e.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return e=_u(e.type,!1),e;case 11:return e=_u(e.type.render,!1),e;case 1:return e=_u(e.type,!0),e;default:return""}}function xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case In:return"Portal";case fm:return"Profiler";case qp:return"StrictMode";case hm:return"Suspense";case gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V0:return(e.displayName||"Context")+".Consumer";case W0:return(e._context.displayName||"Context")+".Provider";case Wp:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vp:return s=e.displayName||null,s!==null?s:xm(e.type)||"Memo";case va:s=e._payload,e=e._init;try{return xm(e(s))}catch{}}return null}function L1(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(s);case 8:return s===qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G0(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function O1(e){var s=G0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function vl(e){e._valueTracker||(e._valueTracker=O1(e))}function K0(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=G0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function bc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ym(e,s){var r=s.checked;return qt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Eh(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=Oa(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Q0(e,s){s=s.checked,s!=null&&Bp(e,"checked",s,!1)}function bm(e,s){Q0(e,s);var r=Oa(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?vm(e,s.type,r):s.hasOwnProperty("defaultValue")&&vm(e,s.type,Oa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Th(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vm(e,s,r){(s!=="number"||bc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var so=Array.isArray;function Jn(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Oa(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function jm(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ze(91));return qt({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zh(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ze(92));if(so(r)){if(1<r.length)throw Error(ze(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Oa(r)}}function Y0(e,s){var r=Oa(s.value),a=Oa(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Rh(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function X0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nm(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?X0(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,J0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Po(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(e){U1.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),co[s]=co[e]})});function Z0(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||co.hasOwnProperty(e)&&co[e]?(""+s).trim():s+"px"}function ey(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Z0(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var B1=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(e,s){if(s){if(B1[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ze(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ze(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ze(62))}}function wm(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function Hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sm=null,Zn=null,ei=null;function Fh(e){if(e=rl(e)){if(typeof Sm!="function")throw Error(ze(280));var s=e.stateNode;s&&(s=gd(s),Sm(e.stateNode,e.type,s))}}function ty(e){Zn?ei?ei.push(e):ei=[e]:Zn=e}function sy(){if(Zn){var e=Zn,s=ei;if(ei=Zn=null,Fh(e),s)for(e=0;e<s.length;e++)Fh(s[e])}}function ry(e,s){return e(s)}function ay(){}var Su=!1;function ny(e,s,r){if(Su)return e(s,r);Su=!0;try{return ry(e,s,r)}finally{Su=!1,(Zn!==null||ei!==null)&&(ay(),sy())}}function Eo(e,s){var r=e.stateNode;if(r===null)return null;var a=gd(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ze(231,s,typeof r));return r}var Am=!1;if(oa)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Am=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Am=!1}function q1(e,s,r,a,n,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{s.apply(r,h)}catch(d){this.onError(d)}}var uo=!1,vc=null,jc=!1,km=null,W1={onError:function(e){uo=!0,vc=e}};function V1(e,s,r,a,n,i,o,l,c){uo=!1,vc=null,q1.apply(W1,arguments)}function H1(e,s,r,a,n,i,o,l,c){if(V1.apply(this,arguments),uo){if(uo){var h=vc;uo=!1,vc=null}else throw Error(ze(198));jc||(jc=!0,km=h)}}function Sn(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function iy(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Dh(e){if(Sn(e)!==e)throw Error(ze(188))}function G1(e){var s=e.alternate;if(!s){if(s=Sn(e),s===null)throw Error(ze(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Dh(n),e;if(i===a)return Dh(n),s;i=i.sibling}throw Error(ze(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(ze(189))}}if(r.alternate!==a)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?e:s}function oy(e){return e=G1(e),e!==null?ly(e):null}function ly(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=ly(e);if(s!==null)return s;e=e.sibling}return null}var cy=er.unstable_scheduleCallback,$h=er.unstable_cancelCallback,K1=er.unstable_shouldYield,Q1=er.unstable_requestPaint,Gt=er.unstable_now,Y1=er.unstable_getCurrentPriorityLevel,Gp=er.unstable_ImmediatePriority,dy=er.unstable_UserBlockingPriority,Nc=er.unstable_NormalPriority,X1=er.unstable_LowPriority,uy=er.unstable_IdlePriority,md=null,Hr=null;function J1(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(md,e,void 0,(e.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:tN,Z1=Math.log,eN=Math.LN2;function tN(e){return e>>>=0,e===0?32:31-(Z1(e)/eN|0)|0}var Nl=64,Cl=4194304;function ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cc(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?a=ro(l):(i&=o,i!==0&&(a=ro(i)))}else o=r&~n,o!==0?a=ro(o):i!==0&&(a=ro(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-Sr(s),n=1<<r,a|=e[r],s&=~n;return a}function sN(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rN(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Sr(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&a)&&(n[o]=sN(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function Pm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function my(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function Au(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function tl(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-Sr(s),e[s]=r}function aN(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Sr(r),i=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function Kp(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-Sr(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var wt=0;function py(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fy,Qp,hy,gy,xy,Em=!1,wl=[],ka=null,Pa=null,Ea=null,To=new Map,zo=new Map,Ca=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(e,s){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":To.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(s.pointerId)}}function $i(e,s,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=rl(s),s!==null&&Qp(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function iN(e,s,r,a,n){switch(s){case"focusin":return ka=$i(ka,e,s,r,a,n),!0;case"dragenter":return Pa=$i(Pa,e,s,r,a,n),!0;case"mouseover":return Ea=$i(Ea,e,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return To.set(i,$i(To.get(i)||null,e,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,zo.set(i,$i(zo.get(i)||null,e,s,r,a,n)),!0}return!1}function yy(e){var s=rn(e.target);if(s!==null){var r=Sn(s);if(r!==null){if(s=r.tag,s===13){if(s=iy(r),s!==null){e.blockedOn=s,xy(e.priority,function(){hy(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Tm(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);_m=a,r.target.dispatchEvent(a),_m=null}else return s=rl(r),s!==null&&Qp(s),e.blockedOn=r,!1;s.shift()}return!0}function Ih(e,s,r){Ql(e)&&r.delete(s)}function oN(){Em=!1,ka!==null&&Ql(ka)&&(ka=null),Pa!==null&&Ql(Pa)&&(Pa=null),Ea!==null&&Ql(Ea)&&(Ea=null),To.forEach(Ih),zo.forEach(Ih)}function Mi(e,s){e.blockedOn===s&&(e.blockedOn=null,Em||(Em=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,oN)))}function Ro(e){function s(n){return Mi(n,e)}if(0<wl.length){Mi(wl[0],e);for(var r=1;r<wl.length;r++){var a=wl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(ka!==null&&Mi(ka,e),Pa!==null&&Mi(Pa,e),Ea!==null&&Mi(Ea,e),To.forEach(s),zo.forEach(s),r=0;r<Ca.length;r++)a=Ca[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ca.length&&(r=Ca[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&Ca.shift()}var ti=ga.ReactCurrentBatchConfig,wc=!0;function lN(e,s,r,a){var n=wt,i=ti.transition;ti.transition=null;try{wt=1,Yp(e,s,r,a)}finally{wt=n,ti.transition=i}}function cN(e,s,r,a){var n=wt,i=ti.transition;ti.transition=null;try{wt=4,Yp(e,s,r,a)}finally{wt=n,ti.transition=i}}function Yp(e,s,r,a){if(wc){var n=Tm(e,s,r,a);if(n===null)Mu(e,s,a,_c,r),Mh(e,a);else if(iN(n,e,s,r,a))a.stopPropagation();else if(Mh(e,a),s&4&&-1<nN.indexOf(e)){for(;n!==null;){var i=rl(n);if(i!==null&&fy(i),i=Tm(e,s,r,a),i===null&&Mu(e,s,a,_c,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else Mu(e,s,a,null,r)}}var _c=null;function Tm(e,s,r,a){if(_c=null,e=Hp(a),e=rn(e),e!==null)if(s=Sn(e),s===null)e=null;else if(r=s.tag,r===13){if(e=iy(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return _c=e,null}function by(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case Gp:return 1;case dy:return 4;case Nc:case X1:return 16;case uy:return 536870912;default:return 16}default:return 16}}var _a=null,Xp=null,Yl=null;function vy(){if(Yl)return Yl;var e,s=Xp,r=s.length,a,n="value"in _a?_a.value:_a.textContent,i=n.length;for(e=0;e<r&&s[e]===n[e];e++);var o=r-e;for(a=1;a<=o&&s[r-a]===n[i-a];a++);return Yl=n.slice(e,1<a?1-a:void 0)}function Xl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Lh(){return!1}function sr(e){function s(r,a,n,i,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_l:Lh,this.isPropagationStopped=Lh,this}return qt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jp=sr(Ci),sl=qt({},Ci,{view:0,detail:0}),dN=sr(sl),ku,Pu,Ii,pd=qt({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(ku=e.screenX-Ii.screenX,Pu=e.screenY-Ii.screenY):Pu=ku=0,Ii=e),ku)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),Oh=sr(pd),uN=qt({},pd,{dataTransfer:0}),mN=sr(uN),pN=qt({},sl,{relatedTarget:0}),Eu=sr(pN),fN=qt({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),hN=sr(fN),gN=qt({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xN=sr(gN),yN=qt({},Ci,{data:0}),Uh=sr(yN),bN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NN(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=jN[e])?!!s[e]:!1}function Zp(){return NN}var CN=qt({},sl,{key:function(e){if(e.key){var s=bN[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(e){return e.type==="keypress"?Xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wN=sr(CN),_N=qt({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=sr(_N),SN=qt({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),AN=sr(SN),kN=qt({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),PN=sr(kN),EN=qt({},pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TN=sr(EN),zN=[9,13,27,32],ef=oa&&"CompositionEvent"in window,mo=null;oa&&"documentMode"in document&&(mo=document.documentMode);var RN=oa&&"TextEvent"in window&&!mo,jy=oa&&(!ef||mo&&8<mo&&11>=mo),qh=" ",Wh=!1;function Ny(e,s){switch(e){case"keyup":return zN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function FN(e,s){switch(e){case"compositionend":return Cy(s);case"keypress":return s.which!==32?null:(Wh=!0,qh);case"textInput":return e=s.data,e===qh&&Wh?null:e;default:return null}}function DN(e,s){if(On)return e==="compositionend"||!ef&&Ny(e,s)?(e=vy(),Yl=Xp=_a=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jy&&s.locale!=="ko"?null:s.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!$N[e.type]:s==="textarea"}function wy(e,s,r,a){ty(a),s=Sc(s,"onChange"),0<s.length&&(r=new Jp("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var po=null,Fo=null;function MN(e){Dy(e,0)}function fd(e){var s=qn(e);if(K0(s))return e}function IN(e,s){if(e==="change")return s}var _y=!1;if(oa){var Tu;if(oa){var zu="oninput"in document;if(!zu){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),zu=typeof Hh.oninput=="function"}Tu=zu}else Tu=!1;_y=Tu&&(!document.documentMode||9<document.documentMode)}function Gh(){po&&(po.detachEvent("onpropertychange",Sy),Fo=po=null)}function Sy(e){if(e.propertyName==="value"&&fd(Fo)){var s=[];wy(s,Fo,e,Hp(e)),ny(MN,s)}}function LN(e,s,r){e==="focusin"?(Gh(),po=s,Fo=r,po.attachEvent("onpropertychange",Sy)):e==="focusout"&&Gh()}function ON(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fd(Fo)}function UN(e,s){if(e==="click")return fd(s)}function BN(e,s){if(e==="input"||e==="change")return fd(s)}function qN(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var kr=typeof Object.is=="function"?Object.is:qN;function Do(e,s){if(kr(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!pm.call(s,n)||!kr(e[n],s[n]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qh(e,s){var r=Kh(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Ay(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ay(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function ky(){for(var e=window,s=bc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=bc(e.document)}return s}function tf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function WN(e){var s=ky(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&Ay(r.ownerDocument.documentElement,r)){if(a!==null&&tf(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Qh(r,i);var o=Qh(r,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VN=oa&&"documentMode"in document&&11>=document.documentMode,Un=null,zm=null,fo=null,Rm=!1;function Yh(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rm||Un==null||Un!==bc(a)||(a=Un,"selectionStart"in a&&tf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fo&&Do(fo,a)||(fo=a,a=Sc(zm,"onSelect"),0<a.length&&(s=new Jp("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=Un)))}function Sl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var Bn={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Ru={},Py={};oa&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function hd(e){if(Ru[e])return Ru[e];if(!Bn[e])return e;var s=Bn[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Py)return Ru[e]=s[r];return e}var Ey=hd("animationend"),Ty=hd("animationiteration"),zy=hd("animationstart"),Ry=hd("transitionend"),Fy=new Map,Xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qa(e,s){Fy.set(e,s),_n(s,[e])}for(var Fu=0;Fu<Xh.length;Fu++){var Du=Xh[Fu],HN=Du.toLowerCase(),GN=Du[0].toUpperCase()+Du.slice(1);qa(HN,"on"+GN)}qa(Ey,"onAnimationEnd");qa(Ty,"onAnimationIteration");qa(zy,"onAnimationStart");qa("dblclick","onDoubleClick");qa("focusin","onFocus");qa("focusout","onBlur");qa(Ry,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Jh(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,H1(a,s,void 0,e),e.currentTarget=null}function Dy(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;Jh(n,l,h),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;Jh(n,l,h),i=c}}}if(jc)throw e=km,jc=!1,km=null,e}function Ft(e,s){var r=s[Im];r===void 0&&(r=s[Im]=new Set);var a=e+"__bubble";r.has(a)||($y(s,e,2,!1),r.add(a))}function $u(e,s,r){var a=0;s&&(a|=4),$y(r,e,a,s)}var Al="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Al]){e[Al]=!0,q0.forEach(function(r){r!=="selectionchange"&&(KN.has(r)||$u(r,!1,e),$u(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Al]||(s[Al]=!0,$u("selectionchange",!1,s))}}function $y(e,s,r,a){switch(by(s)){case 1:var n=lN;break;case 4:n=cN;break;default:n=Yp}r=n.bind(null,s,r,e),n=void 0,!Am||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function Mu(e,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=rn(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}ny(function(){var h=i,d=Hp(r),p=[];e:{var m=Fy.get(e);if(m!==void 0){var u=Jp,g=e;switch(e){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":u=wN;break;case"focusin":g="focus",u=Eu;break;case"focusout":g="blur",u=Eu;break;case"beforeblur":case"afterblur":u=Eu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=AN;break;case Ey:case Ty:case zy:u=hN;break;case Ry:u=PN;break;case"scroll":u=dN;break;case"wheel":u=TN;break;case"copy":case"cut":case"paste":u=xN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Bh}var y=(s&4)!==0,S=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var N=h,_;N!==null;){_=N;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,x!==null&&(w=Eo(N,x),w!=null&&y.push(Mo(N,w,_)))),S)break;N=N.return}0<y.length&&(m=new u(m,g,null,r,d),p.push({event:m,listeners:y}))}}if(!(s&7)){e:{if(m=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",m&&r!==_m&&(g=r.relatedTarget||r.fromElement)&&(rn(g)||g[la]))break e;if((u||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=h,g=g?rn(g):null,g!==null&&(S=Sn(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=h),u!==g)){if(y=Oh,w="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bh,w="onPointerLeave",x="onPointerEnter",N="pointer"),S=u==null?m:qn(u),_=g==null?m:qn(g),m=new y(w,N+"leave",u,r,d),m.target=S,m.relatedTarget=_,w=null,rn(d)===h&&(y=new y(x,N+"enter",g,r,d),y.target=_,y.relatedTarget=S,w=y),S=w,u&&g)t:{for(y=u,x=g,N=0,_=y;_;_=kn(_))N++;for(_=0,w=x;w;w=kn(w))_++;for(;0<N-_;)y=kn(y),N--;for(;0<_-N;)x=kn(x),_--;for(;N--;){if(y===x||x!==null&&y===x.alternate)break t;y=kn(y),x=kn(x)}y=null}else y=null;u!==null&&Zh(p,m,u,y,!1),g!==null&&S!==null&&Zh(p,S,g,y,!0)}}e:{if(m=h?qn(h):window,u=m.nodeName&&m.nodeName.toLowerCase(),u==="select"||u==="input"&&m.type==="file")var T=IN;else if(Vh(m))if(_y)T=BN;else{T=ON;var k=LN}else(u=m.nodeName)&&u.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=UN);if(T&&(T=T(e,h))){wy(p,T,r,d);break e}k&&k(e,m,h),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&vm(m,"number",m.value)}switch(k=h?qn(h):window,e){case"focusin":(Vh(k)||k.contentEditable==="true")&&(Un=k,zm=h,fo=null);break;case"focusout":fo=zm=Un=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,Yh(p,r,d);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Yh(p,r,d)}var b;if(ef)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else On?Ny(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(jy&&r.locale!=="ko"&&(On||E!=="onCompositionStart"?E==="onCompositionEnd"&&On&&(b=vy()):(_a=d,Xp="value"in _a?_a.value:_a.textContent,On=!0)),k=Sc(h,E),0<k.length&&(E=new Uh(E,e,null,r,d),p.push({event:E,listeners:k}),b?E.data=b:(b=Cy(r),b!==null&&(E.data=b)))),(b=RN?FN(e,r):DN(e,r))&&(h=Sc(h,"onBeforeInput"),0<h.length&&(d=new Uh("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:h}),d.data=b))}Dy(p,s)})}function Mo(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Sc(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Eo(e,r),i!=null&&a.unshift(Mo(e,i,n)),i=Eo(e,s),i!=null&&a.push(Mo(e,i,n))),e=e.return}return a}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zh(e,s,r,a,n){for(var i=s._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&h!==null&&(l=h,n?(c=Eo(r,i),c!=null&&o.unshift(Mo(r,c,l))):n||(c=Eo(r,i),c!=null&&o.push(Mo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:s,listeners:o})}var QN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function eg(e){return(typeof e=="string"?e:""+e).replace(QN,`
`).replace(YN,"")}function kl(e,s,r){if(s=eg(s),eg(e)!==s&&r)throw Error(ze(425))}function Ac(){}var Fm=null,Dm=null;function $m(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,JN=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(e){return tg.resolve(null).then(e).catch(ZN)}:Mm;function ZN(e){setTimeout(function(){throw e})}function Iu(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),Ro(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Ro(s)}function Ta(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function sg(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),qr="__reactFiber$"+wi,Io="__reactProps$"+wi,la="__reactContainer$"+wi,Im="__reactEvents$"+wi,e2="__reactListeners$"+wi,t2="__reactHandles$"+wi;function rn(e){var s=e[qr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[la]||r[qr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=sg(e);e!==null;){if(r=e[qr])return r;e=sg(e)}return s}e=r,r=e.parentNode}return null}function rl(e){return e=e[qr]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function gd(e){return e[Io]||null}var Lm=[],Wn=-1;function Wa(e){return{current:e}}function Dt(e){0>Wn||(e.current=Lm[Wn],Lm[Wn]=null,Wn--)}function zt(e,s){Wn++,Lm[Wn]=e.current,e.current=s}var Ua={},bs=Wa(Ua),Rs=Wa(!1),gn=Ua;function li(e,s){var r=e.type.contextTypes;if(!r)return Ua;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function Fs(e){return e=e.childContextTypes,e!=null}function kc(){Dt(Rs),Dt(bs)}function rg(e,s,r){if(bs.current!==Ua)throw Error(ze(168));zt(bs,s),zt(Rs,r)}function My(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(ze(108,L1(e)||"Unknown",n));return qt({},r,a)}function Pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ua,gn=bs.current,zt(bs,e),zt(Rs,Rs.current),!0}function ag(e,s,r){var a=e.stateNode;if(!a)throw Error(ze(169));r?(e=My(e,s,gn),a.__reactInternalMemoizedMergedChildContext=e,Dt(Rs),Dt(bs),zt(bs,e)):Dt(Rs),zt(Rs,r)}var sa=null,xd=!1,Lu=!1;function Iy(e){sa===null?sa=[e]:sa.push(e)}function s2(e){xd=!0,Iy(e)}function Va(){if(!Lu&&sa!==null){Lu=!0;var e=0,s=wt;try{var r=sa;for(wt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}sa=null,xd=!1}catch(n){throw sa!==null&&(sa=sa.slice(e+1)),cy(Gp,Va),n}finally{wt=s,Lu=!1}}return null}var Vn=[],Hn=0,Ec=null,Tc=0,nr=[],ir=0,xn=null,aa=1,na="";function Za(e,s){Vn[Hn++]=Tc,Vn[Hn++]=Ec,Ec=e,Tc=s}function Ly(e,s,r){nr[ir++]=aa,nr[ir++]=na,nr[ir++]=xn,xn=e;var a=aa;e=na;var n=32-Sr(a)-1;a&=~(1<<n),r+=1;var i=32-Sr(s)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,aa=1<<32-Sr(s)+n|r<<n|a,na=i+e}else aa=1<<i|r<<n|a,na=e}function sf(e){e.return!==null&&(Za(e,1),Ly(e,1,0))}function rf(e){for(;e===Ec;)Ec=Vn[--Hn],Vn[Hn]=null,Tc=Vn[--Hn],Vn[Hn]=null;for(;e===xn;)xn=nr[--ir],nr[ir]=null,na=nr[--ir],nr[ir]=null,aa=nr[--ir],nr[ir]=null}var Xs=null,Qs=null,Mt=!1,wr=null;function Oy(e,s){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function ng(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Xs=e,Qs=Ta(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Xs=e,Qs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=xn!==null?{id:aa,overflow:na}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Xs=e,Qs=null,!0):!1;default:return!1}}function Om(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Um(e){if(Mt){var s=Qs;if(s){var r=s;if(!ng(e,s)){if(Om(e))throw Error(ze(418));s=Ta(r.nextSibling);var a=Xs;s&&ng(e,s)?Oy(a,r):(e.flags=e.flags&-4097|2,Mt=!1,Xs=e)}}else{if(Om(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Mt=!1,Xs=e}}}function ig(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xs=e}function Pl(e){if(e!==Xs)return!1;if(!Mt)return ig(e),Mt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!$m(e.type,e.memoizedProps)),s&&(s=Qs)){if(Om(e))throw Uy(),Error(ze(418));for(;s;)Oy(e,s),s=Ta(s.nextSibling)}if(ig(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Qs=Ta(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Qs=null}}else Qs=Xs?Ta(e.stateNode.nextSibling):null;return!0}function Uy(){for(var e=Qs;e;)e=Ta(e.nextSibling)}function ci(){Qs=Xs=null,Mt=!1}function af(e){wr===null?wr=[e]:wr.push(e)}var r2=ga.ReactCurrentBatchConfig;function Li(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var a=r.stateNode}if(!a)throw Error(ze(147,e));var n=a,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,e))}return e}function El(e,s){throw e=Object.prototype.toString.call(s),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function og(e){var s=e._init;return s(e._payload)}function By(e){function s(x,N){if(e){var _=x.deletions;_===null?(x.deletions=[N],x.flags|=16):_.push(N)}}function r(x,N){if(!e)return null;for(;N!==null;)s(x,N),N=N.sibling;return null}function a(x,N){for(x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function n(x,N){return x=Da(x,N),x.index=0,x.sibling=null,x}function i(x,N,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<N?(x.flags|=2,N):_):(x.flags|=2,N)):(x.flags|=1048576,N)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,N,_,w){return N===null||N.tag!==6?(N=Hu(_,x.mode,w),N.return=x,N):(N=n(N,_),N.return=x,N)}function c(x,N,_,w){var T=_.type;return T===Ln?d(x,N,_.props.children,w,_.key):N!==null&&(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&og(T)===N.type)?(w=n(N,_.props),w.ref=Li(x,N,_),w.return=x,w):(w=ac(_.type,_.key,_.props,null,x.mode,w),w.ref=Li(x,N,_),w.return=x,w)}function h(x,N,_,w){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Gu(_,x.mode,w),N.return=x,N):(N=n(N,_.children||[]),N.return=x,N)}function d(x,N,_,w,T){return N===null||N.tag!==7?(N=mn(_,x.mode,w,T),N.return=x,N):(N=n(N,_),N.return=x,N)}function p(x,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Hu(""+N,x.mode,_),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bl:return _=ac(N.type,N.key,N.props,null,x.mode,_),_.ref=Li(x,null,N),_.return=x,_;case In:return N=Gu(N,x.mode,_),N.return=x,N;case va:var w=N._init;return p(x,w(N._payload),_)}if(so(N)||Fi(N))return N=mn(N,x.mode,_,null),N.return=x,N;El(x,N)}return null}function m(x,N,_,w){var T=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(x,N,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bl:return _.key===T?c(x,N,_,w):null;case In:return _.key===T?h(x,N,_,w):null;case va:return T=_._init,m(x,N,T(_._payload),w)}if(so(_)||Fi(_))return T!==null?null:d(x,N,_,w,null);El(x,_)}return null}function u(x,N,_,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(_)||null,l(N,x,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bl:return x=x.get(w.key===null?_:w.key)||null,c(N,x,w,T);case In:return x=x.get(w.key===null?_:w.key)||null,h(N,x,w,T);case va:var k=w._init;return u(x,N,_,k(w._payload),T)}if(so(w)||Fi(w))return x=x.get(_)||null,d(N,x,w,T,null);El(N,w)}return null}function g(x,N,_,w){for(var T=null,k=null,b=N,E=N=0,v=null;b!==null&&E<_.length;E++){b.index>E?(v=b,b=null):v=b.sibling;var R=m(x,b,_[E],w);if(R===null){b===null&&(b=v);break}e&&b&&R.alternate===null&&s(x,b),N=i(R,N,E),k===null?T=R:k.sibling=R,k=R,b=v}if(E===_.length)return r(x,b),Mt&&Za(x,E),T;if(b===null){for(;E<_.length;E++)b=p(x,_[E],w),b!==null&&(N=i(b,N,E),k===null?T=b:k.sibling=b,k=b);return Mt&&Za(x,E),T}for(b=a(x,b);E<_.length;E++)v=u(b,x,E,_[E],w),v!==null&&(e&&v.alternate!==null&&b.delete(v.key===null?E:v.key),N=i(v,N,E),k===null?T=v:k.sibling=v,k=v);return e&&b.forEach(function($){return s(x,$)}),Mt&&Za(x,E),T}function y(x,N,_,w){var T=Fi(_);if(typeof T!="function")throw Error(ze(150));if(_=T.call(_),_==null)throw Error(ze(151));for(var k=T=null,b=N,E=N=0,v=null,R=_.next();b!==null&&!R.done;E++,R=_.next()){b.index>E?(v=b,b=null):v=b.sibling;var $=m(x,b,R.value,w);if($===null){b===null&&(b=v);break}e&&b&&$.alternate===null&&s(x,b),N=i($,N,E),k===null?T=$:k.sibling=$,k=$,b=v}if(R.done)return r(x,b),Mt&&Za(x,E),T;if(b===null){for(;!R.done;E++,R=_.next())R=p(x,R.value,w),R!==null&&(N=i(R,N,E),k===null?T=R:k.sibling=R,k=R);return Mt&&Za(x,E),T}for(b=a(x,b);!R.done;E++,R=_.next())R=u(b,x,E,R.value,w),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?E:R.key),N=i(R,N,E),k===null?T=R:k.sibling=R,k=R);return e&&b.forEach(function(j){return s(x,j)}),Mt&&Za(x,E),T}function S(x,N,_,w){if(typeof _=="object"&&_!==null&&_.type===Ln&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case bl:e:{for(var T=_.key,k=N;k!==null;){if(k.key===T){if(T=_.type,T===Ln){if(k.tag===7){r(x,k.sibling),N=n(k,_.props.children),N.return=x,x=N;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&og(T)===k.type){r(x,k.sibling),N=n(k,_.props),N.ref=Li(x,k,_),N.return=x,x=N;break e}r(x,k);break}else s(x,k);k=k.sibling}_.type===Ln?(N=mn(_.props.children,x.mode,w,_.key),N.return=x,x=N):(w=ac(_.type,_.key,_.props,null,x.mode,w),w.ref=Li(x,N,_),w.return=x,x=w)}return o(x);case In:e:{for(k=_.key;N!==null;){if(N.key===k)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){r(x,N.sibling),N=n(N,_.children||[]),N.return=x,x=N;break e}else{r(x,N);break}else s(x,N);N=N.sibling}N=Gu(_,x.mode,w),N.return=x,x=N}return o(x);case va:return k=_._init,S(x,N,k(_._payload),w)}if(so(_))return g(x,N,_,w);if(Fi(_))return y(x,N,_,w);El(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(r(x,N.sibling),N=n(N,_),N.return=x,x=N):(r(x,N),N=Hu(_,x.mode,w),N.return=x,x=N),o(x)):r(x,N)}return S}var di=By(!0),qy=By(!1),zc=Wa(null),Rc=null,Gn=null,nf=null;function of(){nf=Gn=Rc=null}function lf(e){var s=zc.current;Dt(zc),e._currentValue=s}function Bm(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function si(e,s){Rc=e,nf=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Ts=!0),e.firstContext=null)}function mr(e){var s=e._currentValue;if(nf!==e)if(e={context:e,memoizedValue:s,next:null},Gn===null){if(Rc===null)throw Error(ze(308));Gn=e,Rc.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return s}var an=null;function cf(e){an===null?an=[e]:an.push(e)}function Wy(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,cf(s)):(r.next=n.next,n.next=r),s.interleaved=r,ca(e,a)}function ca(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ja=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function za(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ut&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,ca(e,r)}return n=a.interleaved,n===null?(s.next=s,cf(a)):(s.next=n.next,n.next=s),a.interleaved=s,ca(e,r)}function Jl(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Kp(e,r)}}function lg(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Fc(e,s,r,a){var n=e.updateQueue;ja=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var p=n.baseState;o=0,d=h=c=null,l=i;do{var m=l.lane,u=l.eventTime;if((a&m)===m){d!==null&&(d=d.next={eventTime:u,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=s,u=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){p=g.call(u,p,m);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(u,p,m):g,m==null)break e;p=qt({},p,m);break e;case 2:ja=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=n.effects,m===null?n.effects=[l]:m.push(l))}else u={eventTime:u,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=u,c=p):d=d.next=u,o|=m;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;m=l,l=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(d===null&&(c=p),n.baseState=c,n.firstBaseUpdate=h,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do o|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);bn|=o,e.lanes=o,e.memoizedState=p}}function cg(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(ze(191,n));n.call(a)}}}var al={},Gr=Wa(al),Lo=Wa(al),Oo=Wa(al);function nn(e){if(e===al)throw Error(ze(174));return e}function uf(e,s){switch(zt(Oo,s),zt(Lo,e),zt(Gr,al),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Nm(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Nm(s,e)}Dt(Gr),zt(Gr,s)}function ui(){Dt(Gr),Dt(Lo),Dt(Oo)}function Hy(e){nn(Oo.current);var s=nn(Gr.current),r=Nm(s,e.type);s!==r&&(zt(Lo,e),zt(Gr,r))}function mf(e){Lo.current===e&&(Dt(Gr),Dt(Lo))}var Ut=Wa(0);function Dc(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ou=[];function pf(){for(var e=0;e<Ou.length;e++)Ou[e]._workInProgressVersionPrimary=null;Ou.length=0}var Zl=ga.ReactCurrentDispatcher,Uu=ga.ReactCurrentBatchConfig,yn=0,Bt=null,Zt=null,ts=null,$c=!1,ho=!1,Uo=0,a2=0;function ds(){throw Error(ze(321))}function ff(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!kr(e[r],s[r]))return!1;return!0}function hf(e,s,r,a,n,i){if(yn=i,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Zl.current=e===null||e.memoizedState===null?l2:c2,e=r(a,n),ho){i=0;do{if(ho=!1,Uo=0,25<=i)throw Error(ze(301));i+=1,ts=Zt=null,s.updateQueue=null,Zl.current=d2,e=r(a,n)}while(ho)}if(Zl.current=Mc,s=Zt!==null&&Zt.next!==null,yn=0,ts=Zt=Bt=null,$c=!1,s)throw Error(ze(300));return e}function gf(){var e=Uo!==0;return Uo=0,e}function Mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?Bt.memoizedState=ts=e:ts=ts.next=e,ts}function pr(){if(Zt===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var s=ts===null?Bt.memoizedState:ts.next;if(s!==null)ts=s,Zt=e;else{if(e===null)throw Error(ze(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ts===null?Bt.memoizedState=ts=e:ts=ts.next=e}return ts}function Bo(e,s){return typeof s=="function"?s(e):s}function Bu(e){var s=pr(),r=s.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var a=Zt,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,h=i;do{var d=h.lane;if((yn&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:e(a,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=a):c=c.next=p,Bt.lanes|=d,bn|=d}h=h.next}while(h!==null&&h!==i);c===null?o=a:c.next=l,kr(a,s.memoizedState)||(Ts=!0),s.memoizedState=a,s.baseState=o,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Bt.lanes|=i,bn|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function qu(e){var s=pr(),r=s.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);kr(i,s.memoizedState)||(Ts=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function Gy(){}function Ky(e,s){var r=Bt,a=pr(),n=s(),i=!kr(a.memoizedState,n);if(i&&(a.memoizedState=n,Ts=!0),a=a.queue,xf(Xy.bind(null,r,a,e),[e]),a.getSnapshot!==s||i||ts!==null&&ts.memoizedState.tag&1){if(r.flags|=2048,qo(9,Yy.bind(null,r,a,n,s),void 0,null),ss===null)throw Error(ze(349));yn&30||Qy(r,s,n)}return n}function Qy(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Yy(e,s,r,a){s.value=r,s.getSnapshot=a,Jy(s)&&Zy(e)}function Xy(e,s,r){return r(function(){Jy(s)&&Zy(e)})}function Jy(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!kr(e,r)}catch{return!0}}function Zy(e){var s=ca(e,1);s!==null&&Ar(s,e,1,-1)}function dg(e){var s=Mr();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},s.queue=e,e=e.dispatch=o2.bind(null,Bt,e),[s.memoizedState,e]}function qo(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function eb(){return pr().memoizedState}function ec(e,s,r,a){var n=Mr();Bt.flags|=e,n.memoizedState=qo(1|s,r,void 0,a===void 0?null:a)}function yd(e,s,r,a){var n=pr();a=a===void 0?null:a;var i=void 0;if(Zt!==null){var o=Zt.memoizedState;if(i=o.destroy,a!==null&&ff(a,o.deps)){n.memoizedState=qo(s,r,i,a);return}}Bt.flags|=e,n.memoizedState=qo(1|s,r,i,a)}function ug(e,s){return ec(8390656,8,e,s)}function xf(e,s){return yd(2048,8,e,s)}function tb(e,s){return yd(4,2,e,s)}function sb(e,s){return yd(4,4,e,s)}function rb(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function ab(e,s,r){return r=r!=null?r.concat([e]):null,yd(4,4,rb.bind(null,s,e),r)}function yf(){}function nb(e,s){var r=pr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&ff(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function ib(e,s){var r=pr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&ff(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function ob(e,s,r){return yn&21?(kr(r,s)||(r=my(),Bt.lanes|=r,bn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=r)}function n2(e,s){var r=wt;wt=r!==0&&4>r?r:4,e(!0);var a=Uu.transition;Uu.transition={};try{e(!1),s()}finally{wt=r,Uu.transition=a}}function lb(){return pr().memoizedState}function i2(e,s,r){var a=Fa(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},cb(e))db(s,r);else if(r=Wy(e,s,r,a),r!==null){var n=Cs();Ar(r,e,a,n),ub(r,s,a)}}function o2(e,s,r){var a=Fa(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(cb(e))db(s,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,kr(l,o)){var c=s.interleaved;c===null?(n.next=n,cf(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=Wy(e,s,n,a),r!==null&&(n=Cs(),Ar(r,e,a,n),ub(r,s,a))}}function cb(e){var s=e.alternate;return e===Bt||s!==null&&s===Bt}function db(e,s){ho=$c=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function ub(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Kp(e,r)}}var Mc={readContext:mr,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useInsertionEffect:ds,useLayoutEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useMutableSource:ds,useSyncExternalStore:ds,useId:ds,unstable_isNewReconciler:!1},l2={readContext:mr,useCallback:function(e,s){return Mr().memoizedState=[e,s===void 0?null:s],e},useContext:mr,useEffect:ug,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,ec(4194308,4,rb.bind(null,s,e),r)},useLayoutEffect:function(e,s){return ec(4194308,4,e,s)},useInsertionEffect:function(e,s){return ec(4,2,e,s)},useMemo:function(e,s){var r=Mr();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Mr();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=i2.bind(null,Bt,e),[a.memoizedState,e]},useRef:function(e){var s=Mr();return e={current:e},s.memoizedState=e},useState:dg,useDebugValue:yf,useDeferredValue:function(e){return Mr().memoizedState=e},useTransition:function(){var e=dg(!1),s=e[0];return e=n2.bind(null,e[1]),Mr().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=Bt,n=Mr();if(Mt){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=s(),ss===null)throw Error(ze(349));yn&30||Qy(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,ug(Xy.bind(null,a,i,e),[e]),a.flags|=2048,qo(9,Yy.bind(null,a,i,r,s),void 0,null),r},useId:function(){var e=Mr(),s=ss.identifierPrefix;if(Mt){var r=na,a=aa;r=(a&~(1<<32-Sr(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Uo++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=a2++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},c2={readContext:mr,useCallback:nb,useContext:mr,useEffect:xf,useImperativeHandle:ab,useInsertionEffect:tb,useLayoutEffect:sb,useMemo:ib,useReducer:Bu,useRef:eb,useState:function(){return Bu(Bo)},useDebugValue:yf,useDeferredValue:function(e){var s=pr();return ob(s,Zt.memoizedState,e)},useTransition:function(){var e=Bu(Bo)[0],s=pr().memoizedState;return[e,s]},useMutableSource:Gy,useSyncExternalStore:Ky,useId:lb,unstable_isNewReconciler:!1},d2={readContext:mr,useCallback:nb,useContext:mr,useEffect:xf,useImperativeHandle:ab,useInsertionEffect:tb,useLayoutEffect:sb,useMemo:ib,useReducer:qu,useRef:eb,useState:function(){return qu(Bo)},useDebugValue:yf,useDeferredValue:function(e){var s=pr();return Zt===null?s.memoizedState=e:ob(s,Zt.memoizedState,e)},useTransition:function(){var e=qu(Bo)[0],s=pr().memoizedState;return[e,s]},useMutableSource:Gy,useSyncExternalStore:Ky,useId:lb,unstable_isNewReconciler:!1};function Nr(e,s){if(e&&e.defaultProps){s=qt({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function qm(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:qt({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bd={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=Cs(),n=Fa(e),i=ia(a,n);i.payload=s,r!=null&&(i.callback=r),s=za(e,i,n),s!==null&&(Ar(s,e,n,a),Jl(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=Cs(),n=Fa(e),i=ia(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=za(e,i,n),s!==null&&(Ar(s,e,n,a),Jl(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Cs(),a=Fa(e),n=ia(r,a);n.tag=2,s!=null&&(n.callback=s),s=za(e,n,a),s!==null&&(Ar(s,e,a,r),Jl(s,e,a))}};function mg(e,s,r,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):s.prototype&&s.prototype.isPureReactComponent?!Do(r,a)||!Do(n,i):!0}function mb(e,s,r){var a=!1,n=Ua,i=s.contextType;return typeof i=="object"&&i!==null?i=mr(i):(n=Fs(s)?gn:bs.current,a=s.contextTypes,i=(a=a!=null)?li(e,n):Ua),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bd,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),s}function pg(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&bd.enqueueReplaceState(s,s.state,null)}function Wm(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},df(e);var i=s.contextType;typeof i=="object"&&i!==null?n.context=mr(i):(i=Fs(s)?gn:bs.current,n.context=li(e,i)),n.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(qm(e,s,i,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&bd.enqueueReplaceState(n,n.state,null),Fc(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,s){try{var r="",a=s;do r+=I1(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:n,digest:null}}function Wu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function Vm(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function pb(e,s,r){r=ia(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Lc||(Lc=!0,tp=a),Vm(e,s)},r}function fb(e,s,r){r=ia(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Vm(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vm(e,s),typeof a!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function fg(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new u2;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=_2.bind(null,e,s,r),s.then(e,e))}function hg(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function gg(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=ia(-1,1),s.tag=2,za(r,s,1))),r.lanes|=1),e)}var m2=ga.ReactCurrentOwner,Ts=!1;function Ns(e,s,r,a){s.child=e===null?qy(s,null,r,a):di(s,e.child,r,a)}function xg(e,s,r,a,n){r=r.render;var i=s.ref;return si(s,n),a=hf(e,s,r,a,i,n),r=gf(),e!==null&&!Ts?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,da(e,s,n)):(Mt&&r&&sf(s),s.flags|=1,Ns(e,s,a,n),s.child)}function yg(e,s,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!Sf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,hb(e,s,i,a,n)):(e=ac(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(o,a)&&e.ref===s.ref)return da(e,s,n)}return s.flags|=1,e=Da(i,a),e.ref=s.ref,e.return=s,s.child=e}function hb(e,s,r,a,n){if(e!==null){var i=e.memoizedProps;if(Do(i,a)&&e.ref===s.ref)if(Ts=!1,s.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ts=!0);else return s.lanes=e.lanes,da(e,s,n)}return Hm(e,s,r,a,n)}function gb(e,s,r){var a=s.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Qn,Hs),Hs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,zt(Qn,Hs),Hs|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,zt(Qn,Hs),Hs|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,zt(Qn,Hs),Hs|=a;return Ns(e,s,n,r),s.child}function xb(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Hm(e,s,r,a,n){var i=Fs(r)?gn:bs.current;return i=li(s,i),si(s,n),r=hf(e,s,r,a,i,n),a=gf(),e!==null&&!Ts?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,da(e,s,n)):(Mt&&a&&sf(s),s.flags|=1,Ns(e,s,r,n),s.child)}function bg(e,s,r,a,n){if(Fs(r)){var i=!0;Pc(s)}else i=!1;if(si(s,n),s.stateNode===null)tc(e,s),mb(s,r,a),Wm(s,r,a,n),a=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=mr(h):(h=Fs(r)?gn:bs.current,h=li(s,h));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==h)&&pg(s,o,a,h),ja=!1;var m=s.memoizedState;o.state=m,Fc(s,a,o,n),c=s.memoizedState,l!==a||m!==c||Rs.current||ja?(typeof d=="function"&&(qm(s,r,d,a),c=s.memoizedState),(l=ja||mg(s,r,l,a,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),o.props=a,o.state=c,o.context=h,a=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{o=s.stateNode,Vy(e,s),l=s.memoizedProps,h=s.type===s.elementType?l:Nr(s.type,l),o.props=h,p=s.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=Fs(r)?gn:bs.current,c=li(s,c));var u=r.getDerivedStateFromProps;(d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&pg(s,o,a,c),ja=!1,m=s.memoizedState,o.state=m,Fc(s,a,o,n);var g=s.memoizedState;l!==p||m!==g||Rs.current||ja?(typeof u=="function"&&(qm(s,r,u,a),g=s.memoizedState),(h=ja||mg(s,r,h,a,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=g),o.props=a,o.state=g,o.context=c,a=h):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=1024),a=!1)}return Gm(e,s,r,a,i,n)}function Gm(e,s,r,a,n,i){xb(e,s);var o=(s.flags&128)!==0;if(!a&&!o)return n&&ag(s,r,!1),da(e,s,i);a=s.stateNode,m2.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&o?(s.child=di(s,e.child,null,i),s.child=di(s,null,l,i)):Ns(e,s,l,i),s.memoizedState=a.state,n&&ag(s,r,!0),s.child}function yb(e){var s=e.stateNode;s.pendingContext?rg(e,s.pendingContext,s.pendingContext!==s.context):s.context&&rg(e,s.context,!1),uf(e,s.containerInfo)}function vg(e,s,r,a,n){return ci(),af(n),s.flags|=256,Ns(e,s,r,a),s.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Qm(e){return{baseLanes:e,cachePool:null,transitions:null}}function bb(e,s,r){var a=s.pendingProps,n=Ut.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),zt(Ut,n&1),e===null)return Um(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=a.children,e=a.fallback,i?(a=s.mode,i=s.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nd(o,a,0,null),e=mn(e,a,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=Qm(r),s.memoizedState=Km,e):bf(s,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return p2(e,s,o,a,l,n,r);if(i){i=a.fallback,o=s.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=Da(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Da(l,i):(i=mn(i,o,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,o=e.child.memoizedState,o=o===null?Qm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,s.memoizedState=Km,a}return i=e.child,e=i.sibling,a=Da(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function bf(e,s){return s=Nd({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function Tl(e,s,r,a){return a!==null&&af(a),di(s,e.child,null,r),e=bf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function p2(e,s,r,a,n,i,o){if(r)return s.flags&256?(s.flags&=-257,a=Wu(Error(ze(422))),Tl(e,s,o,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=Nd({mode:"visible",children:a.children},n,0,null),i=mn(i,n,o,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&di(s,e.child,null,o),s.child.memoizedState=Qm(o),s.memoizedState=Km,i);if(!(s.mode&1))return Tl(e,s,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(ze(419)),a=Wu(i,a,void 0),Tl(e,s,o,a)}if(l=(o&e.childLanes)!==0,Ts||l){if(a=ss,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,ca(e,n),Ar(a,e,n,-1))}return _f(),a=Wu(Error(ze(421))),Tl(e,s,o,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=S2.bind(null,e),n._reactRetry=s,null):(e=i.treeContext,Qs=Ta(n.nextSibling),Xs=s,Mt=!0,wr=null,e!==null&&(nr[ir++]=aa,nr[ir++]=na,nr[ir++]=xn,aa=e.id,na=e.overflow,xn=s),s=bf(s,a.children),s.flags|=4096,s)}function jg(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),Bm(e.return,s,r)}function Vu(e,s,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function vb(e,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(Ns(e,s,a.children,r),a=Ut.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,r,s);else if(e.tag===19)jg(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(zt(Ut,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&Dc(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),Vu(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&Dc(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Vu(s,!0,r,null,i);break;case"together":Vu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function da(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),bn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(ze(153));if(s.child!==null){for(e=s.child,r=Da(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Da(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function f2(e,s,r){switch(s.tag){case 3:yb(s),ci();break;case 5:Hy(s);break;case 1:Fs(s.type)&&Pc(s);break;case 4:uf(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;zt(zc,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(zt(Ut,Ut.current&1),s.flags|=128,null):r&s.child.childLanes?bb(e,s,r):(zt(Ut,Ut.current&1),e=da(e,s,r),e!==null?e.sibling:null);zt(Ut,Ut.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return vb(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),zt(Ut,Ut.current),a)break;return null;case 22:case 23:return s.lanes=0,gb(e,s,r)}return da(e,s,r)}var jb,Ym,Nb,Cb;jb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ym=function(){};Nb=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,nn(Gr.current);var i=null;switch(r){case"input":n=ym(e,n),a=ym(e,a),i=[];break;case"select":n=qt({},n,{value:void 0}),a=qt({},a,{value:void 0}),i=[];break;case"textarea":n=jm(e,n),a=jm(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ac)}Cm(r,a);var o;r=null;for(h in n)if(!a.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var l=n[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ko.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in a){var c=a[h];if(l=n!=null?n[h]:void 0,a.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ko.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ft("scroll",e),i||l===c||(i=[])):(i=i||[]).push(h,c))}r&&(i=i||[]).push("style",r);var h=i;(s.updateQueue=h)&&(s.flags|=4)}};Cb=function(e,s,r,a){r!==a&&(s.flags|=4)};function Oi(e,s){if(!Mt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function us(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function h2(e,s,r){var a=s.pendingProps;switch(rf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(s),null;case 1:return Fs(s.type)&&kc(),us(s),null;case 3:return a=s.stateNode,ui(),Dt(Rs),Dt(bs),pf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,wr!==null&&(ap(wr),wr=null))),Ym(e,s),us(s),null;case 5:mf(s);var n=nn(Oo.current);if(r=s.type,e!==null&&s.stateNode!=null)Nb(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(ze(166));return us(s),null}if(e=nn(Gr.current),Pl(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[qr]=s,a[Io]=i,e=(s.mode&1)!==0,r){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(n=0;n<ao.length;n++)Ft(ao[n],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Eh(a,i),Ft("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ft("invalid",a);break;case"textarea":zh(a,i),Ft("invalid",a)}Cm(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&kl(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kl(a.textContent,l,e),n=["children",""+l]):ko.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ft("scroll",a)}switch(r){case"input":vl(a),Th(a,i,!0);break;case"textarea":vl(a),Rh(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Ac)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[qr]=s,e[Io]=a,jb(e,s,!1,!1),s.stateNode=e;e:{switch(o=wm(r,a),r){case"dialog":Ft("cancel",e),Ft("close",e),n=a;break;case"iframe":case"object":case"embed":Ft("load",e),n=a;break;case"video":case"audio":for(n=0;n<ao.length;n++)Ft(ao[n],e);n=a;break;case"source":Ft("error",e),n=a;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),n=a;break;case"details":Ft("toggle",e),n=a;break;case"input":Eh(e,a),n=ym(e,a),Ft("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=qt({},a,{value:void 0}),Ft("invalid",e);break;case"textarea":zh(e,a),n=jm(e,a),Ft("invalid",e);break;default:n=a}Cm(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ey(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&J0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Po(e,c):typeof c=="number"&&Po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ft("scroll",e):c!=null&&Bp(e,i,c,o))}switch(r){case"input":vl(e),Th(e,a,!1);break;case"textarea":vl(e),Rh(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Oa(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Jn(e,!!a.multiple,i,!1):a.defaultValue!=null&&Jn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ac)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return us(s),null;case 6:if(e&&s.stateNode!=null)Cb(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(ze(166));if(r=nn(Oo.current),nn(Gr.current),Pl(s)){if(a=s.stateNode,r=s.memoizedProps,a[qr]=s,(i=a.nodeValue!==r)&&(e=Xs,e!==null))switch(e.tag){case 3:kl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kl(a.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[qr]=s,s.stateNode=a}return us(s),null;case 13:if(Dt(Ut),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&Qs!==null&&s.mode&1&&!(s.flags&128))Uy(),ci(),s.flags|=98560,i=!1;else if(i=Pl(s),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(ze(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[qr]=s}else ci(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;us(s),i=!1}else wr!==null&&(ap(wr),wr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||Ut.current&1?es===0&&(es=3):_f())),s.updateQueue!==null&&(s.flags|=4),us(s),null);case 4:return ui(),Ym(e,s),e===null&&$o(s.stateNode.containerInfo),us(s),null;case 10:return lf(s.type._context),us(s),null;case 17:return Fs(s.type)&&kc(),us(s),null;case 19:if(Dt(Ut),i=s.memoizedState,i===null)return us(s),null;if(a=(s.flags&128)!==0,o=i.rendering,o===null)if(a)Oi(i,!1);else{if(es!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=Dc(e),o!==null){for(s.flags|=128,Oi(i,!1),a=o.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(Ut,Ut.current&1|2),s.child}e=e.sibling}i.tail!==null&&Gt()>pi&&(s.flags|=128,a=!0,Oi(i,!1),s.lanes=4194304)}else{if(!a)if(e=Dc(o),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return us(s),null}else 2*Gt()-i.renderingStartTime>pi&&r!==1073741824&&(s.flags|=128,a=!0,Oi(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Gt(),s.sibling=null,r=Ut.current,zt(Ut,a?r&1|2:r&1),s):(us(s),null);case 22:case 23:return wf(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Hs&1073741824&&(us(s),s.subtreeFlags&6&&(s.flags|=8192)):us(s),null;case 24:return null;case 25:return null}throw Error(ze(156,s.tag))}function g2(e,s){switch(rf(s),s.tag){case 1:return Fs(s.type)&&kc(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ui(),Dt(Rs),Dt(bs),pf(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return mf(s),null;case 13:if(Dt(Ut),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(ze(340));ci()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Dt(Ut),null;case 4:return ui(),null;case 10:return lf(s.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var zl=!1,gs=!1,x2=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Kn(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ht(e,s,a)}else r.current=null}function Xm(e,s,r){try{r()}catch(a){Ht(e,s,a)}}var Ng=!1;function y2(e,s){if(Fm=wc,e=ky(),tf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,d=0,p=e,m=null;t:for(;;){for(var u;p!==r||n!==0&&p.nodeType!==3||(l=o+n),p!==i||a!==0&&p.nodeType!==3||(c=o+a),p.nodeType===3&&(o+=p.nodeValue.length),(u=p.firstChild)!==null;)m=p,p=u;for(;;){if(p===e)break t;if(m===r&&++h===n&&(l=o),m===i&&++d===a&&(c=o),(u=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=u}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dm={focusedElem:e,selectionRange:r},wc=!1,Le=s;Le!==null;)if(s=Le,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Le=e;else for(;Le!==null;){s=Le;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,x=s.stateNode,N=x.getSnapshotBeforeUpdate(s.elementType===s.type?y:Nr(s.type,y),S);x.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=s.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(w){Ht(s,s.return,w)}if(e=s.sibling,e!==null){e.return=s.return,Le=e;break}Le=s.return}return g=Ng,Ng=!1,g}function go(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Xm(s,r,i)}n=n.next}while(n!==a)}}function vd(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function Jm(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function wb(e){var s=e.alternate;s!==null&&(e.alternate=null,wb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[qr],delete s[Io],delete s[Im],delete s[e2],delete s[t2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _b(e){return e.tag===5||e.tag===3||e.tag===4}function Cg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zm(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Ac));else if(a!==4&&(e=e.child,e!==null))for(Zm(e,s,r),e=e.sibling;e!==null;)Zm(e,s,r),e=e.sibling}function ep(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ep(e,s,r),e=e.sibling;e!==null;)ep(e,s,r),e=e.sibling}var ns=null,Cr=!1;function ya(e,s,r){for(r=r.child;r!==null;)Sb(e,s,r),r=r.sibling}function Sb(e,s,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(md,r)}catch{}switch(r.tag){case 5:gs||Kn(r,s);case 6:var a=ns,n=Cr;ns=null,ya(e,s,r),ns=a,Cr=n,ns!==null&&(Cr?(e=ns,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ns.removeChild(r.stateNode));break;case 18:ns!==null&&(Cr?(e=ns,r=r.stateNode,e.nodeType===8?Iu(e.parentNode,r):e.nodeType===1&&Iu(e,r),Ro(e)):Iu(ns,r.stateNode));break;case 4:a=ns,n=Cr,ns=r.stateNode.containerInfo,Cr=!0,ya(e,s,r),ns=a,Cr=n;break;case 0:case 11:case 14:case 15:if(!gs&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xm(r,s,o),n=n.next}while(n!==a)}ya(e,s,r);break;case 1:if(!gs&&(Kn(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Ht(r,s,l)}ya(e,s,r);break;case 21:ya(e,s,r);break;case 22:r.mode&1?(gs=(a=gs)||r.memoizedState!==null,ya(e,s,r),gs=a):ya(e,s,r);break;default:ya(e,s,r)}}function wg(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x2),s.forEach(function(a){var n=A2.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function br(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:ns=l.stateNode,Cr=!1;break e;case 3:ns=l.stateNode.containerInfo,Cr=!0;break e;case 4:ns=l.stateNode.containerInfo,Cr=!0;break e}l=l.return}if(ns===null)throw Error(ze(160));Sb(i,o,n),ns=null,Cr=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(h){Ht(n,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ab(s,e),s=s.sibling}function Ab(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(s,e),Rr(e),a&4){try{go(3,e,e.return),vd(3,e)}catch(y){Ht(e,e.return,y)}try{go(5,e,e.return)}catch(y){Ht(e,e.return,y)}}break;case 1:br(s,e),Rr(e),a&512&&r!==null&&Kn(r,r.return);break;case 5:if(br(s,e),Rr(e),a&512&&r!==null&&Kn(r,r.return),e.flags&32){var n=e.stateNode;try{Po(n,"")}catch(y){Ht(e,e.return,y)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Q0(n,i),wm(l,o);var h=wm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?ey(n,p):d==="dangerouslySetInnerHTML"?J0(n,p):d==="children"?Po(n,p):Bp(n,d,p,h)}switch(l){case"input":bm(n,i);break;case"textarea":Y0(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var u=i.value;u!=null?Jn(n,!!i.multiple,u,!1):m!==!!i.multiple&&(i.defaultValue!=null?Jn(n,!!i.multiple,i.defaultValue,!0):Jn(n,!!i.multiple,i.multiple?[]:"",!1))}n[Io]=i}catch(y){Ht(e,e.return,y)}}break;case 6:if(br(s,e),Rr(e),a&4){if(e.stateNode===null)throw Error(ze(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(y){Ht(e,e.return,y)}}break;case 3:if(br(s,e),Rr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(y){Ht(e,e.return,y)}break;case 4:br(s,e),Rr(e);break;case 13:br(s,e),Rr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Nf=Gt())),a&4&&wg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(gs=(h=gs)||d,br(s,e),gs=h):br(s,e),Rr(e),a&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(p=Le=d;Le!==null;){switch(m=Le,u=m.child,m.tag){case 0:case 11:case 14:case 15:go(4,m,m.return);break;case 1:Kn(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){a=m,r=m.return;try{s=a,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(y){Ht(a,r,y)}}break;case 5:Kn(m,m.return);break;case 22:if(m.memoizedState!==null){Sg(p);continue}}u!==null?(u.return=m,Le=u):Sg(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{n=p.stateNode,h?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Z0("display",o))}catch(y){Ht(e,e.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){Ht(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:br(s,e),Rr(e),a&4&&wg(e);break;case 21:break;default:br(s,e),Rr(e)}}function Rr(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(_b(r)){var a=r;break e}r=r.return}throw Error(ze(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Po(n,""),a.flags&=-33);var i=Cg(e);ep(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=Cg(e);Zm(e,l,o);break;default:throw Error(ze(161))}}catch(c){Ht(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function b2(e,s,r){Le=e,kb(e)}function kb(e,s,r){for(var a=(e.mode&1)!==0;Le!==null;){var n=Le,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||zl;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||gs;l=zl;var h=gs;if(zl=o,(gs=c)&&!h)for(Le=n;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?Ag(n):c!==null?(c.return=o,Le=c):Ag(n);for(;i!==null;)Le=i,kb(i),i=i.sibling;Le=n,zl=l,gs=h}_g(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,Le=i):_g(e)}}function _g(e){for(;Le!==null;){var s=Le;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:gs||vd(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!gs)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:Nr(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&cg(s,i,a);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}cg(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Ro(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}gs||s.flags&512&&Jm(s)}catch(m){Ht(s,s.return,m)}}if(s===e){Le=null;break}if(r=s.sibling,r!==null){r.return=s.return,Le=r;break}Le=s.return}}function Sg(e){for(;Le!==null;){var s=Le;if(s===e){Le=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Le=r;break}Le=s.return}}function Ag(e){for(;Le!==null;){var s=Le;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{vd(4,s)}catch(c){Ht(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){Ht(s,n,c)}}var i=s.return;try{Jm(s)}catch(c){Ht(s,i,c)}break;case 5:var o=s.return;try{Jm(s)}catch(c){Ht(s,o,c)}}}catch(c){Ht(s,s.return,c)}if(s===e){Le=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Le=l;break}Le=s.return}}var v2=Math.ceil,Ic=ga.ReactCurrentDispatcher,vf=ga.ReactCurrentOwner,ur=ga.ReactCurrentBatchConfig,ut=0,ss=null,Xt=null,os=0,Hs=0,Qn=Wa(0),es=0,Wo=null,bn=0,jd=0,jf=0,xo=null,Ps=null,Nf=0,pi=1/0,ta=null,Lc=!1,tp=null,Ra=null,Rl=!1,Sa=null,Oc=0,yo=0,sp=null,sc=-1,rc=0;function Cs(){return ut&6?Gt():sc!==-1?sc:sc=Gt()}function Fa(e){return e.mode&1?ut&2&&os!==0?os&-os:r2.transition!==null?(rc===0&&(rc=my()),rc):(e=wt,e!==0||(e=window.event,e=e===void 0?16:by(e.type)),e):1}function Ar(e,s,r,a){if(50<yo)throw yo=0,sp=null,Error(ze(185));tl(e,r,a),(!(ut&2)||e!==ss)&&(e===ss&&(!(ut&2)&&(jd|=r),es===4&&wa(e,os)),Ds(e,a),r===1&&ut===0&&!(s.mode&1)&&(pi=Gt()+500,xd&&Va()))}function Ds(e,s){var r=e.callbackNode;rN(e,s);var a=Cc(e,e===ss?os:0);if(a===0)r!==null&&$h(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&$h(r),s===1)e.tag===0?s2(kg.bind(null,e)):Iy(kg.bind(null,e)),JN(function(){!(ut&6)&&Va()}),r=null;else{switch(py(a)){case 1:r=Gp;break;case 4:r=dy;break;case 16:r=Nc;break;case 536870912:r=uy;break;default:r=Nc}r=$b(r,Pb.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Pb(e,s){if(sc=-1,rc=0,ut&6)throw Error(ze(327));var r=e.callbackNode;if(ri()&&e.callbackNode!==r)return null;var a=Cc(e,e===ss?os:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Uc(e,a);else{s=a;var n=ut;ut|=2;var i=Tb();(ss!==e||os!==s)&&(ta=null,pi=Gt()+500,un(e,s));do try{C2();break}catch(l){Eb(e,l)}while(!0);of(),Ic.current=i,ut=n,Xt!==null?s=0:(ss=null,os=0,s=es)}if(s!==0){if(s===2&&(n=Pm(e),n!==0&&(a=n,s=rp(e,n))),s===1)throw r=Wo,un(e,0),wa(e,a),Ds(e,Gt()),r;if(s===6)wa(e,a);else{if(n=e.current.alternate,!(a&30)&&!j2(n)&&(s=Uc(e,a),s===2&&(i=Pm(e),i!==0&&(a=i,s=rp(e,i))),s===1))throw r=Wo,un(e,0),wa(e,a),Ds(e,Gt()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(ze(345));case 2:en(e,Ps,ta);break;case 3:if(wa(e,a),(a&130023424)===a&&(s=Nf+500-Gt(),10<s)){if(Cc(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Cs(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Mm(en.bind(null,e,Ps,ta),s);break}en(e,Ps,ta);break;case 4:if(wa(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var o=31-Sr(a);i=1<<o,o=s[o],o>n&&(n=o),a&=~i}if(a=n,a=Gt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*v2(a/1960))-a,10<a){e.timeoutHandle=Mm(en.bind(null,e,Ps,ta),a);break}en(e,Ps,ta);break;case 5:en(e,Ps,ta);break;default:throw Error(ze(329))}}}return Ds(e,Gt()),e.callbackNode===r?Pb.bind(null,e):null}function rp(e,s){var r=xo;return e.current.memoizedState.isDehydrated&&(un(e,s).flags|=256),e=Uc(e,s),e!==2&&(s=Ps,Ps=r,s!==null&&ap(s)),e}function ap(e){Ps===null?Ps=e:Ps.push.apply(Ps,e)}function j2(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!kr(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wa(e,s){for(s&=~jf,s&=~jd,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-Sr(s),a=1<<r;e[r]=-1,s&=~a}}function kg(e){if(ut&6)throw Error(ze(327));ri();var s=Cc(e,0);if(!(s&1))return Ds(e,Gt()),null;var r=Uc(e,s);if(e.tag!==0&&r===2){var a=Pm(e);a!==0&&(s=a,r=rp(e,a))}if(r===1)throw r=Wo,un(e,0),wa(e,s),Ds(e,Gt()),r;if(r===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,en(e,Ps,ta),Ds(e,Gt()),null}function Cf(e,s){var r=ut;ut|=1;try{return e(s)}finally{ut=r,ut===0&&(pi=Gt()+500,xd&&Va())}}function vn(e){Sa!==null&&Sa.tag===0&&!(ut&6)&&ri();var s=ut;ut|=1;var r=ur.transition,a=wt;try{if(ur.transition=null,wt=1,e)return e()}finally{wt=a,ur.transition=r,ut=s,!(ut&6)&&Va()}}function wf(){Hs=Qn.current,Dt(Qn)}function un(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XN(r)),Xt!==null)for(r=Xt.return;r!==null;){var a=r;switch(rf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&kc();break;case 3:ui(),Dt(Rs),Dt(bs),pf();break;case 5:mf(a);break;case 4:ui();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:lf(a.type._context);break;case 22:case 23:wf()}r=r.return}if(ss=e,Xt=e=Da(e.current,null),os=Hs=s,es=0,Wo=null,jf=jd=bn=0,Ps=xo=null,an!==null){for(s=0;s<an.length;s++)if(r=an[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}r.pending=a}an=null}return e}function Eb(e,s){do{var r=Xt;try{if(of(),Zl.current=Mc,$c){for(var a=Bt.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}$c=!1}if(yn=0,ts=Zt=Bt=null,ho=!1,Uo=0,vf.current=null,r===null||r.return===null){es=1,Wo=s,Xt=null;break}e:{var i=e,o=r.return,l=r,c=s;if(s=os,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var u=hg(o);if(u!==null){u.flags&=-257,gg(u,o,l,i,s),u.mode&1&&fg(i,h,s),s=u,c=h;var g=s.updateQueue;if(g===null){var y=new Set;y.add(c),s.updateQueue=y}else g.add(c);break e}else{if(!(s&1)){fg(i,h,s),_f();break e}c=Error(ze(426))}}else if(Mt&&l.mode&1){var S=hg(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),gg(S,o,l,i,s),af(mi(c,l));break e}}i=c=mi(c,l),es!==4&&(es=2),xo===null?xo=[i]:xo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var x=pb(i,c,s);lg(i,x);break e;case 1:l=c;var N=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){i.flags|=65536,s&=-s,i.lanes|=s;var w=fb(i,l,s);lg(i,w);break e}}i=i.return}while(i!==null)}Rb(r)}catch(T){s=T,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function Tb(){var e=Ic.current;return Ic.current=Mc,e===null?Mc:e}function _f(){(es===0||es===3||es===2)&&(es=4),ss===null||!(bn&268435455)&&!(jd&268435455)||wa(ss,os)}function Uc(e,s){var r=ut;ut|=2;var a=Tb();(ss!==e||os!==s)&&(ta=null,un(e,s));do try{N2();break}catch(n){Eb(e,n)}while(!0);if(of(),ut=r,Ic.current=a,Xt!==null)throw Error(ze(261));return ss=null,os=0,es}function N2(){for(;Xt!==null;)zb(Xt)}function C2(){for(;Xt!==null&&!K1();)zb(Xt)}function zb(e){var s=Db(e.alternate,e,Hs);e.memoizedProps=e.pendingProps,s===null?Rb(e):Xt=s,vf.current=null}function Rb(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=g2(r,s),r!==null){r.flags&=32767,Xt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{es=6,Xt=null;return}}else if(r=h2(r,s,Hs),r!==null){Xt=r;return}if(s=s.sibling,s!==null){Xt=s;return}Xt=s=e}while(s!==null);es===0&&(es=5)}function en(e,s,r){var a=wt,n=ur.transition;try{ur.transition=null,wt=1,w2(e,s,r,a)}finally{ur.transition=n,wt=a}return null}function w2(e,s,r,a){do ri();while(Sa!==null);if(ut&6)throw Error(ze(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aN(e,i),e===ss&&(Xt=ss=null,os=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rl||(Rl=!0,$b(Nc,function(){return ri(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ur.transition,ur.transition=null;var o=wt;wt=1;var l=ut;ut|=4,vf.current=null,y2(e,r),Ab(r,e),WN(Dm),wc=!!Fm,Dm=Fm=null,e.current=r,b2(r),Q1(),ut=l,wt=o,ur.transition=i}else e.current=r;if(Rl&&(Rl=!1,Sa=e,Oc=n),i=e.pendingLanes,i===0&&(Ra=null),J1(r.stateNode),Ds(e,Gt()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Lc)throw Lc=!1,e=tp,tp=null,e;return Oc&1&&e.tag!==0&&ri(),i=e.pendingLanes,i&1?e===sp?yo++:(yo=0,sp=e):yo=0,Va(),null}function ri(){if(Sa!==null){var e=py(Oc),s=ur.transition,r=wt;try{if(ur.transition=null,wt=16>e?16:e,Sa===null)var a=!1;else{if(e=Sa,Sa=null,Oc=0,ut&6)throw Error(ze(331));var n=ut;for(ut|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Le=h;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:go(8,d,i)}var p=d.child;if(p!==null)p.return=d,Le=p;else for(;Le!==null;){d=Le;var m=d.sibling,u=d.return;if(wb(d),d===h){Le=null;break}if(m!==null){m.return=u,Le=m;break}Le=u}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:go(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Le=x;break e}Le=i.return}}var N=e.current;for(Le=N;Le!==null;){o=Le;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Le=_;else e:for(o=N;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vd(9,l)}}catch(T){Ht(l,l.return,T)}if(l===o){Le=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Le=w;break e}Le=l.return}}if(ut=n,Va(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(md,e)}catch{}a=!0}return a}finally{wt=r,ur.transition=s}}return!1}function Pg(e,s,r){s=mi(r,s),s=pb(e,s,1),e=za(e,s,1),s=Cs(),e!==null&&(tl(e,1,s),Ds(e,s))}function Ht(e,s,r){if(e.tag===3)Pg(e,e,r);else for(;s!==null;){if(s.tag===3){Pg(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ra===null||!Ra.has(a))){e=mi(r,e),e=fb(s,e,1),s=za(s,e,1),e=Cs(),s!==null&&(tl(s,1,e),Ds(s,e));break}}s=s.return}}function _2(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=Cs(),e.pingedLanes|=e.suspendedLanes&r,ss===e&&(os&r)===r&&(es===4||es===3&&(os&130023424)===os&&500>Gt()-Nf?un(e,0):jf|=r),Ds(e,s)}function Fb(e,s){s===0&&(e.mode&1?(s=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):s=1);var r=Cs();e=ca(e,s),e!==null&&(tl(e,s,r),Ds(e,r))}function S2(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Fb(e,r)}function A2(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ze(314))}a!==null&&a.delete(s),Fb(e,r)}var Db;Db=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Rs.current)Ts=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Ts=!1,f2(e,s,r);Ts=!!(e.flags&131072)}else Ts=!1,Mt&&s.flags&1048576&&Ly(s,Tc,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;tc(e,s),e=s.pendingProps;var n=li(s,bs.current);si(s,r),n=hf(null,s,a,e,n,r);var i=gf();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Fs(a)?(i=!0,Pc(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,df(s),n.updater=bd,s.stateNode=n,n._reactInternals=s,Wm(s,a,e,r),s=Gm(null,s,a,!0,i,r)):(s.tag=0,Mt&&i&&sf(s),Ns(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(tc(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=P2(a),e=Nr(a,e),n){case 0:s=Hm(null,s,a,e,r);break e;case 1:s=bg(null,s,a,e,r);break e;case 11:s=xg(null,s,a,e,r);break e;case 14:s=yg(null,s,a,Nr(a.type,e),r);break e}throw Error(ze(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Nr(a,n),Hm(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Nr(a,n),bg(e,s,a,n,r);case 3:e:{if(yb(s),e===null)throw Error(ze(387));a=s.pendingProps,i=s.memoizedState,n=i.element,Vy(e,s),Fc(s,a,null,r);var o=s.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=mi(Error(ze(423)),s),s=vg(e,s,a,r,n);break e}else if(a!==n){n=mi(Error(ze(424)),s),s=vg(e,s,a,r,n);break e}else for(Qs=Ta(s.stateNode.containerInfo.firstChild),Xs=s,Mt=!0,wr=null,r=qy(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ci(),a===n){s=da(e,s,r);break e}Ns(e,s,a,r)}s=s.child}return s;case 5:return Hy(s),e===null&&Um(s),a=s.type,n=s.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,$m(a,n)?o=null:i!==null&&$m(a,i)&&(s.flags|=32),xb(e,s),Ns(e,s,o,r),s.child;case 6:return e===null&&Um(s),null;case 13:return bb(e,s,r);case 4:return uf(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=di(s,null,a,r):Ns(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Nr(a,n),xg(e,s,a,n,r);case 7:return Ns(e,s,s.pendingProps,r),s.child;case 8:return Ns(e,s,s.pendingProps.children,r),s.child;case 12:return Ns(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,o=n.value,zt(zc,a._currentValue),a._currentValue=o,i!==null)if(kr(i.value,o)){if(i.children===n.children&&!Rs.current){s=da(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=ia(-1,r&-r),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Bm(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Bm(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ns(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,si(s,r),n=mr(n),a=a(n),s.flags|=1,Ns(e,s,a,r),s.child;case 14:return a=s.type,n=Nr(a,s.pendingProps),n=Nr(a.type,n),yg(e,s,a,n,r);case 15:return hb(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Nr(a,n),tc(e,s),s.tag=1,Fs(a)?(e=!0,Pc(s)):e=!1,si(s,r),mb(s,a,n),Wm(s,a,n,r),Gm(null,s,a,!0,e,r);case 19:return vb(e,s,r);case 22:return gb(e,s,r)}throw Error(ze(156,s.tag))};function $b(e,s){return cy(e,s)}function k2(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,s,r,a){return new k2(e,s,r,a)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P2(e){if(typeof e=="function")return Sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wp)return 11;if(e===Vp)return 14}return 2}function Da(e,s){var r=e.alternate;return r===null?(r=cr(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ac(e,s,r,a,n,i){var o=2;if(a=e,typeof e=="function")Sf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return mn(r.children,n,i,s);case qp:o=8,n|=8;break;case fm:return e=cr(12,r,s,n|2),e.elementType=fm,e.lanes=i,e;case hm:return e=cr(13,r,s,n),e.elementType=hm,e.lanes=i,e;case gm:return e=cr(19,r,s,n),e.elementType=gm,e.lanes=i,e;case H0:return Nd(r,n,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W0:o=10;break e;case V0:o=9;break e;case Wp:o=11;break e;case Vp:o=14;break e;case va:o=16,a=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return s=cr(o,r,s,n),s.elementType=e,s.type=a,s.lanes=i,s}function mn(e,s,r,a){return e=cr(7,e,a,s),e.lanes=r,e}function Nd(e,s,r,a){return e=cr(22,e,a,s),e.elementType=H0,e.lanes=r,e.stateNode={isHidden:!1},e}function Hu(e,s,r){return e=cr(6,e,null,s),e.lanes=r,e}function Gu(e,s,r){return s=cr(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function E2(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Af(e,s,r,a,n,i,o,l,c){return e=new E2(e,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=cr(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(i),e}function T2(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function Mb(e){if(!e)return Ua;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(ze(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Fs(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ze(171))}if(e.tag===1){var r=e.type;if(Fs(r))return My(e,r,s)}return s}function Ib(e,s,r,a,n,i,o,l,c){return e=Af(r,a,!0,e,n,i,o,l,c),e.context=Mb(null),r=e.current,a=Cs(),n=Fa(r),i=ia(a,n),i.callback=s??null,za(r,i,n),e.current.lanes=n,tl(e,n,a),Ds(e,a),e}function Cd(e,s,r,a){var n=s.current,i=Cs(),o=Fa(n);return r=Mb(r),s.context===null?s.context=r:s.pendingContext=r,s=ia(i,o),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=za(n,s,o),e!==null&&(Ar(e,n,o,i),Jl(e,n,o)),o}function Bc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eg(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function kf(e,s){Eg(e,s),(e=e.alternate)&&Eg(e,s)}function z2(){return null}var Lb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pf(e){this._internalRoot=e}wd.prototype.render=Pf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(ze(409));Cd(e,s,null,null)};wd.prototype.unmount=Pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;vn(function(){Cd(null,e,null,null)}),s[la]=null}};function wd(e){this._internalRoot=e}wd.prototype.unstable_scheduleHydration=function(e){if(e){var s=gy();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Ca.length&&s!==0&&s<Ca[r].priority;r++);Ca.splice(r,0,e),r===0&&yy(e)}};function Ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function R2(e,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var h=Bc(o);i.call(h)}}var o=Ib(s,a,e,0,null,!1,!1,"",Tg);return e._reactRootContainer=o,e[la]=o.current,$o(e.nodeType===8?e.parentNode:e),vn(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var h=Bc(c);l.call(h)}}var c=Af(e,0,!1,null,null,!1,!1,"",Tg);return e._reactRootContainer=c,e[la]=c.current,$o(e.nodeType===8?e.parentNode:e),vn(function(){Cd(s,c,r,a)}),c}function Sd(e,s,r,a,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=Bc(o);l.call(c)}}Cd(s,o,e,n)}else o=R2(r,s,e,n,a);return Bc(o)}fy=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=ro(s.pendingLanes);r!==0&&(Kp(s,r|1),Ds(s,Gt()),!(ut&6)&&(pi=Gt()+500,Va()))}break;case 13:vn(function(){var a=ca(e,1);if(a!==null){var n=Cs();Ar(a,e,1,n)}}),kf(e,1)}};Qp=function(e){if(e.tag===13){var s=ca(e,134217728);if(s!==null){var r=Cs();Ar(s,e,134217728,r)}kf(e,134217728)}};hy=function(e){if(e.tag===13){var s=Fa(e),r=ca(e,s);if(r!==null){var a=Cs();Ar(r,e,s,a)}kf(e,s)}};gy=function(){return wt};xy=function(e,s){var r=wt;try{return wt=e,s()}finally{wt=r}};Sm=function(e,s,r){switch(s){case"input":if(bm(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=gd(a);if(!n)throw Error(ze(90));K0(a),bm(a,n)}}}break;case"textarea":Y0(e,r);break;case"select":s=r.value,s!=null&&Jn(e,!!r.multiple,s,!1)}};ry=Cf;ay=vn;var F2={usingClientEntryPoint:!1,Events:[rl,qn,gd,ty,sy,Cf]},Ui={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D2={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{md=Fl.inject(D2),Hr=Fl}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;tr.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(s))throw Error(ze(200));return T2(e,s,null,r)};tr.createRoot=function(e,s){if(!Ef(e))throw Error(ze(299));var r=!1,a="",n=Lb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Af(e,1,!1,null,null,r,!1,a,n),e[la]=s.current,$o(e.nodeType===8?e.parentNode:e),new Pf(s)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=oy(s),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return vn(e)};tr.hydrate=function(e,s,r){if(!_d(s))throw Error(ze(200));return Sd(null,e,s,!0,r)};tr.hydrateRoot=function(e,s,r){if(!Ef(e))throw Error(ze(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",o=Lb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=Ib(s,null,e,1,r??null,n,!1,i,o),e[la]=s.current,$o(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new wd(s)};tr.render=function(e,s,r){if(!_d(s))throw Error(ze(200));return Sd(null,e,s,!1,r)};tr.unmountComponentAtNode=function(e){if(!_d(e))throw Error(ze(40));return e._reactRootContainer?(vn(function(){Sd(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1};tr.unstable_batchedUpdates=Cf;tr.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!_d(r))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Sd(e,s,r,!1,a)};tr.version="18.3.1-next-f1338f8080-20240426";function Ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ob)}catch(e){console.error(e)}}Ob(),O0.exports=tr;var Tf=O0.exports;const Dl=Dp(Tf);var zg=Tf;mm.createRoot=zg.createRoot,mm.hydrateRoot=zg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vo.apply(this,arguments)}var Aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Aa||(Aa={}));const Rg="popstate";function $2(e){e===void 0&&(e={});function s(a,n){let{pathname:i,search:o,hash:l}=a.location;return np("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:qc(n)}return I2(s,r,null,e)}function Kt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function zf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function M2(){return Math.random().toString(36).substr(2,8)}function Fg(e,s){return{usr:e.state,key:e.key,idx:s}}function np(e,s,r,a){return r===void 0&&(r=null),Vo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?_i(s):s,{state:r,key:s&&s.key||a||M2()})}function qc(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function _i(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function I2(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Aa.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(Vo({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Aa.Pop;let S=d(),x=S==null?null:S-h;h=S,c&&c({action:l,location:y.location,delta:x})}function m(S,x){l=Aa.Push;let N=np(y.location,S,x);h=d()+1;let _=Fg(N,h),w=y.createHref(N);try{o.pushState(_,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function u(S,x){l=Aa.Replace;let N=np(y.location,S,x);h=d();let _=Fg(N,h),w=y.createHref(N);o.replaceState(_,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function g(S){let x=n.location.origin!=="null"?n.location.origin:n.location.href,N=typeof S=="string"?S:qc(S);return N=N.replace(/ $/,"%20"),Kt(x,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,x)}let y={get action(){return l},get location(){return e(n,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Rg,p),c=S,()=>{n.removeEventListener(Rg,p),c=null}},createHref(S){return s(n,S)},createURL:g,encodeLocation(S){let x=g(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:u,go(S){return o.go(S)}};return y}var Dg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dg||(Dg={}));function L2(e,s,r){return r===void 0&&(r="/"),O2(e,s,r)}function O2(e,s,r,a){let n=typeof s=="string"?_i(s):s,i=Rf(n.pathname||"/",r);if(i==null)return null;let o=Ub(e);U2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=Z2(i);l=Y2(o[c],h)}return l}function Ub(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let h=$a([a,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Ub(i.children,s,d,h)),!(i.path==null&&!i.index)&&s.push({path:h,score:K2(h,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of Bb(i.path))n(i,o,c)}),s}function Bb(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Bb(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function U2(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Q2(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const B2=/^:[\w-]+$/,q2=3,W2=2,V2=1,H2=10,G2=-2,$g=e=>e==="*";function K2(e,s){let r=e.split("/"),a=r.length;return r.some($g)&&(a+=G2),s&&(a+=W2),r.filter(n=>!$g(n)).reduce((n,i)=>n+(B2.test(i)?q2:i===""?V2:H2),a)}function Q2(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function Y2(e,s,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],h=l===a.length-1,d=i==="/"?s:s.slice(i.length)||"/",p=X2({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),m=c.route;if(!p)return null;Object.assign(n,p.params),o.push({params:n,pathname:$a([i,p.pathname]),pathnameBase:aC($a([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=$a([i,p.pathnameBase]))}return o}function X2(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=J2(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((h,d,p)=>{let{paramName:m,isOptional:u}=d;if(m==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[p];return u&&!g?h[m]=void 0:h[m]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function J2(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),zf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Z2(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return zf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function Rf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tC=e=>eC.test(e);function sC(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?_i(e):e,i;if(r)if(tC(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),zf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Mg(r.substring(1),"/"):i=Mg(r,s)}else i=s;return{pathname:i,search:nC(a),hash:iC(n)}}function Mg(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Ku(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rC(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ff(e,s){let r=rC(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Df(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=_i(e):(n=Vo({},e),Kt(!n.pathname||!n.pathname.includes("?"),Ku("?","pathname","search",n)),Kt(!n.pathname||!n.pathname.includes("#"),Ku("#","pathname","hash",n)),Kt(!n.search||!n.search.includes("#"),Ku("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let p=s.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;n.pathname=m.join("/")}l=p>=0?s[p]:"/"}let c=sC(n,l),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const $a=e=>e.join("/").replace(/\/\/+/g,"/"),aC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qb=["post","put","patch","delete"];new Set(qb);const lC=["get",...qb];new Set(lC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ho.apply(this,arguments)}const $f=f.createContext(null),cC=f.createContext(null),Ha=f.createContext(null),Ad=f.createContext(null),Ga=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=f.createContext(null);function dC(e,s){let{relative:r}=s===void 0?{}:s;Si()||Kt(!1);let{basename:a,navigator:n}=f.useContext(Ha),{hash:i,pathname:o,search:l}=Hb(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:$a([a,o])),n.createHref({pathname:c,search:l,hash:i})}function Si(){return f.useContext(Ad)!=null}function Ka(){return Si()||Kt(!1),f.useContext(Ad).location}function Vb(e){f.useContext(Ha).static||f.useLayoutEffect(e)}function Er(){let{isDataRoute:e}=f.useContext(Ga);return e?CC():uC()}function uC(){Si()||Kt(!1);let e=f.useContext($f),{basename:s,future:r,navigator:a}=f.useContext(Ha),{matches:n}=f.useContext(Ga),{pathname:i}=Ka(),o=JSON.stringify(Ff(n,r.v7_relativeSplatPath)),l=f.useRef(!1);return Vb(()=>{l.current=!0}),f.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){a.go(h);return}let p=Df(h,JSON.parse(o),i,d.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:$a([s,p.pathname])),(d.replace?a.replace:a.push)(p,d.state,d)},[s,a,o,i,e])}function Hb(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=f.useContext(Ha),{matches:n}=f.useContext(Ga),{pathname:i}=Ka(),o=JSON.stringify(Ff(n,a.v7_relativeSplatPath));return f.useMemo(()=>Df(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function mC(e,s){return pC(e,s)}function pC(e,s,r,a){Si()||Kt(!1);let{navigator:n}=f.useContext(Ha),{matches:i}=f.useContext(Ga),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Ka(),d;if(s){var p;let S=typeof s=="string"?_i(s):s;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||Kt(!1),d=S}else d=h;let m=d.pathname||"/",u=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");u="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=L2(e,{pathname:u}),y=yC(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:$a([c,n.encodeLocation?n.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:$a([c,n.encodeLocation?n.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,a);return s&&y?f.createElement(Ad.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Aa.Pop}},y):y}function fC(){let e=NC(),s=oC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},s),r?f.createElement("pre",{style:n},r):null,null)}const hC=f.createElement(fC,null);class gC extends f.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?f.createElement(Ga.Provider,{value:this.props.routeContext},f.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xC(e){let{routeContext:s,match:r,children:a}=e,n=f.useContext($f);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Ga.Provider,{value:s},a)}function yC(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Kt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:u}=r,g=p.route.loader&&m[p.route.id]===void 0&&(!u||u[p.route.id]===void 0);if(p.route.lazy||g){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let u,g=!1,y=null,S=null;r&&(u=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||hC,c&&(h<0&&m===0?(wC("route-fallback"),g=!0,S=null):h===m&&(g=!0,S=p.route.hydrateFallbackElement||null)));let x=s.concat(o.slice(0,m+1)),N=()=>{let _;return u?_=y:g?_=S:p.route.Component?_=f.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,f.createElement(xC,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:_})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?f.createElement(gC,{location:r.location,revalidation:r.revalidation,component:y,error:u,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}var Gb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gb||{}),Kb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kb||{});function bC(e){let s=f.useContext($f);return s||Kt(!1),s}function vC(e){let s=f.useContext(cC);return s||Kt(!1),s}function jC(e){let s=f.useContext(Ga);return s||Kt(!1),s}function Qb(e){let s=jC(),r=s.matches[s.matches.length-1];return r.route.id||Kt(!1),r.route.id}function NC(){var e;let s=f.useContext(Wb),r=vC(),a=Qb();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function CC(){let{router:e}=bC(Gb.UseNavigateStable),s=Qb(Kb.UseNavigateStable),r=f.useRef(!1);return Vb(()=>{r.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Ho({fromRouteId:s},i)))},[e,s])}const Ig={};function wC(e,s,r){Ig[e]||(Ig[e]=!0)}function _C(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nc(e){let{to:s,replace:r,state:a,relative:n}=e;Si()||Kt(!1);let{future:i,static:o}=f.useContext(Ha),{matches:l}=f.useContext(Ga),{pathname:c}=Ka(),h=Er(),d=Df(s,Ff(l,i.v7_relativeSplatPath),c,n==="path"),p=JSON.stringify(d);return f.useEffect(()=>h(JSON.parse(p),{replace:r,state:a,relative:n}),[h,p,n,r,a]),null}function Ge(e){Kt(!1)}function SC(e){let{basename:s="/",children:r=null,location:a,navigationType:n=Aa.Pop,navigator:i,static:o=!1,future:l}=e;Si()&&Kt(!1);let c=s.replace(/^\/*/,"/"),h=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Ho({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=_i(a));let{pathname:d="/",search:p="",hash:m="",state:u=null,key:g="default"}=a,y=f.useMemo(()=>{let S=Rf(d,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:u,key:g},navigationType:n}},[c,d,p,m,u,g,n]);return y==null?null:f.createElement(Ha.Provider,{value:h},f.createElement(Ad.Provider,{children:r,value:y}))}function Bi(e){let{children:s,location:r}=e;return mC(ip(s),r)}new Promise(()=>{});function ip(e,s){s===void 0&&(s=[]);let r=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...s,n];if(a.type===f.Fragment){r.push.apply(r,ip(a.props.children,i));return}a.type!==Ge&&Kt(!1),!a.props.index||!a.props.children||Kt(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=ip(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},op.apply(this,arguments)}function AC(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function kC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PC(e,s){return e.button===0&&(!s||s==="_self")&&!kC(e)}function lp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function EC(e,s){let r=lp(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const TC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zC="6";try{window.__reactRouterVersion=zC}catch{}const RC="startTransition",Lg=yc[RC];function FC(e){let{basename:s,children:r,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=$2({window:n,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:h}=a||{},d=f.useCallback(p=>{h&&Lg?Lg(()=>c(p)):c(p)},[c,h]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>_C(a),[a]),f.createElement(SC,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const DC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$l=f.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:d,viewTransition:p}=s,m=AC(s,TC),{basename:u}=f.useContext(Ha),g,y=!1;if(typeof h=="string"&&$C.test(h)&&(g=h,DC))try{let _=new URL(window.location.href),w=h.startsWith("//")?new URL(_.protocol+h):new URL(h),T=Rf(w.pathname,u);w.origin===_.origin&&T!=null?h=T+w.search+w.hash:y=!0}catch{}let S=dC(h,{relative:n}),x=MC(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:p});function N(_){a&&a(_),_.defaultPrevented||x(_)}return f.createElement("a",op({},m,{href:g||S,onClick:y||i?a:N,ref:r,target:c}))});var Og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var Ug;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function MC(e,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=Er(),h=Ka(),d=Hb(e,{relative:o});return f.useCallback(p=>{if(PC(p,r)){p.preventDefault();let m=a!==void 0?a:qc(h)===qc(d);c(e,{replace:m,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,d,a,n,r,e,i,o,l])}function kd(e){let s=f.useRef(lp(e)),r=f.useRef(!1),a=Ka(),n=f.useMemo(()=>EC(a.search,r.current?null:s.current),[a.search]),i=Er(),o=f.useCallback((l,c)=>{const h=lp(typeof l=="function"?l(n):l);r.current=!0,i("?"+h,c)},[i,n]);return[n,o]}function Yb(e,s){return function(){return e.apply(s,arguments)}}const{toString:IC}=Object.prototype,{getPrototypeOf:Mf}=Object,{iterator:Pd,toStringTag:Xb}=Symbol,Ed=(e=>s=>{const r=IC.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tr=e=>(e=e.toLowerCase(),s=>Ed(s)===e),Td=e=>s=>typeof s===e,{isArray:Ai}=Array,fi=Td("undefined");function nl(e){return e!==null&&!fi(e)&&e.constructor!==null&&!fi(e.constructor)&&$s(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jb=Tr("ArrayBuffer");function LC(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Jb(e.buffer),s}const OC=Td("string"),$s=Td("function"),Zb=Td("number"),il=e=>e!==null&&typeof e=="object",UC=e=>e===!0||e===!1,ic=e=>{if(Ed(e)!=="object")return!1;const s=Mf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Xb in e)&&!(Pd in e)},BC=e=>{if(!il(e)||nl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qC=Tr("Date"),WC=Tr("File"),VC=Tr("Blob"),HC=Tr("FileList"),GC=e=>il(e)&&$s(e.pipe),KC=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||$s(e.append)&&((s=Ed(e))==="formdata"||s==="object"&&$s(e.toString)&&e.toString()==="[object FormData]"))},QC=Tr("URLSearchParams"),[YC,XC,JC,ZC]=["ReadableStream","Request","Response","Headers"].map(Tr),ew=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ol(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Ai(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(nl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,e[l],l,e)}}function ev(e,s){if(nl(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const on=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tv=e=>!fi(e)&&e!==on;function cp(){const{caseless:e,skipUndefined:s}=tv(this)&&this||{},r={},a=(n,i)=>{const o=e&&ev(r,i)||i;ic(r[o])&&ic(n)?r[o]=cp(r[o],n):ic(n)?r[o]=cp({},n):Ai(n)?r[o]=n.slice():(!s||!fi(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ol(arguments[n],a);return r}const tw=(e,s,r,{allOwnKeys:a}={})=>(ol(s,(n,i)=>{r&&$s(n)?e[i]=Yb(n,r):e[i]=n},{allOwnKeys:a}),e),sw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rw=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},aw=(e,s,r,a)=>{let n,i,o;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,s))&&!l[o]&&(s[o]=e[o],l[o]=!0);e=r!==!1&&Mf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},nw=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},iw=e=>{if(!e)return null;if(Ai(e))return e;let s=e.length;if(!Zb(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},ow=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Mf(Uint8Array)),lw=(e,s)=>{const a=(e&&e[Pd]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(e,i[0],i[1])}},cw=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},dw=Tr("HTMLFormElement"),uw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Bg=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),mw=Tr("RegExp"),sv=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};ol(r,(n,i)=>{let o;(o=s(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},pw=e=>{sv(e,(s,r)=>{if($s(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if($s(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fw=(e,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Ai(e)?a(e):a(String(e).split(s)),r},hw=()=>{},gw=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function xw(e){return!!(e&&$s(e.append)&&e[Xb]==="FormData"&&e[Pd])}const yw=e=>{const s=new Array(10),r=(a,n)=>{if(il(a)){if(s.indexOf(a)>=0)return;if(nl(a))return a;if(!("toJSON"in a)){s[n]=a;const i=Ai(a)?[]:{};return ol(a,(o,l)=>{const c=r(o,n+1);!fi(c)&&(i[l]=c)}),s[n]=void 0,i}}return a};return r(e,0)},bw=Tr("AsyncFunction"),vw=e=>e&&(il(e)||$s(e))&&$s(e.then)&&$s(e.catch),rv=((e,s)=>e?setImmediate:s?((r,a)=>(on.addEventListener("message",({source:n,data:i})=>{n===on&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),on.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$s(on.postMessage)),jw=typeof queueMicrotask<"u"?queueMicrotask.bind(on):typeof process<"u"&&process.nextTick||rv,Nw=e=>e!=null&&$s(e[Pd]),ye={isArray:Ai,isArrayBuffer:Jb,isBuffer:nl,isFormData:KC,isArrayBufferView:LC,isString:OC,isNumber:Zb,isBoolean:UC,isObject:il,isPlainObject:ic,isEmptyObject:BC,isReadableStream:YC,isRequest:XC,isResponse:JC,isHeaders:ZC,isUndefined:fi,isDate:qC,isFile:WC,isBlob:VC,isRegExp:mw,isFunction:$s,isStream:GC,isURLSearchParams:QC,isTypedArray:ow,isFileList:HC,forEach:ol,merge:cp,extend:tw,trim:ew,stripBOM:sw,inherits:rw,toFlatObject:aw,kindOf:Ed,kindOfTest:Tr,endsWith:nw,toArray:iw,forEachEntry:lw,matchAll:cw,isHTMLForm:dw,hasOwnProperty:Bg,hasOwnProp:Bg,reduceDescriptors:sv,freezeMethods:pw,toObjectSet:fw,toCamelCase:uw,noop:hw,toFiniteNumber:gw,findKey:ev,global:on,isContextDefined:tv,isSpecCompliantForm:xw,toJSONObject:yw,isAsyncFn:bw,isThenable:vw,setImmediate:rv,asap:jw,isIterable:Nw};function st(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ye.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const av=st.prototype,nv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nv[e]={value:e}});Object.defineProperties(st,nv);Object.defineProperty(av,"isAxiosError",{value:!0});st.from=(e,s,r,a,n,i)=>{const o=Object.create(av);ye.toFlatObject(e,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return st.call(o,l,c,r,a,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Cw=null;function dp(e){return ye.isPlainObject(e)||ye.isArray(e)}function iv(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function qg(e,s,r){return e?e.concat(s).map(function(n,i){return n=iv(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function ww(e){return ye.isArray(e)&&!e.some(dp)}const _w=ye.toFlatObject(ye,{},null,function(s){return/^is[A-Z]/.test(s)});function zd(e,s,r){if(!ye.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!ye.isUndefined(S[y])});const a=r.metaTokens,n=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(s);if(!ye.isFunction(n))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(ye.isDate(g))return g.toISOString();if(ye.isBoolean(g))return g.toString();if(!c&&ye.isBlob(g))throw new st("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(g)||ye.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,S){let x=g;if(g&&!S&&typeof g=="object"){if(ye.endsWith(y,"{}"))y=a?y:y.slice(0,-2),g=JSON.stringify(g);else if(ye.isArray(g)&&ww(g)||(ye.isFileList(g)||ye.endsWith(y,"[]"))&&(x=ye.toArray(g)))return y=iv(y),x.forEach(function(_,w){!(ye.isUndefined(_)||_===null)&&s.append(o===!0?qg([y],w,i):o===null?y:y+"[]",h(_))}),!1}return dp(g)?!0:(s.append(qg(S,y,i),h(g)),!1)}const p=[],m=Object.assign(_w,{defaultVisitor:d,convertValue:h,isVisitable:dp});function u(g,y){if(!ye.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(g),ye.forEach(g,function(x,N){(!(ye.isUndefined(x)||x===null)&&n.call(s,x,ye.isString(N)?N.trim():N,y,m))===!0&&u(x,y?y.concat(N):[N])}),p.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return u(e),s}function Wg(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function If(e,s){this._pairs=[],e&&zd(e,this,s)}const ov=If.prototype;ov.append=function(s,r){this._pairs.push([s,r])};ov.toString=function(s){const r=s?function(a){return s.call(this,a,Wg)}:Wg;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Sw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lv(e,s,r){if(!s)return e;const a=r&&r.encode||Sw;ye.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=ye.isURLSearchParams(s)?s.toString():new If(s,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Vg{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){ye.forEach(this.handlers,function(a){a!==null&&s(a)})}}const cv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Aw=typeof URLSearchParams<"u"?URLSearchParams:If,kw=typeof FormData<"u"?FormData:null,Pw=typeof Blob<"u"?Blob:null,Ew={isBrowser:!0,classes:{URLSearchParams:Aw,FormData:kw,Blob:Pw},protocols:["http","https","file","blob","url","data"]},Lf=typeof window<"u"&&typeof document<"u",up=typeof navigator=="object"&&navigator||void 0,Tw=Lf&&(!up||["ReactNative","NativeScript","NS"].indexOf(up.product)<0),zw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rw=Lf&&window.location.href||"http://localhost",Fw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lf,hasStandardBrowserEnv:Tw,hasStandardBrowserWebWorkerEnv:zw,navigator:up,origin:Rw},Symbol.toStringTag,{value:"Module"})),xs={...Fw,...Ew};function Dw(e,s){return zd(e,new xs.classes.URLSearchParams,{visitor:function(r,a,n,i){return xs.isNode&&ye.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function $w(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Mw(e){const s={},r=Object.keys(e);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=e[i];return s}function dv(e){function s(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&ye.isArray(n)?n.length:o,c?(ye.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!ye.isObject(n[o]))&&(n[o]=[]),s(r,a,n[o],i)&&ye.isArray(n[o])&&(n[o]=Mw(n[o])),!l)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const r={};return ye.forEachEntry(e,(a,n)=>{s($w(a),n,r,0)}),r}return null}function Iw(e,s,r){if(ye.isString(e))try{return(s||JSON.parse)(e),ye.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const ll={transitional:cv,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=ye.isObject(s);if(i&&ye.isHTMLForm(s)&&(s=new FormData(s)),ye.isFormData(s))return n?JSON.stringify(dv(s)):s;if(ye.isArrayBuffer(s)||ye.isBuffer(s)||ye.isStream(s)||ye.isFile(s)||ye.isBlob(s)||ye.isReadableStream(s))return s;if(ye.isArrayBufferView(s))return s.buffer;if(ye.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Dw(s,this.formSerializer).toString();if((l=ye.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zd(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Iw(s)):s}],transformResponse:[function(s){const r=this.transitional||ll.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(ye.isResponse(s)||ye.isReadableStream(s))return s;if(s&&ye.isString(s)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?st.from(l,st.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xs.classes.FormData,Blob:xs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],e=>{ll.headers[e]={}});const Lw=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ow=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||s[r]&&Lw[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Hg=Symbol("internals");function qi(e){return e&&String(e).trim().toLowerCase()}function oc(e){return e===!1||e==null?e:ye.isArray(e)?e.map(oc):String(e)}function Uw(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const Bw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qu(e,s,r,a,n){if(ye.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!ye.isString(s)){if(ye.isString(a))return s.indexOf(a)!==-1;if(ye.isRegExp(a))return a.test(s)}}function qw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Ww(e,s){const r=ye.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let Ms=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(l,c,h){const d=qi(c);if(!d)throw new Error("header name must be a non-empty string");const p=ye.findKey(n,d);(!p||n[p]===void 0||h===!0||h===void 0&&n[p]!==!1)&&(n[p||c]=oc(l))}const o=(l,c)=>ye.forEach(l,(h,d)=>i(h,d,c));if(ye.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(ye.isString(s)&&(s=s.trim())&&!Bw(s))o(Ow(s),r);else if(ye.isObject(s)&&ye.isIterable(s)){let l={},c,h;for(const d of s){if(!ye.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(c=l[h])?ye.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=qi(s),s){const a=ye.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Uw(n);if(ye.isFunction(r))return r.call(this,n,a);if(ye.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=qi(s),s){const a=ye.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Qu(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(o){if(o=qi(o),o){const l=ye.findKey(a,o);l&&(!r||Qu(a,a[l],l,r))&&(delete a[l],n=!0)}}return ye.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||Qu(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return ye.forEach(this,(n,i)=>{const o=ye.findKey(a,i);if(o){r[o]=oc(n),delete r[i];return}const l=s?qw(i):String(i).trim();l!==i&&delete r[i],r[l]=oc(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return ye.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&ye.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Hg]=this[Hg]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=qi(o);a[l]||(Ww(n,o),a[l]=!0)}return ye.isArray(s)?s.forEach(i):i(s),this}};Ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Ms.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});ye.freezeMethods(Ms);function Yu(e,s){const r=this||ll,a=s||r,n=Ms.from(a.headers);let i=a.data;return ye.forEach(e,function(l){i=l.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function uv(e){return!!(e&&e.__CANCEL__)}function ki(e,s,r){st.call(this,e??"canceled",st.ERR_CANCELED,s,r),this.name="CanceledError"}ye.inherits(ki,st,{__CANCEL__:!0});function mv(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new st("Request failed with status code "+r.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Vw(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Hw(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const h=Date.now(),d=a[i];o||(o=h),r[n]=c,a[n]=h;let p=i,m=0;for(;p!==n;)m+=r[p++],p=p%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),h-o<s)return;const u=d&&h-d;return u?Math.round(m*1e3/u):void 0}}function Gw(e,s){let r=0,a=1e3/s,n,i;const o=(h,d=Date.now())=>{r=d,n=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const d=Date.now(),p=d-r;p>=a?o(h,d):(n=h,i||(i=setTimeout(()=>{i=null,o(n)},a-p)))},()=>n&&o(n)]}const Wc=(e,s,r=3)=>{let a=0;const n=Hw(50,250);return Gw(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,h=n(c),d=o<=l;a=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(p)},r)},Gg=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},Kg=e=>(...s)=>ye.asap(()=>e(...s)),Kw=xs.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,xs.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(xs.origin),xs.navigator&&/(msie|trident)/i.test(xs.navigator.userAgent)):()=>!0,Qw=xs.hasStandardBrowserEnv?{write(e,s,r,a,n,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(s)}`];ye.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ye.isString(a)&&l.push(`path=${a}`),ye.isString(n)&&l.push(`domain=${n}`),i===!0&&l.push("secure"),ye.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Yw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xw(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function pv(e,s,r){let a=!Yw(s);return e&&(a||r==!1)?Xw(e,s):s}const Qg=e=>e instanceof Ms?{...e}:e;function jn(e,s){s=s||{};const r={};function a(h,d,p,m){return ye.isPlainObject(h)&&ye.isPlainObject(d)?ye.merge.call({caseless:m},h,d):ye.isPlainObject(d)?ye.merge({},d):ye.isArray(d)?d.slice():d}function n(h,d,p,m){if(ye.isUndefined(d)){if(!ye.isUndefined(h))return a(void 0,h,p,m)}else return a(h,d,p,m)}function i(h,d){if(!ye.isUndefined(d))return a(void 0,d)}function o(h,d){if(ye.isUndefined(d)){if(!ye.isUndefined(h))return a(void 0,h)}else return a(void 0,d)}function l(h,d,p){if(p in s)return a(h,d);if(p in e)return a(void 0,h)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,p)=>n(Qg(h),Qg(d),p,!0)};return ye.forEach(Object.keys({...e,...s}),function(d){const p=c[d]||n,m=p(e[d],s[d],d);ye.isUndefined(m)&&p!==l||(r[d]=m)}),r}const fv=e=>{const s=jn({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=Ms.from(o),s.url=lv(pv(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ye.isFormData(r)){if(xs.hasStandardBrowserEnv||xs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ye.isFunction(r.getHeaders)){const c=r.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{h.includes(d.toLowerCase())&&o.set(d,p)})}}if(xs.hasStandardBrowserEnv&&(a&&ye.isFunction(a)&&(a=a(s)),a||a!==!1&&Kw(s.url))){const c=n&&i&&Qw.read(i);c&&o.set(n,c)}return s},Jw=typeof XMLHttpRequest<"u",Zw=Jw&&function(e){return new Promise(function(r,a){const n=fv(e);let i=n.data;const o=Ms.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=n,d,p,m,u,g;function y(){u&&u(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(n.method.toUpperCase(),n.url,!0),S.timeout=n.timeout;function x(){if(!S)return;const _=Ms.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:e,request:S};mv(function(b){r(b),y()},function(b){a(b),y()},T),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(a(new st("Request aborted",st.ECONNABORTED,e,S)),S=null)},S.onerror=function(w){const T=w&&w.message?w.message:"Network Error",k=new st(T,st.ERR_NETWORK,e,S);k.event=w||null,a(k),S=null},S.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||cv;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),a(new st(w,T.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&ye.forEach(o.toJSON(),function(w,T){S.setRequestHeader(T,w)}),ye.isUndefined(n.withCredentials)||(S.withCredentials=!!n.withCredentials),l&&l!=="json"&&(S.responseType=n.responseType),h&&([m,g]=Wc(h,!0),S.addEventListener("progress",m)),c&&S.upload&&([p,u]=Wc(c),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(d=_=>{S&&(a(!_||_.type?new ki(null,e,S):_),S.abort(),S=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const N=Vw(n.url);if(N&&xs.protocols.indexOf(N)===-1){a(new st("Unsupported protocol "+N+":",st.ERR_BAD_REQUEST,e));return}S.send(i||null)})},e_=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(h){if(!n){n=!0,l();const d=h instanceof Error?h:this.reason;a.abort(d instanceof st?d:new ki(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new st(`timeout ${s} of ms exceeded`,st.ETIMEDOUT))},s);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>ye.asap(l),c}},t_=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},s_=async function*(e,s){for await(const r of r_(e))yield*t_(r,s)},r_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Yg=(e,s,r,a)=>{const n=s_(e,s);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await n.next();if(h){l(),c.close();return}let p=d.byteLength;if(r){let m=i+=p;r(m)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Xg=64*1024,{isFunction:Ml}=ye,a_=(({Request:e,Response:s})=>({Request:e,Response:s}))(ye.global),{ReadableStream:Jg,TextEncoder:Zg}=ye.global,ex=(e,...s)=>{try{return!!e(...s)}catch{return!1}},n_=e=>{e=ye.merge.call({skipUndefined:!0},a_,e);const{fetch:s,Request:r,Response:a}=e,n=s?Ml(s):typeof fetch=="function",i=Ml(r),o=Ml(a);if(!n)return!1;const l=n&&Ml(Jg),c=n&&(typeof Zg=="function"?(g=>y=>g.encode(y))(new Zg):async g=>new Uint8Array(await new r(g).arrayBuffer())),h=i&&l&&ex(()=>{let g=!1;const y=new r(xs.origin,{body:new Jg,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=o&&l&&ex(()=>ye.isReadableStream(new a("").body)),p={stream:d&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!p[g]&&(p[g]=(y,S)=>{let x=y&&y[g];if(x)return x.call(y);throw new st(`Response type '${g}' is not supported`,st.ERR_NOT_SUPPORT,S)})});const m=async g=>{if(g==null)return 0;if(ye.isBlob(g))return g.size;if(ye.isSpecCompliantForm(g))return(await new r(xs.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(g)||ye.isArrayBuffer(g))return g.byteLength;if(ye.isURLSearchParams(g)&&(g=g+""),ye.isString(g))return(await c(g)).byteLength},u=async(g,y)=>{const S=ye.toFiniteNumber(g.getContentLength());return S??m(y)};return async g=>{let{url:y,method:S,data:x,signal:N,cancelToken:_,timeout:w,onDownloadProgress:T,onUploadProgress:k,responseType:b,headers:E,withCredentials:v="same-origin",fetchOptions:R}=fv(g),$=s||fetch;b=b?(b+"").toLowerCase():"text";let j=e_([N,_&&_.toAbortSignal()],w),P=null;const z=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let F;try{if(k&&h&&S!=="get"&&S!=="head"&&(F=await u(E,x))!==0){let V=new r(y,{method:"POST",body:x,duplex:"half"}),q;if(ye.isFormData(x)&&(q=V.headers.get("content-type"))&&E.setContentType(q),V.body){const[I,W]=Gg(F,Wc(Kg(k)));x=Yg(V.body,Xg,I,W)}}ye.isString(v)||(v=v?"include":"omit");const C=i&&"credentials"in r.prototype,A={...R,signal:j,method:S.toUpperCase(),headers:E.normalize().toJSON(),body:x,duplex:"half",credentials:C?v:void 0};P=i&&new r(y,A);let M=await(i?$(P,R):$(y,A));const D=d&&(b==="stream"||b==="response");if(d&&(T||D&&z)){const V={};["status","statusText","headers"].forEach(B=>{V[B]=M[B]});const q=ye.toFiniteNumber(M.headers.get("content-length")),[I,W]=T&&Gg(q,Wc(Kg(T),!0))||[];M=new a(Yg(M.body,Xg,I,()=>{W&&W(),z&&z()}),V)}b=b||"text";let O=await p[ye.findKey(p,b)||"text"](M,g);return!D&&z&&z(),await new Promise((V,q)=>{mv(V,q,{data:O,headers:Ms.from(M.headers),status:M.status,statusText:M.statusText,config:g,request:P})})}catch(C){throw z&&z(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,g,P),{cause:C.cause||C}):st.from(C,C&&C.code,g,P)}}},i_=new Map,hv=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let o=i.length,l=o,c,h,d=i_;for(;l--;)c=i[l],h=d.get(c),h===void 0&&d.set(c,h=l?new Map:n_(s)),d=h;return h};hv();const Of={http:Cw,xhr:Zw,fetch:{get:hv}};ye.forEach(Of,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const tx=e=>`- ${e}`,o_=e=>ye.isFunction(e)||e===null||e===!1;function l_(e,s){e=ye.isArray(e)?e:[e];const{length:r}=e;let a,n;const i={};for(let o=0;o<r;o++){a=e[o];let l;if(n=a,!o_(a)&&(n=Of[(l=String(a)).toLowerCase()],n===void 0))throw new st(`Unknown adapter '${l}'`);if(n&&(ye.isFunction(n)||(n=n.get(s))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(tx).join(`
`):" "+tx(o[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const gv={getAdapter:l_,adapters:Of};function Xu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ki(null,e)}function sx(e){return Xu(e),e.headers=Ms.from(e.headers),e.data=Yu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gv.getAdapter(e.adapter||ll.adapter,e)(e).then(function(a){return Xu(e),a.data=Yu.call(e,e.transformResponse,a),a.headers=Ms.from(a.headers),a},function(a){return uv(a)||(Xu(e),a&&a.response&&(a.response.data=Yu.call(e,e.transformResponse,a.response),a.response.headers=Ms.from(a.response.headers))),Promise.reject(a)})}const xv="1.13.2",Rd={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Rd[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const rx={};Rd.transitional=function(s,r,a){function n(i,o){return"[Axios v"+xv+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new st(n(o," has been removed"+(r?" in "+r:"")),st.ERR_DEPRECATED);return r&&!rx[o]&&(rx[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};Rd.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function c_(e,s,r){if(typeof e!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new st("option "+i+" must be "+c,st.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new st("Unknown option "+i,st.ERR_BAD_OPTION)}}const lc={assertOptions:c_,validators:Rd},Fr=lc.validators;let pn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Vg,response:new Vg}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=jn(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&lc.assertOptions(a,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),n!=null&&(ye.isFunction(n)?r.paramsSerializer={serialize:n}:lc.assertOptions(n,{encode:Fr.function,serialize:Fr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),lc.assertOptions(r,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ye.merge(i.common,i[r.method]);i&&ye.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Ms.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let d,p=0,m;if(!c){const g=[sx.bind(this),void 0];for(g.unshift(...l),g.push(...h),m=g.length,d=Promise.resolve(r);p<m;)d=d.then(g[p++],g[p++]);return d}m=l.length;let u=r;for(;p<m;){const g=l[p++],y=l[p++];try{u=g(u)}catch(S){y.call(this,S);break}}try{d=sx.call(this,u)}catch(g){return Promise.reject(g)}for(p=0,m=h.length;p<m;)d=d.then(h[p++],h[p++]);return d}getUri(s){s=jn(this.defaults,s);const r=pv(s.baseURL,s.url,s.allowAbsoluteUrls);return lv(r,s.params,s.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(s){pn.prototype[s]=function(r,a){return this.request(jn(a||{},{method:s,url:r,data:(a||{}).data}))}});ye.forEach(["post","put","patch"],function(s){function r(a){return function(i,o,l){return this.request(jn(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}pn.prototype[s]=r(),pn.prototype[s+"Form"]=r(!0)});let d_=class yv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new ki(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new yv(function(n){s=n}),cancel:s}}};function u_(e){return function(r){return e.apply(null,r)}}function m_(e){return ye.isObject(e)&&e.isAxiosError===!0}const mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mp).forEach(([e,s])=>{mp[s]=e});function bv(e){const s=new pn(e),r=Yb(pn.prototype.request,s);return ye.extend(r,pn.prototype,s,{allOwnKeys:!0}),ye.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return bv(jn(e,n))},r}const lt=bv(ll);lt.Axios=pn;lt.CanceledError=ki;lt.CancelToken=d_;lt.isCancel=uv;lt.VERSION=xv;lt.toFormData=zd;lt.AxiosError=st;lt.Cancel=lt.CanceledError;lt.all=function(s){return Promise.all(s)};lt.spread=u_;lt.isAxiosError=m_;lt.mergeConfig=jn;lt.AxiosHeaders=Ms;lt.formToJSON=e=>dv(ye.isHTMLForm(e)?new FormData(e):e);lt.getAdapter=gv.getAdapter;lt.HttpStatusCode=mp;lt.default=lt;const{Axios:JT,AxiosError:ZT,CanceledError:ez,isCancel:tz,CancelToken:sz,VERSION:rz,all:az,Cancel:nz,isAxiosError:iz,spread:oz,toFormData:lz,AxiosHeaders:cz,HttpStatusCode:dz,formToJSON:uz,getAdapter:mz,mergeConfig:pz}=lt,Ir="https://aeroenix.com/v1/api",Na=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),Wi=new Map,p_=(e,s,r)=>{const a=(e==null?void 0:e.toUpperCase())||"GET",n=r?JSON.stringify(r):"";return`${a}:${s}:${n}`},ne=lt.create({baseURL:Ir,headers:{"Content-Type":"application/json",Accept:"application/json"}}),f_=ne.get.bind(ne);ne.post.bind(ne);ne.put.bind(ne);ne.delete.bind(ne);ne.get=function(e,s={}){const r=p_("GET",e,s.params);if(Wi.has(r))return console.log(" Deduplicating request:",r),Wi.get(r);const a=f_(e,s).then(n=>(Wi.delete(r),n)).catch(n=>{throw Wi.delete(r),n});return Wi.set(r,a),a};ne.interceptors.request.use(e=>{var r;const s=Na();return s&&(e.headers.Authorization=`Bearer ${s}`),e.data instanceof FormData&&delete e.headers["Content-Type"],console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:`${e.baseURL}${e.url}`,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data,params:e.params}),e},e=>Promise.reject(e));ne.interceptors.response.use(e=>{var s;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:(s=e.config)==null?void 0:s.url,data:e.data}),e.data},e=>{var s,r,a,n,i;return console.error(" API Error:",{status:(s=e.response)==null?void 0:s.status,statusText:(r=e.response)==null?void 0:r.statusText,url:(a=e.config)==null?void 0:a.url,data:(n=e.response)==null?void 0:n.data,message:e.message}),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token")),Promise.reject(e)});const Ve={getACCApplications:e=>ne.get("/admin/accs/applications",{params:e}),getACCApplication:e=>ne.get(`/admin/accs/applications/${e}`),approveACCApplication:e=>ne.put(`/admin/accs/applications/${e}/approve`),rejectACCApplication:(e,s)=>ne.put(`/admin/accs/applications/${e}/reject`,s),createACCSpace:e=>ne.post(`/admin/accs/${e}/create-space`),generateACCCredentials:e=>ne.post(`/admin/accs/${e}/generate-credentials`),listACCs:e=>ne.get("/admin/accs",{params:e}),getACCDetails:e=>ne.get(`/admin/accs/${e}`),updateACC:(e,s)=>ne.put(`/admin/accs/${e}`,s),setCommissionPercentage:(e,s)=>ne.put(`/admin/accs/${e}/commission-percentage`,s),getACCTransactions:(e,s)=>ne.get(`/admin/accs/${e}/transactions`,{params:s}),assignCategoryToACC:(e,s)=>ne.post(`/admin/accs/${e}/assign-category`,s),removeCategoryFromACC:(e,s)=>ne.delete(`/admin/accs/${e}/remove-category`,{data:s}),getACCCategories:e=>ne.get(`/admin/accs/${e}/categories`),addStripeAccountToACC:(e,s)=>ne.put(`/admin/accs/${e}/stripe-account`,s),removeStripeAccountFromACC:e=>ne.delete(`/admin/accs/${e}/stripe-account`),listTrainingCenters:e=>ne.get("/admin/training-centers",{params:e}),getTrainingCenterDetails:e=>ne.get(`/admin/training-centers/${e}`),updateTrainingCenter:(e,s)=>ne.put(`/admin/training-centers/${e}`,s),getTrainingCenterApplications:e=>ne.get("/admin/training-centers/applications",{params:e}),approveTrainingCenterApplication:e=>ne.put(`/admin/training-centers/applications/${e}/approve`),rejectTrainingCenterApplication:(e,s)=>ne.put(`/admin/training-centers/applications/${e}/reject`,s),listInstructors:e=>ne.get("/admin/instructors",{params:e}),getInstructorDetails:e=>ne.get(`/admin/instructors/${e}`),updateInstructor:(e,s)=>ne.put(`/admin/instructors/${e}`,s),getPendingCommissionRequests:e=>ne.get("/admin/instructor-authorizations/pending-commission",{params:e}),setInstructorAuthorizationCommission:(e,s)=>ne.put(`/admin/instructor-authorizations/${e}/set-commission`,s),createCategory:e=>ne.post("/admin/categories",e),listCategories:e=>ne.get("/admin/categories",{params:e}),updateCategory:(e,s)=>ne.put(`/admin/categories/${e}`,s),deleteCategory:e=>ne.delete(`/admin/categories/${e}`),createSubCategory:e=>ne.post("/admin/sub-categories",e),listSubCategories:e=>ne.get("/admin/sub-categories",{params:e}),updateSubCategory:(e,s)=>ne.put(`/admin/sub-categories/${e}`,s),deleteSubCategory:e=>ne.delete(`/admin/sub-categories/${e}`),listCourses:e=>ne.get("/admin/courses",{params:e}),getCourseDetails:e=>ne.get(`/admin/courses/${e}`),createClass:e=>ne.post("/admin/classes",e),listClasses:e=>ne.get("/admin/classes",{params:e}),updateClass:(e,s)=>ne.put(`/admin/classes/${e}`,s),deleteClass:e=>ne.delete(`/admin/classes/${e}`),getDashboard:()=>ne.get("/admin/dashboard"),getFinancialDashboard:()=>ne.get("/admin/financial/dashboard"),getFinancialTransactions:e=>ne.get("/admin/financial/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/admin/financial/transactions",{params:e}),getSettlements:e=>ne.get("/admin/financial/settlements",{params:e}),requestPayment:e=>ne.post(`/admin/financial/settlements/${e}/request-payment`),getRevenueReport:e=>ne.get("/admin/reports/revenue",{params:e}),getACCsReport:e=>ne.get("/admin/reports/accs",{params:e}),getTrainingCentersReport:e=>ne.get("/admin/reports/training-centers",{params:e}),getCertificatesReport:e=>ne.get("/admin/reports/certificates",{params:e}),listStripeSettings:e=>ne.get("/admin/stripe-settings",{params:e}),getActiveStripeSetting:()=>ne.get("/admin/stripe-settings/active"),createStripeSetting:e=>ne.post("/admin/stripe-settings",e),updateStripeSetting:(e,s)=>ne.put(`/admin/stripe-settings/${e}`,s),deleteStripeSetting:e=>ne.delete(`/admin/stripe-settings/${e}`),getPendingPayments:e=>ne.get("/admin/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>ne.put(`/admin/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>ne.put(`/admin/code-batches/${e}/reject-payment`,s)},Qe={getDashboard:()=>ne.get("/acc/dashboard"),getProfile:()=>ne.get("/acc/profile"),updateProfile:e=>ne.put("/acc/profile",e),verifyStripeAccount:e=>ne.post("/acc/profile/verify-stripe-account",{stripe_account_id:e}),getSubscription:()=>ne.get("/acc/subscription"),createSubscriptionPaymentIntent:e=>ne.post("/acc/subscription/payment-intent",e),createRenewalPaymentIntent:e=>ne.post("/acc/subscription/renew-payment-intent",e),paySubscription:e=>ne.post("/acc/subscription/payment",e),renewSubscription:e=>ne.put("/acc/subscription/renew",e),getTrainingCenterRequests:e=>ne.get("/acc/training-centers/requests",{params:e}),approveTrainingCenterRequest:e=>ne.put(`/acc/training-centers/requests/${e}/approve`),rejectTrainingCenterRequest:(e,s)=>ne.put(`/acc/training-centers/requests/${e}/reject`,s),returnTrainingCenterRequest:(e,s)=>ne.put(`/acc/training-centers/requests/${e}/return`,s),listAuthorizedTrainingCenters:e=>ne.get("/acc/training-centers",{params:e}),getInstructorRequests:e=>ne.get("/acc/instructors/requests",{params:e}),approveInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/approve`,s),rejectInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/reject`,s),returnInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/return`,s),listAuthorizedInstructors:e=>ne.get("/acc/instructors",{params:e}),createCourse:e=>ne.post("/acc/courses",e),listCourses:e=>ne.get("/acc/courses",{params:e}),getCourseDetails:e=>ne.get(`/acc/courses/${e}`),updateCourse:(e,s)=>ne.put(`/acc/courses/${e}`,s),deleteCourse:e=>ne.delete(`/acc/courses/${e}`),setCoursePricing:(e,s)=>ne.post(`/acc/courses/${e}/pricing`,s),updateCoursePricing:(e,s)=>ne.put(`/acc/courses/${e}/pricing`,s),createCertificateTemplate:e=>ne.post("/acc/certificate-templates",e),listCertificateTemplates:e=>ne.get("/acc/certificate-templates",{params:e}),getTemplateDetails:e=>ne.get(`/acc/certificate-templates/${e}`),updateTemplate:(e,s)=>ne.put(`/acc/certificate-templates/${e}`,s),deleteTemplate:e=>ne.delete(`/acc/certificate-templates/${e}`),previewTemplate:(e,s)=>ne.post(`/acc/certificate-templates/${e}/preview`,s),createDiscountCode:e=>ne.post("/acc/discount-codes",e),listDiscountCodes:e=>ne.get("/acc/discount-codes",{params:e}),getDiscountCodeDetails:e=>ne.get(`/acc/discount-codes/${e}`),updateDiscountCode:(e,s)=>ne.put(`/acc/discount-codes/${e}`,s),deleteDiscountCode:e=>ne.delete(`/acc/discount-codes/${e}`),validateDiscountCode:e=>ne.post("/acc/discount-codes/validate",e),createMaterial:e=>ne.post("/acc/materials",e),listMaterials:e=>ne.get("/acc/materials",{params:e}),getMaterialDetails:e=>ne.get(`/acc/materials/${e}`),updateMaterial:(e,s)=>ne.put(`/acc/materials/${e}`,s),deleteMaterial:e=>ne.delete(`/acc/materials/${e}`),listCertificates:e=>ne.get("/acc/certificates",{params:e}),createCertificate:e=>ne.post("/acc/certificates",e),listClasses:e=>ne.get("/acc/classes",{params:e}),getClassDetails:e=>ne.get(`/acc/classes/${e}`),getFinancialTransactions:e=>ne.get("/acc/financial/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/acc/financial/transactions",{params:e}),getSettlements:e=>ne.get("/acc/financial/settlements",{params:e}),listCategories:e=>ne.get("/acc/categories",{params:e}),getCategory:e=>ne.get(`/acc/categories/${e}`),createCategory:e=>ne.post("/acc/categories",e),updateCategory:(e,s)=>ne.put(`/acc/categories/${e}`,s),deleteCategory:e=>ne.delete(`/acc/categories/${e}`),listSubCategories:e=>ne.get("/acc/sub-categories",{params:e}),getSubCategory:e=>ne.get(`/acc/sub-categories/${e}`),createSubCategory:e=>ne.post("/acc/sub-categories",e),updateSubCategory:(e,s)=>ne.put(`/acc/sub-categories/${e}`,s),deleteSubCategory:e=>ne.delete(`/acc/sub-categories/${e}`),getPendingPayments:e=>ne.get("/acc/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>ne.put(`/acc/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>ne.put(`/acc/code-batches/${e}/reject-payment`,s)},He={getDashboard:()=>ne.get("/training-center/dashboard"),getProfile:()=>ne.get("/training-center/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${Na()}`,Accept:"application/json"};return lt.post(`${Ir}/training-center/profile?_method=PUT`,e,{headers:r}).then(a=>a.data)}return ne.put("/training-center/profile",e)},listACCs:e=>ne.get("/training-center/accs",{params:e}),requestAuthorization:(e,s)=>{const r=Na(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),lt.post(`${Ir}/training-center/accs/${e}/request-authorization`,s,{headers:a}).then(n=>n.data)},getAuthorizationStatus:e=>ne.get("/training-center/authorizations",{params:e}),createInstructor:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${Na()}`,Accept:"application/json"};return lt.post(`${Ir}/training-center/instructors`,e,{headers:r}).then(a=>a.data)}return ne.post("/training-center/instructors",e)},listInstructors:e=>ne.get("/training-center/instructors",e?{params:e}:{}),getInstructorDetails:e=>ne.get(`/training-center/instructors/${e}`),updateInstructor:(e,s)=>{if(s instanceof FormData){const a={Authorization:`Bearer ${Na()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const n=[];for(let i of s.entries())i[1]instanceof File?n.push(`${i[0]}: [File] ${i[1].name} (${i[1].size} bytes, type: ${i[1].type})`):n.push(`${i[0]}: ${i[1]} (type: ${typeof i[1]})`);return console.log(n),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${Ir}/training-center/instructors/${e}?_method=PUT`,headers:{...a,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),lt.post(`${Ir}/training-center/instructors/${e}?_method=PUT`,s,{headers:a}).then(i=>(console.log(" API Response:",{status:i.status,statusText:i.statusText,url:`/training-center/instructors/${e}`,data:i.data}),i.data)).catch(i=>{var o,l,c;throw console.error(" API Error:",{status:(o=i.response)==null?void 0:o.status,statusText:(l=i.response)==null?void 0:l.statusText,url:`/training-center/instructors/${e}`,data:(c=i.response)==null?void 0:c.data,message:i.message}),i})}return ne.put(`/training-center/instructors/${e}`,s)},deleteInstructor:e=>ne.delete(`/training-center/instructors/${e}`),requestInstructorAuthorization:(e,s)=>ne.post(`/training-center/instructors/${e}/request-authorization`,s),getSubCategoriesForACC:e=>ne.get(`/training-center/accs/${e}/sub-categories`),getCoursesForACC:(e,s)=>ne.get(`/training-center/accs/${e}/courses`,{params:s}),getInstructorAuthorizations:e=>ne.get("/training-center/instructors/authorizations",{params:e}),createInstructorAuthorizationPaymentIntent:(e,s)=>ne.post(`/training-center/instructors/authorizations/${e}/payment-intent`,s),payInstructorAuthorization:(e,s)=>ne.post(`/training-center/instructors/authorizations/${e}/pay`,s),createPaymentIntent:e=>ne.post("/training-center/codes/create-payment-intent",e),purchaseCodes:e=>ne.post("/training-center/codes/purchase",e),getCodeInventory:e=>ne.get("/training-center/codes/inventory",{params:e}),getCodeBatches:e=>ne.get("/training-center/codes/batches",{params:e}),addFunds:e=>ne.post("/training-center/wallet/add-funds",e),getWalletBalance:()=>ne.get("/training-center/wallet/balance"),getWalletTransactions:e=>ne.get("/training-center/wallet/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/training-center/financial/transactions",{params:e}),createClass:e=>ne.post("/training-center/classes",e),listClasses:e=>ne.get("/training-center/classes",{params:e}),getClassDetails:e=>ne.get(`/training-center/classes/${e}`),updateClass:(e,s)=>ne.put(`/training-center/classes/${e}`,s),deleteClass:e=>ne.delete(`/training-center/classes/${e}`),markClassComplete:e=>ne.put(`/training-center/classes/${e}/complete`),generateCertificate:e=>ne.post("/training-center/certificates/generate",e),listCertificates:e=>ne.get("/training-center/certificates",{params:e}),getCertificateDetails:e=>ne.get(`/training-center/certificates/${e}`),browseMaterials:e=>ne.get("/training-center/marketplace/materials",{params:e}),getMaterialDetails:e=>ne.get(`/training-center/marketplace/materials/${e}`),purchaseFromMarketplace:e=>ne.post("/training-center/marketplace/purchase",e),getLibrary:e=>ne.get("/training-center/library",{params:e}),createTrainee:e=>{const s=Na(),r={Accept:"application/json"};return s&&(r.Authorization=`Bearer ${s}`),lt.post(`${Ir}/training-center/trainees`,e,{headers:r}).then(a=>a.data)},listTrainees:e=>ne.get("/training-center/trainees",{params:e}),getTraineeDetails:e=>ne.get(`/training-center/trainees/${e}`),updateTrainee:(e,s)=>{const r=Na(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),lt.put(`${Ir}/training-center/trainees/${e}`,s,{headers:a}).then(n=>n.data)},deleteTrainee:e=>ne.delete(`/training-center/trainees/${e}`)},zs={getDashboard:()=>ne.get("/instructor/dashboard"),getProfile:()=>ne.get("/instructor/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${Na()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const a=[];for(let n of e.entries())n[1]instanceof File?a.push(`${n[0]}: [File] ${n[1].name} (${n[1].size} bytes, type: ${n[1].type})`):a.push(`${n[0]}: ${n[1]} (type: ${typeof n[1]})`);return console.log(a),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${Ir}/instructor/profile?_method=PUT`,headers:{...r,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),lt.post(`${Ir}/instructor/profile?_method=PUT`,e,{headers:r}).then(n=>(console.log(" API Response:",{status:n.status,statusText:n.statusText,url:"/instructor/profile",data:n.data}),n.data)).catch(n=>{var i,o,l;throw console.error(" API Error:",{status:(i=n.response)==null?void 0:i.status,statusText:(o=n.response)==null?void 0:o.statusText,url:"/instructor/profile",data:(l=n.response)==null?void 0:l.data,message:n.message}),n})}return ne.put("/instructor/profile",e)},listClasses:e=>ne.get("/instructor/classes",{params:e}),getClassDetails:e=>ne.get(`/instructor/classes/${e}`),markClassComplete:(e,s)=>ne.put(`/instructor/classes/${e}/mark-complete`,s),getTrainingCenters:()=>ne.get("/instructor/training-centers"),getACCs:()=>ne.get("/instructor/accs"),getAvailableMaterials:e=>ne.get("/instructor/materials",{params:e}),getEarnings:e=>ne.get("/instructor/earnings",{params:e})},Ma={getCountries:()=>ne.get("/countries"),getCities:e=>ne.get("/cities",{params:e?{country:e}:{}}),verifyCertificate:e=>ne.get(`/certificates/verify/${e}`)},vv={getConfig:()=>ne.get("/stripe/config"),createPaymentIntent:e=>ne.post("/stripe/payment-intent",e),confirmPayment:e=>ne.post("/stripe/confirm",e)},Gs={login:e=>ne.post("/auth/login",e),register:e=>ne.post("/auth/register",e),logout:()=>ne.post("/auth/logout"),getProfile:()=>ne.get("/auth/profile"),updateProfile:e=>ne.put("/auth/profile",e),changePassword:e=>ne.put("/auth/change-password",e),forgotPassword:e=>ne.post("/auth/forgot-password",e),resetPassword:e=>ne.post("/auth/reset-password",e)},ba={getNotifications:e=>ne.get("/notifications",{params:e}),getUnreadCount:()=>ne.get("/notifications/unread-count"),getNotification:e=>ne.get(`/notifications/${e}`),markAsRead:e=>ne.put(`/notifications/${e}/read`),markAsUnread:e=>ne.put(`/notifications/${e}/unread`),markAllAsRead:()=>ne.post("/notifications/mark-all-read"),deleteNotification:e=>ne.delete(`/notifications/${e}`),deleteAllRead:()=>ne.delete("/notifications/read")},h_=Object.freeze(Object.defineProperty({__proto__:null,accAPI:Qe,adminAPI:Ve,authAPI:Gs,instructorAPI:zs,notificationsAPI:ba,publicAPI:Ma,stripeAPI:vv,trainingCenterAPI:He},Symbol.toStringTag,{value:"Module"})),Pn=e=>{e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},cc=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),jv=f.createContext(null),hr=()=>{const e=f.useContext(jv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},g_=({children:e})=>{const[s,r]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(!1),l=f.useRef(!1),c=f.useRef(!1);f.useEffect(()=>{c.current||(c.current=!0,h())},[]);const h=async()=>{var N;if(l.current){console.log(" Auth check already in progress, skipping duplicate request");return}l.current=!0;try{if(n(!0),cc())try{const w=await Gs.getProfile();w.user?(r(w.user),o(!0)):(Pn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1))}catch(w){((N=w.response)==null?void 0:N.status)===401?(Pn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1)):(console.error("Profile fetch error:",w),r(null),o(!1))}else r(null),o(!1)}catch(_){console.error("Auth check failed:",_),r(null),o(!1)}finally{n(!1),l.current=!1}},d=async(N,_)=>{var w,T,k,b,E,v,R,$,j,P,z;try{const F=await Gs.login({email:N,password:_});return F.token?(((w=F.user)==null?void 0:w.role)==="acc_admin"&&(((T=F.user)==null?void 0:T.status)==="pending"||((k=F.user)==null?void 0:k.status)==="inactive")?(sessionStorage.setItem("auth_token",F.token),sessionStorage.setItem("token",F.token)):Pn(F.token),r(F.user),o(!0),{success:!0,data:F,isActive:((b=F.user)==null?void 0:b.status)==="active",userStatus:(E=F.user)==null?void 0:E.status}):{success:!1,error:"Login failed. Please try again."}}catch(F){console.error("Login error:",F);let C="Login failed. Please try again.";if((R=(v=F.response)==null?void 0:v.data)!=null&&R.message)C=F.response.data.message;else if((j=($=F.response)==null?void 0:$.data)!=null&&j.error)C=F.response.data.error;else if((z=(P=F.response)==null?void 0:P.data)!=null&&z.errors){const A=F.response.data.errors,M=Object.values(A)[0];C=Array.isArray(M)?M[0]:M}else F.message&&(C=F.message);return{success:!1,error:C}}},p=async(N,_,w,T,k)=>{var b,E,v,R,$,j,P,z;try{const F=await Gs.register({name:N,email:_,password:w,password_confirmation:T,role:k});return F.token?(Pn(F.token),r(F.user),o(!0),{success:!0,data:F,isActive:((b=F.user)==null?void 0:b.status)==="active",userStatus:(E=F.user)==null?void 0:E.status}):{success:!1,error:"Registration failed. Please try again."}}catch(F){console.error("Register error:",F);let C="Registration failed. Please try again.";if((R=(v=F.response)==null?void 0:v.data)!=null&&R.message)C=F.response.data.message;else if((j=($=F.response)==null?void 0:$.data)!=null&&j.error)C=F.response.data.error;else if((z=(P=F.response)==null?void 0:P.data)!=null&&z.errors){const A=F.response.data.errors,M=Object.values(A)[0];C=Array.isArray(M)?M[0]:M}else F.message&&(C=F.message);return{success:!1,error:C}}},m=async()=>{try{if((s==null?void 0:s.role)==="acc_admin"&&((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="inactive")){sessionStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("token"),Pn(null),r(null),o(!1);return}await Gs.logout()}catch(N){console.error("Logout error:",N)}finally{Pn(null),r(null),o(!1),localStorage.removeItem("sidebarOpen"),localStorage.removeItem("sidebarCollapsed")}},u=N=>{r(N)},g=async N=>{var _,w;try{return{success:!0,data:await Gs.forgotPassword({email:N})}}catch(T){let k="Failed to send reset email. Please try again.";return(w=(_=T.response)==null?void 0:_.data)!=null&&w.message&&(k=T.response.data.message),{success:!1,error:k}}},y=async(N,_,w,T)=>{var k,b,E,v,R,$;try{return{success:!0,data:await Gs.resetPassword({token:N,email:_,password:w,password_confirmation:T})}}catch(j){let P="Failed to reset password. Please try again.";if((b=(k=j.response)==null?void 0:k.data)!=null&&b.message)P=j.response.data.message;else if((v=(E=j.response)==null?void 0:E.data)!=null&&v.error)P=j.response.data.error;else if(($=(R=j.response)==null?void 0:R.data)!=null&&$.errors){const z=j.response.data.errors,F=Object.values(z)[0];P=Array.isArray(F)?F[0]:F}return{success:!1,error:P}}},S=async()=>{try{const N=await Gs.getProfile();N.user&&(r(N.user),o(!0))}catch(N){console.error("Failed to refresh user:",N)}},x=f.useMemo(()=>({user:s,loading:a,isAuthenticated:i,login:d,register:p,logout:m,updateUser:u,checkAuth:h,forgotPassword:g,resetPassword:y,refreshUser:S}),[s,a,i]);return t.jsx(jv.Provider,{value:x,children:e})},Nv=f.createContext(null),it=()=>{const e=f.useContext(Nv);return e||{setHeaderActions:()=>{},setHeaderTitle:()=>{},setHeaderSubtitle:()=>{},headerActions:null,headerTitle:null,headerSubtitle:null}},x_=({children:e})=>{const[s,r]=f.useState(null),[a,n]=f.useState(null),[i,o]=f.useState(null),l=f.useCallback(p=>{r(p)},[]),c=f.useCallback(p=>{n(p)},[]),h=f.useCallback(p=>{o(p)},[]),d=f.useMemo(()=>({headerActions:s,headerTitle:a,headerSubtitle:i,setHeaderActions:l,setHeaderTitle:c,setHeaderSubtitle:h}),[s,a,i]);return t.jsx(Nv.Provider,{value:d,children:e})},Cv=f.createContext(null),y_=()=>{const e=f.useContext(Cv);if(!e)throw new Error("useNotificationsContext must be used within a NotificationsProvider");return e},b_=({children:e})=>{const[s,r]=f.useState([]),[a,n]=f.useState(0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState({currentPage:1,lastPage:1,perPage:15,total:0}),p=f.useRef(!1),m=f.useRef(!1),u=f.useCallback(async(T={},k=1,b=15)=>{if(m.current){console.log(" Notifications fetch already in progress, skipping duplicate request");return}m.current=!0,o(!0),c(null);try{const E={...T,page:k,per_page:b},v=await ba.getNotifications(E);if(v.success){const R=v.notifications||[];r(R),n(v.unread_count||0),v.pagination&&d({currentPage:v.pagination.current_page||k,lastPage:v.pagination.last_page||1,perPage:v.pagination.per_page||b,total:v.pagination.total||0})}}catch(E){console.error("Failed to fetch notifications:",E),c(E.message||"Failed to fetch notifications")}finally{o(!1),m.current=!1}},[]),g=f.useCallback(async()=>{try{const T=await ba.getUnreadCount();T.success&&n(T.unread_count||0)}catch{}},[]),y=f.useCallback(async T=>{try{const k=await ba.markAsRead(T);k.success&&(r(b=>b.map(E=>{var v;return E.id===T?{...E,is_read:!0,read_at:((v=k.notification)==null?void 0:v.read_at)||new Date().toISOString()}:E})),n(b=>Math.max(0,b-1)))}catch(k){throw console.error("Failed to mark as read:",k),k}},[]),S=f.useCallback(async T=>{try{(await ba.markAsUnread(T)).success&&(r(b=>b.map(E=>E.id===T?{...E,is_read:!1,read_at:null}:E)),n(b=>b+1))}catch(k){throw console.error("Failed to mark as unread:",k),k}},[]),x=f.useCallback(async()=>{try{(await ba.markAllAsRead()).success&&(r(k=>k.map(b=>({...b,is_read:!0}))),n(0))}catch(T){throw console.error("Failed to mark all as read:",T),T}},[]),N=f.useCallback(async T=>{try{(await ba.deleteNotification(T)).success&&r(b=>{const E=b.find($=>$.id===T),v=E&&!E.is_read,R=b.filter($=>$.id!==T);return v&&n($=>Math.max(0,$-1)),R})}catch(k){throw console.error("Failed to delete notification:",k),k}},[]),_=f.useCallback(async()=>{try{(await ba.deleteAllRead()).success&&r(k=>k.filter(b=>!b.is_read))}catch(T){throw console.error("Failed to delete all read notifications:",T),T}},[]);f.useEffect(()=>{p.current||(p.current=!0,u({},1,15))},[u]);const w={notifications:s,unreadCount:a,loading:i,error:l,pagination:h,fetchNotifications:u,fetchUnreadCount:g,markAsRead:y,markAsUnread:S,markAllAsRead:x,deleteNotification:N,deleteAllRead:_,refresh:()=>u({},h.currentPage,h.perPage)};return t.jsx(Cv.Provider,{value:w,children:e})},Qa=({children:e,allowedRoles:s=[],allowPending:r=!1})=>{const{isAuthenticated:a,user:n,loading:i}=hr();return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?!r&&((n==null?void 0:n.role)==="acc_admin"||(n==null?void 0:n.role)==="training_center_admin")&&(n==null?void 0:n.status)!=="active"?t.jsx(nc,{to:"/pending-account",replace:!0}):s.length>0&&!s.includes(n==null?void 0:n.role)?t.jsx(nc,{to:"/unauthorized",replace:!0}):e:t.jsx(nc,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(e,s)=>{const r=f.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...h},d)=>f.createElement("svg",{ref:d,...v_,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${j_(e)}`,l].join(" "),...h},[...s.map(([p,m])=>f.createElement(p,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Fe("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Fe("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Fe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Fe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Fe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Fe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Fe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Fe("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Fe("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Fe("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Fe("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Fe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Fe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Fe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Fe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Fe("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Fe("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Fe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Fe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dx=()=>{const[e,s]=f.useState(!1),[r,a]=f.useState({top:0,right:0}),n=f.useRef(null),i=f.useRef(null),{notifications:o,unreadCount:l,loading:c,markAsRead:h,markAllAsRead:d,deleteNotification:p,deleteAllRead:m,fetchNotifications:u}=y_();f.useEffect(()=>{if(e&&n.current){const T=n.current.getBoundingClientRect(),k=400,b=window.innerWidth-32,E=Math.min(k,b);let v=window.innerWidth-T.right;v+E>window.innerWidth-16&&(v=16),a({top:T.bottom+12,right:v}),c||u({},1,15)}},[e]),f.useEffect(()=>{const T=k=>{n.current&&!n.current.contains(k.target)&&i.current&&!i.current.contains(k.target)&&s(!1)};return e&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[e]);const g=async T=>{if(!T.is_read)try{await h(T.id)}catch(k){console.error("Failed to mark notification as read:",k)}},y=async()=>{try{await d()}catch(T){console.error("Failed to mark all as read:",T)}},S=async(T,k)=>{T.stopPropagation();try{await p(k)}catch(b){console.error("Failed to delete notification:",b)}},x=async()=>{try{await m()}catch(T){console.error("Failed to delete all read notifications:",T)}},N=T=>{const k=new Date(T),E=Math.floor((new Date-k)/1e3);return E<60?"Just now":E<3600?`${Math.floor(E/60)}m ago`:E<86400?`${Math.floor(E/3600)}h ago`:E<604800?`${Math.floor(E/86400)}d ago`:k.toLocaleDateString()},_=o.filter(T=>!T.is_read),w=o.filter(T=>T.is_read);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"notification-bell-container",ref:n,children:t.jsxs("button",{onClick:()=>s(!e),className:"notification-bell-button","aria-label":"Notifications",children:[t.jsx(ax,{size:20}),l>0&&t.jsx("span",{className:"notification-badge",children:l>99?"99+":l})]})}),e&&t.jsxs("div",{className:"notification-dropdown",ref:i,style:{top:`${r.top}px`,right:`${r.right}px`},children:[t.jsxs("div",{className:"notification-header",children:[t.jsx("h3",{className:"notification-title",children:"Notifications"}),t.jsxs("div",{className:"notification-actions",children:[l>0&&t.jsx("button",{onClick:y,className:"notification-action-btn",title:"Mark all as read",children:t.jsx(S_,{size:16})}),w.length>0&&t.jsx("button",{onClick:x,className:"notification-action-btn",title:"Delete all read",children:t.jsx(Is,{size:16})}),t.jsx("button",{onClick:()=>s(!1),className:"notification-action-btn",title:"Close",children:t.jsx(_s,{size:16})})]})]}),t.jsx("div",{className:"notification-list",children:c&&o.length===0?t.jsx("div",{className:"notification-empty",children:t.jsx("div",{className:"notification-loading",children:"Loading notifications..."})}):o.length===0?t.jsxs("div",{className:"notification-empty",children:[t.jsx(ax,{size:48,className:"notification-empty-icon"}),t.jsx("p",{className:"notification-empty-text",children:"No notifications"})]}):t.jsxs(t.Fragment,{children:[_.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Unread"}),_.map(T=>t.jsxs("div",{className:"notification-item unread",onClick:()=>g(T),children:[t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:T.title}),t.jsx("button",{onClick:k=>S(k,T.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(_s,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:T.message}),t.jsxs("div",{className:"notification-item-footer",children:[t.jsx("span",{className:"notification-item-time",children:N(T.created_at)}),t.jsx("div",{className:"notification-item-actions",children:t.jsx("button",{onClick:k=>{k.stopPropagation(),h(T.id)},className:"notification-item-action",title:"Mark as read",children:t.jsx(k_,{size:14})})})]})]}),t.jsx("div",{className:"notification-indicator"})]},T.id))]}),w.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Read"}),w.map(T=>t.jsx("div",{className:"notification-item",onClick:()=>g(T),children:t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:T.title}),t.jsx("button",{onClick:k=>S(k,T.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(_s,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:T.message}),t.jsx("div",{className:"notification-item-footer",children:t.jsx("span",{className:"notification-item-time",children:N(T.created_at)})})]})},T.id))]})]})})]})]})},$n=({children:e})=>{var E;const{user:s,logout:r}=hr(),{headerActions:a,headerTitle:n,headerSubtitle:i}=it(),o=Er(),l=Ka(),[c,h]=f.useState(null),[d,p]=f.useState(!1);f.useEffect(()=>{(async()=>{var R;if((s==null?void 0:s.role)==="instructor")try{const $=await zs.getDashboard(),j=((R=$==null?void 0:$.profile)==null?void 0:R.is_assessor)||($==null?void 0:$.is_assessor)||!1;p(j===!0||j==="true"||j===1)}catch($){console.error("Failed to load instructor assessor status:",$),p((s==null?void 0:s.is_assessor)===!0||(s==null?void 0:s.is_assessor)==="true"||(s==null?void 0:s.is_assessor)===1)}else p(!1)})()},[s]);const[m,u]=f.useState(()=>{const v=localStorage.getItem("sidebarOpen");return v!==null?JSON.parse(v):!0}),[g,y]=f.useState(()=>{const v=localStorage.getItem("sidebarCollapsed");return v!==null?JSON.parse(v):!1}),[S,x]=f.useState(()=>{const v=localStorage.getItem("expandedGroups");return v?JSON.parse(v):{}});f.useEffect(()=>{localStorage.setItem("expandedGroups",JSON.stringify(S))},[S]);const N=v=>{x(R=>({...R,[v]:!R[v]}))};if(f.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(m))},[m]),f.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(g))},[g]),f.useEffect(()=>{s&&(async()=>{if((s==null?void 0:s.role)==="acc_admin")try{const $=(await Qe.getSubscription()).subscription;if($&&$.subscription_end_date){const j=new Date($.subscription_end_date);h(j>new Date)}else h(!1)}catch(R){console.error("Failed to load subscription:",R),h(!1)}else h(!0)})()},[s]),l.pathname==="/pending-account")return e;f.useEffect(()=>{(s==null?void 0:s.role)==="acc_admin"&&c===!1&&(["/acc/subscription","/profile"].some(R=>l.pathname.startsWith(R))||o("/acc/subscription"))},[s,c,l.pathname,o]);const _=async()=>{await r(),o("/login")},T=(()=>{const v=[{type:"single",path:"/dashboard",icon:$_,label:"Dashboard"}];switch(s==null?void 0:s.role){case"group_admin":return[...v,{type:"group",key:"acc-management",icon:Ke,label:"ACC Management",items:[{path:"/admin/accs",icon:nx,label:"ACC Applications"},{path:"/admin/training-center-applications",icon:nx,label:"TC Applications"},{path:"/admin/all-accs",icon:Ke,label:"Accreditation Bodies"}]},{type:"group",key:"training-management",icon:gt,label:"Training & Instructors",items:[{path:"/admin/all-training-centers",icon:Gc,label:"Training Centers"},{path:"/admin/all-instructors",icon:gt,label:"Instructors"},{path:"/admin/instructor-authorizations",icon:vo,label:"Instructor Commissions"}]},{type:"group",key:"courses-management",icon:hs,label:"Courses & Categories",items:[{path:"/admin/all-courses",icon:hs,label:"Courses"},{path:"/admin/categories",icon:ox,label:"Course Categories"}]},{type:"group",key:"financial-settings",icon:_r,label:"Financial & Settings",items:[{path:"/admin/payment-transactions",icon:Kr,label:"Payment Transactions"},{path:"/admin/pending-payments",icon:Be,label:"Pending Payments"},{path:"/admin/stripe-settings",icon:B_,label:"Stripe Settings"}]}];case"acc_admin":return c===!1?[{type:"single",path:"/acc/subscription",icon:_r,label:"Subscription"}]:[...v,{type:"single",path:"/acc/subscription",icon:_r,label:"Subscription"},{type:"group",key:"management",icon:gt,label:"Management",items:[{path:"/acc/training-centers",icon:Ke,label:"Training Centers"},{path:"/acc/instructors",icon:gt,label:"Instructors"}]},{type:"group",key:"courses-content",icon:hs,label:"Courses & Content",items:[{path:"/acc/courses",icon:hs,label:"Courses"},{path:"/acc/classes",icon:Gc,label:"Classes"},{path:"/acc/certificates",icon:Yr,label:"Certificates"},{path:"/acc/discount-codes",icon:gi,label:"Discount Codes"},{path:"/acc/categories",icon:ox,label:"Course Categories"}]},{type:"group",key:"financial",icon:_r,label:"Financial",items:[{path:"/acc/payment-transactions",icon:Kr,label:"Payment Transactions"},{path:"/acc/pending-payments",icon:Be,label:"Pending Payments"}]}];case"training_center_admin":return[...v,{type:"single",path:"/training-center/accs",icon:Ke,label:"Accreditation Bodies"},{type:"group",key:"people-management",icon:gt,label:"People Management",items:[{path:"/training-center/instructors",icon:gt,label:"Instructors"},{path:"/training-center/trainees",icon:vo,label:"Trainees"},{path:"/training-center/instructor-authorizations",icon:vo,label:"Instructor Auth"}]},{type:"group",key:"courses-classes",icon:hs,label:"Courses & Classes",items:[{path:"/training-center/classes",icon:hs,label:"Classes"},{path:"/training-center/certificates",icon:Yr,label:"Certificates"}]},{type:"group",key:"financial",icon:q_,label:"Financial",items:[{path:"/training-center/codes",icon:gi,label:"Codes"},{path:"/training-center/payment-transactions",icon:Kr,label:"Payment Transactions"}]}];case"instructor":return[...v,{type:"single",path:"/instructor/classes",icon:hs,label:"Classes"}];default:return v}})(),k=()=>{if(n)return n;const v=l.pathname;if(v==="/dashboard")return"Dashboard";if(v==="/admin/accs")return"ACC Applications";if(v==="/admin/training-center-applications")return"TC Applications";if(v==="/admin/all-accs")return"Accreditation Bodies";if(v==="/admin/all-training-centers")return"Training Centers";if(v==="/admin/all-instructors")return"Instructors";if(v==="/admin/all-courses")return"Courses";if(v==="/admin/categories")return"Course Categories";if(v==="/admin/instructor-authorizations")return"Instructor Commissions";if(v==="/admin/payment-transactions")return"Payment Transactions";if(v==="/admin/pending-payments")return"Pending Payments";if(v==="/admin/stripe-settings")return"Stripe Settings";if(v==="/acc/dashboard")return"Dashboard";if(v==="/acc/subscription")return"Subscription Management";if(v==="/acc/training-centers")return"Training Centers";if(v==="/acc/instructors")return"Instructors";if(v==="/acc/courses")return"Courses";if(v==="/acc/certificates")return"Certificates";if(v==="/acc/materials")return"Materials";if(v==="/acc/discount-codes")return"Discount Codes";if(v==="/acc/categories")return"Course Categories";if(v==="/acc/classes")return"Classes";if(v==="/acc/payment-transactions")return"Payment Transactions";if(v==="/acc/pending-payments")return"Pending Payments";if(v==="/training-center/dashboard")return"Dashboard";if(v==="/training-center/accs")return"Accreditation Bodies";if(v==="/training-center/instructors")return"Instructors";if(v==="/training-center/trainees")return"Trainees";if(v==="/training-center/classes")return"Classes";if(v==="/training-center/codes")return"Codes";if(v==="/training-center/certificates")return"Certificates";if(v==="/training-center/instructor-authorizations")return"Instructor Authorizations";if(v==="/training-center/payment-transactions"||v==="/training-center/wallet")return"Payment Transactions";if(v==="/training-center/marketplace")return"Marketplace";if(v==="/instructor/dashboard")return"Dashboard";if(v==="/instructor/classes")return"Classes";if(v==="/instructor/materials")return"Materials";if(v==="/instructor/earnings")return"Earnings";if(v==="/profile")return"Profile";const R=v.split("/").filter(Boolean);return R.length>0?R[R.length-1].split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "):"Dashboard"},b=()=>{if(i)return i;const v=l.pathname;return v==="/dashboard"||v==="/acc/dashboard"||v==="/training-center/dashboard"||v==="/instructor/dashboard"?"Welcome back! Here's your overview":v==="/profile"?"Manage your account settings and preferences":"Manage and view your information"};return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-sm shadow-lg px-4 py-3 flex items-center justify-between layout-gradient-primary",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dx,{}),t.jsx("button",{onClick:()=>u(!m),className:"p-2 rounded-lg text-white/80 sidebar-hover transition-all duration-200 hover:scale-110",children:m?t.jsx(_s,{size:24}):t.jsx(M_,{size:24})})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 border-r shadow-xl lg:shadow-none transform transition-all duration-300 ease-out layout-gradient-sidebar ${m?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${g?"w-16":"w-64"}`,style:{overflow:"visible"},children:t.jsxs("div",{className:"flex flex-col h-full max-h-screen overflow-visible",children:[t.jsx("div",{className:`flex-shrink-0 border-b animate-slide-down layout-section-bg ${g?"p-3":"p-4"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[!g&&t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsx("p",{className:"text-xs text-primary-100 mt-1 font-medium truncate",children:(s==null?void 0:s.name)||"User"}),t.jsx("p",{className:"text-xs text-primary-200 mt-0.5 capitalize",children:(s==null?void 0:s.role)==="instructor"?d?"Assessor":"Instructor":((E=s==null?void 0:s.role)==null?void 0:E.replace("_"," "))||""})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>y(!g),className:`p-1.5 rounded-lg text-white/70 sidebar-hover transition-all duration-200 hover:scale-110 ${g?"w-full flex justify-center":""}`,title:g?"Expand sidebar":"Collapse sidebar",children:g?t.jsx(Sv,{size:16}):t.jsx(_v,{size:16})})})]})}),t.jsx("nav",{className:`flex-1 min-h-0 ${g?"p-2 overflow-visible":"p-4 overflow-y-auto custom-scrollbar"}`,style:g?{overflowX:"visible",overflowY:"visible"}:{overflowX:"visible"},children:t.jsx("ul",{className:"space-y-1.5",style:{overflow:"visible"},children:T.map((v,R)=>{if(v.type==="single"){const $=v.icon,j=l.pathname===v.path;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${R*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx($l,{to:v.path,onClick:()=>{u(!1),y(!1)},className:`flex items-center rounded-xl transition-all duration-200 ease-out relative px-2 py-2 justify-center w-full group-hover-trigger ${j?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:bg-white/10"}`,children:$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 ${j?"scale-110":"group-hover:scale-110"}`})}),t.jsx("div",{className:"sidebar-tooltip",children:v.label})]}):t.jsxs($l,{to:v.path,onClick:()=>u(!1),className:`flex items-center rounded-xl transition-all duration-200 ease-out relative group px-4 py-3 min-w-0 ${j?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:scale-105 hover:shadow-md"}`,children:[$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 mr-3 ${j?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:v.label}),j&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"}),!j&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white/50 rounded-r-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},`${v.path}-${R}`)}else if(v.type==="group"){const $=v.icon,j=v.items.some(z=>l.pathname===z.path),P=S[v.key]!==!1;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${R*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx("button",{onClick:()=>y(!1),className:"px-2 py-2 flex justify-center w-full rounded-xl transition-all duration-200 hover:bg-white/10 nav-item-hover group-hover-trigger",children:t.jsx($,{size:20,className:"text-white/80"})}),t.jsx("div",{className:"sidebar-tooltip",children:v.label})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>N(v.key),className:`w-full flex items-center px-3 py-2 rounded-xl transition-all duration-200 ease-out relative group ${j?"bg-white/10 backdrop-blur-sm":"text-white/80 nav-item-hover hover:bg-white/5"}`,children:[$&&t.jsx($,{size:20,className:"transition-all duration-200 flex-shrink-0 mr-3 group-hover:scale-110 text-white/80"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap flex-1 min-w-0 text-left text-white/80",children:v.label}),P?t.jsx(E_,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"}):t.jsx(P_,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"})]}),P&&t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 pl-3 border-l-2 border-white/10",children:v.items.map((z,F)=>{const C=z.icon,A=l.pathname===z.path;return t.jsx("li",{children:t.jsxs($l,{to:z.path,onClick:()=>u(!1),className:`flex items-center px-2 py-1.5 rounded-lg transition-all duration-200 ease-out relative group ${A?"text-[var(--tertiary-color)]":"text-white/70 nav-item-hover hover:bg-white/10 hover:text-white"}`,children:[C&&t.jsx(C,{size:18,className:"transition-all duration-200 flex-shrink-0 mr-2.5 group-hover:scale-110"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:z.label}),A&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"})]})},`${z.path}-${F}`)})})]})},v.key)}return null})})}),t.jsxs("div",{className:"flex-shrink-0 p-3 border-t animate-slide-up layout-section-bg",children:[t.jsxs($l,{to:"/profile",className:`flex items-center px-3 py-2 rounded-lg text-white/80 sidebar-hover mb-1.5 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Settings":"",children:[t.jsx(O_,{size:16,className:`transition-transform duration-200 group-hover:rotate-90 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),t.jsxs("button",{onClick:_,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-300 hover:bg-red-500/20 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Logout":"",children:[t.jsx(Av,{size:16,className:`transition-transform duration-200 group-hover:translate-x-1 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300 overflow-y-auto h-screen lg:ml-0",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full px-8",children:t.jsxs("div",{className:"rounded-b-2xl shadow-xl p-4 lg:p-6 relative overflow-hidden screen-header-gradient",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 screen-pattern-overlay"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:k()}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:b()})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a&&t.jsx("div",{className:"flex items-center gap-2",children:a}),t.jsx(dx,{})]})]})]})}),t.jsx("main",{className:"p-4 lg:p-9 animate-fade-in min-h-full",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden animate-fade-in",onClick:()=>u(!1)})]})},Ko={black:"#000",white:"#fff"},En={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Tn={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},zn={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rn={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fn={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Vi={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},W_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ma(e,...s){const r=new URL(`https://mui.com/production-error/?code=${e}`);return s.forEach(a=>r.searchParams.append("args[]",a)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Dd="$$material";function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qc.apply(null,arguments)}function V_(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]}function H_(e){var s=document.createElement("style");return s.setAttribute("data-emotion",e.key),e.nonce!==void 0&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var G_=function(){function e(r){var a=this;this._insertTag=function(n){var i;a.tags.length===0?a.insertionPoint?i=a.insertionPoint.nextSibling:a.prepend?i=a.container.firstChild:i=a.before:i=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(n,i),a.tags.push(n)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var s=e.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(H_(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=V_(n);try{i.insertRule(a,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var n;return(n=a.parentNode)==null?void 0:n.removeChild(a)}),this.tags=[],this.ctr=0},e}(),ms="-ms-",Yc="-moz-",ft="-webkit-",Pv="comm",Bf="rule",qf="decl",K_="@import",Ev="@keyframes",Q_="@layer",Y_=Math.abs,$d=String.fromCharCode,X_=Object.assign;function J_(e,s){return is(e,0)^45?(((s<<2^is(e,0))<<2^is(e,1))<<2^is(e,2))<<2^is(e,3):0}function Tv(e){return e.trim()}function Z_(e,s){return(e=s.exec(e))?e[0]:e}function ht(e,s,r){return e.replace(s,r)}function hp(e,s){return e.indexOf(s)}function is(e,s){return e.charCodeAt(s)|0}function Qo(e,s,r){return e.slice(s,r)}function Lr(e){return e.length}function Wf(e){return e.length}function Ll(e,s){return s.push(e),e}function eS(e,s){return e.map(s).join("")}var Md=1,xi=1,zv=0,Us=0,Yt=0,Ei="";function Id(e,s,r,a,n,i,o){return{value:e,root:s,parent:r,type:a,props:n,children:i,line:Md,column:xi,length:o,return:""}}function Hi(e,s){return X_(Id("",null,null,"",null,null,0),e,{length:-e.length},s)}function tS(){return Yt}function sS(){return Yt=Us>0?is(Ei,--Us):0,xi--,Yt===10&&(xi=1,Md--),Yt}function Js(){return Yt=Us<zv?is(Ei,Us++):0,xi++,Yt===10&&(xi=1,Md++),Yt}function Qr(){return is(Ei,Us)}function uc(){return Us}function cl(e,s){return Qo(Ei,e,s)}function Yo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rv(e){return Md=xi=1,zv=Lr(Ei=e),Us=0,[]}function Fv(e){return Ei="",e}function mc(e){return Tv(cl(Us-1,gp(e===91?e+2:e===40?e+1:e)))}function rS(e){for(;(Yt=Qr())&&Yt<33;)Js();return Yo(e)>2||Yo(Yt)>3?"":" "}function aS(e,s){for(;--s&&Js()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return cl(e,uc()+(s<6&&Qr()==32&&Js()==32))}function gp(e){for(;Js();)switch(Yt){case e:return Us;case 34:case 39:e!==34&&e!==39&&gp(Yt);break;case 40:e===41&&gp(e);break;case 92:Js();break}return Us}function nS(e,s){for(;Js()&&e+Yt!==57;)if(e+Yt===84&&Qr()===47)break;return"/*"+cl(s,Us-1)+"*"+$d(e===47?e:Js())}function iS(e){for(;!Yo(Qr());)Js();return cl(e,Us)}function oS(e){return Fv(pc("",null,null,null,[""],e=Rv(e),0,[0],e))}function pc(e,s,r,a,n,i,o,l,c){for(var h=0,d=0,p=o,m=0,u=0,g=0,y=1,S=1,x=1,N=0,_="",w=n,T=i,k=a,b=_;S;)switch(g=N,N=Js()){case 40:if(g!=108&&is(b,p-1)==58){hp(b+=ht(mc(N),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:b+=mc(N);break;case 9:case 10:case 13:case 32:b+=rS(g);break;case 92:b+=aS(uc()-1,7);continue;case 47:switch(Qr()){case 42:case 47:Ll(lS(nS(Js(),uc()),s,r),c);break;default:b+="/"}break;case 123*y:l[h++]=Lr(b)*x;case 125*y:case 59:case 0:switch(N){case 0:case 125:S=0;case 59+d:x==-1&&(b=ht(b,/\f/g,"")),u>0&&Lr(b)-p&&Ll(u>32?mx(b+";",a,r,p-1):mx(ht(b," ","")+";",a,r,p-2),c);break;case 59:b+=";";default:if(Ll(k=ux(b,s,r,h,d,n,l,_,w=[],T=[],p),i),N===123)if(d===0)pc(b,s,k,k,w,i,p,l,T);else switch(m===99&&is(b,3)===110?100:m){case 100:case 108:case 109:case 115:pc(e,k,k,a&&Ll(ux(e,k,k,0,0,n,l,_,n,w=[],p),T),n,T,p,l,a?w:T);break;default:pc(b,k,k,k,[""],T,0,l,T)}}h=d=u=0,y=x=1,_=b="",p=o;break;case 58:p=1+Lr(b),u=g;default:if(y<1){if(N==123)--y;else if(N==125&&y++==0&&sS()==125)continue}switch(b+=$d(N),N*y){case 38:x=d>0?1:(b+="\f",-1);break;case 44:l[h++]=(Lr(b)-1)*x,x=1;break;case 64:Qr()===45&&(b+=mc(Js())),m=Qr(),d=p=Lr(_=b+=iS(uc())),N++;break;case 45:g===45&&Lr(b)==2&&(y=0)}}return i}function ux(e,s,r,a,n,i,o,l,c,h,d){for(var p=n-1,m=n===0?i:[""],u=Wf(m),g=0,y=0,S=0;g<a;++g)for(var x=0,N=Qo(e,p+1,p=Y_(y=o[g])),_=e;x<u;++x)(_=Tv(y>0?m[x]+" "+N:ht(N,/&\f/g,m[x])))&&(c[S++]=_);return Id(e,s,r,n===0?Bf:l,c,h,d)}function lS(e,s,r){return Id(e,s,r,Pv,$d(tS()),Qo(e,2,-2),0)}function mx(e,s,r,a){return Id(e,s,r,qf,Qo(e,0,a),Qo(e,a+1,-1),a)}function ai(e,s){for(var r="",a=Wf(e),n=0;n<a;n++)r+=s(e[n],n,e,s)||"";return r}function cS(e,s,r,a){switch(e.type){case Q_:if(e.children.length)break;case K_:case qf:return e.return=e.return||e.value;case Pv:return"";case Ev:return e.return=e.value+"{"+ai(e.children,a)+"}";case Bf:e.value=e.props.join(",")}return Lr(r=ai(e.children,a))?e.return=e.value+"{"+r+"}":""}function dS(e){var s=Wf(e);return function(r,a,n,i){for(var o="",l=0;l<s;l++)o+=e[l](r,a,n,i)||"";return o}}function uS(e){return function(s){s.root||(s=s.return)&&e(s)}}function Dv(e){var s=Object.create(null);return function(r){return s[r]===void 0&&(s[r]=e(r)),s[r]}}var mS=function(s,r,a){for(var n=0,i=0;n=i,i=Qr(),n===38&&i===12&&(r[a]=1),!Yo(i);)Js();return cl(s,Us)},pS=function(s,r){var a=-1,n=44;do switch(Yo(n)){case 0:n===38&&Qr()===12&&(r[a]=1),s[a]+=mS(Us-1,r,a);break;case 2:s[a]+=mc(n);break;case 4:if(n===44){s[++a]=Qr()===58?"&\f":"",r[a]=s[a].length;break}default:s[a]+=$d(n)}while(n=Js());return s},fS=function(s,r){return Fv(pS(Rv(s),r))},px=new WeakMap,hS=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var r=s.value,a=s.parent,n=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&r.charCodeAt(0)!==58&&!px.get(a))&&!n){px.set(s,!0);for(var i=[],o=fS(r,i),l=a.props,c=0,h=0;c<o.length;c++)for(var d=0;d<l.length;d++,h++)s.props[h]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},gS=function(s){if(s.type==="decl"){var r=s.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(s.return="",s.value="")}};function $v(e,s){switch(J_(e,s)){case 5103:return ft+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+e+Yc+e+ms+e+e;case 6828:case 4268:return ft+e+ms+e+e;case 6165:return ft+e+ms+"flex-"+e+e;case 5187:return ft+e+ht(e,/(\w+).+(:[^]+)/,ft+"box-$1$2"+ms+"flex-$1$2")+e;case 5443:return ft+e+ms+"flex-item-"+ht(e,/flex-|-self/,"")+e;case 4675:return ft+e+ms+"flex-line-pack"+ht(e,/align-content|flex-|-self/,"")+e;case 5548:return ft+e+ms+ht(e,"shrink","negative")+e;case 5292:return ft+e+ms+ht(e,"basis","preferred-size")+e;case 6060:return ft+"box-"+ht(e,"-grow","")+ft+e+ms+ht(e,"grow","positive")+e;case 4554:return ft+ht(e,/([^-])(transform)/g,"$1"+ft+"$2")+e;case 6187:return ht(ht(ht(e,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),e,"")+e;case 5495:case 3959:return ht(e,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return ht(ht(e,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+ms+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+e+e;case 4095:case 3583:case 4068:case 2532:return ht(e,/(.+)-inline(.+)/,ft+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lr(e)-1-s>6)switch(is(e,s+1)){case 109:if(is(e,s+4)!==45)break;case 102:return ht(e,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+Yc+(is(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~hp(e,"stretch")?$v(ht(e,"stretch","fill-available"),s)+e:e}break;case 4949:if(is(e,s+1)!==115)break;case 6444:switch(is(e,Lr(e)-3-(~hp(e,"!important")&&10))){case 107:return ht(e,":",":"+ft)+e;case 101:return ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ft+(is(e,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+ms+"$2box$3")+e}break;case 5936:switch(is(e,s+11)){case 114:return ft+e+ms+ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ft+e+ms+ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ft+e+ms+ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ft+e+ms+e+e}return e}var xS=function(s,r,a,n){if(s.length>-1&&!s.return)switch(s.type){case qf:s.return=$v(s.value,s.length);break;case Ev:return ai([Hi(s,{value:ht(s.value,"@","@"+ft)})],n);case Bf:if(s.length)return eS(s.props,function(i){switch(Z_(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ai([Hi(s,{props:[ht(i,/:(read-\w+)/,":"+Yc+"$1")]})],n);case"::placeholder":return ai([Hi(s,{props:[ht(i,/:(plac\w+)/,":"+ft+"input-$1")]}),Hi(s,{props:[ht(i,/:(plac\w+)/,":"+Yc+"$1")]}),Hi(s,{props:[ht(i,/:(plac\w+)/,ms+"input-$1")]})],n)}return""})}},yS=[xS],bS=function(s){var r=s.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var n=s.stylisPlugins||yS,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)i[S[x]]=!0;l.push(y)});var c,h=[hS,gS];{var d,p=[cS,uS(function(y){d.insert(y)})],m=dS(h.concat(n,p)),u=function(S){return ai(oS(S),m)};c=function(S,x,N,_){d=N,u(S?S+"{"+x.styles+"}":x.styles),_&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new G_({key:r,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return g.sheet.hydrate(l),g},Mv={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=typeof Symbol=="function"&&Symbol.for,Vf=rs?Symbol.for("react.element"):60103,Hf=rs?Symbol.for("react.portal"):60106,Ld=rs?Symbol.for("react.fragment"):60107,Od=rs?Symbol.for("react.strict_mode"):60108,Ud=rs?Symbol.for("react.profiler"):60114,Bd=rs?Symbol.for("react.provider"):60109,qd=rs?Symbol.for("react.context"):60110,Gf=rs?Symbol.for("react.async_mode"):60111,Wd=rs?Symbol.for("react.concurrent_mode"):60111,Vd=rs?Symbol.for("react.forward_ref"):60112,Hd=rs?Symbol.for("react.suspense"):60113,vS=rs?Symbol.for("react.suspense_list"):60120,Gd=rs?Symbol.for("react.memo"):60115,Kd=rs?Symbol.for("react.lazy"):60116,jS=rs?Symbol.for("react.block"):60121,NS=rs?Symbol.for("react.fundamental"):60117,CS=rs?Symbol.for("react.responder"):60118,wS=rs?Symbol.for("react.scope"):60119;function rr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Vf:switch(e=e.type,e){case Gf:case Wd:case Ld:case Ud:case Od:case Hd:return e;default:switch(e=e&&e.$$typeof,e){case qd:case Vd:case Kd:case Gd:case Bd:return e;default:return s}}case Hf:return s}}}function Iv(e){return rr(e)===Wd}_t.AsyncMode=Gf;_t.ConcurrentMode=Wd;_t.ContextConsumer=qd;_t.ContextProvider=Bd;_t.Element=Vf;_t.ForwardRef=Vd;_t.Fragment=Ld;_t.Lazy=Kd;_t.Memo=Gd;_t.Portal=Hf;_t.Profiler=Ud;_t.StrictMode=Od;_t.Suspense=Hd;_t.isAsyncMode=function(e){return Iv(e)||rr(e)===Gf};_t.isConcurrentMode=Iv;_t.isContextConsumer=function(e){return rr(e)===qd};_t.isContextProvider=function(e){return rr(e)===Bd};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vf};_t.isForwardRef=function(e){return rr(e)===Vd};_t.isFragment=function(e){return rr(e)===Ld};_t.isLazy=function(e){return rr(e)===Kd};_t.isMemo=function(e){return rr(e)===Gd};_t.isPortal=function(e){return rr(e)===Hf};_t.isProfiler=function(e){return rr(e)===Ud};_t.isStrictMode=function(e){return rr(e)===Od};_t.isSuspense=function(e){return rr(e)===Hd};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ld||e===Wd||e===Ud||e===Od||e===Hd||e===vS||typeof e=="object"&&e!==null&&(e.$$typeof===Kd||e.$$typeof===Gd||e.$$typeof===Bd||e.$$typeof===qd||e.$$typeof===Vd||e.$$typeof===NS||e.$$typeof===CS||e.$$typeof===wS||e.$$typeof===jS)};_t.typeOf=rr;Mv.exports=_t;var _S=Mv.exports,Lv=_S,SS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ov={};Ov[Lv.ForwardRef]=SS;Ov[Lv.Memo]=AS;var kS=!0;function Uv(e,s,r){var a="";return r.split(" ").forEach(function(n){e[n]!==void 0?s.push(e[n]+";"):n&&(a+=n+" ")}),a}var Kf=function(s,r,a){var n=s.key+"-"+r.name;(a===!1||kS===!1)&&s.registered[n]===void 0&&(s.registered[n]=r.styles)},Qf=function(s,r,a){Kf(s,r,a);var n=s.key+"-"+r.name;if(s.inserted[r.name]===void 0){var i=r;do s.insert(r===i?"."+n:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function PS(e){for(var s=0,r,a=0,n=e.length;n>=4;++a,n-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,s=(r&65535)*1540483477+((r>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(n){case 3:s^=(e.charCodeAt(a+2)&255)<<16;case 2:s^=(e.charCodeAt(a+1)&255)<<8;case 1:s^=e.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var ES={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TS=/[A-Z]|^ms/g,zS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bv=function(s){return s.charCodeAt(1)===45},fx=function(s){return s!=null&&typeof s!="boolean"},Ju=Dv(function(e){return Bv(e)?e:e.replace(TS,"-$&").toLowerCase()}),hx=function(s,r){switch(s){case"animation":case"animationName":if(typeof r=="string")return r.replace(zS,function(a,n,i){return Or={name:n,styles:i,next:Or},n})}return ES[s]!==1&&!Bv(s)&&typeof r=="number"&&r!==0?r+"px":r};function Xo(e,s,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var n=r;if(n.anim===1)return Or={name:n.name,styles:n.styles,next:Or},n.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Or={name:o.name,styles:o.styles,next:Or},o=o.next;var l=i.styles+";";return l}return RS(e,s,r)}case"function":{if(e!==void 0){var c=Or,h=r(e);return Or=c,Xo(e,s,h)}break}}var d=r;if(s==null)return d;var p=s[d];return p!==void 0?p:d}function RS(e,s,r){var a="";if(Array.isArray(r))for(var n=0;n<r.length;n++)a+=Xo(e,s,r[n])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?a+=i+"{"+s[l]+"}":fx(l)&&(a+=Ju(i)+":"+hx(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)fx(o[c])&&(a+=Ju(i)+":"+hx(i,o[c])+";");else{var h=Xo(e,s,o);switch(i){case"animation":case"animationName":{a+=Ju(i)+":"+h+";";break}default:a+=i+"{"+h+"}"}}}return a}var gx=/label:\s*([^\s;{]+)\s*(;|$)/g,Or;function dl(e,s,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,n="";Or=void 0;var i=e[0];if(i==null||i.raw===void 0)a=!1,n+=Xo(r,s,i);else{var o=i;n+=o[0]}for(var l=1;l<e.length;l++)if(n+=Xo(r,s,e[l]),a){var c=i;n+=c[l]}gx.lastIndex=0;for(var h="",d;(d=gx.exec(n))!==null;)h+="-"+d[1];var p=PS(n)+h;return{name:p,styles:n,next:Or}}var FS=function(s){return s()},qv=yc.useInsertionEffect?yc.useInsertionEffect:!1,Wv=qv||FS,xx=qv||f.useLayoutEffect,Vv=f.createContext(typeof HTMLElement<"u"?bS({key:"css"}):null);Vv.Provider;var Yf=function(s){return f.forwardRef(function(r,a){var n=f.useContext(Vv);return s(r,n,a)})},Qd=f.createContext({}),Xf={}.hasOwnProperty,xp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",DS=function(s,r){var a={};for(var n in r)Xf.call(r,n)&&(a[n]=r[n]);return a[xp]=s,a},$S=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Kf(r,a,n),Wv(function(){return Qf(r,a,n)}),null},MS=Yf(function(e,s,r){var a=e.css;typeof a=="string"&&s.registered[a]!==void 0&&(a=s.registered[a]);var n=e[xp],i=[a],o="";typeof e.className=="string"?o=Uv(s.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=dl(i,void 0,f.useContext(Qd));o+=s.key+"-"+l.name;var c={};for(var h in e)Xf.call(e,h)&&h!=="css"&&h!==xp&&(c[h]=e[h]);return c.className=o,r&&(c.ref=r),f.createElement(f.Fragment,null,f.createElement($S,{cache:s,serialized:l,isStringTag:typeof n=="string"}),f.createElement(n,c))}),IS=MS,yx=function(s,r){var a=arguments;if(r==null||!Xf.call(r,"css"))return f.createElement.apply(void 0,a);var n=a.length,i=new Array(n);i[0]=IS,i[1]=DS(s,r);for(var o=2;o<n;o++)i[o]=a[o];return f.createElement.apply(null,i)};(function(e){var s;s||(s=e.JSX||(e.JSX={}))})(yx||(yx={}));var LS=Yf(function(e,s){var r=e.styles,a=dl([r],void 0,f.useContext(Qd)),n=f.useRef();return xx(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+a.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),n.current=[o,l],function(){o.flush()}},[s]),xx(function(){var i=n.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(a.next!==void 0&&Qf(s,a.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",a,o,!1)},[s,a.name]),null});function Jf(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return dl(s)}function ul(){var e=Jf.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var OS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,US=Dv(function(e){return OS.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),BS=US,qS=function(s){return s!=="theme"},bx=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?BS:qS},vx=function(s,r,a){var n;if(r){var i=r.shouldForwardProp;n=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&a&&(n=s.__emotion_forwardProp),n},WS=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Kf(r,a,n),Wv(function(){return Qf(r,a,n)}),null},VS=function e(s,r){var a=s.__emotion_real===s,n=a&&s.__emotion_base||s,i,o;r!==void 0&&(i=r.label,o=r.target);var l=vx(s,r,a),c=l||bx(n),h=!c("as");return function(){var d=arguments,p=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var m=d[0];p.push(m[0]);for(var u=d.length,g=1;g<u;g++)p.push(d[g],m[g])}var y=Yf(function(S,x,N){var _=h&&S.as||n,w="",T=[],k=S;if(S.theme==null){k={};for(var b in S)k[b]=S[b];k.theme=f.useContext(Qd)}typeof S.className=="string"?w=Uv(x.registered,T,S.className):S.className!=null&&(w=S.className+" ");var E=dl(p.concat(T),x.registered,k);w+=x.key+"-"+E.name,o!==void 0&&(w+=" "+o);var v=h&&l===void 0?bx(_):c,R={};for(var $ in S)h&&$==="as"||v($)&&(R[$]=S[$]);return R.className=w,N&&(R.ref=N),f.createElement(f.Fragment,null,f.createElement(WS,{cache:x,serialized:E,isStringTag:typeof _=="string"}),f.createElement(_,R))});return y.displayName=i!==void 0?i:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",y.defaultProps=s.defaultProps,y.__emotion_real=y,y.__emotion_base=n,y.__emotion_styles=p,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(S,x){var N=e(S,Qc({},r,x,{shouldForwardProp:vx(y,x,!0)}));return N.apply(void 0,p)},y}},HS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yp=VS.bind(null);HS.forEach(function(e){yp[e]=yp(e)});var Hv={exports:{}},GS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KS=GS,QS=KS;function Gv(){}function Kv(){}Kv.resetWarningCache=Gv;var YS=function(){function e(a,n,i,o,l,c){if(c!==QS){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function s(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Kv,resetWarningCache:Gv};return r.PropTypes=r,r};Hv.exports=YS();var XS=Hv.exports;const kt=Dp(XS);function JS(e){return e==null||Object.keys(e).length===0}function ZS(e){const{styles:s,defaultTheme:r={}}=e,a=typeof s=="function"?n=>s(JS(n)?r:n):s;return t.jsx(LS,{styles:a})}function Qv(e,s){return yp(e,s)}function eA(e,s){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=s(e.__emotion_styles))}const jx=[];function La(e){return jx[0]=e,dl(jx)}var Yv={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.transitional.element"),eh=Symbol.for("react.portal"),Yd=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),Zd=Symbol.for("react.consumer"),eu=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),ru=Symbol.for("react.suspense_list"),au=Symbol.for("react.memo"),nu=Symbol.for("react.lazy"),tA=Symbol.for("react.view_transition"),sA=Symbol.for("react.client.reference");function gr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Zf:switch(e=e.type,e){case Yd:case Jd:case Xd:case su:case ru:case tA:return e;default:switch(e=e&&e.$$typeof,e){case eu:case tu:case nu:case au:return e;case Zd:return e;default:return s}}case eh:return s}}}Et.ContextConsumer=Zd;Et.ContextProvider=eu;Et.Element=Zf;Et.ForwardRef=tu;Et.Fragment=Yd;Et.Lazy=nu;Et.Memo=au;Et.Portal=eh;Et.Profiler=Jd;Et.StrictMode=Xd;Et.Suspense=su;Et.SuspenseList=ru;Et.isContextConsumer=function(e){return gr(e)===Zd};Et.isContextProvider=function(e){return gr(e)===eu};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf};Et.isForwardRef=function(e){return gr(e)===tu};Et.isFragment=function(e){return gr(e)===Yd};Et.isLazy=function(e){return gr(e)===nu};Et.isMemo=function(e){return gr(e)===au};Et.isPortal=function(e){return gr(e)===eh};Et.isProfiler=function(e){return gr(e)===Jd};Et.isStrictMode=function(e){return gr(e)===Xd};Et.isSuspense=function(e){return gr(e)===su};Et.isSuspenseList=function(e){return gr(e)===ru};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yd||e===Jd||e===Xd||e===su||e===ru||typeof e=="object"&&e!==null&&(e.$$typeof===nu||e.$$typeof===au||e.$$typeof===eu||e.$$typeof===Zd||e.$$typeof===tu||e.$$typeof===sA||e.getModuleId!==void 0)};Et.typeOf=gr;Yv.exports=Et;var Xv=Yv.exports;function Vr(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jv(e){if(f.isValidElement(e)||Xv.isValidElementType(e)||!Vr(e))return e;const s={};return Object.keys(e).forEach(r=>{s[r]=Jv(e[r])}),s}function ys(e,s,r={clone:!0}){const a=r.clone?{...e}:e;return Vr(e)&&Vr(s)&&Object.keys(s).forEach(n=>{f.isValidElement(s[n])||Xv.isValidElementType(s[n])?a[n]=s[n]:Vr(s[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Vr(e[n])?a[n]=ys(e[n],s[n],r):r.clone?a[n]=Vr(s[n])?Jv(s[n]):s[n]:a[n]=s[n]}),a}const rA=e=>{const s=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return s.sort((r,a)=>r.val-a.val),s.reduce((r,a)=>({...r,[a.key]:a.val}),{})};function aA(e){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:a=5,...n}=e,i=rA(s),o=Object.keys(i);function l(m){return`@media (min-width:${typeof s[m]=="number"?s[m]:m}${r})`}function c(m){return`@media (max-width:${(typeof s[m]=="number"?s[m]:m)-a/100}${r})`}function h(m,u){const g=o.indexOf(u);return`@media (min-width:${typeof s[m]=="number"?s[m]:m}${r}) and (max-width:${(g!==-1&&typeof s[o[g]]=="number"?s[o[g]]:u)-a/100}${r})`}function d(m){return o.indexOf(m)+1<o.length?h(m,o[o.indexOf(m)+1]):l(m)}function p(m){const u=o.indexOf(m);return u===0?l(o[1]):u===o.length-1?c(o[u]):h(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:h,only:d,not:p,unit:r,...n}}function Nx(e,s){if(!e.containerQueries)return s;const r=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,n)=>{var o,l;const i=/min-width:\s*([0-9.]+)/;return+(((o=a.match(i))==null?void 0:o[1])||0)-+(((l=n.match(i))==null?void 0:l[1])||0)});return r.length?r.reduce((a,n)=>{const i=s[n];return delete a[n],a[n]=i,a},{...s}):s}function nA(e,s){return s==="@"||s.startsWith("@")&&(e.some(r=>s.startsWith(`@${r}`))||!!s.match(/^@\d/))}function iA(e,s){const r=s.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,a,n]=r,i=Number.isNaN(+a)?a||0:+a;return e.containerQueries(n).up(i)}function oA(e){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...l)=>s(e.breakpoints.up(...l),o),i.down=(...l)=>s(e.breakpoints.down(...l),o),i.between=(...l)=>s(e.breakpoints.between(...l),o),i.only=(...l)=>s(e.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(e.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const a={},n=i=>(r(a,i),a);return r(n),{...e,containerQueries:n}}const lA={borderRadius:4};function jo(e,s){return s?ys(e,s,{clone:!1}):e}const iu={xs:0,sm:600,md:900,lg:1200,xl:1536},Cx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${iu[e]}px)`},cA={containerQueries:e=>({up:s=>{let r=typeof s=="number"?s:iu[s]||s;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function pa(e,s,r){const a=e.theme||{};if(Array.isArray(s)){const i=a.breakpoints||Cx;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=r(s[c]),o),{})}if(typeof s=="object"){const i=a.breakpoints||Cx;return Object.keys(s).reduce((o,l)=>{if(nA(i.keys,l)){const c=iA(a.containerQueries?a:cA,l);c&&(o[c]=r(s[l],l))}else if(Object.keys(i.values||iu).includes(l)){const c=i.up(l);o[c]=r(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return r(s)}function dA(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((a,n)=>{const i=e.up(n);return a[i]={},a},{}))||{}}function wx(e,s){return e.reduce((r,a)=>{const n=r[a];return(!n||Object.keys(n).length===0)&&delete r[a],r},s)}function qe(e){if(typeof e!="string")throw new Error(ma(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ur(e,s,r=!0){if(!s||typeof s!="string")return null;if(e&&e.vars&&r){const a=`vars.${s}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,e);if(a!=null)return a}return s.split(".").reduce((a,n)=>a&&a[n]!=null?a[n]:null,e)}function Xc(e,s,r,a=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||a:n=Ur(e,r)||a,s&&(n=s(n,a,e)),n}function Qt(e){const{prop:s,cssProperty:r=e.prop,themeKey:a,transform:n}=e,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,h=Ur(c,a)||{};return pa(o,l,p=>{let m=Xc(h,n,p);return p===m&&typeof p=="string"&&(m=Xc(h,n,`${s}${p==="default"?"":qe(p)}`,p)),r===!1?m:{[r]:m}})};return i.propTypes={},i.filterProps=[s],i}function uA(e){const s={};return r=>(s[r]===void 0&&(s[r]=e(r)),s[r])}const mA={m:"margin",p:"padding"},pA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_x={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fA=uA(e=>{if(e.length>2)if(_x[e])e=_x[e];else return[e];const[s,r]=e.split(""),a=mA[s],n=pA[r]||"";return Array.isArray(n)?n.map(i=>a+i):[a+n]}),th=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sh=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...th,...sh];function ml(e,s,r,a){const n=Ur(e,s,!0)??r;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=n[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof n=="function"?n:()=>{}}function rh(e){return ml(e,"spacing",8)}function pl(e,s){return typeof s=="string"||s==null?s:e(s)}function hA(e,s){return r=>e.reduce((a,n)=>(a[n]=pl(s,r),a),{})}function gA(e,s,r,a){if(!s.includes(r))return null;const n=fA(r),i=hA(n,a),o=e[r];return pa(e,o,i)}function Zv(e,s){const r=rh(e.theme);return Object.keys(e).map(a=>gA(e,s,a,r)).reduce(jo,{})}function Wt(e){return Zv(e,th)}Wt.propTypes={};Wt.filterProps=th;function Vt(e){return Zv(e,sh)}Vt.propTypes={};Vt.filterProps=sh;function ej(e=8,s=rh({spacing:e})){if(e.mui)return e;const r=(...a)=>(a.length===0?[1]:a).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function ou(...e){const s=e.reduce((a,n)=>(n.filterProps.forEach(i=>{a[i]=n}),a),{}),r=a=>Object.keys(a).reduce((n,i)=>s[i]?jo(n,s[i](a)):n,{});return r.propTypes={},r.filterProps=e.reduce((a,n)=>a.concat(n.filterProps),[]),r}function or(e){return typeof e!="number"?e:`${e}px solid`}function xr(e,s){return Qt({prop:e,themeKey:"borders",transform:s})}const xA=xr("border",or),yA=xr("borderTop",or),bA=xr("borderRight",or),vA=xr("borderBottom",or),jA=xr("borderLeft",or),NA=xr("borderColor"),CA=xr("borderTopColor"),wA=xr("borderRightColor"),_A=xr("borderBottomColor"),SA=xr("borderLeftColor"),AA=xr("outline",or),kA=xr("outlineColor"),lu=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const s=ml(e.theme,"shape.borderRadius",4),r=a=>({borderRadius:pl(s,a)});return pa(e,e.borderRadius,r)}return null};lu.propTypes={};lu.filterProps=["borderRadius"];ou(xA,yA,bA,vA,jA,NA,CA,wA,_A,SA,lu,AA,kA);const cu=e=>{if(e.gap!==void 0&&e.gap!==null){const s=ml(e.theme,"spacing",8),r=a=>({gap:pl(s,a)});return pa(e,e.gap,r)}return null};cu.propTypes={};cu.filterProps=["gap"];const du=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const s=ml(e.theme,"spacing",8),r=a=>({columnGap:pl(s,a)});return pa(e,e.columnGap,r)}return null};du.propTypes={};du.filterProps=["columnGap"];const uu=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const s=ml(e.theme,"spacing",8),r=a=>({rowGap:pl(s,a)});return pa(e,e.rowGap,r)}return null};uu.propTypes={};uu.filterProps=["rowGap"];const PA=Qt({prop:"gridColumn"}),EA=Qt({prop:"gridRow"}),TA=Qt({prop:"gridAutoFlow"}),zA=Qt({prop:"gridAutoColumns"}),RA=Qt({prop:"gridAutoRows"}),FA=Qt({prop:"gridTemplateColumns"}),DA=Qt({prop:"gridTemplateRows"}),$A=Qt({prop:"gridTemplateAreas"}),MA=Qt({prop:"gridArea"});ou(cu,du,uu,PA,EA,TA,zA,RA,FA,DA,$A,MA);function ni(e,s){return s==="grey"?s:e}const IA=Qt({prop:"color",themeKey:"palette",transform:ni}),LA=Qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ni}),OA=Qt({prop:"backgroundColor",themeKey:"palette",transform:ni});ou(IA,LA,OA);function Ks(e){return e<=1&&e!==0?`${e*100}%`:e}const UA=Qt({prop:"width",transform:Ks}),ah=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const s=r=>{var n,i,o,l,c;const a=((o=(i=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:i.values)==null?void 0:o[r])||iu[r];return a?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Ks(r)}};return pa(e,e.maxWidth,s)}return null};ah.filterProps=["maxWidth"];const BA=Qt({prop:"minWidth",transform:Ks}),qA=Qt({prop:"height",transform:Ks}),WA=Qt({prop:"maxHeight",transform:Ks}),VA=Qt({prop:"minHeight",transform:Ks});Qt({prop:"size",cssProperty:"width",transform:Ks});Qt({prop:"size",cssProperty:"height",transform:Ks});const HA=Qt({prop:"boxSizing"});ou(UA,ah,BA,qA,WA,VA,HA);const fl={border:{themeKey:"borders",transform:or},borderTop:{themeKey:"borders",transform:or},borderRight:{themeKey:"borders",transform:or},borderBottom:{themeKey:"borders",transform:or},borderLeft:{themeKey:"borders",transform:or},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:or},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lu},color:{themeKey:"palette",transform:ni},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ni},backgroundColor:{themeKey:"palette",transform:ni},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Wt},mt:{style:Wt},mr:{style:Wt},mb:{style:Wt},ml:{style:Wt},mx:{style:Wt},my:{style:Wt},margin:{style:Wt},marginTop:{style:Wt},marginRight:{style:Wt},marginBottom:{style:Wt},marginLeft:{style:Wt},marginX:{style:Wt},marginY:{style:Wt},marginInline:{style:Wt},marginInlineStart:{style:Wt},marginInlineEnd:{style:Wt},marginBlock:{style:Wt},marginBlockStart:{style:Wt},marginBlockEnd:{style:Wt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cu},rowGap:{style:uu},columnGap:{style:du},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ks},maxWidth:{style:ah},minWidth:{transform:Ks},height:{transform:Ks},maxHeight:{transform:Ks},minHeight:{transform:Ks},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function GA(...e){const s=e.reduce((a,n)=>a.concat(Object.keys(n)),[]),r=new Set(s);return e.every(a=>r.size===Object.keys(a).length)}function KA(e,s){return typeof e=="function"?e(s):e}function QA(){function e(r,a,n,i){const o={[r]:a,theme:n},l=i[r];if(!l)return{[r]:a};const{cssProperty:c=r,themeKey:h,transform:d,style:p}=l;if(a==null)return null;if(h==="typography"&&a==="inherit")return{[r]:a};const m=Ur(n,h)||{};return p?p(o):pa(o,a,g=>{let y=Xc(m,d,g);return g===y&&typeof g=="string"&&(y=Xc(m,d,`${r}${g==="default"?"":qe(g)}`,g)),c===!1?y:{[c]:y}})}function s(r){const{sx:a,theme:n={},nested:i}=r||{};if(!a)return null;const o=n.unstable_sxConfig??fl;function l(c){let h=c;if(typeof c=="function")h=c(n);else if(typeof c!="object")return c;if(!h)return null;const d=dA(n.breakpoints),p=Object.keys(d);let m=d;return Object.keys(h).forEach(u=>{const g=KA(h[u],n);if(g!=null)if(typeof g=="object")if(o[u])m=jo(m,e(u,g,n,o));else{const y=pa({theme:n},g,S=>({[u]:S}));GA(y,g)?m[u]=s({sx:g,theme:n,nested:!0}):m=jo(m,y)}else m=jo(m,e(u,g,n,o))}),!i&&n.modularCssLayers?{"@layer sx":Nx(n,wx(p,m))}:Nx(n,wx(p,m))}return Array.isArray(a)?a.map(l):l(a)}return s}const Cn=QA();Cn.filterProps=["sx"];function YA(e,s){var a;const r=this;if(r.vars){if(!((a=r.colorSchemes)!=null&&a[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?s:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:s})}return r.palette.mode===e?s:{}}function nh(e={},...s){const{breakpoints:r={},palette:a={},spacing:n,shape:i={},...o}=e,l=aA(r),c=ej(n);let h=ys({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:c,shape:{...lA,...i}},o);return h=oA(h),h.applyStyles=YA,h=s.reduce((d,p)=>ys(d,p),h),h.unstable_sxConfig={...fl,...o==null?void 0:o.unstable_sxConfig},h.unstable_sx=function(p){return Cn({sx:p,theme:this})},h}function XA(e){return Object.keys(e).length===0}function JA(e=null){const s=f.useContext(Qd);return!s||XA(s)?e:s}const ZA=nh();function ih(e=ZA){return JA(e)}function Zu(e){const s=La(e);return e!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):e}function e4({styles:e,themeId:s,defaultTheme:r={}}){const a=ih(r),n=s&&a[s]||a;let i=typeof e=="function"?e(n):e;return n.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>Zu(typeof o=="function"?o(n):o)):i=Zu(i)),t.jsx(ZS,{styles:i})}const t4=e=>{var a;const s={systemProps:{},otherProps:{}},r=((a=e==null?void 0:e.theme)==null?void 0:a.unstable_sxConfig)??fl;return Object.keys(e).forEach(n=>{r[n]?s.systemProps[n]=e[n]:s.otherProps[n]=e[n]}),s};function tj(e){const{sx:s,...r}=e,{systemProps:a,otherProps:n}=t4(r);let i;return Array.isArray(s)?i=[a,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Vr(l)?{...a,...l}:a}:i={...a,...s},{...n,sx:i}}const Sx=e=>e,s4=()=>{let e=Sx;return{configure(s){e=s},generate(s){return e(s)},reset(){e=Sx}}},sj=s4();function rj(e){var s,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(r=rj(e[s]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Je(){for(var e,s,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(s=rj(e))&&(a&&(a+=" "),a+=s);return a}function r4(e={}){const{themeId:s,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:n}=e,i=Qv("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Cn);return f.forwardRef(function(c,h){const d=ih(r),{className:p,component:m="div",...u}=tj(c);return t.jsx(i,{as:m,ref:h,className:Je(p,n?n(a):a),theme:s&&d[s]||d,...u})})}const a4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function xt(e,s,r="Mui"){const a=a4[s];return a?`${r}-${a}`:`${sj.generate(e)}-${s}`}function mt(e,s,r="Mui"){const a={};return s.forEach(n=>{a[n]=xt(e,n,r)}),a}function aj(e){const{variants:s,...r}=e,a={variants:s,style:La(r),isProcessed:!0};return a.style===r||s&&s.forEach(n=>{typeof n.style!="function"&&(n.style=La(n.style))}),a}const n4=nh();function em(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ln(e,s){return s&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${s}{${String(e.styles)}}`),e}function i4(e){return e?(s,r)=>r[e]:null}function o4(e,s,r){e.theme=d4(e.theme)?r:e.theme[s]||e.theme}function fc(e,s,r){const a=typeof s=="function"?s(e):s;if(Array.isArray(a))return a.flatMap(n=>fc(e,n,r));if(Array.isArray(a==null?void 0:a.variants)){let n;if(a.isProcessed)n=r?ln(a.style,r):a.style;else{const{variants:i,...o}=a;n=r?ln(La(o),r):o}return nj(e,a.variants,[n],r)}return a!=null&&a.isProcessed?r?ln(La(a.style),r):a.style:r?ln(La(a),r):a}function nj(e,s,r=[],a=void 0){var i;let n;e:for(let o=0;o<s.length;o+=1){const l=s[o];if(typeof l.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(n))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a?ln(La(l.style(n)),a):l.style(n))):r.push(a?ln(La(l.style),a):l.style)}return r}function l4(e={}){const{themeId:s,defaultTheme:r=n4,rootShouldForwardProp:a=em,slotShouldForwardProp:n=em}=e;function i(l){o4(l,s,r)}return(l,c={})=>{eA(l,k=>k.filter(b=>b!==Cn));const{name:h,slot:d,skipVariantsResolver:p,skipSx:m,overridesResolver:u=i4(m4(d)),...g}=c,y=h&&h.startsWith("Mui")||d?"components":"custom",S=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,x=m||!1;let N=em;d==="Root"||d==="root"?N=a:d?N=n:u4(l)&&(N=void 0);const _=Qv(l,{shouldForwardProp:N,label:c4(),...g}),w=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(E){return fc(E,k,E.theme.modularCssLayers?y:void 0)};if(Vr(k)){const b=aj(k);return function(v){return b.variants?fc(v,b,v.theme.modularCssLayers?y:void 0):v.theme.modularCssLayers?ln(b.style,y):b.style}}return k},T=(...k)=>{const b=[],E=k.map(w),v=[];if(b.push(i),h&&u&&v.push(function(P){var A,M;const F=(M=(A=P.theme.components)==null?void 0:A[h])==null?void 0:M.styleOverrides;if(!F)return null;const C={};for(const D in F)C[D]=fc(P,F[D],P.theme.modularCssLayers?"theme":void 0);return u(P,C)}),h&&!S&&v.push(function(P){var C,A;const z=P.theme,F=(A=(C=z==null?void 0:z.components)==null?void 0:C[h])==null?void 0:A.variants;return F?nj(P,F,[],P.theme.modularCssLayers?"theme":void 0):null}),x||v.push(Cn),Array.isArray(E[0])){const j=E.shift(),P=new Array(b.length).fill(""),z=new Array(v.length).fill("");let F;F=[...P,...j,...z],F.raw=[...P,...j.raw,...z],b.unshift(F)}const R=[...b,...E,...v],$=_(...R);return l.muiName&&($.muiName=l.muiName),$};return _.withConfig&&(T.withConfig=_.withConfig),T}}function c4(e,s){return void 0}function d4(e){for(const s in e)return!1;return!0}function u4(e){return typeof e=="string"&&e.charCodeAt(0)>96}function m4(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Jc(e,s,r=!1){const a={...s};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")a[i]={...e[i],...a[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],l=s[i];if(!l)a[i]=o||{};else if(!o)a[i]=l;else{a[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const h=c;a[i][h]=Jc(o[h],l[h],r)}}}else i==="className"&&r&&s.className?a.className=Je(e==null?void 0:e.className,s==null?void 0:s.className):i==="style"&&r&&s.style?a.style={...e==null?void 0:e.style,...s==null?void 0:s.style}:a[i]===void 0&&(a[i]=e[i])}return a}const wn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function p4(e,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(e,r))}function oh(e,s=0,r=1){return p4(e,s,r)}function f4(e){e=e.slice(1);const s=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(s);return r&&r[0].length===1&&(r=r.map(a=>a+a)),r?`rgb${r.length===4?"a":""}(${r.map((a,n)=>n<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Ba(e){if(e.type)return e;if(e.charAt(0)==="#")return Ba(f4(e));const s=e.indexOf("("),r=e.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(ma(9,e));let a=e.substring(s+1,e.length-1),n;if(r==="color"){if(a=a.split(" "),n=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(ma(10,n))}else a=a.split(",");return a=a.map(i=>parseFloat(i)),{type:r,values:a,colorSpace:n}}const h4=e=>{const s=Ba(e);return s.values.slice(0,3).map((r,a)=>s.type.includes("hsl")&&a!==0?`${r}%`:r).join(" ")},no=(e,s)=>{try{return h4(e)}catch{return e}};function mu(e){const{type:s,colorSpace:r}=e;let{values:a}=e;return s.includes("rgb")?a=a.map((n,i)=>i<3?parseInt(n,10):n):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${r} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function ij(e){e=Ba(e);const{values:s}=e,r=s[0],a=s[1]/100,n=s[2]/100,i=a*Math.min(n,1-n),o=(h,d=(h+r/30)%12)=>n-i*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",c.push(s[3])),mu({type:l,values:c})}function bp(e){e=Ba(e);let s=e.type==="hsl"||e.type==="hsla"?Ba(ij(e)).values:e.values;return s=s.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function g4(e,s){const r=bp(e),a=bp(s);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}function Jo(e,s){return e=Ba(e),s=oh(s),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${s}`:e.values[3]=s,mu(e)}function Ya(e,s,r){try{return Jo(e,s)}catch{return e}}function pu(e,s){if(e=Ba(e),s=oh(s),e.type.includes("hsl"))e.values[2]*=1-s;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-s;return mu(e)}function Nt(e,s,r){try{return pu(e,s)}catch{return e}}function fu(e,s){if(e=Ba(e),s=oh(s),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*s;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*s;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*s;return mu(e)}function Ct(e,s,r){try{return fu(e,s)}catch{return e}}function x4(e,s=.15){return bp(e)>.5?pu(e,s):fu(e,s)}function Ol(e,s,r){try{return x4(e,s)}catch{return e}}const y4=f.createContext(),b4=()=>f.useContext(y4)??!1,v4=f.createContext(void 0);function j4(e){const{theme:s,name:r,props:a}=e;if(!s||!s.components||!s.components[r])return a;const n=s.components[r];return n.defaultProps?Jc(n.defaultProps,a,s.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?Jc(n,a,s.components.mergeClassNameAndStyle):a}function N4({props:e,name:s}){const r=f.useContext(v4);return j4({props:e,name:s,theme:{components:r}})}let Ax=0;function C4(e){const[s,r]=f.useState(e),a=e||s;return f.useEffect(()=>{s==null&&(Ax+=1,r(`mui-${Ax}`))},[s]),a}const w4={...yc},kx=w4.useId;function hl(e){if(kx!==void 0){const s=kx();return e??s}return C4(e)}const Px={theme:void 0};function _4(e){let s,r;return function(n){let i=s;return(i===void 0||n.theme!==r)&&(Px.theme=n.theme,i=aj(e(Px)),s=i,r=n.theme),i}}function S4(e=""){function s(...a){if(!a.length)return"";const n=a[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${s(...a.slice(1))})`:`, ${n}`}return(a,...n)=>`var(--${e?`${e}-`:""}${a}${s(...n)})`}const Ex=(e,s,r,a=[])=>{let n=e;s.forEach((i,o)=>{o===s.length-1?Array.isArray(n)?n[Number(i)]=r:n&&typeof n=="object"&&(n[i]=r):n&&typeof n=="object"&&(n[i]||(n[i]=a.includes(i)?[]:{}),n=n[i])})},A4=(e,s,r)=>{function a(n,i=[],o=[]){Object.entries(n).forEach(([l,c])=>{(!r||r&&!r([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?a(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}a(e)},k4=(e,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>e.includes(a))||e[e.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function tm(e,s){const{prefix:r,shouldSkipGeneratingVar:a}=s||{},n={},i={},o={};return A4(e,(l,c,h)=>{if((typeof c=="string"||typeof c=="number")&&(!a||!a(l,c))){const d=`--${r?`${r}-`:""}${l.join("-")}`,p=k4(l,c);Object.assign(n,{[d]:p}),Ex(i,l,`var(${d})`,h),Ex(o,l,`var(${d}, ${p})`,h)}},l=>l[0]==="vars"),{css:n,vars:i,varsWithDefaults:o}}function P4(e,s={}){const{getSelector:r=x,disableCssColorScheme:a,colorSchemeSelector:n,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...h}=e,{vars:d,css:p,varsWithDefaults:m}=tm(h,s);let u=m;const g={},{[c]:y,...S}=o;if(Object.entries(S||{}).forEach(([w,T])=>{const{vars:k,css:b,varsWithDefaults:E}=tm(T,s);u=ys(u,E),g[w]={css:b,vars:k}}),y){const{css:w,vars:T,varsWithDefaults:k}=tm(y,s);u=ys(u,k),g[c]={css:w,vars:T}}function x(w,T){var b,E;let k=n;if(n==="class"&&(k=".%s"),n==="data"&&(k="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(k=`[${n}="%s"]`),w){if(k==="media")return e.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((E=(b=o[w])==null?void 0:b.palette)==null?void 0:E.mode)||w})`]:{":root":T}};if(k)return e.defaultColorScheme===w?`:root, ${k.replace("%s",String(w))}`:k.replace("%s",String(w))}return":root"}return{vars:u,generateThemeVars:()=>{let w={...d};return Object.entries(g).forEach(([,{vars:T}])=>{w=ys(w,T)}),w},generateStyleSheets:()=>{var v,R;const w=[],T=e.defaultColorScheme||"light";function k($,j){Object.keys(j).length&&w.push(typeof $=="string"?{[$]:{...j}}:$)}k(r(void 0,{...p}),p);const{[T]:b,...E}=g;if(b){const{css:$}=b,j=(R=(v=o[T])==null?void 0:v.palette)==null?void 0:R.mode,P=!a&&j?{colorScheme:j,...$}:{...$};k(r(T,{...P}),P)}return Object.entries(E).forEach(([$,{css:j}])=>{var F,C;const P=(C=(F=o[$])==null?void 0:F.palette)==null?void 0:C.mode,z=!a&&P?{colorScheme:P,...j}:{...j};k(r($,{...z}),z)}),i&&w.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),w}}}function E4(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function yt(e,s,r=void 0){const a={};for(const n in e){const i=e[n];let o="",l=!0;for(let c=0;c<i.length;c+=1){const h=i[c];h&&(o+=(l===!0?"":" ")+s(h),l=!1,r&&r[h]&&(o+=" "+r[h]))}a[n]=o}return a}function sm(e,s){var r,a,n;return f.isValidElement(e)&&s.indexOf(e.type.muiName??((n=(a=(r=e.type)==null?void 0:r._payload)==null?void 0:a.value)==null?void 0:n.muiName))!==-1}function oj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ko.white,default:Ko.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const lj=oj();function cj(){return{text:{primary:Ko.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ko.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vp=cj();function Tx(e,s,r,a){const n=a.light||a,i=a.dark||a*1.5;e[s]||(e.hasOwnProperty(r)?e[s]=e[r]:s==="light"?e.light=fu(e.main,n):s==="dark"&&(e.dark=pu(e.main,i)))}function zx(e,s,r,a,n){const i=n.light||n,o=n.dark||n*1.5;s[r]||(s.hasOwnProperty(a)?s[r]=s[a]:r==="light"?s.light=`color-mix(in ${e}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(s.dark=`color-mix(in ${e}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function T4(e="light"){return e==="dark"?{main:zn[200],light:zn[50],dark:zn[400]}:{main:zn[700],light:zn[400],dark:zn[800]}}function z4(e="light"){return e==="dark"?{main:Tn[200],light:Tn[50],dark:Tn[400]}:{main:Tn[500],light:Tn[300],dark:Tn[700]}}function R4(e="light"){return e==="dark"?{main:En[500],light:En[300],dark:En[700]}:{main:En[700],light:En[400],dark:En[800]}}function F4(e="light"){return e==="dark"?{main:Rn[400],light:Rn[300],dark:Rn[700]}:{main:Rn[700],light:Rn[500],dark:Rn[900]}}function D4(e="light"){return e==="dark"?{main:Fn[400],light:Fn[300],dark:Fn[700]}:{main:Fn[800],light:Fn[500],dark:Fn[900]}}function $4(e="light"){return e==="dark"?{main:Vi[400],light:Vi[300],dark:Vi[700]}:{main:"#ed6c02",light:Vi[500],dark:Vi[900]}}function M4(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function lh(e){const{mode:s="light",contrastThreshold:r=3,tonalOffset:a=.2,colorSpace:n,...i}=e,o=e.primary||T4(s),l=e.secondary||z4(s),c=e.error||R4(s),h=e.info||F4(s),d=e.success||D4(s),p=e.warning||$4(s);function m(S){return n?M4(S):g4(S,vp.text.primary)>=r?vp.text.primary:lj.text.primary}const u=({color:S,name:x,mainShade:N=500,lightShade:_=300,darkShade:w=700})=>{if(S={...S},!S.main&&S[N]&&(S.main=S[N]),!S.hasOwnProperty("main"))throw new Error(ma(11,x?` (${x})`:"",N));if(typeof S.main!="string")throw new Error(ma(12,x?` (${x})`:"",JSON.stringify(S.main)));return n?(zx(n,S,"light",_,a),zx(n,S,"dark",w,a)):(Tx(S,"light",_,a),Tx(S,"dark",w,a)),S.contrastText||(S.contrastText=m(S.main)),S};let g;return s==="light"?g=oj():s==="dark"&&(g=cj()),ys({common:{...Ko},mode:s,primary:u({color:o,name:"primary"}),secondary:u({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:c,name:"error"}),warning:u({color:p,name:"warning"}),info:u({color:h,name:"info"}),success:u({color:d,name:"success"}),grey:W_,contrastThreshold:r,getContrastText:m,augmentColor:u,tonalOffset:a,...g},i)}function I4(e){const s={};return Object.entries(e).forEach(a=>{const[n,i]=a;typeof i=="object"&&(s[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function L4(e,s){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...s}}function O4(e){return Math.round(e*1e5)/1e5}const Rx={textTransform:"uppercase"},Fx='"Roboto", "Helvetica", "Arial", sans-serif';function U4(e,s){const{fontFamily:r=Fx,fontSize:a=14,fontWeightLight:n=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:d,...p}=typeof s=="function"?s(e):s,m=a/14,u=d||(S=>`${S/c*m}rem`),g=(S,x,N,_,w)=>({fontFamily:r,fontWeight:S,fontSize:u(x),lineHeight:N,...r===Fx?{letterSpacing:`${O4(_/x)}em`}:{},...w,...h}),y={h1:g(n,96,1.167,-1.5),h2:g(n,60,1.2,-.5),h3:g(i,48,1.167,0),h4:g(i,34,1.235,.25),h5:g(i,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(i,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(i,16,1.5,.15),body2:g(i,14,1.43,.15),button:g(o,14,1.75,.4,Rx),caption:g(i,12,1.66,.4),overline:g(i,12,2.66,1,Rx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ys({htmlFontSize:c,pxToRem:u,fontFamily:r,fontSize:a,fontWeightLight:n,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...y},p,{clone:!1})}const B4=.2,q4=.14,W4=.12;function $t(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${B4})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${q4})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${W4})`].join(",")}const V4=["none",$t(0,2,1,-1,0,1,1,0,0,1,3,0),$t(0,3,1,-2,0,2,2,0,0,1,5,0),$t(0,3,3,-2,0,3,4,0,0,1,8,0),$t(0,2,4,-1,0,4,5,0,0,1,10,0),$t(0,3,5,-1,0,5,8,0,0,1,14,0),$t(0,3,5,-1,0,6,10,0,0,1,18,0),$t(0,4,5,-2,0,7,10,1,0,2,16,1),$t(0,5,5,-3,0,8,10,1,0,3,14,2),$t(0,5,6,-3,0,9,12,1,0,3,16,2),$t(0,6,6,-3,0,10,14,1,0,4,18,3),$t(0,6,7,-4,0,11,15,1,0,4,20,3),$t(0,7,8,-4,0,12,17,2,0,5,22,4),$t(0,7,8,-4,0,13,19,2,0,5,24,4),$t(0,7,9,-4,0,14,21,2,0,5,26,4),$t(0,8,9,-5,0,15,22,2,0,6,28,5),$t(0,8,10,-5,0,16,24,2,0,6,30,5),$t(0,8,11,-5,0,17,26,2,0,6,32,5),$t(0,9,11,-5,0,18,28,2,0,7,34,6),$t(0,9,12,-6,0,19,29,2,0,7,36,6),$t(0,10,13,-6,0,20,31,3,0,8,38,7),$t(0,10,13,-6,0,21,33,3,0,8,40,7),$t(0,10,14,-6,0,22,35,3,0,8,42,7),$t(0,11,14,-7,0,23,36,3,0,9,44,8),$t(0,11,15,-7,0,24,38,3,0,9,46,8)],H4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},G4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Dx(e){return`${Math.round(e)}ms`}function K4(e){if(!e)return 0;const s=e/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function Q4(e){const s={...H4,...e.easing},r={...G4,...e.duration};return{getAutoHeightDuration:K4,create:(n=["all"],i={})=>{const{duration:o=r.standard,easing:l=s.easeInOut,delay:c=0,...h}=i;return(Array.isArray(n)?n:[n]).map(d=>`${d} ${typeof o=="string"?o:Dx(o)} ${l} ${typeof c=="string"?c:Dx(c)}`).join(",")},...e,easing:s,duration:r}}const Y4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function X4(e){return Vr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function dj(e={}){const s={...e};function r(a){const n=Object.entries(a);for(let i=0;i<n.length;i++){const[o,l]=n[i];!X4(l)||o.startsWith("unstable_")?delete a[o]:Vr(l)&&(a[o]={...l},r(a[o]))}}return r(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $x(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const J4=e=>{if(!Number.isNaN(+e))return+e;const s=e.match(/\d*\.?\d+/g);if(!s)return 0;let r=0;for(let a=0;a<s.length;a+=1)r+=+s[a];return r};function Z4(e){Object.assign(e,{alpha(s,r){const a=this||e;return a.colorSpace?`oklch(from ${s} l c h / ${typeof r=="string"?`calc(${r})`:r})`:a.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Jo(s,J4(r))},lighten(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #fff ${$x(r)})`:fu(s,r)},darken(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #000 ${$x(r)})`:pu(s,r)}})}function jp(e={},...s){const{breakpoints:r,mixins:a={},spacing:n,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:h,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(ma(20));const p=lh({...i,colorSpace:h}),m=nh(e);let u=ys(m,{mixins:L4(m.breakpoints,a),palette:p,shadows:V4.slice(),typography:U4(p,l),transitions:Q4(o),zIndex:{...Y4}});return u=ys(u,d),u=s.reduce((g,y)=>ys(g,y),u),u.unstable_sxConfig={...fl,...d==null?void 0:d.unstable_sxConfig},u.unstable_sx=function(y){return Cn({sx:y,theme:this})},u.toRuntimeSource=dj,Z4(u),u}function Np(e){let s;return e<1?s=5.11916*e**2:s=4.5*Math.log(e+1)+2,Math.round(s*10)/1e3}const ek=[...Array(25)].map((e,s)=>{if(s===0)return"none";const r=Np(s);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function uj(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function mj(e){return e==="dark"?ek:[]}function tk(e){const{palette:s={mode:"light"},opacity:r,overlays:a,colorSpace:n,...i}=e,o=lh({...s,colorSpace:n});return{palette:o,opacity:{...uj(o.mode),...r},overlays:a||mj(o.mode),...i}}function sk(e){var s;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((s=e[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const rk=e=>[...[...Array(25)].map((s,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],ak=e=>(s,r)=>{const a=e.rootSelector||":root",n=e.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),e.defaultColorScheme===s){if(s==="dark"){const o={};return rk(e.cssVarPrefix).forEach(l=>{o[l]=r[l],delete r[l]}),i==="media"?{[a]:r,"@media (prefers-color-scheme: dark)":{[a]:o}}:i?{[i.replace("%s",s)]:o,[`${a}, ${i.replace("%s",s)}`]:r}:{[a]:{...r,...o}}}if(i&&i!=="media")return`${a}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:r}};if(i)return i.replace("%s",String(s))}return a};function nk(e,s){s.forEach(r=>{e[r]||(e[r]={})})}function je(e,s,r){!e[s]&&r&&(e[s]=r)}function io(e){return typeof e!="string"||!e.startsWith("hsl")?e:ij(e)}function Jr(e,s){`${s}Channel`in e||(e[`${s}Channel`]=no(io(e[s])))}function ik(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Dr=e=>{try{return e()}catch{}},ok=(e="mui")=>S4(e);function rm(e,s,r,a,n){if(!r)return;r=r===!0?{}:r;const i=n==="dark"?"dark":"light";if(!a){s[n]=tk({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:o,...l}=jp({...a,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return s[n]={...r,palette:o,opacity:{...uj(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||mj(i)},l}function lk(e={},...s){const{colorSchemes:r={light:!0},defaultColorScheme:a,disableCssColorScheme:n=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=sk,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:h=":root",...d}=e,p=Object.keys(r)[0],m=a||(r.light&&p!=="light"?"light":p),u=ok(i),{[m]:g,light:y,dark:S,...x}=r,N={...x};let _=g;if((m==="dark"&&!("dark"in r)||m==="light"&&!("light"in r))&&(_=!0),!_)throw new Error(ma(21,m));let w;o&&(w="oklch");const T=rm(w,N,_,d,m);y&&!N.light&&rm(w,N,y,void 0,"light"),S&&!N.dark&&rm(w,N,S,void 0,"dark");let k={defaultColorScheme:m,...T,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:h,getCssVar:u,colorSchemes:N,font:{...I4(T.typography),...T.font},spacing:ik(d.spacing)};Object.keys(k.colorSchemes).forEach($=>{const j=k.colorSchemes[$].palette,P=F=>{const C=F.split("-"),A=C[1],M=C[2];return u(F,j[A][M])};j.mode==="light"&&(je(j.common,"background","#fff"),je(j.common,"onBackground","#000")),j.mode==="dark"&&(je(j.common,"background","#000"),je(j.common,"onBackground","#fff"));function z(F,C,A){if(w){let M;return F===Ya&&(M=`transparent ${((1-A)*100).toFixed(0)}%`),F===Nt&&(M=`#000 ${(A*100).toFixed(0)}%`),F===Ct&&(M=`#fff ${(A*100).toFixed(0)}%`),`color-mix(in ${w}, ${C}, ${M})`}return F(C,A)}if(nk(j,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),j.mode==="light"){je(j.Alert,"errorColor",z(Nt,j.error.light,.6)),je(j.Alert,"infoColor",z(Nt,j.info.light,.6)),je(j.Alert,"successColor",z(Nt,j.success.light,.6)),je(j.Alert,"warningColor",z(Nt,j.warning.light,.6)),je(j.Alert,"errorFilledBg",P("palette-error-main")),je(j.Alert,"infoFilledBg",P("palette-info-main")),je(j.Alert,"successFilledBg",P("palette-success-main")),je(j.Alert,"warningFilledBg",P("palette-warning-main")),je(j.Alert,"errorFilledColor",Dr(()=>j.getContrastText(j.error.main))),je(j.Alert,"infoFilledColor",Dr(()=>j.getContrastText(j.info.main))),je(j.Alert,"successFilledColor",Dr(()=>j.getContrastText(j.success.main))),je(j.Alert,"warningFilledColor",Dr(()=>j.getContrastText(j.warning.main))),je(j.Alert,"errorStandardBg",z(Ct,j.error.light,.9)),je(j.Alert,"infoStandardBg",z(Ct,j.info.light,.9)),je(j.Alert,"successStandardBg",z(Ct,j.success.light,.9)),je(j.Alert,"warningStandardBg",z(Ct,j.warning.light,.9)),je(j.Alert,"errorIconColor",P("palette-error-main")),je(j.Alert,"infoIconColor",P("palette-info-main")),je(j.Alert,"successIconColor",P("palette-success-main")),je(j.Alert,"warningIconColor",P("palette-warning-main")),je(j.AppBar,"defaultBg",P("palette-grey-100")),je(j.Avatar,"defaultBg",P("palette-grey-400")),je(j.Button,"inheritContainedBg",P("palette-grey-300")),je(j.Button,"inheritContainedHoverBg",P("palette-grey-A100")),je(j.Chip,"defaultBorder",P("palette-grey-400")),je(j.Chip,"defaultAvatarColor",P("palette-grey-700")),je(j.Chip,"defaultIconColor",P("palette-grey-700")),je(j.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),je(j.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),je(j.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),je(j.LinearProgress,"primaryBg",z(Ct,j.primary.main,.62)),je(j.LinearProgress,"secondaryBg",z(Ct,j.secondary.main,.62)),je(j.LinearProgress,"errorBg",z(Ct,j.error.main,.62)),je(j.LinearProgress,"infoBg",z(Ct,j.info.main,.62)),je(j.LinearProgress,"successBg",z(Ct,j.success.main,.62)),je(j.LinearProgress,"warningBg",z(Ct,j.warning.main,.62)),je(j.Skeleton,"bg",w?z(Ya,j.text.primary,.11):`rgba(${P("palette-text-primaryChannel")} / 0.11)`),je(j.Slider,"primaryTrack",z(Ct,j.primary.main,.62)),je(j.Slider,"secondaryTrack",z(Ct,j.secondary.main,.62)),je(j.Slider,"errorTrack",z(Ct,j.error.main,.62)),je(j.Slider,"infoTrack",z(Ct,j.info.main,.62)),je(j.Slider,"successTrack",z(Ct,j.success.main,.62)),je(j.Slider,"warningTrack",z(Ct,j.warning.main,.62));const F=w?z(Nt,j.background.default,.6825):Ol(j.background.default,.8);je(j.SnackbarContent,"bg",F),je(j.SnackbarContent,"color",Dr(()=>w?vp.text.primary:j.getContrastText(F))),je(j.SpeedDialAction,"fabHoverBg",Ol(j.background.paper,.15)),je(j.StepConnector,"border",P("palette-grey-400")),je(j.StepContent,"border",P("palette-grey-400")),je(j.Switch,"defaultColor",P("palette-common-white")),je(j.Switch,"defaultDisabledColor",P("palette-grey-100")),je(j.Switch,"primaryDisabledColor",z(Ct,j.primary.main,.62)),je(j.Switch,"secondaryDisabledColor",z(Ct,j.secondary.main,.62)),je(j.Switch,"errorDisabledColor",z(Ct,j.error.main,.62)),je(j.Switch,"infoDisabledColor",z(Ct,j.info.main,.62)),je(j.Switch,"successDisabledColor",z(Ct,j.success.main,.62)),je(j.Switch,"warningDisabledColor",z(Ct,j.warning.main,.62)),je(j.TableCell,"border",z(Ct,z(Ya,j.divider,1),.88)),je(j.Tooltip,"bg",z(Ya,j.grey[700],.92))}if(j.mode==="dark"){je(j.Alert,"errorColor",z(Ct,j.error.light,.6)),je(j.Alert,"infoColor",z(Ct,j.info.light,.6)),je(j.Alert,"successColor",z(Ct,j.success.light,.6)),je(j.Alert,"warningColor",z(Ct,j.warning.light,.6)),je(j.Alert,"errorFilledBg",P("palette-error-dark")),je(j.Alert,"infoFilledBg",P("palette-info-dark")),je(j.Alert,"successFilledBg",P("palette-success-dark")),je(j.Alert,"warningFilledBg",P("palette-warning-dark")),je(j.Alert,"errorFilledColor",Dr(()=>j.getContrastText(j.error.dark))),je(j.Alert,"infoFilledColor",Dr(()=>j.getContrastText(j.info.dark))),je(j.Alert,"successFilledColor",Dr(()=>j.getContrastText(j.success.dark))),je(j.Alert,"warningFilledColor",Dr(()=>j.getContrastText(j.warning.dark))),je(j.Alert,"errorStandardBg",z(Nt,j.error.light,.9)),je(j.Alert,"infoStandardBg",z(Nt,j.info.light,.9)),je(j.Alert,"successStandardBg",z(Nt,j.success.light,.9)),je(j.Alert,"warningStandardBg",z(Nt,j.warning.light,.9)),je(j.Alert,"errorIconColor",P("palette-error-main")),je(j.Alert,"infoIconColor",P("palette-info-main")),je(j.Alert,"successIconColor",P("palette-success-main")),je(j.Alert,"warningIconColor",P("palette-warning-main")),je(j.AppBar,"defaultBg",P("palette-grey-900")),je(j.AppBar,"darkBg",P("palette-background-paper")),je(j.AppBar,"darkColor",P("palette-text-primary")),je(j.Avatar,"defaultBg",P("palette-grey-600")),je(j.Button,"inheritContainedBg",P("palette-grey-800")),je(j.Button,"inheritContainedHoverBg",P("palette-grey-700")),je(j.Chip,"defaultBorder",P("palette-grey-700")),je(j.Chip,"defaultAvatarColor",P("palette-grey-300")),je(j.Chip,"defaultIconColor",P("palette-grey-300")),je(j.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),je(j.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),je(j.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),je(j.LinearProgress,"primaryBg",z(Nt,j.primary.main,.5)),je(j.LinearProgress,"secondaryBg",z(Nt,j.secondary.main,.5)),je(j.LinearProgress,"errorBg",z(Nt,j.error.main,.5)),je(j.LinearProgress,"infoBg",z(Nt,j.info.main,.5)),je(j.LinearProgress,"successBg",z(Nt,j.success.main,.5)),je(j.LinearProgress,"warningBg",z(Nt,j.warning.main,.5)),je(j.Skeleton,"bg",w?z(Ya,j.text.primary,.13):`rgba(${P("palette-text-primaryChannel")} / 0.13)`),je(j.Slider,"primaryTrack",z(Nt,j.primary.main,.5)),je(j.Slider,"secondaryTrack",z(Nt,j.secondary.main,.5)),je(j.Slider,"errorTrack",z(Nt,j.error.main,.5)),je(j.Slider,"infoTrack",z(Nt,j.info.main,.5)),je(j.Slider,"successTrack",z(Nt,j.success.main,.5)),je(j.Slider,"warningTrack",z(Nt,j.warning.main,.5));const F=w?z(Ct,j.background.default,.985):Ol(j.background.default,.98);je(j.SnackbarContent,"bg",F),je(j.SnackbarContent,"color",Dr(()=>w?lj.text.primary:j.getContrastText(F))),je(j.SpeedDialAction,"fabHoverBg",Ol(j.background.paper,.15)),je(j.StepConnector,"border",P("palette-grey-600")),je(j.StepContent,"border",P("palette-grey-600")),je(j.Switch,"defaultColor",P("palette-grey-300")),je(j.Switch,"defaultDisabledColor",P("palette-grey-600")),je(j.Switch,"primaryDisabledColor",z(Nt,j.primary.main,.55)),je(j.Switch,"secondaryDisabledColor",z(Nt,j.secondary.main,.55)),je(j.Switch,"errorDisabledColor",z(Nt,j.error.main,.55)),je(j.Switch,"infoDisabledColor",z(Nt,j.info.main,.55)),je(j.Switch,"successDisabledColor",z(Nt,j.success.main,.55)),je(j.Switch,"warningDisabledColor",z(Nt,j.warning.main,.55)),je(j.TableCell,"border",z(Nt,z(Ya,j.divider,1),.68)),je(j.Tooltip,"bg",z(Ya,j.grey[700],.92))}Jr(j.background,"default"),Jr(j.background,"paper"),Jr(j.common,"background"),Jr(j.common,"onBackground"),Jr(j,"divider"),Object.keys(j).forEach(F=>{const C=j[F];F!=="tonalOffset"&&C&&typeof C=="object"&&(C.main&&je(j[F],"mainChannel",no(io(C.main))),C.light&&je(j[F],"lightChannel",no(io(C.light))),C.dark&&je(j[F],"darkChannel",no(io(C.dark))),C.contrastText&&je(j[F],"contrastTextChannel",no(io(C.contrastText))),F==="text"&&(Jr(j[F],"primary"),Jr(j[F],"secondary")),F==="action"&&(C.active&&Jr(j[F],"active"),C.selected&&Jr(j[F],"selected")))})}),k=s.reduce(($,j)=>ys($,j),k);const b={prefix:i,disableCssColorScheme:n,shouldSkipGeneratingVar:l,getSelector:ak(k),enableContrastVars:o},{vars:E,generateThemeVars:v,generateStyleSheets:R}=P4(k,b);return k.vars=E,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([$,j])=>{k[$]=j}),k.generateThemeVars=v,k.generateStyleSheets=R,k.generateSpacing=function(){return ej(d.spacing,rh(this))},k.getColorSchemeSelector=E4(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig={...fl,...d==null?void 0:d.unstable_sxConfig},k.unstable_sx=function(j){return Cn({sx:j,theme:this})},k.toRuntimeSource=dj,k}function Mx(e,s,r){e.colorSchemes&&r&&(e.colorSchemes[s]={...r!==!0&&r,palette:lh({...r===!0?{}:r.palette,mode:s})})}function pj(e={},...s){const{palette:r,cssVariables:a=!1,colorSchemes:n=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...o}=e,l=i||"light",c=n==null?void 0:n[l],h={...n,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(a===!1){if(!("colorSchemes"in e))return jp(e,...s);let d=r;"palette"in e||h[l]&&(h[l]!==!0?d=h[l].palette:l==="dark"&&(d={mode:"dark"}));const p=jp({...e,palette:d},...s);return p.defaultColorScheme=l,p.colorSchemes=h,p.palette.mode==="light"&&(p.colorSchemes.light={...h.light!==!0&&h.light,palette:p.palette},Mx(p,"dark",h.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:p.palette},Mx(p,"light",h.light)),p}return!r&&!("light"in h)&&l==="light"&&(h.light=!0),lk({...o,colorSchemes:h,defaultColorScheme:l,...typeof a!="boolean"&&a},...s)}const ch=pj();function gl(){const e=ih(ch);return e[Dd]||e}function fj(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const zr=e=>fj(e)&&e!=="classes",Oe=l4({themeId:Dd,defaultTheme:ch,rootShouldForwardProp:zr});function Ix(...e){return e.reduce((s,r)=>r==null?s:function(...n){s.apply(this,n),r.apply(this,n)},()=>{})}function ck(e){return t.jsx(e4,{...e,defaultTheme:ch,themeId:Dd})}function dk(e){return function(r){return t.jsx(ck,{styles:typeof e=="function"?a=>e({theme:a,...r}):e})}}function uk(){return tj}const St=_4;function jt(e){return N4(e)}function mk(e){return xt("MuiSvgIcon",e)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const pk=e=>{const{color:s,fontSize:r,classes:a}=e,n={root:["root",s!=="inherit"&&`color${qe(s)}`,`fontSize${qe(r)}`]};return yt(n,mk,a)},fk=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color!=="inherit"&&s[`color${qe(r.color)}`],s[`fontSize${qe(r.fontSize)}`]]}})(St(({theme:e})=>{var s,r,a,n,i,o,l,c,h,d,p,m,u,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(s=e.transitions)==null?void 0:s.create)==null?void 0:n.call(s,"fill",{duration:(a=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:a.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,y])=>y&&y.main).map(([y])=>{var S,x;return{props:{color:y},style:{color:(x=(S=(e.vars??e).palette)==null?void 0:S[y])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(m=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(g=(u=(e.vars??e).palette)==null?void 0:u.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Cp=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:d=!1,titleAccess:p,viewBox:m="0 0 24 24",...u}=a,g=f.isValidElement(n)&&n.type==="svg",y={...a,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:g},S={};d||(S.viewBox=m);const x=pk(y);return t.jsxs(fk,{as:l,className:Je(x.root,i),focusable:"false",color:h,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r,...S,...u,...g&&n.props,ownerState:y,children:[g?n.props.children:n,p?t.jsx("title",{children:p}):null]})});Cp.muiName="SvgIcon";function qs(e,s){function r(a,n){return t.jsx(Cp,{"data-testid":void 0,ref:n,...a,children:e})}return r.muiName=Cp.muiName,f.memo(f.forwardRef(r))}function hj(e,s=166){let r;function a(...n){const i=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(i,s)}return a.clear=()=>{clearTimeout(r)},a}function Pr(e){return e&&e.ownerDocument||document}function fa(e){return Pr(e).defaultView||window}function Lx(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function Ox(e){const{controlled:s,default:r,name:a,state:n="value"}=e,{current:i}=f.useRef(s!==void 0),[o,l]=f.useState(r),c=i?s:o,h=f.useCallback(d=>{i||l(d)},[]);return[c,h]}function hn(e){const s=f.useRef(e);return wn(()=>{s.current=e}),f.useRef((...r)=>(0,s.current)(...r)).current}function Bs(...e){const s=f.useRef(void 0),r=f.useCallback(a=>{const n=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(a);return typeof l=="function"?l:()=>{o(null)}}return i.current=a,()=>{i.current=null}});return()=>{n.forEach(i=>i==null?void 0:i())}},e);return f.useMemo(()=>e.every(a=>a==null)?null:a=>{s.current&&(s.current(),s.current=void 0),a!=null&&(s.current=r(a))},e)}function hk(e,s){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof s=="function"}function gk(e,s){if(!e)return s;function r(o,l){const c={};return Object.keys(l).forEach(h=>{hk(h,l[h])&&typeof o[h]=="function"&&(c[h]=(...d)=>{o[h](...d),l[h](...d)})}),c}if(typeof e=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof e=="function"?e({...o,...l}):e,h=Je(o==null?void 0:o.className,l==null?void 0:l.className,c==null?void 0:c.className),d=r(c,l);return{...l,...c,...d,...!!h&&{className:h},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const a=s,n=r(e,a),i=Je(a==null?void 0:a.className,e==null?void 0:e.className);return{...s,...e,...n,...!!i&&{className:i},...(a==null?void 0:a.style)&&(e==null?void 0:e.style)&&{style:{...a.style,...e.style}},...(a==null?void 0:a.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function gj(e,s){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function wp(e,s){return wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wp(e,s)}function xj(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,wp(e,s)}const Ux={disabled:!1},Zc=at.createContext(null);var xk=function(s){return s.scrollTop},oo="unmounted",tn="exited",sn="entering",Mn="entered",_p="exiting",Xr=function(e){xj(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=n,l=o&&!o.isMounting?a.enter:a.appear,c;return i.appearStatus=null,a.in?l?(c=tn,i.appearStatus=sn):c=Mn:a.unmountOnExit||a.mountOnEnter?c=oo:c=tn,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===oo?{status:tn}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==sn&&o!==Mn&&(i=sn):(o===sn||o===Mn)&&(i=_p)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,o,l;return i=o=l=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,l=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:l}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===sn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Dl.findDOMNode(this);o&&xk(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tn&&this.setState({status:oo})},r.performEnter=function(n){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:n,c=this.props.nodeRef?[l]:[Dl.findDOMNode(this),l],h=c[0],d=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!n&&!o||Ux.disabled){this.safeSetState({status:Mn},function(){i.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:sn},function(){i.props.onEntering(h,d),i.onTransitionEnd(m,function(){i.safeSetState({status:Mn},function(){i.props.onEntered(h,d)})})})},r.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Dl.findDOMNode(this);if(!i||Ux.disabled){this.safeSetState({status:tn},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_p},function(){n.props.onExiting(l),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:tn},function(){n.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,n(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Dl.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],d=c[1];this.props.addEndListener(h,d)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===oo)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=gj(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return at.createElement(Zc.Provider,{value:null},typeof o=="function"?o(n,l):at.cloneElement(at.Children.only(o),l))},s}(at.Component);Xr.contextType=Zc;Xr.propTypes={};function Dn(){}Xr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dn,onEntering:Dn,onEntered:Dn,onExit:Dn,onExiting:Dn,onExited:Dn};Xr.UNMOUNTED=oo;Xr.EXITED=tn;Xr.ENTERING=sn;Xr.ENTERED=Mn;Xr.EXITING=_p;function yk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dh(e,s){var r=function(i){return s&&f.isValidElement(i)?s(i):i},a=Object.create(null);return e&&f.Children.map(e,function(n){return n}).forEach(function(n){a[n.key]=r(n)}),a}function bk(e,s){e=e||{},s=s||{};function r(d){return d in s?s[d]:e[d]}var a=Object.create(null),n=[];for(var i in e)i in s?n.length&&(a[i]=n,n=[]):n.push(i);var o,l={};for(var c in s){if(a[c])for(o=0;o<a[c].length;o++){var h=a[c][o];l[a[c][o]]=r(h)}l[c]=r(c)}for(o=0;o<n.length;o++)l[n[o]]=r(n[o]);return l}function cn(e,s,r){return r[s]!=null?r[s]:e.props[s]}function vk(e,s){return dh(e.children,function(r){return f.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:cn(r,"appear",e),enter:cn(r,"enter",e),exit:cn(r,"exit",e)})})}function jk(e,s,r){var a=dh(e.children),n=bk(s,a);return Object.keys(n).forEach(function(i){var o=n[i];if(f.isValidElement(o)){var l=i in s,c=i in a,h=s[i],d=f.isValidElement(h)&&!h.props.in;c&&(!l||d)?n[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:cn(o,"exit",e),enter:cn(o,"enter",e)}):!c&&l&&!d?n[i]=f.cloneElement(o,{in:!1}):c&&l&&f.isValidElement(h)&&(n[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:h.props.in,exit:cn(o,"exit",e),enter:cn(o,"enter",e)}))}}),n}var Nk=Object.values||function(e){return Object.keys(e).map(function(s){return e[s]})},Ck={component:"div",childFactory:function(s){return s}},uh=function(e){xj(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=i.handleExited.bind(yk(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?vk(n,l):jk(n,o,l),firstRender:!1}},r.handleExited=function(n,i){var o=dh(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(l){var c=Qc({},l.children);return delete c[n.key],{children:c}}))},r.render=function(){var n=this.props,i=n.component,o=n.childFactory,l=gj(n,["component","childFactory"]),c=this.state.contextValue,h=Nk(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?at.createElement(Zc.Provider,{value:c},h):at.createElement(Zc.Provider,{value:c},at.createElement(i,l,h))},s}(at.Component);uh.propTypes={};uh.defaultProps=Ck;const Bx={};function yj(e,s){const r=f.useRef(Bx);return r.current===Bx&&(r.current=e(s)),r}const wk=[];function _k(e){f.useEffect(e,wk)}class mh{constructor(){Ri(this,"currentId",null);Ri(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ri(this,"disposeEffect",()=>this.clear)}static create(){return new mh}start(s,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},s)}}function bj(){const e=yj(mh.create).current;return _k(e.disposeEffect),e}const vj=e=>e.scrollTop;function ed(e,s){const{timeout:r,easing:a,style:n={}}=e;return{duration:n.transitionDuration??(typeof r=="number"?r:r[s.mode]||0),easing:n.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:n.transitionDelay}}function td(e){return typeof e=="string"}function jj(e,s,r){return e===void 0||td(e)?s:{...s,ownerState:{...s.ownerState,...r}}}function Nj(e,s,r){return typeof e=="function"?e(s,r):e}function Cj(e,s=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!s.includes(a)).forEach(a=>{r[a]=e[a]}),r}function qx(e){if(e===void 0)return{};const s={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{s[r]=e[r]}),s}function wj(e){const{getSlotProps:s,additionalProps:r,externalSlotProps:a,externalForwardedProps:n,className:i}=e;if(!s){const u=Je(r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),g={...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},y={...r,...n,...a};return u.length>0&&(y.className=u),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const o=Cj({...n,...a}),l=qx(a),c=qx(n),h=s(o),d=Je(h==null?void 0:h.className,r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),p={...h==null?void 0:h.style,...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},m={...h,...r,...c,...l};return d.length>0&&(m.className=d),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:h.ref}}function Pt(e,s){const{className:r,elementType:a,ownerState:n,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:h,slots:d={[e]:void 0},slotProps:p={[e]:void 0},...m}=i,u=d[e]||a,g=Nj(p[e],n),{props:{component:y,...S},internalRef:x}=wj({className:r,...c,externalForwardedProps:e==="root"?m:void 0,externalSlotProps:g}),N=Bs(x,g==null?void 0:g.ref,s.ref),_=e==="root"?y||h:y,w=jj(u,{...e==="root"&&!h&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...S,..._&&!l&&{as:_},..._&&l&&{component:_},ref:N},n);return[u,w]}function Sk(e){return xt("MuiPaper",e)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ak=e=>{const{square:s,elevation:r,variant:a,classes:n}=e,i={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${r}`]};return yt(i,Sk,n)},kk=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],!r.square&&s.rounded,r.variant==="elevation"&&s[`elevation${r.elevation}`]]}})(St(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),yi=f.forwardRef(function(s,r){var u;const a=jt({props:s,name:"MuiPaper"}),n=gl(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:h="elevation",...d}=a,p={...a,component:o,elevation:l,square:c,variant:h},m=Ak(p);return t.jsx(kk,{as:o,ownerState:p,className:Je(m.root,i),ref:r,...d,style:{...h==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[l],...n.vars&&{"--Paper-overlay":(u=n.vars.overlays)==null?void 0:u[l]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Jo("#fff",Np(l))}, ${Jo("#fff",Np(l))})`}},...d.style}})});function sd(e){try{return e.matches(":focus-visible")}catch{}return!1}class rd{constructor(){Ri(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new rd}static use(){const s=yj(rd.create).current,[r,a]=f.useState(!1);return s.shouldMount=r,s.setShouldMount=a,f.useEffect(s.mountEffect,[r]),s}mount(){return this.mounted||(this.mounted=Ek(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...s)})}stop(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...s)})}pulsate(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...s)})}}function Pk(){return rd.use()}function Ek(){let e,s;const r=new Promise((a,n)=>{e=a,s=n});return r.resolve=e,r.reject=s,r}function Tk(e){const{className:s,classes:r,pulsate:a=!1,rippleX:n,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:h}=e,[d,p]=f.useState(!1),m=Je(s,r.ripple,r.rippleVisible,a&&r.ripplePulsate),u={width:o,height:o,top:-(o/2)+i,left:-(o/2)+n},g=Je(r.child,d&&r.childLeaving,a&&r.childPulsate);return!l&&!d&&p(!0),f.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,h);return()=>{clearTimeout(y)}}},[c,l,h]),t.jsx("span",{className:m,style:u,children:t.jsx("span",{className:g})})}const ar=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sp=550,zk=80,Rk=ul`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Fk=ul`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Dk=ul`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,$k=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Mk=Oe(Tk,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ar.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Rk};
    animation-duration: ${Sp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ar.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ar.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ar.childLeaving} {
    opacity: 0;
    animation-name: ${Fk};
    animation-duration: ${Sp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ar.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Dk};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Ik=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...l}=a,[c,h]=f.useState([]),d=f.useRef(0),p=f.useRef(null);f.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const m=f.useRef(!1),u=bj(),g=f.useRef(null),y=f.useRef(null),S=f.useCallback(w=>{const{pulsate:T,rippleX:k,rippleY:b,rippleSize:E,cb:v}=w;h(R=>[...R,t.jsx(Mk,{classes:{ripple:Je(i.ripple,ar.ripple),rippleVisible:Je(i.rippleVisible,ar.rippleVisible),ripplePulsate:Je(i.ripplePulsate,ar.ripplePulsate),child:Je(i.child,ar.child),childLeaving:Je(i.childLeaving,ar.childLeaving),childPulsate:Je(i.childPulsate,ar.childPulsate)},timeout:Sp,pulsate:T,rippleX:k,rippleY:b,rippleSize:E},d.current)]),d.current+=1,p.current=v},[i]),x=f.useCallback((w={},T={},k=()=>{})=>{const{pulsate:b=!1,center:E=n||T.pulsate,fakeElement:v=!1}=T;if((w==null?void 0:w.type)==="mousedown"&&m.current){m.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(m.current=!0);const R=v?null:y.current,$=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,P,z;if(E||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)j=Math.round($.width/2),P=Math.round($.height/2);else{const{clientX:F,clientY:C}=w.touches&&w.touches.length>0?w.touches[0]:w;j=Math.round(F-$.left),P=Math.round(C-$.top)}if(E)z=Math.sqrt((2*$.width**2+$.height**2)/3),z%2===0&&(z+=1);else{const F=Math.max(Math.abs((R?R.clientWidth:0)-j),j)*2+2,C=Math.max(Math.abs((R?R.clientHeight:0)-P),P)*2+2;z=Math.sqrt(F**2+C**2)}w!=null&&w.touches?g.current===null&&(g.current=()=>{S({pulsate:b,rippleX:j,rippleY:P,rippleSize:z,cb:k})},u.start(zk,()=>{g.current&&(g.current(),g.current=null)})):S({pulsate:b,rippleX:j,rippleY:P,rippleSize:z,cb:k})},[n,S,u]),N=f.useCallback(()=>{x({},{pulsate:!0})},[x]),_=f.useCallback((w,T)=>{if(u.clear(),(w==null?void 0:w.type)==="touchend"&&g.current){g.current(),g.current=null,u.start(0,()=>{_(w,T)});return}g.current=null,h(k=>k.length>0?k.slice(1):k),p.current=T},[u]);return f.useImperativeHandle(r,()=>({pulsate:N,start:x,stop:_}),[N,x,_]),t.jsx($k,{className:Je(ar.root,i.root,o),ref:y,...l,children:t.jsx(uh,{component:null,exit:!0,children:c})})});function Lk(e){return xt("MuiButtonBase",e)}const Ok=mt("MuiButtonBase",["root","disabled","focusVisible"]),Uk=e=>{const{disabled:s,focusVisible:r,focusVisibleClassName:a,classes:n}=e,o=yt({root:["root",s&&"disabled",r&&"focusVisible"]},Lk,n);return r&&a&&(o.root+=` ${a}`),o},Bk=Oe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ok.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_j=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:h=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:u,LinkComponent:g="a",onBlur:y,onClick:S,onContextMenu:x,onDragLeave:N,onFocus:_,onFocusVisible:w,onKeyDown:T,onKeyUp:k,onMouseDown:b,onMouseLeave:E,onMouseUp:v,onTouchEnd:R,onTouchMove:$,onTouchStart:j,tabIndex:P=0,TouchRippleProps:z,touchRippleRef:F,type:C,...A}=a,M=f.useRef(null),D=Pk(),O=Bs(D.ref,F),[V,q]=f.useState(!1);h&&V&&q(!1),f.useImperativeHandle(n,()=>({focusVisible:()=>{q(!0),M.current.focus()}}),[]);const I=D.shouldMount&&!d&&!h;f.useEffect(()=>{V&&m&&!d&&D.pulsate()},[d,m,V,D]);const W=Zr(D,"start",b,p),B=Zr(D,"stop",x,p),H=Zr(D,"stop",N,p),Y=Zr(D,"stop",v,p),U=Zr(D,"stop",ee=>{V&&ee.preventDefault(),E&&E(ee)},p),L=Zr(D,"start",j,p),X=Zr(D,"stop",R,p),se=Zr(D,"stop",$,p),ce=Zr(D,"stop",ee=>{sd(ee.target)||q(!1),y&&y(ee)},!1),ve=hn(ee=>{M.current||(M.current=ee.currentTarget),sd(ee.target)&&(q(!0),w&&w(ee)),_&&_(ee)}),me=()=>{const ee=M.current;return c&&c!=="button"&&!(ee.tagName==="A"&&ee.href)},xe=hn(ee=>{m&&!ee.repeat&&V&&ee.key===" "&&D.stop(ee,()=>{D.start(ee)}),ee.target===ee.currentTarget&&me()&&ee.key===" "&&ee.preventDefault(),T&&T(ee),ee.target===ee.currentTarget&&me()&&ee.key==="Enter"&&!h&&(ee.preventDefault(),S&&S(ee))}),he=hn(ee=>{m&&ee.key===" "&&V&&!ee.defaultPrevented&&D.stop(ee,()=>{D.pulsate(ee)}),k&&k(ee),S&&ee.target===ee.currentTarget&&me()&&ee.key===" "&&!ee.defaultPrevented&&S(ee)});let J=c;J==="button"&&(A.href||A.to)&&(J=g);const ue={};if(J==="button"){const ee=!!A.formAction;ue.type=C===void 0&&!ee?"button":C,ue.disabled=h}else!A.href&&!A.to&&(ue.role="button"),h&&(ue["aria-disabled"]=h);const Ne=Bs(r,M),Pe={...a,centerRipple:i,component:c,disabled:h,disableRipple:d,disableTouchRipple:p,focusRipple:m,tabIndex:P,focusVisible:V},ke=Uk(Pe);return t.jsxs(Bk,{as:J,className:Je(ke.root,l),ownerState:Pe,onBlur:ce,onClick:S,onContextMenu:B,onFocus:ve,onKeyDown:xe,onKeyUp:he,onMouseDown:W,onMouseLeave:U,onMouseUp:Y,onDragLeave:H,onTouchEnd:X,onTouchMove:se,onTouchStart:L,ref:Ne,tabIndex:h?-1:P,type:C,...ue,...A,children:[o,I?t.jsx(Ik,{ref:O,center:i,...z}):null]})});function Zr(e,s,r,a=!1){return hn(n=>(r&&r(n),a||e[s](n),!0))}function qk(e){return typeof e.main=="string"}function Wk(e,s=[]){if(!qk(e))return!1;for(const r of s)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Zs(e=[]){return([,s])=>s&&Wk(s,e)}function Vk(e){return xt("MuiAlert",e)}const Wx=mt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Hk(e){return xt("MuiCircularProgress",e)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const vr=44,Ap=ul`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,kp=ul`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Gk=typeof Ap!="string"?Jf`
        animation: ${Ap} 1.4s linear infinite;
      `:null,Kk=typeof kp!="string"?Jf`
        animation: ${kp} 1.4s ease-in-out infinite;
      `:null,Qk=e=>{const{classes:s,variant:r,color:a,disableShrink:n}=e,i={root:["root",r,`color${qe(a)}`],svg:["svg"],track:["track"],circle:["circle",`circle${qe(r)}`,n&&"circleDisableShrink"]};return yt(i,Hk,s)},Yk=Oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`color${qe(r.color)}`]]}})(St(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Gk||{animation:`${Ap} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}}))]}))),Xk=Oe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Jk=Oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.circle,s[`circle${qe(r.variant)}`],r.disableShrink&&s.circleDisableShrink]}})(St(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:Kk||{animation:`${kp} 1.4s ease-in-out infinite`}}]}))),Zk=Oe("circle",{name:"MuiCircularProgress",slot:"Track"})(St(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),bi=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,enableTrackSlot:l=!1,size:c=40,style:h,thickness:d=3.6,value:p=0,variant:m="indeterminate",...u}=a,g={...a,color:i,disableShrink:o,size:c,thickness:d,value:p,variant:m,enableTrackSlot:l},y=Qk(g),S={},x={},N={};if(m==="determinate"){const _=2*Math.PI*((vr-d)/2);S.strokeDasharray=_.toFixed(3),N["aria-valuenow"]=Math.round(p),S.strokeDashoffset=`${((100-p)/100*_).toFixed(3)}px`,x.transform="rotate(-90deg)"}return t.jsx(Yk,{className:Je(y.root,n),style:{width:c,height:c,...x,...h},ownerState:g,ref:r,role:"progressbar",...N,...u,children:t.jsxs(Xk,{className:y.svg,ownerState:g,viewBox:`${vr/2} ${vr/2} ${vr} ${vr}`,children:[l?t.jsx(Zk,{className:y.track,ownerState:g,cx:vr,cy:vr,r:(vr-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,t.jsx(Jk,{className:y.circle,style:S,ownerState:g,cx:vr,cy:vr,r:(vr-d)/2,fill:"none",strokeWidth:d})]})})});function e5(e){return xt("MuiIconButton",e)}const Vx=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),t5=e=>{const{classes:s,disabled:r,color:a,edge:n,size:i,loading:o}=e,l={root:["root",o&&"loading",r&&"disabled",a!=="default"&&`color${qe(a)}`,n&&`edge${qe(n)}`,`size${qe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return yt(l,e5,s)},s5=Oe(_j,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.loading&&s.loading,r.color!=="default"&&s[`color${qe(r.color)}`],r.edge&&s[`edge${qe(r.edge)}`],s[`size${qe(r.size)}`]]}})(St(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),St(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Vx.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Vx.loading}`]:{color:"transparent"}}))),r5=Oe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ii=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:h=!1,size:d="medium",id:p,loading:m=null,loadingIndicator:u,...g}=a,y=hl(p),S=u??t.jsx(bi,{"aria-labelledby":y,color:"inherit",size:16}),x={...a,edge:n,color:l,disabled:c,disableFocusRipple:h,loading:m,loadingIndicator:S,size:d},N=t5(x);return t.jsxs(s5,{id:m?y:p,className:Je(N.root,o),centerRipple:!0,focusRipple:!h,disabled:c||m,ref:r,...g,ownerState:x,children:[typeof m=="boolean"&&t.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:t.jsx(r5,{className:N.loadingIndicator,ownerState:x,children:m&&S})}),i]})}),a5=qs(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),n5=qs(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),i5=qs(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),o5=qs(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),l5=qs(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),c5=e=>{const{variant:s,color:r,severity:a,classes:n}=e,i={root:["root",`color${qe(r||a)}`,`${s}${qe(r||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return yt(i,Vk,n)},d5=Oe(yi,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${qe(r.color||r.severity)}`]]}})(St(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Zs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${Wx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Zs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${Wx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Zs(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}}}))]}})),u5=Oe("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),m5=Oe("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),p5=Oe("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Hx={success:t.jsx(a5,{fontSize:"inherit"}),warning:t.jsx(n5,{fontSize:"inherit"}),error:t.jsx(i5,{fontSize:"inherit"}),info:t.jsx(o5,{fontSize:"inherit"})},No=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiAlert"}),{action:n,children:i,className:o,closeText:l="Close",color:c,components:h={},componentsProps:d={},icon:p,iconMapping:m=Hx,onClose:u,role:g="alert",severity:y="success",slotProps:S={},slots:x={},variant:N="standard",..._}=a,w={...a,color:c,severity:y,variant:N,colorSeverity:c||y},T=c5(w),k={slots:{closeButton:h.CloseButton,closeIcon:h.CloseIcon,...x},slotProps:{...d,...S}},[b,E]=Pt("root",{ref:r,shouldForwardComponentProp:!0,className:Je(T.root,o),elementType:d5,externalForwardedProps:{...k,..._},ownerState:w,additionalProps:{role:g,elevation:0}}),[v,R]=Pt("icon",{className:T.icon,elementType:u5,externalForwardedProps:k,ownerState:w}),[$,j]=Pt("message",{className:T.message,elementType:m5,externalForwardedProps:k,ownerState:w}),[P,z]=Pt("action",{className:T.action,elementType:p5,externalForwardedProps:k,ownerState:w}),[F,C]=Pt("closeButton",{elementType:ii,externalForwardedProps:k,ownerState:w}),[A,M]=Pt("closeIcon",{elementType:l5,externalForwardedProps:k,ownerState:w});return t.jsxs(b,{...E,children:[p!==!1?t.jsx(v,{...R,children:p||m[y]||Hx[y]}):null,t.jsx($,{...j,children:i}),n!=null?t.jsx(P,{...z,children:n}):null,n==null&&u?t.jsx(P,{...z,children:t.jsx(F,{size:"small","aria-label":l,title:l,color:"inherit",onClick:u,...C,children:t.jsx(A,{fontSize:"small",...M})})}):null]})});function f5(e){return xt("MuiTypography",e)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const h5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},g5=uk(),x5=e=>{const{align:s,gutterBottom:r,noWrap:a,paragraph:n,variant:i,classes:o}=e,l={root:["root",i,e.align!=="inherit"&&`align${qe(s)}`,r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return yt(l,f5,o)},y5=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.variant&&s[r.variant],r.align!=="inherit"&&s[`align${qe(r.align)}`],r.noWrap&&s.noWrap,r.gutterBottom&&s.gutterBottom,r.paragraph&&s.paragraph]}})(St(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,a])=>r!=="inherit"&&a&&typeof a=="object").map(([r,a])=>({props:{variant:r},style:a})),...Object.entries(e.palette).filter(Zs()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${qe(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),Gx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fs=f.forwardRef(function(s,r){const{color:a,...n}=jt({props:s,name:"MuiTypography"}),i=!h5[a],o=g5({...n,...i&&{color:a}}),{align:l="inherit",className:c,component:h,gutterBottom:d=!1,noWrap:p=!1,paragraph:m=!1,variant:u="body1",variantMapping:g=Gx,...y}=o,S={...o,align:l,color:a,className:c,component:h,gutterBottom:d,noWrap:p,paragraph:m,variant:u,variantMapping:g},x=h||(m?"p":g[u]||Gx[u])||"span",N=x5(S);return t.jsx(y5,{as:x,ref:r,className:Je(N.root,c),...y,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function b5(e){var p;const{elementType:s,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:n=!1,...i}=e,o=n?{}:Nj(r,a),{props:l,internalRef:c}=wj({...i,externalSlotProps:o}),h=Bs(c,o==null?void 0:o.ref,(p=e.additionalProps)==null?void 0:p.ref);return jj(s,{...l,ref:h},a)}function xl(e){var s;return parseInt(f.version,10)>=19?((s=e==null?void 0:e.props)==null?void 0:s.ref)||null:(e==null?void 0:e.ref)||null}function v5(e){return typeof e=="function"?e():e}const j5=f.forwardRef(function(s,r){const{children:a,container:n,disablePortal:i=!1}=s,[o,l]=f.useState(null),c=Bs(f.isValidElement(a)?xl(a):null,r);if(wn(()=>{i||l(v5(n)||document.body)},[n,i]),wn(()=>{if(o&&!i)return Lx(r,o),()=>{Lx(r,null)}},[r,o,i]),i){if(f.isValidElement(a)){const h={ref:c};return f.cloneElement(a,h)}return a}return o&&Tf.createPortal(a,o)});function Ul(e){return parseInt(e,10)||0}const N5={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function C5(e){for(const s in e)return!1;return!0}function Kx(e){return C5(e)||e.outerHeightStyle===0&&!e.overflowing}const w5=f.forwardRef(function(s,r){const{onChange:a,maxRows:n,minRows:i=1,style:o,value:l,...c}=s,{current:h}=f.useRef(l!=null),d=f.useRef(null),p=Bs(r,d),m=f.useRef(null),u=f.useRef(null),g=f.useCallback(()=>{const _=d.current,w=u.current;if(!_||!w)return;const k=fa(_).getComputedStyle(_);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=k.width,w.value=_.value||s.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const b=k.boxSizing,E=Ul(k.paddingBottom)+Ul(k.paddingTop),v=Ul(k.borderBottomWidth)+Ul(k.borderTopWidth),R=w.scrollHeight;w.value="x";const $=w.scrollHeight;let j=R;i&&(j=Math.max(Number(i)*$,j)),n&&(j=Math.min(Number(n)*$,j)),j=Math.max(j,$);const P=j+(b==="border-box"?E+v:0),z=Math.abs(j-R)<=1;return{outerHeightStyle:P,overflowing:z}},[n,i,s.placeholder]),y=hn(()=>{const _=d.current,w=g();if(!_||!w||Kx(w))return!1;const T=w.outerHeightStyle;return m.current!=null&&m.current!==T}),S=f.useCallback(()=>{const _=d.current,w=g();if(!_||!w||Kx(w))return;const T=w.outerHeightStyle;m.current!==T&&(m.current=T,_.style.height=`${T}px`),_.style.overflow=w.overflowing?"hidden":""},[g]),x=f.useRef(-1);wn(()=>{const _=hj(S),w=d==null?void 0:d.current;if(!w)return;const T=fa(w);T.addEventListener("resize",_);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{y()&&(k.unobserve(w),cancelAnimationFrame(x.current),S(),x.current=requestAnimationFrame(()=>{k.observe(w)}))}),k.observe(w)),()=>{_.clear(),cancelAnimationFrame(x.current),T.removeEventListener("resize",_),k&&k.disconnect()}},[g,S,y]),wn(()=>{S()});const N=_=>{h||S();const w=_.target,T=w.value.length,k=w.value.endsWith(`
`),b=w.selectionStart===T;k&&b&&w.setSelectionRange(T,T),a&&a(_)};return t.jsxs(f.Fragment,{children:[t.jsx("textarea",{value:l,onChange:N,ref:p,rows:i,style:o,...c}),t.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:u,tabIndex:-1,style:{...N5.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Ti({props:e,states:s,muiFormControl:r}){return s.reduce((a,n)=>(a[n]=e[n],r&&typeof e[n]>"u"&&(a[n]=r[n]),a),{})}const hu=f.createContext(void 0);function An(){return f.useContext(hu)}function Qx(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ad(e,s=!1){return e&&(Qx(e.value)&&e.value!==""||s&&Qx(e.defaultValue)&&e.defaultValue!=="")}function _5(e){return e.startAdornment}function S5(e){return xt("MuiInputBase",e)}const vi=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Yx;const gu=(e,s)=>{const{ownerState:r}=e;return[s.root,r.formControl&&s.formControl,r.startAdornment&&s.adornedStart,r.endAdornment&&s.adornedEnd,r.error&&s.error,r.size==="small"&&s.sizeSmall,r.multiline&&s.multiline,r.color&&s[`color${qe(r.color)}`],r.fullWidth&&s.fullWidth,r.hiddenLabel&&s.hiddenLabel]},xu=(e,s)=>{const{ownerState:r}=e;return[s.input,r.size==="small"&&s.inputSizeSmall,r.multiline&&s.inputMultiline,r.type==="search"&&s.inputTypeSearch,r.startAdornment&&s.inputAdornedStart,r.endAdornment&&s.inputAdornedEnd,r.hiddenLabel&&s.inputHiddenLabel]},A5=e=>{const{classes:s,color:r,disabled:a,error:n,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:h,multiline:d,readOnly:p,size:m,startAdornment:u,type:g}=e,y={root:["root",`color${qe(r)}`,a&&"disabled",n&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",m&&m!=="medium"&&`size${qe(m)}`,d&&"multiline",u&&"adornedStart",i&&"adornedEnd",h&&"hiddenLabel",p&&"readOnly"],input:["input",a&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",u&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return yt(y,S5,s)},yu=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gu})(St(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vi.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),bu=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:xu})(St(({theme:e})=>{const s=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},a={opacity:"0 !important"},n=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vi.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${vi.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Xx=dk({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ph=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:l,color:c,components:h={},componentsProps:d={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:u,endAdornment:g,error:y,fullWidth:S=!1,id:x,inputComponent:N="input",inputProps:_={},inputRef:w,margin:T,maxRows:k,minRows:b,multiline:E=!1,name:v,onBlur:R,onChange:$,onClick:j,onFocus:P,onKeyDown:z,onKeyUp:F,placeholder:C,readOnly:A,renderSuffix:M,rows:D,size:O,slotProps:V={},slots:q={},startAdornment:I,type:W="text",value:B,...H}=a,Y=_.value!=null?_.value:B,{current:U}=f.useRef(Y!=null),L=f.useRef(),X=f.useCallback(G=>{},[]),se=Bs(L,w,_.ref,X),[ce,ve]=f.useState(!1),me=An(),xe=Ti({props:a,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});xe.focused=me?me.focused:ce,f.useEffect(()=>{!me&&m&&ce&&(ve(!1),R&&R())},[me,m,ce,R]);const he=me&&me.onFilled,J=me&&me.onEmpty,ue=f.useCallback(G=>{ad(G)?he&&he():J&&J()},[he,J]);wn(()=>{U&&ue({value:Y})},[Y,ue,U]);const Ne=G=>{P&&P(G),_.onFocus&&_.onFocus(G),me&&me.onFocus?me.onFocus(G):ve(!0)},Pe=G=>{R&&R(G),_.onBlur&&_.onBlur(G),me&&me.onBlur?me.onBlur(G):ve(!1)},ke=(G,...K)=>{if(!U){const te=G.target||L.current;if(te==null)throw new Error(ma(1));ue({value:te.value})}_.onChange&&_.onChange(G,...K),$&&$(G,...K)};f.useEffect(()=>{ue(L.current)},[]);const ee=G=>{L.current&&G.currentTarget===G.target&&L.current.focus(),j&&j(G)};let re=N,fe=_;E&&re==="input"&&(D?fe={type:void 0,minRows:D,maxRows:D,...fe}:fe={type:void 0,maxRows:k,minRows:b,...fe},re=w5);const Me=G=>{ue(G.animationName==="mui-auto-fill-cancel"?L.current:{value:"x"})};f.useEffect(()=>{me&&me.setAdornedStart(!!I)},[me,I]);const be={...a,color:xe.color||"primary",disabled:xe.disabled,endAdornment:g,error:xe.error,focused:xe.focused,formControl:me,fullWidth:S,hiddenLabel:xe.hiddenLabel,multiline:E,size:xe.size,startAdornment:I,type:W},Ce=A5(be),Re=q.root||h.Root||yu,ae=V.root||d.root||{},le=q.input||h.Input||bu;return fe={...fe,...V.input??d.input},t.jsxs(f.Fragment,{children:[!u&&typeof Xx=="function"&&(Yx||(Yx=t.jsx(Xx,{}))),t.jsxs(Re,{...ae,ref:r,onClick:ee,...H,...!td(Re)&&{ownerState:{...be,...ae.ownerState}},className:Je(Ce.root,ae.className,l,A&&"MuiInputBase-readOnly"),children:[I,t.jsx(hu.Provider,{value:null,children:t.jsx(le,{"aria-invalid":xe.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:p,disabled:xe.disabled,id:x,onAnimationStart:Me,name:v,placeholder:C,readOnly:A,required:xe.required,rows:D,value:Y,onKeyDown:z,onKeyUp:F,type:W,...fe,...!td(le)&&{as:re,ownerState:{...be,...fe.ownerState}},ref:se,className:Je(Ce.input,fe.className,A&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:ke,onFocus:Ne})}),g,M?M({...xe,startAdornment:I}):null]})]})});function k5(e){return xt("MuiInput",e)}const Gi={...vi,...mt("MuiInput",["root","underline","input"])};function P5(e){return xt("MuiOutlinedInput",e)}const $r={...vi,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function E5(e){return xt("MuiFilledInput",e)}const Xa={...vi,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},T5=qs(t.jsx("path",{d:"M7 10l5 5 5-5z"})),z5={entering:{opacity:1},entered:{opacity:1}},Pp=f.forwardRef(function(s,r){const a=gl(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:h,onEnter:d,onEntered:p,onEntering:m,onExit:u,onExited:g,onExiting:y,style:S,timeout:x=n,TransitionComponent:N=Xr,..._}=s,w=f.useRef(null),T=Bs(w,xl(l),r),k=z=>F=>{if(z){const C=w.current;F===void 0?z(C):z(C,F)}},b=k(m),E=k((z,F)=>{vj(z);const C=ed({style:S,timeout:x,easing:c},{mode:"enter"});z.style.webkitTransition=a.transitions.create("opacity",C),z.style.transition=a.transitions.create("opacity",C),d&&d(z,F)}),v=k(p),R=k(y),$=k(z=>{const F=ed({style:S,timeout:x,easing:c},{mode:"exit"});z.style.webkitTransition=a.transitions.create("opacity",F),z.style.transition=a.transitions.create("opacity",F),u&&u(z)}),j=k(g),P=z=>{i&&i(w.current,z)};return t.jsx(N,{appear:o,in:h,nodeRef:w,onEnter:E,onEntered:v,onEntering:b,onExit:$,onExited:j,onExiting:R,addEndListener:P,timeout:x,..._,children:(z,{ownerState:F,...C})=>f.cloneElement(l,{style:{opacity:0,visibility:z==="exited"&&!h?"hidden":void 0,...z5[z],...S,...l.props.style},ref:T,...C})})});function R5(e){return xt("MuiBackdrop",e)}mt("MuiBackdrop",["root","invisible"]);const F5=e=>{const{classes:s,invisible:r}=e;return yt({root:["root",r&&"invisible"]},R5,s)},D5=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Sj=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:l=!1,open:c,components:h={},componentsProps:d={},slotProps:p={},slots:m={},TransitionComponent:u,transitionDuration:g,...y}=a,S={...a,component:o,invisible:l},x=F5(S),N={transition:u,root:h.Root,...m},_={...d,...p},w={component:o,slots:N,slotProps:_},[T,k]=Pt("root",{elementType:D5,externalForwardedProps:w,className:Je(x.root,i),ownerState:S}),[b,E]=Pt("transition",{elementType:Pp,externalForwardedProps:w,ownerState:S});return t.jsx(b,{in:c,timeout:g,...y,...E,children:t.jsx(T,{"aria-hidden":!0,...k,classes:x,ref:r,children:n})})}),$5=mt("MuiBox",["root"]),M5=pj(),ea=r4({themeId:Dd,defaultTheme:M5,defaultClassName:$5.root,generateClassName:sj.generate});function I5(e){return xt("MuiButton",e)}const Ja=mt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),L5=f.createContext({}),O5=f.createContext(void 0),U5=e=>{const{color:s,disableElevation:r,fullWidth:a,size:n,variant:i,loading:o,loadingPosition:l,classes:c}=e,h={root:["root",o&&"loading",i,`${i}${qe(s)}`,`size${qe(n)}`,`${i}Size${qe(n)}`,`color${qe(s)}`,r&&"disableElevation",a&&"fullWidth",o&&`loadingPosition${qe(l)}`],startIcon:["icon","startIcon",`iconSize${qe(n)}`],endIcon:["icon","endIcon",`iconSize${qe(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=yt(h,I5,c);return{...c,...d}},Aj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],B5=Oe(_j,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${qe(r.color)}`],s[`size${qe(r.size)}`],s[`${r.variant}Size${qe(r.size)}`],r.color==="inherit"&&s.colorInherit,r.disableElevation&&s.disableElevation,r.fullWidth&&s.fullWidth,r.loading&&s.loading]}})(St(({theme:e})=>{const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ja.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Ja.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Ja.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ja.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Zs()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(e.vars||e).palette[a].main,"--variant-outlinedColor":(e.vars||e).palette[a].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[a].main,.5),"--variant-containedColor":(e.vars||e).palette[a].contrastText,"--variant-containedBg":(e.vars||e).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[a].dark,"--variant-textBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[a].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ja.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ja.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Ja.loading}`]:{color:"transparent"}}}]}})),q5=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.startIcon,r.loading&&s.startIconLoadingStart,s[`iconSize${qe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Aj]})),W5=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.endIcon,r.loading&&s.endIconLoadingEnd,s[`iconSize${qe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Aj]})),V5=Oe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Jx=Oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Zx=f.forwardRef(function(s,r){const a=f.useContext(L5),n=f.useContext(O5),i=Jc(a,s),o=jt({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:h="button",className:d,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:u=!1,endIcon:g,focusVisibleClassName:y,fullWidth:S=!1,id:x,loading:N=null,loadingIndicator:_,loadingPosition:w="center",size:T="medium",startIcon:k,type:b,variant:E="text",...v}=o,R=hl(x),$=_??t.jsx(bi,{"aria-labelledby":R,color:"inherit",size:16}),j={...o,color:c,component:h,disabled:p,disableElevation:m,disableFocusRipple:u,fullWidth:S,loading:N,loadingIndicator:$,loadingPosition:w,size:T,type:b,variant:E},P=U5(j),z=(k||N&&w==="start")&&t.jsx(q5,{className:P.startIcon,ownerState:j,children:k||t.jsx(Jx,{className:P.loadingIconPlaceholder,ownerState:j})}),F=(g||N&&w==="end")&&t.jsx(W5,{className:P.endIcon,ownerState:j,children:g||t.jsx(Jx,{className:P.loadingIconPlaceholder,ownerState:j})}),C=n||"",A=typeof N=="boolean"?t.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:N&&t.jsx(V5,{className:P.loadingIndicator,ownerState:j,children:$})}):null;return t.jsxs(B5,{ownerState:j,className:Je(a.className,P.root,d,C),component:h,disabled:p||N,focusRipple:!u,focusVisibleClassName:Je(P.focusVisible,y),ref:r,type:b,id:N?R:x,...v,classes:P,children:[z,w!=="end"&&A,l,w==="end"&&A,F]})});function kj(e=window){const s=e.document.documentElement.clientWidth;return e.innerWidth-s}function H5(e){const s=Pr(e);return s.body===e?fa(e).innerWidth>s.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Co(e,s){s?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function e0(e){return parseInt(fa(e).getComputedStyle(e).paddingRight,10)||0}function G5(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),a=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||a}function t0(e,s,r,a,n){const i=[s,r,...a];[].forEach.call(e.children,o=>{const l=!i.includes(o),c=!G5(o);l&&c&&Co(o,n)})}function am(e,s){let r=-1;return e.some((a,n)=>s(a)?(r=n,!0):!1),r}function K5(e,s){const r=[],a=e.container;if(!s.disableScrollLock){if(H5(a)){const o=kj(fa(a));r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${e0(a)+o}px`;const l=Pr(a).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${e0(c)+o}px`})}let i;if(a.parentNode instanceof DocumentFragment)i=Pr(a).body;else{const o=a.parentElement,l=fa(a);i=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:a}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function Q5(e){const s=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&s.push(r)}),s}class Y5{constructor(){this.modals=[],this.containers=[]}add(s,r){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&Co(s.modalRef,!1);const n=Q5(r);t0(r,s.mount,s.modalRef,n,!0);const i=am(this.containers,o=>o.container===r);return i!==-1?(this.containers[i].modals.push(s),a):(this.containers.push({modals:[s],container:r,restore:null,hiddenSiblings:n}),a)}mount(s,r){const a=am(this.containers,i=>i.modals.includes(s)),n=this.containers[a];n.restore||(n.restore=K5(n,r))}remove(s,r=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const n=am(this.containers,o=>o.modals.includes(s)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(a,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&Co(s.modalRef,r),t0(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Co(o.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function lo(e){var r;let s=e.activeElement;for(;((r=s==null?void 0:s.shadowRoot)==null?void 0:r.activeElement)!=null;)s=s.shadowRoot.activeElement;return s}const X5=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function J5(e){const s=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(s)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:s}function Z5(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const s=a=>e.ownerDocument.querySelector(`input[type="radio"]${a}`);let r=s(`[name="${e.name}"]:checked`);return r||(r=s(`[name="${e.name}"]`)),r!==e}function eP(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Z5(e))}function tP(e){const s=[],r=[];return Array.from(e.querySelectorAll(X5)).forEach((a,n)=>{const i=J5(a);i===-1||!eP(a)||(i===0?s.push(a):r.push({documentOrder:n,tabIndex:i,node:a}))}),r.sort((a,n)=>a.tabIndex===n.tabIndex?a.documentOrder-n.documentOrder:a.tabIndex-n.tabIndex).map(a=>a.node).concat(s)}function sP(){return!0}function rP(e){const{children:s,disableAutoFocus:r=!1,disableEnforceFocus:a=!1,disableRestoreFocus:n=!1,getTabbable:i=tP,isEnabled:o=sP,open:l}=e,c=f.useRef(!1),h=f.useRef(null),d=f.useRef(null),p=f.useRef(null),m=f.useRef(null),u=f.useRef(!1),g=f.useRef(null),y=Bs(xl(s),g),S=f.useRef(null);f.useEffect(()=>{!l||!g.current||(u.current=!r)},[r,l]),f.useEffect(()=>{if(!l||!g.current)return;const _=Pr(g.current),w=lo(_);return g.current.contains(w)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),u.current&&g.current.focus()),()=>{n||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),f.useEffect(()=>{if(!l||!g.current)return;const _=Pr(g.current),w=lo(_),T=E=>{S.current=E,!(a||!o()||E.key!=="Tab")&&w===g.current&&E.shiftKey&&(c.current=!0,d.current&&d.current.focus())},k=()=>{var $,j;const E=g.current;if(E===null)return;const v=lo(_);if(!_.hasFocus()||!o()||c.current){c.current=!1;return}if(E.contains(v)||a&&v!==h.current&&v!==d.current)return;if(v!==m.current)m.current=null;else if(m.current!==null)return;if(!u.current)return;let R=[];if((v===h.current||v===d.current)&&(R=i(g.current)),R.length>0){const P=!!(($=S.current)!=null&&$.shiftKey&&((j=S.current)==null?void 0:j.key)==="Tab"),z=R[0],F=R[R.length-1];typeof z!="string"&&typeof F!="string"&&(P?F.focus():z.focus())}else E.focus()};_.addEventListener("focusin",k),_.addEventListener("keydown",T,!0);const b=setInterval(()=>{const E=lo(_);E&&E.tagName==="BODY"&&k()},50);return()=>{clearInterval(b),_.removeEventListener("focusin",k),_.removeEventListener("keydown",T,!0)}},[r,a,n,o,l,i]);const x=_=>{p.current===null&&(p.current=_.relatedTarget),u.current=!0,m.current=_.target;const w=s.props.onFocus;w&&w(_)},N=_=>{p.current===null&&(p.current=_.relatedTarget),u.current=!0};return t.jsxs(f.Fragment,{children:[t.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:h,"data-testid":"sentinelStart"}),f.cloneElement(s,{ref:y,onFocus:x}),t.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:d,"data-testid":"sentinelEnd"})]})}function aP(e){return typeof e=="function"?e():e}function nP(e){return e?e.props.hasOwnProperty("in"):!1}const s0=()=>{},Bl=new Y5;function iP(e){const{container:s,disableEscapeKeyDown:r=!1,disableScrollLock:a=!1,closeAfterTransition:n=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:h,rootRef:d}=e,p=f.useRef({}),m=f.useRef(null),u=f.useRef(null),g=Bs(u,d),[y,S]=f.useState(!h),x=nP(l);let N=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(N=!1);const _=()=>Pr(m.current),w=()=>(p.current.modalRef=u.current,p.current.mount=m.current,p.current),T=()=>{Bl.mount(w(),{disableScrollLock:a}),u.current&&(u.current.scrollTop=0)},k=hn(()=>{const F=aP(s)||_().body;Bl.add(w(),F),u.current&&T()}),b=()=>Bl.isTopModal(w()),E=hn(F=>{m.current=F,F&&(h&&b()?T():u.current&&Co(u.current,N))}),v=f.useCallback(()=>{Bl.remove(w(),N)},[N]);f.useEffect(()=>()=>{v()},[v]),f.useEffect(()=>{h?k():(!x||!n)&&v()},[h,v,x,n,k]);const R=F=>C=>{var A;(A=F.onKeyDown)==null||A.call(F,C),!(C.key!=="Escape"||C.which===229||!b())&&(r||(C.stopPropagation(),c&&c(C,"escapeKeyDown")))},$=F=>C=>{var A;(A=F.onClick)==null||A.call(F,C),C.target===C.currentTarget&&c&&c(C,"backdropClick")};return{getRootProps:(F={})=>{const C=Cj(e);delete C.onTransitionEnter,delete C.onTransitionExited;const A={...C,...F};return{role:"presentation",...A,onKeyDown:R(A),ref:g}},getBackdropProps:(F={})=>{const C=F;return{"aria-hidden":!0,...C,onClick:$(C),open:h}},getTransitionProps:()=>{const F=()=>{S(!1),i&&i()},C=()=>{S(!0),o&&o(),n&&v()};return{onEnter:Ix(F,(l==null?void 0:l.props.onEnter)??s0),onExited:Ix(C,(l==null?void 0:l.props.onExited)??s0)}},rootRef:g,portalRef:E,isTopModal:b,exited:y,hasTransition:x}}function oP(e){return xt("MuiModal",e)}mt("MuiModal",["root","hidden","backdrop"]);const lP=e=>{const{open:s,exited:r,classes:a}=e;return yt({root:["root",!s&&r&&"hidden"],backdrop:["backdrop"]},oP,a)},cP=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.open&&r.exited&&s.hidden]}})(St(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),dP=Oe(Sj,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Pj=f.forwardRef(function(s,r){const a=jt({name:"MuiModal",props:s}),{BackdropComponent:n=dP,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:h,container:d,component:p,components:m={},componentsProps:u={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:S=!1,disablePortal:x=!1,disableRestoreFocus:N=!1,disableScrollLock:_=!1,hideBackdrop:w=!1,keepMounted:T=!1,onClose:k,onTransitionEnter:b,onTransitionExited:E,open:v,slotProps:R={},slots:$={},theme:j,...P}=a,z={...a,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:S,disablePortal:x,disableRestoreFocus:N,disableScrollLock:_,hideBackdrop:w,keepMounted:T},{getRootProps:F,getBackdropProps:C,getTransitionProps:A,portalRef:M,isTopModal:D,exited:O,hasTransition:V}=iP({...z,rootRef:r}),q={...z,exited:O},I=lP(q),W={};if(h.props.tabIndex===void 0&&(W.tabIndex="-1"),V){const{onEnter:X,onExited:se}=A();W.onEnter=X,W.onExited=se}const B={slots:{root:m.Root,backdrop:m.Backdrop,...$},slotProps:{...u,...R}},[H,Y]=Pt("root",{ref:r,elementType:cP,externalForwardedProps:{...B,...P,component:p},getSlotProps:F,ownerState:q,className:Je(l,I==null?void 0:I.root,!q.open&&q.exited&&(I==null?void 0:I.hidden))}),[U,L]=Pt("backdrop",{ref:i==null?void 0:i.ref,elementType:n,externalForwardedProps:B,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:X=>C({...X,onClick:se=>{X!=null&&X.onClick&&X.onClick(se)}}),className:Je(i==null?void 0:i.className,I==null?void 0:I.backdrop),ownerState:q});return!T&&!v&&(!V||O)?null:t.jsx(j5,{ref:M,container:d,disablePortal:x,children:t.jsxs(H,{...Y,children:[!w&&n?t.jsx(U,{...L}):null,t.jsx(rP,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:N,isEnabled:D,open:v,children:f.cloneElement(h,W)})]})})});function uP(e){return xt("MuiDialog",e)}const nm=mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ej=f.createContext({}),mP=Oe(Sj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,s)=>s.backdrop})({zIndex:-1}),pP=e=>{const{classes:s,scroll:r,maxWidth:a,fullWidth:n,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${qe(r)}`],paper:["paper",`paperScroll${qe(r)}`,`paperWidth${qe(String(a))}`,n&&"paperFullWidth",i&&"paperFullScreen"]};return yt(o,uP,s)},fP=Oe(Pj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),hP=Oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.container,s[`scroll${qe(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),gP=Oe(yi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.paper,s[`scrollPaper${qe(r.scroll)}`],s[`paperWidth${qe(String(r.maxWidth))}`],r.fullWidth&&s.paperFullWidth,r.fullScreen&&s.paperFullScreen]}})(St(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${nm.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${e.breakpoints.values[s]}${e.breakpoints.unit}`,[`&.${nm.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${nm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),xP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiDialog"}),n=gl(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:h,BackdropProps:d,children:p,className:m,disableEscapeKeyDown:u=!1,fullScreen:g=!1,fullWidth:y=!1,maxWidth:S="sm",onClick:x,onClose:N,open:_,PaperComponent:w=yi,PaperProps:T={},scroll:k="paper",slots:b={},slotProps:E={},TransitionComponent:v=Pp,transitionDuration:R=i,TransitionProps:$,...j}=a,P={...a,disableEscapeKeyDown:u,fullScreen:g,fullWidth:y,maxWidth:S,scroll:k},z=pP(P),F=f.useRef(),C=ve=>{F.current=ve.target===ve.currentTarget},A=ve=>{x&&x(ve),F.current&&(F.current=null,N&&N(ve,"backdropClick"))},M=hl(l),D=f.useMemo(()=>({titleId:M}),[M]),O={transition:v,...b},V={transition:$,paper:T,backdrop:d,...E},q={slots:O,slotProps:V},[I,W]=Pt("root",{elementType:fP,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:P,className:Je(z.root,m),ref:r}),[B,H]=Pt("backdrop",{elementType:mP,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:P}),[Y,U]=Pt("paper",{elementType:gP,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:P,className:Je(z.paper,T.className)}),[L,X]=Pt("container",{elementType:hP,externalForwardedProps:q,ownerState:P,className:z.container}),[se,ce]=Pt("transition",{elementType:Pp,externalForwardedProps:q,ownerState:P,additionalProps:{appear:!0,in:_,timeout:R,role:"presentation"}});return t.jsx(I,{closeAfterTransition:!0,slots:{backdrop:B},slotProps:{backdrop:{transitionDuration:R,as:h,...H}},disableEscapeKeyDown:u,onClose:N,open:_,onClick:A,...W,...j,children:t.jsx(se,{...ce,children:t.jsx(L,{onMouseDown:C,...X,children:t.jsx(Y,{as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":M,"aria-modal":c,...U,children:t.jsx(Ej.Provider,{value:D,children:p})})})})})});function yP(e){return xt("MuiDialogActions",e)}mt("MuiDialogActions",["root","spacing"]);const bP=e=>{const{classes:s,disableSpacing:r}=e;return yt({root:["root",!r&&"spacing"]},yP,s)},vP=Oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),jP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1,...o}=a,l={...a,disableSpacing:i},c=bP(l);return t.jsx(vP,{className:Je(c.root,n),ownerState:l,ref:r,...o})});function NP(e){return xt("MuiDialogContent",e)}mt("MuiDialogContent",["root","dividers"]);function CP(e){return xt("MuiDialogTitle",e)}const wP=mt("MuiDialogTitle",["root"]),_P=e=>{const{classes:s,dividers:r}=e;return yt({root:["root",r&&"dividers"]},NP,s)},SP=Oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.dividers&&s.dividers]}})(St(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${wP.root} + &`]:{paddingTop:0}}}]}))),AP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiDialogContent"}),{className:n,dividers:i=!1,...o}=a,l={...a,dividers:i},c=_P(l);return t.jsx(SP,{className:Je(c.root,n),ownerState:l,ref:r,...o})}),kP=e=>{const{classes:s}=e;return yt({root:["root"]},CP,s)},PP=Oe(fs,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),EP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiDialogTitle"}),{className:n,id:i,...o}=a,l=a,c=kP(l),{titleId:h=i}=f.useContext(Ej);return t.jsx(PP,{component:"h2",className:Je(c.root,n),ownerState:l,ref:r,variant:"h6",id:i??h,...o})}),TP=e=>{const{classes:s,disableUnderline:r,startAdornment:a,endAdornment:n,size:i,hiddenLabel:o,multiline:l}=e,c={root:["root",!r&&"underline",a&&"adornedStart",n&&"adornedEnd",i==="small"&&`size${qe(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},h=yt(c,E5,s);return{...s,...h}},zP=Oe(yu,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...gu(e,s),!r.disableUnderline&&s.underline]}})(St(({theme:e})=>{const s=e.palette.mode==="light",r=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Xa.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Xa.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xa.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xa.disabled}, .${Xa.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Xa.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zs()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),RP=Oe(bu,{name:"MuiFilledInput",slot:"Input",overridesResolver:xu})(St(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),fh=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:m={},type:u="text",...g}=a,y={...a,disableUnderline:n,fullWidth:l,inputComponent:h,multiline:d,type:u},S=TP(a),x={root:{ownerState:y},input:{ownerState:y}},N=p??o?ys(x,p??o):x,_=m.root??i.Root??zP,w=m.input??i.Input??RP;return t.jsx(ph,{slots:{root:_,input:w},slotProps:N,fullWidth:l,inputComponent:h,multiline:d,ref:r,type:u,...g,classes:S})});fh.muiName="Input";function FP(e){return xt("MuiFormControl",e)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const DP=e=>{const{classes:s,margin:r,fullWidth:a}=e,n={root:["root",r!=="none"&&`margin${qe(r)}`,a&&"fullWidth"]};return yt(n,FP,s)},$P=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`margin${qe(r.margin)}`],r.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),MP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:l="div",disabled:c=!1,error:h=!1,focused:d,fullWidth:p=!1,hiddenLabel:m=!1,margin:u="none",required:g=!1,size:y="medium",variant:S="outlined",...x}=a,N={...a,color:o,component:l,disabled:c,error:h,fullWidth:p,hiddenLabel:m,margin:u,required:g,size:y,variant:S},_=DP(N),[w,T]=f.useState(()=>{let F=!1;return n&&f.Children.forEach(n,C=>{if(!sm(C,["Input","Select"]))return;const A=sm(C,["Select"])?C.props.input:C;A&&_5(A.props)&&(F=!0)}),F}),[k,b]=f.useState(()=>{let F=!1;return n&&f.Children.forEach(n,C=>{sm(C,["Input","Select"])&&(ad(C.props,!0)||ad(C.props.inputProps,!0))&&(F=!0)}),F}),[E,v]=f.useState(!1);c&&E&&v(!1);const R=d!==void 0&&!c?d:E;let $;f.useRef(!1);const j=f.useCallback(()=>{b(!0)},[]),P=f.useCallback(()=>{b(!1)},[]),z=f.useMemo(()=>({adornedStart:w,setAdornedStart:T,color:o,disabled:c,error:h,filled:k,focused:R,fullWidth:p,hiddenLabel:m,size:y,onBlur:()=>{v(!1)},onFocus:()=>{v(!0)},onEmpty:P,onFilled:j,registerEffect:$,required:g,variant:S}),[w,o,c,h,k,R,p,m,$,P,j,g,y,S]);return t.jsx(hu.Provider,{value:z,children:t.jsx($P,{as:l,ownerState:N,className:Je(_.root,i),ref:r,...x,children:n})})});function IP(e){return xt("MuiFormHelperText",e)}const r0=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var a0;const LP=e=>{const{classes:s,contained:r,size:a,disabled:n,error:i,filled:o,focused:l,required:c}=e,h={root:["root",n&&"disabled",i&&"error",a&&`size${qe(a)}`,r&&"contained",l&&"focused",o&&"filled",c&&"required"]};return yt(h,IP,s)},OP=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s[`size${qe(r.size)}`],r.contained&&s.contained,r.filled&&s.filled]}})(St(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${r0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${r0.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),UP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:l,error:c,filled:h,focused:d,margin:p,required:m,variant:u,...g}=a,y=An(),S=Ti({props:a,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...a,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete x.ownerState;const N=LP(x);return t.jsx(OP,{as:o,className:Je(N.root,i),ref:r,...g,ownerState:x,children:n===" "?a0||(a0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function BP(e){return xt("MuiFormLabel",e)}const wo=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),qP=e=>{const{classes:s,color:r,focused:a,disabled:n,error:i,filled:o,required:l}=e,c={root:["root",`color${qe(r)}`,n&&"disabled",i&&"error",o&&"filled",a&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return yt(c,BP,s)},WP=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color==="secondary"&&s.colorSecondary,r.filled&&s.filled]}})(St(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{[`&.${wo.focused}`]:{color:(e.vars||e).palette[s].main}}})),{props:{},style:{[`&.${wo.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${wo.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),VP=Oe("span",{name:"MuiFormLabel",slot:"Asterisk"})(St(({theme:e})=>({[`&.${wo.error}`]:{color:(e.vars||e).palette.error.main}}))),HP=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:l="label",disabled:c,error:h,filled:d,focused:p,required:m,...u}=a,g=An(),y=Ti({props:a,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),S={...a,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=qP(S);return t.jsxs(WP,{as:l,ownerState:S,className:Je(x.root,i),ref:r,...u,children:[n,y.required&&t.jsxs(VP,{ownerState:S,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function Ep(e){return`scale(${e}, ${e**2})`}const GP={entering:{opacity:1,transform:Ep(1)},entered:{opacity:1,transform:"none"}},im=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tp=f.forwardRef(function(s,r){const{addEndListener:a,appear:n=!0,children:i,easing:o,in:l,onEnter:c,onEntered:h,onEntering:d,onExit:p,onExited:m,onExiting:u,style:g,timeout:y="auto",TransitionComponent:S=Xr,...x}=s,N=bj(),_=f.useRef(),w=gl(),T=f.useRef(null),k=Bs(T,xl(i),r),b=F=>C=>{if(F){const A=T.current;C===void 0?F(A):F(A,C)}},E=b(d),v=b((F,C)=>{vj(F);const{duration:A,delay:M,easing:D}=ed({style:g,timeout:y,easing:o},{mode:"enter"});let O;y==="auto"?(O=w.transitions.getAutoHeightDuration(F.clientHeight),_.current=O):O=A,F.style.transition=[w.transitions.create("opacity",{duration:O,delay:M}),w.transitions.create("transform",{duration:im?O:O*.666,delay:M,easing:D})].join(","),c&&c(F,C)}),R=b(h),$=b(u),j=b(F=>{const{duration:C,delay:A,easing:M}=ed({style:g,timeout:y,easing:o},{mode:"exit"});let D;y==="auto"?(D=w.transitions.getAutoHeightDuration(F.clientHeight),_.current=D):D=C,F.style.transition=[w.transitions.create("opacity",{duration:D,delay:A}),w.transitions.create("transform",{duration:im?D:D*.666,delay:im?A:A||D*.333,easing:M})].join(","),F.style.opacity=0,F.style.transform=Ep(.75),p&&p(F)}),P=b(m),z=F=>{y==="auto"&&N.start(_.current||0,F),a&&a(T.current,F)};return t.jsx(S,{appear:n,in:l,nodeRef:T,onEnter:v,onEntered:R,onEntering:E,onExit:j,onExited:P,onExiting:$,addEndListener:z,timeout:y==="auto"?null:y,...x,children:(F,{ownerState:C,...A})=>f.cloneElement(i,{style:{opacity:0,transform:Ep(.75),visibility:F==="exited"&&!l?"hidden":void 0,...GP[F],...g,...i.props.style},ref:k,...A})})});Tp&&(Tp.muiSupportAuto=!0);const KP=e=>{const{classes:s,disableUnderline:r}=e,n=yt({root:["root",!r&&"underline"],input:["input"]},k5,s);return{...s,...n}},QP=Oe(yu,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...gu(e,s),!r.disableUnderline&&s.underline]}})(St(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gi.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gi.disabled}, .${Gi.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Gi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zs()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}}))]}})),YP=Oe(bu,{name:"MuiInput",slot:"Input",overridesResolver:xu})({}),hh=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:h=!1,slotProps:d,slots:p={},type:m="text",...u}=a,g=KP(a),S={root:{ownerState:{disableUnderline:n}}},x=d??o?ys(d??o,S):S,N=p.root??i.Root??QP,_=p.input??i.Input??YP;return t.jsx(ph,{slots:{root:N,input:_},slotProps:x,fullWidth:l,inputComponent:c,multiline:h,ref:r,type:m,...u,classes:g})});hh.muiName="Input";function XP(e){return xt("MuiInputAdornment",e)}const n0=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var i0;const JP=(e,s)=>{const{ownerState:r}=e;return[s.root,s[`position${qe(r.position)}`],r.disablePointerEvents===!0&&s.disablePointerEvents,s[r.variant]]},ZP=e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:a,position:n,size:i,variant:o}=e,l={root:["root",r&&"disablePointerEvents",n&&`position${qe(n)}`,o,a&&"hiddenLabel",i&&`size${qe(i)}`]};return yt(l,XP,s)},e3=Oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:JP})(St(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${n0.positionStart}&:not(.${n0.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),o0=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiInputAdornment"}),{children:n,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:h,variant:d,...p}=a,m=An()||{};let u=d;d&&m.variant,m&&!u&&(u=m.variant);const g={...a,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:l,position:h,variant:u},y=ZP(g);return t.jsx(hu.Provider,{value:null,children:t.jsx(e3,{as:o,ownerState:g,className:Je(y.root,i),ref:r,...p,children:typeof n=="string"&&!c?t.jsx(fs,{color:"textSecondary",children:n}):t.jsxs(f.Fragment,{children:[h==="start"?i0||(i0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,n]})})})});function t3(e){return xt("MuiInputLabel",e)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const s3=e=>{const{classes:s,formControl:r,size:a,shrink:n,disableAnimation:i,variant:o,required:l}=e,c={root:["root",r&&"formControl",!i&&"animated",n&&"shrink",a&&a!=="medium"&&`size${qe(a)}`,o],asterisk:[l&&"asterisk"]},h=yt(c,t3,s);return{...s,...h}},r3=Oe(HP,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${wo.asterisk}`]:s.asterisk},s.root,r.formControl&&s.formControl,r.size==="small"&&s.sizeSmall,r.shrink&&s.shrink,!r.disableAnimation&&s.animated,r.focused&&s.focused,s[r.variant]]}})(St(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:r,size:a})=>s==="filled"&&r.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),a3=f.forwardRef(function(s,r){const a=jt({name:"MuiInputLabel",props:s}),{disableAnimation:n=!1,margin:i,shrink:o,variant:l,className:c,...h}=a,d=An();let p=o;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const m=Ti({props:a,muiFormControl:d,states:["size","variant","required","focused"]}),u={...a,disableAnimation:n,formControl:d,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused},g=s3(u);return t.jsx(r3,{"data-shrink":p,ref:r,className:Je(g.root,c),...h,ownerState:u,classes:g})});function n3(e){return xt("MuiLink",e)}const i3=mt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),o3=({theme:e,ownerState:s})=>{const r=s.color;if("colorSpace"in e&&e.colorSpace){const i=Ur(e,`palette.${r}.main`)||Ur(e,`palette.${r}`)||s.color;return e.alpha(i,.4)}const a=Ur(e,`palette.${r}.main`,!1)||Ur(e,`palette.${r}`,!1)||s.color,n=Ur(e,`palette.${r}.mainChannel`)||Ur(e,`palette.${r}Channel`);return"vars"in e&&n?`rgba(${n} / 0.4)`:Jo(a,.4)},l0={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},l3=e=>{const{classes:s,component:r,focusVisible:a,underline:n}=e,i={root:["root",`underline${qe(n)}`,r==="button"&&"button",a&&"focusVisible"]};return yt(i,n3,s)},c3=Oe(fs,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`underline${qe(r.underline)}`],r.component==="button"&&s.button]}})(St(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${i3.focusVisible}`]:{outline:"auto"}}}]}))),hc=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiLink"}),n=gl(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:h,TypographyClasses:d,underline:p="always",variant:m="inherit",sx:u,...g}=a,[y,S]=f.useState(!1),x=T=>{sd(T.target)||S(!1),c&&c(T)},N=T=>{sd(T.target)&&S(!0),h&&h(T)},_={...a,color:o,component:l,focusVisible:y,underline:p,variant:m},w=l3(_);return t.jsx(c3,{color:o,className:Je(w.root,i),classes:d,component:l,onBlur:x,onFocus:N,ref:r,ownerState:_,variant:m,...g,sx:[...l0[o]===void 0?[{color:o}]:[],...Array.isArray(u)?u:[u]],style:{...g.style,...p==="always"&&o!=="inherit"&&!l0[o]&&{"--Link-underlineColor":o3({theme:n,ownerState:_})}}})}),d3=f.createContext({});function u3(e){return xt("MuiList",e)}mt("MuiList",["root","padding","dense","subheader"]);const m3=e=>{const{classes:s,disablePadding:r,dense:a,subheader:n}=e;return yt({root:["root",!r&&"padding",a&&"dense",n&&"subheader"]},u3,s)},p3=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disablePadding&&s.padding,r.dense&&s.dense,r.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),f3=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:h,...d}=a,p=f.useMemo(()=>({dense:l}),[l]),m={...a,component:o,dense:l,disablePadding:c},u=m3(m);return t.jsx(d3.Provider,{value:p,children:t.jsxs(p3,{as:o,className:Je(u.root,i),ref:r,ownerState:m,...d,children:[h,n]})})});function om(e,s,r){return e===s?e.firstChild:s&&s.nextElementSibling?s.nextElementSibling:r?null:e.firstChild}function c0(e,s,r){return e===s?r?e.firstChild:e.lastChild:s&&s.previousElementSibling?s.previousElementSibling:r?null:e.lastChild}function Tj(e,s){if(s===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:s.repeating?r[0]===s.keys[0]:r.startsWith(s.keys.join(""))}function Ki(e,s,r,a,n,i){let o=!1,l=n(e,s,s?r:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const c=a?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Tj(l,i)||c)l=n(e,l,r);else return l.focus(),!0}return!1}const h3=f.forwardRef(function(s,r){const{actions:a,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:h=!1,onKeyDown:d,variant:p="selectedMenu",...m}=s,u=f.useRef(null),g=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wn(()=>{n&&u.current.focus()},[n]),f.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(_,{direction:w})=>{const T=!u.current.style.width;if(_.clientHeight<u.current.clientHeight&&T){const k=`${kj(fa(_))}px`;u.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=k,u.current.style.width=`calc(100% + ${k})`}return u.current}}),[]);const y=_=>{const w=u.current,T=_.key;if(_.ctrlKey||_.metaKey||_.altKey){d&&d(_);return}const b=lo(Pr(w));if(T==="ArrowDown")_.preventDefault(),Ki(w,b,h,c,om);else if(T==="ArrowUp")_.preventDefault(),Ki(w,b,h,c,c0);else if(T==="Home")_.preventDefault(),Ki(w,null,h,c,om);else if(T==="End")_.preventDefault(),Ki(w,null,h,c,c0);else if(T.length===1){const E=g.current,v=T.toLowerCase(),R=performance.now();E.keys.length>0&&(R-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&v!==E.keys[0]&&(E.repeating=!1)),E.lastTime=R,E.keys.push(v);const $=b&&!E.repeating&&Tj(b,E);E.previousKeyMatched&&($||Ki(w,b,!1,c,om,E))?_.preventDefault():E.previousKeyMatched=!1}d&&d(_)},S=Bs(u,r);let x=-1;f.Children.forEach(o,(_,w)=>{if(!f.isValidElement(_)){x===w&&(x+=1,x>=o.length&&(x=-1));return}_.props.disabled||(p==="selectedMenu"&&_.props.selected||x===-1)&&(x=w),x===w&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const N=f.Children.map(o,(_,w)=>{if(w===x){const T={};return i&&(T.autoFocus=!0),_.props.tabIndex===void 0&&p==="selectedMenu"&&(T.tabIndex=0),f.cloneElement(_,T)}return _});return t.jsx(f3,{role:"menu",ref:S,className:l,onKeyDown:y,tabIndex:n?0:-1,...m,children:N})});function g3(e){return xt("MuiPopover",e)}mt("MuiPopover",["root","paper"]);function d0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.height/2:s==="bottom"&&(r=e.height),r}function u0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.width/2:s==="right"&&(r=e.width),r}function m0(e){return[e.horizontal,e.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function ql(e){return typeof e=="function"?e():e}const x3=e=>{const{classes:s}=e;return yt({root:["root"],paper:["paper"]},g3,s)},y3=Oe(Pj,{name:"MuiPopover",slot:"Root"})({}),zj=Oe(yi,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),b3=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:h,className:d,container:p,elevation:m=8,marginThreshold:u=16,open:g,PaperProps:y={},slots:S={},slotProps:x={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:w="auto",TransitionProps:T={},disableScrollLock:k=!1,...b}=a,E=f.useRef(),v={...a,anchorOrigin:o,anchorReference:c,elevation:m,marginThreshold:u,transformOrigin:N,TransitionComponent:_,transitionDuration:w,TransitionProps:T},R=x3(v),$=f.useCallback(()=>{if(c==="anchorPosition")return l;const X=ql(i),ce=(X&&X.nodeType===1?X:Pr(E.current).body).getBoundingClientRect();return{top:ce.top+d0(ce,o.vertical),left:ce.left+u0(ce,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),j=f.useCallback(X=>({vertical:d0(X,N.vertical),horizontal:u0(X,N.horizontal)}),[N.horizontal,N.vertical]),P=f.useCallback(X=>{const se={width:X.offsetWidth,height:X.offsetHeight},ce=j(se);if(c==="none")return{top:null,left:null,transformOrigin:m0(ce)};const ve=$();let me=ve.top-ce.vertical,xe=ve.left-ce.horizontal;const he=me+se.height,J=xe+se.width,ue=fa(ql(i)),Ne=ue.innerHeight-u,Pe=ue.innerWidth-u;if(u!==null&&me<u){const ke=me-u;me-=ke,ce.vertical+=ke}else if(u!==null&&he>Ne){const ke=he-Ne;me-=ke,ce.vertical+=ke}if(u!==null&&xe<u){const ke=xe-u;xe-=ke,ce.horizontal+=ke}else if(J>Pe){const ke=J-Pe;xe-=ke,ce.horizontal+=ke}return{top:`${Math.round(me)}px`,left:`${Math.round(xe)}px`,transformOrigin:m0(ce)}},[i,c,$,j,u]),[z,F]=f.useState(g),C=f.useCallback(()=>{const X=E.current;if(!X)return;const se=P(X);se.top!==null&&X.style.setProperty("top",se.top),se.left!==null&&(X.style.left=se.left),X.style.transformOrigin=se.transformOrigin,F(!0)},[P]);f.useEffect(()=>(k&&window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)),[i,k,C]);const A=()=>{C()},M=()=>{F(!1)};f.useEffect(()=>{g&&C()}),f.useImperativeHandle(n,()=>g?{updatePosition:()=>{C()}}:null,[g,C]),f.useEffect(()=>{if(!g)return;const X=hj(()=>{C()}),se=fa(ql(i));return se.addEventListener("resize",X),()=>{X.clear(),se.removeEventListener("resize",X)}},[i,g,C]);let D=w;const O={slots:{transition:_,...S},slotProps:{transition:T,paper:y,...x}},[V,q]=Pt("transition",{elementType:Tp,externalForwardedProps:O,ownerState:v,getSlotProps:X=>({...X,onEntering:(se,ce)=>{var ve;(ve=X.onEntering)==null||ve.call(X,se,ce),A()},onExited:se=>{var ce;(ce=X.onExited)==null||ce.call(X,se),M()}}),additionalProps:{appear:!0,in:g}});w==="auto"&&!V.muiSupportAuto&&(D=void 0);const I=p||(i?Pr(ql(i)).body:void 0),[W,{slots:B,slotProps:H,...Y}]=Pt("root",{ref:r,elementType:y3,externalForwardedProps:{...O,...b},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:gk(typeof x.backdrop=="function"?x.backdrop(v):x.backdrop,{invisible:!0})},container:I,open:g},ownerState:v,className:Je(R.root,d)}),[U,L]=Pt("paper",{ref:E,className:R.paper,elementType:zj,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:z?void 0:{opacity:0}},ownerState:v});return t.jsx(W,{...Y,...!td(W)&&{slots:B,slotProps:H,disableScrollLock:k},children:t.jsx(V,{...q,timeout:D,children:t.jsx(U,{...L,children:h})})})});function v3(e){return xt("MuiMenu",e)}mt("MuiMenu",["root","paper","list"]);const j3={vertical:"top",horizontal:"right"},N3={vertical:"top",horizontal:"left"},C3=e=>{const{classes:s}=e;return yt({root:["root"],paper:["paper"],list:["list"]},v3,s)},w3=Oe(b3,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),_3=Oe(zj,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),S3=Oe(h3,{name:"MuiMenu",slot:"List"})({outline:0}),A3=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:h,open:d,PaperProps:p={},PopoverClasses:m,transitionDuration:u="auto",TransitionProps:{onEntering:g,...y}={},variant:S="selectedMenu",slots:x={},slotProps:N={},..._}=a,w=b4(),T={...a,autoFocus:n,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:p,transitionDuration:u,TransitionProps:y,variant:S},k=C3(T),b=n&&!l&&d,E=f.useRef(null),v=(D,O)=>{E.current&&E.current.adjustStyleForScrollbar(D,{direction:w?"rtl":"ltr"}),g&&g(D,O)},R=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let $=-1;f.Children.map(i,(D,O)=>{f.isValidElement(D)&&(D.props.disabled||(S==="selectedMenu"&&D.props.selected||$===-1)&&($=O))});const j={slots:x,slotProps:{list:c,transition:y,paper:p,...N}},P=b5({elementType:x.root,externalSlotProps:N.root,ownerState:T,className:[k.root,o]}),[z,F]=Pt("paper",{className:k.paper,elementType:_3,externalForwardedProps:j,shouldForwardComponentProp:!0,ownerState:T}),[C,A]=Pt("list",{className:Je(k.list,c.className),elementType:S3,shouldForwardComponentProp:!0,externalForwardedProps:j,getSlotProps:D=>({...D,onKeyDown:O=>{var V;R(O),(V=D.onKeyDown)==null||V.call(D,O)}}),ownerState:T}),M=typeof j.slotProps.transition=="function"?j.slotProps.transition(T):j.slotProps.transition;return t.jsx(w3,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?j3:N3,slots:{root:x.root,paper:z,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:P,paper:F,backdrop:typeof N.backdrop=="function"?N.backdrop(T):N.backdrop,transition:{...M,onEntering:(...D)=>{var O;v(...D),(O=M==null?void 0:M.onEntering)==null||O.call(M,...D)}}},open:d,ref:r,transitionDuration:u,ownerState:T,..._,classes:m,children:t.jsx(C,{actions:E,autoFocus:n&&($===-1||l),autoFocusItem:b,variant:S,...A,children:i})})});function k3(e){return xt("MuiNativeSelect",e)}const gh=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),P3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${qe(r)}`,i&&"iconOpen",a&&"disabled"]};return yt(l,k3,s)},Rj=Oe("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${gh.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),E3=Oe(Rj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zr,overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.select,s[r.variant],r.error&&s.error,{[`&.${gh.multiple}`]:s.multiple}]}})({}),Fj=Oe("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${gh.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),T3=Oe(Fj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${qe(r.variant)}`],r.open&&s.iconOpen]}})({}),z3=f.forwardRef(function(s,r){const{className:a,disabled:n,error:i,IconComponent:o,inputRef:l,variant:c="standard",...h}=s,d={...s,disabled:n,variant:c,error:i},p=P3(d);return t.jsxs(f.Fragment,{children:[t.jsx(E3,{ownerState:d,className:Je(p.select,a),disabled:n,ref:l||r,...h}),s.multiple?null:t.jsx(T3,{as:o,ownerState:d,className:p.icon})]})});var p0;const R3=Oe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:zr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),F3=Oe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:zr})(St(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function D3(e){const{children:s,classes:r,className:a,label:n,notched:i,...o}=e,l=n!=null&&n!=="",c={...e,notched:i,withLabel:l};return t.jsx(R3,{"aria-hidden":!0,className:a,ownerState:c,...o,children:t.jsx(F3,{ownerState:c,children:l?t.jsx("span",{children:n}):p0||(p0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const $3=e=>{const{classes:s}=e,a=yt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},P5,s);return{...s,...a}},M3=Oe(yu,{shouldForwardProp:e=>zr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gu})(St(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${$r.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${$r.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}},[`&.${$r.focused} .${$r.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Zs()).map(([r])=>({props:{color:r},style:{[`&.${$r.focused} .${$r.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${$r.error} .${$r.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${$r.disabled} .${$r.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:a})=>r.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),I3=Oe(D3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(St(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}})),L3=Oe(bu,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:xu})(St(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),xh=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:h,slots:d={},slotProps:p={},type:m="text",...u}=a,g=$3(a),y=An(),S=Ti({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...a,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:y,fullWidth:i,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:m},N=d.root??n.Root??M3,_=d.input??n.Input??L3,[w,T]=Pt("notchedOutline",{elementType:I3,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:d,slotProps:p},additionalProps:{label:l!=null&&l!==""&&S.required?t.jsxs(f.Fragment,{children:[l,"","*"]}):l}});return t.jsx(ph,{slots:{root:N,input:_},slotProps:p,renderSuffix:k=>t.jsx(w,{...T,notched:typeof h<"u"?h:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:r,type:m,...u,classes:{...g,notchedOutline:null}})});xh.muiName="Input";function Dj(e){return xt("MuiSelect",e)}const Qi=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var f0;const O3=Oe(Rj,{name:"MuiSelect",slot:"Select",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`&.${Qi.select}`]:s.select},{[`&.${Qi.select}`]:s[r.variant]},{[`&.${Qi.error}`]:s.error},{[`&.${Qi.multiple}`]:s.multiple}]}})({[`&.${Qi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),U3=Oe(Fj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${qe(r.variant)}`],r.open&&s.iconOpen]}})({}),B3=Oe("input",{shouldForwardProp:e=>fj(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function h0(e,s){return typeof s=="object"&&s!==null?e===s:String(e)===String(s)}function q3(e){return e==null||typeof e=="string"&&!e.trim()}const W3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${qe(r)}`,i&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return yt(l,Dj,s)},V3=f.forwardRef(function(s,r){var ie,Se,Te,we;const{"aria-describedby":a,"aria-label":n,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:h,defaultValue:d,disabled:p,displayEmpty:m,error:u=!1,IconComponent:g,inputRef:y,labelId:S,MenuProps:x={},multiple:N,name:_,onBlur:w,onChange:T,onClose:k,onFocus:b,onKeyDown:E,onMouseDown:v,onOpen:R,open:$,readOnly:j,renderValue:P,required:z,SelectDisplayProps:F={},tabIndex:C,type:A,value:M,variant:D="standard",...O}=s,[V,q]=Ox({controlled:M,default:d,name:"Select"}),[I,W]=Ox({controlled:$,default:h,name:"Select"}),B=f.useRef(null),H=f.useRef(null),[Y,U]=f.useState(null),{current:L}=f.useRef($!=null),[X,se]=f.useState(),ce=Bs(r,y),ve=f.useCallback(Z=>{H.current=Z,Z&&U(Z)},[]),me=Y==null?void 0:Y.parentNode;f.useImperativeHandle(ce,()=>({focus:()=>{H.current.focus()},node:B.current,value:V}),[V]),f.useEffect(()=>{h&&I&&Y&&!L&&(se(o?null:me.clientWidth),H.current.focus())},[Y,o]),f.useEffect(()=>{i&&H.current.focus()},[i]),f.useEffect(()=>{if(!S)return;const Z=Pr(H.current).getElementById(S);if(Z){const pe=()=>{getSelection().isCollapsed&&H.current.focus()};return Z.addEventListener("click",pe),()=>{Z.removeEventListener("click",pe)}}},[S]);const xe=(Z,pe)=>{Z?R&&R(pe):k&&k(pe),L||(se(o?null:me.clientWidth),W(Z))},he=Z=>{v==null||v(Z),Z.button===0&&(Z.preventDefault(),H.current.focus(),xe(!0,Z))},J=Z=>{xe(!1,Z)},ue=f.Children.toArray(l),Ne=Z=>{const pe=ue.find(_e=>_e.props.value===Z.target.value);pe!==void 0&&(q(pe.props.value),T&&T(Z,pe))},Pe=Z=>pe=>{let _e;if(pe.currentTarget.hasAttribute("tabindex")){if(N){_e=Array.isArray(V)?V.slice():[];const Ae=V.indexOf(Z.props.value);Ae===-1?_e.push(Z.props.value):_e.splice(Ae,1)}else _e=Z.props.value;if(Z.props.onClick&&Z.props.onClick(pe),V!==_e&&(q(_e),T)){const Ae=pe.nativeEvent||pe,Ee=new Ae.constructor(Ae.type,Ae);Object.defineProperty(Ee,"target",{writable:!0,value:{value:_e,name:_}}),T(Ee,Z)}N||xe(!1,pe)}},ke=Z=>{j||([" ","ArrowUp","ArrowDown","Enter"].includes(Z.key)&&(Z.preventDefault(),xe(!0,Z)),E==null||E(Z))},ee=Y!==null&&I,re=Z=>{!ee&&w&&(Object.defineProperty(Z,"target",{writable:!0,value:{value:V,name:_}}),w(Z))};delete O["aria-invalid"];let fe,Me;const be=[];let Ce=!1;(ad({value:V})||m)&&(P?fe=P(V):Ce=!0);const Re=ue.map(Z=>{if(!f.isValidElement(Z))return null;let pe;if(N){if(!Array.isArray(V))throw new Error(ma(2));pe=V.some(_e=>h0(_e,Z.props.value)),pe&&Ce&&be.push(Z.props.children)}else pe=h0(V,Z.props.value),pe&&Ce&&(Me=Z.props.children);return f.cloneElement(Z,{"aria-selected":pe?"true":"false",onClick:Pe(Z),onKeyUp:_e=>{_e.key===" "&&_e.preventDefault(),Z.props.onKeyUp&&Z.props.onKeyUp(_e)},role:"option",selected:pe,value:void 0,"data-value":Z.props.value})});Ce&&(N?be.length===0?fe=null:fe=be.reduce((Z,pe,_e)=>(Z.push(pe),_e<be.length-1&&Z.push(", "),Z),[]):fe=Me);let ae=X;!o&&L&&Y&&(ae=me.clientWidth);let le;typeof C<"u"?le=C:le=p?null:0;const G=F.id||(_?`mui-component-select-${_}`:void 0),K={...s,variant:D,value:V,open:ee,error:u},te=W3(K),Q={...x.PaperProps,...typeof((ie=x.slotProps)==null?void 0:ie.paper)=="function"?x.slotProps.paper(K):(Se=x.slotProps)==null?void 0:Se.paper},oe={...x.MenuListProps,...typeof((Te=x.slotProps)==null?void 0:Te.list)=="function"?x.slotProps.list(K):(we=x.slotProps)==null?void 0:we.list},ge=hl();return t.jsxs(f.Fragment,{children:[t.jsx(O3,{as:"div",ref:ve,tabIndex:le,role:"combobox","aria-controls":ee?ge:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":ee?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[S,G].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":z?"true":void 0,"aria-invalid":u?"true":void 0,onKeyDown:ke,onMouseDown:p||j?null:he,onBlur:re,onFocus:b,...F,ownerState:K,className:Je(F.className,te.select,c),id:G,children:q3(fe)?f0||(f0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):fe}),t.jsx(B3,{"aria-invalid":u,value:Array.isArray(V)?V.join(","):V,name:_,ref:B,"aria-hidden":!0,onChange:Ne,tabIndex:-1,disabled:p,className:te.nativeInput,autoFocus:i,required:z,...O,ownerState:K}),t.jsx(U3,{as:g,className:te.icon,ownerState:K}),t.jsx(A3,{id:`menu-${_||""}`,anchorEl:me,open:ee,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:ge,...oe},paper:{...Q,style:{minWidth:ae,...Q!=null?Q.style:null}}},children:Re})]})}),H3=e=>{const{classes:s}=e,a=yt({root:["root"]},Dj,s);return{...s,...a}},yh={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>zr(e)&&e!=="variant"},G3=Oe(hh,yh)(""),K3=Oe(xh,yh)(""),Q3=Oe(fh,yh)(""),$j=f.forwardRef(function(s,r){const a=jt({name:"MuiSelect",props:s}),{autoWidth:n=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:h=!1,IconComponent:d=T5,id:p,input:m,inputProps:u,label:g,labelId:y,MenuProps:S,multiple:x=!1,native:N=!1,onClose:_,onOpen:w,open:T,renderValue:k,SelectDisplayProps:b,variant:E="outlined",...v}=a,R=N?z3:V3,$=An(),j=Ti({props:a,muiFormControl:$,states:["variant","error"]}),P=j.variant||E,z={...a,variant:P,classes:o},F=H3(z),{root:C,...A}=F,M=m||{standard:t.jsx(G3,{ownerState:z}),outlined:t.jsx(K3,{label:g,ownerState:z}),filled:t.jsx(Q3,{ownerState:z})}[P],D=Bs(r,xl(M));return t.jsx(f.Fragment,{children:f.cloneElement(M,{inputComponent:R,inputProps:{children:i,error:j.error,IconComponent:d,variant:P,type:void 0,multiple:x,...N?{id:p}:{autoWidth:n,defaultOpen:c,displayEmpty:h,labelId:y,MenuProps:S,onClose:_,onOpen:w,open:T,renderValue:k,SelectDisplayProps:{id:p,...b}},...u,classes:u?ys(A,u.classes):A,...m?m.props.inputProps:{}},...(x&&N||h)&&P==="outlined"?{notched:!0}:{},ref:D,className:Je(M.props.className,l,F.root),...!m&&{variant:P},...v})})});$j.muiName="Select";function Y3(e){return xt("MuiTextField",e)}mt("MuiTextField",["root"]);const X3={standard:hh,filled:fh,outlined:xh},J3=e=>{const{classes:s}=e;return yt({root:["root"]},Y3,s)},Z3=Oe(MP,{name:"MuiTextField",slot:"Root"})({}),eE=f.forwardRef(function(s,r){const a=jt({props:s,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:h,disabled:d=!1,error:p=!1,FormHelperTextProps:m,fullWidth:u=!1,helperText:g,id:y,InputLabelProps:S,inputProps:x,InputProps:N,inputRef:_,label:w,maxRows:T,minRows:k,multiline:b=!1,name:E,onBlur:v,onChange:R,onFocus:$,placeholder:j,required:P=!1,rows:z,select:F=!1,SelectProps:C,slots:A={},slotProps:M={},type:D,value:O,variant:V="outlined",...q}=a,I={...a,autoFocus:i,color:c,disabled:d,error:p,fullWidth:u,multiline:b,required:P,select:F,variant:V},W=J3(I),B=hl(y),H=g&&B?`${B}-helper-text`:void 0,Y=w&&B?`${B}-label`:void 0,U=X3[V],L={slots:A,slotProps:{input:N,inputLabel:S,htmlInput:x,formHelperText:m,select:C,...M}},X={},se=L.slotProps.inputLabel;V==="outlined"&&(se&&typeof se.shrink<"u"&&(X.notched=se.shrink),X.label=w),F&&((!C||!C.native)&&(X.id=void 0),X["aria-describedby"]=void 0);const[ce,ve]=Pt("root",{elementType:Z3,shouldForwardComponentProp:!0,externalForwardedProps:{...L,...q},ownerState:I,className:Je(W.root,l),ref:r,additionalProps:{disabled:d,error:p,fullWidth:u,required:P,color:c,variant:V}}),[me,xe]=Pt("input",{elementType:U,externalForwardedProps:L,additionalProps:X,ownerState:I}),[he,J]=Pt("inputLabel",{elementType:a3,externalForwardedProps:L,ownerState:I}),[ue,Ne]=Pt("htmlInput",{elementType:"input",externalForwardedProps:L,ownerState:I}),[Pe,ke]=Pt("formHelperText",{elementType:UP,externalForwardedProps:L,ownerState:I}),[ee,re]=Pt("select",{elementType:$j,externalForwardedProps:L,ownerState:I}),fe=t.jsx(me,{"aria-describedby":H,autoComplete:n,autoFocus:i,defaultValue:h,fullWidth:u,multiline:b,name:E,rows:z,maxRows:T,minRows:k,type:D,value:O,id:B,inputRef:_,onBlur:v,onChange:R,onFocus:$,placeholder:j,inputProps:Ne,slots:{input:A.htmlInput?ue:void 0},...xe});return t.jsxs(ce,{...ve,children:[w!=null&&w!==""&&t.jsx(he,{htmlFor:B,id:Y,...J,children:w}),F?t.jsx(ee,{"aria-describedby":H,id:B,labelId:Y,value:O,input:fe,...re,children:o}):fe,g&&t.jsx(Pe,{id:H,...ke,children:g})]})}),tE=qs(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),zp=qs(t.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),_o=qs(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),sE=qs(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),rE=qs(t.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),aE=qs(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),So=qs(t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Ao=qs(t.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),ra=({placeholder:e,name:s,type:r="text",value:a,onChange:n,required:i=!1,startIcon:o,endIcon:l,error:c,helperText:h,InputProps:d,...p})=>{const m=f.useRef(null);f.useEffect(()=>{var w;if(r==="password"&&m.current){const T=()=>{var z,F;const P=(z=m.current)==null?void 0:z.querySelector('input[type="password"]');if(P){const C=P.closest(".MuiOutlinedInput-root");C&&([...C.querySelectorAll("button"),...((F=C.parentElement)==null?void 0:F.querySelectorAll("button"))||[]].forEach(D=>{if(!(D.closest(".MuiInputAdornment-root")!==null)){D.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important; position: absolute !important; left: -9999px !important;";try{D.remove()}catch{}}}),C.querySelectorAll("*").forEach(D=>{if((D.tagName==="BUTTON"||D.getAttribute("role")==="button"||D.tagName==="SPAN")&&!(D.closest(".MuiInputAdornment-root")!==null)){const V=D.getBoundingClientRect(),q=P.getBoundingClientRect();if(V.width<50&&V.height<50&&Math.abs(V.right-q.right)<50||D.className&&(D.className.indexOf("reveal")!==-1||D.className.indexOf("password")!==-1)){D.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; position: absolute !important; left: -9999px !important;";try{D.remove()}catch{if(D.parentNode)try{D.parentNode.removeChild(D)}catch{}}}}}),P.parentElement&&Array.from(P.parentElement.children).forEach(O=>{if(O!==P&&O!==C&&!(O.closest(".MuiInputAdornment-root")!==null)){const q=O.getBoundingClientRect(),I=P.getBoundingClientRect();if(q.width<30&&q.height<30&&Math.abs(q.right-I.right)<40&&Math.abs(q.top-I.top)<20){O.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important;";try{O.remove()}catch{if(O.parentNode)try{O.parentNode.removeChild(O)}catch{}}}}}))}},k="hide-browser-password-button";let b=document.getElementById(k);b||(b=document.createElement("style"),b.id=k,b.textContent=`
          input[type="password"]::-webkit-credentials-auto-fill-button,
          input[type="password"]::-webkit-strong-password-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-credentials-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            appearance: none !important;
            -webkit-appearance: none !important;
          }
          /* Internet Explorer specific */
          input[type="password"]::-ms-reveal,
          .custom-input-field input[type="password"]::-ms-reveal,
          .custom-input-field .MuiOutlinedInput-input[type="password"]::-ms-reveal {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
          }
        `,document.head.appendChild(b)),T();const E=[];for(let P=0;P<20;P++)E.push(setTimeout(T,P*50));const v=(w=m.current)==null?void 0:w.querySelector('input[type="password"]'),R=v==null?void 0:v.closest(".MuiOutlinedInput-root");let $=null;R&&typeof MutationObserver<"u"&&($=new MutationObserver(()=>{T()}),$.observe(R,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}));const j=setInterval(T,100);if(v){const P=["input","focus","click","keydown","keyup","paste","change","blur","mousedown","mouseup"];return P.forEach(z=>{v.addEventListener(z,T,{capture:!0,passive:!0}),R==null||R.addEventListener(z,T,{capture:!0,passive:!0})}),()=>{E.forEach(z=>clearTimeout(z)),clearInterval(j),$&&$.disconnect(),P.forEach(z=>{v.removeEventListener(z,T,{capture:!0}),R==null||R.removeEventListener(z,T,{capture:!0})})}}return()=>{E.forEach(P=>clearTimeout(P)),clearInterval(j),$&&$.disconnect()}}},[r,a,l]);let u=null;o?u=t.jsx(o0,{position:"start",className:"custom-input-icon",children:o}):d!=null&&d.startAdornment&&(u=d.startAdornment);let g=null;l?g=t.jsx(o0,{position:"end",children:l}):d!=null&&d.endAdornment&&(g=d.endAdornment);const y={...d,startAdornment:u,endAdornment:g},{InputProps:S,inputProps:x,...N}=p,_={autoComplete:r==="password"?"new-password":"off",...x};return t.jsx("div",{ref:m,className:"custom-input-wrapper",children:t.jsx(eE,{className:"custom-input-field",placeholder:e,name:s,type:r,value:a,onChange:n,required:i,error:c,helperText:h,fullWidth:!0,variant:"outlined",InputProps:y,inputProps:_,...N})})},nE=({open:e,onClose:s})=>{const[r,a]=f.useState(""),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,h]=f.useState(""),{forgotPassword:d}=hr(),p=async u=>{u.preventDefault(),i(!0),h("");try{const g=await d(r);g.success?l(!0):h(g.error||"Failed to send reset email. Please try again.")}catch{h("Failed to send reset email. Please try again.")}finally{i(!1)}},m=()=>{a(""),l(!1),h(""),s()};return t.jsxs(xP,{open:e,onClose:m,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",padding:"8px"}},children:[t.jsx(EP,{sx:{fontWeight:600,textAlign:"center"},children:"Reset Password"}),t.jsx(AP,{children:o?t.jsx(No,{severity:"success",sx:{mt:1},children:"Password reset link has been sent to your email address."}):t.jsxs(t.Fragment,{children:[t.jsx(fs,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:p,children:[t.jsx(ra,{placeholder:"Email",name:"email",type:"email",value:r,onChange:u=>a(u.target.value),required:!0,startIcon:t.jsx(zp,{})}),c&&t.jsx(No,{severity:"error",sx:{mt:1,mb:2},children:c})]})]})}),t.jsxs(jP,{sx:{padding:"16px 24px",gap:1},children:[t.jsx(Zx,{onClick:m,color:"inherit",children:o?"Close":"Cancel"}),!o&&t.jsx(Zx,{onClick:p,variant:"contained",disabled:n||!r,sx:{backgroundColor:"var(--primary-color, #1a2c49)","&:hover":{backgroundColor:"var(--secondary-color, #2c4a5f)"}},children:n?t.jsx(bi,{size:20,color:"inherit"}):"Send Reset Link"})]})]})},nd="/assets/logo-circle-GKaFD2GP.png";function g0(){const e=Er(),s=Ka(),{login:r,register:a,isAuthenticated:n,loading:i}=hr(),o=s.pathname==="/register",[l,c]=f.useState(o);f.useEffect(()=>{c(s.pathname==="/register")},[s.pathname]),f.useEffect(()=>{!i&&n&&s.pathname!=="/dashboard"&&e("/dashboard",{replace:!0})},[n,i,e,s.pathname]);const[h,d]=f.useState({email:"",password:""}),[p,m]=f.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"training_center_admin"}),[u,g]=f.useState(!1),[y,S]=f.useState(!1),[x,N]=f.useState(""),[_,w]=f.useState(""),[T,k]=f.useState(!1),[b,E]=f.useState(!1),[v,R]=f.useState(!1),$=()=>g(!u),j=()=>S(!y),P=M=>{d({...h,[M.target.name]:M.target.value}),N("")},z=M=>{m({...p,[M.target.name]:M.target.value}),w("")},F=async M=>{M.preventDefault(),N(""),k(!0);try{const D=await r(h.email,h.password);D.success?D.userStatus==="pending"||D.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):N(D.error||"Invalid email or password.")}catch(D){console.error("Login error:",D),N("An error occurred. Please try again.")}finally{k(!1)}},C=async M=>{if(M.preventDefault(),w(""),p.password!==p.confirmPassword){w("Passwords do not match.");return}if(p.password.length<8){w("Password must be at least 8 characters long.");return}E(!0);try{const D=await a(p.fullName,p.email,p.password,p.confirmPassword,p.role);D.success?D.userStatus==="pending"||D.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):w(D.error||"Registration failed. Please try again.")}catch(D){console.error("Registration error:",D),w("An error occurred. Please try again.")}finally{E(!1)}},A=M=>{c(M),e(M?"/register":"/login",{replace:!0})};return t.jsxs("div",{className:"auth-page",children:[t.jsxs("div",{className:`auth-container container ${l?"right-panel-active":""}`,id:"container",children:[t.jsx("div",{className:"form-container sign-up-container",children:t.jsxs("form",{onSubmit:C,children:[t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Register"}),t.jsx(ra,{placeholder:"Name",name:"fullName",value:p.fullName,onChange:z,required:!0,startIcon:t.jsx(sE,{})}),t.jsx(ra,{placeholder:"Email",name:"email",type:"email",value:p.email,onChange:z,required:!0,startIcon:t.jsx(zp,{})}),t.jsx(ra,{placeholder:"Password",name:"password",type:u?"text":"password",value:p.password,onChange:z,required:!0,startIcon:t.jsx(_o,{}),endIcon:t.jsx(ii,{onClick:$,edge:"end",size:"small",children:u?t.jsx(Ao,{}):t.jsx(So,{})})}),t.jsx(ra,{placeholder:"Confirm Password",name:"confirmPassword",type:y?"text":"password",value:p.confirmPassword,onChange:z,required:!0,startIcon:t.jsx(_o,{}),endIcon:t.jsx(ii,{onClick:j,edge:"end",size:"small",children:y?t.jsx(Ao,{}):t.jsx(So,{})})}),t.jsxs(ea,{sx:{mb:2,display:"flex",flexDirection:"row",gap:1,width:"100%"},children:[t.jsx(ea,{sx:{flex:1},children:t.jsx(yi,{onClick:()=>m({...p,role:"training_center_admin"}),elevation:p.role==="training_center_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="training_center_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(ea,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(ea,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(rE,{sx:{fontSize:22,color:p.role==="training_center_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(ea,{sx:{textAlign:"center"},children:t.jsx(fs,{variant:"caption",sx:{fontWeight:p.role==="training_center_admin"?600:500,fontSize:"0.75rem",color:p.role==="training_center_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Training Center"})})]})})}),t.jsx(ea,{sx:{flex:1},children:t.jsx(yi,{onClick:()=>m({...p,role:"acc_admin"}),elevation:p.role==="acc_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="acc_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(ea,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(ea,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(aE,{sx:{fontSize:22,color:p.role==="acc_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(ea,{sx:{textAlign:"center"},children:t.jsx(fs,{variant:"caption",sx:{fontWeight:p.role==="acc_admin"?600:500,fontSize:"0.75rem",color:p.role==="acc_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Accreditation"})})]})})})]}),_&&t.jsx(fs,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:_}),t.jsx("button",{type:"submit",disabled:b,children:b?t.jsx(bi,{size:20,color:"inherit"}):"Register"})]})}),t.jsx("div",{className:"form-container sign-in-container",children:t.jsxs("form",{onSubmit:F,children:[t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Login"}),t.jsx(ra,{placeholder:"Email",name:"email",value:h.email,onChange:P,required:!0,startIcon:t.jsx(zp,{})}),t.jsx(ra,{placeholder:"Password",name:"password",type:u?"text":"password",value:h.password,onChange:P,required:!0,startIcon:t.jsx(_o,{}),endIcon:t.jsx(ii,{onClick:$,edge:"end",size:"small",children:u?t.jsx(Ao,{}):t.jsx(So,{})})}),x&&t.jsx(fs,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:x}),t.jsx(hc,{href:"#",underline:"hover",sx:{mt:1,mb:2,cursor:"pointer"},onClick:M=>{M.preventDefault(),R(!0)},children:"Forgot your password?"}),t.jsx("button",{type:"submit",disabled:T,children:T?t.jsx(bi,{size:20,color:"inherit"}):"Login"})]})}),t.jsx("div",{className:"overlay-container",children:t.jsxs("div",{className:"overlay",children:[t.jsxs("div",{className:"overlay-panel overlay-left",children:[t.jsx("img",{src:nd,alt:"Logo",className:"overlay-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Welcome Back!"}),t.jsx("p",{children:"To keep connected with us please login with your personal info as Training Center Admin"}),t.jsx("button",{className:"ghost",id:"signIn",onClick:()=>A(!1),children:"Login"})]}),t.jsxs("div",{className:"overlay-panel overlay-right",children:[t.jsx("img",{src:nd,alt:"Logo",className:"overlay-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Hello, Friend!"}),t.jsx("p",{children:"Enter your personal details and start journey with us"}),t.jsx("button",{className:"ghost",id:"signUp",onClick:()=>A(!0),children:"Register"})]})]})})]}),t.jsx(nE,{open:v,onClose:()=>R(!1)})]})}const iE=()=>{const{logout:e,user:s,refreshUser:r}=hr(),a=Er(),[n,i]=f.useState(null);f.useEffect(()=>{(s==null?void 0:s.status)==="active"&&a("/dashboard",{replace:!0})},[s,a]),f.useEffect(()=>{const c=setInterval(()=>{r()},3e4);return()=>clearInterval(c)},[r]);const o=async()=>{await e(),a("/login")},l=(s==null?void 0:s.role)==="training_center_admin";return s==null||s.role,t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Be,{className:"text-red-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Rejected"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Your ",l?"Training Center":"ACC"," application has been rejected."]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:n})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l?t.jsx(Ke,{className:"text-amber-600",size:40}):t.jsx(U_,{className:"text-amber-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:l?"Training Center Application Pending":"Account Pending Approval"}),t.jsx("p",{className:"text-gray-600 mb-4",children:l?"Your Training Center application has been submitted and is pending approval from a Group Admin.":"Your account is currently pending approval. Please wait for an administrator to review and approve your account."}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l?"A Group Admin will review your application shortly. You will receive a notification once your application is approved or rejected.":"You will be notified once your account has been approved."}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Status: Pending Review"}),t.jsx("p",{className:"text-xs text-blue-700",children:l?"Waiting for Group Admin approval":"Waiting for administrator approval"})]})]}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-800 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:[t.jsx(Av,{size:18}),"Logout"]})]})})},oE=()=>{const e=Er(),[s]=kd(),{resetPassword:r,isAuthenticated:a}=hr(),n=s.get("token"),i=s.get("email")?decodeURIComponent(s.get("email")):null,[o,l]=f.useState({password:"",confirmPassword:""}),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(""),[S,x]=f.useState(!1),[N,_]=f.useState(!0);f.useEffect(()=>{(!n||!i)&&_(!1),a&&e("/dashboard",{replace:!0})},[n,i,a,e]);const w=k=>{l({...o,[k.target.name]:k.target.value}),y("")},T=async k=>{if(k.preventDefault(),y(""),o.password!==o.confirmPassword){y("Passwords do not match.");return}if(o.password.length<8){y("Password must be at least 8 characters long.");return}u(!0);try{const b=await r(n,i,o.password,o.confirmPassword);b.success?(x(!0),setTimeout(()=>{e("/login",{replace:!0})},3e3)):y(b.error||"Failed to reset password. Please try again.")}catch(b){console.error("Reset password error:",b),y("An error occurred. Please try again.")}finally{u(!1)}};return N?S?t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("div",{className:"success-icon-wrapper",children:t.jsx(tE,{className:"success-icon"})}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Password Reset Successful!"}),t.jsx(No,{severity:"success",sx:{mb:2},children:"Your password has been successfully reset. Redirecting to login page..."}),t.jsx(hc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login Now"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:nd,alt:"Logo",className:"reset-password-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Reset Password"}),t.jsx(fs,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your new password below. Please make sure it's at least 8 characters long."}),t.jsxs("form",{onSubmit:T,children:[t.jsx(ra,{placeholder:"New Password",name:"password",type:c?"text":"password",value:o.password,onChange:w,required:!0,startIcon:t.jsx(_o,{}),endIcon:t.jsx(ii,{onClick:()=>h(!c),edge:"end",size:"small",children:c?t.jsx(Ao,{}):t.jsx(So,{})})}),t.jsx(ra,{placeholder:"Confirm New Password",name:"confirmPassword",type:d?"text":"password",value:o.confirmPassword,onChange:w,required:!0,startIcon:t.jsx(_o,{}),endIcon:t.jsx(ii,{onClick:()=>p(!d),edge:"end",size:"small",children:d?t.jsx(Ao,{}):t.jsx(So,{})})}),g&&t.jsx(No,{severity:"error",sx:{mt:1,mb:2},children:g}),t.jsx("button",{type:"submit",disabled:m,className:"reset-password-submit-button",children:m?t.jsx(bi,{size:20,color:"inherit"}):"Reset Password"})]}),t.jsx(hc,{href:"/login",underline:"hover",sx:{mt:2,cursor:"pointer",color:"var(--primary-color)"},children:"Back to Login"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:nd,alt:"Logo",className:"reset-password-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Invalid Reset Link"}),t.jsx(No,{severity:"error",sx:{mb:2},children:"The password reset link is invalid or has expired. Please request a new one."}),t.jsx(hc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login"})]})})})},dr=({icon:e,colorType:s,label:r,value:a,hint:n,onClick:i})=>t.jsxs("div",{onClick:i,className:`dashboard-card dashboard-card-${s}`,children:[t.jsxs("div",{className:"dashboard-card-header",children:[t.jsx("div",{className:`dashboard-card-icon-wrapper-${s}`,children:t.jsx(e,{className:"dashboard-card-icon"})}),t.jsx(wv,{className:`dashboard-card-arrow-${s}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:`dashboard-card-label-${s}`,children:r}),t.jsx("p",{className:`dashboard-card-value-${s}`,children:a}),t.jsx("p",{className:`dashboard-card-hint-${s}`,children:n})]})]}),lE=()=>{var c,h,d;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),r=Er(),[a,n]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const l=async()=>{try{const p=await Ve.getDashboard();n({accreditation_bodies:p.accreditation_bodies||0,training_centers:p.training_centers||0,instructors:p.instructors||0,revenue:p.revenue||{monthly:0,total:0}})}catch(p){console.error("Failed to load dashboard:",p),n({accreditation_bodies:0,training_centers:0,instructors:0,revenue:{monthly:0,total:0}})}finally{o(!1)}};return i?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:a&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(dr,{icon:It,colorType:"acc",label:"Commission Revenue",value:`$${(((c=a.revenue)==null?void 0:c.total)||0).toLocaleString()}`,hint:"Total commission received",onClick:()=>r("/admin/payment-transactions")}),t.jsx(dr,{icon:Ke,colorType:"instructors",label:"Accreditation Bodies",value:a.accreditation_bodies||0,hint:"Click to view details",onClick:()=>r("/admin/all-accs")}),t.jsx(dr,{icon:Gc,colorType:"certificates",label:"Training Centers",value:a.training_centers||0,hint:"Click to view details",onClick:()=>r("/admin/all-training-centers")}),t.jsx(dr,{icon:gt,colorType:"classes",label:"Instructors",value:a.instructors||0,hint:"Click to view details",onClick:()=>r("/admin/all-instructors")})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Monthly Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((h=a.revenue)==null?void 0:h.monthly)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Commission this month"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Total Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((d=a.revenue)==null?void 0:d.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total commission received"})]})]})]})]})})},Mj=()=>{var o,l;const e=Er(),[s,r]=f.useState(null),[a,n]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await Qe.getDashboard();r(c)}catch(c){console.error("Failed to load dashboard:",c)}finally{n(!1)}};return a?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(dr,{icon:It,colorType:"acc",label:"Total Revenue",value:`$${(((o=s.revenue)==null?void 0:o.total)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hint:"Click to view details",onClick:()=>e("/acc/payment-transactions")}),t.jsx(dr,{icon:Be,colorType:"classes",label:"Pending Requests",value:s.pending_requests||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=pending")}),t.jsx(dr,{icon:Ke,colorType:"instructors",label:"Active Training Centers",value:s.active_training_centers||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=active")}),t.jsx(dr,{icon:gt,colorType:"certificates",label:"Active Instructors",value:s.active_instructors||0,hint:"Click to view details",onClick:()=>e("/acc/instructors?filter=active")})]}),s.revenue&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((l=s.revenue)==null?void 0:l.monthly)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]})})},Zo=({size:e="md",className:s=""})=>{const r={sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"};return t.jsx("div",{className:`loading-spinner-container ${s}`,children:t.jsx("div",{className:`loading-spinner ${r[e]}`})})},cE=({title:e,titleIcon:s,children:r})=>t.jsxs("div",{className:"state-section",children:[t.jsxs("h2",{className:"state-section-title",children:[s&&t.jsx(s,{className:"state-section-title-icon"}),e]}),t.jsx("div",{className:"state-section-grid",children:r})]}),lm=({icon:e,iconColorType:s,label:r,value:a,capitalize:n=!1})=>t.jsx("div",{className:"state-item",children:t.jsxs("div",{className:"state-item-content",children:[t.jsx("div",{className:`state-icon-wrapper state-icon-wrapper-${s}`,children:t.jsx(e,{className:`state-icon state-icon-${s}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"state-label",children:r}),t.jsx("p",{className:`state-value ${n?"state-value-capitalize":""}`,children:a})]})]})}),Ij=()=>{var c,h,d;const e=Er(),[s,r]=f.useState(null),[a,n]=f.useState({accs:0,classes:0,instructors:0,certificates:0}),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]);const l=async()=>{try{const p=await He.getDashboard();r(p),n({accs:p.authorized_accreditations||0,classes:p.classes||0,instructors:p.instructors||0,certificates:p.certificates||0})}catch(p){console.error("Failed to load dashboard:",p),r(null),n({accs:0,classes:0,instructors:0,certificates:0})}finally{o(!1)}};return i?t.jsx(Zo,{}):t.jsx("div",{className:"dashboard-container",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx(dr,{icon:Yr,colorType:"certificates",label:"Certificates",value:a.certificates,hint:"Click to view details",onClick:()=>e("/training-center/certificates")}),t.jsx(dr,{icon:Ke,colorType:"acc",label:"Authorized Accreditation",value:a.accs,hint:"Click to view details",onClick:()=>e("/training-center/accs")}),t.jsx(dr,{icon:Jt,colorType:"classes",label:"Classes",value:a.classes,hint:"Click to view details",onClick:()=>e("/training-center/classes")}),t.jsx(dr,{icon:gt,colorType:"instructors",label:"Instructors",value:a.instructors,hint:"Click to view details",onClick:()=>e("/training-center/instructors")})]}),t.jsxs(cE,{title:"Training Center State",titleIcon:Ke,children:[t.jsx(lm,{icon:$e,iconColorType:"green",label:"Status",value:((c=s.training_center_state)==null?void 0:c.status)||"N/A",capitalize:!0}),t.jsx(lm,{icon:tt,iconColorType:"blue",label:"Registration Date",value:((h=s.training_center_state)==null?void 0:h.registration_date)||"N/A"}),t.jsx(lm,{icon:Yr,iconColorType:"purple",label:"Accreditation Status",value:((d=s.training_center_state)==null?void 0:d.accreditation_status)||"Not Verified"})]})]})})},Lj=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),r=Er(),[a,n]=f.useState(null),[i,o]=f.useState(!0),l=f.useRef(!1),c=f.useRef(!1),h=f.useCallback(async()=>{if(c.current){console.log(" Dashboard load already in progress, skipping duplicate request");return}c.current=!0;try{const b=await zs.getDashboard();n(b||{})}catch(b){console.error("Failed to load dashboard:",b),n(null)}finally{o(!1),c.current=!1}},[]);f.useEffect(()=>{l.current||(l.current=!0,h())},[h]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const d=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",p=b=>{switch(b){case"scheduled":return"status-scheduled";case"in_progress":return"status-in-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}},m=b=>b==="active"?"training-item-status-active":"training-item-status-inactive";if(i)return t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})});if(!a)return t.jsx("div",{className:"error-container",children:t.jsx("div",{className:"error-text",children:t.jsx("p",{children:"Failed to load dashboard data"})})});const u=(a==null?void 0:a.statistics)||{},g=(a==null?void 0:a.recent_classes)||[],y=(a==null?void 0:a.training_centers)||[],S=(a==null?void 0:a.accs)||[],x=(a==null?void 0:a.profile)||{};a!=null&&a.unread_notifications_count;const N=Number((u==null?void 0:u.total_classes)||0),_=Number((u==null?void 0:u.upcoming_classes)||(u==null?void 0:u.scheduled)||0),w=Number((u==null?void 0:u.completed)||0),T=Array.isArray(y)?y.length:0,k=Array.isArray(S)?S.length:0;return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"stats-grid",children:[t.jsx("div",{onClick:()=>r("/instructor/classes"),className:"stat-card stat-card-blue",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Total Classes"}),t.jsx("p",{className:"stat-value",children:N}),t.jsx("p",{className:"stat-description",children:"Click to view all"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(Jt,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=scheduled"),className:"stat-card stat-card-purple",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Scheduled"}),t.jsx("p",{className:"stat-value",children:_}),t.jsx("p",{className:"stat-description",children:"Scheduled classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(tt,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=completed"),className:"stat-card stat-card-green",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("p",{className:"stat-value",children:w}),t.jsx("p",{className:"stat-description",children:"Finished classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx($e,{className:"stat-icon"})})]})})]}),t.jsxs("div",{className:"main-grid",children:[t.jsxs("div",{className:"card recent-classes-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Jt,{className:"card-title-icon",size:24}),"Recent Classes"]}),t.jsxs("button",{onClick:()=>r("/instructor/classes"),className:"card-button",children:["View All",t.jsx(wv,{size:16,className:"card-button-icon"})]})]})}),t.jsx("div",{className:"table-container",children:g&&g.length>0?t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Course"}),t.jsx("th",{children:"Training Center"}),t.jsx("th",{children:"Dates"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Students"})]})}),t.jsx("tbody",{children:g.slice(0,3).map((b,E)=>{var j,P,z,F;const v=b.max_capacity??((j=b.course)==null?void 0:j.max_capacity),R=b.enrolled_count||0,$=v!==void 0?Math.min(100,R/v*100):0;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((P=b.course)==null?void 0:P.name)||"N/A"}),((z=b.course)==null?void 0:z.code)&&t.jsxs("div",{className:"table-cell-secondary",children:["Code: ",b.course.code]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((F=b.training_center)==null?void 0:F.name)||"N/A"}),b.location_details&&t.jsxs("div",{className:"table-cell-secondary",children:[t.jsx(vt,{size:12,className:"table-cell-icon"}),b.location==="physical"?b.location_details:"Online"]})]})}),t.jsx("td",{children:b.start_date?t.jsxs("div",{className:"table-cell-date",children:[t.jsx("div",{className:"table-cell-date-main",children:d(b.start_date)}),b.end_date&&t.jsxs("div",{className:"table-cell-date-sub",children:["to ",d(b.end_date)]})]}):t.jsx("span",{className:"table-cell-na",children:"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${p(b.status)}`,children:b.status?b.status.replace("_"," "):"N/A"})}),t.jsx("td",{children:t.jsxs("div",{className:"students-cell",children:[t.jsxs("div",{className:"students-count",children:[R," / ",v??"N/A"]}),v!==void 0&&t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${$}%`}})})]})})]},b.id)})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(Jt,{className:"empty-state-icon",size:48}),t.jsx("p",{className:"empty-state-text",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtext",children:"You don't have any classes yet"})]})})]}),t.jsxs("div",{className:"card profile-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h2",{className:"card-title",children:[t.jsx(Ls,{className:"card-title-icon",size:24}),"Profile Summary"]})}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-field",children:[t.jsx("p",{className:"profile-label",children:"Name"}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.name)||"N/A"})]}),t.jsxs("div",{className:"profile-field",children:[t.jsxs("p",{className:"profile-label",children:[t.jsx(Lt,{size:14,className:"profile-label-icon"}),"Email"]}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.email)||"N/A"})]}),t.jsx("button",{onClick:()=>r("/profile"),className:"profile-button",children:"View Full Profile"})]})]})]}),t.jsxs("div",{className:"training-grid",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Ke,{className:"card-title-icon",size:24}),"Training Centers"]}),T>0&&t.jsx("span",{className:"badge",children:T})]})}),t.jsx("div",{className:"profile-content",children:T>0?t.jsxs("div",{className:"training-list",children:[y.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.city&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(vt,{size:12,className:"training-item-location-icon"}),b.city,", ",b.country]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${m(b.status)}`,children:b.status})]})},b.id)),T>3&&t.jsxs("button",{onClick:()=>r("/instructor/training-centers"),className:"training-view-all",children:["View All (",T,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Ke,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No training centers found"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Yr,{className:"card-title-icon",size:24}),"Accreditation Bodies"]}),k>0&&t.jsx("span",{className:"badge",children:k})]})}),t.jsx("div",{className:"profile-content",children:k>0?t.jsxs("div",{className:"training-list",children:[S.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.country&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(vt,{size:12,className:"training-item-location-icon"}),b.country]}),b.is_authorized&&t.jsxs("div",{className:"authorized-badge",children:[t.jsx($e,{size:14,className:"authorized-icon"}),t.jsx("span",{className:"authorized-text",children:"Authorized"}),b.authorization_date&&t.jsx("span",{className:"authorized-date",children:d(b.authorization_date)})]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${m(b.status)}`,children:b.status})]})},b.id)),k>3&&t.jsxs("button",{onClick:()=>r("/instructor/accs"),className:"training-view-all",children:["View All (",k,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Yr,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No ACCs found"})]})})]})]})]})},dE=()=>{const{user:e,loading:s}=hr();if(s)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})});switch(e==null?void 0:e.role){case"group_admin":return t.jsx(lE,{});case"acc_admin":return t.jsx(Mj,{});case"training_center_admin":return t.jsx(Ij,{});case"instructor":return t.jsx(Lj,{});default:return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome!"}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})]})})}},Ie=({isOpen:e,onClose:s,title:r,children:a,size:n="md"})=>{if(f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${i[n]} max-h-[90vh] overflow-y-auto animate-scale-in`,children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10 backdrop-blur-sm bg-white/95",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-2 rounded-lg hover:bg-gray-100 hover:rotate-90 transform",children:t.jsx(_s,{size:24})})]}),t.jsx("div",{className:"p-6 animate-fade-in",children:a})]})})},Xe=f.forwardRef(({children:e,variant:s="primary",size:r="md",className:a="",disabled:n=!1,loading:i=!1,icon:o,iconPosition:l="left",fullWidth:c=!1,type:h="button",onClick:d,...p},m)=>{const u="btn-base",g={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"},y={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},S=`
    ${u}
    ${g[s]}
    ${y[r]}
    ${c?"btn-full-width":""}
    ${n||i?"btn-disabled":""}
    ${a}
  `.trim().replace(/\s+/g," "),x=o&&t.jsx("span",{className:`btn-icon ${l==="right"?"btn-icon-right":""}`,children:o});return t.jsxs("button",{ref:m,type:h,className:S,disabled:n||i,onClick:d,...p,children:[i&&t.jsx("span",{className:"btn-spinner",children:t.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!i&&l==="left"&&x,!i&&t.jsx("span",{className:"btn-content",children:e}),!i&&l==="right"&&x]})});Xe.displayName="Button";const We=({name:e,value:s,icon:r,colorType:a,isActive:n,onClick:i})=>t.jsx("div",{onClick:i,className:`tab-card tab-card-${a} ${n?"active":""}`,children:t.jsxs("div",{className:"tab-card-content",children:[t.jsxs("div",{children:[t.jsx("p",{className:`tab-card-label tab-card-label-${a}`,children:e}),t.jsx("p",{className:`tab-card-value tab-card-value-${a}`,children:s})]}),t.jsx("div",{className:`tab-card-icon-wrapper tab-card-icon-wrapper-${a}`,children:t.jsx(r,{className:"tab-card-icon",size:32})})]})}),ks=({children:e,columns:s={mobile:1,tablet:2,desktop:2}})=>t.jsx("div",{className:"tab-cards-grid",style:{"--columns-mobile":s.mobile,"--columns-tablet":s.tablet,"--columns-desktop":s.desktop},children:e}),ct=({columns:e,data:s,onEdit:r,onDelete:a,onView:n,onRowClick:i,isLoading:o=!1,emptyMessage:l="No data available",searchable:c=!0,filterable:h=!0,searchPlaceholder:d="Search...",filterOptions:p=null,sortable:m=!0,defaultFilter:u="all",customFilters:g=null})=>{var $;const[y,S]=f.useState(""),[x,N]=f.useState(u),[_,w]=f.useState(!1),[T,k]=f.useState({key:null,direction:"asc"}),b=f.useRef(null);f.useEffect(()=>{N(u)},[u]),f.useEffect(()=>{const j=P=>{b.current&&!b.current.contains(P.target)&&w(!1)};return _&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[_]);const E=(j,P)=>{P.target.closest("button")||P.target.closest("a")||P.target.closest(".enrollment-clickable")||P.target.classList.contains("enrollment-clickable")||(i?i(j):n&&n(j))},v=j=>{if(!m||j.sortable===!1)return;let P="asc";T.key===j.accessor&&T.direction==="asc"&&(P="desc"),k({key:j.accessor,direction:P})},R=f.useMemo(()=>{let j=[...s];if(c&&y){const P=y.toLowerCase().trim();j=j.filter(z=>z._searchText&&typeof z._searchText=="string"&&z._searchText.includes(P)?!0:e.some(C=>{if(C.accessor==="actions"||C.accessor==="enrolled_count"||C.accessor==="max_capacity"||C.accessor==="capacity"||C.accessor==="duration_hours"||C.accessor==="base_price")return!1;const A=z[C.accessor];if(A==null||typeof A=="number")return!1;if(typeof A=="object"&&!Array.isArray(A)){const M=["name","code","email","first_name","last_name","title","name_ar"];return Object.keys(A).some(D=>{if(M.includes(D.toLowerCase())){const O=A[D];if(O&&typeof O=="string")return O.toLowerCase().includes(P)}return!1})}return Array.isArray(A)?A.some(M=>String(M).toLowerCase().includes(P)):typeof A=="string"?A.toLowerCase().includes(P):!1}))}if(h&&p&&x!=="all"){const P=p.find(z=>z.value===x);P&&P.filterFn&&(j=j.filter(P.filterFn))}return m&&T.key&&j.sort((P,z)=>{if(!e.find(M=>M.accessor===T.key))return 0;let C=P[T.key],A=z[T.key];return C&&typeof C=="object"&&!Array.isArray(C)&&(C=C.name||C.title||JSON.stringify(C)),A&&typeof A=="object"&&!Array.isArray(A)&&(A=A.name||A.title||JSON.stringify(A)),C&&A&&(T.key.includes("date")||T.key.includes("Date"))&&(C=new Date(C),A=new Date(A)),typeof C=="number"&&typeof A=="number"?T.direction==="asc"?C-A:A-C:(C=(C==null?void 0:C.toString().toLowerCase())||"",A=(A==null?void 0:A.toString().toLowerCase())||"",C<A?T.direction==="asc"?-1:1:C>A?T.direction==="asc"?1:-1:0)}),j},[s,y,x,T,e,c,h,p,m]);return t.jsxs(t.Fragment,{children:[(c||h&&p||g)&&t.jsxs("div",{className:"data-table-search-container",children:[t.jsxs("div",{className:"data-table-search-content",children:[c&&t.jsxs("div",{className:"data-table-search-input-wrapper",children:[t.jsx(Go,{className:"data-table-search-icon",size:18}),t.jsx("input",{type:"text",placeholder:d,value:y,onChange:j=>S(j.target.value),className:"data-table-search-input"}),y&&t.jsx("button",{onClick:()=>S(""),className:"data-table-search-clear",children:t.jsx(_s,{size:16})})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexShrink:0},children:[g&&t.jsx("div",{style:{flexShrink:0},children:g}),h&&p&&t.jsxs("div",{className:"data-table-filter-wrapper",ref:b,children:[t.jsxs("button",{onClick:()=>w(!_),className:`data-table-filter-button ${x!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(Nn,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:(($=p.find(j=>j.value===x))==null?void 0:$.label)||"All"})]}),_&&t.jsx("div",{className:"data-table-filter-dropdown",children:p.map(j=>t.jsx("button",{onClick:()=>{N(j.value),w(!1)},className:`data-table-filter-option ${x===j.value?"data-table-filter-option-active":""}`,children:j.label},j.value))})]})]})]}),y&&t.jsxs("div",{className:"data-table-search-results",children:["Showing ",R.length," of ",s.length," results"]})]}),t.jsx("div",{className:"data-table-container",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"data-table-header",children:t.jsxs("tr",{children:[e.map((j,P)=>{const z=m&&j.sortable!==!1,F=T.key===j.accessor;return t.jsx("th",{className:`data-table-th ${z?"data-table-th-sortable":""}`,onClick:()=>z&&v(j),children:t.jsxs("div",{className:"data-table-th-content",children:[t.jsx("span",{children:j.header}),z&&t.jsx("span",{className:"data-table-sort-icon",children:F?T.direction==="asc"?t.jsx(__,{size:14}):t.jsx(C_,{size:14}):t.jsx(w_,{size:14})})]})},P)}),(r||a||n)&&t.jsx("th",{className:"data-table-th",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):R.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center text-gray-500",children:y||x!=="all"?"No results found. Try adjusting your search or filters.":l})}):R.map((j,P)=>t.jsxs("tr",{className:`hover:bg-gray-50 transition-all duration-200 ease-out hover:shadow-sm ${i||n?"cursor-pointer":""} stagger-item`,onClick:z=>E(j,z),style:{"--animation-delay":`${P*.03}s`},children:[e.map((z,F)=>{const C=j[z.accessor];let A=C;return!z.render&&C&&typeof C=="object"&&!Array.isArray(C)&&(A=C.name||C.title||C.first_name||JSON.stringify(C)),t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900",children:z.render?z.render(C,j):A},F)}),(r||a||n)&&t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",onClick:z=>z.stopPropagation(),children:t.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const z=[];return r&&a?(z.push(t.jsx("button",{onClick:()=>r(j),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ws,{size:18})},"edit")),z.push(t.jsx("button",{onClick:()=>a(j),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Is,{size:18})},"delete"))):n&&r?(z.push(t.jsx("button",{onClick:()=>n(j),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ls,{size:18})},"view")),z.push(t.jsx("button",{onClick:()=>r(j),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ws,{size:18})},"edit"))):n&&a?(z.push(t.jsx("button",{onClick:()=>n(j),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ls,{size:18})},"view")),z.push(t.jsx("button",{onClick:()=>a(j),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Is,{size:18})},"delete"))):r?z.push(t.jsx("button",{onClick:()=>r(j),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ws,{size:18})},"edit")):a?z.push(t.jsx("button",{onClick:()=>a(j),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Is,{size:18})},"delete")):n&&z.push(t.jsx("button",{onClick:()=>n(j),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ls,{size:18})},"view")),z})()})})]},j.id||P))})]})})})]})},xa=({data:e,isLoading:s,emptyMessage:r="No data available"})=>{if(s)return t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!e)return t.jsx("div",{className:"text-center py-8 text-gray-500",children:r});const a=(i,o,l=null,c="")=>!o&&o!==0&&o!==!1?null:t.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg ${c}`,children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[l&&t.jsx("span",{className:"mr-2",children:l}),i]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o})]}),n=i=>{const o={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Be},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Be}},l=o[i]||o.pending,c=l.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${l.badgeClass}`,children:[t.jsx(c,{size:12,className:"mr-1"}),i?i.charAt(0).toUpperCase()+i.slice(1):"N/A"]})};return t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.name&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name})]}),e.name_ar&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name (Arabic)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name_ar})]}),e.legal_name&&a("Legal Name",e.legal_name),e.first_name&&a("First Name",e.first_name),e.last_name&&a("Last Name",e.last_name),e.full_name&&a("Full Name",e.full_name),e.email&&a("Email",e.email,t.jsx(Lt,{size:16})),e.phone&&a("Phone",e.phone,t.jsx(fr,{size:16})),e.country&&a("Country",e.country,t.jsx(vt,{size:16})),e.city&&a("City",e.city,t.jsx(vt,{size:16})),e.address&&a("Address",e.address,t.jsx(vt,{size:16}),"md:col-span-2"),e.registration_number&&a("Registration Number",e.registration_number),e.id_number&&a("ID Number",e.id_number),e.code&&a(e.code.includes("Course")?"Course Code":"Code",e.code),e.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:e.level})]}),e.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:16,className:"mr-2"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[e.duration_hours," hours"]})]}),e.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),n(e.status)]}),e.commission_percentage!==void 0&&e.commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:e.commission_percentage?`${e.commission_percentage}%`:"Not Set"})]}),e.authorization_price&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(It,{size:16,className:"mr-2"}),"Authorization Price"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(e.authorization_price||0).toFixed(2)]})]}),e.stripe_account_configured!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stripe Account"}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx($e,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[t.jsx(lr,{size:12,className:"mr-1"}),"Not Configured"]}),e.stripe_account_id&&t.jsx("span",{className:"text-xs text-gray-500 font-mono",children:e.stripe_account_id})]})]}),e.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Website"}),t.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:e.website})]}),e.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]}),e.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:16,className:"mr-2"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.request_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:e.description})]}),e.acc&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Ke,{className:"h-5 w-5 text-purple-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Accreditation Body (ACC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.acc.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.name})]}),e.acc.legal_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.legal_name})]}),e.acc.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.email})]}),e.acc.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.phone})]}),e.acc.status&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${e.acc.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.acc.status})]})]})]}),e.training_center&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Ke,{className:"h-5 w-5 text-indigo-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"Training Center"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:typeof e.training_center=="string"?t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center}):t.jsxs(t.Fragment,{children:[e.training_center.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.name})]}),e.training_center.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.email})]})]})})]}),e.instructor&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(gt,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Instructor"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.instructor.first_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"First Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.first_name})]}),e.instructor.last_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.last_name})]}),e.instructor.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.email})]}),e.instructor.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.phone})]})]})]}),e.sub_category&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(fn,{className:"h-5 w-5 text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Sub Category"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.sub_category.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Sub Category Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.name}),e.sub_category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.name_ar})]}),e.sub_category.category&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Parent Category"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.category.name||"N/A"}),e.sub_category.category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.category.name_ar})]})]})]}),e.certificate_pricing&&Array.isArray(e.certificate_pricing)&&e.certificate_pricing.length>0&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(It,{className:"h-5 w-5 text-yellow-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Certificate Pricing"})]}),t.jsx("div",{className:"space-y-3",children:e.certificate_pricing.map((i,o)=>t.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.base_price!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[parseFloat(i.base_price||0).toFixed(2)," ",i.currency||"USD"]})]}),i.group_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.group_commission_percentage||"0","%"]})]}),i.training_center_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.training_center_commission_percentage||"0","%"]})]}),i.instructor_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.instructor_commission_percentage||"0","%"]})]}),i.effective_from&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective From"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_from).toLocaleDateString()})]}),i.effective_to&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective To"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_to).toLocaleDateString()})]})]})},o))})]}),(e.documents||e.documents_json)&&Array.isArray(e.documents||e.documents_json)&&(e.documents||e.documents_json).length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:(e.documents||e.documents_json).map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:i.document_type||i.type||`Document ${o+1}`}),i.verified!==void 0&&t.jsx("p",{className:"text-sm text-gray-500",children:i.verified?"Verified":"Not Verified"}),i.description&&t.jsx("p",{className:"text-sm text-gray-500",children:i.description})]}),(i.document_url||i.url)&&t.jsx("a",{href:(i.document_url||i.url).startsWith("http")?i.document_url||i.url:`https://aeroenix.com/v1/api${i.document_url||i.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]},o))})]}),e.subscriptions&&Array.isArray(e.subscriptions)&&e.subscriptions.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subscriptions"}),t.jsx("div",{className:"space-y-2",children:e.subscriptions.map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[i.subscription_start_date," - ",i.subscription_end_date]}),i.payment_status&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",i.payment_status]})]},o))})]}),e.categories&&Array.isArray(e.categories)&&e.categories.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(gi,{className:"mr-2",size:20}),"Assigned Categories"]}),t.jsx("div",{className:"space-y-2",children:e.categories.map((i,o)=>{const l=typeof i=="object"?i.id:i,c=typeof i=="object"?i.name:`Category ${l}`;return t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:c}),typeof i=="object"&&i.status&&t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},l||o)})})]}),e.languages&&Array.isArray(e.languages)&&e.languages.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ua,{className:"mr-2",size:20}),"Languages"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.languages.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:i},o))})]}),e.specializations&&Array.isArray(e.specializations)&&e.specializations.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ua,{className:"mr-2",size:20}),"Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.specializations.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:i},o))})]}),e.certificates_json&&Array.isArray(e.certificates_json)&&e.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Yr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:e.certificates_json.map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:i.name||i.certificate_name||`Certificate ${o+1}`}),i.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",i.issued_by]}),i.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",i.year]}),i.url&&t.jsx("a",{href:i.url.startsWith("http")?i.url:`https://aeroenix.com/v1/api${i.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},o))})]}),e.cv_url&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Ye,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the CV"})]})]}),t.jsxs("a",{href:e.cv_url.startsWith("http")?e.cv_url:`https://aeroenix.com/v1/api${e.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ye,{size:18,className:"mr-2"}),"View CV"]})]})})]}),e.classes&&Array.isArray(e.classes)&&e.classes.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Classes (",e.classes.length,")"]}),t.jsx("div",{className:"space-y-2",children:e.classes.map(i=>t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name||`Class ${i.id}`}),i.status&&t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},i.id))})]}),e.commission_percentage!==null&&e.commission_percentage!==void 0&&e.authorization_price&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(It,{className:"mr-2",size:20}),"Commission Information"]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[parseFloat(e.commission_percentage).toFixed(2),"%"]}),e.authorization_price&&t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*parseFloat(e.commission_percentage)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*(100-parseFloat(e.commission_percentage))/100).toFixed(2)]})]})]})]})]}),(e.created_at||e.updated_at)&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.created_at).toLocaleString()})]}),e.updated_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.updated_at).toLocaleString()})]})]})]})},de=({label:e,type:s="text",name:r,value:a,onChange:n,placeholder:i,required:o=!1,error:l,helpText:c,options:h=null,textarea:d=!1,rows:p=4,className:m="",disabled:u=!1,min:g,max:y,step:S})=>t.jsxs("div",{className:m,children:[e&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d?t.jsx("textarea",{name:r,value:a,onChange:n,placeholder:i,required:o,rows:p,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}):s==="select"?t.jsx("select",{name:r,value:a,onChange:n,required:o,disabled:u,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`,children:h&&h.length>0&&h[0].value===""?h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value)):t.jsxs(t.Fragment,{children:[t.jsxs("option",{value:"",children:["Select ",e]}),h==null?void 0:h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))]})}):t.jsx("input",{type:s,name:r,value:a,onChange:n,placeholder:i,required:o,disabled:u,min:g,max:y,step:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`}),l&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),c&&!l&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),uE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("ACC Applications"),s("Review and manage ACC registration applications"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{i(!0);try{const R=await Ve.getACCApplications();a(R.applications||[])}catch(R){console.error("Failed to load applications:",R),a([])}finally{i(!1)}};f.useEffect(()=>{S()},[]);const x=async R=>{try{await Ve.approveACCApplication(R),await S()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},N=async R=>{try{const $=await Ve.getACCApplication(R.id);l($.application),h(!0)}catch($){console.error("Failed to load application details:",$),l(R),h(!0)}},_=R=>{l(R),u(""),p(!0)},w=async()=>{if(!m.trim()){alert("Please provide a rejection reason");return}try{await Ve.rejectACCApplication(o.id,{rejection_reason:m}),await S(),p(!1),l(null),u("")}catch(R){alert("Failed to reject application: "+(R.message||"Unknown error"))}},T=f.useMemo(()=>{let R=[...r];return g!=="all"&&(R=R.filter($=>$.status===g)),R.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),k=r.length,b=r.filter(R=>R.status==="pending").length,E=r.filter(R=>R.status==="rejected").length,v=f.useMemo(()=>[{header:"Organization",accessor:"name",sortable:!0,render:(R,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ke,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:R||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:R=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),R||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:R=>{const $={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be}},j=$[R]||$.pending,P=j.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${j.badgeClass}`,children:[t.jsx(P,{size:12,className:"mr-1"}),R?R.charAt(0).toUpperCase()+R.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:R=>t.jsx("span",{className:"text-sm text-gray-600",children:R?new Date(R).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(We,{name:"Total",value:k,icon:Pi,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(We,{name:"Pending",value:b,icon:Be,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(We,{name:"Rejected",value:E,icon:rt,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:v,data:T,onView:N,onRowClick:N,isLoading:n,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by organization name, email, or legal name..."})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"ACC Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"success",fullWidth:!0,icon:t.jsx($e,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,icon:t.jsx(rt,{size:20}),onClick:()=>{h(!1),_(o)},children:"Reject Application"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),l(null),u("")},title:"Reject ACC Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",value:m,onChange:R=>u(R.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),l(null),u("")},children:"Cancel"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,onClick:w,children:"Reject Application"})]})]})})]})},mE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("Training Center Applications"),s("Review and manage Training Center registration applications"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{try{i(!0);const R=await Ve.getTrainingCenterApplications();a(R.applications||[])}catch(R){console.error("Failed to load applications:",R),alert("Failed to load applications: "+(R.message||"Unknown error"))}finally{i(!1)}};f.useEffect(()=>{S()},[]);const x=async R=>{if(confirm("Are you sure you want to approve this Training Center application?"))try{await Ve.approveTrainingCenterApplication(R),alert("Training Center application approved successfully!"),await S()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},N=R=>{l(R),h(!0)},_=R=>{l(R),u(""),p(!0)},w=async()=>{if(!m.trim()){alert("Please provide a rejection reason");return}try{await Ve.rejectTrainingCenterApplication(o.id,{rejection_reason:m}),alert("Training Center application rejected"),await S(),p(!1),l(null),u("")}catch(R){alert("Failed to reject application: "+(R.message||"Unknown error"))}},T=f.useMemo(()=>{let R=[...r];return g==="rejected"?R=R.filter($=>$.status==="inactive"||$.status==="rejected"):g!=="all"&&(R=R.filter($=>$.status===g)),R.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),k=r.length,b=r.filter(R=>R.status==="pending").length,E=r.filter(R=>R.status==="inactive"||R.status==="rejected").length,v=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:(R,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ke,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:R||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:R=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),R||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:R=>{const $={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},inactive:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be}},j=$[R]||$.pending,P=j.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${j.badgeClass}`,children:[t.jsx(P,{size:12,className:"mr-1"}),R?R.charAt(0).toUpperCase()+R.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:R=>t.jsx("span",{className:"text-sm text-gray-600",children:R?new Date(R).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(We,{name:"Total",value:k,icon:Pi,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(We,{name:"Pending",value:b,icon:Be,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(We,{name:"Rejected",value:E,icon:rt,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:v,data:T,onView:N,onRowClick:N,isLoading:n,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center name, email, or legal name..."})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"Training Center Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"success",fullWidth:!0,icon:t.jsx($e,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,icon:t.jsx(rt,{size:20}),onClick:()=>{h(!1),_(o)},children:"Reject Application"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),l(null),u("")},title:"Reject Training Center Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",value:m,onChange:R=>u(R.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),l(null),u("")},children:"Cancel"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,onClick:w,children:"Reject Application"})]})]})})]})},pE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState(""),[N,_]=f.useState(!1),[w,T]=f.useState([]),[k,b]=f.useState(""),[E,v]=f.useState("all"),[R,$]=f.useState({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),[j,P]=f.useState({});f.useEffect(()=>(e("All Accreditation Bodies"),s("Manage all accreditation bodies"),()=>{e(null),s(null)}),[e,s]);const z=async()=>{try{const L=await Ve.listCategories();T(L.categories||[])}catch(L){console.error("Failed to load categories:",L)}},F=async()=>{i(!0);try{const L=await Ve.listACCs({per_page:1e3});let X=[];L.data?X=L.data||[]:L.accs?X=L.accs||[]:X=Array.isArray(L)?L:[],a(X)}catch(L){console.error("Failed to load ACCs:",L),a([])}finally{i(!1)}};f.useEffect(()=>{F(),z()},[]);const C=async L=>{try{const X=await Ve.getACCDetails(L.id),se={...X.acc,categories:X.acc.categories||[]};y(se),l(!0)}catch(X){console.error("Failed to load ACC details:",X);const se={...L,categories:L.categories||[]};y(se),l(!0)}},A=async()=>{if(!S||isNaN(S)){alert("Please enter a valid commission percentage");return}const L=parseFloat(S);if(L<0||L>100){alert("Commission percentage must be between 0 and 100");return}_(!0);try{await Ve.setCommissionPercentage(g.id,{commission_percentage:L}),await F(),h(!1),y(null),x(""),alert("Commission percentage set successfully!")}catch(X){alert("Failed to set commission: "+(X.message||"Unknown error"))}finally{_(!1)}},M=async L=>{try{const se=(await Ve.getACCDetails(L.id)).acc;y(se),$({name:se.name||"",legal_name:se.legal_name||"",registration_number:se.registration_number||"",country:se.country||"",address:se.address||"",phone:se.phone||"",email:se.email||"",website:se.website||"",logo_url:se.logo_url||"",status:se.status||"active",registration_fee_paid:se.registration_fee_paid||!1,registration_fee_amount:se.registration_fee_amount||"",commission_percentage:se.commission_percentage||""}),P({}),p(!0)}catch(X){console.error("Failed to load ACC details:",X),alert("Failed to load ACC details")}},D=L=>{const{name:X,value:se,type:ce,checked:ve}=L.target;$({...R,[X]:ce==="checkbox"?ve:se}),P({})},O=async L=>{var X,se,ce,ve;L.preventDefault(),_(!0),P({});try{await Ve.updateACC(g.id,R),await F(),p(!1),y(null),alert("ACC updated successfully!")}catch(me){(se=(X=me.response)==null?void 0:X.data)!=null&&se.errors?P(me.response.data.errors):P({general:((ve=(ce=me.response)==null?void 0:ce.data)==null?void 0:ve.message)||me.message||"Failed to update ACC"})}finally{_(!1)}},V=async L=>{try{const X=await Ve.getACCCategories(L.id),se={...X.acc,categories:X.categories||[]};y(se),u(!0)}catch(X){console.error("Failed to load ACC categories:",X);try{const se=await Ve.getACCDetails(L.id),ce={...se.acc,categories:se.acc.categories||[]};y(ce),u(!0)}catch(se){console.error("Failed to load ACC details:",se);const ce={...L,categories:L.categories||[]};y(ce),u(!0)}}},q=async()=>{var L,X;if(!k){alert("Please select a category");return}_(!0);try{await Ve.assignCategoryToACC(g.id,{category_id:parseInt(k)});const se=await Ve.getACCCategories(g.id),ce={...se.acc,categories:se.categories||[]};y(ce),b(""),await z(),alert("Category assigned successfully!")}catch(se){const ce=((X=(L=se.response)==null?void 0:L.data)==null?void 0:X.message)||se.message||"Unknown error";alert("Failed to assign category: "+ce)}finally{_(!1)}},I=async L=>{var X,se;if(confirm("Are you sure you want to remove this category?")){_(!0);try{await Ve.removeCategoryFromACC(g.id,{category_id:L});const ce=await Ve.getACCCategories(g.id),ve={...ce.acc,categories:ce.categories||[]};y(ve),await z(),alert("Category removed successfully!")}catch(ce){const ve=((se=(X=ce.response)==null?void 0:X.data)==null?void 0:se.message)||ce.message||"Unknown error";alert("Failed to remove category: "+ve)}finally{_(!1)}}},W=f.useMemo(()=>{let L=[...r];return E!=="all"&&(L=L.filter(X=>X.status===E)),L.map(X=>({...X,_searchText:`${X.name||""} ${X.email||""}`.toLowerCase()}))},[r,E]),B=r.length,H=r.filter(L=>L.status==="active").length,Y=r.filter(L=>L.status==="pending").length,U=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:L=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ke,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:L||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:L=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),L||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:L=>{const X={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Be}},se=X[L]||X.pending,ce=se.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${se.badgeClass}`,children:[t.jsx(ce,{size:12,className:"mr-1"}),L?L.charAt(0).toUpperCase()+L.slice(1):"N/A"]})}},{header:"Commission %",accessor:"commission_percentage",sortable:!0,render:L=>t.jsx("span",{className:"text-sm text-gray-600",children:L?`${L}%`:t.jsx("span",{className:"text-gray-400",children:"Not Set"})})},{header:"Stripe Account",accessor:"stripe_account_configured",sortable:!0,render:(L,X)=>t.jsx("div",{className:"flex items-center",children:X.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx($e,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:[t.jsx(lr,{size:12,className:"mr-1"}),"Not Configured"]})})},{header:"Created",accessor:"created_at",sortable:!0,render:L=>t.jsx("span",{className:"text-sm text-gray-600",children:L?new Date(L).toLocaleDateString():"N/A"})}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(We,{name:"Total",value:B,icon:Pi,colorType:"indigo",isActive:E==="all",onClick:()=>v("all")}),t.jsx(We,{name:"Active",value:H,icon:$e,colorType:"green",isActive:E==="active",onClick:()=>v("active")}),t.jsx(We,{name:"Pending",value:Y,icon:Be,colorType:"yellow",isActive:E==="pending",onClick:()=>v("pending")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:U,data:W,onView:C,onRowClick:C,onEdit:M,isLoading:n,emptyMessage:"No ACCs found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),y(null)},title:"ACC Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:g,isLoading:!1,emptyMessage:"No ACC data available"}),g&&t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,icon:t.jsx(ws,{size:20}),onClick:()=>{l(!1),M(g)},children:"Edit ACC"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,icon:t.jsx(gi,{size:20}),onClick:()=>{l(!1),V(g)},children:"Manage Categories"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),y(null),x("")},title:`Set Commission for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(de,{label:"Commission Percentage (0-100)",name:"commission_percentage",type:"number",value:S,onChange:L=>x(L.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"e.g., 15.5"}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),y(null),x("")},children:"Cancel"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,onClick:A,disabled:N,loading:N,children:"Save Commission"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),y(null),$({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),P({})},title:`Edit ACC: ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Name",name:"name",value:R.name,onChange:D,error:j.name}),t.jsx(de,{label:"Legal Name",name:"legal_name",value:R.legal_name,onChange:D,error:j.legal_name}),t.jsx(de,{label:"Registration Number",name:"registration_number",value:R.registration_number,onChange:D,error:j.registration_number}),t.jsx(de,{label:"Country",name:"country",value:R.country,onChange:D,error:j.country}),t.jsx(de,{label:"Address",name:"address",value:R.address,onChange:D,textarea:!0,rows:2,error:j.address}),t.jsx(de,{label:"Phone",name:"phone",value:R.phone,onChange:D,error:j.phone}),t.jsx(de,{label:"Email",name:"email",type:"email",value:R.email,onChange:D,error:j.email}),t.jsx(de,{label:"Website",name:"website",type:"url",value:R.website,onChange:D,error:j.website}),t.jsx(de,{label:"Logo URL",name:"logo_url",type:"url",value:R.logo_url,onChange:D,error:j.logo_url}),t.jsx(de,{label:"Status",name:"status",type:"select",value:R.status,onChange:D,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"},{value:"rejected",label:"Rejected"}],error:j.status}),t.jsx(de,{label:"Registration Fee Amount",name:"registration_fee_amount",type:"number",value:R.registration_fee_amount,onChange:D,min:"0",step:"0.01",error:j.registration_fee_amount}),t.jsx(de,{label:"Commission Percentage",name:"commission_percentage",type:"number",value:R.commission_percentage,onChange:D,min:"0",max:"100",step:"0.1",error:j.commission_percentage}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registration_fee_paid",checked:R.registration_fee_paid,onChange:D,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Registration Fee Paid"})]})]}),j.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:j.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),y(null),P({})},children:"Cancel"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,type:"submit",disabled:N,loading:N,children:"Save Changes"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),y(null),b("")},title:`Manage Categories for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assign Category"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:k,onChange:L=>b(L.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer category-select",children:[t.jsx("option",{value:"",children:"Select a category..."}),w.filter(L=>!(g!=null&&g.categories)||g.categories.length===0?!0:!g.categories.some(X=>{const se=typeof X=="object"?X.id:X,ce=typeof L=="object"?L.id:L;return se===ce})).map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]}),t.jsx(Xe,{onClick:q,disabled:!k||N,loading:N,icon:t.jsx(Os,{size:20}),children:"Assign"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Assigned Categories ",(g==null?void 0:g.categories)&&Array.isArray(g.categories)&&g.categories.length>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",g.categories.length,")"]})]}),g!=null&&g.categories&&Array.isArray(g.categories)&&g.categories.length>0?t.jsx("div",{className:"space-y-3",children:g.categories.map(L=>{const X=L.id,se=L.sub_categories||[],ce=L.pivot;return t.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:L.name}),L.name_ar&&t.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.name_ar,")"]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.status})]}),L.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.description}),se.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Sub Categories (",se.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:se.map(ve=>t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded",children:ve.name},ve.id))})]}),ce&&t.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Assigned on: ",new Date(ce.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>I(X),disabled:N,className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-4",title:"Remove Category",children:t.jsx(_s,{size:16})})]})},X)})}):t.jsxs("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[t.jsx(gi,{className:"mx-auto text-gray-400 mb-2",size:32}),t.jsx("p",{className:"text-gray-500",children:"No categories assigned"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign categories to this ACC to get started"})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{u(!1),y(null),b("")},children:"Close"})})]})})]})},fE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState(!1),[S,x]=f.useState({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),[N,_]=f.useState({});f.useEffect(()=>(e("All Training Centers"),s("Manage all training centers"),()=>{e(null),s(null)}),[e,s]);const w=async()=>{i(!0);try{const F=await Ve.listTrainingCenters({per_page:1e3});let C=[];F.data?C=F.data||[]:F.training_centers?C=F.training_centers||[]:C=Array.isArray(F)?F:[],a(C)}catch(F){console.error("Failed to load training centers:",F),a([])}finally{i(!1)}};f.useEffect(()=>{w()},[]);const T=async F=>{try{const C=await Ve.getTrainingCenterDetails(F.id);p(C.training_center),l(!0)}catch(C){console.error("Failed to load training center details:",C),p(F),l(!0)}},k=async F=>{try{const A=(await Ve.getTrainingCenterDetails(F.id)).training_center;p(A),x({name:A.name||"",legal_name:A.legal_name||"",registration_number:A.registration_number||"",country:A.country||"",city:A.city||"",address:A.address||"",phone:A.phone||"",email:A.email||"",website:A.website||"",logo_url:A.logo_url||"",referred_by_group:A.referred_by_group||!1,status:A.status||"active"}),_({}),h(!0)}catch(C){console.error("Failed to load training center details:",C),alert("Failed to load training center details")}},b=F=>{const{name:C,value:A,type:M,checked:D}=F.target;x({...S,[C]:M==="checkbox"?D:A}),_({})},E=async F=>{var C,A,M,D;F.preventDefault(),y(!0),_({});try{await Ve.updateTrainingCenter(d.id,S),await w(),h(!1),p(null),alert("Training center updated successfully!")}catch(O){(A=(C=O.response)==null?void 0:C.data)!=null&&A.errors?_(O.response.data.errors):_({general:((D=(M=O.response)==null?void 0:M.data)==null?void 0:D.message)||O.message||"Failed to update training center"})}finally{y(!1)}},v=f.useMemo(()=>{let F=[...r];return m!=="all"&&(F=F.filter(C=>C.status===m)),F.map(C=>({...C,_searchText:`${C.name||""} ${C.email||""}`.toLowerCase()}))},[r,m]),R=r.length,$=r.filter(F=>F.status==="active").length,j=r.filter(F=>F.status==="pending").length,P=r.filter(F=>F.status==="inactive").length,z=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:F=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Gc,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:F||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:F=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),F||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:F=>{const C={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Be}},A=C[F]||C.pending,M=A.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${A.badgeClass}`,children:[t.jsx(M,{size:12,className:"mr-1"}),F?F.charAt(0).toUpperCase()+F.slice(1):"N/A"]})}},{header:"Country",accessor:"country",sortable:!0,render:F=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(vt,{className:"h-4 w-4 mr-2 text-gray-400"}),F||"N/A"]})},{header:"Created",accessor:"created_at",sortable:!0,render:F=>t.jsx("span",{className:"text-sm text-gray-600",children:F?new Date(F).toLocaleDateString():"N/A"})}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total",value:R,icon:Pi,colorType:"indigo",isActive:m==="all",onClick:()=>u("all")}),t.jsx(We,{name:"Active",value:$,icon:$e,colorType:"green",isActive:m==="active",onClick:()=>u("active")}),t.jsx(We,{name:"Pending",value:j,icon:Be,colorType:"yellow",isActive:m==="pending",onClick:()=>u("pending")}),t.jsx(We,{name:"Inactive",value:P,icon:rt,colorType:"gray",isActive:m==="inactive",onClick:()=>u("inactive")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:z,data:v,onView:T,onRowClick:T,onEdit:k,isLoading:n,emptyMessage:"No training centers found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Training Center Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:d,isLoading:!1,emptyMessage:"No training center data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Xe,{variant:"outline",fullWidth:!0,icon:t.jsx(ws,{size:20}),onClick:()=>{l(!1),k(d)},children:"Edit Training Center"})})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null),x({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),_({})},title:`Edit Training Center: ${d==null?void 0:d.name}`,size:"lg",children:t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Name",name:"name",value:S.name,onChange:b,error:N.name}),t.jsx(de,{label:"Legal Name",name:"legal_name",value:S.legal_name,onChange:b,error:N.legal_name}),t.jsx(de,{label:"Registration Number",name:"registration_number",value:S.registration_number,onChange:b,error:N.registration_number}),t.jsx(de,{label:"Country",name:"country",value:S.country,onChange:b,error:N.country}),t.jsx(de,{label:"City",name:"city",value:S.city,onChange:b,error:N.city}),t.jsx(de,{label:"Address",name:"address",value:S.address,onChange:b,textarea:!0,rows:2,error:N.address}),t.jsx(de,{label:"Phone",name:"phone",value:S.phone,onChange:b,error:N.phone}),t.jsx(de,{label:"Email",name:"email",type:"email",value:S.email,onChange:b,error:N.email}),t.jsx(de,{label:"Website",name:"website",type:"url",value:S.website,onChange:b,error:N.website}),t.jsx(de,{label:"Logo URL",name:"logo_url",type:"url",value:S.logo_url,onChange:b,error:N.logo_url}),t.jsx(de,{label:"Status",name:"status",type:"select",value:S.status,onChange:b,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:N.status}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"referred_by_group",checked:S.referred_by_group,onChange:b,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Referred by Group"})]})]}),N.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:N.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),p(null),_({})},children:"Cancel"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,type:"submit",disabled:g,loading:g,children:"Save Changes"})]})]})})]})},hE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(!1),[g,y]=f.useState("all"),[S,x]=f.useState(!1),[N,_]=f.useState(null),[w,T]=f.useState(null),[k,b]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),[E,v]=f.useState({});f.useEffect(()=>(e("Instructors"),s("View and manage all instructors across all ACCs"),()=>{e(null),s(null)}),[e,s]);const R=async()=>{i(!0);try{const B=await Ve.listInstructors({per_page:1e3});let H=[];B.data?H=B.data||[]:B.instructors?H=B.instructors||[]:H=Array.isArray(B)?B:[],a(H)}catch(B){console.error("Failed to load instructors:",B),a([])}finally{i(!1)}};f.useEffect(()=>{R()},[]);const $=async B=>{var H;u(!0),l(!0);try{const Y=await Ve.getInstructorDetails(B.id);p(Y.instructor)}catch(Y){console.error("Failed to load instructor details:",Y),p(B),((H=Y.response)==null?void 0:H.status)===404&&alert("Instructor not found")}finally{u(!1)}},j=async B=>{try{const Y=(await Ve.getInstructorDetails(B.id)).instructor;p(Y),b({first_name:Y.first_name||"",last_name:Y.last_name||"",email:Y.email||"",phone:Y.phone||"",id_number:Y.id_number||"",certificates_json:Y.certificates_json||[],specializations:Y.specializations||[],languages:Y.languages||[],status:Y.status||"active"}),_(null),T(Y.cv_url||null),v({}),h(!0)}catch(H){console.error("Failed to load instructor details:",H),alert("Failed to load instructor details")}},P=B=>{const{name:H,value:Y}=B.target;b({...k,[H]:Y}),v({})},z=B=>{const H=B.target.files[0];if(H){const Y=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],U=[".pdf",".doc",".docx"],L="."+H.name.split(".").pop().toLowerCase();if(!Y.includes(H.type)&&!U.includes(L)){v({cv_file:"CV must be a PDF or DOC/DOCX file"}),B.target.value="";return}if(H.size>10*1024*1024){v({cv_file:"CV file size must not exceed 10MB"}),B.target.value="";return}_(H),T(URL.createObjectURL(H)),E.cv_file&&v(X=>{const se={...X};return delete se.cv_file,se})}},F=()=>{_(null),T(null);const B=document.querySelector('input[name="cv_file"]');B&&(B.value="")},C=B=>{const Y=B.target.value.split(",").map(U=>U.trim()).filter(U=>U);b({...k,specializations:Y})},A=B=>{const Y=B.target.value.split(",").map(U=>U.trim()).filter(U=>U);b({...k,languages:Y})},M=async B=>{var H,Y,U,L;B.preventDefault(),x(!0),v({});try{let X={...k};if(N){const se=new FormData;Object.keys(X).forEach(ce=>{ce==="certificates_json"||ce==="specializations"||ce==="languages"?se.append(ce,JSON.stringify(X[ce])):se.append(ce,X[ce])}),se.append("cv_file",N),await Ve.updateInstructor(d.id,se)}else{const se={...X,certificates_json:JSON.stringify(X.certificates_json),specializations:JSON.stringify(X.specializations),languages:JSON.stringify(X.languages)};await Ve.updateInstructor(d.id,se)}await R(),h(!1),p(null),_(null),T(null),alert("Instructor updated successfully!")}catch(X){(Y=(H=X.response)==null?void 0:H.data)!=null&&Y.errors?v(X.response.data.errors):v({general:((L=(U=X.response)==null?void 0:U.data)==null?void 0:L.message)||X.message||"Failed to update instructor"})}finally{x(!1)}},D=f.useMemo(()=>{let B=[...r];return g!=="all"&&(B=B.filter(H=>H.status===g)),B.map(H=>{const Y=H.training_center?typeof H.training_center=="string"?H.training_center:H.training_center.name:"";return{...H,_searchText:`${H.first_name||""} ${H.last_name||""} ${H.email||""} ${Y}`.toLowerCase()}})},[r,g]),O=r.length,V=r.filter(B=>B.status==="active").length,q=r.filter(B=>B.status==="pending").length,I=r.filter(B=>B.status==="suspended").length,W=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(B,H)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(gt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[H.first_name," ",H.last_name]}),H.id_number&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",H.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:B=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),B||"N/A"]})},{header:"Phone",accessor:"phone",sortable:!0,render:B=>B?t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(fr,{className:"h-4 w-4 mr-2 text-gray-400"}),B]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Training Center",accessor:"training_center",sortable:!0,render:B=>{const H=B?typeof B=="string"?B:B.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2 text-gray-400"}),H]})}},{header:"Status",accessor:"status",sortable:!0,render:B=>{const H={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Be}},Y=H[B]||H.pending,U=Y.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${Y.badgeClass}`,children:[t.jsx(U,{size:12,className:"mr-1"}),B?B.charAt(0).toUpperCase()+B.slice(1):"N/A"]})}}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total",value:O,icon:Pi,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(We,{name:"Active",value:V,icon:$e,colorType:"green",isActive:g==="active",onClick:()=>y("active")}),t.jsx(We,{name:"Pending",value:q,icon:Be,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(We,{name:"Suspended",value:I,icon:rt,colorType:"red",isActive:g==="suspended",onClick:()=>y("suspended")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:W,data:D,onView:$,onRowClick:$,onEdit:j,isLoading:n,emptyMessage:"No instructors found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, email, or training center..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Instructor Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:d,isLoading:m,emptyMessage:"No instructor data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Xe,{variant:"outline",fullWidth:!0,icon:t.jsx(ws,{size:20}),onClick:()=>{l(!1),j(d)},children:"Edit Instructor"})})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null),b({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),_(null),T(null),v({})},title:`Edit Instructor: ${d==null?void 0:d.first_name} ${d==null?void 0:d.last_name}`,size:"lg",children:t.jsxs("form",{onSubmit:M,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"First Name",name:"first_name",value:k.first_name,onChange:P,error:E.first_name}),t.jsx(de,{label:"Last Name",name:"last_name",value:k.last_name,onChange:P,error:E.last_name}),t.jsx(de,{label:"Email",name:"email",type:"email",value:k.email,onChange:P,error:E.email}),t.jsx(de,{label:"Phone",name:"phone",value:k.phone,onChange:P,error:E.phone}),t.jsx(de,{label:"ID Number",name:"id_number",value:k.id_number,onChange:P,error:E.id_number}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Document (PDF or DOC/DOCX)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-primary-400 transition-colors",children:w||d!=null&&d.cv_url?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:t.jsx(Ye,{className:"text-primary-600",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N?N.name:"Current CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:N?`${(N.size/1024/1024).toFixed(2)} MB`:"Click to replace"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[(w||(d==null?void 0:d.cv_url))&&!N&&t.jsx("a",{href:d==null?void 0:d.cv_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:"View"}),t.jsxs("label",{className:"cursor-pointer px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:["Replace",t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:z,className:"hidden"})]}),t.jsx("button",{type:"button",onClick:F,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(_s,{size:16})})]})]}):t.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-3",children:t.jsx(Ys,{className:"text-gray-400",size:24})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload CV"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX (Max 10MB)"}),t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:z,className:"hidden"})]})}),E.cv_file&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.cv_file})]}),t.jsx(de,{label:"Status",name:"status",type:"select",value:k.status,onChange:P,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:E.status}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages (comma-separated)"}),t.jsx("input",{type:"text",value:Array.isArray(k.languages)?k.languages.join(", "):k.languages||"",onChange:A,placeholder:"e.g., English, Arabic, French",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${E.languages?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}),E.languages&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.languages})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),t.jsx("input",{type:"text",value:Array.isArray(k.specializations)?k.specializations.join(", "):k.specializations||"",onChange:C,placeholder:"e.g., Aviation Safety, Aircraft Maintenance",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${E.specializations?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}),E.specializations&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.specializations})]})]}),E.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:E.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),p(null),v({})},children:"Cancel"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,type:"submit",disabled:S,loading:S,children:"Save Changes"})]})]})})]})},gE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState("all");f.useEffect(()=>(e("Courses"),s("View and manage all courses across all ACCs"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{i(!0);try{const k=await Ve.listCourses({per_page:1e3});let b=[];k.data?b=k.data||[]:k.courses?b=k.courses||[]:b=Array.isArray(k)?k:[],a(b)}catch(k){console.error("Failed to load courses:",k),a([])}finally{i(!1)}};f.useEffect(()=>{g()},[]);const y=async k=>{l(!0),p(!0);try{const b=await Ve.getCourseDetails(k.id);h(b.course||k)}catch(b){console.error("Failed to load course details:",b),h(k)}finally{p(!1)}},S=f.useMemo(()=>{let k=[...r];return m!=="all"&&(k=k.filter(b=>b.status===m)),k.map(b=>{const E=b.acc&&typeof b.acc=="object"?b.acc.name:"",v=b.sub_category&&typeof b.sub_category=="object"?b.sub_category.name:"";return{...b,_searchText:`${b.name||""} ${b.code||""} ${b.name_ar||""} ${E} ${v}`.toLowerCase()}})},[r,m]),x=r.length,N=r.filter(k=>k.status==="active").length,_=r.filter(k=>k.status==="inactive").length,w=r.filter(k=>k.status==="archived").length,T=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(k,b)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(hs,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:k||"N/A"}),b.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:b.name_ar}),b.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",b.code]})]})]})},{header:"ACC",accessor:"acc",sortable:!0,render:k=>{const b=k&&typeof k=="object"?k.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2 text-gray-400"}),b]})}},{header:"Sub Category",accessor:"sub_category",sortable:!0,render:k=>{const b=k&&typeof k=="object"?k.name:"N/A";return t.jsx("div",{className:"text-sm text-gray-600",children:b})}},{header:"Level",accessor:"level",sortable:!0,render:k=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:k||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:k=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),k?`${k} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:k=>{const b={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},inactive:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:rt},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:rt}},E=b[k]||b.inactive,v=E.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${E.badgeClass}`,children:[t.jsx(v,{size:12,className:"mr-1"}),k?k.charAt(0).toUpperCase()+k.slice(1):"N/A"]})}}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total",value:x,icon:Pi,colorType:"indigo",isActive:m==="all",onClick:()=>u("all")}),t.jsx(We,{name:"Active",value:N,icon:$e,colorType:"green",isActive:m==="active",onClick:()=>u("active")}),t.jsx(We,{name:"Inactive",value:_,icon:rt,colorType:"yellow",isActive:m==="inactive",onClick:()=>u("inactive")}),t.jsx(We,{name:"Archived",value:w,icon:rt,colorType:"gray",isActive:m==="archived",onClick:()=>u("archived")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:T,data:S,onView:y,onRowClick:y,isLoading:n,emptyMessage:"No courses found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, code, ACC, or sub category..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Course Details",size:"xl",children:t.jsx(xa,{data:c,isLoading:d,emptyMessage:"No course data available"})})]})},ha=({isOpen:e,onClose:s,onConfirm:r,title:a,message:n,confirmText:i="Delete",cancelText:o="Cancel",variant:l="danger"})=>{if(!e)return null;const c=l==="danger"?"danger":l==="warning"?"warning":"primary";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4 animate-slide-down",children:[t.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-100":l==="warning"?"bg-yellow-100":"bg-primary-100"} mr-4 animate-pulse`,children:t.jsx(N_,{className:`${l==="danger"?"text-red-600":l==="warning"?"text-yellow-600":"text-primary-600"}`,size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),t.jsx("p",{className:"text-gray-600 mb-6 ml-16 animate-fade-in",children:n}),t.jsxs("div",{className:"flex justify-end space-x-3 animate-slide-up",children:[t.jsx(Xe,{variant:"outline",onClick:s,children:o}),t.jsx(Xe,{variant:c,onClick:()=>{r(),s()},children:i})]})]})})})},xE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState("categories"),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[S,x]=f.useState({}),[N,_]=f.useState(!1),[w,T]=f.useState([]),[k,b]=f.useState(!0),[E,v]=f.useState(!1),[R,$]=f.useState(!1),[j,P]=f.useState(null),[z,F]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[C,A]=f.useState({}),[M,D]=f.useState(!1);f.useEffect(()=>(e("Course Categories"),s("Manage global categories and sub-categories"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{O(),Y()},[]);const O=async()=>{try{l(!0);const ee=await Ve.listCategories({per_page:1e3});let re=[];ee!=null&&ee.data?re=Array.isArray(ee.data)?ee.data:[]:ee!=null&&ee.categories?re=Array.isArray(ee.categories)?ee.categories:[]:re=Array.isArray(ee)?ee:[],i(re)}catch(ee){console.error("Failed to load categories:",ee),i([])}finally{l(!1)}},V=(ee=null)=>{ee?(u(ee),y({name:ee.name||"",name_ar:ee.name_ar||"",description:ee.description||"",status:ee.status||"active"})):(u(null),y({name:"",name_ar:"",description:"",status:"active"})),x({}),h(!0)},q=()=>{h(!1),u(null),y({name:"",name_ar:"",description:"",status:"active"}),x({})},I=ee=>{y({...g,[ee.target.name]:ee.target.value}),x({})},W=async ee=>{ee.preventDefault(),_(!0),x({});try{m?await Ve.updateCategory(m.id,g):await Ve.createCategory(g),await O(),q()}catch(re){re.errors?x(re.errors):x({general:re.message||"Failed to save category"})}finally{_(!1)}},B=ee=>{u(ee),p(!0)},H=async()=>{try{await Ve.deleteCategory(m.id),await O()}catch(ee){alert("Failed to delete category: "+(ee.message||"Unknown error"))}p(!1),u(null)},Y=async(ee=null)=>{b(!0);try{const re={per_page:1e3};ee&&(re.category_id=ee);const fe=await Ve.listSubCategories(re);let Me=[];fe!=null&&fe.data?Me=Array.isArray(fe.data)?fe.data:[]:fe!=null&&fe.sub_categories?Me=Array.isArray(fe.sub_categories)?fe.sub_categories:[]:Me=Array.isArray(fe)?fe:[],T(Me)}catch(re){console.error("Failed to load sub categories:",re),T([])}finally{b(!1)}},U=f.useMemo(()=>n.map(ee=>({...ee,_searchText:`${ee.name||""} ${ee.name_ar||""} ${ee.description||""}`.toLowerCase()})),[n]),L=f.useMemo(()=>w.map(ee=>{const re=n.find(fe=>fe.id===ee.category_id);return{...ee,_searchText:`${ee.name||""} ${ee.name_ar||""} ${(re==null?void 0:re.name)||""}`.toLowerCase()}}),[w,n]),X=(ee=null)=>{ee?(P(ee),F({category_id:ee.category_id||"",name:ee.name||"",name_ar:ee.name_ar||"",description:ee.description||"",status:ee.status||"active"})):(P(null),F({category_id:"",name:"",name_ar:"",description:"",status:"active"})),A({}),v(!0)},se=()=>{v(!1),P(null),F({category_id:"",name:"",name_ar:"",description:"",status:"active"}),A({})},ce=ee=>{F({...z,[ee.target.name]:ee.target.value}),A({})},ve=async ee=>{var re,fe,Me,be;ee.preventDefault(),D(!0),A({});try{j?await Ve.updateSubCategory(j.id,z):await Ve.createSubCategory(z),await Y(),se()}catch(Ce){(fe=(re=Ce.response)==null?void 0:re.data)!=null&&fe.errors?A(Ce.response.data.errors):(be=(Me=Ce.response)==null?void 0:Me.data)!=null&&be.message?A({general:Ce.response.data.message}):A({general:Ce.message||"Failed to save sub category"})}finally{D(!1)}},me=ee=>{P(ee),$(!0)},xe=async()=>{try{await Ve.deleteSubCategory(j.id),await Y()}catch(ee){alert("Failed to delete sub category: "+(ee.message||"Unknown error"))}$(!1),P(null)},he=n.length,J=n.filter(ee=>ee.status==="active").length,ue=w.length,Ne=w.filter(ee=>ee.status==="active").length,Pe=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(ee,re)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ye,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:ee||"N/A"}),re.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:re.name_ar})]})]})},{header:"Description",accessor:"description",sortable:!0,render:ee=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:ee||"-"})},{header:"Status",accessor:"status",sortable:!0,render:ee=>{const re=ee==="active";return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${re?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[re&&t.jsx($e,{size:12,className:"mr-1"}),ee?ee.charAt(0).toUpperCase()+ee.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(ee,re)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:fe=>fe.stopPropagation(),children:[t.jsx("button",{onClick:()=>V(re),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:()=>B(re),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Is,{size:16})})]})}],[]),ke=f.useMemo(()=>[{header:"Sub Category",accessor:"name",sortable:!0,render:(ee,re)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(fn,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:ee||"N/A"}),re.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:re.name_ar})]})]})},{header:"Category",accessor:"category_id",sortable:!0,render:ee=>{const re=n.find(fe=>fe.id===ee);return t.jsx("div",{className:"text-sm text-gray-600",children:re?re.name:`Category ID: ${ee}`})}},{header:"Status",accessor:"status",sortable:!0,render:ee=>{const re=ee==="active";return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${re?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[re&&t.jsx($e,{size:12,className:"mr-1"}),ee?ee.charAt(0).toUpperCase()+ee.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(ee,re)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:fe=>fe.stopPropagation(),children:[t.jsx("button",{onClick:()=>X(re),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:()=>me(re),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Is,{size:16})})]})}],[n]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total Categories",value:he,icon:Ye,colorType:"indigo"}),t.jsx(We,{name:"Active Categories",value:J,icon:$e,colorType:"green"}),t.jsx(We,{name:"Total Sub Categories",value:ue,icon:fn,colorType:"blue"}),t.jsx(We,{name:"Active Sub Categories",value:Ne,icon:$e,colorType:"purple"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ye,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(fn,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsx(Xe,{onClick:()=>V(),icon:t.jsx(Os,{size:20}),children:"Add Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:Pe,data:U,isLoading:o,emptyMessage:"No categories found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, description..."})})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Xe,{onClick:()=>X(),icon:t.jsx(Os,{size:20}),children:"Add Sub Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:ke,data:L,isLoading:k,emptyMessage:"No sub categories found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, category..."})})]}),t.jsx(Ie,{isOpen:c,onClose:q,title:m?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:W,className:"space-y-4",children:[t.jsx(de,{label:"Category Name (English)",name:"name",value:g.name,onChange:I,required:!0,error:S.name}),t.jsx(de,{label:"Category Name (Arabic)",name:"name_ar",value:g.name_ar,onChange:I,error:S.name_ar}),t.jsx(de,{label:"Description",name:"description",value:g.description,onChange:I,textarea:!0,rows:3,error:S.description}),t.jsx(de,{label:"Status",name:"status",type:"select",value:g.status,onChange:I,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:S.status}),S.general&&t.jsx("p",{className:"text-sm text-red-600",children:S.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:q,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Xe,{type:"submit",disabled:N,loading:N,fullWidth:!0,children:m?"Update":"Create"})]})]})}),t.jsx(ha,{isOpen:d,onClose:()=>{p(!1),u(null)},onConfirm:H,title:"Delete Category",message:`Are you sure you want to delete "${m==null?void 0:m.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:E,onClose:se,title:j?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[t.jsx(de,{label:"Category",name:"category_id",type:"select",value:z.category_id,onChange:ce,required:!0,options:n.map(ee=>({value:ee.id,label:ee.name||`Category ${ee.id}`})),error:C.category_id}),t.jsx(de,{label:"Sub Category Name (English)",name:"name",value:z.name,onChange:ce,required:!0,error:C.name}),t.jsx(de,{label:"Sub Category Name (Arabic)",name:"name_ar",value:z.name_ar,onChange:ce,error:C.name_ar}),t.jsx(de,{label:"Description",name:"description",value:z.description,onChange:ce,textarea:!0,rows:3,error:C.description}),t.jsx(de,{label:"Status",name:"status",type:"select",value:z.status,onChange:ce,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:C.status}),C.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:C.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:se,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Xe,{type:"submit",disabled:M,loading:M,fullWidth:!0,children:j?"Update":"Create"})]})]})}),t.jsx(ha,{isOpen:R,onClose:()=>{$(!1),P(null)},onConfirm:xe,title:"Delete Sub Category",message:`Are you sure you want to delete "${j==null?void 0:j.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},yE=()=>{var $;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState(null),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,h]=f.useState([]),[d,p]=f.useState(!0),[m,u]=f.useState("overview"),[g,y]=f.useState(!1),[S,x]=f.useState(null),[N,_]=f.useState(""),[w,T]=f.useState("all");f.useEffect(()=>{k()},[m]),f.useEffect(()=>(e("Financial Overview"),s("View all financial transactions and settlements"),()=>{e(null),s(null)}),[e,s]);const k=async()=>{p(!0);try{if(m==="overview"){const[j,P]=await Promise.all([Ve.getFinancialDashboard(),Ve.getFinancialTransactions({page:1,per_page:10})]);a(j);const z=(P==null?void 0:P.data)||(P==null?void 0:P.transactions)||[];i(Array.isArray(z)?z:[]),l((P==null?void 0:P.summary)||null)}else{const j=await Ve.getSettlements();h(j.settlements||[])}}catch(j){console.error("Failed to load data:",j)}finally{p(!1)}},b=j=>{x(j),y(!0)},E=f.useMemo(()=>{let j=[...n];if(N){const P=N.toLowerCase();j=j.filter(z=>{const F=z.transaction_type||"",C=String(z.amount||""),A=z.currency||"",M=z.status||"";return F.toLowerCase().includes(P)||C.includes(P)||A.toLowerCase().includes(P)||M.toLowerCase().includes(P)})}return w!=="all"&&(j=j.filter(P=>P.status===w)),j},[n,N,w]),v=f.useMemo(()=>{let j=[...c];if(N){const P=N.toLowerCase();j=j.filter(z=>{const F=z.settlement_month||"",C=String(z.total_revenue||""),A=String(z.group_commission_amount||""),M=z.status||"";return F.toLowerCase().includes(P)||C.includes(P)||A.includes(P)||M.toLowerCase().includes(P)})}return w!=="all"&&(j=j.filter(P=>P.status===w)),j},[c,N,w]),R=j=>{u(j),_(""),T("all")};return t.jsxs("div",{className:"space-y-4",children:[r&&m==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:" Commission Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-primary-900",children:["$",parseFloat(r.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Total commission received"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(bo,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" Monthly Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",parseFloat(r.monthly_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Commission this month"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(It,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending Settlements"}),t.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["$",parseFloat(r.pending_settlements||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Active ACCs"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.active_accs||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(bo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>R("overview"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${m==="overview"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Kr,{size:20,className:m==="overview"?"text-white":"text-gray-500"}),"Overview"]}),t.jsxs("button",{onClick:()=>R("settlements"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${m==="settlements"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ye,{size:20,className:m==="settlements"?"text-white":"text-gray-500"}),"Settlements"]})]})}),m==="overview"&&t.jsxs(t.Fragment,{children:[o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl shadow-lg p-6 border border-emerald-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-2",children:" Total Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-900 commission-amount",children:["$",parseFloat(o.total_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"From all transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(It,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl shadow-lg p-6 border border-teal-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-teal-700 mb-2",children:" Completed Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-teal-900 commission-amount",children:["$",parseFloat(o.completed_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"From completed transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(bo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:N,onChange:j=>_(j.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:w,onChange:j=>T(j.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider commission-column",children:" Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Provider Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Currency"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Kr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:N||w!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):E.map((j,P)=>{var z,F,C;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${P*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(It,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors capitalize",children:((z=j.transaction_type)==null?void 0:z.replace("_"," "))||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(j.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:j.commission_amount?t.jsxs("div",{className:"text-sm font-semibold commission-cell highlight",children:[t.jsx("span",{className:"commission-icon",children:""}),t.jsxs("strong",{children:["$",parseFloat(j.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):t.jsx("span",{className:"text-sm text-gray-400 no-commission",children:"$0.00"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:j.provider_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["$",parseFloat(j.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600 uppercase",children:j.currency||"USD"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${j.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:((F=j.status)==null?void 0:F.charAt(0).toUpperCase())+((C=j.status)==null?void 0:C.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:j.created_at?new Date(j.created_at).toLocaleDateString():"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>b(j),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ls,{size:16})})})})]},j.id||P)})})]})})})]}),m==="settlements"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search settlements...",value:N,onChange:j=>_(j.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:w,onChange:j=>T(j.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Settlement Month"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Request Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:v.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ye,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No settlements found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:N||w!=="all"?"No settlements match your search criteria":"No settlements available"})]})})}):v.map((j,P)=>{var z,F;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${P*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:j.settlement_month||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(j.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(j.group_commission_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${j.status==="paid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":j.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:((z=j.status)==null?void 0:z.charAt(0).toUpperCase())+((F=j.status)==null?void 0:F.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:j.request_date?new Date(j.request_date).toLocaleDateString():"N/A"})})]},j.id||P)})})]})})})]}),t.jsx(Ie,{isOpen:g,onClose:()=>{y(!1),x(null)},title:"Transaction Details",size:"md",children:S&&t.jsxs("div",{className:"modal-content-wrapper",children:[t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:($=S.transaction_type)==null?void 0:$.replace("_"," ")})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Total Amount"}),t.jsxs("p",{className:"modal-amount",children:["$",parseFloat(S.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),S.commission_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#92400E"},children:"Platform Commission"}),t.jsxs("p",{className:"modal-amount",style:{color:"#92400E"},children:["$",parseFloat(S.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by platform"})]}),S.provider_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#065F46"},children:"Provider Amount"}),t.jsxs("p",{className:"modal-amount",style:{color:"#065F46"},children:["$",parseFloat(S.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by ACC/provider"})]}),S.payment_type&&t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:S.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Currency"}),t.jsx("p",{className:"modal-value modal-value-uppercase",children:S.currency||"USD"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${S.status==="completed"?"status-completed":"status-pending"}`,children:S.status})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Date"}),t.jsx("p",{className:"modal-value",children:S.created_at?new Date(S.created_at).toLocaleDateString():"N/A"})]})]})})]})},bE=()=>{var R,$,j;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{S()},[m,g]);const S=async()=>{l(!0);try{const P={per_page:1e3};m!=="all"&&(P.type=m),g!=="all"&&(P.status=g);const z=await Ve.getPaymentTransactions(P),F=(z==null?void 0:z.data)||z||[],C=(z==null?void 0:z.summary)||null;a(Array.isArray(F)?F:(F==null?void 0:F.data)||[]),i(C)}catch(P){console.error("Failed to load transactions:",P),a([]),i(null)}finally{l(!1)}},x=P=>{p(P),h(!0)},N=f.useMemo(()=>r.map(P=>{var z,F;return{...P,_searchText:`${P.transaction_type||""} ${((z=P.payer)==null?void 0:z.name)||""} ${((F=P.payee)==null?void 0:F.name)||""} ${P.amount||""} ${P.currency||""} ${P.status||""} ${P.description||""}`.toLowerCase()}}),[r]),_=(P,z="USD")=>`${parseFloat(P||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${z}`,w=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",T=P=>P?new Date(P).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",k=P=>{switch(P){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=P=>(P==null?void 0:P.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" "))||"N/A",E=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:P=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Kr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:b(P)})]})},{header:"Payer",accessor:"payer",sortable:!0,render:P=>P?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:P.type==="acc"||P.type==="training_center"?t.jsx(Ke,{className:"h-4 w-4 text-blue-600"}):t.jsx(Ls,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:P.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:P=>P?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:P.type==="acc"||P.type==="training_center"?t.jsx(Ke,{className:"h-4 w-4 text-green-600"}):t.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:P.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(P,z)=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:_(P,z.currency)})},{header:"Status",accessor:"status",sortable:!0,render:P=>{const z={completed:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be},failed:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},refunded:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:lr}},F=z[P]||z.pending,C=F.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${F.badgeClass}`,children:[t.jsx(C,{size:12,className:"mr-1"}),P?P.charAt(0).toUpperCase()+P.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:P=>t.jsx("div",{className:"text-sm text-gray-600",children:w(P)})}],[]),v=f.useMemo(()=>{let P=[...N];return m!=="all"&&(P=P.filter(z=>z.transaction_type===m)),g!=="all"&&(P=P.filter(z=>z.status===g)),P},[N,m,g]);return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total Transactions",value:n.total_transactions||0,icon:Kr,colorType:"indigo"}),t.jsx(We,{name:"Total Amount",value:_(n.total_amount||0),icon:It,colorType:"green"}),t.jsx(We,{name:"Completed",value:_(n.completed_amount||0),icon:bo,colorType:"blue"}),t.jsx(We,{name:"Pending",value:_(n.pending_amount||0),icon:tt,colorType:"yellow"})]}),t.jsx(ct,{columns:E,data:v,isLoading:o,onView:x,searchable:!0,filterable:!1,emptyMessage:"No transactions found",customFilters:t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[t.jsxs("select",{value:m,onChange:P=>u(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"})]}),t.jsxs("select",{value:g,onChange:P=>y(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${k(d.status)}`,children:((R=d.status)==null?void 0:R.charAt(0).toUpperCase())+(($=d.status)==null?void 0:$.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_(d.amount,d.currency)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((j=d.payment_method)==null?void 0:j.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((P,z)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[P.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:P.acc.name})]}),P.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:P.training_center.name})]}),P.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[_(P.group_commission_amount)," (",P.group_commission_percentage,"%)"]})]}),P.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[_(P.acc_commission_amount)," (",P.acc_commission_percentage,"%)"]})]})]})},P.id||z))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:T(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:T(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},vE=()=>{const[e,s]=f.useState(null),[r,a]=f.useState(null),[n,i]=f.useState(null),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),g=async S=>{h(!0);try{let x;switch(S){case"revenue":x=await Ve.getRevenueReport({group_by:"month"}),s(x),u({type:"revenue",data:x});break;case"accs":x=await Ve.getACCsReport(),a(x),u({type:"accs",data:x});break;case"certificates":x=await Ve.getCertificatesReport(),i(x),u({type:"certificates",data:x});break;case"training-centers":x=await Ve.getTrainingCentersReport(),l(x),u({type:"training-centers",data:x});break;default:break}p(!0)}catch(x){console.error("Failed to load report:",x),alert("Failed to load report: "+(x.message||"Unknown error"))}finally{h(!1)}},y=()=>{if(!m)return null;switch(m.type){case"revenue":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(m.data.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),m.data.revenue&&m.data.revenue.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Revenue by Period"}),t.jsx("div",{className:"space-y-2",children:m.data.revenue.map((S,x)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:S.period||"N/A"}),t.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(S.amount||0).toFixed(2)]})]},x))})]})]});case"accs":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.total_active||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.data.total_pending||0})]})]}),m.data.accs&&m.data.accs.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ACC Details"}),t.jsx(ct,{columns:[{header:"Name",accessor:"name"},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S})}],data:m.data.accs,isLoading:!1,emptyMessage:"No ACCs found."})]})]});case"certificates":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Generated"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.data.total_generated||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Valid"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.valid||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Revoked"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.data.revoked||0})]})]})});case"training-centers":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.data.total||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.active||0})]})]})});default:return null}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View system reports and analytics"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>g("revenue"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Ye,{className:"h-12 w-12 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"View revenue analytics and trends"})]}),t.jsxs("div",{onClick:()=>g("accs"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Ke,{className:"h-12 w-12 text-blue-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ACCs Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"ACC statistics and performance"})]}),t.jsxs("div",{onClick:()=>g("certificates"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Yr,{className:"h-12 w-12 text-green-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificates Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Certificate generation statistics"})]}),t.jsxs("div",{onClick:()=>g("training-centers"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(bo,{className:"h-12 w-12 text-purple-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Centers Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Training center statistics"})]})]}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null)},title:(m==null?void 0:m.type)==="revenue"?"Revenue Report":(m==null?void 0:m.type)==="accs"?"ACCs Report":(m==null?void 0:m.type)==="certificates"?"Certificates Report":"Training Centers Report",size:"lg",children:c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y()})]})},jE=()=>{var E,v,R;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(""),[g,y]=f.useState({}),[S,x]=f.useState(!1);f.useEffect(()=>{N()},[]),f.useEffect(()=>(e("Instructor Authorization Commissions"),s("Set commission percentages for instructor authorizations"),()=>{e(null),s(null)}),[e,s]);const N=async()=>{try{i(!0);const $=await Ve.getPendingCommissionRequests();a($.authorizations||[])}catch($){console.error("Failed to load authorizations:",$),a([])}finally{i(!1)}},_=$=>{p($),u(""),y({}),l(!0)},w=$=>{p($),h(!0)},T=async $=>{var j;if($.preventDefault(),!m||parseFloat(m)<0||parseFloat(m)>100){y({commission_percentage:"Please enter a valid commission percentage (0-100)"});return}x(!0),y({});try{await Ve.setInstructorAuthorizationCommission(d.id,{commission_percentage:parseFloat(m)}),await N(),l(!1),p(null),u(""),alert("Commission percentage set successfully. Training Center can now complete payment.")}catch(P){if(console.error("Failed to set commission:",P),(j=P.response)!=null&&j.data){const z=P.response.data;z.errors?y(z.errors):z.message?y({general:z.message}):y(z)}else P.message?y({general:P.message}):y({general:"Failed to set commission percentage. Please try again."})}finally{x(!1)}},k=f.useMemo(()=>r.map($=>{var j,P,z,F,C;return{...$,_searchText:`${((j=$.instructor)==null?void 0:j.first_name)||""} ${((P=$.instructor)==null?void 0:P.last_name)||""} ${((z=$.instructor)==null?void 0:z.email)||""} ${((F=$.acc)==null?void 0:F.name)||""} ${((C=$.training_center)==null?void 0:C.name)||""}`.toLowerCase()}}),[r]),b=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:($,j)=>{var P,z,F;return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(gt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(P=j.instructor)==null?void 0:P.first_name," ",(z=j.instructor)==null?void 0:z.last_name]}),((F=j.instructor)==null?void 0:F.email)&&t.jsx("div",{className:"text-xs text-gray-500",children:j.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2 text-gray-400"}),($==null?void 0:$.name)||"N/A"]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:$=>t.jsx("div",{className:"text-sm text-gray-600",children:($==null?void 0:$.name)||"N/A"})},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(It,{className:"h-4 w-4 mr-1 text-green-600"}),parseFloat($||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!1,render:()=>t.jsxs("span",{className:"px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",children:[t.jsx(Be,{size:12,className:"mr-1"}),"Pending Commission"]})},{header:"Actions",accessor:"actions",sortable:!1,render:($,j)=>t.jsx("div",{onClick:P=>P.stopPropagation(),children:t.jsxs("button",{onClick:()=>_(j),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-sm hover:shadow-md font-medium flex items-center gap-2",children:[t.jsx(L_,{size:16}),"Set Commission"]})})}],[]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(ct,{columns:b,data:k,onView:w,onRowClick:w,isLoading:n,emptyMessage:"No pending commission requests",searchable:!0,filterable:!1,searchPlaceholder:"Search by instructor name, email, ACC, or training center..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null),u(""),y({})},title:"Set Commission Percentage",size:"md",children:t.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:g.general})}),d&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[(E=d.instructor)==null?void 0:E.first_name," ",(v=d.instructor)==null?void 0:v.last_name]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ACC: ",t.jsx("span",{className:"font-semibold text-gray-900",children:(R=d.acc)==null?void 0:R.name})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Authorization Price: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(d.authorization_price||0).toFixed(2)]})]})]}),t.jsx(de,{label:"Commission Percentage (%)",name:"commission_percentage",type:"number",value:m,onChange:$=>u($.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"15.5",error:g.commission_percentage,helpText:"Enter the percentage that Group will receive from the authorization payment"}),d&&m&&!isNaN(parseFloat(m))&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Commission Breakdown:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*parseFloat(m)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*(100-parseFloat(m))/100).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"outline",fullWidth:!0,onClick:()=>{l(!1),p(null),u(""),y({})},children:"Cancel"}),t.jsx(Xe,{variant:"primary",fullWidth:!0,type:"submit",disabled:S,loading:S,children:"Set Commission"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Instructor Authorization Details",size:"lg",children:t.jsx(xa,{data:d,isLoading:!1,emptyMessage:"No authorization data available"})})]})},NE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null),[c,h]=f.useState({publishable_key:"",secret_key:"",is_active:!0}),[d,p]=f.useState({}),[m,u]=f.useState(!1);f.useEffect(()=>{g()},[]),f.useEffect(()=>(e("Stripe Settings"),s("Configure Stripe publishable and secret keys used for online payments"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{var x,N;a(!0),p({});try{let _=null;try{const w=await Ve.getActiveStripeSetting();_=(w==null?void 0:w.stripe_setting)||(w==null?void 0:w.data)||w||null}catch{}if(!_){const w=await Ve.listStripeSettings(),T=(w==null?void 0:w.stripe_settings)||(w==null?void 0:w.data)||[];_=T.length>0?T[0]:null}l(_),_&&h({publishable_key:_.publishable_key||_.public_key||_.stripe_key||"",secret_key:_.secret_key||_.secret||_.stripe_secret||"",is_active:typeof _.is_active=="boolean"?_.is_active:_.status?_.status==="active":!0})}catch(_){console.error("Failed to load Stripe settings:",_),p({general:((N=(x=_.response)==null?void 0:x.data)==null?void 0:N.message)||_.message||"Failed to load Stripe settings. Please try again."})}finally{a(!1)}},y=(x,N)=>{h(_=>({..._,[x]:N})),p({})},S=async x=>{var _;x.preventDefault(),i(!0),p({});const N={publishable_key:c.publishable_key.trim(),secret_key:c.secret_key.trim(),is_active:!!c.is_active};try{o!=null&&o.id?await Ve.updateStripeSetting(o.id,N):await Ve.createStripeSetting(N),await g(),alert("Stripe settings saved successfully!")}catch(w){console.error("Failed to save Stripe settings:",w);const T=(_=w.response)==null?void 0:_.data;T!=null&&T.errors?p(T.errors):T!=null&&T.message?p({general:T.message}):p({general:w.message||"Failed to save Stripe settings. Please try again."})}finally{i(!1)}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-primary-600"})}):t.jsx("div",{className:"stripe-settings-screen",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:t.jsx(_r,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Configuration"}),t.jsx("p",{className:"text-sm text-primary-100 mt-1",children:"Manage your Stripe API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`text-sm font-medium ${c.is_active?"text-green-300":"text-gray-300"}`,children:c.is_active?"Active":"Inactive"}),t.jsx("button",{type:"button",onClick:()=>y("is_active",!c.is_active),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white ${c.is_active?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gray-300"}`,children:t.jsx("span",{className:`absolute h-6 w-6 rounded-full bg-white shadow-lg transition-all duration-300 ease-in-out ${c.is_active?"left-[28px]":"left-[4px]"}`})})]})]})}),t.jsxs("div",{className:"p-8",children:[d.general&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 rounded-xl shadow-lg animate-fade-in",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(lr,{className:"h-6 w-6 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:d.general})]})}),t.jsxs("form",{onSubmit:S,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg",children:t.jsx(D_,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Publishable Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public key for client-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(de,{name:"publishable_key",value:c.publishable_key,onChange:x=>y("publishable_key",x.target.value),placeholder:"pk_live_51ABC...",required:!0,error:d.publishable_key}),c.publishable_key&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx($e,{className:"h-5 w-5 text-green-500"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx(lx,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-blue-800",children:["Your Stripe publishable key starts with ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_live_"})," or ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_test_"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg",children:t.jsx(Fd,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Secret Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private key for server-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(de,{name:"secret_key",type:m?"text":"password",value:c.secret_key,onChange:x=>y("secret_key",x.target.value),placeholder:"sk_live_51ABC...",required:!0,error:d.secret_key}),t.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:m?t.jsx(F_,{className:"h-5 w-5"}):t.jsx(ls,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx(lr,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Keep this secure!"})," Your secret key starts with ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_live_"})," or ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_test_"}),". Never share this key publicly."]})]})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-4 bg-gradient-to-r from-primary-600 via-primary-700 to-primary-600 text-white rounded-xl hover:from-primary-700 hover:via-primary-800 hover:to-primary-700 font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-2xl flex items-center justify-center gap-3 transform hover:scale-[1.02] active:scale-[0.98]",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Saving Settings..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(hi,{className:"h-6 w-6"}),t.jsx("span",{children:"Save Stripe Settings"})]})})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 h-fit sticky top-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-blue-200",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(lx,{className:"h-4 w-4 text-white"})}),t.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Quick Guide"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"1"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Get Your Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Log in to Stripe Dashboard and navigate to API keys."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-indigo-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"2"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Enter Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Copy and paste your keys into the form."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-purple-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Save"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Click Save Settings to complete setup."})]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:t.jsxs("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx("span",{children:"Visit Stripe Dashboard"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})]})})},CE=()=>{var A,M,D,O,V,q;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[N,_]=f.useState({payment_amount:""}),[w,T]=f.useState({rejection_reason:""}),[k,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests from all ACCs"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{E()},[]);const E=async()=>{i(!0);try{const I=await Ve.getPendingPayments(),B=((I==null?void 0:I.batches)||(I==null?void 0:I.data)||[]).map(H=>{var Y,U,L,X,se;return{...H,_searchText:[(Y=H.training_center)==null?void 0:Y.name,(U=H.training_center)==null?void 0:U.email,(L=H.acc)==null?void 0:L.name,(X=H.acc)==null?void 0:X.email,(se=H.course)==null?void 0:se.name,H.quantity,H.total_amount,H.payment_amount,H.payment_status].filter(Boolean).join(" ").toLowerCase()}});a(B)}catch(I){console.error("Failed to load pending payments:",I),a([])}finally{i(!1)}},v=I=>{h(I),l(!0)},R=I=>{h(I),_({payment_amount:I.final_amount||I.total_amount||""}),b({}),p(!0)},$=I=>{h(I),T({rejection_reason:""}),b({}),u(!0)},j=async()=>{var B,H,Y;if(!c)return;if(!N.payment_amount||parseFloat(N.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const I=parseFloat(N.payment_amount),W=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(I-W)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${W.toFixed(2)}`});return}y(!0),b({});try{await Ve.approvePayment(c.id,{payment_amount:I}),await E(),p(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(U){if(console.error("Failed to approve payment:",U),((B=U.response)==null?void 0:B.status)===422){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),b(X)}else L.message&&b({general:L.message})}else(Y=(H=U.response)==null?void 0:H.data)!=null&&Y.message?b({general:U.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},P=async()=>{var I,W,B;if(c){if(!w.rejection_reason||w.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(w.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await Ve.rejectPayment(c.id,{rejection_reason:w.rejection_reason.trim()}),await E(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(H){if(console.error("Failed to reject payment:",H),((I=H.response)==null?void 0:I.status)===422){const Y=H.response.data;if(Y.errors){const U={};Object.keys(Y.errors).forEach(L=>{U[L]=Array.isArray(Y.errors[L])?Y.errors[L][0]:Y.errors[L]}),b(U)}else Y.message&&b({general:Y.message})}else(B=(W=H.response)==null?void 0:W.data)!=null&&B.message?b({general:H.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},z=I=>`$${parseFloat(I||0).toFixed(2)}`,F=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(I,W)=>{var B;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Ke,{className:"batch-acc-icon",size:16}),t.jsx("span",{children:((B=W.acc)==null?void 0:B.name)||"N/A"})]})}},{header:"Training Center",accessor:"training_center",sortable:!0,render:(I,W)=>{var B;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Ke,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((B=W.training_center)==null?void 0:B.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(I,W)=>{var B;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(Jt,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((B=W.course)==null?void 0:B.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:I=>t.jsx("span",{children:I||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:I=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(It,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:z(I)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:I=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(It,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:z(I)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:I=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Be,{className:"batch-date-icon",size:16}),t.jsx("span",{children:F(I)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(I,W)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>v(W),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ls,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(ct,{columns:C,data:r,isLoading:n,emptyMessage:r.length===0&&!n?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Be,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, training center, course, amount, or date...",sortable:!0}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ye,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"success",fullWidth:!0,icon:t.jsx($e,{size:20}),onClick:()=>{l(!1),R(c)},children:"Approve Payment"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,icon:t.jsx(rt,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),_({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[k.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:k.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((A=c.acc)==null?void 0:A.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((M=c.training_center)==null?void 0:M.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((D=c.course)==null?void 0:D.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",z(c.final_amount||c.total_amount)]})]}),t.jsx(de,{label:"Payment Amount",name:"payment_amount",type:"number",value:N.payment_amount,onChange:I=>_({...N,payment_amount:I.target.value}),required:!0,min:"0",step:"0.01",error:k.payment_amount,helpText:`Enter the payment amount (should match: ${z(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{p(!1),_({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:j,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),T({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[k.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:k.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((O=c.acc)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((V=c.training_center)==null?void 0:V.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((q=c.course)==null?void 0:q.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",z(c.payment_amount||c.total_amount)]})]}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:w.rejection_reason,onChange:I=>T({...w,rejection_reason:I.target.value}),required:!0,error:k.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),T({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:P,disabled:S,className:"form-btn form-btn-danger",children:S?"Rejecting...":"Reject Payment"})]})]})})]})};var Oj="clover",wE=function(s){return s===3?"v3":s},Uj="https://js.stripe.com",_E="".concat(Uj,"/").concat(Oj,"/stripe.js"),SE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,AE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var kE=function(s){return SE.test(s)||AE.test(s)},PE=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Uj,'"]')),r=0;r<s.length;r++){var a=s[r];if(kE(a.src))return a}return null},x0=function(s){var r="",a=document.createElement("script");a.src="".concat(_E).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},EE=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},Yi=null,Wl=null,Vl=null,TE=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},zE=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},RE=function(s){return Yi!==null?Yi:(Yi=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var n=PE();if(!(n&&s)){if(!n)n=x0(s);else if(n&&Vl!==null&&Wl!==null){var i;n.removeEventListener("load",Vl),n.removeEventListener("error",Wl),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=x0(s)}}Vl=zE(r,a),Wl=TE(a),n.addEventListener("load",Vl),n.addEventListener("error",Wl)}catch(o){a(o);return}}),Yi.catch(function(r){return Yi=null,Promise.reject(r)}))},FE=function(s,r,a){if(s===null)return null;var n=r[0],i=n.match(/^pk_test/),o=wE(s.version),l=Oj;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return EE(c,a),c},Xi,Bj=!1,qj=function(){return Xi||(Xi=RE(null).catch(function(s){return Xi=null,Promise.reject(s)}),Xi)};Promise.resolve().then(function(){return qj()}).catch(function(e){Bj||console.warn(e)});var DE=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];Bj=!0;var n=Date.now();return qj().then(function(i){return FE(i,r,n)})};function y0(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b0(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?y0(Object(r),!0).forEach(function(a){Wj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gc=function(s){return typeof s}:gc=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gc(e)}function Wj(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function $E(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function ME(e,s){if(e==null)return{};var r=$E(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Vj(e,s){return IE(e)||LE(e,s)||OE(e,s)||UE()}function IE(e){if(Array.isArray(e))return e}function LE(e,s){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var a=[],n=!0,i=!1,o,l;try{for(r=r.call(e);!(n=(o=r.next()).done)&&(a.push(o.value),!(s&&a.length===s));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw l}}return a}}function OE(e,s){if(e){if(typeof e=="string")return v0(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(e,s)}}function v0(e,s){(s==null||s>e.length)&&(s=e.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=e[r];return a}function UE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var js=function(s,r,a){var n=!!a,i=at.useRef(a);at.useEffect(function(){i.current=a},[a]),at.useEffect(function(){if(!n||!s)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return s.on(r,o),function(){s.off(r,o)}},[n,r,s,i])},Rp=function(s){var r=at.useRef(s);return at.useEffect(function(){r.current=s},[s]),r.current},ji=function(s){return s!==null&&gc(s)==="object"},BE=function(s){return ji(s)&&typeof s.then=="function"},qE=function(s){return ji(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},j0="[object Object]",WE=function e(s,r){if(!ji(s)||!ji(r))return s===r;var a=Array.isArray(s),n=Array.isArray(r);if(a!==n)return!1;var i=Object.prototype.toString.call(s)===j0,o=Object.prototype.toString.call(r)===j0;if(i!==o)return!1;if(!i&&!a)return s===r;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(var h={},d=0;d<l.length;d+=1)h[l[d]]=!0;for(var p=0;p<c.length;p+=1)h[c[p]]=!0;var m=Object.keys(h);if(m.length!==l.length)return!1;var u=s,g=r,y=function(x){return e(u[x],g[x])};return m.every(y)},Hj=function(s,r,a){return ji(s)?Object.keys(s).reduce(function(n,i){var o=!ji(r)||!WE(s[i],r[i]);return a.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):o?b0(b0({},n||{}),{},Wj({},i,s[i])):n},null):null},Gj="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",N0=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gj;if(s===null||qE(s))return s;throw new Error(r)},VE=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gj;if(BE(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(n){return N0(n,r)})};var a=N0(s,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},HE=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},vu=at.createContext(null);vu.displayName="ElementsContext";var Kj=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Qj=function(s){var r=s.stripe,a=s.options,n=s.children,i=at.useMemo(function(){return VE(r)},[r]),o=at.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),l=Vj(o,2),c=l[0],h=l[1];at.useEffect(function(){var m=!0,u=function(y){h(function(S){return S.stripe?S:{stripe:y,elements:y.elements(a)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&m&&u(g)}):i.tag==="sync"&&!c.stripe&&u(i.stripe),function(){m=!1}},[i,c,a]);var d=Rp(r);at.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var p=Rp(a);return at.useEffect(function(){if(c.elements){var m=Hj(a,p,["clientSecret","fonts"]);m&&c.elements.update(m)}},[a,p,c.elements]),at.useEffect(function(){HE(c.stripe)},[c.stripe]),at.createElement(vu.Provider,{value:c},n)};Qj.propTypes={stripe:kt.any,options:kt.object};var GE=function(s){var r=at.useContext(vu);return Kj(r,s)},KE=function(){var s=GE("calls useElements()"),r=s.elements;return r};kt.func.isRequired;var Yj=at.createContext(null);Yj.displayName="CheckoutContext";kt.any,kt.shape({clientSecret:kt.oneOfType([kt.string,kt.instanceOf(Promise)]).isRequired,elementsOptions:kt.object}).isRequired;var Fp=function(s){var r=at.useContext(Yj),a=at.useContext(vu);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return Kj(a,s)},QE=["mode"],YE=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Ws=function(s,r){var a="".concat(YE(s),"Element"),n=function(c){var h=c.id,d=c.className,p=c.options,m=p===void 0?{}:p,u=c.onBlur,g=c.onFocus,y=c.onReady,S=c.onChange,x=c.onEscape,N=c.onClick,_=c.onLoadError,w=c.onLoaderStart,T=c.onNetworksChange,k=c.onConfirm,b=c.onCancel,E=c.onShippingAddressChange,v=c.onShippingRateChange,R=c.onSavedPaymentMethodRemove,$=c.onSavedPaymentMethodUpdate,j=Fp("mounts <".concat(a,">")),P="elements"in j?j.elements:null,z="checkoutState"in j?j.checkoutState:null,F=(z==null?void 0:z.type)==="success"||(z==null?void 0:z.type)==="loading"?z.sdk:null,C=at.useState(null),A=Vj(C,2),M=A[0],D=A[1],O=at.useRef(null),V=at.useRef(null);js(M,"blur",u),js(M,"focus",g),js(M,"escape",x),js(M,"click",N),js(M,"loaderror",_),js(M,"loaderstart",w),js(M,"networkschange",T),js(M,"confirm",k),js(M,"cancel",b),js(M,"shippingaddresschange",E),js(M,"shippingratechange",v),js(M,"savedpaymentmethodremove",R),js(M,"savedpaymentmethodupdate",$),js(M,"change",S);var q;y&&(s==="expressCheckout"?q=y:q=function(){y(M)}),js(M,"ready",q),at.useLayoutEffect(function(){if(O.current===null&&V.current!==null&&(P||F)){var W=null;if(F)switch(s){case"paymentForm":W=F.createPaymentFormElement();break;case"payment":W=F.createPaymentElement(m);break;case"address":if("mode"in m){var B=m.mode,H=ME(m,QE);if(B==="shipping")W=F.createShippingAddressElement(H);else if(B==="billing")W=F.createBillingAddressElement(H);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=F.createExpressCheckoutElement(m);break;case"currencySelector":W=F.createCurrencySelectorElement();break;case"taxId":W=F.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else P&&(W=P.create(s,m));O.current=W,D(W),W&&W.mount(V.current)}},[P,F,m]);var I=Rp(m);return at.useEffect(function(){if(O.current){var W=Hj(m,I,["paymentRequest"]);W&&"update"in O.current&&O.current.update(W)}},[m,I]),at.useLayoutEffect(function(){return function(){if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}}},[]),at.createElement("div",{id:h,className:d,ref:V})},i=function(c){Fp("mounts <".concat(a,">"));var h=c.id,d=c.className;return at.createElement("div",{id:h,className:d})},o=r?i:n;return o.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,onSavedPaymentMethodRemove:kt.func,onSavedPaymentMethodUpdate:kt.func,options:kt.object},o.displayName=a,o.__elementType=s,o},Vs=typeof window>"u",XE=at.createContext(null);XE.displayName="EmbeddedCheckoutProviderContext";var JE=function(){var s=Fp("calls useStripe()"),r=s.stripe;return r};Ws("auBankAccount",Vs);var C0=Ws("card",Vs);Ws("cardNumber",Vs);Ws("cardExpiry",Vs);Ws("cardCvc",Vs);Ws("iban",Vs);Ws("payment",Vs);Ws("expressCheckout",Vs);Ws("paymentRequestButton",Vs);Ws("linkAuthentication",Vs);Ws("address",Vs);Ws("shippingAddress",Vs);Ws("paymentMethodMessaging",Vs);Ws("taxId",Vs);let Ji=null,Zi=!1,Hl=!1;const ZE=async()=>{if(Zi&&Ji)return Ji;if(Hl){for(;Hl;)await new Promise(e=>setTimeout(e,100));return Ji}try{Hl=!0;const e=await vv.getConfig();return e.success&&e.publishable_key?(Ji=e.publishable_key,Zi=!0,Ji):e.is_configured===!1?(console.warn("Stripe is not configured on the backend"),Zi=!0,null):(console.warn("Stripe config response missing publishable_key"),Zi=!0,null)}catch(e){return console.error("Failed to get Stripe config from backend:",e),Zi=!0,null}finally{Hl=!1}};let eo=null,Yn=!1;const eT=async()=>{if(eo)return eo;if(Yn){for(;Yn;)await new Promise(e=>setTimeout(e,100));return eo}try{Yn=!0;const e=await ZE();return e?(eo=DE(e),eo):(console.warn("Stripe is not configured. Credit card payments will not be available."),null)}catch(e){return console.error("Failed to initialize Stripe:",e),null}finally{Yn=!1}},tT=({clientSecret:e,amount:s,currency:r,onPaymentSuccess:a,onPaymentError:n,onCancel:i,loading:o})=>{const l=JE(),c=KE(),[h,d]=f.useState(!1),[p,m]=f.useState(null),[u,g]=f.useState(!1),y=N=>{g(N.complete),m(N.error?N.error.message:null)},S=async N=>{if(N.preventDefault(),!l||!c){m("Stripe is not loaded. Please refresh the page.");return}const _=c.getElement(C0);if(!_){m("Card element not found.");return}if(!u){m("Please complete the card details.");return}d(!0),m(null);try{const{error:w,paymentIntent:T}=await l.confirmCardPayment(e,{payment_method:{card:_,billing_details:{}}});if(w){m(w.message),n&&n(w.message),d(!1);return}if(!T){m("Payment intent not returned from Stripe. Please try again."),d(!1);return}if(T.status!=="succeeded"){const k=`Payment not completed. Status: ${T.status}. Please complete the payment and try again.`;m(k),n&&n(k),d(!1);return}_&&_.clear(),a&&a(T)}catch(w){const T=w.message||"Payment failed. Please try again.";m(T),n&&n(T)}finally{d(!1)}},x=h||o;return t.jsxs("form",{onSubmit:S,className:"stripe-payment-form",children:[t.jsxs("div",{className:"payment-amount-display",children:[t.jsx("span",{className:"amount-label",children:"Amount:"}),t.jsxs("span",{className:"amount-value",children:[r||"USD"," ",parseFloat(s||0).toFixed(2)]})]}),t.jsx("div",{className:"card-element-container",children:t.jsx(C0,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:y})}),p&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"error-message",children:p})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{type:"button",onClick:i,disabled:x,className:"btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!l||!u||x,className:"btn-pay",children:x?"Processing...":"Pay Now"})]})]})},id=({isOpen:e,onClose:s,clientSecret:r,paymentIntentId:a,amount:n,currency:i="USD",paymentSummary:o=null,onPaymentSuccess:l,onPaymentError:c})=>{const{user:h}=hr(),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState(null),S=(h==null?void 0:h.role)==="training_center";f.useEffect(()=>{e&&!m&&eT().then(_=>{u(_),_||y("Stripe is not configured on the backend")}).catch(_=>{console.error("Failed to load Stripe config:",_),y("Failed to load Stripe configuration")})},[e,m]),f.useEffect(()=>{e||p(!1)},[e]);const x=async _=>{p(!0);try{l&&await l(_,a)}catch(w){c&&c(w.message||"Payment succeeded but failed to complete transaction.")}finally{p(!1)}},N=_=>{c&&c(_)};return g||!m&&!Yn?t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Stripe Configuration Required"}),t.jsx("p",{className:"text-xs text-yellow-700",children:g||"Stripe is not configured on the backend. Please contact support to enable credit card payments."}),t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still proceed by entering the Payment Intent ID manually after completing payment on Stripe."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})}):Yn?t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment form..."})]})}):r?t.jsxs(Ie,{isOpen:e,onClose:s,title:"Complete Payment",size:"md",children:[o&&t.jsxs("div",{className:"payment-summary mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-2",children:"Payment Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[o.total_amount&&t.jsxs("p",{children:[t.jsx("strong",{children:"Total Amount:"})," ",o.currency||i," ",parseFloat(o.total_amount||0).toFixed(2)]}),o.discount_amount&&parseFloat(o.discount_amount)>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," -",o.currency||i," ",parseFloat(o.discount_amount).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Final Amount:"})," ",o.currency||i," ",parseFloat(o.final_amount||n||0).toFixed(2)]}),o.quantity&&t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",o.quantity]}),o.unit_price&&t.jsxs("p",{children:[t.jsx("strong",{children:"Unit Price:"})," ",o.currency||i," ",parseFloat(o.unit_price).toFixed(2)]}),!S&&(o.commission_amount||o.provider_amount)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-green-300",children:[t.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Payment Breakdown:"}),o.provider_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Provider Receives:"})," ",o.currency||i," ",parseFloat(o.provider_amount).toFixed(2)]}),o.commission_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Platform Commission:"})," ",o.currency||i," ",parseFloat(o.commission_amount).toFixed(2)]})]})]})]}),t.jsx(Qj,{stripe:m,children:t.jsx(tT,{clientSecret:r,amount:n,currency:i,onPaymentSuccess:x,onPaymentError:N,onCancel:s,loading:d})})]}):t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-800",children:"Payment intent not created. Please create payment intent first."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})})},sT=()=>{var V,q;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState({}),[g,y]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:""}),[S,x]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:"",auto_renew:!1}),[N,_]=f.useState(null),[w,T]=f.useState(null),[k,b]=f.useState(!1),[E,v]=f.useState(!1),[R,$]=f.useState(!1);f.useEffect(()=>{j()},[]),f.useEffect(()=>(e("Subscription Management"),s("Manage your ACC subscription and payment details"),()=>{e(null),s(null)}),[e,s]);const j=async()=>{try{i(!0);const I=await Qe.getSubscription();a(I.subscription||null)}catch(I){console.error("Failed to load subscription:",I),a(null)}finally{i(!1)}},P=()=>{y({amount:"",payment_method:"credit_card",payment_intent_id:""}),u({}),_(null),l(!0)},z=async(I,W)=>{var B,H,Y;try{const U={amount:parseFloat(g.amount),payment_method:"credit_card",payment_intent_id:W||I.id};if(I&&I.status!=="succeeded"){u({general:`Payment not completed. Status: ${I.status}`});return}await Qe.paySubscription(U),await j(),l(!1),v(!1),_(null),alert("Subscription payment processed successfully!"),window.location.reload()}catch(U){if(console.error("Failed to complete subscription payment:",U),((B=U.response)==null?void 0:B.status)===400){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((H=U.response)==null?void 0:H.status)===422){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else u({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((Y=U.response)!=null&&Y.data){const L=U.response.data;L.message?u({general:L.message}):u({general:"Payment succeeded but failed to process subscription. Please contact support."})}else u({general:"Payment succeeded but failed to process subscription. Please contact support."});throw U}},F=async()=>{var W,B,H,Y;const I=parseFloat(g.amount);if(!g.amount||isNaN(I)||I<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(I<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),_(null);try{const U=await Qe.createSubscriptionPaymentIntent({amount:I});U.success&&U.client_secret&&U.payment_intent_id?(_(U),y(L=>({...L,payment_intent_id:U.payment_intent_id})),v(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(U){if(console.error("Failed to create payment intent:",U),((W=U.response)==null?void 0:W.status)===422){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else L.message?u({general:L.message}):u({general:"Validation failed. Please check your input."})}else if(((B=U.response)==null?void 0:B.status)===400){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((H=U.response)==null?void 0:H.status)===500){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((Y=U.response)!=null&&Y.data){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else L.message?u({general:L.message}):u({general:"Failed to create payment intent. Please try again."})}else U.message?u({general:U.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},C=async I=>{I.preventDefault(),await F()},A=()=>{x({amount:r!=null&&r.amount?r.amount.toString():"",payment_method:"credit_card",payment_intent_id:"",auto_renew:(r==null?void 0:r.auto_renew)||!1}),u({}),T(null),h(!0)},M=async(I,W)=>{var B,H,Y;try{const U={amount:parseFloat(S.amount),payment_method:"credit_card",payment_intent_id:W||I.id,auto_renew:S.auto_renew||!1};if(I&&I.status!=="succeeded"){u({general:`Payment not completed. Status: ${I.status}`});return}await Qe.renewSubscription(U),await j(),h(!1),$(!1),T(null),alert("Subscription renewed successfully!")}catch(U){if(console.error("Failed to complete subscription renewal:",U),((B=U.response)==null?void 0:B.status)===400){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((H=U.response)==null?void 0:H.status)===422){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else u({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((Y=U.response)!=null&&Y.data){const L=U.response.data;L.message?u({general:L.message}):u({general:"Payment succeeded but failed to renew subscription. Please contact support."})}else u({general:"Payment succeeded but failed to renew subscription. Please contact support."});throw U}},D=async()=>{var W,B,H,Y;const I=parseFloat(S.amount);if(!S.amount||isNaN(I)||I<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(I<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),T(null);try{const U=await Qe.createRenewalPaymentIntent({amount:I});U.success&&U.client_secret&&U.payment_intent_id?(T(U),x(L=>({...L,payment_intent_id:U.payment_intent_id})),$(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(U){if(console.error("Failed to create payment intent:",U),((W=U.response)==null?void 0:W.status)===422){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else L.message?u({general:L.message}):u({general:"Validation failed. Please check your input."})}else if(((B=U.response)==null?void 0:B.status)===400){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((H=U.response)==null?void 0:H.status)===500){const L=U.response.data;u({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((Y=U.response)!=null&&Y.data){const L=U.response.data;if(L.errors){const X={};Object.keys(L.errors).forEach(se=>{X[se]=Array.isArray(L.errors[se])?L.errors[se][0]:L.errors[se]}),u(X)}else L.message?u({general:L.message}):u({general:"Failed to create payment intent. Please try again."})}else U.message?u({general:U.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},O=async I=>{I.preventDefault(),await D()};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[r?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Current Subscription"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription details"})]}),t.jsx("span",{className:`px-4 py-2 rounded-full font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((V=r.payment_status)==null?void 0:V.toUpperCase())||"PENDING"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Start Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_start_date?new Date(r.subscription_start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"End Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(_r,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Amount"})]}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",((q=r.amount)==null?void 0:q.toLocaleString())||"0.00"]})]}),r.auto_renew!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx($e,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Auto Renew"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.auto_renew?"Enabled":"Disabled"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[r.payment_status!=="paid"&&t.jsxs("button",{onClick:P,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(_r,{className:"inline-block mr-2",size:18}),"Pay Subscription"]}),t.jsx("button",{onClick:A,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:"Manage Renewal"})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-yellow-100 mb-6",children:t.jsx(lr,{className:"h-10 w-10 text-yellow-600"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Active Subscription"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to subscribe to access all ACC features. Please complete your subscription payment to continue."}),t.jsxs("button",{onClick:P,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(_r,{className:"inline-block mr-2",size:20}),"Subscribe Now"]})]})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),u({})},title:"Subscribe / Pay Subscription",size:"md",children:t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[m.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:m.general})}),t.jsx(de,{label:"Amount",name:"amount",type:"number",value:g.amount,onChange:I=>y({...g,amount:I.target.value}),required:!0,min:"1",step:"0.01",placeholder:"5000.00",error:m.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k||d||!g.amount||parseFloat(g.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:k||d?"Processing...":"Pay Now"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u({})},title:"Manage Subscription Renewal",size:"md",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[m.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:m.general})}),t.jsx(de,{label:"Amount",name:"amount",type:"number",value:S.amount,onChange:I=>x({...S,amount:I.target.value}),required:!0,min:"1",step:"0.01",placeholder:"10000.00",error:m.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Renew Subscription" below to enter your card details.'})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:S.auto_renew,onChange:I=>x({...S,auto_renew:I.target.checked}),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"Enable Auto-Renewal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When enabled, your subscription will automatically renew at the end of the current period."})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{h(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k||d||!S.amount||parseFloat(S.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:k||d?"Processing...":"Renew Subscription"})]})]})}),t.jsx(id,{isOpen:E,onClose:()=>{v(!1)},clientSecret:N==null?void 0:N.client_secret,paymentIntentId:N==null?void 0:N.payment_intent_id,amount:g.amount,currency:(N==null?void 0:N.currency)||"USD",onPaymentSuccess:z,onPaymentError:I=>{u({general:I})}}),t.jsx(id,{isOpen:R,onClose:()=>{$(!1)},clientSecret:w==null?void 0:w.client_secret,paymentIntentId:w==null?void 0:w.payment_intent_id,amount:S.amount,currency:(w==null?void 0:w.currency)||"USD",onPaymentSuccess:M,onPaymentError:I=>{u({general:I})}})]})},rT=()=>{const{user:e}=hr(),{setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState({name:"",legal_name:"",email:"",phone:"",country:"",address:"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),[i,o]=f.useState(null),[l,c]=f.useState(null),[h,d]=f.useState([]),[p,m]=f.useState([]),[u,g]=f.useState([]),[y,S]=f.useState(!1),[x,N]=f.useState(null),[_,w]=f.useState(!1),[T,k]=f.useState(!0),[b,E]=f.useState(!1),[v,R]=f.useState({}),[$,j]=f.useState(""),[P,z]=f.useState({current_password:"",password:"",password_confirmation:""}),[F,C]=f.useState(!1),[A,M]=f.useState(!1),[D,O]=f.useState(null),[V,q]=f.useState(""),[I,W]=f.useState("license"),[B,H]=f.useState([]),[Y,U]=f.useState([]),[L,X]=f.useState([]),[se,ce]=f.useState(!1),[ve,me]=f.useState(!1),[xe,he]=f.useState(!1);f.useEffect(()=>{ue()},[]),f.useEffect(()=>{B.length>0&&J()},[B.length]),f.useEffect(()=>{a.mailing_country?Ne(a.mailing_country):U([])},[a.mailing_country]),f.useEffect(()=>{a.physical_country?Pe(a.physical_country):X([])},[a.physical_country]);const J=async()=>{var Z,pe,_e,Ae,Ee,Ue,et,pt;try{k(!0);const Tt=await Qe.getProfile(),ot=(Tt==null?void 0:Tt.profile)||(Tt==null?void 0:Tt.acc)||(Tt==null?void 0:Tt.data)||Tt||{};N(ot),d(ot.documents||[]);let bt=ot.country||"",Rt=((Z=ot.mailing_address)==null?void 0:Z.country)||"",vs=((pe=ot.physical_address)==null?void 0:pe.country)||"";if(B.length>0){if(bt){const dt=B.find(De=>De.name===bt||De.code===bt);dt&&(bt=dt.code)}if(Rt){const dt=B.find(De=>De.name===Rt||De.code===Rt);dt&&(Rt=dt.code)}if(vs){const dt=B.find(De=>De.name===vs||De.code===vs);dt&&(vs=dt.code)}}n({name:ot.name||(e==null?void 0:e.name)||"",legal_name:ot.legal_name||"",email:ot.email||(e==null?void 0:e.email)||"",phone:ot.phone||(e==null?void 0:e.phone)||"",country:bt,address:ot.address||(e==null?void 0:e.address)||"",website:ot.website||"",registration_number:ot.registration_number||"",stripe_account_id:ot.stripe_account_id||"",mailing_street:((_e=ot.mailing_address)==null?void 0:_e.street)||"",mailing_city:((Ae=ot.mailing_address)==null?void 0:Ae.city)||"",mailing_country:Rt,mailing_postal_code:((Ee=ot.mailing_address)==null?void 0:Ee.postal_code)||"",physical_street:((Ue=ot.physical_address)==null?void 0:Ue.street)||"",physical_city:((et=ot.physical_address)==null?void 0:et.city)||"",physical_country:vs,physical_postal_code:((pt=ot.physical_address)==null?void 0:pt.postal_code)||""}),Rt&&await Ne(Rt),vs&&await Pe(vs),ot.logo_url?c(ot.logo_url):c(null)}catch(Tt){console.error("Failed to load profile:",Tt),e&&(n({name:e.name||"",legal_name:"",email:e.email||"",phone:e.phone||"",country:"",address:e.address||"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),c(null)),d([])}finally{k(!1)}};f.useEffect(()=>(s("Profile"),r("Manage your account information"),()=>{s(null),r(null)}),[s,r]);const ue=async()=>{ce(!0);try{const Z=await Ma.getCountries();H(Z.countries||Z.data||[])}catch(Z){console.error("Failed to load countries:",Z),H([])}finally{ce(!1)}},Ne=async Z=>{var pe;if(!Z){U([]);return}me(!0);try{const _e=await Ma.getCities(Z);let Ae=_e.cities||((pe=_e.data)==null?void 0:pe.cities)||_e.data||_e||[];!Array.isArray(Ae)&&typeof Ae=="object"&&(Ae=Object.values(Ae)),U(Array.isArray(Ae)?Ae:[])}catch(_e){console.error("Failed to load mailing cities:",_e),U([])}finally{me(!1)}},Pe=async Z=>{var pe;if(!Z){X([]);return}he(!0);try{const _e=await Ma.getCities(Z);let Ae=_e.cities||((pe=_e.data)==null?void 0:pe.cities)||_e.data||_e||[];!Array.isArray(Ae)&&typeof Ae=="object"&&(Ae=Object.values(Ae)),X(Array.isArray(Ae)?Ae:[])}catch(_e){console.error("Failed to load physical cities:",_e),X([])}finally{he(!1)}},ke=Z=>{if(!Z)return"";const pe=B.find(_e=>_e.code===Z||_e.name===Z);return pe?pe.name:Z},ee=Z=>Z||"",re=Z=>{const{name:pe,value:_e}=Z.target,Ae={...a,[pe]:_e};pe==="mailing_country"?Ae.mailing_city="":pe==="physical_country"&&(Ae.physical_city=""),n(Ae),v[pe]&&R(Ee=>{const Ue={...Ee};return delete Ue[pe],Ue})},fe=async(Z,pe)=>{if(!Z||!pe||Z.size!==pe.size||Z.name!==pe.name)return!1;try{const[_e,Ae]=await Promise.all([Me(Z),Me(pe)]);return _e===Ae}catch(_e){return console.error("Error comparing files:",_e),Z.size===pe.size&&Z.name===pe.name&&Z.lastModified===pe.lastModified}},Me=Z=>new Promise((pe,_e)=>{const Ae=new FileReader;Ae.onload=Ee=>{const Ue=Ee.target.result,et=new Uint8Array(Ue);let pt=0;const Tt=Math.min(1e3,et.length);for(let ot=0;ot<Tt;ot++)pt=(pt<<5)-pt+et[ot],pt=pt&pt;pe(`${pt}_${Z.size}_${Z.name}`)},Ae.onerror=_e,Ae.readAsArrayBuffer(Z)}),be=async Z=>{if(!Z||!(x!=null&&x.logo_url))return!0;try{const _e=await(await fetch(x.logo_url)).blob(),Ae=new Il([_e],x.logo_url.split("/").pop(),{type:_e.type});return!await fe(Z,Ae)}catch(pe){return console.error("Error comparing logo:",pe),!0}},Ce=async(Z,pe)=>{if(!Z||!pe)return!0;try{const Ae=await(await fetch(pe)).blob(),Ee=new Il([Ae],pe.split("/").pop(),{type:Ae.type});return!await fe(Z,Ee)}catch(_e){return console.error("Error comparing document:",_e),!0}},Re=async Z=>{const pe=Z.target.files[0];if(pe){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(pe.type)){R({logo:"Logo must be an image file (JPG, PNG, GIF, or WEBP)"});return}if(pe.size>5*1024*1024){R({logo:"Logo size must not exceed 5MB"});return}if(!await be(pe)){R({logo:"This file is the same as the current logo. No changes needed."}),Z.target.value="";return}o(pe);const Ee=new FileReader;Ee.onloadend=()=>{c(Ee.result)},Ee.readAsDataURL(pe),v.logo&&R(Ue=>{const et={...Ue};return delete et.logo,et})}},ae=async Z=>{var pe,_e,Ae,Ee,Ue,et,pt,Tt,ot;Z.preventDefault(),w(!0),R({}),j("");try{const bt=p.length>0||u.length>0,Rt=i!==null,vs=Object.keys(a).some(dt=>{var At,Ot;const De=a[dt],Ze=(x==null?void 0:x[dt])||(dt.startsWith("mailing_")?(At=x==null?void 0:x.mailing_address)==null?void 0:At[dt.replace("mailing_","")]:null)||(dt.startsWith("physical_")?(Ot=x==null?void 0:x.physical_address)==null?void 0:Ot[dt.replace("physical_","")]:null)||"";return De!==Ze});if(!bt&&!Rt&&!vs){j("No changes to save."),setTimeout(()=>j(""),3e3),w(!1);return}if(bt||Rt){const dt=new FormData;Object.keys(a).forEach(At=>{var zi,Ch;const Ot=a[At],yr=(x==null?void 0:x[At])||(At.startsWith("mailing_")?(zi=x==null?void 0:x.mailing_address)==null?void 0:zi[At.replace("mailing_","")]:null)||(At.startsWith("physical_")?(Ch=x==null?void 0:x.physical_address)==null?void 0:Ch[At.replace("physical_","")]:null)||"";Ot!==yr&&Ot!==null&&Ot!==void 0&&Ot!==""&&dt.append(At,Ot)}),i&&dt.append("logo",i),p.forEach((At,Ot)=>{dt.append(`documents[${Ot}][document_type]`,At.document_type),dt.append(`documents[${Ot}][file]`,At.file)}),u.forEach((At,Ot)=>{const yr=p.length+Ot;dt.append(`documents[${yr}][id]`,At.id.toString()),dt.append(`documents[${yr}][document_type]`,At.document_type),At.file&&dt.append(`documents[${yr}][file]`,At.file)});const De=await Qe.updateProfile(dt),Ze=(De==null?void 0:De.profile)||De||{};N(Ze),d(Ze.documents||[]),Ze.logo_url&&c(Ze.logo_url),m([]),g([]),o(null)}else{const dt={};if(Object.keys(a).forEach(De=>{var Ot,yr;const Ze=a[De],At=(x==null?void 0:x[De])||(De.startsWith("mailing_")?(Ot=x==null?void 0:x.mailing_address)==null?void 0:Ot[De.replace("mailing_","")]:null)||(De.startsWith("physical_")?(yr=x==null?void 0:x.physical_address)==null?void 0:yr[De.replace("physical_","")]:null)||"";Ze!==At&&Ze!==null&&Ze!==void 0&&Ze!==""&&(dt[De]=Ze)}),Object.keys(dt).length>0){const De=await Qe.updateProfile(dt),Ze=(De==null?void 0:De.profile)||De||{};N(Ze),d(Ze.documents||[]),Ze.logo_url&&c(Ze.logo_url)}}await J(),j("Profile updated successfully!"),E(!1),setTimeout(()=>j(""),3e3)}catch(bt){if(console.error("Failed to update profile:",bt),((pe=bt.response)==null?void 0:pe.status)===401)R({general:"Unauthenticated. Please log in again."});else if(((_e=bt.response)==null?void 0:_e.status)===404)R({general:"ACC profile not found."});else if(((Ae=bt.response)==null?void 0:Ae.status)===422){const Rt=bt.response.data;if(Rt.errors){const vs={};Object.keys(Rt.errors).forEach(dt=>{vs[dt]=Array.isArray(Rt.errors[dt])?Rt.errors[dt][0]:Rt.errors[dt]}),R(vs)}else Rt.message?R({general:Rt.message}):R({general:"Validation failed. Please check your input."})}else((Ee=bt.response)==null?void 0:Ee.status)===500?R({general:((Ue=bt.response.data)==null?void 0:Ue.message)||"Profile update failed. Please try again."}):(pt=(et=bt.response)==null?void 0:et.data)!=null&&pt.errors?R(bt.response.data.errors):(ot=(Tt=bt.response)==null?void 0:Tt.data)!=null&&ot.message?R({general:bt.response.data.message}):R({general:bt.message||"Failed to update profile. Please try again."})}finally{w(!1)}},le=()=>{var Z,pe,_e,Ae,Ee,Ue,et,pt;E(!1),R({}),m([]),g([]),o(null),x&&(n({name:x.name||(e==null?void 0:e.name)||"",legal_name:x.legal_name||"",email:x.email||(e==null?void 0:e.email)||"",phone:x.phone||(e==null?void 0:e.phone)||"",country:x.country||"",address:x.address||(e==null?void 0:e.address)||"",website:x.website||"",registration_number:x.registration_number||"",stripe_account_id:x.stripe_account_id||"",mailing_street:((Z=x.mailing_address)==null?void 0:Z.street)||"",mailing_city:((pe=x.mailing_address)==null?void 0:pe.city)||"",mailing_country:((_e=x.mailing_address)==null?void 0:_e.country)||"",mailing_postal_code:((Ae=x.mailing_address)==null?void 0:Ae.postal_code)||"",physical_street:((Ee=x.physical_address)==null?void 0:Ee.street)||"",physical_city:((Ue=x.physical_address)==null?void 0:Ue.city)||"",physical_country:((et=x.physical_address)==null?void 0:et.country)||"",physical_postal_code:((pt=x.physical_address)==null?void 0:pt.postal_code)||""}),d(x.documents||[]),x.logo_url?c(x.logo_url):c(null))},G=(Z,pe)=>{if(!Z||!pe)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(Z.type)){R({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(Z.size>10*1024*1024){R({documents:"File size must not exceed 10MB"});return}m([...p,{file:Z,document_type:pe}]),v.documents&&R(Ae=>{const Ee={...Ae};return delete Ee.documents,Ee})},K=Z=>{m(p.filter((pe,_e)=>_e!==Z))},te=async(Z,pe,_e)=>{if(!_e)return;if(pe){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(pe.type)){R({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(pe.size>10*1024*1024){R({documents:"File size must not exceed 10MB"});return}const Ue=h.find(et=>et.id===Z);if(Ue!=null&&Ue.document_url&&!await Ce(pe,Ue.document_url)){R({documents:"This file is the same as the current document. No changes needed."});return}}const Ae=u.findIndex(Ee=>Ee.id===Z);if(Ae>=0){const Ee=[...u];Ee[Ae]={id:Z,file:pe||Ee[Ae].file,document_type:_e},g(Ee)}else g([...u,{id:Z,file:pe,document_type:_e}]);v.documents&&R(Ee=>{const Ue={...Ee};return delete Ue.documents,Ue})},Q=Z=>{g(u.filter(pe=>pe.id!==Z))},oe=Z=>({license:"License",registration:"Registration",certificate:"Certificate",other:"Other"})[Z]||Z,ge=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ie=Z=>{const{name:pe,value:_e}=Z.target;z({...P,[pe]:_e}),v[pe]&&R(Ae=>{const Ee={...Ae};return delete Ee[pe],Ee})},Se=async Z=>{var pe,_e,Ae,Ee;if(Z&&Z.preventDefault&&Z.preventDefault(),!P.current_password||!P.password||!P.password_confirmation){R({password:"All password fields are required"});return}C(!0),R({}),j("");try{await Gs.changePassword(P),j("Password changed successfully!"),z({current_password:"",password:"",password_confirmation:""}),setTimeout(()=>j(""),3e3)}catch(Ue){console.error("Failed to change password:",Ue),(_e=(pe=Ue.response)==null?void 0:pe.data)!=null&&_e.errors?R(Ue.response.data.errors):(Ee=(Ae=Ue.response)==null?void 0:Ae.data)!=null&&Ee.message?R({password:Ue.response.data.message}):R({password:Ue.message||"Failed to change password. Please try again."})}finally{C(!1)}},Te=async()=>{var Z,pe,_e,Ae;if(!a.stripe_account_id||!a.stripe_account_id.trim()){q("Please enter a Stripe Account ID");return}if(!a.stripe_account_id.startsWith("acct_")){q('Stripe Account ID must start with "acct_"');return}M(!0),q(""),O(null);try{const Ee=await Qe.verifyStripeAccount(a.stripe_account_id.trim());Ee.valid&&Ee.account?(O(Ee.account),q("")):(q(Ee.message||Ee.error||"Invalid Stripe Account"),O(null))}catch(Ee){const Ue=((pe=(Z=Ee.response)==null?void 0:Z.data)==null?void 0:pe.message)||((Ae=(_e=Ee.response)==null?void 0:_e.data)==null?void 0:Ae.error)||Ee.message||"Failed to verify Stripe Account";q(Ue),O(null)}finally{M(!1)}},we=async()=>{var pe,_e,Ae,Ee;if(!confirm("Are you sure you want to remove your Stripe Account? This will stop automatic payment splitting."))return;const Z={...a,stripe_account_id:""};n(Z),O(null),q("");try{w(!0);const Ue=new FormData;Object.keys(Z).forEach(et=>{et==="stripe_account_id"?Ue.append(et,""):Z[et]!==null&&Z[et]!==void 0&&Ue.append(et,Z[et])}),await Qe.updateProfile(Ue),await J(),j("Stripe Account removed successfully!"),setTimeout(()=>j(""),3e3)}catch(Ue){console.error("Failed to remove Stripe Account:",Ue);const et={};(_e=(pe=Ue.response)==null?void 0:pe.data)!=null&&_e.errors&&Object.assign(et,Ue.response.data.errors),et.stripe_account=((Ee=(Ae=Ue.response)==null?void 0:Ae.data)==null?void 0:Ee.message)||Ue.message||"Failed to remove Stripe Account",R(et)}finally{w(!1)}};return T?t.jsx("div",{className:"profile-loading-container",children:t.jsx("div",{className:"profile-loading-spinner"})}):t.jsxs("div",{className:"profile-container",children:[$&&t.jsxs("div",{className:"profile-success-message",children:[t.jsx($e,{size:20}),t.jsx("span",{children:$})]}),v.general&&t.jsxs("div",{className:"profile-error-message",children:[t.jsx(lr,{size:20}),t.jsx("span",{children:v.general})]}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar-section",children:t.jsxs("div",{className:"profile-avatar-container",children:[l?t.jsx("img",{src:l,alt:"Organization Logo",className:"profile-avatar",onError:Z=>{Z.target.style.display="none",Z.target.nextSibling&&(Z.target.nextSibling.style.display="flex")}}):null,t.jsx("div",{className:"profile-avatar-placeholder",style:{display:l?"none":"flex"},children:t.jsx(Ke,{size:48})}),b&&t.jsxs("label",{className:"profile-avatar-upload-overlay",title:"Click to upload logo",children:[t.jsx(Ys,{size:20}),t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:Re,style:{display:"none"}})]}),b&&i&&t.jsx("div",{className:"profile-avatar-file-info",children:t.jsx("p",{className:"text-xs text-white bg-black bg-opacity-70 px-2 py-1 rounded",children:i.name})}),b&&v.logo&&t.jsx("div",{className:"profile-avatar-file-info",style:{bottom:"-3.5rem"},children:t.jsx("p",{className:"text-xs text-red-600 bg-red-50 border border-red-200 px-2 py-1 rounded",children:v.logo})})]})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-name",children:a.name||"ACC Admin"}),t.jsx("p",{className:"profile-email",children:a.email||"No email provided"}),!b&&t.jsxs("button",{onClick:()=>E(!0),className:"profile-edit-btn",children:[t.jsx(ws,{size:18}),"Edit Profile"]})]})]}),t.jsxs("form",{onSubmit:ae,className:"profile-form",children:[t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Ls,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Basic Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your personal and contact details"})]})]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(de,{label:"Name",name:"name",type:"text",value:a.name,onChange:re,required:!0,disabled:!b,error:v.name}),t.jsx(de,{label:"Legal Name",name:"legal_name",type:"text",value:a.legal_name,onChange:re,disabled:!b,error:v.legal_name,helpText:"Official legal name of your organization"}),t.jsx(de,{label:"Email",name:"email",type:"email",value:a.email,onChange:re,required:!0,disabled:!b,error:v.email}),t.jsx(de,{label:"Phone",name:"phone",type:"tel",value:a.phone,onChange:re,disabled:!b,error:v.phone}),t.jsx(de,{label:"Website",name:"website",type:"url",value:a.website,onChange:re,placeholder:"https://example.com",disabled:!b,error:v.website}),t.jsx(de,{label:"Registration Number",name:"registration_number",type:"text",value:a.registration_number,onChange:re,disabled:!b,error:v.registration_number,helpText:"Official registration number of your organization"})]}),x&&t.jsxs("div",{className:"profile-readonly-info",children:[t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Status:"}),t.jsx("span",{className:`profile-status-badge ${x.status||"active"}`,children:x.status||"Active"})]}),x.commission_percentage!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Commission Percentage:"}),t.jsxs("span",{className:"profile-info-value",children:[x.commission_percentage,"%"]})]}),x.stripe_account_configured!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Stripe Account:"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx($e,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(lr,{size:14}),"Not Configured"]})}),x.stripe_account_id&&t.jsxs("span",{className:"profile-info-value",style:{marginLeft:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem"},children:["(",x.stripe_account_id,")"]})]}),x.created_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Created At:"}),t.jsx("span",{className:"profile-info-value",children:ge(x.created_at)})]}),x.updated_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Last Updated:"}),t.jsx("span",{className:"profile-info-value",children:ge(x.updated_at)})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:t.jsx(vt,{className:"text-green-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Address Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your location and address details"})]})]}),t.jsxs("div",{className:"profile-form-grid mb-6",children:[t.jsx(de,{label:"Address",name:"address",type:"text",value:a.address,onChange:re,disabled:!b,error:v.address}),b?t.jsx(de,{label:"Country",name:"country",type:"select",value:a.country,onChange:re,disabled:se,options:[{value:"",label:se?"Loading countries...":"Select Country"},...B.map(Z=>({value:Z.code,label:Z.name}))],error:v.country}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ke(a.country)||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(Lt,{className:"text-green-600",size:18}),"Mailing Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(de,{label:"Street",name:"mailing_street",type:"text",value:a.mailing_street,onChange:re,disabled:!b,error:v.mailing_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(de,{label:"Country",name:"mailing_country",type:"select",value:a.mailing_country,onChange:re,disabled:se,options:[{value:"",label:se?"Loading countries...":"Select Country"},...B.map(Z=>({value:Z.code,label:Z.name}))],error:v.mailing_country}),t.jsx(de,{label:"City",name:"mailing_city",type:"select",value:a.mailing_city,onChange:re,disabled:!a.mailing_country||ve,options:[{value:"",label:a.mailing_country?ve?"Loading cities...":"Select City":"Select country first"},...Y.map(Z=>({value:Z.name||Z,label:Z.name||Z}))],error:v.mailing_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ke(a.mailing_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ee(a.mailing_city)||"Not specified"})]})]}),t.jsx(de,{label:"Postal Code",name:"mailing_postal_code",type:"text",value:a.mailing_postal_code,onChange:re,disabled:!b,error:v.mailing_postal_code})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-600",size:18}),"Physical Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(de,{label:"Street",name:"physical_street",type:"text",value:a.physical_street,onChange:re,disabled:!b,error:v.physical_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(de,{label:"Country",name:"physical_country",type:"select",value:a.physical_country,onChange:re,disabled:se,options:[{value:"",label:se?"Loading countries...":"Select Country"},...B.map(Z=>({value:Z.code,label:Z.name}))],error:v.physical_country}),t.jsx(de,{label:"City",name:"physical_city",type:"select",value:a.physical_city,onChange:re,disabled:!a.physical_country||xe,options:[{value:"",label:a.physical_country?xe?"Loading cities...":"Select City":"Select country first"},...L.map(Z=>({value:Z.name||Z,label:Z.name||Z}))],error:v.physical_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ke(a.physical_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ee(a.physical_city)||"Not specified"})]})]}),t.jsx(de,{label:"Postal Code",name:"physical_postal_code",type:"text",value:a.physical_postal_code,onChange:re,disabled:!b,error:v.physical_postal_code})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:t.jsx(Ye,{className:"text-purple-600",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Documents"}),b&&t.jsxs("select",{id:"newDocumentType",className:"document-type-dropdown-header",value:I,onChange:Z=>{W(Z.target.value)},onClick:Z=>Z.stopPropagation(),children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization documents"})]})]}),v.documents&&t.jsxs("div",{className:"profile-error-message mb-4",children:[t.jsx(lr,{size:20}),t.jsx("span",{children:v.documents})]}),h.length>0&&t.jsx("div",{className:"documents-grid mb-6",children:h.map(Z=>{const pe=u.find(Ae=>Ae.id===Z.id),_e=(pe==null?void 0:pe.document_type)||Z.document_type;return t.jsxs("div",{className:"document-card",children:[t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(Il,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:oe(_e)}),t.jsxs("p",{className:"document-date",children:["Uploaded: ",ge(Z.uploaded_at)]})]}),t.jsx("div",{className:"document-status",children:Z.verified?t.jsxs("span",{className:"status-badge verified",children:[t.jsx($e,{size:14}),"Verified"]}):t.jsxs("span",{className:"status-badge pending",children:[t.jsx(Be,{size:14}),"Pending"]})})]}),Z.verified&&Z.verified_by&&t.jsxs("div",{className:"document-verification-info",children:[t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified by: ",Z.verified_by.name," (",Z.verified_by.email,")"]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified at: ",ge(Z.verified_at)]})]}),t.jsxs("div",{className:"document-actions",children:[t.jsxs("a",{href:Z.document_url,target:"_blank",rel:"noopener noreferrer",className:"document-action-btn view",children:[t.jsx(ls,{size:16}),"View"]}),b&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"document-action-btn update",children:[t.jsx(Ys,{size:16}),pe!=null&&pe.file?"Change File":"Update",t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:Ae=>{const Ee=Ae.target.files[0];Ee&&te(Z.id,Ee,_e)}})]}),t.jsxs("select",{value:_e,onChange:Ae=>te(Z.id,null,Ae.target.value),className:"document-type-select",disabled:!b,children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]}),pe&&t.jsxs("button",{onClick:()=>Q(Z.id),className:"document-action-btn remove",children:[t.jsx(_s,{size:16}),"Cancel"]})]})]}),(pe==null?void 0:pe.file)&&t.jsx("div",{className:"document-update-preview",children:t.jsxs("p",{className:"text-xs text-blue-600",children:["New file: ",pe.file.name," (",(pe.file.size/1024).toFixed(2)," KB)"]})})]},Z.id)})}),b&&p.length>0&&t.jsxs("div",{className:"new-documents-section mb-6",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"New Documents to Upload"}),t.jsx("div",{className:"documents-grid",children:p.map((Z,pe)=>t.jsx("div",{className:"document-card new-document",children:t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(Il,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:oe(Z.document_type)}),t.jsxs("p",{className:"document-date",children:[Z.file.name," (",(Z.file.size/1024).toFixed(2)," KB)"]})]}),t.jsx("button",{onClick:()=>K(pe),className:"document-remove-btn",children:t.jsx(Is,{size:16})})]})},pe))})]}),b&&t.jsxs("label",{className:"upload-document-section",htmlFor:"document-upload-input",children:[t.jsxs("div",{className:"upload-document-content",children:[t.jsx(Ys,{size:24,className:"upload-icon"}),t.jsxs("div",{className:"upload-text",children:[t.jsx("p",{className:"upload-main-text",children:"Click to upload document"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, JPG, JPEG, PNG (Max 10MB)"})]})]}),t.jsx("input",{id:"document-upload-input",type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:Z=>{const pe=Z.target.files[0];pe&&G(pe,I),Z.target.value=""}})]}),!b&&h.length===0&&t.jsxs("div",{className:"no-documents-message",children:[t.jsx(Ye,{size:48,className:"text-gray-300"}),t.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"})]})]})]}),t.jsx("div",{className:"profile-content stripe-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(_r,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Stripe Account"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your Stripe Connect account for automatic payment splitting"})]})]}),t.jsxs("div",{className:"space-y-4",children:[(x==null?void 0:x.stripe_account_configured)!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Account Status"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx($e,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(lr,{size:14}),"Not Configured"]})})]}),x.stripe_account_id&&t.jsx("p",{className:"text-sm text-gray-600 font-mono mt-1",children:x.stripe_account_id})]}),t.jsxs("div",{children:[t.jsx(de,{label:"Stripe Account ID",name:"stripe_account_id",type:"text",value:a.stripe_account_id,onChange:Z=>{re(Z),q(""),O(null)},placeholder:"acct_...",disabled:!b,error:v.stripe_account_id||V,helpText:"Enter your Stripe Connect Account ID (must start with 'acct_')"}),b&&a.stripe_account_id&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:Te,disabled:!a.stripe_account_id.trim()||A||_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:A?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx($e,{size:16}),"Verify Account"]})})}),D&&t.jsxs("div",{className:"mt-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx($e,{size:16,className:"text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Account Verified"})]}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800 mt-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account ID:"})," ",D.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",D.type||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Charges Enabled:"})," ",D.charges_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Payouts Enabled:"})," ",D.payouts_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Details Submitted:"})," ",D.details_submitted?"Yes":"No"]})]}),(!D.charges_enabled||!D.details_submitted)&&t.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:t.jsxs("p",{className:"text-xs text-yellow-800",children:[t.jsx("strong",{children:"Warning:"})," This account may not be able to receive payments. Please ensure the account is fully configured in Stripe Dashboard."]})})]}),V&&!D&&t.jsxs("div",{className:"mt-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(lr,{size:16,className:"text-red-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Verification Failed"})]}),t.jsx("p",{className:"text-xs text-red-800",children:V})]})]}),b&&(x==null?void 0:x.stripe_account_id)&&t.jsx("div",{className:"pt-2 border-t border-gray-200",children:t.jsxs("button",{type:"button",onClick:we,disabled:_,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:[t.jsx(Is,{size:16}),"Remove Stripe Account"]})}),t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"About Stripe Connect Accounts"}),t.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:'Stripe Account ID must start with "acct_"'}),t.jsx("li",{children:"When configured, payments are automatically split between you and the platform"}),t.jsx("li",{children:"You receive: Total Amount - Commission"}),t.jsx("li",{children:"Platform receives: Commission (based on your commission percentage)"}),t.jsx("li",{children:"If not configured, all payments go to the platform for manual settlement"})]})]}),b&&t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 justify-end",children:[t.jsxs("button",{type:"button",onClick:le,className:"profile-cancel-btn",disabled:_,children:[t.jsx(_s,{size:18}),"Cancel"]}),t.jsxs("button",{type:"button",onClick:Z=>{Z.preventDefault(),ae(Z)},className:"profile-save-btn",disabled:_,children:[t.jsx(hi,{size:18}),_?"Saving...":"Save Changes"]})]})]})]})}),t.jsx("div",{className:"profile-content password-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:t.jsx(Uf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your account password"})]})]}),t.jsx("form",{onSubmit:Se,className:"password-form",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(de,{label:"Current Password",type:"password",name:"current_password",value:P.current_password,onChange:ie,required:!0,error:v.current_password}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(de,{label:"New Password",type:"password",name:"password",value:P.password,onChange:ie,required:!0,error:v.password}),t.jsx(de,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:P.password_confirmation,onChange:ie,required:!0,error:v.password_confirmation})]}),t.jsx("div",{className:"flex justify-end pt-2",children:t.jsxs("button",{type:"submit",className:"profile-change-password-btn",disabled:F,children:[t.jsx(Fd,{size:18}),F?"Changing...":"Change Password"]})})]})})]})})]})]})},aT=()=>{var O,V,q,I,W,B,H,Y,U,L,X,se,ce,ve,me,xe,he,J,ue,Ne,Pe,ke,ee;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r]=kd(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState(""),[x,N]=f.useState(""),[_,w]=f.useState("all"),T=f.useRef(!1);f.useEffect(()=>{const re=r.get("filter");re&&["pending","active","returned","all"].includes(re)&&w(re)},[r]),f.useEffect(()=>{T.current||(T.current=!0,k())},[_]),f.useEffect(()=>(e("Training Centers"),s("Manage training center authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const k=async()=>{o(!0);try{const re={per_page:1e3},[fe,Me,be]=await Promise.all([Qe.getTrainingCenterRequests({...re,status:"pending"}),Qe.getTrainingCenterRequests({...re,status:"returned"}),Qe.listAuthorizedTrainingCenters(re)]),Ce=(fe.requests||[]).filter(we=>we.status==="pending").map(we=>{var Z,pe;return{...we,_normalizedName:((Z=we.training_center)==null?void 0:Z.name)||we.name||"",_normalizedEmail:((pe=we.training_center)==null?void 0:pe.email)||we.email||"",_normalizedDate:we.request_date,_isRequest:!0}}),Re=(Me.requests||[]).filter(we=>we.status==="returned").map(we=>{var Z,pe;return{...we,_normalizedName:((Z=we.training_center)==null?void 0:Z.name)||we.name||"",_normalizedEmail:((pe=we.training_center)==null?void 0:pe.email)||we.email||"",_normalizedDate:we.request_date,_isRequest:!0}}),ae=(be.training_centers||[]).map(we=>({...we,_normalizedName:we.name||"",_normalizedEmail:we.email||"",_normalizedDate:we.authorized_at||we.created_at||we.updated_at,_isRequest:!1,status:we.status||"active"})),le=we=>{var Z;return we._isRequest?((Z=we.training_center)==null?void 0:Z.id)||we.training_center_id||we.id:we.id||we.training_center_id},G=we=>{const Z=new Set;return we.filter(pe=>{const _e=le(pe);return _e&&Z.has(_e)?!1:(_e&&Z.add(_e),!0)})},K=G(Ce),te=G(Re),Q=G(ae),oe=new Set;[...K,...te].forEach(we=>{const Z=le(we);Z&&oe.add(Z)});const ge=Q.filter(we=>{const Z=le(we);return!oe.has(Z)}),ie=[...K,...te,...ge],Se=new Set,Te=ie.filter(we=>{const Z=le(we);return Z?Se.has(Z)?!1:(Se.add(Z),!0):!0});n(Te)}catch(re){console.error("Failed to load data:",re),n([])}finally{o(!1)}},b=async re=>{if(window.confirm("Approve this training center request?"))try{await Qe.approveTrainingCenterRequest(re),await k(),alert("Training center request approved successfully!")}catch(fe){alert("Failed to approve: "+(fe.message||"Unknown error"))}},E=re=>{g(re),c(!0)},v=re=>{E(re)},R=f.useMemo(()=>[{header:"Training Center",accessor:"_normalizedName",sortable:!0,render:(re,fe)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ke,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:re||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:re=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),re||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:re=>t.jsx("span",{className:"text-sm text-gray-600",children:re?new Date(re).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(re,fe)=>{const Me={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:Wr},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be}},be=Me[re]||Me.pending,Ce=be.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${be.badgeClass}`,children:[t.jsx(Ce,{size:12,className:"mr-1"}),re?re.charAt(0).toUpperCase()+re.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(re,fe)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Me=>Me.stopPropagation(),children:[t.jsx("button",{onClick:()=>E(fe),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ls,{size:16})}),(fe.status==="pending"||fe.status==="returned")&&t.jsx("button",{onClick:Me=>{Me.stopPropagation(),b(fe.id)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx($e,{size:16})})]})}],[E,b]),$=f.useMemo(()=>{let re=[...a];return _!=="all"&&(re=re.filter(fe=>_==="pending"?fe.status==="pending":_==="returned"?fe.status==="returned":_==="active"?fe.status==="active"||fe.status==="approved"||!fe._isRequest:!0)),re=re.map(fe=>{var Me,be;return{...fe,_searchText:`${fe._normalizedName||""} ${fe._normalizedEmail||""} ${((Me=fe.training_center)==null?void 0:Me.name)||""} ${((be=fe.training_center)==null?void 0:be.email)||""} ${fe.name||""} ${fe.email||""} ${fe.legal_name||""} ${fe.registration_number||""} ${fe.country||""} ${fe.city||""} ${fe.status||""}`.toLowerCase()}}),re},[a,_]),j=re=>{g(re),S(""),d(!0)},P=async()=>{if(!y.trim()){alert("Please provide a rejection reason");return}try{await Qe.rejectTrainingCenterRequest(u.id,{rejection_reason:y}),await k(),d(!1),g(null),S(""),alert("Training center request rejected")}catch(re){alert("Failed to reject: "+(re.message||"Unknown error"))}},z=re=>{g(re),N(""),m(!0)},F=async()=>{if(!x.trim()){alert("Please provide a return comment");return}try{await Qe.returnTrainingCenterRequest(u.id,{return_comment:x}),await k(),m(!1),g(null),N(""),alert("Request returned for revision")}catch(re){alert("Failed to return request: "+(re.message||"Unknown error"))}},C=a.filter(re=>re.status==="pending").length,A=a.filter(re=>re.status==="returned").length,M=a.filter(re=>re.status==="active"||re.status==="approved"||!re._isRequest).length,D=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total",value:D,icon:Ke,colorType:"indigo",isActive:_==="all",onClick:()=>w("all")}),t.jsx(We,{name:"Pending",value:C,icon:Be,colorType:"yellow",isActive:_==="pending",onClick:()=>w("pending")}),t.jsx(We,{name:"Active",value:M,icon:$e,colorType:"green",isActive:_==="active",onClick:()=>w("active")}),t.jsx(We,{name:"Returned",value:A,icon:Wr,colorType:"blue",isActive:_==="returned",onClick:()=>w("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(ct,{columns:R,data:$,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No training centers found",onRowClick:re=>v(re)})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),g(null)},title:u!=null&&u._isRequest?"Training Center Request Details":"Training Center Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-6",children:[u._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.id]})]}),u.training_center_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ke,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.training_center_id]})]}),u.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.request_date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.reviewed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Reviewed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.reviewed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${u.status==="approved"||u.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":u.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":u.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[u.status==="pending"&&t.jsx(Be,{size:12,className:"mr-1"}),u.status==="returned"&&t.jsx(Wr,{size:12,className:"mr-1"}),u.status==="approved"&&t.jsx($e,{size:12,className:"mr-1"}),u.status?u.status.charAt(0).toUpperCase()+u.status.slice(1):"N/A"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ke,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ke,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((O=u.training_center)==null?void 0:O.name)||u.name||u._normalizedName||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((V=u.training_center)==null?void 0:V.email)||u.email||u._normalizedEmail||"N/A"})]}),(((q=u.training_center)==null?void 0:q.legal_name)||u.legal_name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((I=u.training_center)==null?void 0:I.legal_name)||u.legal_name})]}),(((W=u.training_center)==null?void 0:W.registration_number)||u.registration_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((B=u.training_center)==null?void 0:B.registration_number)||u.registration_number})]}),(((H=u.training_center)==null?void 0:H.phone)||u.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Y=u.training_center)==null?void 0:Y.phone)||u.phone})]}),(((U=u.training_center)==null?void 0:U.website)||u.website)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ua,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:(((L=u.training_center)==null?void 0:L.website)||u.website).startsWith("http")?((X=u.training_center)==null?void 0:X.website)||u.website:`https://${((se=u.training_center)==null?void 0:se.website)||u.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:((ce=u.training_center)==null?void 0:ce.website)||u.website})]}),(((ve=u.training_center)==null?void 0:ve.address)||u.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((me=u.training_center)==null?void 0:me.address)||u.address})]}),(((xe=u.training_center)==null?void 0:xe.city)||u.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((he=u.training_center)==null?void 0:he.city)||u.city})]}),(((J=u.training_center)==null?void 0:J.country)||u.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ue=u.training_center)==null?void 0:ue.country)||u.country})]}),(((Ne=u.training_center)==null?void 0:Ne.postal_code)||u.postal_code)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Postal Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Pe=u.training_center)==null?void 0:Pe.postal_code)||u.postal_code})]}),(((ke=u.training_center)==null?void 0:ke.description)||u.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:((ee=u.training_center)==null?void 0:ee.description)||u.description})]}),u.authorized_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Authorized At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.authorized_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),u._isRequest&&u.documents_json&&Array.isArray(u.documents_json)&&u.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:u.documents_json.map((re,fe)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:re.type||re.document_type||`Document ${fe+1}`}),re.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:re.description})]}),re.url&&t.jsx("a",{href:re.url.startsWith("http")?re.url:`https://aeroenix.com/v1/api${re.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},fe))})]}),u._isRequest&&u.rejection_reason&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(rt,{className:"h-5 w-5 text-red-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Rejection Reason"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.rejection_reason})]}),u._isRequest&&u.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Wr,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.return_comment})]}),u._isRequest&&u.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx($e,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),j(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(rt,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),z(u)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(Wr,{size:20,className:"mr-2"}),"Return"]})]}),u._isRequest&&u.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx($e,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),j(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(rt,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),g(null),S("")},title:"Reject Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",value:y,onChange:re=>S(re.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),g(null),S("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),g(null),N("")},title:"Return Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(de,{label:"Return Comment",name:"return_comment",value:x,onChange:re=>N(re.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{m(!1),g(null),N("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})})]})},nT=()=>{var H,Y,U,L,X,se,ce,ve,me,xe,he,J,ue,Ne,Pe,ke,ee,re,fe,Me,be,Ce,Re,ae,le,G,K,te;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r]=kd(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(!1),[y,S]=f.useState(null),[x,N]=f.useState(""),[_,w]=f.useState(""),[T,k]=f.useState(""),[b,E]=f.useState("all"),[v,R]=f.useState({});f.useEffect(()=>{const Q=r.get("filter");Q&&["pending","active","returned","all"].includes(Q)&&E(Q)},[r]),f.useEffect(()=>{$()},[b]),f.useEffect(()=>(e("Instructors"),s("Manage instructor authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const $=async()=>{o(!0);try{const Q={per_page:1e3},[oe,ge]=await Promise.all([Qe.getInstructorRequests(Q),Qe.listAuthorizedTrainingCenters(Q)]),ie=(oe==null?void 0:oe.requests)||(oe==null?void 0:oe.data)||[],Se={};((ge==null?void 0:ge.training_centers)||(ge==null?void 0:ge.data)||[]).forEach(De=>{De.id&&(Se[De.id]=De.name||De.legal_name||`TC ${De.id}`)}),R(Se);const we=De=>{var Ze;return((Ze=De.instructor)==null?void 0:Ze.id)||De.instructor_id||De.id},Z=ie.map(De=>{var yr,zi;const Ze=De.instructor||De,At=De.training_center_id||((yr=De.training_center)==null?void 0:yr.id),Ot=At?Se[At]||((zi=De.training_center)==null?void 0:zi.name)||`TC ${At}`:"N/A";return{...De,_normalizedName:`${Ze.first_name||""} ${Ze.last_name||""}`.trim(),_normalizedEmail:Ze.email||"",_normalizedDate:De.request_date||De.created_at||De.updated_at,_normalizedTrainingCenter:Ot,_trainingCenterId:At,_isRequest:!0}}),pe=Z.filter(De=>De.status==="pending"),_e=Z.filter(De=>De.status==="returned"),Ae=Z.filter(De=>De.status==="approved"||De.status==="active"),Ee=De=>{const Ze=new Set;return De.filter(At=>{const Ot=we(At);return Ot&&Ze.has(Ot)?!1:(Ot&&Ze.add(Ot),!0)})},Ue=Ee(pe),et=Ee(_e),Tt=Ee(Ae).map(De=>{const Ze=De.instructor||De;return{...De,id:Ze.id||De.id,first_name:Ze.first_name||De.first_name,last_name:Ze.last_name||De.last_name,email:Ze.email||De.email,phone:Ze.phone||De.phone,_normalizedName:`${Ze.first_name||""} ${Ze.last_name||""}`.trim(),_normalizedEmail:Ze.email||"",_normalizedDate:De.request_date||De.created_at||De.updated_at,_normalizedTrainingCenter:De._normalizedTrainingCenter||"N/A",_trainingCenterId:De._trainingCenterId,_isRequest:!1,status:"active"}}),ot=new Set;[...Ue,...et].forEach(De=>{const Ze=we(De);Ze&&ot.add(Ze)});const bt=Tt.filter(De=>{const Ze=we(De);return!ot.has(Ze)}),Rt=[...Ue,...et,...bt],vs=new Set,dt=Rt.filter(De=>{const Ze=we(De);return Ze?vs.has(Ze)?!1:(vs.add(Ze),!0):!0});n(dt)}catch(Q){console.error("Failed to load data:",Q),n([])}finally{o(!1)}},j=Q=>{S(Q),N(""),d(!0)},P=Q=>{S(Q),c(!0)},z=Q=>{P(Q)},F=f.useMemo(()=>[{header:"Instructor",accessor:"_normalizedName",sortable:!0,render:(Q,oe)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(gt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Q||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:Q=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),Q||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:Q=>t.jsx("span",{className:"text-sm text-gray-600",children:Q?new Date(Q).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(Q,oe)=>{const ge={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:$e},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:rt},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:Wr},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Be}},ie=ge[Q]||ge.pending,Se=ie.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ie.badgeClass}`,children:[t.jsx(Se,{size:12,className:"mr-1"}),Q?Q.charAt(0).toUpperCase()+Q.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Q,oe)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:ge=>ge.stopPropagation(),children:[t.jsx("button",{onClick:()=>P(oe),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ls,{size:16})}),(oe.status==="pending"||oe.status==="returned")&&t.jsx("button",{onClick:ge=>{ge.stopPropagation(),j(oe)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx($e,{size:16})})]})}],[P,j]),C=f.useMemo(()=>{let Q=[...a];return b!=="all"&&(Q=Q.filter(oe=>b==="pending"?oe.status==="pending":b==="returned"?oe.status==="returned":b==="active"?oe.status==="active"||oe.status==="approved"||!oe._isRequest&&(oe.status==="active"||!oe.status):!0)),Q=Q.map(oe=>{var ge,ie,Se,Te;return{...oe,_searchText:`${oe._normalizedName||""} ${oe._normalizedEmail||""} ${((ge=oe.instructor)==null?void 0:ge.first_name)||""} ${((ie=oe.instructor)==null?void 0:ie.last_name)||""} ${((Se=oe.instructor)==null?void 0:Se.email)||""} ${((Te=oe.training_center)==null?void 0:Te.name)||""} ${oe.name||""} ${oe.email||""} ${oe.status||""}`.toLowerCase()}}),Q},[a,b]),A=async()=>{if(!x||parseFloat(x)<=0){alert("Please enter a valid authorization price");return}try{await Qe.approveInstructorRequest(y.id,{authorization_price:parseFloat(x)}),await $(),d(!1),S(null),N(""),alert("Instructor approved successfully. Waiting for Group Admin to set commission percentage.")}catch(Q){alert("Failed to approve: "+(Q.message||"Unknown error"))}},M=Q=>{S(Q),w(""),m(!0)},D=async()=>{if(!_.trim()){alert("Please provide a rejection reason");return}try{await Qe.rejectInstructorRequest(y.id,{rejection_reason:_}),await $(),m(!1),S(null),w(""),alert("Instructor request rejected")}catch(Q){alert("Failed to reject: "+(Q.message||"Unknown error"))}},O=Q=>{S(Q),k(""),g(!0)},V=async()=>{if(!T.trim()){alert("Please provide a return comment");return}try{await Qe.returnInstructorRequest(y.id,{return_comment:T}),await $(),g(!1),S(null),k(""),alert("Request returned for revision")}catch(Q){alert("Failed to return request: "+(Q.message||"Unknown error"))}},q=a.filter(Q=>Q.status==="pending").length,I=a.filter(Q=>Q.status==="returned").length,W=a.filter(Q=>Q.status==="active"||Q.status==="approved"||!Q._isRequest&&(Q.status==="active"||!Q.status)).length,B=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total",value:B,icon:gt,colorType:"indigo",isActive:b==="all",onClick:()=>E("all")}),t.jsx(We,{name:"Pending",value:q,icon:Be,colorType:"yellow",isActive:b==="pending",onClick:()=>E("pending")}),t.jsx(We,{name:"Active",value:W,icon:$e,colorType:"green",isActive:b==="active",onClick:()=>E("active")}),t.jsx(We,{name:"Returned",value:I,icon:Wr,colorType:"blue",isActive:b==="returned",onClick:()=>E("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(ct,{columns:F,data:C,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",onRowClick:Q=>z(Q)})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),S(null)},title:y!=null&&y._isRequest?"Instructor Request Details":"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"space-y-6",children:[y._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",y.id]})]}),y.instructor_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(R_,{size:14,className:"mr-1"}),"Instructor ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",y.instructor_id]})]}),y.acc_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ke,{size:14,className:"mr-1"}),"ACC ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",y.acc_id]})]}),y.sub_category_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Jt,{size:14,className:"mr-1"}),"Sub-Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",y.sub_category_id]})]}),y.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(y.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(y.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(gt,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gt,{size:14,className:"mr-1"}),"First Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((H=y.instructor)==null?void 0:H.first_name)||y.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gt,{size:14,className:"mr-1"}),"Last Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Y=y.instructor)==null?void 0:Y.last_name)||y.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((U=y.instructor)==null?void 0:U.email)||y.email||y._normalizedEmail||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((L=y.instructor)==null?void 0:L.phone)||y.phone||"N/A"})]}),(((X=y.instructor)==null?void 0:X.id_number)||y.id_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((se=y.instructor)==null?void 0:se.id_number)||y.id_number})]}),((ce=y.instructor)==null?void 0:ce.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.instructor.country})]}),((ve=y.instructor)==null?void 0:ve.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.instructor.city})]}),y._normalizedDate&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(y._normalizedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${y.status==="approved"||y.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":y.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":y.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[y.status==="pending"&&t.jsx(Be,{size:12,className:"mr-1"}),y.status==="returned"&&t.jsx(Wr,{size:12,className:"mr-1"}),y.status==="approved"&&t.jsx($e,{size:12,className:"mr-1"}),y.status?y.status.charAt(0).toUpperCase()+y.status.slice(1):"N/A"]})]})]})]}),(y.training_center||y._normalizedTrainingCenter)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ke,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((me=y.training_center)==null?void 0:me.id)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",y.training_center.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ke,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((xe=y.training_center)==null?void 0:xe.name)||((he=y.training_center)==null?void 0:he.legal_name)||y._normalizedTrainingCenter||"N/A"})]}),((J=y.training_center)==null?void 0:J.email)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.training_center.email})]}),((ue=y.training_center)==null?void 0:ue.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.training_center.phone})]}),((Ne=y.training_center)==null?void 0:Ne.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.training_center.address})]}),((Pe=y.training_center)==null?void 0:Pe.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.training_center.city})]}),((ke=y.training_center)==null?void 0:ke.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.training_center.country})]})]})]}),(y.sub_category||y.sub_category_id)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Jt,{className:"mr-2",size:20}),"Sub-Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((ee=y.sub_category)==null?void 0:ee.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Jt,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.sub_category.name})]}),((re=y.sub_category)==null?void 0:re.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:y.sub_category.description})]}),((fe=y.sub_category)==null?void 0:fe.courses)&&Array.isArray(y.sub_category.courses)&&y.sub_category.courses.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses"}),t.jsx("div",{className:"space-y-2",children:y.sub_category.courses.map((Q,oe)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||oe+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||oe))})]})]})]}),(((Me=y.instructor)==null?void 0:Me.specializations)||y.specializations)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ua,{className:"mr-2",size:20}),"Languages / Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{var ge;const Q=((ge=y.instructor)==null?void 0:ge.specializations)||y.specializations,oe=Array.isArray(Q)?Q:typeof Q=="string"?Q.split(",").map(ie=>ie.trim()).filter(ie=>ie):[];return oe.length>0?oe.map((ie,Se)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 border border-primary-200",children:[t.jsx(ua,{size:12,className:"mr-1"}),ie]},Se)):t.jsx("p",{className:"text-sm text-gray-500",children:"No specializations listed"})})()})]}),(((be=y.instructor)==null?void 0:be.cv_url)||y.cv_url)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Ye,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the instructor's CV"})]})]}),t.jsxs("a",{href:(((Ce=y.instructor)==null?void 0:Ce.cv_url)||y.cv_url).startsWith("http")?((Re=y.instructor)==null?void 0:Re.cv_url)||y.cv_url:`https://aeroenix.com/v1/api${((ae=y.instructor)==null?void 0:ae.cv_url)||y.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ye,{size:18,className:"mr-2"}),"View CV"]})]})})]}),y._isRequest&&(y.sub_category_id||y.sub_category||y.courses||y.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Jt,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:y.sub_category_id||y.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var Q,oe;return(Q=y.sub_category)!=null&&Q.name?y.sub_category.name:y.sub_category_name?y.sub_category_name:typeof y.sub_category=="string"?y.sub_category:(oe=y.sub_category)!=null&&oe.name_ar?y.sub_category.name_ar:y.sub_category_id?`Sub-Category (ID: ${y.sub_category_id})`:"N/A"})()}),((le=y.sub_category)==null?void 0:le.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.sub_category.description}),((G=y.sub_category)==null?void 0:G.courses)&&Array.isArray(y.sub_category.courses)&&y.sub_category.courses.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses in this Sub-Category:"}),t.jsx("div",{className:"space-y-2",children:y.sub_category.courses.map((Q,oe)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||oe+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||oe))})]}),(!((K=y.sub_category)!=null&&K.courses)||y.sub_category.courses.length===0)&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const Q=y.courses||y.requested_courses||[],oe=Array.isArray(Q)?Q:[];return oe.length>0?t.jsx("div",{className:"space-y-2",children:oe.map((ge,ie)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ge.name||ge.name_ar||ge.code||`Course ${ge.id||ie+1}`}),ge.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",ge.code]}),ge.name_ar&&ge.name&&ge.name!==ge.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ge.name_ar}),ge.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sub-Category: ",typeof ge.sub_category=="object"&&(ge.sub_category.name||ge.sub_category.name_ar)||ge.sub_category]})]})})},ge.id||ie))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),y._isRequest&&y.documents_json&&Array.isArray(y.documents_json)&&y.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ye,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:y.documents_json.map((Q,oe)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.type||Q.document_type||`Document ${oe+1}`}),Q.description&&t.jsx("p",{className:"text-sm text-gray-500",children:Q.description})]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},oe))})]}),((te=y.instructor)==null?void 0:te.certificates_json)&&Array.isArray(y.instructor.certificates_json)&&y.instructor.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Yr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:y.instructor.certificates_json.map((Q,oe)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.name||Q.certificate_name||`Certificate ${oe+1}`}),Q.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",Q.issued_by]}),Q.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",Q.year]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},oe))})]}),y.authorization_price&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authorization Details"}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Authorization Price"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",parseFloat(y.authorization_price).toFixed(2)]})]})]}),y.rejection_reason&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(rt,{className:"mr-2 text-red-600",size:20}),"Rejection Reason"]}),t.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-base text-gray-900",children:y.rejection_reason})})]}),y._isRequest&&y.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Wr,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:y.return_comment})]}),y._isRequest&&y.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),j(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx($e,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),M(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(rt,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),O(y)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(Wr,{size:20,className:"mr-2"}),"Return"]})]}),y._isRequest&&y.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),j(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx($e,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),M(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(rt,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),S(null),w("")},title:"Reject Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",value:_,onChange:Q=>w(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{m(!1),S(null),w("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Ie,{isOpen:u,onClose:()=>{g(!1),S(null),k("")},title:"Return Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(de,{label:"Return Comment",name:"return_comment",value:T,onChange:Q=>k(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{g(!1),S(null),k("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:V,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),S(null),N("")},title:"Approve Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please set the authorization price for this instructor:"}),t.jsx(de,{label:"Authorization Price",name:"authorization_price",type:"number",value:x,onChange:Q=>N(Q.target.value),required:!0,min:"0",step:"0.01",placeholder:"500.00"}),t.jsx("p",{className:"text-sm text-gray-500",children:"After approval, Group Admin will need to set the commission percentage before Training Center can pay."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),S(null),N("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})})]})},iT=(e,s="This field")=>!e||typeof e=="string"&&e.trim()===""?`${s} is required`:"",oT=(e,s,r="This field")=>e&&e.length>s?`${r} must be at most ${s} characters`:"",lT=(e,s="This field",r=null,a=null)=>{if(e===""||e===null||e===void 0)return`${s} is required`;const n=Number(e);return isNaN(n)?`${s} must be a valid number`:r!==null&&n<r?`${s} must be at least ${r}`:a!==null&&n>a?`${s} must be at most ${a}`:""},w0=(e,s={})=>{const{required:r=!0,maxSize:a=10*1024*1024,allowedTypes:n=[],fieldName:i="File"}=s;if(r&&!e)return`${i} is required`;if(e){if(e.size>a){const o=(a/1048576).toFixed(2);return`${i} size must be less than ${o}MB`}if(n.length>0){const o="."+e.name.split(".").pop().toLowerCase(),l=n.map(c=>c.toLowerCase());if(!n.includes(e.type)&&!l.includes(o))return`${i} type is not allowed. Allowed types: ${n.join(", ")}`}}return""},cT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),a=f.useRef(null),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,h]=f.useState(!0),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState("all"),[N,_]=f.useState("all"),[w,T]=f.useState({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),[k,b]=f.useState({base_price:"",currency:"USD"}),[E,v]=f.useState({}),[R,$]=f.useState(!1);f.useEffect(()=>{z()},[]),f.useEffect(()=>{j()},[]),f.useEffect(()=>(s("Courses"),r("Manage and organize your course catalog"),e(t.jsxs("button",{onClick:()=>{a.current&&a.current()},className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Os,{size:20,className:"mr-2"}),"Add Course"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const j=async()=>{h(!0);try{const U={per_page:1e3},L=await Qe.listCourses(U);let X=[];L.data?X=L.data||[]:L.courses?X=L.courses||[]:X=Array.isArray(L)?L:[],i(X)}catch(U){console.error("Failed to load courses:",U),i([])}finally{h(!1)}},P=f.useMemo(()=>{let U=[...n];return S!=="all"&&(U=U.filter(L=>L.status===S)),N!=="all"&&(U=U.filter(L=>L.level===N)),U=U.map(L=>{var X,se,ce;return{...L,_searchText:`${L.name||""} ${L.code||""} ${L.name_ar||""} ${L.description||""} ${L.level||""} ${L.status||""} ${((X=L.sub_category)==null?void 0:X.name)||""} ${((ce=(se=L.sub_category)==null?void 0:se.category)==null?void 0:ce.name)||""}`.toLowerCase()}}),U},[n,S,N]),z=async()=>{try{const U=await Qe.listSubCategories();l(U.sub_categories||U||[])}catch(U){console.error("Failed to load sub categories:",U),l([])}},F=f.useCallback((U=null)=>{if(U){y(U),T({sub_category_id:U.sub_category_id||"",name:U.name||"",name_ar:U.name_ar||"",code:U.code||"",description:U.description||"",duration_hours:U.duration_hours||"",max_capacity:U.max_capacity||"",level:U.level||"beginner",status:U.status||"active",assessor_required:U.assessor_required||!1});const L=U.current_price||U.pricing||(U.certificate_pricing&&U.certificate_pricing.length>0?U.certificate_pricing[0]:null);b(L?{base_price:L.base_price||"",currency:L.currency||"USD"}:{base_price:"",currency:"USD"})}else y(null),T({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD"});v({}),p(!0)},[]);f.useEffect(()=>{a.current=()=>F()},[]);const C=()=>{p(!1),y(null),T({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD",group_commission_percentage:"",training_center_commission_percentage:"",instructor_commission_percentage:"",effective_from:"",effective_to:""}),v({})},A=U=>{T({...w,[U.target.name]:U.target.value}),v({})},M=U=>{b({...k,[U.target.name]:U.target.value}),v(L=>{const X={...L};return delete X[U.target.name],X})},D=()=>{const U={};!w.name||w.name.trim()===""?U.name="Course name is required":w.name.length>255&&(U.name="Course name must be at most 255 characters"),w.name_ar&&w.name_ar.length>255&&(U.name_ar="Arabic name must be at most 255 characters"),!w.code||w.code.trim()===""?U.code="Course code is required":w.code.length>255&&(U.code="Course code must be at most 255 characters"),w.sub_category_id||(U.sub_category_id="Sub category is required");const L=iT(w.duration_hours,"Duration");if(L)U.duration_hours=L;else{const X=parseInt(w.duration_hours);(isNaN(X)||X<1)&&(U.duration_hours="Duration must be at least 1 hour")}if(!w.max_capacity||w.max_capacity.toString().trim()==="")U.max_capacity="Max capacity is required";else{const X=parseInt(w.max_capacity);(isNaN(X)||X<1)&&(U.max_capacity="Max capacity must be at least 1")}if(w.level?["beginner","intermediate","advanced"].includes(w.level)||(U.level="Invalid level selected"):U.level="Level is required",w.status?["active","inactive","archived"].includes(w.status)||(U.status="Invalid status selected"):U.status="Status is required",k.base_price){const X=lT(k.base_price,"Base price",0);X&&(U.base_price=X),!k.currency||k.currency.trim()===""?U.currency="Currency is required when pricing is set":k.currency.length!==3&&(U.currency="Currency must be a 3-character code (e.g., USD)")}return U},O=async U=>{var X,se,ce,ve,me,xe,he,J;U.preventDefault(),$(!0),v({});const L=D();if(Object.keys(L).length>0){v(L),$(!1);return}try{const ue={...w,sub_category_id:parseInt(w.sub_category_id),duration_hours:parseInt(w.duration_hours),max_capacity:parseInt(w.max_capacity)};if((!w.name_ar||w.name_ar.trim()==="")&&delete ue.name_ar,(!w.description||w.description.trim()==="")&&delete ue.description,k.base_price){const Pe={base_price:parseFloat(k.base_price),currency:k.currency};ue.pricing=Pe}let Ne;g?(Ne=await Qe.updateCourse(g.id,ue),console.log("Course updated:",Ne)):(Ne=await Qe.createCourse(ue),console.log("Course created:",Ne)),C(),await j(),alert(g?"Course updated successfully!":"Course created successfully!")}catch(ue){if(console.error("Failed to save course:",ue),console.error("Error response:",ue.response),console.error("Error data:",(X=ue.response)==null?void 0:X.data),console.error("Error status:",(se=ue.response)==null?void 0:se.status),(ve=(ce=ue.response)==null?void 0:ce.data)!=null&&ve.errors){const Ne=ue.response.data.errors,Pe={};Object.keys(Ne).forEach(ke=>{ke.startsWith("pricing.")?Pe[ke.replace("pricing.","")]=Ne[ke]:Pe[ke]=Ne[ke]}),v(Pe)}else ue.errors?v(ue.errors):v({general:((xe=(me=ue.response)==null?void 0:me.data)==null?void 0:xe.message)||ue.message||"Failed to save course"});alert(`Error: ${((J=(he=ue.response)==null?void 0:he.data)==null?void 0:J.message)||ue.message||"Failed to save course"}`)}finally{$(!1)}},V=f.useCallback(U=>{y(U),u(!0)},[]),q=async()=>{try{await Qe.deleteCourse(g.id),await j()}catch(U){alert("Failed to delete course: "+(U.message||"Unknown error"))}u(!1),y(null)},[I,W]=f.useState(!1),B=async U=>{try{const L=await Qe.getCourseDetails(U.id);y(L.course||L),W(!0)}catch(L){console.error("Failed to load course details:",L),y(U),W(!0)}},H=U=>{B(U)},Y=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(U,L)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(hs,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:U||"N/A"}),L.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",L.code]})]})]})},{header:"Level",accessor:"level",sortable:!0,render:U=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:U||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:U=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),U?`${U} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:U=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${U==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:U?U.charAt(0).toUpperCase()+U.slice(1):"N/A"})},{header:"Pricing",accessor:"pricing",sortable:!1,render:(U,L)=>{const X=L.current_price||L.pricing||(L.certificate_pricing&&L.certificate_pricing.length>0?L.certificate_pricing[0]:null);return X?t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(It,{className:"h-4 w-4 mr-1 text-primary-600"}),parseFloat(X.base_price||0).toFixed(2)," ",X.currency||"USD"]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not set"})}},{header:"Assessor",accessor:"assessor_required",sortable:!0,render:U=>U?t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Required"}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not Required"})},{header:"Actions",accessor:"actions",sortable:!1,render:(U,L)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:X=>X.stopPropagation(),children:[t.jsx("button",{onClick:()=>F(L),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:()=>V(L),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Is,{size:16})})]})}],[F,V]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(ct,{columns:Y,data:P,isLoading:c,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or code...",emptyMessage:"No courses found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:U=>U.status==="active"},{value:"inactive",label:"Inactive",filterFn:U=>U.status==="inactive"}],defaultFilter:S,onRowClick:U=>H(U)})}),t.jsx(Ie,{isOpen:d,onClose:C,title:g?"Edit Course":"Add New Course",size:"lg",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Course Name (English)",name:"name",value:w.name,onChange:A,required:!0,error:E.name}),t.jsx(de,{label:"Course Name (Arabic)",name:"name_ar",value:w.name_ar,onChange:A,error:E.name_ar})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Course Code",name:"code",value:w.code,onChange:A,required:!0,placeholder:"e.g., AST-101",error:E.code}),t.jsx(de,{label:"Sub Category",name:"sub_category_id",type:"select",value:w.sub_category_id,onChange:A,required:!0,options:o.map(U=>({value:U.id,label:U.name||U.title||`Sub Category ${U.id}`})),error:E.sub_category_id})]}),t.jsx(de,{label:"Description",name:"description",value:w.description,onChange:A,textarea:!0,rows:4,error:E.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Duration (Hours)",name:"duration_hours",type:"number",value:w.duration_hours,onChange:A,required:!0,min:"1",error:E.duration_hours}),t.jsx(de,{label:"Max Capacity",name:"max_capacity",type:"number",value:w.max_capacity,onChange:A,required:!0,min:"1",placeholder:"Maximum number of trainees per class",error:E.max_capacity})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Level",name:"level",type:"select",value:w.level,onChange:A,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],error:E.level}),t.jsx(de,{label:"Status",name:"status",type:"select",value:w.status,onChange:A,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],error:E.status})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"assessor_required",name:"assessor_required",checked:w.assessor_required||!1,onChange:U=>T({...w,assessor_required:U.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("label",{htmlFor:"assessor_required",className:"text-sm font-medium text-gray-700",children:"Assessor Required"})]}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2 ml-6",children:"This course requires an assessor"}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(It,{size:20,className:"text-primary-600"}),"Pricing Information (Optional)"]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optional: Set pricing at creation time. You can create a course without pricing and add it later if needed. Commission percentages are managed by Group Admins separately."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Base Price",name:"base_price",type:"number",value:k.base_price,onChange:M,placeholder:"0.00",step:"0.01",min:"0",error:E.base_price}),t.jsx(de,{label:"Currency",name:"currency",type:"select",value:k.currency,onChange:M,options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"SAR",label:"SAR"}],error:E.currency})]})]}),E.general&&t.jsx("p",{className:"text-sm text-red-600",children:E.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:R,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Saving...":g?"Update Course":"Create Course"})]})]})}),t.jsx(Ie,{isOpen:I,onClose:()=>{W(!1),y(null)},title:"Course Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(hs,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Course ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name||"N/A"})]}),g.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:g.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.duration_hours?`${g.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.max_capacity?`${g.max_capacity} trainees`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${g.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":g.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:g.status?g.status.charAt(0).toUpperCase()+g.status.slice(1):"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Assessor Required"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs font-medium rounded-full ${g.assessor_required?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:g.assessor_required?"Required":"Not Required"})]}),g.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),g.sub_category&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Jt,{className:"mr-2",size:20}),"Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.sub_category.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Sub Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.sub_category.id]})]}),g.sub_category.category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.category.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.name||"N/A"})]}),g.sub_category.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category Description"}),t.jsx("p",{className:"text-base text-gray-900",children:g.sub_category.description})]})]})]}),g.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:g.description})})]}),(()=>{const U=g.current_price||g.pricing||(g.certificate_pricing&&g.certificate_pricing.length>0?g.certificate_pricing[0]:null);return U?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(It,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg border border-primary-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.id&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"Pricing ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",U.id]})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[parseFloat(U.base_price||0).toFixed(2)," ",U.currency||"USD"]})]}),U.group_commission_percentage!==void 0&&U.group_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.group_commission_percentage||0).toFixed(2),"%"]})]}),U.training_center_commission_percentage!==void 0&&U.training_center_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.training_center_commission_percentage||0).toFixed(2),"%"]})]}),U.instructor_commission_percentage!==void 0&&U.instructor_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.instructor_commission_percentage||0).toFixed(2),"%"]})]}),U.effective_from&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Effective From"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.effective_from).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),U.effective_to&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Effective To"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.effective_to).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),U.created_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),U.updated_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Commission percentages are managed by Group Admins. Pricing is effective immediately when set."})]})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(It,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(It,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No pricing set"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can add pricing when editing the course"})]})]})})]})})()]})}),t.jsx(ha,{isOpen:m,onClose:()=>{u(!1),y(null)},onConfirm:q,title:"Delete Course",message:`Are you sure you want to delete "${g==null?void 0:g.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},dT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState({trainee_name:"",course:"",issue_date:"",status:"valid"}),[p,m]=f.useState({}),[u,g]=f.useState(!1);f.useEffect(()=>{y()},[]),f.useEffect(()=>(s("Certificates"),r("View and manage all generated certificates"),e(t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Os,{size:20}),"Create New Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const y=async()=>{o(!0);try{const b={per_page:1e3},E=await Qe.listCertificates(b);let v=[];E.data?v=E.data||[]:E.certificates?v=E.certificates||[]:v=Array.isArray(E)?E:[],v=v.map(R=>({...R,_searchText:[R.certificate_number,R.trainee_name,R.course,R.status].filter(Boolean).join(" ").toLowerCase()})),n(v)}catch(b){console.error("Failed to load certificates:",b),n([])}finally{o(!1)}},S=()=>{d({trainee_name:"",course:"",issue_date:new Date().toISOString().split("T")[0],status:"valid"}),m({}),c(!0)},x=()=>{c(!1),d({trainee_name:"",course:"",issue_date:"",status:"valid"}),m({})},N=b=>{d({...h,[b.target.name]:b.target.value}),m({})},_=async b=>{b.preventDefault(),g(!0),m({});try{await Qe.createCertificate(h),await y(),x()}catch(E){E.errors?m(E.errors):m({general:E.message||"Failed to create certificate"})}finally{g(!1)}},w=b=>b?new Date(b).toLocaleDateString():"N/A",T=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Yr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:b=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})},{header:"Course",accessor:"course",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-700",children:b||"N/A"})},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-600",children:w(b)})},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${b==="valid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300"}`,children:b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"})}],[]),k=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:b=>b.status==="valid"},{value:"invalid",label:"Invalid",filterFn:b=>b.status==="invalid"}],[]);return t.jsxs("div",{children:[t.jsx(ct,{columns:T,data:a,isLoading:i,searchable:!0,searchPlaceholder:"Search by number, trainee, or course...",filterable:!0,filterOptions:k,defaultFilter:"all",sortable:!0,emptyMessage:"No certificates found. Create your first certificate!"}),t.jsx(Ie,{isOpen:l,onClose:x,title:"Create New Certificate",size:"lg",children:t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Trainee Name",name:"trainee_name",value:h.trainee_name,onChange:N,required:!0,error:p.trainee_name}),t.jsx(de,{label:"Course",name:"course",value:h.course,onChange:N,required:!0,error:p.course})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Issue Date",name:"issue_date",type:"date",value:h.issue_date,onChange:N,required:!0,error:p.issue_date}),t.jsx(de,{label:"Status",name:"status",type:"select",value:h.status,onChange:N,options:[{value:"valid",label:"Valid"},{value:"invalid",label:"Invalid"}],error:p.status})]}),p.general&&t.jsx("p",{className:"text-sm text-red-600",children:p.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Certificate"})]})]})})]})},bh=({currentPage:e=1,totalPages:s=1,totalItems:r=0,perPage:a=10,onPageChange:n,onPerPageChange:i,showPerPageSelector:o=!0,perPageOptions:l=[10,25,50,100],className:c=""})=>{if(s<=1&&!o)return null;const h=r===0?0:(e-1)*a+1,d=Math.min(e*a,r),p=u=>{u>=1&&u<=s&&u!==e&&n(u)},m=()=>{const u=[];if(s<=5)for(let y=1;y<=s;y++)u.push(y);else if(u.push(1),e<=3){for(let y=2;y<=4;y++)u.push(y);u.push("..."),u.push(s)}else if(e>=s-2){u.push("...");for(let y=s-3;y<=s;y++)u.push(y)}else{u.push("...");for(let y=e-1;y<=e+1;y++)u.push(y);u.push("..."),u.push(s)}return u};return t.jsx("div",{className:`pagination-container ${c}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("span",{className:"font-semibold text-gray-900",children:h})," to"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:d})," of"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:r})," results"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[o&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsx("select",{value:a,onChange:u=>i(Number(u.target.value)),className:"pagination-select px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm cursor-pointer bg-white hover:border-gray-400 transition-colors",children:l.map(u=>t.jsx("option",{value:u,children:u},u))})]}),s>1&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>p(1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"First page",children:t.jsx(T_,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Previous page",children:t.jsx(_v,{size:16,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center gap-1",children:m().map((u,g)=>u==="..."?t.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${g}`):t.jsx("button",{onClick:()=>p(u),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===u?"bg-primary-600 text-white border border-primary-600 shadow-sm":"border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}`,children:u},u))}),t.jsx("button",{onClick:()=>p(e+1),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Next page",children:t.jsx(Sv,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(s),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Last page",children:t.jsx(z_,{size:16,className:"text-gray-600"})})]})]})]})})},uT=()=>{const[e,s]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState({currentPage:1,perPage:12,totalPages:1,totalItems:0});f.useEffect(()=>{o()},[n.currentPage,n.perPage]);const o=async()=>{a(!0);try{const h={page:n.currentPage,per_page:n.perPage},d=await Qe.listMaterials(h);let p=[];d.data?(p=d.data||[],i(m=>({...m,totalPages:d.last_page||d.total_pages||1,totalItems:d.total||0}))):d.materials?(p=d.materials||[],i(m=>{var u;return{...m,totalPages:1,totalItems:((u=d.materials)==null?void 0:u.length)||0}})):(p=Array.isArray(d)?d:[],i(m=>({...m,totalPages:1,totalItems:p.length}))),s(p)}catch(h){console.error("Failed to load materials:",h),s([])}finally{a(!1)}},l=h=>{i(d=>({...d,currentPage:h}))},c=h=>{i(d=>({...d,perPage:h,currentPage:1}))};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage course materials"})]}),t.jsxs("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[t.jsx(Os,{size:20,className:"mr-2"}),"Add Material"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.length===0?t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(Ye,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No materials found"})]}):e.map(h=>{var d;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[t.jsx(Ye,{className:"h-8 w-8 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.name}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:h.material_type}),t.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",(d=h.price)==null?void 0:d.toLocaleString()]})]},h.id)})}),!r&&n.totalItems>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:t.jsx(bh,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalItems,perPage:n.perPage,onPageChange:l,onPerPageChange:c,perPageOptions:[12,24,48,96]})})]})},mT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),[x,N]=f.useState({}),[_,w]=f.useState(!1);f.useEffect(()=>{T(),k()},[]),f.useEffect(()=>(s("Discount Codes"),r("Manage and track all discount codes"),e(t.jsxs("button",{onClick:E,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Os,{size:20}),"Add Code"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const T=async()=>{c(!0);try{const A={per_page:1e3},M=await Qe.listDiscountCodes(A);let D=[];M.data?D=M.data||[]:M.discount_codes?D=M.discount_codes||[]:D=Array.isArray(M)?M:[],D=D.map(O=>({...O,_searchText:[O.code,O.discount_type,O.status,...b(O)].filter(Boolean).join(" ").toLowerCase()})),n(D)}catch(A){console.error("Failed to load codes:",A),n([])}finally{c(!1)}},k=async()=>{try{const A=await Qe.listCourses();o(A.courses||[])}catch(A){console.error("Failed to load courses:",A)}},b=A=>{if(A.courses&&Array.isArray(A.courses)&&A.courses.length>0)return A.courses.map(D=>D.name||D.title||"Unknown Course");const M=A.applicable_course_ids||A.course_ids||[];return!Array.isArray(M)||M.length===0?[]:M.map(D=>{const O=i.find(V=>V.id===D);return O?O.name:null}).filter(D=>D!==null)},E=(A=null)=>{var M;if(N({}),g(null),A&&A.id){console.log("Opening modal for EDIT - code:",A),console.log("Code ID:",A.id),g(A);let D="";A.course_id?D=A.course_id.toString():A.applicable_course_ids&&A.applicable_course_ids.length>0?D=A.applicable_course_ids[0].toString():A.courses&&A.courses.length>0&&(D=((M=A.courses[0].id)==null?void 0:M.toString())||""),S({code:A.code||"",discount_percentage:A.discount_percentage||"",discount_type:A.discount_type||"time_limited",valid_from:A.start_date?A.start_date.split("T")[0]:"",valid_until:A.end_date?A.end_date.split("T")[0]:"",status:A.status||"active",course_id:D,total_quantity:A.total_quantity||""})}else console.log("Opening modal for CREATE - resetting all fields"),g(null),S({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""});d(!0)},v=()=>{d(!1),g(null),S({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),N({})},R=A=>{const{name:M,value:D}=A.target;S(O=>({...O,[M]:D})),x[M]&&N(O=>{const V={...O};return delete V[M],V})},$=async A=>{var D,O,V,q;A.preventDefault(),A.stopPropagation(),N({});const M={};if((!y.code||!y.code.trim())&&(M.code="Discount code is required"),(!y.discount_percentage||isNaN(y.discount_percentage)||parseFloat(y.discount_percentage)<=0)&&(M.discount_percentage="Valid discount percentage is required"),y.discount_type||(M.discount_type="Discount type is required"),y.course_id||(M.course_id="Course is required"),y.discount_type==="time_limited"?(y.valid_from||(M.valid_from="Valid from date is required"),y.valid_until||(M.valid_until="Valid until date is required"),y.valid_from&&y.valid_until&&new Date(y.valid_from)>=new Date(y.valid_until)&&(M.valid_until="Valid until date must be after valid from date")):y.discount_type==="quantity_based"&&(!y.total_quantity||isNaN(y.total_quantity)||parseInt(y.total_quantity)<=0)&&(M.total_quantity="Total quantity is required and must be greater than 0"),Object.keys(M).length>0){N(M);return}w(!0);try{const I={code:y.code.trim(),discount_type:y.discount_type,discount_percentage:parseFloat(y.discount_percentage),applicable_course_ids:[parseInt(y.course_id)],status:y.status};y.discount_type==="time_limited"?(I.start_date=y.valid_from,I.end_date=y.valid_until):y.discount_type==="quantity_based"&&(I.total_quantity=parseInt(y.total_quantity)),console.log("Submitting discount code:",JSON.stringify(I,null,2)),console.log("Selected code:",u),console.log("Is creating new code:",!u);let W;if(u&&(u.id||u.discount_code_id||(D=u.discount_code)!=null&&D.id)){const B=u.id||u.discount_code_id||((O=u.discount_code)==null?void 0:O.id);console.log("Updating discount code with ID:",B),W=await Qe.updateDiscountCode(B,I),console.log("Discount code updated:",W),alert("Discount code updated successfully!")}else u&&(console.warn("Warning: selectedCode exists but has no ID, treating as create"),g(null)),console.log("Creating new discount code via POST..."),W=await Qe.createDiscountCode(I),console.log("Discount code created:",W),alert("Discount code created successfully!");await T(),v()}catch(I){if(console.error("Failed to create discount code:",I),console.error("Error response:",I.response),console.error("Error data:",(V=I.response)==null?void 0:V.data),(q=I.response)!=null&&q.data){const W=I.response.data;if(W.errors){const B={};Object.keys(W.errors).forEach(H=>{B[H]=Array.isArray(W.errors[H])?W.errors[H][0]:W.errors[H]}),N(B)}else W.message?N({general:W.message}):N(W)}else I.message?N({general:I.message}):N({general:"Failed to create discount code. Please try again."})}finally{w(!1)}},j=A=>{g(A),m(!0)},P=async()=>{var A,M,D;try{const O=(u==null?void 0:u.id)||(u==null?void 0:u.discount_code_id)||((A=u==null?void 0:u.discount_code)==null?void 0:A.id);if(!O)throw new Error("Cannot delete: Discount code ID not found");console.log("Deleting discount code with ID:",O),await Qe.deleteDiscountCode(O),await T(),alert("Discount code deleted successfully!")}catch(O){console.error("Failed to delete discount code:",O),console.error("Selected code:",u),alert("Failed to delete discount code: "+(((D=(M=O.response)==null?void 0:M.data)==null?void 0:D.message)||O.message||"Unknown error"))}m(!1),g(null)},z=A=>A?new Date(A).toLocaleDateString():null,F=f.useMemo(()=>[{header:"Code",accessor:"code",sortable:!0,render:(A,M)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(gi,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:A||"N/A"})})]})},{header:"Discount",accessor:"discount_percentage",sortable:!0,render:A=>t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:[parseFloat(A)||0,"%"]})},{header:"Type",accessor:"discount_type",sortable:!0,render:A=>t.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 rounded-md text-xs font-medium capitalize",children:A?A.replace(/_/g," "):"N/A"})},{header:"Courses",accessor:"courses",sortable:!1,render:(A,M)=>{const D=b(M);return D.length===0?t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No courses assigned"}):t.jsx("div",{className:"flex flex-wrap gap-1.5",children:D.map((O,V)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-xs font-medium border border-blue-200",title:O,children:[t.jsx(Jt,{size:12}),t.jsx("span",{className:"max-w-[150px] truncate",children:O})]},V))})}},{header:"Status",accessor:"status",sortable:!0,render:A=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${A==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:A?A.charAt(0).toUpperCase()+A.slice(1):"N/A"})},{header:"Start Date",accessor:"start_date",sortable:!0,render:A=>A?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:z(A)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"End Date",accessor:"end_date",sortable:!0,render:A=>A?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:z(A)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"Quantity",accessor:"total_quantity",sortable:!0,render:(A,M)=>{if(M.discount_type==="quantity_based"){const D=M.used_quantity||0,O=A||0,V=O>0?Math.round(D/O*100):0;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-primary-700",children:D}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:O})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all",style:{width:`${V}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[V,"%"]})]})]})}else return t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-600 border border-blue-200",children:"N/A"})}}],[i]),C=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:A=>A.status==="active"},{value:"inactive",label:"Inactive",filterFn:A=>A.status==="inactive"}],[]);return t.jsxs("div",{children:[t.jsx(ct,{columns:F,data:a,isLoading:l,searchable:!0,searchPlaceholder:"Search by code or type...",filterable:!0,filterOptions:C,defaultFilter:"all",sortable:!0,emptyMessage:"No discount codes found. Create your first discount code!",onEdit:E,onDelete:j}),t.jsx(Ie,{isOpen:h,onClose:v,title:u&&(u.id||u.discount_code_id)?"Edit Discount Code":"Add New Discount Code",size:"lg",children:t.jsxs("form",{onSubmit:$,className:"space-y-4",children:[x.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:x.general})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Discount Code",name:"code",value:y.code,onChange:R,required:!0,placeholder:"e.g., SAVE20",error:x.code}),t.jsx(de,{label:"Discount Percentage",name:"discount_percentage",type:"number",value:y.discount_percentage,onChange:R,required:!0,min:"0",max:"100",placeholder:"e.g., 20",error:x.discount_percentage})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"course_id",value:y.course_id,onChange:R,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.course_id?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"",children:"Select a course..."}),i.map(A=>t.jsxs("option",{value:A.id,children:[A.name," ",A.code?`(${A.code})`:""]},A.id))]}),x.course_id&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.course_id})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount Type ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"discount_type",value:y.discount_type,onChange:R,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.discount_type?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"time_limited",children:"Time Limited"}),t.jsx("option",{value:"quantity_based",children:"Quantity Based"})]}),x.discount_type&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.discount_type})]}),t.jsx(de,{label:"Status",name:"status",type:"select",value:y.status,onChange:R,required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:x.status})]}),y.discount_type==="time_limited"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(de,{label:"Valid From",name:"valid_from",type:"date",value:y.valid_from,onChange:R,required:!0,error:x.valid_from}),t.jsx(de,{label:"Valid Until",name:"valid_until",type:"date",value:y.valid_until,onChange:R,required:!0,error:x.valid_until})]}),y.discount_type==="quantity_based"&&t.jsx(de,{label:"Total Quantity",name:"total_quantity",type:"number",value:y.total_quantity,onChange:R,required:!0,min:"1",placeholder:"e.g., 100",error:x.total_quantity}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:v,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:_?u&&(u.id||u.discount_code_id)?"Updating...":"Creating...":u&&(u.id||u.discount_code_id)?"Update Discount Code":"Create Discount Code"})]})]})}),t.jsx(ha,{isOpen:p,onClose:()=>{m(!1),g(null)},onConfirm:P,title:"Delete Discount Code",message:`Are you sure you want to delete discount code "${u==null?void 0:u.code}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},pT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState("categories"),[n,i]=f.useState("categories"),[o,l]=f.useState([]),[c,h]=f.useState(!0),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[N,_]=f.useState({}),[w,T]=f.useState(!1),[k,b]=f.useState([]),[E,v]=f.useState(!0),[R,$]=f.useState(!1),[j,P]=f.useState(!1),[z,F]=f.useState(null),[C,A]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[M,D]=f.useState({}),[O,V]=f.useState(!1);f.useEffect(()=>{q()},[]),f.useEffect(()=>(e("Categories"),s("View assigned categories and manage your own categories"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{r==="categories"&&n!=="categories"&&!c&&q(),i(r)},[r]);const q=async()=>{var be;try{h(!0);const Ce={per_page:1e3},Re=await Qe.listCategories(Ce);let ae=[];Re!=null&&Re.data?ae=Array.isArray(Re.data)?Re.data:[]:Re!=null&&Re.categories&&Array.isArray(Re.categories)?ae=Re.categories:Array.isArray(Re)?ae=Re:(console.warn("Unexpected API response structure:",Re),ae=[]),ae=ae.map(G=>({...G,_searchText:[G.name,G.name_ar,G.description,G.status].filter(Boolean).join(" ").toLowerCase()})),l(ae);const le=[];if(ae.forEach(G=>{G.sub_categories&&Array.isArray(G.sub_categories)&&le.push(...G.sub_categories)}),ae.length>0)await L();else if(le.length>0){const G=le.map(K=>({...K,_searchText:[K.name,K.name_ar,K.description,K.status].filter(Boolean).join(" ").toLowerCase()}));b(G),v(!1)}}catch(Ce){console.error("Failed to load categories:",Ce),console.error("Error details:",((be=Ce.response)==null?void 0:be.data)||Ce.message),l([])}finally{h(!1)}},I=(be=null)=>{be?(y(be),x({name:be.name||"",name_ar:be.name_ar||"",description:be.description||"",status:be.status||"active"})):(y(null),x({name:"",name_ar:"",description:"",status:"active"})),_({}),p(!0)},W=()=>{p(!1),y(null),x({name:"",name_ar:"",description:"",status:"active"}),_({})},B=be=>{x({...S,[be.target.name]:be.target.value}),_({})},H=async be=>{var Ce,Re,ae,le;be.preventDefault(),T(!0),_({});try{g?await Qe.updateCategory(g.id,S):await Qe.createCategory(S),await q(),W()}catch(G){(Re=(Ce=G.response)==null?void 0:Ce.data)!=null&&Re.errors?_(G.response.data.errors):(le=(ae=G.response)==null?void 0:ae.data)!=null&&le.message?_({general:G.response.data.message}):_({general:G.message||"Failed to save category"})}finally{T(!1)}},Y=be=>{y(be),u(!0)},U=async()=>{var be,Ce;try{await Qe.deleteCategory(g.id),await q()}catch(Re){alert("Failed to delete category: "+(((Ce=(be=Re.response)==null?void 0:be.data)==null?void 0:Ce.message)||Re.message||"Unknown error"))}u(!1),y(null)},L=async(be=null)=>{v(!0);try{const Ce={per_page:1e3};be&&(Ce.category_id=be);const Re=await Qe.listSubCategories(Ce);let ae=[];Re!=null&&Re.data?ae=Array.isArray(Re.data)?Re.data:[]:Re!=null&&Re.sub_categories?ae=Array.isArray(Re.sub_categories)?Re.sub_categories:[]:ae=Array.isArray(Re)?Re:[],ae=ae.map(le=>{const G=o.find(K=>K.id===le.category_id);return{...le,_searchText:[le.name,le.name_ar,le.description,le.status,(G==null?void 0:G.name)||""].filter(Boolean).join(" ").toLowerCase()}}),b(ae)}catch(Ce){console.error("Failed to load sub categories:",Ce),b([])}finally{v(!1)}};f.useEffect(()=>{r==="sub-categories"&&L()},[r]);const X=(be=null)=>{be?(F(be),A({category_id:be.category_id||"",name:be.name||"",name_ar:be.name_ar||"",description:be.description||"",status:be.status||"active"})):(F(null),A({category_id:"",name:"",name_ar:"",description:"",status:"active"})),D({}),$(!0)},se=()=>{$(!1),F(null),A({category_id:"",name:"",name_ar:"",description:"",status:"active"}),D({})},ce=be=>{A({...C,[be.target.name]:be.target.value}),D({})},ve=async be=>{var Ce,Re,ae,le;be.preventDefault(),V(!0),D({});try{z?await Qe.updateSubCategory(z.id,C):await Qe.createSubCategory(C),await L(),se()}catch(G){(Re=(Ce=G.response)==null?void 0:Ce.data)!=null&&Re.errors?D(G.response.data.errors):(le=(ae=G.response)==null?void 0:ae.data)!=null&&le.message?D({general:G.response.data.message}):D({general:G.message||"Failed to save sub category"})}finally{V(!1)}},me=be=>{F(be),P(!0)},xe=async()=>{var be,Ce;try{await Qe.deleteSubCategory(z.id),await L()}catch(Re){alert("Failed to delete sub category: "+(((Ce=(be=Re.response)==null?void 0:be.data)==null?void 0:Ce.message)||Re.message||"Unknown error"))}P(!1),F(null)},he=o.length,J=o.filter(be=>be.status==="active").length,ue=k.length,Ne=k.filter(be=>be.status==="active").length,Pe=be=>be.created_by!=null&&be.created_by!==void 0&&be.created_by!==1,ke=be=>be.created_by!=null&&be.created_by!==void 0&&be.created_by!==1,ee=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(be,Ce)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ye,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:be||"N/A"}),Ce.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:Ce.name_ar})]})]})},{header:"Description",accessor:"description",sortable:!0,render:be=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:be||"-"})},{header:"Status",accessor:"status",sortable:!0,render:be=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${be==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:be?be.charAt(0).toUpperCase()+be.slice(1):"N/A"})},{header:"Type",accessor:"created_by",sortable:!1,render:(be,Ce)=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Pe(Ce)?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300"}`,children:Pe(Ce)?"Created by Me":"Assigned by Admin"}),Ce.sub_categories&&Ce.sub_categories.length>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:[Ce.sub_categories.length," sub-categor",Ce.sub_categories.length===1?"y":"ies"]})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(be,Ce)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Re=>Re.stopPropagation(),children:[t.jsx("button",{onClick:()=>I(Ce),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Pe(Ce)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Pe(Ce)?"Edit Category":"Cannot edit - Assigned by Admin",disabled:!Pe(Ce),children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:()=>Y(Ce),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Pe(Ce)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Pe(Ce)?"Delete Category":"Cannot delete - Assigned by Admin",disabled:!Pe(Ce),children:t.jsx(Is,{size:16})})]})}],[I,Y]),re=f.useMemo(()=>[{header:"Sub Category",accessor:"name",sortable:!0,render:(be,Ce)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ye,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:be||"N/A"}),Ce.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:Ce.name_ar})]})]})},{header:"Category",accessor:"category_id",sortable:!0,render:(be,Ce)=>{const Re=o.find(ae=>ae.id===be);return t.jsx("div",{className:"text-sm text-gray-600",children:Re?Re.name:`Category ID: ${be}`})}},{header:"Status",accessor:"status",sortable:!0,render:be=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${be==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:be?be.charAt(0).toUpperCase()+be.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(be,Ce)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Re=>Re.stopPropagation(),children:[t.jsx("button",{onClick:()=>X(Ce),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ke(Ce)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ke(Ce)?"Edit Sub Category":"Cannot edit - Created by Admin",disabled:!ke(Ce),children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:()=>me(Ce),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ke(Ce)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ke(Ce)?"Delete Sub Category":"Cannot delete - Created by Admin",disabled:!ke(Ce),children:t.jsx(Is,{size:16})})]})}],[o,X,me]),fe=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:be=>be.status==="active"},{value:"inactive",label:"Inactive",filterFn:be=>be.status==="inactive"}],[]),Me=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:be=>be.status==="active"},{value:"inactive",label:"Inactive",filterFn:be=>be.status==="inactive"}],[]);return c&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},className:"mb-6",children:[t.jsx(We,{name:"Total Categories",value:he,icon:Ye,colorType:"indigo",isActive:r==="categories",onClick:()=>a("categories")}),t.jsx(We,{name:"Active Categories",value:J,icon:Ye,colorType:"green",isActive:r==="categories",onClick:()=>a("categories")}),t.jsx(We,{name:"Sub Categories",value:ue,icon:fn,colorType:"blue",isActive:r==="sub-categories",onClick:()=>a("sub-categories")}),t.jsx(We,{name:"Active Sub Categories",value:Ne,icon:fn,colorType:"purple",isActive:r==="sub-categories",onClick:()=>a("sub-categories")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ye,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(fn,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Xe,{onClick:()=>q(),icon:t.jsx(kv,{size:20}),variant:"outline",disabled:c,loading:c,title:"Refresh categories list",children:"Refresh"}),t.jsx(Xe,{onClick:()=>I(),icon:t.jsx(Os,{size:20}),children:"Add Category"})]})]}),t.jsx(ct,{columns:ee,data:o,isLoading:c,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:fe,defaultFilter:"all",sortable:!0,emptyMessage:"No categories found. Create your first category to get started!"})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Xe,{onClick:()=>X(),icon:t.jsx(Os,{size:20}),children:"Add Sub Category"})]}),t.jsx(ct,{columns:re,data:k,isLoading:E,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:Me,defaultFilter:"all",sortable:!0,emptyMessage:"No sub categories found. Create your first sub category to get started!"})]}),t.jsx(Ie,{isOpen:d,onClose:W,title:g?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:H,className:"space-y-4",children:[t.jsx(de,{label:"Category Name (English)",name:"name",value:S.name,onChange:B,required:!0,error:N.name}),t.jsx(de,{label:"Category Name (Arabic)",name:"name_ar",value:S.name_ar,onChange:B,error:N.name_ar}),t.jsx(de,{label:"Description",name:"description",value:S.description,onChange:B,textarea:!0,rows:3,error:N.description}),t.jsx(de,{label:"Status",name:"status",type:"select",value:S.status,onChange:B,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:N.status}),N.general&&t.jsx("p",{className:"text-sm text-red-600",children:N.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:W,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Xe,{type:"submit",disabled:w,loading:w,fullWidth:!0,children:g?"Update":"Create"})]})]})}),t.jsx(ha,{isOpen:m,onClose:()=>{u(!1),y(null)},onConfirm:U,title:"Delete Category",message:`Are you sure you want to delete "${g==null?void 0:g.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:R,onClose:se,title:z?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[t.jsx(de,{label:"Category",name:"category_id",type:"select",value:C.category_id,onChange:ce,required:!0,options:o.filter(be=>be.id).map(be=>({value:be.id,label:be.name||`Category ${be.id}`})),error:M.category_id}),t.jsx(de,{label:"Sub Category Name (English)",name:"name",value:C.name,onChange:ce,required:!0,error:M.name}),t.jsx(de,{label:"Sub Category Name (Arabic)",name:"name_ar",value:C.name_ar,onChange:ce,error:M.name_ar}),t.jsx(de,{label:"Description",name:"description",value:C.description,onChange:ce,textarea:!0,rows:3,error:M.description}),t.jsx(de,{label:"Status",name:"status",type:"select",value:C.status,onChange:ce,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:M.status}),M.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:M.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:se,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Xe,{type:"submit",disabled:O,loading:O,fullWidth:!0,children:z?"Update":"Create"})]})]})}),t.jsx(ha,{isOpen:j,onClose:()=>{P(!1),F(null)},onConfirm:xe,title:"Delete Sub Category",message:`Are you sure you want to delete "${z==null?void 0:z.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},fT=()=>{var P,z,F,C;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState(!1),S=f.useRef(null);f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{x()},[]),f.useEffect(()=>{const A=M=>{S.current&&!S.current.contains(M.target)&&y(!1)};return g&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[g]);const x=async()=>{var A,M;l(!0);try{const D={per_page:1e3},O=await Qe.getPaymentTransactions(D),V=(O==null?void 0:O.data)||O||[],q=(O==null?void 0:O.summary)||null;let I=Array.isArray(V)?V:(V==null?void 0:V.data)||[];I=I.map(W=>{var B,H;return{...W,_searchText:[W.transaction_type,W.amount,W.currency,W.status,W.description,(B=W.payer)==null?void 0:B.name,(H=W.payee)==null?void 0:H.name].filter(Boolean).join(" ").toLowerCase()}}),a(I),i(q)}catch(D){console.error("Failed to load transactions:",D),(M=(A=D==null?void 0:D.response)==null?void 0:A.data)!=null&&M.message||D!=null&&D.message,console.error("Error details:",D),a([]),i(null)}finally{l(!1)}},N=A=>{p(A),h(!0)},_=(A,M="USD")=>`${parseFloat(A||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${M}`,w=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",T=A=>A?new Date(A).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",k=A=>{switch(A){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=A=>(A==null?void 0:A.split("_").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" "))||"N/A",E=A=>A.payee&&A.payee.type==="acc",v=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(A,M)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-3 ${E(M)?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:E(M)?t.jsx(pp,{className:"h-5 w-5 text-green-600"}):t.jsx(Vc,{className:"h-5 w-5 text-red-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b(A)})})]})},{header:"Payer",accessor:"payer",sortable:!0,render:A=>A?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:A.type==="acc"||A.type==="training_center"?t.jsx(Ke,{className:"h-4 w-4 text-blue-600"}):t.jsx(Ls,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:A.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:A=>A?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:A.type==="acc"||A.type==="training_center"?t.jsx(Ke,{className:"h-4 w-4 text-green-600"}):t.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:A.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Total Amount",accessor:"amount",sortable:!0,render:(A,M)=>t.jsxs("div",{className:`text-sm font-semibold ${E(M)?"text-green-700":"text-red-700"}`,children:[E(M)?"+":"-"," ",_(A,M.currency)]})},{header:"Received",accessor:"provider_amount",sortable:!0,render:(A,M)=>{const D=A||M.received_amount;return D?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["+ ",_(D,M.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}},{header:"Commission",accessor:"commission_amount",sortable:!0,render:(A,M)=>A?t.jsxs("div",{className:"text-sm font-semibold text-amber-700",children:["- ",_(A,M.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:A=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${k(A)}`,children:A?A.charAt(0).toUpperCase()+A.slice(1):"N/A"})},{header:"Date",accessor:"created_at",sortable:!0,render:A=>t.jsx("div",{className:"text-sm text-gray-600",children:w(A)})},{header:"Actions",accessor:"actions",sortable:!1,render:(A,M)=>t.jsx("div",{className:"flex items-center gap-2",onClick:D=>D.stopPropagation(),children:t.jsx("button",{onClick:()=>N(M),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ls,{size:16})})})}],[]),R=f.useMemo(()=>m==="all"?r:r.filter(A=>A.transaction_type===m),[r,m]),$=f.useMemo(()=>[{value:"all",label:"All Types"},{value:"subscription",label:"Subscription"},{value:"code_purchase",label:"Code Purchase"},{value:"material_purchase",label:"Material Purchase"},{value:"course_purchase",label:"Course Purchase"},{value:"commission",label:"Commission"},{value:"settlement",label:"Settlement"}],[]),j=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"completed",label:"Completed",filterFn:A=>A.status==="completed"},{value:"pending",label:"Pending",filterFn:A=>A.status==="pending"},{value:"failed",label:"Failed",filterFn:A=>A.status==="failed"},{value:"refunded",label:"Refunded",filterFn:A=>A.status==="refunded"}],[]);return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:3},className:"mb-6",children:[t.jsx(We,{name:"Total Transactions",value:n.total_transactions||0,icon:Kr,colorType:"indigo"}),t.jsx(We,{name:"Total Received",value:_(n.total_received||0),icon:pp,colorType:"green"}),t.jsx(We,{name:"Total Paid",value:_(n.total_paid||0),icon:Vc,colorType:"red"})]}),t.jsxs("div",{children:[t.jsx("style",{children:`
          .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
          }
          .payment-transactions-filters-wrapper .data-table-search-input-wrapper {
            flex: 1;
            min-width: 200px;
          }
          .payment-transactions-filters-wrapper .data-table-filter-wrapper {
            flex-shrink: 0;
          }
          @media (max-width: 640px) {
            .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
              flex-direction: column;
            }
            .payment-transactions-filters-wrapper .data-table-filter-wrapper {
              width: 100%;
            }
          }
        `}),t.jsx("div",{className:"payment-transactions-filters-wrapper",children:t.jsx(ct,{columns:v,data:R,isLoading:o,searchable:!0,searchPlaceholder:"Search transactions...",filterable:!0,filterOptions:j,defaultFilter:"all",sortable:!0,emptyMessage:"No transactions found",onView:N,customFilters:t.jsxs("div",{className:"data-table-filter-wrapper",ref:S,children:[t.jsxs("button",{onClick:()=>y(!g),className:`data-table-filter-button ${m!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(Nn,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((P=$.find(A=>A.value===m))==null?void 0:P.label)||"All Types"})]}),g&&t.jsx("div",{className:"data-table-filter-dropdown",children:$.map(A=>t.jsx("button",{onClick:()=>{u(A.value),y(!1)},className:`data-table-filter-option ${m===A.value?"data-table-filter-option-active":""}`,children:A.label},A.value))})]})})})]}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${k(d.status)}`,children:((z=d.status)==null?void 0:z.charAt(0).toUpperCase())+((F=d.status)==null?void 0:F.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),t.jsxs("p",{className:`text-2xl font-bold ${E(d)?"text-green-700":"text-red-700"}`,children:[E(d)?"+":"-"," ",_(d.amount,d.currency)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((C=d.payment_method)==null?void 0:C.replace("_"," "))||"N/A"})]}),d.provider_amount||d.received_amount?t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount Received"}),t.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["+ ",_(d.provider_amount||d.received_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount you received after commission"})]}):null,d.commission_amount?t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Platform Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["- ",_(d.commission_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Commission deducted from total amount"})]}):null,d.payment_type&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:d.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((A,M)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[A.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:A.acc.name})]}),A.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:A.training_center.name})]}),A.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[_(A.group_commission_amount)," (",A.group_commission_percentage,"%)"]})]}),A.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[_(A.acc_commission_amount)," (",A.acc_commission_percentage,"%)"]})]})]})},A.id||M))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:T(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:T(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},hT=()=>{var T,k;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState("all");f.useEffect(()=>(e("Classes"),s("View all classes from authorized training centers"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{m()},[d]);const m=async()=>{i(!0);try{const b={per_page:1e3},E=await Qe.listClasses(b),v=(E==null?void 0:E.data)||E||[];a(Array.isArray(v)?v:(v==null?void 0:v.data)||[])}catch(b){console.error("Failed to load classes:",b),a([])}finally{i(!1)}},u=f.useCallback(async b=>{try{const E=await Qe.getClassDetails(b.id);h(E.class||E),l(!0)}catch(E){console.error("Failed to load class details:",E),h(b),l(!0)}},[]),g=f.useCallback(b=>{u(b)},[]),y=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Jt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),(b==null?void 0:b.code)&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",b.code]})]})]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:b=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Ke,{className:"h-4 w-4 text-blue-600"})}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"})]})},{header:"Instructor",accessor:"instructor",sortable:!0,render:b=>b?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Ls,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${b.first_name||""} ${b.last_name||""}`.trim()||"N/A"}),b.email&&t.jsx("div",{className:"text-xs text-gray-500",children:b.email})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Schedule",accessor:"start_date",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(tt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}),E.end_date&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["to ",x(E.end_date)]})]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(tt,{className:"h-4 w-4 text-purple-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}):t.jsx("span",{className:"text-gray-400",children:"Not set"})})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b!=null?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ye,{className:"h-4 w-4 text-indigo-400"}),t.jsxs("span",{className:"font-semibold",children:[parseFloat(b).toFixed(2),"%"]})]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Location",accessor:"location",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:w(b)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:b||"N/A"}),E.location_details&&t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:E.location_details})]})]})},{header:"Capacity",accessor:"enrolled_count",sortable:!0,render:(b,E)=>{var v,R;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gt,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[b||0," / ",((v=E.course)==null?void 0:v.max_capacity)||"N/A"]}),((R=E.course)==null?void 0:R.max_capacity)&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((b||0)/E.course.max_capacity*100),"% full"]})]})]})}},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${_(b)}`,children:b?b.charAt(0).toUpperCase()+b.slice(1).replace("_"," "):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(b,E)=>t.jsx("div",{className:"flex items-center gap-2",onClick:v=>v.stopPropagation(),children:t.jsx("button",{onClick:()=>u(E),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ls,{size:16})})})}],[u]),S=f.useMemo(()=>{let b=[...r];return d!=="all"&&(b=b.filter(E=>E.status===d)),b=b.map(E=>{var v,R,$,j,P,z,F,C;return{...E,_searchText:`${((v=E.course)==null?void 0:v.name)||""} ${((R=E.course)==null?void 0:R.code)||""} ${(($=E.course)==null?void 0:$.name_ar)||""} ${((j=E.training_center)==null?void 0:j.name)||""} ${((P=E.training_center)==null?void 0:P.email)||""} ${((z=E.instructor)==null?void 0:z.first_name)||""} ${((F=E.instructor)==null?void 0:F.last_name)||""} ${((C=E.instructor)==null?void 0:C.email)||""} ${E.location||""} ${E.location_details||""} ${E.status||""}`.toLowerCase()}}),b},[r,d]),x=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",N=b=>b?new Date(b).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_=b=>{switch(b){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"in_progress":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"scheduled":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"cancelled":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},w=b=>{switch(b){case"online":return"";case"hybrid":return"";default:return""}};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(ct,{columns:y,data:S,isLoading:n,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search classes...",emptyMessage:"No classes found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:b=>b.status==="scheduled"},{value:"in_progress",label:"In Progress",filterFn:b=>b.status==="in_progress"},{value:"completed",label:"Completed",filterFn:b=>b.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:b=>b.status==="cancelled"}],defaultFilter:d,onRowClick:b=>g(b)})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Class Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(hs,{className:"mr-2",size:20}),"Class Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${_(c.status)}`,children:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1).replace("_"," "):"N/A"})]}),c.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N(c.created_at)})]}),c.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N(c.updated_at)})]})]})]}),c.course&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Jt,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name||"N/A"})]}),c.course.code&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.code})]}),c.course.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name_ar})]}),c.course.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.duration_hours," hours"]})]}),c.course.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:c.course.level})]}),c.course.max_capacity&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.max_capacity," trainees"]})]}),c.course.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${c.course.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:c.course.status.charAt(0).toUpperCase()+c.course.status.slice(1)})]}),c.course.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:c.course.description})]}),c.course.sub_category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.sub_category.name||"N/A"}),c.course.sub_category.category&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",c.course.sub_category.category.name||"N/A"]})]})]})]}),c.training_center&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ke,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.name||"N/A"})]}),c.training_center.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.email})]}),c.training_center.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.phone})]}),c.training_center.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ua,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:c.training_center.website.startsWith("http")?c.training_center.website:`https://${c.training_center.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:c.training_center.website})]}),c.training_center.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.address})]}),c.training_center.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.city})]}),c.training_center.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.country})]})]})]}),c.instructor&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ls,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.last_name||"N/A"})]}),c.instructor.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.email})]}),c.instructor.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.phone})]}),c.instructor.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.country})]}),c.instructor.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.city})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"Schedule Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Start Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_date?N(c.start_date):"N/A"})]}),c.end_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"End Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N(c.end_date)})]}),c.exam_date&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1 text-purple-600"}),"Exam Date"]}),t.jsx("p",{className:"text-base font-semibold text-purple-900",children:N(c.exam_date)})]}),c.exam_score!==null&&c.exam_score!==void 0&&t.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ye,{size:14,className:"mr-1 text-indigo-600"}),"Exam Score"]}),t.jsxs("p",{className:"text-base font-semibold text-indigo-900",children:[parseFloat(c.exam_score).toFixed(2),"%"]})]}),c.start_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Start Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_time})]}),c.end_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"End Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.end_time})]})]}),c.schedule_json&&Object.keys(c.schedule_json).length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Weekly Schedule"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.schedule_json).map(([b,E])=>t.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[t.jsxs("span",{className:"font-semibold text-gray-900 capitalize",children:[b,":"]}),t.jsx("span",{className:"text-gray-700 ml-2",children:E})]},b))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location & Capacity"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(vt,{size:14}),"Location Type"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:c.location||"N/A"}),c.location_details&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location Details"}),t.jsx("p",{className:"text-sm text-gray-700",children:c.location_details})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(gt,{size:14}),"Capacity"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.enrolled_count||0," / ",((T=c.course)==null?void 0:T.max_capacity)||"N/A"]}),((k=c.course)==null?void 0:k.max_capacity)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all",style:{width:`${Math.min((c.enrolled_count||0)/c.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((c.enrolled_count||0)/c.course.max_capacity*100),"% full"]})]})]})]})]}),c.trainees&&Array.isArray(c.trainees)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(gt,{className:"mr-2",size:20}),"Trainees (",c.trainees.length,")"]}),c.trainees.length===0?t.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 text-center",children:[t.jsx(gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No trainees enrolled in this class"})]}):t.jsx("div",{className:"space-y-2",children:c.trainees.map((b,E)=>{const v=b.profile_image_url||b.avatar_url||b.id_image_url||null,R=v?v.startsWith("http")?v:`https://aeroenix.com/v1/api${v}`:null;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-gray-100 transition-all",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[R?t.jsx("img",{src:R,alt:`${b.first_name} ${b.last_name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-2 border-primary-200 ${R?"hidden":""}`,children:t.jsx(Ls,{className:"h-5 w-5 text-primary-600"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[b.first_name," ",b.last_name]}),b.id_number&&t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",b.id_number]})]})]})},b.id||E)})})]})]})})]})},gT=()=>{var A,M,D,O;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[N,_]=f.useState({payment_amount:""}),[w,T]=f.useState({rejection_reason:""}),[k,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{E()},[]);const E=async()=>{i(!0);try{const V=await Qe.getPendingPayments(),I=((V==null?void 0:V.batches)||(V==null?void 0:V.data)||[]).map(W=>{var B,H,Y;return{...W,_searchText:[(B=W.training_center)==null?void 0:B.name,(H=W.training_center)==null?void 0:H.email,(Y=W.course)==null?void 0:Y.name,W.quantity,W.total_amount,W.payment_amount,W.payment_status].filter(Boolean).join(" ").toLowerCase()}});a(I)}catch(V){console.error("Failed to load pending payments:",V),a([])}finally{i(!1)}},v=V=>{h(V),l(!0)},R=V=>{h(V),_({payment_amount:V.final_amount||V.total_amount||""}),b({}),p(!0)},$=V=>{h(V),T({rejection_reason:""}),b({}),u(!0)},j=async()=>{var I,W,B;if(!c)return;if(!N.payment_amount||parseFloat(N.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const V=parseFloat(N.payment_amount),q=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(V-q)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${q.toFixed(2)}`});return}y(!0),b({});try{await Qe.approvePayment(c.id,{payment_amount:V}),await E(),p(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(H){if(console.error("Failed to approve payment:",H),((I=H.response)==null?void 0:I.status)===422){const Y=H.response.data;if(Y.errors){const U={};Object.keys(Y.errors).forEach(L=>{U[L]=Array.isArray(Y.errors[L])?Y.errors[L][0]:Y.errors[L]}),b(U)}else Y.message&&b({general:Y.message})}else(B=(W=H.response)==null?void 0:W.data)!=null&&B.message?b({general:H.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},P=async()=>{var V,q,I;if(c){if(!w.rejection_reason||w.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(w.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await Qe.rejectPayment(c.id,{rejection_reason:w.rejection_reason.trim()}),await E(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(W){if(console.error("Failed to reject payment:",W),((V=W.response)==null?void 0:V.status)===422){const B=W.response.data;if(B.errors){const H={};Object.keys(B.errors).forEach(Y=>{H[Y]=Array.isArray(B.errors[Y])?B.errors[Y][0]:B.errors[Y]}),b(H)}else B.message&&b({general:B.message})}else(I=(q=W.response)==null?void 0:q.data)!=null&&I.message?b({general:W.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},z=V=>`$${parseFloat(V||0).toFixed(2)}`,F=V=>V?new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=f.useMemo(()=>[{header:"Training Center",accessor:"training_center",sortable:!0,render:(V,q)=>{var I;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Ke,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((I=q.training_center)==null?void 0:I.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(V,q)=>{var I;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(Jt,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((I=q.course)==null?void 0:I.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:V=>t.jsx("span",{children:V||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:V=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(It,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:z(V)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:V=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(It,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:z(V)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:V=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Be,{className:"batch-date-icon",size:16}),t.jsx("span",{children:F(V)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(V,q)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>v(q),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ls,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(ct,{columns:C,data:r,isLoading:n,emptyMessage:r.length===0&&!n?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Be,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center, course, amount, or date...",sortable:!0}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(xa,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ye,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Xe,{variant:"success",fullWidth:!0,icon:t.jsx($e,{size:20}),onClick:()=>{l(!1),R(c)},children:"Approve Payment"}),t.jsx(Xe,{variant:"danger",fullWidth:!0,icon:t.jsx(rt,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),_({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[k.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:k.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((A=c.training_center)==null?void 0:A.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((M=c.course)==null?void 0:M.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",z(c.final_amount||c.total_amount)]})]}),t.jsx(de,{label:"Payment Amount",name:"payment_amount",type:"number",value:N.payment_amount,onChange:V=>_({...N,payment_amount:V.target.value}),required:!0,min:"0",step:"0.01",error:k.payment_amount,helpText:`Enter the payment amount (should match: ${z(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{p(!1),_({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:j,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),T({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[k.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:k.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((D=c.training_center)==null?void 0:D.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((O=c.course)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",z(c.payment_amount||c.total_amount)]})]}),t.jsx(de,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:w.rejection_reason,onChange:V=>T({...w,rejection_reason:V.target.value}),required:!0,error:k.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),T({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:P,disabled:S,className:"form-btn form-btn-danger",children:S?"Rejecting...":"Reject Payment"})]})]})})]})},xT=({onSubmit:e,onCancel:s,submitting:r=!1,initialData:a={documents:[],additional_info:""}})=>{const[n,i]=f.useState(a),[o,l]=f.useState({}),c=()=>{const x={};if(n.documents.length===0)return x.general="Please upload at least one document",x;if(n.documents.forEach((N,_)=>{if((!N.type||N.type.trim()==="")&&(x[`documents.${_}.type`]="Document type is required"),!N.file)x[`documents.${_}.file`]="Please upload a file";else{const w=w0(N.file,{required:!0,maxSize:10485760,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});w&&(x[`documents.${_}.file`]=w)}}),n.additional_info){const N=oT(n.additional_info,5e3,"Additional information");N&&(x.additional_info=N)}return x},h=async x=>{x.preventDefault();const N=c();if(Object.keys(N).length>0){l(N);return}e&&await e(n,l)},d=()=>{i({...n,documents:[...n.documents,{type:"",file:null}]})},p=x=>{i({...n,documents:n.documents.filter((_,w)=>w!==x)});const N={...o};Object.keys(N).forEach(_=>{_.startsWith(`documents.${x}.`)&&delete N[_]}),l(N)},m=(x,N,_)=>{const w=[...n.documents];if(w[x]={...w[x],[N]:_},i({...n,documents:w}),o[`documents.${x}.${N}`]){const T={...o};delete T[`documents.${x}.${N}`],l(T)}},u=(x,N)=>{if(!N)return;const _=w0(N,{required:!0,maxSize:10*1024*1024,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});if(_){l({...o,[`documents.${x}.file`]:_});return}const w=[...n.documents];if(w[x]={...w[x],file:N,fileName:N.name,fileSize:N.size,fileType:N.type},i({...n,documents:w}),o[`documents.${x}.file`]){const T={...o};delete T[`documents.${x}.file`],l(T)}},g=x=>{const N=[...n.documents];N[x]={...N[x],file:null,fileName:"",fileSize:null,fileType:null},i({...n,documents:N});const _=document.getElementById(`file-upload-${x}`);if(_&&(_.value=""),o[`documents.${x}.file`]){const w={...o};delete w[`documents.${x}.file`],l(w)}},y=x=>{if(i({...n,additional_info:x.target.value}),o.additional_info){const N={...o};delete N.additional_info,l(N)}},S=()=>{i(a),l({}),s&&s()};return t.jsxs("div",{className:"relative",children:[r&&t.jsx("div",{className:"authorization-request-form-overlay",children:t.jsxs("div",{className:"authorization-request-form-overlay-content",children:[t.jsx(cx,{size:32,className:"authorization-request-form-spinner"}),t.jsx("p",{className:"authorization-request-form-overlay-text",children:"Uploading files and submitting request..."}),t.jsx("p",{className:"authorization-request-form-overlay-hint",children:"Please wait, this may take a moment"})]})}),t.jsxs("form",{onSubmit:h,className:"authorization-request-form",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"authorization-request-form-section-header",children:[t.jsxs("h3",{className:"authorization-request-form-section-title",children:[t.jsx(Ye,{size:20,className:"authorization-request-form-section-title-icon"}),"Documents"]}),t.jsxs("button",{type:"button",onClick:d,disabled:r,className:"authorization-request-form-button-add",children:[t.jsx(Os,{size:16,className:"authorization-request-form-button-add-icon"}),"Add Document"]})]}),n.documents.length===0?t.jsxs("div",{className:"authorization-request-form-warning-box",children:[t.jsx("p",{className:"authorization-request-form-warning-text",children:"No documents added"}),t.jsx("p",{className:"authorization-request-form-warning-hint",children:'At least one document is required. Click "Add Document" to add one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.documents.map((x,N)=>t.jsxs("div",{className:"authorization-request-form-document-item",children:[t.jsxs("div",{className:"authorization-request-form-document-header",children:[t.jsxs("span",{className:"authorization-request-form-document-number",children:["Document ",N+1]}),t.jsx("button",{type:"button",onClick:()=>p(N),disabled:r,className:"authorization-request-form-document-remove",title:"Remove document",children:t.jsx(Is,{size:16})})]}),t.jsxs("div",{className:"authorization-request-form-document-grid",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Document Type ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"})]}),t.jsxs("select",{value:x.type||"",onChange:_=>m(N,"type",_.target.value),required:!0,disabled:r,className:`authorization-request-form-select ${o[`documents.${N}.type`]?"error":""}`,children:[t.jsx("option",{value:"",children:"Select document type"}),t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"other",children:"Other"})]}),o[`documents.${N}.type`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${N}.type`]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Upload Document ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"}),t.jsx("span",{className:"authorization-request-form-label-hint",children:"(PDF, DOC, DOCX, JPG, JPEG, PNG - Max 10MB)"})]}),t.jsxs("div",{className:"authorization-request-form-file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/png",onChange:_=>{var T;const w=(T=_.target.files)==null?void 0:T[0];w&&u(N,w)},disabled:r,className:"authorization-request-form-file-upload-input",id:`file-upload-${N}`}),t.jsx("label",{htmlFor:`file-upload-${N}`,className:`authorization-request-form-file-upload-label ${r?"disabled":x.file?"has-file":"empty"}`,children:x.file?t.jsxs(t.Fragment,{children:[t.jsx($e,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-success",children:x.fileName||"File selected"}),x.fileSize&&t.jsxs("span",{className:"authorization-request-form-file-upload-size",children:["(",(x.fileSize/1024/1024).toFixed(2)," MB)"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ys,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-default",children:"Click to upload file"})]})})]}),o[`documents.${N}.file`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${N}.file`]}),x.file&&t.jsx("div",{className:"authorization-request-form-file-remove",children:t.jsx("button",{type:"button",onClick:()=>g(N),disabled:r,className:"authorization-request-form-file-remove-button",children:"Remove File"})})]})]})]},N))})]}),t.jsx(de,{label:"Additional Information",name:"additional_info",value:n.additional_info,onChange:y,textarea:!0,rows:4,placeholder:"Provide any additional information about your training center...",error:o.additional_info,disabled:r,helpText:"Maximum 5000 characters"}),o.general&&t.jsxs("div",{className:"authorization-request-form-error-box",children:[t.jsx("p",{className:"authorization-request-form-error-text",children:o.general}),o.hint&&t.jsx("p",{className:"authorization-request-form-error-hint",children:o.hint})]}),t.jsxs("div",{className:"authorization-request-form-actions",children:[t.jsx("button",{type:"button",onClick:S,disabled:r,className:"authorization-request-form-button authorization-request-form-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:r,className:"authorization-request-form-button authorization-request-form-button-submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx(cx,{size:16,className:"authorization-request-form-button-spinner"}),"Uploading & Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Kc,{size:16,className:"authorization-request-form-button-icon"}),"Submit Request"]})})]})]})]})},as=({label:e,value:s,icon:r,fullWidth:a=!1,children:n})=>t.jsxs("div",{className:`detail-item ${a?"detail-item-full":""}`,children:[t.jsxs("p",{className:`detail-label ${r?"detail-label-with-icon":""}`,children:[r&&t.jsx(r,{size:16,className:"detail-label-icon"}),e]}),n||t.jsx("p",{className:"detail-value",children:s||"N/A"})]}),cm=({children:e})=>t.jsx("div",{className:"detail-grid",children:e}),dm=({title:e,content:s,icon:r,variant:a="blue",showHeader:n=!1})=>t.jsx("div",{className:`info-box info-box-${a}`,children:n&&r?t.jsxs("div",{className:"info-box-header",children:[t.jsx(r,{className:`info-box-icon info-box-icon-${a}`}),t.jsxs("div",{className:"info-box-content-wrapper",children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})}),yT=({document:e,index:s})=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-content",children:[t.jsx(Ye,{size:20,className:"document-icon"}),t.jsxs("div",{className:"document-info",children:[t.jsx("p",{className:"document-name",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):`Document ${s+1}`}),e.file_name&&t.jsx("p",{className:"document-filename",children:e.file_name})]})]}),e.file_url&&t.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"document-download",title:"Download document",children:t.jsx(Hc,{size:18})})]}),bT=({documents:e,title:s="Documents"})=>!e||e.length===0?null:t.jsxs("div",{children:[t.jsxs("p",{className:"documents-header",children:[t.jsx(Ye,{size:18,className:"documents-header-icon"}),s]}),t.jsx("div",{className:"documents-list",children:e.map((r,a)=>t.jsx(yT,{document:r,index:a},a))})]}),_0=({status:e,variant:s="detail"})=>{const r={active:{badgeClass:s==="detail"?"status-badge-detail-active":"status-badge-active",icon:$e},approved:{badgeClass:s==="detail"?"status-badge-detail-approved":"status-badge-approved",icon:$e},rejected:{badgeClass:s==="detail"?"status-badge-detail-rejected":"status-badge-rejected",icon:rt},pending:{badgeClass:s==="detail"?"status-badge-detail-pending":"status-badge-pending",icon:Be},returned:{badgeClass:s==="detail"?"status-badge-detail-returned":"status-badge-returned",icon:Be}},a=r[e]||r.pending,n=a.icon;return t.jsxs("span",{className:`status-badge ${a.badgeClass}`,children:[s==="detail"&&t.jsx(n,{size:14,className:"status-badge-icon"}),e?e.charAt(0).toUpperCase()+e.slice(1):"N/A"]})},vT=()=>{var I,W,B;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,h]=f.useState("available"),[d,p]=f.useState(0),[m,u]=f.useState(0),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[N,_]=f.useState(null),[w,T]=f.useState(null),[k,b]=f.useState(!1),[E,v]=f.useState({documents:[],additional_info:""}),[R,$]=f.useState({}),[j,P]=f.useState(!1),z=f.useCallback(async()=>{try{l(!0);const H=await He.listACCs({per_page:1e3});let Y=[];if(H!=null&&H.data?Y=Array.isArray(H.data)?H.data:[]:H!=null&&H.accs?Y=Array.isArray(H.accs)?H.accs:[]:Array.isArray(H)&&(Y=H),a(Y),H){const U=H.total||Y.length;p(U)}}catch(H){console.error("Failed to load ACCs:",H)}finally{l(!1)}},[]),F=f.useCallback(async()=>{try{l(!0);const H=await He.getAuthorizationStatus({per_page:1e3});let Y=[];if(H!=null&&H.data?Y=Array.isArray(H.data)?H.data:[]:H!=null&&H.authorizations?Y=Array.isArray(H.authorizations)?H.authorizations:[]:Array.isArray(H)&&(Y=H),i(Y),H){const U=H.total||Y.length;u(U)}}catch(H){console.error("Failed to load authorizations:",H)}finally{l(!1)}},[]);f.useEffect(()=>{z(),F()},[z,F]),f.useEffect(()=>(e("Accreditation Bodies"),s("Browse and request authorization from Accreditation Bodies"),()=>{e(null),s(null)}),[e,s]);const C=H=>{h(H)},A=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(H,Y)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Ke,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:H||"N/A"})})]})},{header:"Email",accessor:"email",sortable:!0,render:H=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Lt,{className:"accs-table-row-email-icon"}),H||"N/A"]})},{header:"Country",accessor:"country",sortable:!0,render:H=>t.jsx("span",{className:"accs-table-row-text",children:H||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:H=>t.jsx("span",{className:`accs-status-badge ${H==="active"?"accs-status-badge-active":"accs-status-badge-default"}`,children:H?H.charAt(0).toUpperCase()+H.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(H,Y)=>t.jsxs("div",{className:"accs-action-buttons",onClick:U=>U.stopPropagation(),children:[t.jsx("button",{onClick:()=>V(Y),className:"accs-action-button accs-action-button-primary",title:"View Details",children:t.jsx(ls,{size:16})}),Y.status==="active"?t.jsx("button",{onClick:U=>{U.stopPropagation(),D(Y)},className:"accs-action-button accs-action-button-green",title:"Request Authorization",children:t.jsx(Kc,{size:16})}):t.jsx("button",{onClick:U=>{U.stopPropagation(),V(Y)},className:"accs-action-button accs-action-button-blue",title:"View Info",children:t.jsx(ls,{size:16})})]})}],[]),M=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:H=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Ke,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:(H==null?void 0:H.name)||"N/A"})})]})},{header:"Email",accessor:"acc",sortable:!0,render:H=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Lt,{className:"accs-table-row-email-icon"}),(H==null?void 0:H.email)||"N/A"]})},{header:"Country",accessor:"acc",sortable:!0,render:H=>t.jsx("span",{className:"accs-table-row-text",children:(H==null?void 0:H.country)||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:H=>{const Y={approved:{badgeClass:"accs-status-badge-approved",icon:$e},rejected:{badgeClass:"accs-status-badge-rejected",icon:rt},pending:{badgeClass:"accs-status-badge-pending",icon:Be},returned:{badgeClass:"accs-status-badge-returned",icon:Be}},U=Y[H]||Y.pending,L=U.icon;return t.jsxs("span",{className:`accs-status-badge ${U.badgeClass}`,children:[t.jsx(L,{size:14,className:"accs-status-badge-icon"}),H||"N/A"]})}},{header:"Request Date",accessor:"request_date",sortable:!0,render:H=>t.jsx("span",{className:"accs-table-row-text",children:H?new Date(H).toLocaleDateString():"N/A"})},{header:"Reviewed At",accessor:"reviewed_at",sortable:!0,render:H=>t.jsx("span",{className:"accs-table-row-text",children:H?new Date(H).toLocaleDateString():"Pending"})}],[]),D=H=>{_(H),v({documents:[],additional_info:""}),$({}),y(!0)},O=async(H,Y)=>{var U,L,X,se;P(!0),Y&&Y({});try{const ce=new FormData;H.documents.forEach((me,xe)=>{ce.append(`documents[${xe}][type]`,me.type),ce.append(`documents[${xe}][file]`,me.file)}),H.additional_info&&ce.append("additional_info",H.additional_info);const ve=await He.requestAuthorization(N.id,ce);await Promise.all([z(),F()]),y(!1),v({documents:[],additional_info:""}),alert("Authorization request submitted successfully!")}catch(ce){if(Y)if(ce.response){const ve=ce.response.status,me=ce.response.data;ve===400&&((U=me.message)!=null&&U.includes("already exists")||(L=me.message)!=null&&L.includes("already been submitted"))?Y({general:"An authorization request for this ACC already exists. Please check your existing authorizations."}):ve===422&&((X=me.message)!=null&&X.includes("No valid documents")||(se=me.message)!=null&&se.includes("documents uploaded"))?Y({general:"No valid documents uploaded. Please ensure files are uploaded correctly.",hint:"Use FormData with structure: documents[0][type]=license&documents[0][file]=<file>"}):ve===422&&me.errors?Y(me.errors):ve===422&&me.message?Y({general:me.message}):ve===500?Y({general:"Server error occurred. Please try again later or contact support if the problem persists."}):me.message?Y({general:me.message}):Y({general:"Failed to submit request. Please try again."})}else ce.errors?Y(ce.errors):ce.message?Y({general:ce.message||"Failed to submit request"}):Y({general:"Failed to submit request. Please try again."})}finally{P(!1)}},V=H=>{_(H),x(!0)},q=H=>{T(H),b(!0)};return o?t.jsx(Zo,{}):t.jsxs("div",{className:"accs-container",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:2},children:[t.jsx(We,{name:"Available Accreditation",value:d,icon:Ke,colorType:"indigo",isActive:c==="available",onClick:()=>C("available")}),t.jsx(We,{name:"My Authorizations",value:m,icon:$e,colorType:"blue",isActive:c==="authorizations",onClick:()=>C("authorizations")})]}),o?t.jsx("div",{className:"accs-table-container",children:t.jsx(Zo,{})}):c==="available"?t.jsx("div",{className:"accs-table-container",children:t.jsx(ct,{columns:A,data:r,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by name, email, or country...",emptyMessage:"No ACCs found",onRowClick:H=>V(H)})}):t.jsx("div",{className:"accs-table-container",children:t.jsx(ct,{columns:M,data:n,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by ACC name or status...",emptyMessage:"No authorization requests found",onView:H=>q(H),onRowClick:H=>q(H)})}),t.jsx(Ie,{isOpen:g,onClose:()=>{j||(y(!1),_(null),v({documents:[],additional_info:""}),$({}))},title:`Request Authorization from ${N==null?void 0:N.name}`,size:"lg",children:t.jsx(xT,{onSubmit:O,onCancel:()=>{y(!1),_(null),v({documents:[],additional_info:""}),$({})},submitting:j,initialData:E})}),t.jsx(Ie,{isOpen:S,onClose:()=>{x(!1),_(null)},title:"ACC Details",size:"lg",children:N&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(cm,{children:[N.id&&t.jsx(as,{label:"ID",value:N.id}),t.jsx(as,{label:"Name",value:N.name}),t.jsx(as,{label:"Email",value:N.email,icon:Lt}),N.phone&&t.jsx(as,{label:"Phone",value:N.phone}),N.country&&t.jsx(as,{label:"Country",value:N.country}),N.address&&t.jsx(as,{label:"Address",value:N.address}),N.website&&t.jsx(as,{label:"Website",children:t.jsx("a",{href:N.website,target:"_blank",rel:"noopener noreferrer",className:"accs-detail-link",children:N.website})}),t.jsx(as,{label:"Status",children:t.jsx(_0,{status:N.status,variant:"detail"})}),N.description&&t.jsx(as,{label:"Description",value:N.description,fullWidth:!0}),N.created_at&&t.jsx(as,{label:"Created At",value:new Date(N.created_at).toLocaleString()}),N.updated_at&&t.jsx(as,{label:"Updated At",value:new Date(N.updated_at).toLocaleString()})]}),N.status==="active"&&t.jsx("div",{className:"accs-detail-actions",children:t.jsxs("button",{onClick:()=>{x(!1),D(N)},className:"accs-detail-button",children:[t.jsx(Kc,{size:20,className:"accs-detail-button-icon"}),"Request Authorization"]})})]})}),t.jsx(Ie,{isOpen:k,onClose:()=>{b(!1),T(null)},title:"Authorization Request Details",size:"lg",children:w&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(cm,{children:[t.jsx(as,{label:"ACC Name",value:(I=w.acc)==null?void 0:I.name}),t.jsx(as,{label:"Email",value:(W=w.acc)==null?void 0:W.email,icon:Lt}),((B=w.acc)==null?void 0:B.country)&&t.jsx(as,{label:"Country",value:w.acc.country}),t.jsx(as,{label:"Status",children:t.jsx(_0,{status:w.status,variant:"detail"})})]}),t.jsxs(cm,{children:[t.jsx(as,{label:"Request Date",value:w.request_date?new Date(w.request_date).toLocaleString():"N/A",icon:Be}),w.reviewed_at&&t.jsx(as,{label:"Reviewed At",value:new Date(w.reviewed_at).toLocaleString(),icon:$e})]}),w.additional_info&&t.jsx(dm,{title:"Additional Information",content:w.additional_info,variant:"blue"}),w.status==="returned"&&w.return_comment&&t.jsx(dm,{title:"ACC Comment / Return Reason",content:w.return_comment,icon:I_,variant:"yellow",showHeader:!0}),w.status==="rejected"&&w.rejection_reason&&t.jsx(dm,{title:"Rejection Reason",content:w.rejection_reason,icon:rt,variant:"red",showHeader:!0}),t.jsx(bT,{documents:w.documents,title:"Submitted Documents"})]})})]})},jT=["English","Arabic","French","Spanish","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Hindi","Turkish","Dutch","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Greek","Hebrew","Thai","Vietnamese","Indonesian","Malay","Tagalog","Urdu","Persian","Bengali","Punjabi","Tamil","Telugu","Marathi","Gujarati"],vh=({value:e=[],onChange:s,label:r="Languages",error:a,disabled:n=!1,placeholder:i="Select a language..."})=>{const[o,l]=f.useState(""),c=Array.isArray(e)?e:e?e.split(",").map(m=>m.trim()).filter(m=>m):[],h=jT.filter(m=>!c.includes(m)),d=m=>{const u=m.target.value;if(u&&!c.includes(u)){const g=[...c,u];s(g),l("")}},p=m=>{const u=c.filter(g=>g!==m);s(u)};return t.jsxs("div",{className:"language-selector-container",children:[t.jsx("label",{className:"language-selector-label",children:r}),t.jsx("div",{className:"language-selector-wrapper",children:t.jsxs("div",{className:"language-selector-input-wrapper",children:[t.jsx(ua,{className:"language-selector-icon",size:18}),t.jsxs("select",{value:o,onChange:d,disabled:n||h.length===0,className:"language-selector-select",children:[t.jsx("option",{value:"",children:i}),h.map(m=>t.jsx("option",{value:m,children:m},m))]})]})}),c.length>0&&t.jsx("div",{className:"language-selector-tags",children:c.map((m,u)=>t.jsxs("span",{className:"language-selector-tag",children:[t.jsx(ua,{size:12,className:"language-selector-tag-icon"}),m,!n&&t.jsx("button",{type:"button",onClick:()=>p(m),className:"language-selector-remove-btn",title:"Remove language",children:t.jsx(_s,{size:12})})]},u))}),a&&t.jsx("p",{className:"language-selector-error",children:a})]})},S0="https://aeroenix.com/v1/api",NT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(!1),[y,S]=f.useState(null),[x,N]=f.useState([]),[_,w]=f.useState([]),[T,k]=f.useState([]),[b,E]=f.useState("sub_category"),[v,R]=f.useState({acc_id:"",sub_category_id:"",course_ids:[]}),[$,j]=f.useState({}),[P,z]=f.useState(!1),[F,C]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),[A,M]=f.useState(null),[D,O]=f.useState(""),[V,q]=f.useState(""),[I,W]=f.useState({}),[B,H]=f.useState(!1),[Y,U]=f.useState("all");f.useEffect(()=>{L()},[]),f.useEffect(()=>(s("Instructors"),r("Manage your instructors"),e(t.jsxs("button",{onClick:()=>X(),className:"instructors-header-button",children:[t.jsx(Os,{size:20,className:"instructors-header-button-icon"}),"Add Instructor"]})),()=>{e(null),s(null),r(null)}),[e,s,r]),f.useEffect(()=>{u&&y&&Pe()},[u,y]);const L=async()=>{var G,K,te;o(!0);try{const Q=await He.listInstructors({per_page:1e3});let oe=[];Q!=null&&Q.data?oe=Array.isArray(Q.data)?Q.data:((G=Q.data)==null?void 0:G.instructors)||[]:Q!=null&&Q.instructors?oe=Q.instructors:Array.isArray(Q)?oe=Q:(console.warn("Unexpected response format:",Q),oe=[]),n(oe)}catch(Q){console.error("Failed to load instructors:",Q),console.error("Error details:",{status:(K=Q.response)==null?void 0:K.status,data:(te=Q.response)==null?void 0:te.data,message:Q.message}),n([])}finally{o(!1)}},X=(G=null)=>{G?(S(G),C({first_name:G.first_name||"",last_name:G.last_name||"",email:G.email||"",phone:G.phone||"",id_number:G.id_number||"",cv:null,specializations:Array.isArray(G.specializations)?G.specializations:G.specializations?G.specializations.split(",").map(K=>K.trim()).filter(K=>K):[],is_assessor:G.is_assessor||!1}),M(null),O(""),q(G.cv_url||"")):(S(null),C({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),M(null),O(""),q("")),W({}),c(!0)},se=()=>{c(!1),S(null),C({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),M(null),O(""),q(""),W({})},ce=G=>{C({...F,[G.target.name]:G.target.value}),W({})},ve=G=>{const K=G.target.files[0];if(K){if(K.type!=="application/pdf"){W({cv:"Only PDF files are allowed"}),G.target.value="";return}if(K.size>10*1024*1024){W({cv:"File size must be less than 10MB"}),G.target.value="";return}M(K),O(K.name),C({...F,cv:K}),I.cv&&W(te=>{const Q={...te};return delete Q.cv,Q})}},me=G=>{C({...F,specializations:G}),W({})},xe=async G=>{var K,te,Q,oe,ge,ie,Se,Te,we,Z,pe,_e;G.preventDefault(),H(!0),W({});try{const Ae=A instanceof File;let Ee;if(Ae?(Ee=new FormData,Ee.append("first_name",F.first_name.trim()),Ee.append("last_name",F.last_name.trim()),Ee.append("email",F.email.trim()),(K=F.phone)!=null&&K.trim()&&Ee.append("phone",F.phone.trim()),(te=F.id_number)!=null&&te.trim()&&Ee.append("id_number",F.id_number.trim()),Ee.append("cv",A),F.specializations&&F.specializations.length>0&&F.specializations.forEach(Ue=>{Ee.append("specializations[]",Ue)}),Ee.append("is_assessor",F.is_assessor===!0||F.is_assessor==="true"||F.is_assessor===1||F.is_assessor==="1"?"1":"0"),console.log(" Using FormData (file upload required)")):(Ee={first_name:F.first_name.trim(),last_name:F.last_name.trim(),email:F.email.trim(),phone:((Q=F.phone)==null?void 0:Q.trim())||null,id_number:((oe=F.id_number)==null?void 0:oe.trim())||null,specializations:F.specializations||[],is_assessor:F.is_assessor},console.log(" Using JSON (no file upload):",JSON.stringify(Ee,null,2))),console.log("Submitting instructor data:",Ae?"FormData":"JSON"),console.log("is_assessor value:",F.is_assessor,"Type:",typeof F.is_assessor),y){console.log(" Updating instructor with ID:",y.id),console.log(" Submit data type:",Ae?"FormData":"JSON"),Ae&&console.log(" CV File:",A.name,A.size,"bytes");const Ue=await He.updateInstructor(y.id,Ee);console.log(" Update result:",Ue),Ae&&((ge=Ue==null?void 0:Ue.instructor)!=null&&ge.cv_url)&&console.log(" CV updated successfully:",Ue.instructor.cv_url)}else console.log(" Creating new instructor"),await He.createInstructor(Ee);await L(),se()}catch(Ae){console.error("Error submitting instructor:",Ae),console.error("Error response:",(ie=Ae.response)==null?void 0:ie.data),(Te=(Se=Ae.response)==null?void 0:Se.data)!=null&&Te.errors?W(Ae.response.data.errors):(Z=(we=Ae.response)==null?void 0:we.data)!=null&&Z.message?W({general:Ae.response.data.message}):(_e=(pe=Ae.response)==null?void 0:pe.data)!=null&&_e.error?W({general:Ae.response.data.error}):Ae.errors?W(Ae.errors):W({general:Ae.message||"Failed to save instructor"})}finally{H(!1)}},he=G=>{S(G),d(!0)},J=async()=>{try{await He.deleteInstructor(y.id),await L()}catch(G){alert("Failed to delete instructor: "+(G.message||"Unknown error"))}d(!1),S(null)},ue=async G=>{try{const K=await He.getInstructorDetails(G.id);S(K.instructor),m(!0)}catch(K){console.error("Failed to load instructor details:",K),S(G),m(!0)}},Ne=G=>{S(G),R({acc_id:"",sub_category_id:"",course_ids:[]}),E("sub_category"),j({}),g(!0)},Pe=async()=>{try{const[G,K]=await Promise.all([He.listACCs(),He.getAuthorizationStatus()]),te=((K==null?void 0:K.authorizations)||[]).filter(ie=>ie.status==="approved"),Q=new Set(te.map(ie=>{var Se;return ie.acc_id||((Se=ie.acc)==null?void 0:Se.id)})),ge=((G==null?void 0:G.accs)||[]).filter(ie=>Q.has(ie.id));N(ge),w([]),k([])}catch(G){console.error("Failed to load request form data:",G),N([])}},ke=async G=>{if(R({...v,acc_id:G,sub_category_id:"",course_ids:[]}),w([]),k([]),!!G)try{const[K,te]=await Promise.all([He.getSubCategoriesForACC(G).catch(()=>({sub_categories:[]})),He.getCoursesForACC(G).catch(()=>({courses:[]}))]),Q=(K==null?void 0:K.sub_categories)||[];k(Q);const oe=(te==null?void 0:te.courses)||[];w(oe)}catch(K){console.error("Failed to load ACC data:",K),w([]),k([])}},ee=G=>{E(G),R({...v,sub_category_id:"",course_ids:[]}),j({})},re=G=>{R(K=>{const te=K.course_ids||[];return te.includes(G)?{...K,course_ids:te.filter(Q=>Q!==G)}:{...K,course_ids:[...te,G]}})},fe=async G=>{var K;if(G.preventDefault(),!!y){z(!0),j({});try{if(!v.acc_id){j({general:"Please select an ACC"}),z(!1);return}if(b==="sub_category"){if(!v.sub_category_id){j({general:"Please select a sub-category"}),z(!1);return}}else if(!v.course_ids||v.course_ids.length===0){j({general:"Please select at least one course"}),z(!1);return}const te={acc_id:parseInt(v.acc_id)};b==="sub_category"?te.sub_category_id=parseInt(v.sub_category_id):te.course_ids=v.course_ids.map(ge=>parseInt(ge));const Q=await He.requestInstructorAuthorization(y.id,te);g(!1),R({acc_id:"",sub_category_id:"",course_ids:[]}),E("sub_category"),S(null);const oe=(Q==null?void 0:Q.courses_count)||(b==="courses"?v.course_ids.length:"all");alert(`Authorization request submitted successfully! ${oe} course(s) included.`)}catch(te){if(console.error("Failed to submit request:",te),(K=te.response)!=null&&K.data){const Q=te.response.data;Q.errors?j(Q.errors):Q.message?j({general:Q.message}):j(Q)}else te.message?j({general:te.message}):j({general:"Failed to submit request. Please try again."})}finally{z(!1)}}},Me=f.useMemo(()=>a,[a]),be=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(G,K)=>t.jsxs("div",{className:"instructors-column-instructor",children:[t.jsx("div",{className:"instructors-column-icon-wrapper",children:t.jsx(gt,{className:"instructors-column-icon"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructors-column-name",children:[K.first_name," ",K.last_name]}),K.id_number&&t.jsxs("div",{className:"instructors-column-id",children:["ID: ",K.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:G=>t.jsxs("div",{className:"instructors-column-email",children:[t.jsx(Lt,{className:"instructors-column-email-icon"}),G]})},{header:"Phone",accessor:"phone",sortable:!0,render:G=>G?t.jsxs("div",{className:"instructors-column-phone",children:[t.jsx(fr,{className:"instructors-column-phone-icon"}),G]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:G=>{const K={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:$e},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Be},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:rt},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:Be}},Q=(K[G]||K.inactive).icon,oe=G==="active"?"instructors-column-status-badge-active":G==="pending"?"instructors-column-status-badge-pending":G==="suspended"?"instructors-column-status-badge-suspended":"instructors-column-status-badge-inactive";return t.jsxs("span",{className:`instructors-column-status-badge ${oe}`,children:[t.jsx(Q,{size:14,className:"instructors-column-status-icon"}),G?G.charAt(0).toUpperCase()+G.slice(1):"N/A"]})}},{header:"Languages",accessor:"specializations",sortable:!1,render:G=>{const K=Array.isArray(G)?G:G?G.split(",").map(te=>te.trim()).filter(te=>te):[];return K.length>0?t.jsxs("div",{className:"instructors-column-languages",children:[K.slice(0,2).map((te,Q)=>t.jsxs("span",{className:"instructors-column-language-badge",children:[t.jsx(ua,{size:12,className:"instructors-column-language-icon"}),te]},Q)),K.length>2&&t.jsxs("span",{className:"instructors-column-language-more",children:["+",K.length-2]})]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})}},{header:"Type",accessor:"is_assessor",sortable:!0,render:G=>G?t.jsx("span",{className:"instructors-column-type-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-column-type-badge-gray",children:"Instructor"})},{header:"Actions",accessor:"actions",sortable:!1,render:(G,K)=>t.jsxs("div",{className:"instructors-column-actions",onClick:te=>te.stopPropagation(),children:[t.jsx("button",{onClick:te=>{te.stopPropagation(),X(K)},className:"instructors-action-button instructors-action-button-edit",title:"Edit",children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:te=>{te.stopPropagation(),Ne(K)},className:"instructors-action-button instructors-action-button-send",title:"Request Authorization",children:t.jsx(Kc,{size:16})}),t.jsx("button",{onClick:te=>{te.stopPropagation(),he(K)},className:"instructors-action-button instructors-action-button-delete",title:"Delete",children:t.jsx(Is,{size:16})})]})}],[]),Ce=a.length,Re=a.filter(G=>G.status==="active").length,ae=a.filter(G=>G.status==="pending").length,le=a.filter(G=>G.status==="suspended").length;return i?t.jsx(Zo,{}):t.jsxs("div",{className:"instructors-container",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total Instructors",value:Ce,icon:gt,colorType:"indigo",isActive:Y==="all",onClick:()=>U("all")}),t.jsx(We,{name:"Active",value:Re,icon:$e,colorType:"green",isActive:Y==="active",onClick:()=>U("active")}),t.jsx(We,{name:"Pending",value:ae,icon:Be,colorType:"yellow",isActive:Y==="pending",onClick:()=>U("pending")}),t.jsx(We,{name:"Suspended",value:le,icon:rt,colorType:"red",isActive:Y==="suspended",onClick:()=>U("suspended")})]}),t.jsx("div",{className:"instructors-table-container",children:t.jsx(ct,{columns:be,data:Me,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:G=>G.status==="active"},{value:"pending",label:"Pending",filterFn:G=>G.status==="pending"},{value:"suspended",label:"Suspended",filterFn:G=>G.status==="suspended"},{value:"inactive",label:"Inactive",filterFn:G=>G.status==="inactive"}],defaultFilter:Y,onRowClick:G=>ue(G)})}),t.jsx(Ie,{isOpen:l,onClose:se,title:y?"Edit Instructor":"Add New Instructor",size:"lg",children:t.jsxs("form",{onSubmit:xe,className:"instructors-form",children:[t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(de,{label:"First Name",name:"first_name",value:F.first_name,onChange:ce,required:!0,error:I.first_name}),t.jsx(de,{label:"Last Name",name:"last_name",value:F.last_name,onChange:ce,required:!0,error:I.last_name})]}),t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(de,{label:"Email",type:"email",name:"email",value:F.email,onChange:ce,required:!0,error:I.email}),t.jsx(de,{label:"Phone",type:"tel",name:"phone",value:F.phone,onChange:ce,error:I.phone})]}),t.jsx(de,{label:"ID Number",name:"id_number",value:F.id_number,onChange:ce,error:I.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"instructors-cv-label",children:"CV / Resume (PDF)"}),V&&!A&&t.jsx("div",{className:"instructors-cv-display-box",children:t.jsxs("div",{className:"instructors-cv-display-flex",children:[t.jsxs("div",{className:"instructors-cv-display-inner",children:[t.jsx("div",{className:"instructors-cv-icon-wrapper",children:t.jsx(Ye,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-text-title",children:"Current CV"}),t.jsx("p",{className:"instructors-cv-text-hint",children:"Click to view your current CV"})]})]}),t.jsxs("a",{href:V.startsWith("http")?V:`${S0}${V}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-link",children:[t.jsx(Ye,{size:14,className:"instructors-cv-link-icon"}),"View CV"]})]})}),t.jsxs("div",{className:"instructors-upload-area",children:[t.jsxs("label",{className:"instructors-upload-label",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:ve,className:"instructors-upload-input",id:"cv-upload-input"}),t.jsx("div",{className:"instructors-upload-div",children:t.jsxs("div",{className:"instructors-upload-inner",children:[t.jsx("div",{className:"instructors-upload-icon-wrapper",children:t.jsx(Ye,{className:"text-primary-600",size:24})}),D?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:D}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to change file"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:V?"Update CV":"Upload CV"}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to select PDF document"})]}),t.jsx("p",{className:"instructors-upload-text-small",children:"PDF only, maximum 10MB"})]})})]}),D&&t.jsxs("div",{className:"instructors-file-selected-box",children:[t.jsx($e,{className:"text-green-600",size:18}),t.jsxs("p",{className:"instructors-file-selected-text",children:[t.jsx("span",{className:"instructors-file-selected-bold",children:"Selected:"})," ",D]})]}),I.cv&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:I.cv})})]})]}),t.jsx(vh,{label:"Languages",value:F.specializations,onChange:me,error:I.specializations}),t.jsxs("div",{className:"instructors-checkbox-container",children:[t.jsx("input",{type:"checkbox",id:"is_assessor",name:"is_assessor",checked:F.is_assessor||!1,onChange:G=>C({...F,is_assessor:G.target.checked}),className:"instructors-checkbox"}),t.jsx("label",{htmlFor:"is_assessor",className:"instructors-checkbox-label",children:"Is Assessor"})]}),t.jsx("p",{className:"instructors-helper-text",children:"Mark this instructor as an assessor"}),I.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text-bold",children:I.general})}),Object.keys(I).filter(G=>G!=="general"&&G!=="specializations").map(G=>I[G]&&t.jsxs("p",{className:"instructors-error-text",children:[G,": ",I[G]]},G)),t.jsxs("div",{className:"instructors-form-actions",children:[t.jsx("button",{type:"button",onClick:se,className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:B,className:"instructors-button-submit",children:B?"Saving...":y?"Update Instructor":"Add Instructor"})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),S(null)},title:"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"instructors-detail-container",children:[t.jsxs("div",{className:"instructors-detail-grid",children:[t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"First Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.first_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.last_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Lt,{size:16,className:"instructors-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"instructors-detail-value",children:y.email||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(fr,{size:16,className:"instructors-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"instructors-detail-value",children:y.phone||"N/A"})]}),y.id_number&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"ID Number"}),t.jsx("p",{className:"instructors-detail-value",children:y.id_number})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Type"}),y.is_assessor?t.jsx("span",{className:"instructors-detail-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-detail-badge-gray",children:"Instructor"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Status"}),t.jsx("span",{className:`instructors-detail-status ${y.status==="active"?"instructors-detail-status-active":y.status==="pending"?"instructors-detail-status-pending":y.status==="suspended"?"instructors-detail-status-suspended":"instructors-detail-status-inactive"}`,children:y.status})]})]}),y.specializations&&y.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Specializations"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(y.specializations)?y.specializations.map((G,K)=>t.jsx("span",{className:"instructors-specialization-badge",children:G},K)):t.jsx("span",{className:"instructors-specialization-badge",children:y.specializations})})]}),y.cv_url&&t.jsx("div",{className:"instructors-cv-box",children:t.jsxs("div",{className:"instructors-cv-box-flex",children:[t.jsxs("div",{className:"instructors-cv-box-inner",children:[t.jsx("div",{className:"instructors-cv-box-icon-wrapper",children:t.jsx(Ye,{className:"text-white",size:28})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-box-text-title",children:"Curriculum Vitae"}),t.jsx("p",{className:"instructors-cv-box-text-hint",children:"Click the button to view the instructor's CV"})]})]}),t.jsxs("a",{href:y.cv_url.startsWith("http")?y.cv_url:`${S0}${y.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-box-link",children:[t.jsx(Ye,{size:18,className:"instructors-cv-box-link-icon"}),"View CV"]})]})})]})}),t.jsx(ha,{isOpen:h,onClose:()=>{d(!1),S(null)},onConfirm:J,title:"Delete Instructor",message:`Are you sure you want to delete "${y==null?void 0:y.first_name} ${y==null?void 0:y.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:u,onClose:()=>{g(!1),R({acc_id:"",course_ids:[]}),j({}),w([])},title:`Request Authorization for ${y?`${y.first_name} ${y.last_name}`:"Instructor"}`,size:"lg",children:t.jsxs("form",{onSubmit:fe,className:"instructors-request-form",children:[$.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:$.general})}),t.jsx(de,{label:"ACC",name:"acc_id",type:"select",value:v.acc_id,onChange:G=>ke(G.target.value),required:!0,options:x.length>0?x.map(G=>({value:G.id,label:G.name||`ACC ${G.id}`})):[{value:"",label:"No approved ACCs available"}],error:$.acc_id,disabled:x.length===0}),x.length===0&&t.jsx("p",{className:"instructors-request-warning",children:"No approved ACCs found. Please request and get approval from an ACC first."}),v.acc_id&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Selection Type ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),t.jsxs("div",{className:"instructors-request-radio-group",children:[t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"sub_category",checked:b==="sub_category",onChange:G=>ee(G.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Sub-Category (All Courses)"})]}),t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"courses",checked:b==="courses",onChange:G=>ee(G.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Specific Courses"})]})]})]}),v.acc_id&&b==="sub_category"&&t.jsxs("div",{children:[t.jsx(de,{label:"Sub-Category",name:"sub_category_id",type:"select",value:v.sub_category_id,onChange:G=>R({...v,sub_category_id:G.target.value,course_ids:[]}),required:!0,options:T.length>0?T.map(G=>({value:G.id,label:`${G.name} (${G.courses_count||0} courses)`})):[{value:"",label:"No sub-categories available"}],error:$.sub_category_id,disabled:T.length===0}),T.length===0&&v.acc_id&&t.jsx("p",{className:"instructors-request-warning",children:"No sub-categories found for the selected ACC"})]}),v.acc_id&&b==="courses"&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Courses ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),_.length===0?t.jsx("p",{className:"instructors-request-warning",children:"No courses available for the selected ACC"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"instructors-courses-container",children:_.map(G=>{var K;return t.jsxs("label",{className:"instructors-course-item",children:[t.jsx("input",{type:"checkbox",checked:((K=v.course_ids)==null?void 0:K.includes(G.id))||!1,onChange:()=>re(G.id),className:"instructors-course-checkbox"}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:"instructors-course-name",children:G.name||G.code||`Course ${G.id}`}),G.sub_category&&t.jsxs("span",{className:"instructors-course-subcategory",children:["(",G.sub_category.name||G.sub_category,")"]})]})]},G.id||G.name)})}),v.course_ids.length>0&&t.jsxs("p",{className:"instructors-course-selected",children:["Selected: ",t.jsx("span",{className:"instructors-course-selected-bold",children:v.course_ids.length})," course(s)"]})]}),$.course_ids&&t.jsx("p",{className:"instructors-error-text",children:$.course_ids})]}),t.jsxs("div",{className:"instructors-request-actions",children:[t.jsx("button",{type:"button",onClick:()=>{g(!1),R({acc_id:"",sub_category_id:"",course_ids:[]}),E("sub_category"),j({}),w([]),k([])},className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P,className:"instructors-button-submit",children:P?"Submitting...":"Submit Request"})]})]})})]})},CT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState([]),[x,N]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),[_,w]=f.useState(null),[T,k]=f.useState(null),[b,E]=f.useState({}),[v,R]=f.useState(!1),[$,j]=f.useState(null),[P,z]=f.useState(""),[F,C]=f.useState("all"),[A,M]=f.useState({key:null,direction:"asc"});f.useEffect(()=>{D(),O()},[]),f.useEffect(()=>(s("Trainees"),r("Manage your trainees"),e(t.jsxs("button",{onClick:()=>V(),className:"trainees-header-button",children:[t.jsx(Os,{size:20,className:"trainees-header-button-icon"}),"Add Trainee"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const D=async()=>{o(!0);try{const J={per_page:1e3,...P&&{search:P}},ue=await He.listTrainees(J);ue!=null&&ue.trainees?n(ue.trainees):Array.isArray(ue)?n(ue):n([])}catch(J){console.error("Failed to load trainees:",J),n([])}finally{o(!1)}},O=async()=>{try{const J=await He.listClasses(),ue=(J==null?void 0:J.classes)||(J==null?void 0:J.data)||[];S(ue)}catch(J){console.error("Failed to load training classes:",J),S([])}};f.useEffect(()=>{D()},[P]);const V=(J=null)=>{var ue;J?(g(J),N({first_name:J.first_name||"",last_name:J.last_name||"",email:J.email||"",phone:J.phone||"",id_number:J.id_number||"",id_image:null,card_image:null,enrolled_classes:((ue=J.training_classes)==null?void 0:ue.map(Ne=>Ne.id))||[],status:J.status||"active"}),w(J.id_image_url||null),k(J.card_image_url||null)):(g(null),N({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),w(null),k(null)),E({}),c(!0)},q=()=>{c(!1),g(null),N({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),w(null),k(null),E({})},I=J=>{const{name:ue,value:Ne}=J.target;N({...x,[ue]:Ne}),E({})},W=(J,ue=1920,Ne=1920,Pe=.8)=>new Promise(ke=>{if(J.type==="application/pdf"){ke(J);return}const ee=new FileReader;ee.onload=re=>{const fe=new Image;fe.onload=()=>{let Me=fe.width,be=fe.height;(Me>ue||be>Ne)&&(Me>be?(be=be*ue/Me,Me=ue):(Me=Me*Ne/be,be=Ne));const Ce=document.createElement("canvas");Ce.width=Me,Ce.height=be,Ce.getContext("2d").drawImage(fe,0,0,Me,be),Ce.toBlob(ae=>{if(ae){const le=new File([ae],J.name,{type:J.type,lastModified:Date.now()});ke(le)}else ke(J)},J.type,Pe)},fe.onerror=()=>ke(J),fe.src=re.target.result},ee.onerror=()=>ke(J),ee.readAsDataURL(J)}),B=async(J,ue)=>{const Ne=J.target.files[0];if(Ne){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Ne.type)){E({[ue]:"File must be jpeg, jpg, png, or pdf"});return}if(Ne.size>10*1024*1024){E({[ue]:"File size must be less than 10MB"});return}j(ue);try{let ke=Ne;if(Ne.type.startsWith("image/")&&(ke=await W(Ne),console.log(`Image resized: ${Ne.size} bytes -> ${ke.size} bytes`)),N({...x,[ue]:ke}),ue==="id_image"&&ke.type.startsWith("image/")){const ee=new FileReader;ee.onloadend=()=>{w(ee.result)},ee.readAsDataURL(ke)}else if(ue==="card_image"&&ke.type.startsWith("image/")){const ee=new FileReader;ee.onloadend=()=>{k(ee.result)},ee.readAsDataURL(ke)}E({})}catch(ke){console.error("Error processing image:",ke),E({[ue]:"Failed to process image. Please try again."})}finally{j(null)}}},H=J=>{N(ue=>{const Ne=ue.enrolled_classes||[];return Ne.includes(J)?{...ue,enrolled_classes:Ne.filter(Pe=>Pe!==J)}:{...ue,enrolled_classes:[...Ne,J]}})},Y=J=>{J==="id_image"?(N(ue=>({...ue,id_image:null})),w(null)):J==="card_image"&&(N(ue=>({...ue,card_image:null})),k(null)),E({})},U=async J=>{var ue,Ne,Pe,ke,ee,re,fe,Me,be;J.preventDefault(),R(!0),E({});try{const Ce=new FormData;if(u){const Re=(ue=x.first_name)==null?void 0:ue.trim(),ae=(Ne=x.last_name)==null?void 0:Ne.trim(),le=(Pe=x.email)==null?void 0:Pe.trim(),G=(ke=x.phone)==null?void 0:ke.trim(),K=(ee=x.id_number)==null?void 0:ee.trim();Re&&Ce.append("first_name",Re),ae&&Ce.append("last_name",ae),le&&Ce.append("email",le),G&&Ce.append("phone",G),K&&Ce.append("id_number",K),x.status&&Ce.append("status",x.status),x.id_image instanceof File&&Ce.append("id_image",x.id_image),x.card_image instanceof File&&Ce.append("card_image",x.card_image),x.enrolled_classes&&x.enrolled_classes.length>0&&x.enrolled_classes.forEach(te=>{Ce.append("enrolled_classes[]",te)}),await He.updateTrainee(u.id,Ce)}else Ce.append("first_name",x.first_name.trim()),Ce.append("last_name",x.last_name.trim()),Ce.append("email",x.email.trim()),Ce.append("phone",x.phone.trim()),Ce.append("id_number",x.id_number.trim()),Ce.append("status",x.status),x.id_image instanceof File&&Ce.append("id_image",x.id_image),x.card_image instanceof File&&Ce.append("card_image",x.card_image),x.enrolled_classes.forEach(Re=>{Ce.append("enrolled_classes[]",Re)}),await He.createTrainee(Ce);await D(),q()}catch(Ce){console.error("Error submitting trainee:",Ce),(fe=(re=Ce.response)==null?void 0:re.data)!=null&&fe.errors?E(Ce.response.data.errors):(be=(Me=Ce.response)==null?void 0:Me.data)!=null&&be.message?E({general:Ce.response.data.message}):E({general:Ce.message||"Failed to save trainee"})}finally{R(!1)}},L=J=>{g(J),d(!0)},X=async()=>{try{await He.deleteTrainee(u.id),await D()}catch(J){alert("Failed to delete trainee: "+(J.message||"Unknown error"))}d(!1),g(null)},se=async J=>{try{const ue=await He.getTraineeDetails(J.id);g(ue.trainee),m(!0)}catch(ue){console.error("Failed to load trainee details:",ue),g(J),m(!0)}},ce=a.length,ve=a.filter(J=>J.status==="active").length,me=a.filter(J=>J.status==="inactive").length,xe=a.filter(J=>J.status==="suspended").length,he=f.useMemo(()=>[{header:"Trainee",accessor:"name",sortable:!0,render:(J,ue)=>t.jsxs("div",{className:"trainees-column-trainee",children:[t.jsx("div",{className:"trainees-column-icon-wrapper",children:t.jsx(vo,{className:"trainees-column-icon"})}),t.jsx("div",{children:t.jsxs("div",{className:"trainees-column-name",children:[ue.first_name," ",ue.last_name]})})]})},{header:"Email",accessor:"email",sortable:!0,render:J=>t.jsxs("div",{className:"trainees-column-email",children:[t.jsx(Lt,{className:"trainees-column-email-icon"}),J]})},{header:"Phone",accessor:"phone",sortable:!0,render:J=>J?t.jsxs("div",{className:"trainees-column-phone",children:[t.jsx(fr,{className:"trainees-column-phone-icon"}),J]}):t.jsx("span",{className:"trainees-column-na",children:"N/A"})},{header:"ID Number",accessor:"id_number",sortable:!0,render:J=>t.jsx("span",{className:"trainees-column-id-number",children:J||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:J=>{const ue={active:{icon:$e,class:"trainees-column-status-badge-active"},inactive:{icon:Be,class:"trainees-column-status-badge-inactive"},suspended:{icon:rt,class:"trainees-column-status-badge-suspended"}},Ne=ue[J]||ue.inactive,Pe=Ne.icon;return t.jsxs("span",{className:`trainees-column-status-badge ${Ne.class}`,children:[t.jsx(Pe,{size:14,className:"trainees-column-status-icon"}),J?J.charAt(0).toUpperCase()+J.slice(1):"N/A"]})}},{header:"Classes",accessor:"training_classes",sortable:!1,render:J=>J&&J.length>0?t.jsxs("div",{className:"trainees-column-classes",children:[t.jsx(Jt,{size:16,className:"trainees-column-classes-icon"}),t.jsx("span",{className:"trainees-column-classes-count",children:J.length})]}):t.jsx("span",{className:"trainees-column-na",children:"0"})},{header:"Actions",accessor:"actions",sortable:!1,render:(J,ue)=>t.jsxs("div",{className:"trainees-column-actions",onClick:Ne=>Ne.stopPropagation(),children:[t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),V(ue)},className:"trainees-action-button trainees-action-button-edit",title:"Edit",children:t.jsx(ws,{size:16})}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),L(ue)},className:"trainees-action-button trainees-action-button-delete",title:"Delete",children:t.jsx(Is,{size:16})})]})}],[]);return i&&a.length===0?t.jsx(Zo,{}):t.jsxs("div",{className:"trainees-container",children:[t.jsxs(ks,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(We,{name:"Total Trainees",value:ce,icon:vo,colorType:"indigo",isActive:F==="all",onClick:()=>C("all")}),t.jsx(We,{name:"Active",value:ve,icon:$e,colorType:"green",isActive:F==="active",onClick:()=>C("active")}),t.jsx(We,{name:"Inactive",value:me,icon:Be,colorType:"gray",isActive:F==="inactive",onClick:()=>C("inactive")}),t.jsx(We,{name:"Suspended",value:xe,icon:rt,colorType:"red",isActive:F==="suspended",onClick:()=>C("suspended")})]}),t.jsx("div",{className:"trainees-table-container",children:t.jsx(ct,{columns:he,data:a,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name, email, phone, or ID number...",emptyMessage:"No trainees found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:J=>J.status==="active"},{value:"inactive",label:"Inactive",filterFn:J=>J.status==="inactive"},{value:"suspended",label:"Suspended",filterFn:J=>J.status==="suspended"}],defaultFilter:F,onRowClick:J=>se(J)})}),t.jsxs(Ie,{isOpen:l,onClose:q,title:u?"Edit Trainee":"Add New Trainee",size:"lg",children:[v&&t.jsx("div",{className:"trainees-form-loading-overlay",children:t.jsxs("div",{className:"trainees-form-loading-spinner",children:[t.jsx("div",{className:"trainees-form-spinner"}),t.jsx("p",{className:"trainees-form-loading-text",children:"Saving trainee..."})]})}),t.jsxs("form",{onSubmit:U,className:`trainees-form ${v?"trainees-form-saving":""}`,children:[t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(de,{label:"First Name",name:"first_name",value:x.first_name,onChange:I,required:!0,error:b.first_name,disabled:v}),t.jsx(de,{label:"Last Name",name:"last_name",value:x.last_name,onChange:I,required:!0,error:b.last_name,disabled:v})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(de,{label:"Email",type:"email",name:"email",value:x.email,onChange:I,required:!0,error:b.email,disabled:v}),t.jsx(de,{label:"Phone",type:"tel",name:"phone",value:x.phone,onChange:I,required:!0,error:b.phone,disabled:v})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(de,{label:"ID Number",name:"id_number",value:x.id_number,onChange:I,required:!0,error:b.id_number,disabled:v}),t.jsx(de,{label:"Status",name:"status",type:"select",value:x.status,onChange:I,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}],error:b.status,disabled:v})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["ID Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="id_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):_?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:_,alt:"ID Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:J=>B(J,"id_image"),className:"trainees-image-upload-input",disabled:v||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Ys,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>Y("id_image"),className:"trainees-image-remove-button",disabled:v,children:[t.jsx(_s,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.id_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(ix,{size:14}),x.id_image.name," (",Math.round(x.id_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:J=>B(J,"id_image"),className:"trainees-image-upload-input",disabled:v||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Ys,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload ID Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.id_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(rt,{size:16}),Array.isArray(b.id_image)?b.id_image[0]:b.id_image]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["Card Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="card_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):T?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:T,alt:"Card Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:J=>B(J,"card_image"),className:"trainees-image-upload-input",disabled:v||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Ys,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>Y("card_image"),className:"trainees-image-remove-button",disabled:v,children:[t.jsx(_s,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.card_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(ix,{size:14}),x.card_image.name," (",Math.round(x.card_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:J=>B(J,"card_image"),className:"trainees-image-upload-input",disabled:v||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Ys,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload Card Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.card_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(rt,{size:16}),Array.isArray(b.card_image)?b.card_image[0]:b.card_image]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"trainees-classes-label",children:"Enrolled Classes"}),y.length===0?t.jsx("p",{className:"trainees-classes-empty",children:"No training classes available"}):t.jsx("div",{className:"trainees-classes-container",children:y.map(J=>{var ue,Ne;return t.jsxs("label",{className:"trainees-class-item",children:[t.jsx("input",{type:"checkbox",checked:((ue=x.enrolled_classes)==null?void 0:ue.includes(J.id))||!1,onChange:()=>H(J.id),className:"trainees-class-checkbox",disabled:v}),t.jsxs("div",{className:"trainees-class-info",children:[t.jsx("span",{className:"trainees-class-name",children:((Ne=J.course)==null?void 0:Ne.name)||J.name||`Class ${J.id}`}),J.start_date&&J.end_date&&t.jsxs("div",{className:"trainees-class-date",children:[t.jsx(tt,{size:12}),new Date(J.start_date).toLocaleDateString()," - ",new Date(J.end_date).toLocaleDateString()]})]})]},J.id)})}),b.enrolled_classes&&t.jsx("p",{className:"trainees-classes-error",children:Array.isArray(b.enrolled_classes)?b.enrolled_classes[0]:b.enrolled_classes})]}),b.general&&t.jsx("div",{className:"trainees-error-box",children:t.jsx("p",{className:"trainees-error-text-bold",children:b.general})}),Object.keys(b).filter(J=>J!=="general"&&J!=="id_image"&&J!=="card_image"&&J!=="enrolled_classes").map(J=>b[J]&&t.jsxs("p",{className:"trainees-error-text",children:[J,": ",Array.isArray(b[J])?b[J][0]:b[J]]},J)),t.jsxs("div",{className:"trainees-form-actions",children:[t.jsx("button",{type:"button",onClick:q,className:"trainees-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v,className:"trainees-button-submit",children:v?"Saving...":u?"Update Trainee":"Add Trainee"})]})]})]}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),g(null)},title:"Trainee Details",size:"lg",children:u&&t.jsxs("div",{className:"trainees-detail-container",children:[t.jsxs("div",{className:"trainees-detail-grid",children:[t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"First Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.first_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Last Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.last_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Lt,{size:16,className:"trainees-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"trainees-detail-value",children:u.email||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(fr,{size:16,className:"trainees-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"trainees-detail-value",children:u.phone||"N/A"})]}),u.id_number&&t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"ID Number"}),t.jsx("p",{className:"trainees-detail-value",children:u.id_number})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Status"}),t.jsx("span",{className:`trainees-detail-status ${u.status==="active"?"trainees-detail-status-active":u.status==="inactive"?"trainees-detail-status-inactive":"trainees-detail-status-suspended"}`,children:u.status})]})]}),t.jsxs("div",{className:"trainees-detail-images-grid",children:[u.id_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"ID Image"}),t.jsx("a",{href:u.id_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.id_image_url,alt:"ID",className:"trainees-detail-image"})})]}),u.card_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"Card Image"}),t.jsx("a",{href:u.card_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.card_image_url,alt:"Card",className:"trainees-detail-image"})})]})]}),u.training_classes&&u.training_classes.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"trainees-classes-title",children:"Enrolled Classes"}),t.jsx("div",{className:"trainees-classes-list",children:u.training_classes.map((J,ue)=>{var Ne,Pe;return t.jsx("div",{className:"trainees-class-detail-item",children:t.jsxs("div",{className:"trainees-class-detail-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"trainees-class-detail-name",children:((Ne=J.course)==null?void 0:Ne.name)||J.name||`Class ${J.id}`}),J.start_date&&J.end_date&&t.jsxs("p",{className:"trainees-class-detail-date",children:[t.jsx(tt,{size:12}),new Date(J.start_date).toLocaleDateString()," - ",new Date(J.end_date).toLocaleDateString()]}),J.instructor&&t.jsxs("p",{className:"trainees-class-detail-instructor",children:["Instructor: ",J.instructor.first_name," ",J.instructor.last_name]})]}),((Pe=J.pivot)==null?void 0:Pe.status)&&t.jsx("span",{className:`trainees-class-detail-status ${J.pivot.status==="enrolled"?"trainees-class-detail-status-enrolled":J.pivot.status==="completed"?"trainees-class-detail-status-completed":J.pivot.status==="dropped"?"trainees-class-detail-status-dropped":"trainees-class-detail-status-other"}`,children:J.pivot.status})]})},ue)})})]})]})}),t.jsx(ha,{isOpen:h,onClose:()=>{d(!1),g(null)},onConfirm:X,title:"Delete Trainee",message:`Are you sure you want to delete "${u==null?void 0:u.first_name} ${u==null?void 0:u.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},wT=()=>{var ue,Ne,Pe,ke,ee,re,fe,Me,be,Ce,Re,ae,le,G;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState(!1),[p,m]=f.useState(!0),[u,g]=f.useState(null),[y,S]=f.useState([]),[x,N]=f.useState(!1),[_,w]=f.useState(!1),[T,k]=f.useState(!1),[b,E]=f.useState(!1),[v,R]=f.useState(null),[$,j]=f.useState(null),[P,z]=f.useState({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),[F,C]=f.useState({}),[A,M]=f.useState(!1),[D,O]=f.useState("all");f.useEffect(()=>{V()},[]),f.useEffect(()=>{x&&(I(),S(i),g(null))},[x,i]),f.useEffect(()=>{P.course_id&&x&&l.length>0?q(P.course_id):P.course_id||(g(null),S(i))},[P.course_id,x,l,i]),f.useEffect(()=>(s("Classes"),r("Manage your training classes"),e(t.jsxs("button",{onClick:()=>W(),className:"header-create-btn",children:[t.jsx(Os,{size:20,className:"header-create-btn-icon"}),"Create Class"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const V=async()=>{m(!0);try{const[K,te]=await Promise.all([He.listClasses({per_page:1e3}),He.listInstructors()]);let Q=[];K!=null&&K.data?Q=Array.isArray(K.data)?K.data:[]:K!=null&&K.classes?Q=Array.isArray(K.classes)?K.classes:[]:Array.isArray(K)&&(Q=K),n(Q),o((te==null?void 0:te.instructors)||(te==null?void 0:te.data)||[])}catch(K){console.error("Failed to load data:",K),n([]),o([])}finally{m(!1)}},q=async K=>{try{const te=l.find(Q=>Q.id===parseInt(K));if(te)if(g(te),te.assessor_required){const Q=i.filter(oe=>oe.is_assessor===!0);if(S(Q),P.instructor_id){const oe=i.find(ge=>ge.id===parseInt(P.instructor_id));oe&&!oe.is_assessor&&z(ge=>({...ge,instructor_id:""}))}}else S(i);else try{const Q=localStorage.getItem("auth_token")||localStorage.getItem("token"),ge=await lt.get(`https://aeroenix.com/v1/api/acc/courses/${K}`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ie=ge.data.course||ge.data;if(g(ie),ie.assessor_required){const Se=i.filter(Te=>Te.is_assessor===!0);if(S(Se),P.instructor_id){const Te=i.find(we=>we.id===parseInt(P.instructor_id));Te&&!Te.is_assessor&&z(we=>({...we,instructor_id:""}))}}else S(i)}catch(Q){console.error("Failed to load course details:",Q),g(null),S(i)}}catch(te){console.error("Error loading course details:",te),g(null),S(i)}},I=async()=>{var K;try{const te=await He.getAuthorizationStatus();console.log("Authorization data:",te);const Q=te.authorizations||te.data||[];console.log("All authorizations:",Q);const oe=Q.filter(Te=>{var Z;const we=(Z=Te.status)==null?void 0:Z.toLowerCase();return we==="approved"||we==="active"||we==="accepted"||Te.status&&Te.status!=="pending"&&Te.status!=="rejected"&&Te.status!=="cancelled"});if(console.log("Approved authorizations:",oe),oe.length===0){console.log("No approved authorizations found. All authorizations:",Q),d(!1),c([]);return}d(!0);const ge=oe.map(async Te=>{var we,Z,pe;try{const _e=Te.acc_id||((we=Te.acc)==null?void 0:we.id)||Te.id,Ae=((Z=Te.acc)==null?void 0:Z.name)||Te.acc_name||Te.name||"Unknown ACC";if(console.log("Processing authorization for ACC:",{accId:_e,accName:Ae,auth:Te}),!_e)return console.warn("No ACC ID found in authorization:",Te),[];const Ee=localStorage.getItem("auth_token")||localStorage.getItem("token"),Ue="https://aeroenix.com/v1/api",et=[`${Ue}/training-center/accs/${_e}/courses`,`${Ue}/acc/${_e}/courses`,`${Ue}/training-center/courses?acc_id=${_e}`];for(const pt of et)try{console.log(`Trying endpoint: ${pt}`);const ot=(await lt.get(pt,{headers:{Authorization:`Bearer ${Ee}`,Accept:"application/json"}})).data,bt=ot.courses||ot.data||ot||[];if(bt.length>0)return console.log(`Successfully loaded ${bt.length} courses from ACC ${_e} using ${pt}`),bt.map(Rt=>({...Rt,acc_id:_e,acc_name:Ae}))}catch(Tt){console.log(`Endpoint ${pt} failed:`,(pe=Tt.response)==null?void 0:pe.status,Tt.message)}return console.warn(`All endpoints failed for ACC ${_e}`),[]}catch(_e){console.error("Failed to load courses from authorization:",_e,Te)}return[]}),Se=(await Promise.all(ge)).flat();c(Se),console.log(`Loaded ${Se.length} courses from ${oe.length} authorized ACC(s)`),Se.length===0&&oe.length>0&&console.warn("No courses found despite having approved authorizations. Check endpoint availability.")}catch(te){console.error("Failed to load courses:",te),console.error("Error details:",((K=te.response)==null?void 0:K.data)||te.message),c([])}},W=(K=null)=>{K?(R(K),z({course_id:K.course_id||"",class_id:K.class_id||"",instructor_id:K.instructor_id||"",start_date:K.start_date?K.start_date.split("T")[0]:"",end_date:K.end_date?K.end_date.split("T")[0]:"",exam_date:K.exam_date?K.exam_date.split("T")[0]:"",exam_score:K.exam_score||"",location:K.location||"physical"})):(R(null),z({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"})),g(null),S(i),C({}),N(!0)},B=()=>{N(!1),R(null),z({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),C({})},H=K=>{z({...P,[K.target.name]:K.target.value}),C({})},Y=async K=>{var te,Q,oe,ge,ie,Se,Te;K.preventDefault(),M(!0),C({});try{if(!P.course_id){C({course_id:"Course is required"}),M(!1);return}if(!P.class_id){C({class_id:"Class ID is required"}),M(!1);return}if(!P.instructor_id){C({instructor_id:"Instructor is required"}),M(!1);return}if(!P.start_date){C({start_date:"Start date is required"}),M(!1);return}if(!P.end_date){C({end_date:"End date is required"}),M(!1);return}const we={course_id:parseInt(P.course_id),class_id:parseInt(P.class_id),instructor_id:parseInt(P.instructor_id),start_date:P.start_date,end_date:P.end_date,exam_date:P.exam_date||null,exam_score:P.exam_score?parseFloat(P.exam_score):null,location:P.location};console.log("Submitting class data:",we),v?await He.updateClass(v.id,we):await He.createClass(we),await V(),B()}catch(we){console.error("Error creating/updating class:",we),console.error("Error response:",(te=we.response)==null?void 0:te.data),(oe=(Q=we.response)==null?void 0:Q.data)!=null&&oe.errors?C(we.response.data.errors):(ie=(ge=we.response)==null?void 0:ge.data)!=null&&ie.message?C({general:we.response.data.message}):(Te=(Se=we.response)==null?void 0:Se.data)!=null&&Te.error?C({general:we.response.data.error}):we.errors?C(we.errors):C({general:we.message||"Failed to save class. Please check all required fields."})}finally{M(!1)}},U=K=>{R(K),w(!0)},L=async()=>{try{await He.deleteClass(v.id),await V()}catch(K){alert("Failed to delete class: "+(K.message||"Unknown error"))}w(!1),R(null)},X=async K=>{try{const te=await He.getClassDetails(K.id),Q=te.class||te.data||te;Q&&!Q.trainees&&te.trainees&&(Q.trainees=te.trainees),Q&&!Q.trainees&&K.trainees&&(Q.trainees=K.trainees),R(Q),k(!0)}catch(te){console.error("Failed to load class details:",te),R(K),k(!0)}},se=async K=>{if(window.confirm("Mark this class as complete?"))try{await He.markClassComplete(K.id),await V()}catch(te){alert("Failed to mark class as complete: "+(te.message||"Unknown error"))}},ce=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(K,te)=>{var oe;const Q=typeof te.course=="string"?te.course:((oe=te.course)==null?void 0:oe.name)||"N/A";return t.jsxs("div",{className:"course-container",children:[t.jsx("div",{className:"course-icon-container",children:t.jsx(hs,{className:"course-icon"})}),t.jsxs("div",{children:[t.jsx("div",{className:"course-name",children:Q}),te.class_id&&t.jsxs("div",{className:"course-id",children:["ID: ",te.class_id]})]})]})}},{header:"Instructor",accessor:"instructor",sortable:!0,render:(K,te)=>{var oe,ge;const Q=typeof te.instructor=="string"?te.instructor:(oe=te.instructor)!=null&&oe.first_name&&((ge=te.instructor)!=null&&ge.last_name)?`${te.instructor.first_name} ${te.instructor.last_name}`:"N/A";return t.jsxs("div",{className:"instructor-container",children:[t.jsx(gt,{className:"instructor-icon"}),Q]})}},{header:"Start Date",accessor:"start_date",sortable:!0,render:(K,te)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),te.start_date?new Date(te.start_date).toLocaleDateString():"N/A"]})},{header:"End Date",accessor:"end_date",sortable:!0,render:(K,te)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),te.end_date?new Date(te.end_date).toLocaleDateString():"N/A"]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:K=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon",style:{color:"#9333ea"}}),K?new Date(K).toLocaleDateString():"Not set"]})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:K=>t.jsx("div",{className:"text-sm",children:K!=null?t.jsxs("span",{className:"font-semibold text-indigo-600",children:[parseFloat(K).toFixed(2),"%"]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Status",accessor:"status",sortable:!0,render:(K,te)=>{const ge=({scheduled:{bg:"from-blue-100 to-blue-200",text:"text-blue-800",border:"border-blue-300",icon:Be},completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:$e},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:rt}}[te.status]||{icon:Be}).icon,ie=te.status==="scheduled"?"scheduled":te.status==="completed"?"completed":te.status==="cancelled"?"cancelled":"default";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${ie}`,children:[t.jsx(ge,{size:14,className:"status-icon"}),te.status?te.status.charAt(0).toUpperCase()+te.status.slice(1):"N/A"]})})}},{header:"Enrollment",accessor:"enrollment",sortable:!1,render:(K,te)=>{var ge;const Q=te.trainees&&Array.isArray(te.trainees)&&te.trainees.length>0,oe=ie=>{ie.stopPropagation(),ie.preventDefault(),ie.nativeEvent.stopImmediatePropagation(),Q&&(j(te),E(!0))};return t.jsxs("div",{className:`enrollment-container ${Q?"enrollment-clickable":""}`,onClick:oe,onMouseDown:ie=>{ie.stopPropagation(),ie.nativeEvent.stopImmediatePropagation()},onMouseUp:ie=>{ie.stopPropagation(),ie.nativeEvent.stopImmediatePropagation()},role:Q?"button":void 0,tabIndex:Q?0:void 0,onKeyDown:ie=>{Q&&(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),ie.stopPropagation(),oe(ie))},children:[te.enrolled_count||0," / ",((ge=te.course)==null?void 0:ge.max_capacity)||"N/A"]})}}],[]),ve=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:K=>K.status==="scheduled"},{value:"completed",label:"Completed",filterFn:K=>K.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:K=>K.status==="cancelled"}],[]),me=f.useMemo(()=>a.map(K=>{var ge,ie,Se;const te=typeof K.course=="string"?K.course:((ge=K.course)==null?void 0:ge.name)||"",Q=typeof K.instructor=="string"?K.instructor:(ie=K.instructor)!=null&&ie.first_name&&((Se=K.instructor)!=null&&Se.last_name)?`${K.instructor.first_name} ${K.instructor.last_name}`:"",oe=[te,Q,K.class_id||"",K.status||"",K.location||""].filter(Boolean).join(" ").toLowerCase();return{...K,_searchText:oe}}),[a]),xe=a.length,he=a.filter(K=>K.status==="scheduled").length,J=a.filter(K=>K.status==="completed").length;return a.filter(K=>K.status==="cancelled").length,p?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})}):t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"stats-cards-grid",children:[t.jsx(We,{name:"Total Classes",value:xe,icon:hs,colorType:"indigo",isActive:D==="all",onClick:()=>O("all")}),t.jsx(We,{name:"Scheduled",value:he,icon:tt,colorType:"blue",isActive:D==="scheduled",onClick:()=>O("scheduled")}),t.jsx(We,{name:"Completed",value:J,icon:$e,colorType:"green",isActive:D==="completed",onClick:()=>O("completed")})]}),t.jsx("div",{className:"datatable-container",children:t.jsx(ct,{columns:ce,data:me,onEdit:W,onDelete:U,onView:X,onRowClick:X,isLoading:p,emptyMessage:a.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(hs,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Create your first class to get started!"})]}):"No classes found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by course or instructor...",filterOptions:ve,sortable:!0,defaultFilter:D})}),t.jsx(Ie,{isOpen:x,onClose:B,title:v?"Edit Class":"Create New Class",size:"lg",children:t.jsxs("form",{onSubmit:Y,className:"modal-form",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Course ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"course_id",value:P.course_id,onChange:H,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select a course..."}),l.map(K=>{var ge;const te=K.name||K.code||`Course ${K.id}`,Q=K.acc_name||((ge=K.acc)==null?void 0:ge.name)||"",oe=Q?`${te} - ${Q}`:te;return t.jsx("option",{value:K.id,children:oe},K.id)})]}),F.course_id&&t.jsx("p",{className:"form-error",children:F.course_id}),l.length===0&&!p&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No courses available"}),t.jsx("p",{className:"form-warning-text",children:h?"No courses found from your authorized ACCs. Please check if the ACCs have published courses.":"Please ensure you have authorization from at least one ACC. Courses from authorized ACCs will appear here."})]})]}),t.jsx(de,{label:"Class ID",name:"class_id",type:"number",value:P.class_id,onChange:H,required:!0,placeholder:"Enter class ID",error:F.class_id}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Instructor ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"instructor_id",value:P.instructor_id,onChange:H,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select an instructor..."}),y.length>0?y.map(K=>t.jsxs("option",{value:K.id,children:[K.first_name," ",K.last_name,K.is_assessor&&" (Assessor)"]},K.id)):t.jsx("option",{value:"",disabled:!0,children:"No instructors available"})]}),F.instructor_id&&t.jsx("p",{className:"form-error",children:F.instructor_id}),(u==null?void 0:u.assessor_required)&&y.length===0&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:" This course requires an assessor, but no assessors are available."}),t.jsx("p",{className:"form-warning-text",children:"Please mark at least one instructor as an assessor before creating this class."})]}),(u==null?void 0:u.assessor_required)&&y.length>0&&t.jsx("p",{className:"form-info",children:" This course requires an assessor. Only assessors are shown."})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(de,{label:"Start Date",name:"start_date",type:"date",value:P.start_date,onChange:H,required:!0,error:F.start_date}),t.jsx(de,{label:"End Date",name:"end_date",type:"date",value:P.end_date,onChange:H,required:!0,error:F.end_date})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(de,{label:"Exam Date (Optional)",name:"exam_date",type:"date",value:P.exam_date,onChange:H,error:F.exam_date,helpText:"Date when the exam is scheduled (must be after or equal to start date)"}),t.jsx(de,{label:"Exam Score (Optional)",name:"exam_score",type:"number",value:P.exam_score,onChange:H,error:F.exam_score,helpText:"Exam score (0-100)",min:"0",max:"100",step:"0.01"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Location ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"location",value:P.location,onChange:H,required:!0,className:"form-select",children:[t.jsx("option",{value:"physical",children:"Physical"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"hybrid",children:"Hybrid"})]}),F.location&&t.jsx("p",{className:"form-error",children:F.location})]}),F.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:F.general})}),Object.keys(F).filter(K=>K!=="general").length>0&&t.jsxs("div",{className:"form-error-general",children:[t.jsx("p",{className:"form-error-general-text",children:"Please fix the following errors:"}),t.jsx("ul",{className:"form-error-list",children:Object.entries(F).filter(([K])=>K!=="general").map(([K,te])=>t.jsx("li",{children:Array.isArray(te)?te.join(", "):te},K))})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:B,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:A,className:"form-btn form-btn-submit",children:A?"Saving...":v?"Update Class":"Create Class"})]})]})}),t.jsx(Ie,{isOpen:T,onClose:()=>{k(!1),R(null)},title:"Class Details",size:"lg",children:v&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Class ID"}),t.jsx("p",{className:"detail-modal-value",children:v.class_id||v.id||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${v.status==="completed"?"completed":v.status==="scheduled"?"scheduled":v.status==="cancelled"?"cancelled":"default"}`,children:v.status?v.status.charAt(0).toUpperCase()+v.status.slice(1):"N/A"})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Course Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:typeof v.course=="string"?v.course:((ue=v.course)==null?void 0:ue.name)||"N/A"})]}),((Ne=v.course)==null?void 0:Ne.code)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Code"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:v.course.code})]}),((Pe=v.course)==null?void 0:Pe.max_capacity)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Max Capacity"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:v.course.max_capacity})]}),((ke=v.course)==null?void 0:ke.duration)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Duration"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:v.course.duration})]}),((ee=v.course)==null?void 0:ee.description)&&t.jsxs("div",{className:"detail-modal-section-item detail-modal-section-full",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Description"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:v.course.description})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-purple",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-purple",children:"Instructor Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:typeof v.instructor=="string"?v.instructor:(re=v.instructor)!=null&&re.first_name&&((fe=v.instructor)!=null&&fe.last_name)?`${v.instructor.first_name} ${v.instructor.last_name}`:"N/A"})]}),((Me=v.instructor)==null?void 0:Me.email)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Email"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:v.instructor.email})]}),((be=v.instructor)==null?void 0:be.phone)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Phone"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:v.instructor.phone})]}),((Ce=v.instructor)==null?void 0:Ce.is_assessor)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Role"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:"Assessor"})]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Start Date"}),t.jsx("p",{className:"detail-modal-value",children:v.start_date?new Date(v.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),v.start_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(v.start_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"End Date"}),t.jsx("p",{className:"detail-modal-value",children:v.end_date?new Date(v.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),v.end_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(v.end_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),v.exam_date&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#9333ea"},children:"Exam Date"}),t.jsx("p",{className:"detail-modal-value",style:{color:"#7e22ce"},children:new Date(v.exam_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.exam_score!==null&&v.exam_score!==void 0&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"detail-modal-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(v.exam_score).toFixed(2),"%"]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Location"}),t.jsx("p",{className:"detail-modal-value",children:v.location?v.location.charAt(0).toUpperCase()+v.location.slice(1):"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Enrollment"}),t.jsxs("p",{className:"detail-modal-value",children:[v.enrolled_count||0," / ",((Re=v.course)==null?void 0:Re.max_capacity)||"N/A"]}),((ae=v.course)==null?void 0:ae.max_capacity)&&t.jsxs("div",{className:"detail-modal-progress-container",children:[t.jsx("div",{className:"detail-modal-progress-bar",children:t.jsx("div",{className:"detail-modal-progress-fill",style:{width:`${Math.min((v.enrolled_count||0)/v.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"detail-modal-progress-text",children:[Math.round((v.enrolled_count||0)/v.course.max_capacity*100),"% full"]})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Enrolled Trainees"}),v.trainees&&Array.isArray(v.trainees)&&v.trainees.length>0?t.jsx("div",{className:"detail-modal-trainees-list",children:v.trainees.map((K,te)=>t.jsx("div",{className:"detail-modal-trainee-item",children:t.jsxs("div",{className:"detail-modal-trainee-content",children:[t.jsxs("div",{className:"detail-modal-trainee-name",children:[t.jsx(gt,{size:16,className:"detail-modal-trainee-icon"}),t.jsxs("span",{children:[K.first_name," ",K.last_name]})]}),t.jsxs("div",{className:"detail-modal-trainee-id",children:[t.jsx(Ia,{size:14,className:"detail-modal-trainee-id-icon"}),t.jsx("span",{children:K.id_number||K.id||"N/A"})]})]})},K.id||te))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(gt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]}),(v.created_at||v.updated_at||v.notes)&&t.jsxs("div",{className:"detail-modal-section detail-modal-section-yellow",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-yellow",children:"Additional Information"}),t.jsxs("div",{className:"detail-modal-additional-list",children:[v.created_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Created At"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(v.created_at).toLocaleString("en-US")})]}),v.updated_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Last Updated"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(v.updated_at).toLocaleString("en-US")})]}),v.notes&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Notes"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:v.notes})]})]})]}),v.status!=="completed"&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>{se(v),k(!1)},className:"detail-modal-action-btn",children:[t.jsx($e,{size:20,className:"detail-modal-action-icon"}),"Mark as Complete"]})})]})}),t.jsx(Ie,{isOpen:b,onClose:()=>{E(!1),j(null)},title:"Enrolled Trainees",size:"lg",children:$&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Class Information"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((le=$.course)==null?void 0:le.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrollment: ",$.enrolled_count||0," / ",((G=$.course)==null?void 0:G.max_capacity)||"N/A"]})]}),$.trainees&&$.trainees.length>0?t.jsx("div",{className:"space-y-3",children:$.trainees.map((K,te)=>t.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gt,{size:14,className:"mr-1"}),"Name"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[K.first_name," ",K.last_name]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Lt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:K.email||"N/A"})]}),K.phone&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(fr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:K.phone})]}),K.id_number&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ia,{size:14,className:"mr-1"}),"ID Number"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:K.id_number})]}),K.enrolled_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Enrolled At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(K.enrolled_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),K.completed_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($e,{size:14,className:"mr-1"}),"Completed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(K.completed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Be,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${K.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":K.status==="enrolled"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[K.status==="completed"&&t.jsx($e,{size:12,className:"mr-1"}),K.status?K.status.charAt(0).toUpperCase()+K.status.slice(1):"N/A"]})]})]})},K.id||te))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(gt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]})}),t.jsx(ha,{isOpen:_,onClose:()=>{w(!1),R(null)},onConfirm:L,title:"Delete Class",message:"Are you sure you want to delete this class? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})};function _T(e,s){return s.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(a){if(a!=="default"&&!(a in e)){var n=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(e,a,n.get?n:{enumerable:!0,get:function(){return r[a]}})}})}),Object.freeze(e)}function Xj(e,s){return new Promise(function(r,a){let n;return ST(e).then(function(i){try{return n=i,r(new Blob([s.slice(0,2),n,s.slice(2)],{type:"image/jpeg"}))}catch(o){return a(o)}},a)})}const ST=e=>new Promise((s,r)=>{const a=new FileReader;a.addEventListener("load",({target:{result:n}})=>{const i=new DataView(n);let o=0;if(i.getUint16(o)!==65496)return r("not a valid JPEG");for(o+=2;;){const l=i.getUint16(o);if(l===65498)break;const c=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){const h=o+10;let d;switch(i.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(h+2,d)!==42)return r("TIFF header contains invalid version");const p=i.getUint32(h+4,d),m=h+p+2+12*i.getUint16(h+p,d);for(let u=h+p+2;u<m;u+=12)if(i.getUint16(u,d)==274){if(i.getUint16(u+2,d)!==3)return r("Orientation data type is invalid");if(i.getUint32(u+4,d)!==1)return r("Orientation data count is invalid");i.setUint16(u+8,1,d);break}return s(n.slice(o,o+2+c))}o+=2+c}return s(new Blob)}),a.readAsArrayBuffer(e)});var od={},AT={get exports(){return od},set exports(e){od=e}};(function(e){var s,r,a={};AT.exports=a,a.parse=function(n,i){for(var o=a.bin.readUshort,l=a.bin.readUint,c=0,h={},d=new Uint8Array(n),p=d.length-4;l(d,p)!=101010256;)p--;c=p,c+=4;var m=o(d,c+=4);o(d,c+=2);var u=l(d,c+=2),g=l(d,c+=4);c+=4,c=g;for(var y=0;y<m;y++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),u=l(d,c+=4);var S=l(d,c+=4),x=o(d,c+=4),N=o(d,c+2),_=o(d,c+4);c+=6;var w=l(d,c+=8);c+=4,c+=x+N+_,a._readLocal(d,w,h,u,S,i)}return h},a._readLocal=function(n,i,o,l,c,h){var d=a.bin.readUshort,p=a.bin.readUint;p(n,i),d(n,i+=4),d(n,i+=2);var m=d(n,i+=2);p(n,i+=2),p(n,i+=4),i+=4;var u=d(n,i+=8),g=d(n,i+=2);i+=2;var y=a.bin.readUTF8(n,i,u);if(i+=u,i+=g,h)o[y]={size:c,csize:l};else{var S=new Uint8Array(n.buffer,i);if(m==0)o[y]=new Uint8Array(S.buffer.slice(i,i+l));else{if(m!=8)throw"unknown compression method: "+m;var x=new Uint8Array(c);a.inflateRaw(S,x),o[y]=x}}},a.inflateRaw=function(n,i){return a.F.inflate(n,i)},a.inflate=function(n,i){return n[0],n[1],a.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),i)},a.deflate=function(n,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*n.length));l[o]=120,l[o+1]=156,o+=2,o=a.F.deflateRaw(n,l,o,i.level);var c=a.adler(n,0,n.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},a.deflateRaw=function(n,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*n.length)),l=a.F.deflateRaw(n,o,l,i.level);return new Uint8Array(o.buffer,0,l)},a.encode=function(n,i){i==null&&(i=!1);var o=0,l=a.bin.writeUint,c=a.bin.writeUshort,h={};for(var d in n){var p=!a._noNeed(d)&&!i,m=n[d],u=a.crc.crc(m,0,m.length);h[d]={cpr:p,usize:m.length,crc:u,file:p?a.deflateRaw(m):m}}for(var d in h)o+=h[d].file.length+30+46+2*a.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),y=0,S=[];for(var d in h){var x=h[d];S.push(y),y=a._writeHeader(g,y,d,x,0)}var N=0,_=y;for(var d in h)x=h[d],S.push(y),y=a._writeHeader(g,y,d,x,1,S[N++]);var w=y-_;return l(g,y,101010256),y+=4,c(g,y+=4,N),c(g,y+=2,N),l(g,y+=2,w),l(g,y+=4,_),y+=4,y+=2,g.buffer},a._noNeed=function(n){var i=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},a._writeHeader=function(n,i,o,l,c,h){var d=a.bin.writeUint,p=a.bin.writeUshort,m=l.file;return d(n,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),p(n,i,20),p(n,i+=2,0),p(n,i+=2,l.cpr?8:0),d(n,i+=2,0),d(n,i+=4,l.crc),d(n,i+=4,m.length),d(n,i+=4,l.usize),p(n,i+=4,a.bin.sizeUTF8(o)),p(n,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(n,i+=6,h),i+=4),i+=a.bin.writeUTF8(n,i,o),c==0&&(n.set(m,i),i+=m.length),i},a.crc={table:function(){for(var n=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;n[i]=o}return n}(),update:function(n,i,o,l){for(var c=0;c<l;c++)n=a.crc.table[255&(n^i[o+c])]^n>>>8;return n},crc:function(n,i,o){return 4294967295^a.crc.update(4294967295,n,i,o)}},a.adler=function(n,i,o){for(var l=1,c=0,h=i,d=i+o;h<d;){for(var p=Math.min(h+5552,d);h<p;)c+=l+=n[h++];l%=65521,c%=65521}return c<<16|l},a.bin={readUshort:function(n,i){return n[i]|n[i+1]<<8},writeUshort:function(n,i,o){n[i]=255&o,n[i+1]=o>>8&255},readUint:function(n,i){return 16777216*n[i+3]+(n[i+2]<<16|n[i+1]<<8|n[i])},writeUint:function(n,i,o){n[i]=255&o,n[i+1]=o>>8&255,n[i+2]=o>>16&255,n[i+3]=o>>24&255},readASCII:function(n,i,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(n[i+c]);return l},writeASCII:function(n,i,o){for(var l=0;l<o.length;l++)n[i+l]=o.charCodeAt(l)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,i,o){for(var l,c="",h=0;h<o;h++)c+="%"+a.bin.pad(n[i+h].toString(16));try{l=decodeURIComponent(c)}catch{return a.bin.readASCII(n,i,o)}return l},writeUTF8:function(n,i,o){for(var l=o.length,c=0,h=0;h<l;h++){var d=o.charCodeAt(h);if(!(4294967168&d))n[i+c]=d,c++;else if(!(4294965248&d))n[i+c]=192|d>>6,n[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))n[i+c]=224|d>>12,n[i+c+1]=128|d>>6&63,n[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";n[i+c]=240|d>>18,n[i+c+1]=128|d>>12&63,n[i+c+2]=128|d>>6&63,n[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(n){for(var i=n.length,o=0,l=0;l<i;l++){var c=n.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},a.F={},a.F.deflateRaw=function(n,i,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=a.F.U,d=a.F._goodIndex;a.F._hash;var p=a.F._putsE,m=0,u=o<<3,g=0,y=n.length;if(l==0){for(;m<y;)p(i,u,m+($=Math.min(65535,y-m))==y?1:0),u=a.F._copyExact(n,m,$,i,u+8),m+=$;return u>>>3}var S=h.lits,x=h.strt,N=h.prev,_=0,w=0,T=0,k=0,b=0,E=0;for(y>2&&(x[E=a.F._hash(n,0)]=0),m=0;m<y;m++){if(b=E,m+1<y-2){E=a.F._hash(n,m+1);var v=m+1&32767;N[v]=x[E],x[E]=v}if(g<=m){(_>14e3||w>26697)&&y-m>100&&(g<m&&(S[_]=m-g,_+=2,g=m),u=a.F._writeBlock(m==y-1||g==y?1:0,S,_,k,n,T,m-T,i,u),_=w=k=0,T=m);var R=0;m<y-2&&(R=a.F._bestMatch(n,m,N,b,Math.min(c[2],y-m),c[3]));var $=R>>>16,j=65535&R;if(R!=0){j=65535&R;var P=d($=R>>>16,h.of0);h.lhst[257+P]++;var z=d(j,h.df0);h.dhst[z]++,k+=h.exb[P]+h.dxb[z],S[_]=$<<23|m-g,S[_+1]=j<<16|P<<8|z,_+=2,g=m+$}else h.lhst[n[m]]++;w++}}for(T==m&&n.length!=0||(g<m&&(S[_]=m-g,_+=2,g=m),u=a.F._writeBlock(1,S,_,k,n,T,m-T,i,u),_=0,w=0,_=w=k=0,T=m);7&u;)u++;return u>>>3},a.F._bestMatch=function(n,i,o,l,c,h){var d=32767&i,p=o[d],m=d-p+32768&32767;if(p==d||l!=a.F._hash(n,i-m))return 0;for(var u=0,g=0,y=Math.min(32767,i);m<=y&&--h!=0&&p!=d;){if(u==0||n[i+u]==n[i+u-m]){var S=a.F._howLong(n,i,m);if(S>u){if(g=m,(u=S)>=c)break;m+2<S&&(S=m+2);for(var x=0,N=0;N<S-2;N++){var _=i-m+N+32768&32767,w=_-o[_]+32768&32767;w>x&&(x=w,p=_)}}}m+=(d=p)-(p=o[d])+32768&32767}return u<<16|g},a.F._howLong=function(n,i,o){if(n[i]!=n[i-o]||n[i+1]!=n[i+1-o]||n[i+2]!=n[i+2-o])return 0;var l=i,c=Math.min(n.length,i+258);for(i+=3;i<c&&n[i]==n[i-o];)i++;return i-l},a.F._hash=function(n,i){return(n[i]<<8|n[i+1])+(n[i+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(n,i,o,l,c,h,d,p,m){var u,g,y,S,x,N,_,w,T,k=a.F.U,b=a.F._putsF,E=a.F._putsE;k.lhst[256]++,g=(u=a.F.getTrees())[0],y=u[1],S=u[2],x=u[3],N=u[4],_=u[5],w=u[6],T=u[7];var v=32+(m+3&7?8-(m+3&7):0)+(d<<3),R=l+a.F.contSize(k.fltree,k.lhst)+a.F.contSize(k.fdtree,k.dhst),$=l+a.F.contSize(k.ltree,k.lhst)+a.F.contSize(k.dtree,k.dhst);$+=14+3*_+a.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var j=0;j<286;j++)k.lhst[j]=0;for(j=0;j<30;j++)k.dhst[j]=0;for(j=0;j<19;j++)k.ihst[j]=0;var P=v<R&&v<$?0:R<$?1:2;if(b(p,m,n),b(p,m+1,P),m+=3,P==0){for(;7&m;)m++;m=a.F._copyExact(c,h,d,p,m)}else{var z,F;if(P==1&&(z=k.fltree,F=k.fdtree),P==2){a.F.makeCodes(k.ltree,g),a.F.revCodes(k.ltree,g),a.F.makeCodes(k.dtree,y),a.F.revCodes(k.dtree,y),a.F.makeCodes(k.itree,S),a.F.revCodes(k.itree,S),z=k.ltree,F=k.dtree,E(p,m,x-257),E(p,m+=5,N-1),E(p,m+=5,_-4),m+=4;for(var C=0;C<_;C++)E(p,m+3*C,k.itree[1+(k.ordr[C]<<1)]);m+=3*_,m=a.F._codeTiny(w,k.itree,p,m),m=a.F._codeTiny(T,k.itree,p,m)}for(var A=h,M=0;M<o;M+=2){for(var D=i[M],O=D>>>23,V=A+(8388607&D);A<V;)m=a.F._writeLit(c[A++],z,p,m);if(O!=0){var q=i[M+1],I=q>>16,W=q>>8&255,B=255&q;E(p,m=a.F._writeLit(257+W,z,p,m),O-k.of0[W]),m+=k.exb[W],b(p,m=a.F._writeLit(B,F,p,m),I-k.df0[B]),m+=k.dxb[B],A+=O}}m=a.F._writeLit(256,z,p,m)}return m},a.F._copyExact=function(n,i,o,l,c){var h=c>>>3;return l[h]=o,l[h+1]=o>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(n.buffer,i,o),h),c+(o+4<<3)},a.F.getTrees=function(){for(var n=a.F.U,i=a.F._hufTree(n.lhst,n.ltree,15),o=a.F._hufTree(n.dhst,n.dtree,15),l=[],c=a.F._lenCodes(n.ltree,l),h=[],d=a.F._lenCodes(n.dtree,h),p=0;p<l.length;p+=2)n.ihst[l[p]]++;for(p=0;p<h.length;p+=2)n.ihst[h[p]]++;for(var m=a.F._hufTree(n.ihst,n.itree,7),u=19;u>4&&n.itree[1+(n.ordr[u-1]<<1)]==0;)u--;return[i,o,m,c,d,u,l,h]},a.F.getSecond=function(n){for(var i=[],o=0;o<n.length;o+=2)i.push(n[o+1]);return i},a.F.nonZero=function(n){for(var i="",o=0;o<n.length;o+=2)n[o+1]!=0&&(i+=(o>>1)+",");return i},a.F.contSize=function(n,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*n[1+(l<<1)];return o},a.F._codeTiny=function(n,i,o,l){for(var c=0;c<n.length;c+=2){var h=n[c],d=n[c+1];l=a.F._writeLit(h,i,o,l);var p=h==16?2:h==17?3:7;h>15&&(a.F._putsE(o,l,d,p),l+=p)}return l},a.F._lenCodes=function(n,i){for(var o=n.length;o!=2&&n[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=n[l+1],h=l+3<o?n[l+3]:-1,d=l+5<o?n[l+5]:-1,p=l==0?-1:n[l-1];if(c==0&&h==c&&d==c){for(var m=l+5;m+2<o&&n[m+2]==c;)m+=2;(u=Math.min(m+1-l>>>1,138))<11?i.push(17,u-3):i.push(18,u-11),l+=2*u-2}else if(c==p&&h==c&&d==c){for(m=l+5;m+2<o&&n[m+2]==c;)m+=2;var u=Math.min(m+1-l>>>1,6);i.push(16,u-3),l+=2*u-2}else i.push(c,0)}return o>>>1},a.F._hufTree=function(n,i,o){var l=[],c=n.length,h=i.length,d=0;for(d=0;d<h;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)n[d]!=0&&l.push({lit:d,f:n[d]});var p=l.length,m=l.slice(0);if(p==0)return 0;if(p==1){var u=l[0].lit;return m=u==0?1:0,i[1+(u<<1)]=1,i[1+(m<<1)]=1,1}l.sort(function(w,T){return w.f-T.f});var g=l[0],y=l[1],S=0,x=1,N=2;for(l[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};x!=p-1;)g=S!=x&&(N==p||l[S].f<l[N].f)?l[S++]:l[N++],y=S!=x&&(N==p||l[S].f<l[N].f)?l[S++]:l[N++],l[x++]={lit:-1,f:g.f+y.f,l:g,r:y};var _=a.F.setDepth(l[x-1],0);for(_>o&&(a.F.restrictDepth(m,o,_),_=o),d=0;d<p;d++)i[1+(m[d].lit<<1)]=m[d].d;return _},a.F.setDepth=function(n,i){return n.lit!=-1?(n.d=i,i):Math.max(a.F.setDepth(n.l,i+1),a.F.setDepth(n.r,i+1))},a.F.restrictDepth=function(n,i,o){var l=0,c=1<<o-i,h=0;for(n.sort(function(p,m){return m.d==p.d?p.f-m.f:m.d-p.d}),l=0;l<n.length&&n[l].d>i;l++){var d=n[l].d;n[l].d=i,h+=c-(1<<o-d)}for(h>>>=o-i;h>0;)(d=n[l].d)<i?(n[l].d++,h-=1<<i-d-1):l++;for(;l>=0;l--)n[l].d==i&&h<0&&(n[l].d--,h++);h!=0&&console.log("debt left")},a.F._goodIndex=function(n,i){var o=0;return i[16|o]<=n&&(o|=16),i[8|o]<=n&&(o|=8),i[4|o]<=n&&(o|=4),i[2|o]<=n&&(o|=2),i[1|o]<=n&&(o|=1),o},a.F._writeLit=function(n,i,o,l){return a.F._putsF(o,l,i[n<<1]),l+i[1+(n<<1)]},a.F.inflate=function(n,i){var o=Uint8Array;if(n[0]==3&&n[1]==0)return i||new o(0);var l=a.F,c=l._bitsF,h=l._bitsE,d=l._decodeTiny,p=l.makeCodes,m=l.codes2map,u=l._get17,g=l.U,y=i==null;y&&(i=new o(n.length>>>2<<3));for(var S,x,N=0,_=0,w=0,T=0,k=0,b=0,E=0,v=0,R=0;N==0;)if(N=c(n,R,1),_=c(n,R+1,2),R+=3,_!=0){if(y&&(i=a.F._check(i,v+(1<<17))),_==1&&(S=g.flmap,x=g.fdmap,b=511,E=31),_==2){w=h(n,R,5)+257,T=h(n,R+5,5)+1,k=h(n,R+10,4)+4,R+=14;for(var $=0;$<38;$+=2)g.itree[$]=0,g.itree[$+1]=0;var j=1;for($=0;$<k;$++){var P=h(n,R+3*$,3);g.itree[1+(g.ordr[$]<<1)]=P,P>j&&(j=P)}R+=3*k,p(g.itree,j),m(g.itree,j,g.imap),S=g.lmap,x=g.dmap,R=d(g.imap,(1<<j)-1,w+T,n,R,g.ttree);var z=l._copyOut(g.ttree,0,w,g.ltree);b=(1<<z)-1;var F=l._copyOut(g.ttree,w,T,g.dtree);E=(1<<F)-1,p(g.ltree,z),m(g.ltree,z,S),p(g.dtree,F),m(g.dtree,F,x)}for(;;){var C=S[u(n,R)&b];R+=15&C;var A=C>>>4;if(!(A>>>8))i[v++]=A;else{if(A==256)break;var M=v+A-254;if(A>264){var D=g.ldef[A-257];M=v+(D>>>3)+h(n,R,7&D),R+=7&D}var O=x[u(n,R)&E];R+=15&O;var V=O>>>4,q=g.ddef[V],I=(q>>>4)+c(n,R,15&q);for(R+=15&q,y&&(i=a.F._check(i,v+(1<<17)));v<M;)i[v]=i[v++-I],i[v]=i[v++-I],i[v]=i[v++-I],i[v]=i[v++-I];v=M}}}else{7&R&&(R+=8-(7&R));var W=4+(R>>>3),B=n[W-4]|n[W-3]<<8;y&&(i=a.F._check(i,v+B)),i.set(new o(n.buffer,n.byteOffset+W,B),v),R=W+B<<3,v+=B}return i.length==v?i:i.slice(0,v)},a.F._check=function(n,i){var o=n.length;if(i<=o)return n;var l=new Uint8Array(Math.max(o<<1,i));return l.set(n,0),l},a.F._decodeTiny=function(n,i,o,l,c,h){for(var d=a.F._bitsE,p=a.F._get17,m=0;m<o;){var u=n[p(l,c)&i];c+=15&u;var g=u>>>4;if(g<=15)h[m]=g,m++;else{var y=0,S=0;g==16?(S=3+d(l,c,2),c+=2,y=h[m-1]):g==17?(S=3+d(l,c,3),c+=3):g==18&&(S=11+d(l,c,7),c+=7);for(var x=m+S;m<x;)h[m]=y,m++}}return c},a.F._copyOut=function(n,i,o,l){for(var c=0,h=0,d=l.length>>>1;h<o;){var p=n[h+i];l[h<<1]=0,l[1+(h<<1)]=p,p>c&&(c=p),h++}for(;h<d;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return c},a.F.makeCodes=function(n,i){for(var o,l,c,h,d=a.F.U,p=n.length,m=d.bl_count,u=0;u<=i;u++)m[u]=0;for(u=1;u<p;u+=2)m[n[u]]++;var g=d.next_code;for(o=0,m[0]=0,l=1;l<=i;l++)o=o+m[l-1]<<1,g[l]=o;for(c=0;c<p;c+=2)(h=n[c+1])!=0&&(n[c]=g[h],g[h]++)},a.F.codes2map=function(n,i,o){for(var l=n.length,c=a.F.U.rev15,h=0;h<l;h+=2)if(n[h+1]!=0)for(var d=h>>1,p=n[h+1],m=d<<4|p,u=i-p,g=n[h]<<u,y=g+(1<<u);g!=y;)o[c[g]>>>15-i]=m,g++},a.F.revCodes=function(n,i){for(var o=a.F.U.rev15,l=15-i,c=0;c<n.length;c+=2){var h=n[c]<<i-n[c+1];n[c]=o[h]>>>l}},a.F._putsE=function(n,i,o){o<<=7&i;var l=i>>>3;n[l]|=o,n[l+1]|=o>>>8},a.F._putsF=function(n,i,o){o<<=7&i;var l=i>>>3;n[l]|=o,n[l+1]|=o>>>8,n[l+2]|=o>>>16},a.F._bitsE=function(n,i,o){return(n[i>>>3]|n[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},a.F._bitsF=function(n,i,o){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},a.F._get17=function(n,i){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16)>>>(7&i)},a.F._get25=function(n,i){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16|n[3+(i>>>3)]<<24)>>>(7&i)},a.F.U=(s=Uint16Array,r=Uint32Array,{next_code:new s(16),bl_count:new s(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new s(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new s(512),fltree:[],fdmap:new s(32),fdtree:[],lmap:new s(32768),ltree:[],ttree:[],dmap:new s(32768),dtree:[],imap:new s(512),itree:[],rev15:new s(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new s(65536),prev:new s(32768)}),function(){for(var n=a.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,n.rev15[i]=(o>>>16|o<<16)>>>17}function l(c,h,d){for(;h--!=0;)c.push(0,d)}for(i=0;i<32;i++)n.ldef[i]=n.of0[i]<<3|n.exb[i],n.ddef[i]=n.df0[i]<<4|n.dxb[i];l(n.fltree,144,8),l(n.fltree,112,9),l(n.fltree,24,7),l(n.fltree,8,8),a.F.makeCodes(n.fltree,9),a.F.codes2map(n.fltree,9,n.flmap),a.F.revCodes(n.fltree,9),l(n.fdtree,32,5),a.F.makeCodes(n.fdtree,5),a.F.codes2map(n.fdtree,5,n.fdmap),a.F.revCodes(n.fdtree,5),l(n.itree,19,0),l(n.ltree,286,0),l(n.dtree,30,0),l(n.ttree,320,0)}()})();var kT=_T({__proto__:null,default:od},[od]);const jr=function(){var e={nextZero(d,p){for(;d[p]!=0;)p++;return p},readUshort:(d,p)=>d[p]<<8|d[p+1],writeUshort(d,p,m){d[p]=m>>8&255,d[p+1]=255&m},readUint:(d,p)=>16777216*d[p]+(d[p+1]<<16|d[p+2]<<8|d[p+3]),writeUint(d,p,m){d[p]=m>>24&255,d[p+1]=m>>16&255,d[p+2]=m>>8&255,d[p+3]=255&m},readASCII(d,p,m){let u="";for(let g=0;g<m;g++)u+=String.fromCharCode(d[p+g]);return u},writeASCII(d,p,m){for(let u=0;u<m.length;u++)d[p+u]=m.charCodeAt(u)},readBytes(d,p,m){const u=[];for(let g=0;g<m;g++)u.push(d[p+g]);return u},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,p,m){let u,g="";for(let y=0;y<m;y++)g+=`%${e.pad(d[p+y].toString(16))}`;try{u=decodeURIComponent(g)}catch{return e.readASCII(d,p,m)}return u}};function s(d,p,m,u){const g=p*m,y=i(u),S=Math.ceil(p*y/8),x=new Uint8Array(4*g),N=new Uint32Array(x.buffer),{ctype:_}=u,{depth:w}=u,T=e.readUshort;if(_==6){const D=g<<2;if(w==8)for(var k=0;k<D;k+=4)x[k]=d[k],x[k+1]=d[k+1],x[k+2]=d[k+2],x[k+3]=d[k+3];if(w==16)for(k=0;k<D;k++)x[k]=d[k<<1]}else if(_==2){const D=u.tabs.tRNS;if(D==null){if(w==8)for(k=0;k<g;k++){var b=3*k;N[k]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b]}if(w==16)for(k=0;k<g;k++)b=6*k,N[k]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b]}else{var E=D[0];const O=D[1],V=D[2];if(w==8)for(k=0;k<g;k++){var v=k<<2;b=3*k,N[k]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b],d[b]==E&&d[b+1]==O&&d[b+2]==V&&(x[v+3]=0)}if(w==16)for(k=0;k<g;k++)v=k<<2,b=6*k,N[k]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b],T(d,b)==E&&T(d,b+2)==O&&T(d,b+4)==V&&(x[v+3]=0)}}else if(_==3){const D=u.tabs.PLTE,O=u.tabs.tRNS,V=O?O.length:0;if(w==1)for(var R=0;R<m;R++){var $=R*S,j=R*p;for(k=0;k<p;k++){v=j+k<<2;var P=3*(z=d[$+(k>>3)]>>7-((7&k)<<0)&1);x[v]=D[P],x[v+1]=D[P+1],x[v+2]=D[P+2],x[v+3]=z<V?O[z]:255}}if(w==2)for(R=0;R<m;R++)for($=R*S,j=R*p,k=0;k<p;k++)v=j+k<<2,P=3*(z=d[$+(k>>2)]>>6-((3&k)<<1)&3),x[v]=D[P],x[v+1]=D[P+1],x[v+2]=D[P+2],x[v+3]=z<V?O[z]:255;if(w==4)for(R=0;R<m;R++)for($=R*S,j=R*p,k=0;k<p;k++)v=j+k<<2,P=3*(z=d[$+(k>>1)]>>4-((1&k)<<2)&15),x[v]=D[P],x[v+1]=D[P+1],x[v+2]=D[P+2],x[v+3]=z<V?O[z]:255;if(w==8)for(k=0;k<g;k++){var z;v=k<<2,P=3*(z=d[k]),x[v]=D[P],x[v+1]=D[P+1],x[v+2]=D[P+2],x[v+3]=z<V?O[z]:255}}else if(_==4){if(w==8)for(k=0;k<g;k++){v=k<<2;var F=d[C=k<<1];x[v]=F,x[v+1]=F,x[v+2]=F,x[v+3]=d[C+1]}if(w==16)for(k=0;k<g;k++){var C;v=k<<2,F=d[C=k<<2],x[v]=F,x[v+1]=F,x[v+2]=F,x[v+3]=d[C+2]}}else if(_==0)for(E=u.tabs.tRNS?u.tabs.tRNS:-1,R=0;R<m;R++){const D=R*S,O=R*p;if(w==1)for(var A=0;A<p;A++){var M=(F=255*(d[D+(A>>>3)]>>>7-(7&A)&1))==255*E?0:255;N[O+A]=M<<24|F<<16|F<<8|F}else if(w==2)for(A=0;A<p;A++)M=(F=85*(d[D+(A>>>2)]>>>6-((3&A)<<1)&3))==85*E?0:255,N[O+A]=M<<24|F<<16|F<<8|F;else if(w==4)for(A=0;A<p;A++)M=(F=17*(d[D+(A>>>1)]>>>4-((1&A)<<2)&15))==17*E?0:255,N[O+A]=M<<24|F<<16|F<<8|F;else if(w==8)for(A=0;A<p;A++)M=(F=d[D+A])==E?0:255,N[O+A]=M<<24|F<<16|F<<8|F;else if(w==16)for(A=0;A<p;A++)F=d[D+(A<<1)],M=T(d,D+(A<<1))==E?0:255,N[O+A]=M<<24|F<<16|F<<8|F}return x}function r(d,p,m,u){const g=i(d),y=Math.ceil(m*g/8),S=new Uint8Array((y+1+d.interlace)*u);return p=d.tabs.CgBI?n(p,S):a(p,S),d.interlace==0?p=o(p,d,0,m,u):d.interlace==1&&(p=function(N,_){const w=_.width,T=_.height,k=i(_),b=k>>3,E=Math.ceil(w*k/8),v=new Uint8Array(T*E);let R=0;const $=[0,0,4,0,2,0,1],j=[0,4,0,2,0,1,0],P=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const A=P[F],M=z[F];let D=0,O=0,V=$[F];for(;V<T;)V+=A,O++;let q=j[F];for(;q<w;)q+=M,D++;const I=Math.ceil(D*k/8);o(N,_,R,D,O);let W=0,B=$[F];for(;B<T;){let H=j[F],Y=R+W*I<<3;for(;H<w;){var C;if(k==1&&(C=(C=N[Y>>3])>>7-(7&Y)&1,v[B*E+(H>>3)]|=C<<7-((7&H)<<0)),k==2&&(C=(C=N[Y>>3])>>6-(7&Y)&3,v[B*E+(H>>2)]|=C<<6-((3&H)<<1)),k==4&&(C=(C=N[Y>>3])>>4-(7&Y)&15,v[B*E+(H>>1)]|=C<<4-((1&H)<<2)),k>=8){const U=B*E+H*b;for(let L=0;L<b;L++)v[U+L]=N[(Y>>3)+L]}Y+=k,H+=M}W++,B+=A}D*O!=0&&(R+=O*(1+I)),F+=1}return v}(p,d)),p}function a(d,p){return n(new Uint8Array(d.buffer,2,d.length-6),p)}var n=function(){const d={H:{}};return d.H.N=function(p,m){const u=Uint8Array;let g,y,S=0,x=0,N=0,_=0,w=0,T=0,k=0,b=0,E=0;if(p[0]==3&&p[1]==0)return m||new u(0);const v=d.H,R=v.b,$=v.e,j=v.R,P=v.n,z=v.A,F=v.Z,C=v.m,A=m==null;for(A&&(m=new u(p.length>>>2<<5));S==0;)if(S=R(p,E,1),x=R(p,E+1,2),E+=3,x!=0){if(A&&(m=d.H.W(m,b+(1<<17))),x==1&&(g=C.J,y=C.h,T=511,k=31),x==2){N=$(p,E,5)+257,_=$(p,E+5,5)+1,w=$(p,E+10,4)+4,E+=14;let D=1;for(var M=0;M<38;M+=2)C.Q[M]=0,C.Q[M+1]=0;for(M=0;M<w;M++){const q=$(p,E+3*M,3);C.Q[1+(C.X[M]<<1)]=q,q>D&&(D=q)}E+=3*w,P(C.Q,D),z(C.Q,D,C.u),g=C.w,y=C.d,E=j(C.u,(1<<D)-1,N+_,p,E,C.v);const O=v.V(C.v,0,N,C.C);T=(1<<O)-1;const V=v.V(C.v,N,_,C.D);k=(1<<V)-1,P(C.C,O),z(C.C,O,g),P(C.D,V),z(C.D,V,y)}for(;;){const D=g[F(p,E)&T];E+=15&D;const O=D>>>4;if(!(O>>>8))m[b++]=O;else{if(O==256)break;{let V=b+O-254;if(O>264){const H=C.q[O-257];V=b+(H>>>3)+$(p,E,7&H),E+=7&H}const q=y[F(p,E)&k];E+=15&q;const I=q>>>4,W=C.c[I],B=(W>>>4)+R(p,E,15&W);for(E+=15&W;b<V;)m[b]=m[b++-B],m[b]=m[b++-B],m[b]=m[b++-B],m[b]=m[b++-B];b=V}}}}else{7&E&&(E+=8-(7&E));const D=4+(E>>>3),O=p[D-4]|p[D-3]<<8;A&&(m=d.H.W(m,b+O)),m.set(new u(p.buffer,p.byteOffset+D,O),b),E=D+O<<3,b+=O}return m.length==b?m:m.slice(0,b)},d.H.W=function(p,m){const u=p.length;if(m<=u)return p;const g=new Uint8Array(u<<1);return g.set(p,0),g},d.H.R=function(p,m,u,g,y,S){const x=d.H.e,N=d.H.Z;let _=0;for(;_<u;){const w=p[N(g,y)&m];y+=15&w;const T=w>>>4;if(T<=15)S[_]=T,_++;else{let k=0,b=0;T==16?(b=3+x(g,y,2),y+=2,k=S[_-1]):T==17?(b=3+x(g,y,3),y+=3):T==18&&(b=11+x(g,y,7),y+=7);const E=_+b;for(;_<E;)S[_]=k,_++}}return y},d.H.V=function(p,m,u,g){let y=0,S=0;const x=g.length>>>1;for(;S<u;){const N=p[S+m];g[S<<1]=0,g[1+(S<<1)]=N,N>y&&(y=N),S++}for(;S<x;)g[S<<1]=0,g[1+(S<<1)]=0,S++;return y},d.H.n=function(p,m){const u=d.H.m,g=p.length;let y,S,x,N;const _=u.j;for(var w=0;w<=m;w++)_[w]=0;for(w=1;w<g;w+=2)_[p[w]]++;const T=u.K;for(y=0,_[0]=0,S=1;S<=m;S++)y=y+_[S-1]<<1,T[S]=y;for(x=0;x<g;x+=2)N=p[x+1],N!=0&&(p[x]=T[N],T[N]++)},d.H.A=function(p,m,u){const g=p.length,y=d.H.m.r;for(let S=0;S<g;S+=2)if(p[S+1]!=0){const x=S>>1,N=p[S+1],_=x<<4|N,w=m-N;let T=p[S]<<w;const k=T+(1<<w);for(;T!=k;)u[y[T]>>>15-m]=_,T++}},d.H.l=function(p,m){const u=d.H.m.r,g=15-m;for(let y=0;y<p.length;y+=2){const S=p[y]<<m-p[y+1];p[y]=u[S]>>>g}},d.H.M=function(p,m,u){u<<=7&m;const g=m>>>3;p[g]|=u,p[g+1]|=u>>>8},d.H.I=function(p,m,u){u<<=7&m;const g=m>>>3;p[g]|=u,p[g+1]|=u>>>8,p[g+2]|=u>>>16},d.H.e=function(p,m,u){return(p[m>>>3]|p[1+(m>>>3)]<<8)>>>(7&m)&(1<<u)-1},d.H.b=function(p,m,u){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16)>>>(7&m)&(1<<u)-1},d.H.Z=function(p,m){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16)>>>(7&m)},d.H.i=function(p,m){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16|p[3+(m>>>3)]<<24)>>>(7&m)},d.H.m=function(){const p=Uint16Array,m=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=d.H.m;for(var m=0;m<32768;m++){let g=m;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,p.r[m]=(g>>>16|g<<16)>>>17}function u(g,y,S){for(;y--!=0;)g.push(0,S)}for(m=0;m<32;m++)p.q[m]=p.S[m]<<3|p.T[m],p.c[m]=p.p[m]<<4|p.z[m];u(p._,144,8),u(p._,112,9),u(p._,24,7),u(p._,8,8),d.H.n(p._,9),d.H.A(p._,9,p.J),d.H.l(p._,9),u(p.$,32,5),d.H.n(p.$,5),d.H.A(p.$,5,p.h),d.H.l(p.$,5),u(p.Q,19,0),u(p.C,286,0),u(p.D,30,0),u(p.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,p,m,u,g){let y=i(p);const S=Math.ceil(u*y/8);let x,N;y=Math.ceil(y/8);let _=d[m],w=0;if(_>1&&(d[m]=[0,0,1][_-2]),_==3)for(w=y;w<S;w++)d[w+1]=d[w+1]+(d[w+1-y]>>>1)&255;for(let T=0;T<g;T++)if(x=m+T*S,N=x+T+1,_=d[N-1],w=0,_==0)for(;w<S;w++)d[x+w]=d[N+w];else if(_==1){for(;w<y;w++)d[x+w]=d[N+w];for(;w<S;w++)d[x+w]=d[N+w]+d[x+w-y]}else if(_==2)for(;w<S;w++)d[x+w]=d[N+w]+d[x+w-S];else if(_==3){for(;w<y;w++)d[x+w]=d[N+w]+(d[x+w-S]>>>1);for(;w<S;w++)d[x+w]=d[N+w]+(d[x+w-S]+d[x+w-y]>>>1)}else{for(;w<y;w++)d[x+w]=d[N+w]+l(0,d[x+w-S],0);for(;w<S;w++)d[x+w]=d[N+w]+l(d[x+w-y],d[x+w-S],d[x+w-y-S])}return d}function l(d,p,m){const u=d+p-m,g=u-d,y=u-p,S=u-m;return g*g<=y*y&&g*g<=S*S?d:y*y<=S*S?p:m}function c(d,p,m){m.width=e.readUint(d,p),p+=4,m.height=e.readUint(d,p),p+=4,m.depth=d[p],p++,m.ctype=d[p],p++,m.compress=d[p],p++,m.filter=d[p],p++,m.interlace=d[p],p++}function h(d,p,m,u,g,y,S,x,N){const _=Math.min(p,g),w=Math.min(m,y);let T=0,k=0;for(let F=0;F<w;F++)for(let C=0;C<_;C++)if(S>=0&&x>=0?(T=F*p+C<<2,k=(x+F)*g+S+C<<2):(T=(-x+F)*p-S+C<<2,k=F*g+C<<2),N==0)u[k]=d[T],u[k+1]=d[T+1],u[k+2]=d[T+2],u[k+3]=d[T+3];else if(N==1){var b=d[T+3]*.00392156862745098,E=d[T]*b,v=d[T+1]*b,R=d[T+2]*b,$=u[k+3]*(1/255),j=u[k]*$,P=u[k+1]*$,z=u[k+2]*$;const A=1-b,M=b+$*A,D=M==0?0:1/M;u[k+3]=255*M,u[k+0]=(E+j*A)*D,u[k+1]=(v+P*A)*D,u[k+2]=(R+z*A)*D}else if(N==2)b=d[T+3],E=d[T],v=d[T+1],R=d[T+2],$=u[k+3],j=u[k],P=u[k+1],z=u[k+2],b==$&&E==j&&v==P&&R==z?(u[k]=0,u[k+1]=0,u[k+2]=0,u[k+3]=0):(u[k]=E,u[k+1]=v,u[k+2]=R,u[k+3]=b);else if(N==3){if(b=d[T+3],E=d[T],v=d[T+1],R=d[T+2],$=u[k+3],j=u[k],P=u[k+1],z=u[k+2],b==$&&E==j&&v==P&&R==z)continue;if(b<220&&$>20)return!1}return!0}return{decode:function(p){const m=new Uint8Array(p);let u=8;const g=e,y=g.readUshort,S=g.readUint,x={tabs:{},frames:[]},N=new Uint8Array(m.length);let _,w=0,T=0;const k=[137,80,78,71,13,10,26,10];for(var b=0;b<8;b++)if(m[b]!=k[b])throw"The input is not a PNG file!";for(;u<m.length;){const F=g.readUint(m,u);u+=4;const C=g.readASCII(m,u,4);if(u+=4,C=="IHDR")c(m,u,x);else if(C=="iCCP"){for(var E=u;m[E]!=0;)E++;g.readASCII(m,u,E-u),m[E+1];const A=m.slice(E+2,u+F);let M=null;try{M=a(A)}catch{M=n(A)}x.tabs[C]=M}else if(C=="CgBI")x.tabs[C]=m.slice(u,u+4);else if(C=="IDAT"){for(b=0;b<F;b++)N[w+b]=m[u+b];w+=F}else if(C=="acTL")x.tabs[C]={num_frames:S(m,u),num_plays:S(m,u+4)},_=new Uint8Array(m.length);else if(C=="fcTL"){T!=0&&((z=x.frames[x.frames.length-1]).data=r(x,_.slice(0,T),z.rect.width,z.rect.height),T=0);const A={x:S(m,u+12),y:S(m,u+16),width:S(m,u+4),height:S(m,u+8)};let M=y(m,u+22);M=y(m,u+20)/(M==0?100:M);const D={rect:A,delay:Math.round(1e3*M),dispose:m[u+24],blend:m[u+25]};x.frames.push(D)}else if(C=="fdAT"){for(b=0;b<F-4;b++)_[T+b]=m[u+b+4];T+=F-4}else if(C=="pHYs")x.tabs[C]=[g.readUint(m,u),g.readUint(m,u+4),m[u+8]];else if(C=="cHRM")for(x.tabs[C]=[],b=0;b<8;b++)x.tabs[C].push(g.readUint(m,u+4*b));else if(C=="tEXt"||C=="zTXt"){x.tabs[C]==null&&(x.tabs[C]={});var v=g.nextZero(m,u),R=g.readASCII(m,u,v-u),$=u+F-v-1;if(C=="tEXt")P=g.readASCII(m,v+1,$);else{var j=a(m.slice(v+2,v+2+$));P=g.readUTF8(j,0,j.length)}x.tabs[C][R]=P}else if(C=="iTXt"){x.tabs[C]==null&&(x.tabs[C]={}),v=0,E=u,v=g.nextZero(m,E),R=g.readASCII(m,E,v-E);const A=m[E=v+1];var P;m[E+1],E+=2,v=g.nextZero(m,E),g.readASCII(m,E,v-E),E=v+1,v=g.nextZero(m,E),g.readUTF8(m,E,v-E),$=F-((E=v+1)-u),A==0?P=g.readUTF8(m,E,$):(j=a(m.slice(E,E+$)),P=g.readUTF8(j,0,j.length)),x.tabs[C][R]=P}else if(C=="PLTE")x.tabs[C]=g.readBytes(m,u,F);else if(C=="hIST"){const A=x.tabs.PLTE.length/3;for(x.tabs[C]=[],b=0;b<A;b++)x.tabs[C].push(y(m,u+2*b))}else if(C=="tRNS")x.ctype==3?x.tabs[C]=g.readBytes(m,u,F):x.ctype==0?x.tabs[C]=y(m,u):x.ctype==2&&(x.tabs[C]=[y(m,u),y(m,u+2),y(m,u+4)]);else if(C=="gAMA")x.tabs[C]=g.readUint(m,u)/1e5;else if(C=="sRGB")x.tabs[C]=m[u];else if(C=="bKGD")x.ctype==0||x.ctype==4?x.tabs[C]=[y(m,u)]:x.ctype==2||x.ctype==6?x.tabs[C]=[y(m,u),y(m,u+2),y(m,u+4)]:x.ctype==3&&(x.tabs[C]=m[u]);else if(C=="IEND")break;u+=F,g.readUint(m,u),u+=4}var z;return T!=0&&((z=x.frames[x.frames.length-1]).data=r(x,_.slice(0,T),z.rect.width,z.rect.height)),x.data=r(x,N,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(p){const m=p.width,u=p.height;if(p.tabs.acTL==null)return[s(p.data,m,u,p).buffer];const g=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const y=m*u*4,S=new Uint8Array(y),x=new Uint8Array(y),N=new Uint8Array(y);for(let w=0;w<p.frames.length;w++){const T=p.frames[w],k=T.rect.x,b=T.rect.y,E=T.rect.width,v=T.rect.height,R=s(T.data,E,v,p);if(w!=0)for(var _=0;_<y;_++)N[_]=S[_];if(T.blend==0?h(R,E,v,S,m,u,k,b,0):T.blend==1&&h(R,E,v,S,m,u,k,b,1),g.push(S.buffer.slice(0)),T.dispose!=0){if(T.dispose==1)h(x,E,v,S,m,u,k,b,0);else if(T.dispose==2)for(_=0;_<y;_++)S[_]=N[_]}}return g},_paeth:l,_copyTile:h,_bin:e}}();(function(){const{_copyTile:e}=jr,{_bin:s}=jr,r=jr._paeth;var a={table:function(){const E=new Uint32Array(256);for(let v=0;v<256;v++){let R=v;for(let $=0;$<8;$++)1&R?R=3988292384^R>>>1:R>>>=1;E[v]=R}return E}(),update(E,v,R,$){for(let j=0;j<$;j++)E=a.table[255&(E^v[R+j])]^E>>>8;return E},crc:(E,v,R)=>4294967295^a.update(4294967295,E,v,R)};function n(E,v,R,$){v[R]+=E[0]*$>>4,v[R+1]+=E[1]*$>>4,v[R+2]+=E[2]*$>>4,v[R+3]+=E[3]*$>>4}function i(E){return Math.max(0,Math.min(255,E))}function o(E,v){const R=E[0]-v[0],$=E[1]-v[1],j=E[2]-v[2],P=E[3]-v[3];return R*R+$*$+j*j+P*P}function l(E,v,R,$,j,P,z){z==null&&(z=1);const F=$.length,C=[];for(var A=0;A<F;A++){const B=$[A];C.push([B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255])}for(A=0;A<F;A++){let B=4294967295;for(var M=0,D=0;D<F;D++){var O=o(C[A],C[D]);D!=A&&O<B&&(B=O,M=D)}}const V=new Uint32Array(j.buffer),q=new Int16Array(v*R*4),I=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<I.length;A++)I[A]=255*((I[A]+.5)/16-.5);for(let B=0;B<R;B++)for(let H=0;H<v;H++){var W;A=4*(B*v+H),z!=2?W=[i(E[A]+q[A]),i(E[A+1]+q[A+1]),i(E[A+2]+q[A+2]),i(E[A+3]+q[A+3])]:(O=I[4*(3&B)+(3&H)],W=[i(E[A]+O),i(E[A+1]+O),i(E[A+2]+O),i(E[A+3]+O)]),M=0;let Y=16777215;for(D=0;D<F;D++){const X=o(W,C[D]);X<Y&&(Y=X,M=D)}const U=C[M],L=[W[0]-U[0],W[1]-U[1],W[2]-U[2],W[3]-U[3]];z==1&&(H!=v-1&&n(L,q,A+4,7),B!=R-1&&(H!=0&&n(L,q,A+4*v-4,3),n(L,q,A+4*v,5),H!=v-1&&n(L,q,A+4*v+4,1))),P[A>>2]=M,V[A>>2]=$[M]}}function c(E,v,R,$,j){j==null&&(j={});const{crc:P}=a,z=s.writeUint,F=s.writeUshort,C=s.writeASCII;let A=8;const M=E.frames.length>1;let D,O=!1,V=33+(M?20:0);if(j.sRGB!=null&&(V+=13),j.pHYs!=null&&(V+=21),j.iCCP!=null&&(D=pako.deflate(j.iCCP),V+=21+D.length+4),E.ctype==3){for(var q=E.plte.length,I=0;I<q;I++)E.plte[I]>>>24!=255&&(O=!0);V+=8+3*q+4+(O?8+1*q+4:0)}for(var W=0;W<E.frames.length;W++)M&&(V+=38),V+=(U=E.frames[W]).cimg.length+12,W!=0&&(V+=4);V+=12;const B=new Uint8Array(V),H=[137,80,78,71,13,10,26,10];for(I=0;I<8;I++)B[I]=H[I];if(z(B,A,13),A+=4,C(B,A,"IHDR"),A+=4,z(B,A,v),A+=4,z(B,A,R),A+=4,B[A]=E.depth,A++,B[A]=E.ctype,A++,B[A]=0,A++,B[A]=0,A++,B[A]=0,A++,z(B,A,P(B,A-17,17)),A+=4,j.sRGB!=null&&(z(B,A,1),A+=4,C(B,A,"sRGB"),A+=4,B[A]=j.sRGB,A++,z(B,A,P(B,A-5,5)),A+=4),j.iCCP!=null){const L=13+D.length;z(B,A,L),A+=4,C(B,A,"iCCP"),A+=4,C(B,A,"ICC profile"),A+=11,A+=2,B.set(D,A),A+=D.length,z(B,A,P(B,A-(L+4),L+4)),A+=4}if(j.pHYs!=null&&(z(B,A,9),A+=4,C(B,A,"pHYs"),A+=4,z(B,A,j.pHYs[0]),A+=4,z(B,A,j.pHYs[1]),A+=4,B[A]=j.pHYs[2],A++,z(B,A,P(B,A-13,13)),A+=4),M&&(z(B,A,8),A+=4,C(B,A,"acTL"),A+=4,z(B,A,E.frames.length),A+=4,z(B,A,j.loop!=null?j.loop:0),A+=4,z(B,A,P(B,A-12,12)),A+=4),E.ctype==3){for(z(B,A,3*(q=E.plte.length)),A+=4,C(B,A,"PLTE"),A+=4,I=0;I<q;I++){const L=3*I,X=E.plte[I],se=255&X,ce=X>>>8&255,ve=X>>>16&255;B[A+L+0]=se,B[A+L+1]=ce,B[A+L+2]=ve}if(A+=3*q,z(B,A,P(B,A-3*q-4,3*q+4)),A+=4,O){for(z(B,A,q),A+=4,C(B,A,"tRNS"),A+=4,I=0;I<q;I++)B[A+I]=E.plte[I]>>>24&255;A+=q,z(B,A,P(B,A-q-4,q+4)),A+=4}}let Y=0;for(W=0;W<E.frames.length;W++){var U=E.frames[W];M&&(z(B,A,26),A+=4,C(B,A,"fcTL"),A+=4,z(B,A,Y++),A+=4,z(B,A,U.rect.width),A+=4,z(B,A,U.rect.height),A+=4,z(B,A,U.rect.x),A+=4,z(B,A,U.rect.y),A+=4,F(B,A,$[W]),A+=2,F(B,A,1e3),A+=2,B[A]=U.dispose,A++,B[A]=U.blend,A++,z(B,A,P(B,A-30,30)),A+=4);const L=U.cimg;z(B,A,(q=L.length)+(W==0?0:4)),A+=4;const X=A;C(B,A,W==0?"IDAT":"fdAT"),A+=4,W!=0&&(z(B,A,Y++),A+=4),B.set(L,A),A+=q,z(B,A,P(B,X,A-X)),A+=4}return z(B,A,0),A+=4,C(B,A,"IEND"),A+=4,z(B,A,P(B,A-4,4)),A+=4,B.buffer}function h(E,v,R){for(let $=0;$<E.frames.length;$++){const j=E.frames[$];j.rect.width;const P=j.rect.height,z=new Uint8Array(P*j.bpl+P);j.cimg=u(j.img,P,j.bpp,j.bpl,z,v,R)}}function d(E,v,R,$,j){const P=j[0],z=j[1],F=j[2],C=j[3],A=j[4],M=j[5];let D=6,O=8,V=255;for(var q=0;q<E.length;q++){const he=new Uint8Array(E[q]);for(var I=he.length,W=0;W<I;W+=4)V&=he[W+3]}const B=V!=255,H=function(J,ue,Ne,Pe,ke,ee){const re=[];for(var fe=0;fe<J.length;fe++){const le=new Uint8Array(J[fe]),G=new Uint32Array(le.buffer);var Me;let K=0,te=0,Q=ue,oe=Ne,ge=Pe?1:0;if(fe!=0){const ie=ee||Pe||fe==1||re[fe-2].dispose!=0?1:2;let Se=0,Te=1e9;for(let we=0;we<ie;we++){var be=new Uint8Array(J[fe-1-we]);const Z=new Uint32Array(J[fe-1-we]);let pe=ue,_e=Ne,Ae=-1,Ee=-1;for(let et=0;et<Ne;et++)for(let pt=0;pt<ue;pt++)G[Re=et*ue+pt]!=Z[Re]&&(pt<pe&&(pe=pt),pt>Ae&&(Ae=pt),et<_e&&(_e=et),et>Ee&&(Ee=et));Ae==-1&&(pe=_e=Ae=Ee=0),ke&&((1&pe)==1&&pe--,(1&_e)==1&&_e--);const Ue=(Ae-pe+1)*(Ee-_e+1);Ue<Te&&(Te=Ue,Se=we,K=pe,te=_e,Q=Ae-pe+1,oe=Ee-_e+1)}be=new Uint8Array(J[fe-1-Se]),Se==1&&(re[fe-1].dispose=2),Me=new Uint8Array(Q*oe*4),e(be,ue,Ne,Me,Q,oe,-K,-te,0),ge=e(le,ue,Ne,Me,Q,oe,-K,-te,3)?1:0,ge==1?m(le,ue,Ne,Me,{x:K,y:te,width:Q,height:oe}):e(le,ue,Ne,Me,Q,oe,-K,-te,0)}else Me=le.slice(0);re.push({rect:{x:K,y:te,width:Q,height:oe},img:Me,blend:ge,dispose:0})}if(Pe)for(fe=0;fe<re.length;fe++){if((ae=re[fe]).blend==1)continue;const le=ae.rect,G=re[fe-1].rect,K=Math.min(le.x,G.x),te=Math.min(le.y,G.y),Q={x:K,y:te,width:Math.max(le.x+le.width,G.x+G.width)-K,height:Math.max(le.y+le.height,G.y+G.height)-te};re[fe-1].dispose=1,fe-1!=0&&p(J,ue,Ne,re,fe-1,Q,ke),p(J,ue,Ne,re,fe,Q,ke)}let Ce=0;if(J.length!=1)for(var Re=0;Re<re.length;Re++){var ae;Ce+=(ae=re[Re]).rect.width*ae.rect.height}return re}(E,v,R,P,z,F),Y={},U=[],L=[];if($!=0){const he=[];for(W=0;W<H.length;W++)he.push(H[W].img.buffer);const J=function(ke){let ee=0;for(var re=0;re<ke.length;re++)ee+=ke[re].byteLength;const fe=new Uint8Array(ee);let Me=0;for(re=0;re<ke.length;re++){const be=new Uint8Array(ke[re]),Ce=be.length;for(let Re=0;Re<Ce;Re+=4){let ae=be[Re],le=be[Re+1],G=be[Re+2];const K=be[Re+3];K==0&&(ae=le=G=0),fe[Me+Re]=ae,fe[Me+Re+1]=le,fe[Me+Re+2]=G,fe[Me+Re+3]=K}Me+=Ce}return fe.buffer}(he),ue=y(J,$);for(W=0;W<ue.plte.length;W++)U.push(ue.plte[W].est.rgba);let Ne=0;for(W=0;W<H.length;W++){const Pe=(se=H[W]).img.length;var X=new Uint8Array(ue.inds.buffer,Ne>>2,Pe>>2);L.push(X);const ke=new Uint8Array(ue.abuf,Ne,Pe);M&&l(se.img,se.rect.width,se.rect.height,U,ke,X),se.img.set(ke),Ne+=Pe}}else for(q=0;q<H.length;q++){var se=H[q];const he=new Uint32Array(se.img.buffer);var ce=se.rect.width;for(I=he.length,X=new Uint8Array(I),L.push(X),W=0;W<I;W++){const J=he[W];if(W!=0&&J==he[W-1])X[W]=X[W-1];else if(W>ce&&J==he[W-ce])X[W]=X[W-ce];else{let ue=Y[J];if(ue==null&&(Y[J]=ue=U.length,U.push(J),U.length>=300))break;X[W]=ue}}}const ve=U.length;for(ve<=256&&A==0&&(O=ve<=2?1:ve<=4?2:ve<=16?4:8,O=Math.max(O,C)),q=0;q<H.length;q++){(se=H[q]).rect.x,se.rect.y,ce=se.rect.width;const he=se.rect.height;let J=se.img;new Uint32Array(J.buffer);let ue=4*ce,Ne=4;if(ve<=256&&A==0){ue=Math.ceil(O*ce/8);var me=new Uint8Array(ue*he);const Pe=L[q];for(let ke=0;ke<he;ke++){W=ke*ue;const ee=ke*ce;if(O==8)for(var xe=0;xe<ce;xe++)me[W+xe]=Pe[ee+xe];else if(O==4)for(xe=0;xe<ce;xe++)me[W+(xe>>1)]|=Pe[ee+xe]<<4-4*(1&xe);else if(O==2)for(xe=0;xe<ce;xe++)me[W+(xe>>2)]|=Pe[ee+xe]<<6-2*(3&xe);else if(O==1)for(xe=0;xe<ce;xe++)me[W+(xe>>3)]|=Pe[ee+xe]<<7-1*(7&xe)}J=me,D=3,Ne=1}else if(B==0&&H.length==1){me=new Uint8Array(ce*he*3);const Pe=ce*he;for(W=0;W<Pe;W++){const ke=3*W,ee=4*W;me[ke]=J[ee],me[ke+1]=J[ee+1],me[ke+2]=J[ee+2]}J=me,D=2,Ne=3,ue=3*ce}se.img=J,se.bpl=ue,se.bpp=Ne}return{ctype:D,depth:O,plte:U,frames:H}}function p(E,v,R,$,j,P,z){const F=Uint8Array,C=Uint32Array,A=new F(E[j-1]),M=new C(E[j-1]),D=j+1<E.length?new F(E[j+1]):null,O=new F(E[j]),V=new C(O.buffer);let q=v,I=R,W=-1,B=-1;for(let Y=0;Y<P.height;Y++)for(let U=0;U<P.width;U++){const L=P.x+U,X=P.y+Y,se=X*v+L,ce=V[se];ce==0||$[j-1].dispose==0&&M[se]==ce&&(D==null||D[4*se+3]!=0)||(L<q&&(q=L),L>W&&(W=L),X<I&&(I=X),X>B&&(B=X))}W==-1&&(q=I=W=B=0),z&&((1&q)==1&&q--,(1&I)==1&&I--),P={x:q,y:I,width:W-q+1,height:B-I+1};const H=$[j];H.rect=P,H.blend=1,H.img=new Uint8Array(P.width*P.height*4),$[j-1].dispose==0?(e(A,v,R,H.img,P.width,P.height,-P.x,-P.y,0),m(O,v,R,H.img,P)):e(O,v,R,H.img,P.width,P.height,-P.x,-P.y,0)}function m(E,v,R,$,j){e(E,v,R,$,j.width,j.height,-j.x,-j.y,2)}function u(E,v,R,$,j,P,z){const F=[];let C,A=[0,1,2,3,4];P!=-1?A=[P]:(v*$>5e5||R==1)&&(A=[0]),z&&(C={level:0});const M=kT;for(var D=0;D<A.length;D++){for(let q=0;q<v;q++)g(j,E,q,$,R,A[D]);F.push(M.deflate(j,C))}let O,V=1e9;for(D=0;D<F.length;D++)F[D].length<V&&(O=D,V=F[D].length);return F[O]}function g(E,v,R,$,j,P){const z=R*$;let F=z+R;if(E[F]=P,F++,P==0)if($<500)for(var C=0;C<$;C++)E[F+C]=v[z+C];else E.set(new Uint8Array(v.buffer,z,$),F);else if(P==1){for(C=0;C<j;C++)E[F+C]=v[z+C];for(C=j;C<$;C++)E[F+C]=v[z+C]-v[z+C-j]+256&255}else if(R==0){for(C=0;C<j;C++)E[F+C]=v[z+C];if(P==2)for(C=j;C<$;C++)E[F+C]=v[z+C];if(P==3)for(C=j;C<$;C++)E[F+C]=v[z+C]-(v[z+C-j]>>1)+256&255;if(P==4)for(C=j;C<$;C++)E[F+C]=v[z+C]-r(v[z+C-j],0,0)+256&255}else{if(P==2)for(C=0;C<$;C++)E[F+C]=v[z+C]+256-v[z+C-$]&255;if(P==3){for(C=0;C<j;C++)E[F+C]=v[z+C]+256-(v[z+C-$]>>1)&255;for(C=j;C<$;C++)E[F+C]=v[z+C]+256-(v[z+C-$]+v[z+C-j]>>1)&255}if(P==4){for(C=0;C<j;C++)E[F+C]=v[z+C]+256-r(0,v[z+C-$],0)&255;for(C=j;C<$;C++)E[F+C]=v[z+C]+256-r(v[z+C-j],v[z+C-$],v[z+C-j-$])&255}}}function y(E,v){const R=new Uint8Array(E),$=R.slice(0),j=new Uint32Array($.buffer),P=S($,v),z=P[0],F=P[1],C=R.length,A=new Uint8Array(C>>2);let M;if(R.length<2e7)for(var D=0;D<C;D+=4)M=x(z,O=R[D]*(1/255),V=R[D+1]*(1/255),q=R[D+2]*(1/255),I=R[D+3]*(1/255)),A[D>>2]=M.ind,j[D>>2]=M.est.rgba;else for(D=0;D<C;D+=4){var O=R[D]*.00392156862745098,V=R[D+1]*(1/255),q=R[D+2]*(1/255),I=R[D+3]*(1/255);for(M=z;M.left;)M=N(M.est,O,V,q,I)<=0?M.left:M.right;A[D>>2]=M.ind,j[D>>2]=M.est.rgba}return{abuf:$.buffer,inds:A,plte:F}}function S(E,v,R){R==null&&(R=1e-4);const $=new Uint32Array(E.buffer),j={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};j.bst=T(E,j.i0,j.i1),j.est=k(j.bst);const P=[j];for(;P.length<v;){let F=0,C=0;for(var z=0;z<P.length;z++)P[z].est.L>F&&(F=P[z].est.L,C=z);if(F<R)break;const A=P[C],M=_(E,$,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=M||A.i1<=M){A.est.L=0;continue}const D={i0:A.i0,i1:M,bst:null,est:null,tdst:0,left:null,right:null};D.bst=T(E,D.i0,D.i1),D.est=k(D.bst);const O={i0:M,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:A.bst.N-D.bst.N},z=0;z<16;z++)O.bst.R[z]=A.bst.R[z]-D.bst.R[z];for(z=0;z<4;z++)O.bst.m[z]=A.bst.m[z]-D.bst.m[z];O.est=k(O.bst),A.left=D,A.right=O,P[C]=D,P.push(O)}for(P.sort((F,C)=>C.bst.N-F.bst.N),z=0;z<P.length;z++)P[z].ind=z;return[j,P]}function x(E,v,R,$,j){if(E.left==null)return E.tdst=function(D,O,V,q,I){const W=O-D[0],B=V-D[1],H=q-D[2],Y=I-D[3];return W*W+B*B+H*H+Y*Y}(E.est.q,v,R,$,j),E;const P=N(E.est,v,R,$,j);let z=E.left,F=E.right;P>0&&(z=E.right,F=E.left);const C=x(z,v,R,$,j);if(C.tdst<=P*P)return C;const A=x(F,v,R,$,j);return A.tdst<C.tdst?A:C}function N(E,v,R,$,j){const{e:P}=E;return P[0]*v+P[1]*R+P[2]*$+P[3]*j-E.eMq}function _(E,v,R,$,j,P){for($-=4;R<$;){for(;w(E,R,j)<=P;)R+=4;for(;w(E,$,j)>P;)$-=4;if(R>=$)break;const z=v[R>>2];v[R>>2]=v[$>>2],v[$>>2]=z,R+=4,$-=4}for(;w(E,R,j)>P;)R-=4;return R+4}function w(E,v,R){return E[v]*R[0]+E[v+1]*R[1]+E[v+2]*R[2]+E[v+3]*R[3]}function T(E,v,R){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=[0,0,0,0],P=R-v>>2;for(let z=v;z<R;z+=4){const F=E[z]*.00392156862745098,C=E[z+1]*(1/255),A=E[z+2]*(1/255),M=E[z+3]*(1/255);j[0]+=F,j[1]+=C,j[2]+=A,j[3]+=M,$[0]+=F*F,$[1]+=F*C,$[2]+=F*A,$[3]+=F*M,$[5]+=C*C,$[6]+=C*A,$[7]+=C*M,$[10]+=A*A,$[11]+=A*M,$[15]+=M*M}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:j,N:P}}function k(E){const{R:v}=E,{m:R}=E,{N:$}=E,j=R[0],P=R[1],z=R[2],F=R[3],C=$==0?0:1/$,A=[v[0]-j*j*C,v[1]-j*P*C,v[2]-j*z*C,v[3]-j*F*C,v[4]-P*j*C,v[5]-P*P*C,v[6]-P*z*C,v[7]-P*F*C,v[8]-z*j*C,v[9]-z*P*C,v[10]-z*z*C,v[11]-z*F*C,v[12]-F*j*C,v[13]-F*P*C,v[14]-F*z*C,v[15]-F*F*C],M=A,D=b;let O=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,q=0;if($!=0)for(let W=0;W<16&&(O=D.multVec(M,O),q=Math.sqrt(D.dot(O,O)),O=D.sml(1/q,O),!(W!=0&&Math.abs(q-V)<1e-9));W++)V=q;const I=[j*C,P*C,z*C,F*C];return{Cov:A,q:I,e:O,L:V,eMq255:D.dot(D.sml(255,I),O),eMq:D.dot(O,I),rgba:(Math.round(255*I[3])<<24|Math.round(255*I[2])<<16|Math.round(255*I[1])<<8|Math.round(255*I[0])<<0)>>>0}}var b={multVec:(E,v)=>[E[0]*v[0]+E[1]*v[1]+E[2]*v[2]+E[3]*v[3],E[4]*v[0]+E[5]*v[1]+E[6]*v[2]+E[7]*v[3],E[8]*v[0]+E[9]*v[1]+E[10]*v[2]+E[11]*v[3],E[12]*v[0]+E[13]*v[1]+E[14]*v[2]+E[15]*v[3]],dot:(E,v)=>E[0]*v[0]+E[1]*v[1]+E[2]*v[2]+E[3]*v[3],sml:(E,v)=>[E*v[0],E*v[1],E*v[2],E*v[3]]};jr.encode=function(v,R,$,j,P,z,F){j==null&&(j=0),F==null&&(F=!1);const C=d(v,R,$,j,[!1,!1,!1,0,F,!1]);return h(C,-1),c(C,R,$,P,z)},jr.encodeLL=function(v,R,$,j,P,z,F,C){const A={ctype:0+(j==1?0:2)+(P==0?0:4),depth:z,frames:[]},M=(j+P)*z,D=M*R;for(let O=0;O<v.length;O++)A.frames.push({rect:{x:0,y:0,width:R,height:$},img:new Uint8Array(v[O]),blend:0,dispose:1,bpp:Math.ceil(M/8),bpl:Math.ceil(D/8)});return h(A,0,!0),c(A,R,$,F,C)},jr.encode.compress=d,jr.encode.dither=l,jr.quantize=y,jr.quantize.getKDtree=S,jr.quantize.getNearest=x})();const Jj={toArrayBuffer(e,s){const r=e.width,a=e.height,n=r<<2,i=e.getContext("2d").getImageData(0,0,r,a),o=new Uint32Array(i.data.buffer),l=(32*r+31)/32<<2,c=l*a,h=122+c,d=new ArrayBuffer(h),p=new DataView(d),m=1<<20;let u,g,y,S,x=m,N=0,_=0,w=0;function T(E){p.setUint16(_,E,!0),_+=2}function k(E){p.setUint32(_,E,!0),_+=4}function b(E){_+=E}T(19778),k(h),b(4),k(122),k(108),k(r),k(-a>>>0),T(1),T(32),k(3),k(c),k(2835),k(2835),b(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function E(){for(;N<a&&x>0;){for(S=122+N*l,u=0;u<n;)x--,g=o[w++],y=g>>>24,p.setUint32(S+u,g<<8|y),u+=4;N++}w<o.length?(x=m,setTimeout(E,Jj._dly)):s(d)}()},toBlob(e,s){this.toArrayBuffer(e,r=>{s(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Es={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},PT={[Es.CHROME]:16384,[Es.FIREFOX]:11180,[Es.DESKTOP_SAFARI]:16384,[Es.IE]:8192,[Es.IOS]:4096,[Es.ETC]:8192};const jh=typeof window<"u",Zj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ld=jh&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ET=(jh||Zj)&&(ld&&ld.getOriginalSymbol(window,"File")||typeof File<"u"&&File),e1=(jh||Zj)&&(ld&&ld.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Nh(e,s,r=Date.now()){return new Promise(a=>{const n=e.split(","),i=n[0].match(/:(.*?);/)[1],o=globalThis.atob(n[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const h=new Blob([c],{type:i});h.name=s,h.lastModified=r,a(h)})}function t1(e){return new Promise((s,r)=>{const a=new e1;a.onload=()=>s(a.result),a.onerror=n=>r(n),a.readAsDataURL(e)})}function s1(e){return new Promise((s,r)=>{const a=new Image;a.onload=()=>s(a),a.onerror=n=>r(n),a.src=e})}function dn(){if(dn.cachedResult!==void 0)return dn.cachedResult;let e=Es.ETC;const{userAgent:s}=navigator;return/Chrom(e|ium)/i.test(s)?e=Es.CHROME:/iP(ad|od|hone)/i.test(s)&&/WebKit/i.test(s)?e=Es.IOS:/Safari/i.test(s)?e=Es.DESKTOP_SAFARI:/Firefox/i.test(s)?e=Es.FIREFOX:(/MSIE/i.test(s)||document.documentMode)&&(e=Es.IE),dn.cachedResult=e,dn.cachedResult}function r1(e,s){const r=dn(),a=PT[r];let n=e,i=s,o=n*i;const l=n>i?i/n:n/i;for(;o>a*a;){const c=(a+n)/2,h=(a+i)/2;c<h?(i=h,n=h*l):(i=c*l,n=c),o=n*i}return{width:n,height:i}}function ju(e,s){let r,a;try{if(r=new OffscreenCanvas(e,s),a=r.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),a=r.getContext("2d")}return r.width=e,r.height=s,[r,a]}function a1(e,s){const{width:r,height:a}=r1(e.width,e.height),[n,i]=ju(r,a);return s&&/jpe?g/.test(s)&&(i.fillStyle="white",i.fillRect(0,0,n.width,n.height)),i.drawImage(e,0,0,n.width,n.height),n}function xc(){return xc.cachedResult!==void 0||(xc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xc.cachedResult}function cd(e,s={}){return new Promise(function(r,a){let n,i;var o=function(){try{return i=a1(n,s.fileType||e.type),r([n,i])}catch(c){return a(c)}},l=function(c){try{var h=function(d){try{throw d}catch(p){return a(p)}};try{let d;return t1(e).then(function(p){try{return d=p,s1(d).then(function(m){try{return n=m,function(){try{return o()}catch(u){return a(u)}}()}catch(u){return h(u)}},h)}catch(m){return h(m)}},h)}catch(d){h(d)}}catch(d){return a(d)}};try{if(xc()||[Es.DESKTOP_SAFARI,Es.MOBILE_SAFARI].includes(dn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return n=c,o()}catch{return l()}},l)}catch{l()}})}function dd(e,s,r,a,n=1){return new Promise(function(i,o){let l;if(s==="image/png"){let p,m,u;return p=e.getContext("2d"),{data:m}=p.getImageData(0,0,e.width,e.height),u=jr.encode([m.buffer],e.width,e.height,4096*n),l=new Blob([u],{type:s}),l.name=r,l.lastModified=a,c.call(this)}{let p=function(){return c.call(this)};var h=p;if(s==="image/bmp")return new Promise(m=>Jj.toBlob(e,m)).then((function(m){try{return l=m,l.name=r,l.lastModified=a,p.call(this)}catch(u){return o(u)}}).bind(this),o);{let m=function(){return p.call(this)};var d=m;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:s,quality:n}).then((function(u){try{return l=u,l.name=r,l.lastModified=a,m.call(this)}catch(g){return o(g)}}).bind(this),o);{let u;return u=e.toDataURL(s,n),Nh(u,r,a).then((function(g){try{return l=g,m.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function c(){return i(l)}})}function Br(e){e.width=0,e.height=0}function Xn(){return new Promise(function(e,s){let r,a,n,i;return Xn.cachedResult!==void 0?e(Xn.cachedResult):Nh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return r=o,cd(r).then(function(l){try{return a=l[1],dd(a,r.type,r.name,r.lastModified).then(function(c){try{return n=c,Br(a),cd(n).then(function(h){try{return i=h[0],Xn.cachedResult=i.width===1&&i.height===2,e(Xn.cachedResult)}catch(d){return s(d)}},s)}catch(h){return s(h)}},s)}catch(c){return s(c)}},s)}catch(l){return s(l)}},s)})}function n1(e){return new Promise((s,r)=>{const a=new e1;a.onload=n=>{const i=new DataView(n.target.result);if(i.getUint16(0,!1)!=65496)return s(-2);const o=i.byteLength;let l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return s(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return s(-1);const h=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,h);const d=i.getUint16(l,h);l+=2;for(let p=0;p<d;p++)if(i.getUint16(l+12*p,h)==274)return s(i.getUint16(l+12*p+8,h))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return s(-1)},a.onerror=n=>r(n),a.readAsArrayBuffer(e)})}function i1(e,s){const{width:r}=e,{height:a}=e,{maxWidthOrHeight:n}=s;let i,o=e;return isFinite(n)&&(r>n||a>n)&&([o,i]=ju(r,a),r>a?(o.width=n,o.height=a/r*n):(o.width=r/a*n,o.height=n),i.drawImage(e,0,0,o.width,o.height),Br(e)),o}function o1(e,s){const{width:r}=e,{height:a}=e,[n,i]=ju(r,a);switch(s>4&&s<9?(n.width=a,n.height=r):(n.width=r,n.height=a),s){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,a);break;case 4:i.transform(1,0,0,-1,0,a);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,a,0);break;case 7:i.transform(0,-1,-1,0,a,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,a),Br(e),n}function A0(e,s,r=0){return new Promise(function(a,n){let i,o,l,c,h,d,p,m,u,g,y,S,x,N,_,w,T,k,b,E;function v($=5){if(s.signal&&s.signal.aborted)throw s.signal.reason;i+=$,s.onProgress(Math.min(i,100))}function R($){if(s.signal&&s.signal.aborted)throw s.signal.reason;i=Math.min(Math.max($,i),100),s.onProgress(i)}return i=r,o=s.maxIteration||10,l=1024*s.maxSizeMB*1024,v(),cd(e,s).then((function($){try{return[,c]=$,v(),h=i1(c,s),v(),new Promise(function(j,P){var z;if(!(z=s.exifOrientation))return n1(e).then((function(C){try{return z=C,F.call(this)}catch(A){return P(A)}}).bind(this),P);function F(){return j(z)}return F.call(this)}).then((function(j){try{return d=j,v(),Xn().then((function(P){try{return p=P?h:o1(h,d),v(),m=s.initialQuality||1,u=s.fileType||e.type,dd(p,u,e.name,e.lastModified,m).then((function(z){try{{let M=function(){if(o--&&(_>l||_>x)){let O,V;return O=E?.95*b.width:b.width,V=E?.95*b.height:b.height,[T,k]=ju(O,V),k.drawImage(b,0,0,O,V),m*=u==="image/png"?.85:.95,dd(T,u,e.name,e.lastModified,m).then(function(q){try{return w=q,Br(b),b=T,_=w.size,R(Math.min(99,Math.floor((N-_)/(N-l)*100))),M}catch(I){return n(I)}},n)}return[1]},D=function(){return Br(b),Br(T),Br(h),Br(p),Br(c),R(100),a(w)};var C=M,A=D;if(g=z,v(),y=g.size>l,S=g.size>e.size,!y&&!S)return R(100),a(g);var F;return x=e.size,N=g.size,_=N,b=p,E=!s.alwaysKeepResolution&&y,(F=(function(O){for(;O;){if(O.then)return void O.then(F,n);try{if(O.pop){if(O.length)return O.pop()?D.call(this):O;O=M}else O=O.call(this)}catch(V){return n(V)}}}).bind(this))(M)}}catch(M){return n(M)}}).bind(this),n)}catch(z){return n(z)}}).bind(this),n)}catch(P){return n(P)}}).bind(this),n)}catch(j){return n(j)}}).bind(this),n)})}const TT=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let um;function zT(e,s){return new Promise((r,a)=>{um||(um=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(TT));const n=new Worker(um);n.addEventListener("message",function(o){if(s.signal&&s.signal.aborted)n.terminate();else if(o.data.progress===void 0){if(o.data.error)return a(new Error(o.data.error)),void n.terminate();r(o.data.file),n.terminate()}else s.onProgress(o.data.progress)}),n.addEventListener("error",a),s.signal&&s.signal.addEventListener("abort",()=>{a(s.signal.reason),n.terminate()}),n.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})})}function ps(e,s){return new Promise(function(r,a){let n,i,o,l,c,h;if(n={...s},o=0,{onProgress:l}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=u=>{o=u,typeof l=="function"&&l(o)},!(e instanceof Blob||e instanceof ET))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||h)return A0(e,n).then((function(u){try{return i=u,m.call(this)}catch(g){return a(g)}}).bind(this),a);var d=(function(){try{return m.call(this)}catch(u){return a(u)}}).bind(this),p=function(u){try{return A0(e,n).then(function(g){try{return i=g,d()}catch(y){return a(y)}},a)}catch(g){return a(g)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",zT(e,n).then(function(u){try{return i=u,d()}catch{return p()}},p)}catch{p()}function m(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{n.preserveExif&&e.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===e.type)&&(i=Xj(e,i))}catch{}return r(i)}})}ps.getDataUrlFromFile=t1,ps.getFilefromDataUrl=Nh,ps.loadImage=s1,ps.drawImageInCanvas=a1,ps.drawFileInCanvas=cd,ps.canvasToFile=dd,ps.getExifOrientation=n1,ps.handleMaxWidthOrHeight=i1,ps.followExifOrientation=o1,ps.cleanupCanvasMemory=Br,ps.isAutoOrientationInBrowser=Xn,ps.approximateBelowMaximumCanvasSizeOfBrowser=r1,ps.copyExifWithoutOrientation=Xj,ps.getBrowserName=dn,ps.version="2.0.2";const RT=()=>{var Re;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[p,m]=f.useState([]),[u,g]=f.useState(!0),[y,S]=f.useState(!1),[x,N]=f.useState(!1),[_,w]=f.useState("inventory"),[T,k]=f.useState(!1),[b,E]=f.useState({key:null,direction:"asc"}),[v,R]=f.useState(""),[$,j]=f.useState("all"),[P,z]=f.useState({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),[F,C]=f.useState({}),[A,M]=f.useState(!1),[D,O]=f.useState(!1),[V,q]=f.useState(null),[I,W]=f.useState(!1),[B,H]=f.useState(new Map),[Y,U]=f.useState(null);f.useEffect(()=>{me()},[]),f.useEffect(()=>{J()},[_]),f.useEffect(()=>{if(_==="batches")return;(async()=>{try{let le=B;le.size===0&&(le=await me());const G={};v&&(G.search=v);const K=await He.getCodeBatches(G);let te=[];K.data?te=K.data||[]:K.batches?te=K.batches||[]:te=Array.isArray(K)?K:[];const Q=await he(te,le);o(Q)}catch(le){console.error("Failed to load batches:",le),o([])}})()},[v]),f.useEffect(()=>{T&&L()},[T]),f.useEffect(()=>(s("Certificate Codes"),r("Manage your certificate code inventory and purchases"),e(t.jsxs("button",{onClick:Ne,className:"header-create-btn",children:[t.jsx(fp,{size:20}),"Purchase Codes"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const L=async()=>{try{const le=((await He.getAuthorizationStatus()).authorizations||[]).filter(te=>te.status==="approved"),G=new Map;le.forEach(te=>{var oe,ge;const Q=te.acc_id||((oe=te.acc)==null?void 0:oe.id);if(Q){const ie=typeof Q=="string"?parseInt(Q):Q;G.has(ie)||G.set(ie,{id:ie,name:((ge=te.acc)==null?void 0:ge.name)||`ACC ${ie}`})}});const K=Array.from(G.values());console.log("Approved ACCs:",K),d(K),c([])}catch(ae){console.error("Failed to load form data:",ae),d([]),c([])}},X=async ae=>{if(!ae){c([]);return}S(!0);try{const le=typeof ae=="string"?parseInt(ae):ae,G=cc(),K="https://aeroenix.com/v1/api",te=[`${K}/training-center/accs/${le}/courses`,`${K}/acc/${le}/courses`,`${K}/training-center/courses?acc_id=${le}`];let Q=[];for(const oe of te)try{const ie=(await lt.get(oe,{headers:{Authorization:`Bearer ${G}`,Accept:"application/json"}})).data;if(Q=ie.courses||ie.data||ie||[],Q.length>0){Q=Q.map(Se=>({...Se,acc_id:le}));break}}catch{continue}if(Q.length===0)try{const oe=await He.listClasses({acc_id:le}),ge=(oe==null?void 0:oe.classes)||(oe==null?void 0:oe.data)||[],ie=new Map;ge.forEach(Se=>{if(Se.course){const Te=typeof Se.course=="object"?Se.course:{id:Se.course,name:Se.course},we=Te.id?typeof Te.id=="string"?parseInt(Te.id):Te.id:null,Z=we||Te.name;Z&&!ie.has(Z)&&(ie.set(Z,{...Te,id:we||Te.id,acc_id:le}),Q.push(ie.get(Z)))}})}catch(oe){console.error("Failed to load courses from classes:",oe)}console.log(`Loaded courses for ACC ${le}:`,Q),c(Q)}catch(le){console.error("Failed to load courses:",le),c([])}finally{S(!1)}},se=async ae=>{z({...P,acc_id:ae,course_id:"",discount_code:"",payment_amount:""}),c([]),m([]),U(null),q(null),X(ae)},ce=async(ae,le)=>{var G,K,te,Q;if(!ae||!le){m([]);return}N(!0);try{const oe=typeof ae=="string"?parseInt(ae):ae,ge=typeof le=="string"?parseInt(le):le,ie=cc(),Se="https://aeroenix.com/v1/api";console.log(`Loading discount codes for ACC ${oe} and Course ${ge}`);const Te=[`${Se}/training-center/accs/${oe}/courses/${ge}/discount-codes`,`${Se}/training-center/discount-codes?acc_id=${oe}&course_id=${ge}`,`${Se}/acc/${oe}/discount-codes?course_id=${ge}`,`${Se}/training-center/discount-codes?acc_id=${oe}`,`${Se}/acc/${oe}/discount-codes`];let we=[],Z=null;for(const pe of Te)try{console.log(`Trying endpoint: ${pe}`);const _e=await lt.get(pe,{headers:{Authorization:`Bearer ${ie}`,Accept:"application/json"}});console.log(`Response from ${pe}:`,_e.data);const Ae=_e.data;if(we=Ae.discount_codes||Ae.discountCodes||Ae.codes||Ae.data||Ae||[],Array.isArray(we)||(we=[]),console.log(`Raw codes list (${we.length} items):`,we),we.length>0&&(we=we.filter(Ee=>{const et=!(Ee.status!==void 0)||Ee.status==="active"||Ee.is_active===!0||Ee.status!=="inactive",Tt=!(Ee.expires_at!==void 0&&Ee.expires_at!==null)||new Date(Ee.expires_at)>new Date,bt=!(Ee.max_uses!==void 0&&Ee.max_uses!==null)||(Ee.used_count||0)<Ee.max_uses,Rt=et&&Tt&&bt;return console.log(`Code ${Ee.code||Ee.discount_code||Ee.id}: active=${et}, notExpired=${Tt}, hasUsesLeft=${bt}, isValid=${Rt}`),Rt}),console.log(`Filtered codes list (${we.length} items):`,we)),we.length>0){console.log(`Successfully loaded ${we.length} discount codes from ${pe}`);break}else if(we.length===0&&Array.isArray(Ae.discount_codes||Ae.discountCodes||Ae.codes||Ae.data||Ae)){console.log(`No discount codes available from ${pe}`);break}}catch(_e){console.log(`Endpoint ${pe} failed:`,(G=_e.response)==null?void 0:G.status,((K=_e.response)==null?void 0:K.data)||_e.message),Z=_e;continue}console.log(`Final discount codes for ACC ${oe} and Course ${ge}:`,we),m(we),we.length===0&&Z&&console.warn("No discount codes found. All endpoints failed or returned empty results.")}catch(oe){console.error("Failed to load discount codes:",oe),console.error("Error details:",(te=oe.response)==null?void 0:te.status,(Q=oe.response)==null?void 0:Q.data),m([])}finally{N(!1)}},ve=async ae=>{if(z({...P,course_id:ae,discount_code:"",payment_amount:""}),P.acc_id&&ae){if(ce(P.acc_id,ae),P.payment_method==="manual_payment"&&P.quantity)try{const le={acc_id:parseInt(P.acc_id,10),course_id:parseInt(ae,10),quantity:parseInt(P.quantity,10)},G=await He.createPaymentIntent(le);G.manual_payment_info&&(U(G.manual_payment_info),z(K=>({...K,payment_amount:G.final_amount||G.total_amount||""})))}catch(le){console.error("Failed to load manual payment info:",le)}}else m([])},me=async()=>{try{const ae=await He.listACCs(),le=Array.isArray(ae)?ae:ae.accs||ae.data||[],G=new Map;return le.forEach(K=>{const te=K.id||K.acc_id;te&&(G.set(te,K),G.set(String(te),K))}),H(G),console.log("Loaded ACCs map:",G.size,"ACCs"),G}catch(ae){return console.error("Failed to load ACCs:",ae),new Map}},xe=async ae=>{var le,G;if(!ae)return null;try{const K=cc(),te="https://aeroenix.com/v1/api",Q=[`${te}/training-center/accs/${ae}`,`${te}/admin/accs/${ae}`];for(const oe of Q)try{const ge=await lt.get(oe,{headers:{Authorization:`Bearer ${K}`,Accept:"application/json"}}),ie=((le=ge.data)==null?void 0:le.acc)||((G=ge.data)==null?void 0:G.data)||ge.data;if(ie&&(ie.id||ie.acc_id)){const Se=new Map(B),Te=ie.id||ie.acc_id;return Se.set(Te,ie),Se.set(String(Te),ie),H(Se),ie}}catch{continue}}catch(K){console.error(`Failed to fetch ACC details for ID ${ae}:`,K)}return null},he=async(ae,le)=>{var K,te;const G=[];for(const Q of ae){const oe=Q.acc_id||(typeof Q.acc=="object"?(K=Q.acc)==null?void 0:K.id:null)||(Q.acc&&typeof Q.acc=="number"?Q.acc:null)||(Q.acc&&typeof Q.acc=="string"&&!isNaN(Q.acc)?parseInt(Q.acc):null);if(typeof Q.acc=="object"&&((te=Q.acc)!=null&&te.name)&&Q.acc.name!=="Unknown ACC"){G.push(Q);continue}if(oe){let ge=le.get(oe)||le.get(String(oe));ge||(ge=await xe(oe),ge&&(le=new Map(le),le.set(oe,ge),le.set(String(oe),ge))),ge?G.push({...Q,acc:{id:ge.id||ge.acc_id||oe,name:ge.name||ge.acc_name||`ACC ${oe}`,...ge}}):G.push({...Q,acc:{id:oe,name:`ACC ${oe}`}})}else G.push(Q)}return G},J=async()=>{try{g(!0);let ae=B;ae.size===0&&(ae=await me());const le={};if(_==="inventory"){const G=await He.getCodeInventory({});let K=[];G.data?K=G.data||[]:G.codes?K=G.codes||[]:K=Array.isArray(G)?G:[];const te=await he(K,ae);n(te)}else{const G=await He.getCodeBatches({});let K=[];G.data?K=G.data||[]:G.batches?K=G.batches||[]:K=Array.isArray(G)?G:[];const te=await he(K,ae);o(te)}}catch(ae){console.error("Failed to load data:",ae),_==="inventory"?n([]):o([])}finally{g(!1)}},ue=f.useMemo(()=>{let ae=[...a];if(v){const le=v.toLowerCase();ae=ae.filter(G=>{var ie,Se;const K=G.code||"",te=typeof G.acc=="object"?((ie=G.acc)==null?void 0:ie.name)||"":G.acc||"",Q=typeof G.course=="object"?((Se=G.course)==null?void 0:Se.name)||"":G.course||"",oe=G.status||"";return[K,te,Q,oe].filter(Boolean).join(" ").toLowerCase().includes(le)})}return $!=="all"&&(ae=ae.filter(le=>le.status===$)),b.key&&ae.sort((le,G)=>{var Q,oe;let K,te;return typeof le[b.key]=="object"&&le[b.key]!==null?K=((Q=le[b.key])==null?void 0:Q.name)||"":K=le[b.key]||"",typeof G[b.key]=="object"&&G[b.key]!==null?te=((oe=G[b.key])==null?void 0:oe.name)||"":te=G[b.key]||"",typeof K=="string"&&(K=K.toLowerCase()),typeof te=="string"&&(te=te.toLowerCase()),K<te?b.direction==="asc"?-1:1:K>te?b.direction==="asc"?1:-1:0}),ae},[a,v,$,b]),Ne=()=>{z({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),C({}),q(null),U(null),c([]),m([]),k(!0)},Pe=async()=>{var K,te,Q,oe;if(!P.acc_id){C({general:"Please select an ACC"});return}if(!P.course_id){C({general:"Please select a course"});return}if(!P.quantity||parseInt(P.quantity)<=0){C({general:"Please enter a valid quantity"});return}const ae=parseInt(P.acc_id,10),le=parseInt(P.course_id,10),G=parseInt(P.quantity,10);if(isNaN(ae)||isNaN(le)||isNaN(G)||G<1){C({general:"Invalid data. Please check your selections and try again."});return}O(!0),C({}),q(null),U(null);try{const ge={acc_id:parseInt(ae,10),course_id:parseInt(le,10),quantity:parseInt(G,10)};if(ge.quantity<1){C({general:"Quantity must be at least 1."}),O(!1);return}P.discount_code&&P.discount_code.trim()&&(ge.discount_code=P.discount_code.trim());const ie=await He.createPaymentIntent(ge);ie.manual_payment_info&&U(ie.manual_payment_info),P.payment_method==="credit_card"&&(ie.success&&ie.client_secret&&ie.payment_intent_id?(q({...ie,commission_amount:ie.commission_amount,provider_amount:ie.provider_amount,payment_type:ie.payment_type||"standard"}),z(Se=>({...Se,payment_intent_id:ie.payment_intent_id})),W(!0)):C({general:"Failed to create payment intent. Invalid response from server."}))}catch(ge){if(console.error("Failed to create payment intent:",ge),((K=ge.response)==null?void 0:K.status)===422){const ie=ge.response.data;if(ie.errors){const Se={};Object.keys(ie.errors).forEach(Te=>{Se[Te]=Array.isArray(ie.errors[Te])?ie.errors[Te][0]:ie.errors[Te]}),C(Se)}else ie.message?C({general:ie.message}):C({general:"Validation failed. Please check your input."})}else if(((te=ge.response)==null?void 0:te.status)===400){const ie=ge.response.data;C({general:(ie==null?void 0:ie.message)||"Payment service unavailable. Please contact support."})}else if(((Q=ge.response)==null?void 0:Q.status)===500){const ie=ge.response.data;C({general:(ie==null?void 0:ie.message)||"Failed to create payment intent. Please try again later."})}else if((oe=ge.response)!=null&&oe.data){const ie=ge.response.data;if(ie.errors){const Se={};Object.keys(ie.errors).forEach(Te=>{Se[Te]=Array.isArray(ie.errors[Te])?ie.errors[Te][0]:ie.errors[Te]}),C(Se)}else ie.message?C({general:ie.message}):C({general:"Failed to create payment intent. Please try again."})}else ge.message?C({general:ge.message}):C({general:"Failed to create payment intent. Please try again."})}finally{O(!1)}},ke=async ae=>{ae.preventDefault(),P.payment_method==="manual_payment"?await ee():await Pe()},ee=async()=>{var te,Q,oe;if(!P.acc_id){C({general:"Please select an ACC"});return}if(!P.course_id){C({general:"Please select a course"});return}if(!P.quantity||parseInt(P.quantity)<=0){C({general:"Please enter a valid quantity"});return}if(!P.payment_receipt){C({payment_receipt:"Please upload payment receipt"});return}if(!P.payment_amount||parseFloat(P.payment_amount)<=0){C({payment_amount:"Please enter a valid payment amount"});return}const ae=parseInt(P.acc_id,10),le=parseInt(P.course_id,10),G=parseInt(P.quantity,10),K=parseFloat(P.payment_amount);if(isNaN(ae)||isNaN(le)||isNaN(G)||G<1||isNaN(K)||K<=0){C({general:"Invalid data. Please check your input."});return}M(!0),C({});try{const ge={acc_id:ae,course_id:le,quantity:G};P.discount_code&&P.discount_code.trim()&&(ge.discount_code=P.discount_code.trim());const ie=await He.createPaymentIntent(ge),Se=parseFloat(ie.final_amount||ie.total_amount||0);if(Math.abs(K-Se)>.01){C({payment_amount:`Payment amount must match the calculated total amount: $${Se.toFixed(2)}`}),M(!1);return}const Te=new FormData;Te.append("acc_id",ae),Te.append("course_id",le),Te.append("quantity",G),Te.append("payment_method","manual_payment"),Te.append("payment_amount",K),Te.append("payment_receipt",P.payment_receipt),P.discount_code&&P.discount_code.trim()&&Te.append("discount_code",P.discount_code.trim());const we=await He.purchaseCodes(Te);await J(),k(!1),z({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),q(null),U(null),alert("Payment request submitted successfully. Waiting for approval.")}catch(ge){if(console.error("Failed to submit manual payment:",ge),((te=ge.response)==null?void 0:te.status)===422){const ie=ge.response.data;if(ie.errors){const Se={};Object.keys(ie.errors).forEach(Te=>{Se[Te]=Array.isArray(ie.errors[Te])?ie.errors[Te][0]:ie.errors[Te]}),C(Se)}else ie.message?C({general:ie.message}):C({general:"Validation failed. Please check your input."})}else if(((Q=ge.response)==null?void 0:Q.status)===400){const ie=ge.response.data;C({general:(ie==null?void 0:ie.message)||"Invalid payment amount or receipt."})}else if((oe=ge.response)!=null&&oe.data){const ie=ge.response.data;if(ie.errors){const Se={};Object.keys(ie.errors).forEach(Te=>{Se[Te]=Array.isArray(ie.errors[Te])?ie.errors[Te][0]:ie.errors[Te]}),C(Se)}else ie.message?C({general:ie.message}):C({general:"Failed to submit payment request. Please try again."})}else C({general:"Failed to submit payment request. Please try again."})}finally{M(!1)}},re=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(ae,le)=>{var G;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Ke,{className:"batch-acc-icon"}),typeof le.acc=="object"?((G=le.acc)==null?void 0:G.name)||"N/A":le.acc||"N/A"]})}},{header:"Course",accessor:"course",sortable:!0,render:(ae,le)=>{var G;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(Jt,{className:"batch-course-icon"}),typeof le.course=="object"?((G=le.course)==null?void 0:G.name)||"N/A":le.course||"N/A"]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:(ae,le)=>t.jsx("span",{className:"batch-quantity",children:le.quantity||0})},{header:"Amount",accessor:"total_amount",sortable:!0,render:(ae,le)=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(It,{className:"batch-amount-icon"}),parseFloat(le.total_amount||0).toFixed(2)]})},{header:"Purchase Date",accessor:"purchase_date",sortable:!0,render:(ae,le)=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(tt,{className:"batch-date-icon"}),le.purchase_date?new Date(le.purchase_date).toLocaleDateString():"N/A"]})},{header:"Payment Method",accessor:"payment_method",sortable:!0,render:(ae,le)=>t.jsx("span",{className:"batch-payment-method",children:le.payment_method?le.payment_method.replace("_"," "):"N/A"})}],[]),fe=f.useMemo(()=>i.map(ae=>{var te,Q;const le=typeof ae.acc=="object"?((te=ae.acc)==null?void 0:te.name)||"":ae.acc||"",G=typeof ae.course=="object"?((Q=ae.course)==null?void 0:Q.name)||"":ae.course||"",K=[le,G,ae.quantity||"",ae.total_amount||"",ae.purchase_date?new Date(ae.purchase_date).toLocaleDateString():"",ae.payment_method||""].filter(Boolean).join(" ").toLowerCase();return{...ae,_searchText:K}}),[i]),Me=ae=>{const le=new Map;return ae.forEach(G=>{var Se,Te,we,Z;let K=G.acc_id||(typeof G.acc=="object"?(Se=G.acc)==null?void 0:Se.id:null)||(G.acc&&typeof G.acc=="number"?G.acc:null)||(G.acc&&typeof G.acc=="string"&&!isNaN(G.acc)?parseInt(G.acc):null),te="Unknown ACC";if(typeof G.acc=="object"&&((Te=G.acc)!=null&&Te.name)&&G.acc.name!=="Unknown ACC")te=G.acc.name;else if(typeof G.acc=="string"&&G.acc!=="Unknown ACC"&&G.acc)te=G.acc;else if(K){const pe=B.get(K)||B.get(String(K));pe?te=pe.name||pe.acc_name||`ACC ${K}`:te=`ACC ${K}`}const Q=typeof G.course=="object"?(we=G.course)==null?void 0:we.id:G.course,oe=typeof G.course=="object"?(Z=G.course)==null?void 0:Z.name:G.course||"Unknown Course",ge=`${K||"unknown"}_${Q||"unknown"}`;le.has(ge)||le.set(ge,{accId:K,accName:te,courseId:Q,courseName:oe,codes:[],total:0,available:0,used:0});const ie=le.get(ge);ie.codes.push(G),ie.total++,G.status==="available"&&ie.available++,G.status==="used"&&ie.used++}),Array.from(le.values())},be=(ae,le)=>`${ae||"unknown"}_${le||"unknown"}`,Ce=_==="inventory"?ue:fe;return t.jsxs("div",{children:[t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs-wrapper",children:[t.jsxs("button",{onClick:()=>{w("inventory")},className:`tab-button ${_==="inventory"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(dc,{size:20,className:_==="inventory"?"tab-icon-active":"tab-icon-inactive"}),"Inventory (",a.length,")"]}),t.jsxs("button",{onClick:()=>{w("batches")},className:`tab-button ${_==="batches"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(fp,{size:20,className:_==="batches"?"tab-icon-active":"tab-icon-inactive"}),"Purchase History (",i.length,")"]})]})}),_==="inventory"&&t.jsx("div",{className:"search-filter-container",children:t.jsxs("div",{className:"search-filter-wrapper",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(Go,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code, ACC, course, or status...",value:v,onChange:ae=>{R(ae.target.value)},className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Nn,{className:"filter-icon",size:20}),t.jsxs("select",{value:$,onChange:ae=>{j(ae.target.value)},className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"used",children:"Used"})]})]})]})}),_==="inventory"?u?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner",children:t.jsx("div",{className:"loading-spinner-icon"})})}):Ce.length===0?t.jsx("div",{className:"empty-state-container",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(dc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No codes in inventory"}),t.jsx("p",{className:"empty-state-subtitle",children:v||$!=="all"?"Try adjusting your filters":"Purchase codes to get started!"})]})}):t.jsx("div",{className:"stats-cards-grid",children:Me(Ce).map((ae,le)=>{const G=be(ae.accId,ae.courseId);return t.jsx("div",{className:"stats-card",style:{"--animation-delay":`${le*.05}s`},children:t.jsxs("div",{className:"stats-card-content",children:[t.jsxs("div",{className:"stats-card-header",children:[t.jsx("div",{className:"stats-card-icon-container",children:t.jsx(Ke,{className:"stats-card-icon"})}),t.jsxs("div",{className:"stats-card-title-section",children:[t.jsx("h3",{className:"stats-card-title",children:ae.accName}),t.jsxs("div",{className:"stats-card-subtitle",children:[t.jsx(Jt,{className:"stats-card-subtitle-icon"}),t.jsx("p",{className:"stats-card-subtitle-text",children:ae.courseName})]})]})]}),t.jsxs("div",{className:"stats-card-stats",children:[t.jsxs("div",{className:"stats-item stats-item-total",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx("div",{className:"stats-item-dot"}),t.jsx("span",{className:"stats-item-label-text",children:"Total Codes"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-total",children:ae.total})]}),t.jsxs("div",{className:"stats-item stats-item-available",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(A_,{className:"stats-item-icon stats-item-icon-available"}),t.jsx("span",{className:"stats-item-label-text",children:"Available"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-available",children:ae.available})]}),t.jsxs("div",{className:"stats-item stats-item-used",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(rt,{className:"stats-item-icon stats-item-icon-used"}),t.jsx("span",{className:"stats-item-label-text",children:"Used"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-used",children:ae.used})]})]})]})},G)})}):t.jsx("div",{className:"datatable-container",children:t.jsx(ct,{columns:re,data:fe,isLoading:u,emptyMessage:i.length===0&&!u?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(dc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No purchase history found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Your purchase history will appear here"})]}):"No purchase history found matching your filters",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, course, quantity, amount, date, or payment method...",sortable:!0})}),t.jsx(Ie,{isOpen:T,onClose:()=>{k(!1),z({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),C({}),q(null),U(null),c([]),m([])},title:"Purchase Certificate Codes",size:"lg",children:t.jsxs("form",{onSubmit:ke,className:"modal-form",children:[F.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:F.general})}),t.jsx(de,{label:"ACC",name:"acc_id",type:"select",value:P.acc_id,onChange:ae=>se(ae.target.value),required:!0,disabled:h.length===0,options:h.length>0?h.map(ae=>({value:ae.id,label:ae.name||`ACC ${ae.id}`})):[{value:"",label:"No approved ACCs available. Please get approval from an ACC first."}],error:F.acc_id}),h.length===0&&t.jsx("p",{className:"form-warning-text",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsxs("div",{children:[t.jsx(de,{label:"Course",name:"course_id",type:"select",value:P.course_id,onChange:ae=>ve(ae.target.value),required:!0,disabled:!P.acc_id||l.length===0||y,options:y?[{value:"",label:"Loading courses..."}]:l.length>0?l.map(ae=>{const le=ae.id&&typeof ae.id=="string"?parseInt(ae.id):ae.id;return{value:le,label:ae.name||ae.code||`Course ${le}`}}):P.acc_id?[{value:"",label:"No courses available for this ACC."}]:[{value:"",label:"Please select an ACC first."}],error:F.course_id}),!P.acc_id&&t.jsx("p",{className:"form-info-text",children:"Please select an ACC first to see available courses."}),P.acc_id&&l.length===0&&!y&&t.jsx("p",{className:"form-warning-text",children:"No courses available for the selected ACC."})]}),t.jsx(de,{label:"Quantity",name:"quantity",type:"number",value:P.quantity,onChange:async ae=>{const le=ae.target.value;if(z({...P,quantity:le,payment_amount:""}),P.payment_method==="manual_payment"&&P.acc_id&&P.course_id&&le)try{const G={acc_id:parseInt(P.acc_id,10),course_id:parseInt(P.course_id,10),quantity:parseInt(le,10)};P.discount_code&&P.discount_code.trim()&&(G.discount_code=P.discount_code.trim());const K=await He.createPaymentIntent(G);K.manual_payment_info&&(U(K.manual_payment_info),q(K),z(te=>({...te,payment_amount:K.final_amount||K.total_amount||""})))}catch(G){console.error("Failed to load manual payment info:",G)}},required:!0,min:"1",error:F.quantity}),t.jsxs("div",{children:[p.length>0?t.jsx(de,{label:"Discount Code (Optional)",name:"discount_code",type:"select",value:P.discount_code,onChange:ae=>z({...P,discount_code:ae.target.value}),disabled:x,options:[{value:"",label:"No discount code"},...p.map(ae=>({value:ae.code||ae.discount_code||ae.id,label:`${ae.code||ae.discount_code||`Code ${ae.id}`}${ae.discount_percentage?` - ${ae.discount_percentage}% off`:""}${ae.discount_amount?` - $${ae.discount_amount} off`:""}`}))],error:F.discount_code,helpText:`${p.length} discount code${p.length>1?"s":""} available for this course`}):t.jsx(de,{label:"Discount Code (Optional)",name:"discount_code",type:"text",value:P.discount_code,onChange:ae=>z({...P,discount_code:ae.target.value}),placeholder:"Enter discount code manually",disabled:x,error:F.discount_code,helpText:x?"Loading discount codes...":P.course_id?"No discount codes available. You can enter a code manually if you have one.":"Select a course first to see available discount codes"}),p.length>0&&t.jsxs("div",{className:"discount-codes-container",children:[t.jsx("p",{className:"discount-codes-title",children:"Available Discount Codes:"}),t.jsx("div",{className:"discount-codes-list",children:p.map((ae,le)=>t.jsxs("div",{className:"discount-code-item",children:[t.jsx("span",{className:"discount-code-value",children:ae.code||ae.discount_code}),t.jsxs("div",{className:"discount-code-details",children:[ae.discount_percentage&&t.jsxs("span",{className:"discount-code-percentage",children:[ae.discount_percentage,"% off"]}),ae.discount_amount&&t.jsxs("span",{className:"discount-code-amount",children:["$",ae.discount_amount," off"]}),ae.expires_at&&t.jsxs("span",{className:"discount-code-expiry",children:["Expires: ",new Date(ae.expires_at).toLocaleDateString()]})]})]},ae.id||le))})]})]}),t.jsx(de,{label:"Payment Method",name:"payment_method",type:"select",value:P.payment_method,onChange:async ae=>{const le=ae.target.value;if(z({...P,payment_method:le,payment_intent_id:"",payment_amount:"",payment_receipt:null}),q(null),U(null),C({}),le==="manual_payment"&&P.acc_id&&P.course_id&&P.quantity)try{const G={acc_id:parseInt(P.acc_id,10),course_id:parseInt(P.course_id,10),quantity:parseInt(P.quantity,10)};P.discount_code&&P.discount_code.trim()&&(G.discount_code=P.discount_code.trim());const K=await He.createPaymentIntent(G);K.manual_payment_info&&(U(K.manual_payment_info),z(te=>({...te,payment_amount:K.final_amount||K.total_amount||""})))}catch(G){console.error("Failed to load manual payment info:",G)}},options:[{value:"credit_card",label:"Credit Card"},{value:"manual_payment",label:"Manual Payment (Upload Invoice)"}],error:F.payment_method}),P.payment_method==="manual_payment"&&t.jsxs(t.Fragment,{children:[Y&&t.jsxs("div",{className:"payment-info-container",style:{marginBottom:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("p",{className:"payment-info-title",style:{fontWeight:"600",marginBottom:"8px"},children:"Manual Payment Information"}),t.jsxs("p",{className:"payment-info-text",style:{fontSize:"14px",color:"#666",marginBottom:"4px"},children:["Final Amount: $",(V==null?void 0:V.final_amount)||(V==null?void 0:V.total_amount)||"0.00"]}),Y.requires_receipt&&t.jsxs("p",{className:"payment-info-text",style:{fontSize:"12px",color:"#888"},children:["Supported formats: ",((Re=Y.receipt_formats)==null?void 0:Re.join(", ").toUpperCase())||"PDF, JPG, PNG","(Max: ",Y.max_receipt_size_mb||10," MB)"]})]}),t.jsx(de,{label:"Payment Amount",name:"payment_amount",type:"number",value:P.payment_amount,onChange:ae=>z({...P,payment_amount:ae.target.value}),required:!0,min:"0",step:"0.01",error:F.payment_amount,helpText:Y!=null&&Y.final_amount?`Enter the amount you paid (should match: $${Y.final_amount})`:"Enter the payment amount"}),t.jsxs("div",{className:"form-input-group",children:[t.jsxs("label",{className:"form-input-label",children:["Payment Receipt ",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:async ae=>{const le=ae.target.files[0];if(le){const G=(Y==null?void 0:Y.receipt_formats)||["pdf","jpg","jpeg","png"],K=le.name.split(".").pop().toLowerCase();if(!G.includes(K)){C({payment_receipt:`File type not supported. Allowed: ${G.join(", ").toUpperCase()}`});return}try{let te=le;if(["jpg","jpeg","png"].includes(K)){const oe={maxSizeMB:(Y==null?void 0:Y.max_receipt_size_mb)||10,maxWidthOrHeight:4096,useWebWorker:!0,fileType:le.type,initialQuality:.95};te=await ps(le,oe);const ge=le.name.substring(0,le.name.lastIndexOf("."))+"."+K;te=new File([te],ge,{type:le.type})}const Q=((Y==null?void 0:Y.max_receipt_size_mb)||10)*1024*1024;if(te.size>Q){C({payment_receipt:`File size must be less than ${(Y==null?void 0:Y.max_receipt_size_mb)||10} MB`});return}z({...P,payment_receipt:te}),C({...F,payment_receipt:null})}catch(te){console.error("Error processing file:",te),C({payment_receipt:"Failed to process file. Please try again."})}}},className:"form-input form-input-file"}),F.payment_receipt&&t.jsx("span",{className:"form-input-error",children:F.payment_receipt}),P.payment_receipt&&t.jsxs("p",{className:"form-input-help",style:{marginTop:"4px",fontSize:"12px",color:"#666"},children:["Selected: ",P.payment_receipt.name," (",(P.payment_receipt.size/1024/1024).toFixed(2)," MB)"]})]})]}),P.payment_method==="credit_card"&&t.jsxs("div",{className:"payment-info-container",children:[t.jsx("p",{className:"payment-info-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-info-text",children:'Payment will be processed securely through Stripe. The total amount will be calculated including any discounts. Click "Purchase Codes" below to enter your card details.'})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{k(!1),C({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:D||A||!P.acc_id||!P.course_id||!P.quantity,className:"form-btn form-btn-submit",children:D||A?"Processing...":"Purchase Codes"})]})]})}),t.jsx(id,{isOpen:I,onClose:()=>{W(!1)},clientSecret:V==null?void 0:V.client_secret,paymentIntentId:V==null?void 0:V.payment_intent_id,amount:(V==null?void 0:V.final_amount)||0,currency:(V==null?void 0:V.currency)||"USD",paymentSummary:V,onPaymentSuccess:async(ae,le)=>{var G,K,te,Q,oe,ge;try{if(!ae){C({general:"Payment intent not found. Please try again."}),W(!1);return}if(ae.status!=="succeeded"){C({general:`Payment not completed. Status: ${ae.status}. Please complete the payment and try again.`}),W(!1);return}const ie=parseInt(P.acc_id,10),Se=parseInt(P.course_id,10),Te=parseInt(P.quantity,10);if(isNaN(ie)||isNaN(Se)||isNaN(Te)||Te<1)throw C({general:"Invalid data. Please check your selections and try again."}),new Error("Invalid data");const we=ae.id||le;if(!we){C({general:"Payment intent ID not found. Please try again."}),W(!1);return}const Z={acc_id:ie,course_id:Se,quantity:Te,payment_method:"credit_card",payment_intent_id:we};P.discount_code&&P.discount_code.trim()&&(Z.discount_code=P.discount_code.trim()),console.log(" Purchase request data:",Z),console.log(" Payment Intent:",{id:ae.id,status:ae.status,paymentIntentId:le}),await He.purchaseCodes(Z),await J(),k(!1),W(!1),q(null),alert("Codes purchased successfully!")}catch(ie){if(console.error("Failed to purchase codes:",ie),((G=ie.response)==null?void 0:G.status)===400){const Se=ie.response.data;C({general:(Se==null?void 0:Se.message)||"Payment verification failed. Please contact support."})}else if(((K=ie.response)==null?void 0:K.status)===402){const Se=ie.response.data;C({general:(Se==null?void 0:Se.message)||"Insufficient wallet balance. Please add funds to your wallet or use a different payment method."})}else if(((te=ie.response)==null?void 0:te.status)===403){const Se=ie.response.data;C({general:(Se==null?void 0:Se.message)||"You do not have authorization from this ACC or the ACC is not active."})}else if(((Q=ie.response)==null?void 0:Q.status)===422){const Se=ie.response.data;if(Se.errors){const Te={};Object.keys(Se.errors).forEach(we=>{Te[we]=Array.isArray(Se.errors[we])?Se.errors[we][0]:Se.errors[we]}),C(Te)}else Se.message?C({general:Se.message}):C({general:"Validation failed. Please check your input."})}else if(((oe=ie.response)==null?void 0:oe.status)===500){const Se=ie.response.data;console.error("Server error details:",Se),C({general:(Se==null?void 0:Se.message)||"Server error occurred. Please contact support or try again later."})}else if((ge=ie.response)!=null&&ge.data){const Se=ie.response.data;if(Se.errors){const Te={};Object.keys(Se.errors).forEach(we=>{Te[we]=Array.isArray(Se.errors[we])?Se.errors[we][0]:Se.errors[we]}),C(Te)}else Se.message?C({general:Se.message}):C({general:"Payment succeeded but failed to complete purchase. Please contact support."})}else C({general:"Payment succeeded but failed to complete purchase. Please contact support."});throw ie}},onPaymentError:ae=>{C({general:ae})}})]})},FT=()=>{var V;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[p,m]=f.useState(!0),[u,g]=f.useState(!1),[y,S]=f.useState(!1),[x,N]=f.useState(null),[_,w]=f.useState("all"),[T,k]=f.useState({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:""}),[b,E]=f.useState({}),[v,R]=f.useState(!1);f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Certificates"),r("Manage and generate training certificates"),e(t.jsxs("button",{onClick:j,className:"header-create-btn",children:[t.jsx(Os,{size:20}),"Generate Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const $=async()=>{try{m(!0);const[q,I,W]=await Promise.all([He.listCertificates({per_page:1e3}),He.listClasses(),He.getCodeInventory({status:"available"})]);let B=[];q.data?B=q.data||[]:q.certificates?B=q.certificates||[]:B=Array.isArray(q)?q:[],n(B),o(I.classes||[]),c(W.codes||[])}catch(q){console.error("Failed to load data:",q),n([])}finally{m(!1)}},j=()=>{k({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),E({}),g(!0)},P=()=>{g(!1),k({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),E({}),d([])},z=q=>{var B;const{name:I,value:W}=q.target;if(I==="training_class_id"){const H=i.find(Y=>Y.id===parseInt(W));if(H){const Y=typeof H.course=="object"?(B=H.course)==null?void 0:B.id:H.course,U=l.filter(L=>{var se;const X=typeof L.course=="object"?(se=L.course)==null?void 0:se.id:L.course;return X===Y||X==Y});d(U),k({...T,training_class_id:W,code_id:""})}else d([]),k({...T,training_class_id:W,code_id:""})}else k({...T,[I]:W});b[q.target.name]&&E(H=>{const Y={...H};return delete Y[q.target.name],Y})};f.useEffect(()=>{var q;if(u&&T.training_class_id){const I=i.find(W=>W.id===parseInt(T.training_class_id));if(I){const W=typeof I.course=="object"?(q=I.course)==null?void 0:q.id:I.course,B=l.filter(H=>{var U;const Y=typeof H.course=="object"?(U=H.course)==null?void 0:U.id:H.course;return Y===W||Y==W});d(B)}}else u&&!T.training_class_id&&d([])},[u,l,i]);const F=async q=>{var I;q.preventDefault(),R(!0),E({});try{const W={training_class_id:parseInt(T.training_class_id),code_id:parseInt(T.code_id),trainee_name:T.trainee_name.trim(),trainee_id_number:T.trainee_id_number.trim(),issue_date:T.issue_date||new Date().toISOString().split("T")[0]};await He.generateCertificate(W),await $(),P(),alert("Certificate generated successfully!")}catch(W){if(console.error("Failed to generate certificate:",W),(I=W.response)!=null&&I.data){const B=W.response.data;if(B.errors){const H={};Object.keys(B.errors).forEach(Y=>{H[Y]=Array.isArray(B.errors[Y])?B.errors[Y][0]:B.errors[Y]}),E(H)}else B.message?E({general:B.message}):E(B)}else W.message?E({general:W.message}):E({general:"Failed to generate certificate. Please try again."})}finally{R(!1)}},C=async q=>{try{const I=await He.getCertificateDetails(q.id);N(I.certificate||q),S(!0)}catch(I){console.error("Failed to load certificate details:",I),N(q),S(!0)}},A=q=>{q.certificate_pdf_url?window.open(q.certificate_pdf_url,"_blank"):alert("Certificate PDF not available")},M=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(q,I)=>t.jsxs("div",{className:"certificate-number-container",children:[t.jsx("div",{className:"certificate-number-icon-container",children:t.jsx(Ye,{className:"certificate-number-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"certificate-number-text",children:I.certificate_number||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:(q,I)=>t.jsxs("div",{className:"trainee-container",children:[t.jsx(Ls,{className:"trainee-icon"}),I.trainee_name||"N/A"]})},{header:"Course",accessor:"course",sortable:!0,render:(q,I)=>{var W;return t.jsxs("div",{className:"course-container",children:[t.jsx(Jt,{className:"course-icon"}),typeof I.course=="object"?((W=I.course)==null?void 0:W.name)||"N/A":I.course||"N/A"]})}},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:(q,I)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),I.issue_date?new Date(I.issue_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(q,I)=>{const W=I.status==="valid",B=W?$e:rt;return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${W?"valid":"expired"}`,children:[t.jsx(B,{size:14,className:"status-icon"}),I.status?I.status.charAt(0).toUpperCase()+I.status.slice(1):"N/A"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(q,I)=>t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:W=>{W.stopPropagation(),C(I)},className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ls,{size:18})}),I.certificate_pdf_url?t.jsx("button",{onClick:W=>{W.stopPropagation(),A(I)},className:"action-btn action-btn-download",title:"Download PDF",children:t.jsx(Hc,{size:18})}):t.jsx("button",{onClick:W=>{W.stopPropagation(),C(I)},className:"action-btn action-btn-download",title:"View Info",children:t.jsx(Ye,{size:18})})]})}],[C,A]),D=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:q=>q.status==="valid"},{value:"expired",label:"Expired",filterFn:q=>q.status==="expired"}],[]),O=f.useMemo(()=>a.map(q=>{var B;const I=typeof q.course=="object"?((B=q.course)==null?void 0:B.name)||"":q.course||"",W=[q.certificate_number||"",q.trainee_name||"",I,q.verification_code||"",q.status||""].filter(Boolean).join(" ").toLowerCase();return{...q,_searchText:W}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(ct,{columns:M,data:O,onRowClick:C,isLoading:p,emptyMessage:a.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ye,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No certificates found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Generate your first certificate!"})]}):"No certificates found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by certificate number, trainee name, course, or verification code...",filterOptions:D,sortable:!0,defaultFilter:_})}),t.jsx(Ie,{isOpen:u,onClose:P,title:"Generate Certificate",size:"lg",children:t.jsxs("form",{onSubmit:F,className:"modal-form",children:[b.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:b.general})}),t.jsx(de,{label:"Training Class",name:"training_class_id",type:"select",value:T.training_class_id,onChange:z,required:!0,options:i.length>0?i.map(q=>{var I;return{value:q.id,label:`${typeof q.course=="object"?(I=q.course)==null?void 0:I.name:q.course} - ${new Date(q.start_date).toLocaleDateString()}`}}):[{value:"",label:"No classes available"}],error:b.training_class_id}),t.jsx(de,{label:"Certificate Code",name:"code_id",type:"select",value:T.code_id,onChange:z,required:!0,disabled:!T.training_class_id||h.length===0,options:T.training_class_id?h.length>0?h.map(q=>{var I;return{value:q.id,label:`${q.code} - ${typeof q.course=="object"?(I=q.course)==null?void 0:I.name:q.course} (${q.status})`}}):[{value:"",label:"No available codes for this class"}]:[{value:"",label:"Please select a training class first"}],error:b.code_id,helpText:T.training_class_id&&h.length===0?"No available codes match the selected training class":""}),t.jsxs("div",{className:"form-grid",children:[t.jsx(de,{label:"Trainee Name",name:"trainee_name",value:T.trainee_name,onChange:z,required:!0,error:b.trainee_name}),t.jsx(de,{label:"Trainee ID Number",name:"trainee_id_number",value:T.trainee_id_number,onChange:z,required:!0,error:b.trainee_id_number})]}),t.jsx(de,{label:"Issue Date",name:"issue_date",type:"date",value:T.issue_date,onChange:z,required:!0,error:b.issue_date}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:P,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v,className:"form-btn form-btn-submit",children:v?"Generating...":"Generate Certificate"})]})]})}),t.jsx(Ie,{isOpen:y,onClose:()=>{S(!1),N(null)},title:"Certificate Details",size:"lg",children:x&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Certificate Number"}),t.jsx("p",{className:"detail-modal-value",children:x.certificate_number})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Verification Code"}),t.jsx("p",{className:"detail-modal-value detail-modal-value-mono",children:x.verification_code||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Trainee Name"}),t.jsx("p",{className:"detail-modal-value",children:x.trainee_name})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Course"}),t.jsx("p",{className:"detail-modal-value",children:typeof x.course=="object"?(V=x.course)==null?void 0:V.name:x.course})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Issue Date"}),t.jsx("p",{className:"detail-modal-value",children:x.issue_date?new Date(x.issue_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Expiry Date"}),t.jsx("p",{className:"detail-modal-value",children:x.expiry_date?new Date(x.expiry_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${x.status==="valid"?"valid":"expired"}`,children:x.status})]})]}),x.certificate_pdf_url&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>A(x),className:"detail-modal-action-btn",children:[t.jsx(Hc,{size:20,className:"detail-modal-action-icon"}),"Download PDF"]})})]})})]})},DT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});f.useEffect(()=>{c()},[]),f.useEffect(()=>(e("Payment Transactions"),s("View all your payment transactions history"),()=>{e(null),s(null)}),[e,s]);const c=async()=>{try{i(!0);const u=(await He.getWalletTransactions()).transactions||[];a(u)}catch(m){console.error("Failed to load data:",m),a([])}finally{i(!1)}},h=m=>{l(u=>({...u,currentPage:m}))},d=m=>{l(u=>({...u,perPage:m,currentPage:1}))};f.useEffect(()=>{const m=r.length,u=Math.ceil(m/o.perPage)||1,g=o.currentPage>u?Math.max(1,u):o.currentPage;l(y=>({...y,totalItems:m,totalPages:u,currentPage:g}))},[r.length,o.perPage]);const p=f.useMemo(()=>{const m=(o.currentPage-1)*o.perPage,u=m+o.perPage;return r.slice(m,u)},[r,o.currentPage,o.perPage]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):p.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ye,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your transaction history will appear here"})]})})}):p.map((m,u)=>{const g={completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:$e},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Be},failed:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:rt},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:rt}},y=g[m.status]||g.pending,S=y.icon,x=m.type==="deposit";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${u*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${x?"from-green-100 to-green-200":"from-red-100 to-red-200"}`,children:t.jsx(It,{className:`h-5 w-5 ${x?"text-green-600":"text-red-600"}`})}),t.jsx("div",{children:t.jsx("div",{className:`text-sm font-semibold group-hover:text-primary-700 transition-colors capitalize ${x?"text-green-700":"text-red-700"}`,children:m.type})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`text-lg font-bold ${x?"text-green-600":"text-red-600"}`,children:[x?"+":"-","$",parseFloat(m.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${y.bg} ${y.text} border ${y.border}`,children:[t.jsx(S,{size:14,className:"mr-1"}),m.status?m.status.charAt(0).toUpperCase()+m.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[t.jsx(tt,{className:"h-4 w-4 mr-2 text-gray-400"}),m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"]})})]},m.id||u)})})]})}),!n&&o.totalItems>0&&t.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:t.jsx(bh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:h,onPerPageChange:d})})]})})},$T=()=>{const[e,s]=f.useState([]),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState("marketplace"),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState(!1);f.useEffect(()=>{S()},[o]);const S=async()=>{try{if(o==="marketplace"){const b=await He.browseMaterials();s(b.materials||[])}else{const b=await He.getLibrary();a(b.library||[])}}catch(b){console.error("Failed to load data:",b)}finally{i(!1)}},x=b=>{u(b),h(!0)},N=b=>{u(b),p(!0)},_=async()=>{y(!0);try{await He.purchaseFromMarketplace({purchase_type:"material",item_id:m.id,acc_id:m.acc_id,payment_method:"credit_card"}),await S(),p(!1),alert("Purchase successful!")}catch(b){alert("Failed to purchase: "+(b.message||"Unknown error"))}finally{y(!1)}},w=b=>{var E;(E=b.item)!=null&&E.file_url?window.open(b.item.file_url,"_blank"):alert("File not available")},T=[{header:"Material",accessor:"name",render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ye,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:b}),t.jsx("div",{className:"text-sm text-gray-500",children:E.material_type})]})]})},{header:"ACC",accessor:"acc",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Course",accessor:"course",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Price",accessor:"price",render:b=>`$${parseFloat(b||0).toFixed(2)}`},{header:"Status",accessor:"status",render:b=>t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b})}],k=[{header:"Item",accessor:"item",render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(dc,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),t.jsx("div",{className:"text-sm text-gray-500",children:E.purchase_type})]})]})},{header:"Type",accessor:"purchase_type",render:b=>b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"},{header:"Purchased Date",accessor:"purchased_at",render:b=>b?new Date(b).toLocaleDateString():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Browse and purchase course materials"})]}),t.jsxs("div",{className:"mb-6 flex space-x-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{l("marketplace"),i(!0),S()},className:`px-4 py-2 font-medium ${o==="marketplace"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["Marketplace (",e.length,")"]}),t.jsxs("button",{onClick:()=>{l("library"),i(!0),S()},className:`px-4 py-2 font-medium ${o==="library"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["My Library (",r.length,")"]})]}),o==="marketplace"?t.jsx(ct,{columns:T,data:e,onView:x,onRowClick:x,isLoading:n,emptyMessage:"No materials available in marketplace."}):t.jsx(ct,{columns:k,data:r,onView:b=>w(b),onRowClick:b=>w(b),isLoading:n,emptyMessage:"No purchased items in library."}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Material Details",size:"lg",children:m&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.material_type})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ACC"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.acc})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(m.price||0).toFixed(2)]})]})]}),m.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:m.description})]}),m.preview_url&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("a",{href:m.preview_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[t.jsx(ls,{size:16,className:"mr-2"}),"View Preview"]})}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{h(!1),N(m)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(fp,{size:20,className:"mr-2"}),"Purchase"]})})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null)},title:"Confirm Purchase",size:"md",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to purchase ",t.jsx("strong",{children:m.name}),"?"]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(m.price||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{p(!1),u(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:g,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Processing...":"Confirm Purchase"})]})]})})]})},MT=()=>{var O,V,q,I,W,B,H,Y;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(null),[u,g]=f.useState({payment_method:"credit_card",payment_intent_id:""}),[y,S]=f.useState({}),[x,N]=f.useState(!1),[_,w]=f.useState(null),[T,k]=f.useState(!1),[b,E]=f.useState(!1),[v,R]=f.useState("all");f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Instructor Authorizations"),r("View and pay for instructor authorization requests"),e(t.jsxs("button",{onClick:$,disabled:i,className:"header-refresh-btn",title:"Refresh data",children:[t.jsx(kv,{size:18,className:i?"animate-spin":""}),"Refresh"]})),()=>{e(null),s(null),r(null)}),[e,s,r,i]),f.useEffect(()=>{a.length>0?console.log("Authorizations loaded:",a):i||console.log("No authorizations found. Make sure you have requested authorization for instructors.")},[a,i]);const $=async()=>{var U,L,X,se;try{o(!0);const ce={per_page:1e3};try{const ve=await He.getInstructorAuthorizations(ce);console.log("Instructor Authorizations API Response:",ve);let me=[],xe=0,he=1;ve!=null&&ve.authorizations?me=ve.authorizations:(U=ve==null?void 0:ve.data)!=null&&U.authorizations?me=ve.data.authorizations:Array.isArray(ve==null?void 0:ve.data)?me=ve.data:Array.isArray(ve)&&(me=ve),console.log("Processed authorizations:",me),n(me);return}catch(ve){if(((L=ve.response)==null?void 0:L.status)===404){console.warn("Main endpoint not found, trying alternative endpoint...");try{const me=await He.getAuthorizationStatus(ce);console.log("Alternative API Response:",me);const he=((me==null?void 0:me.authorizations)||(me==null?void 0:me.data)||[]).filter(J=>J.instructor_id||J.instructor||J.type==="instructor");if(he.length>0){n(he);return}}catch(me){console.warn("Alternative endpoint also failed:",me)}}throw ve}}catch(ce){console.error("Failed to load authorizations:",ce),console.error("Error details:",{status:(X=ce.response)==null?void 0:X.status,data:(se=ce.response)==null?void 0:se.data,message:ce.message}),n([])}finally{o(!1)}},j=U=>{if(U.status!=="approved"||U.group_admin_status!=="commission_set"){alert("This authorization is not ready for payment. Please wait for Group Admin approval.");return}if(U.payment_status==="paid"){alert("This authorization has already been paid.");return}m(U),g({payment_method:"credit_card",payment_intent_id:""}),S({}),w(null),c(!0)},P=async(U,L)=>{var X,se,ce;if(!p){S({general:"No authorization selected"});return}try{const ve={payment_method:"credit_card",payment_intent_id:L||U.id};if(U&&U.status!=="succeeded"){S({general:`Payment not completed. Status: ${U.status}`});return}await He.payInstructorAuthorization(p.id,ve),await $(),c(!1),E(!1),m(null),w(null),alert("Payment successful. Instructor is now officially authorized.")}catch(ve){if(console.error("Failed to complete authorization payment:",ve),((X=ve.response)==null?void 0:X.status)===400){const me=ve.response.data;S({general:(me==null?void 0:me.message)||"Payment verification failed. Please contact support."})}else if(((se=ve.response)==null?void 0:se.status)===422){const me=ve.response.data;if(me.errors){const xe={};Object.keys(me.errors).forEach(he=>{xe[he]=Array.isArray(me.errors[he])?me.errors[he][0]:me.errors[he]}),S(xe)}else S({general:(me==null?void 0:me.message)||"Validation failed. Please check your input."})}else if((ce=ve.response)!=null&&ce.data){const me=ve.response.data;me.message?S({general:me.message}):S({general:"Payment succeeded but failed to complete authorization. Please contact support."})}else S({general:"Payment succeeded but failed to complete authorization. Please contact support."});throw ve}},z=async()=>{var L,X,se,ce;if(!p){S({general:"No authorization selected"});return}const U=parseFloat(p.authorization_price||0);if(isNaN(U)||U<=0){S({general:"Invalid authorization price. Please contact support."});return}k(!0),S({}),w(null);try{const ve=await He.createInstructorAuthorizationPaymentIntent(p.id,{authorization_price:U});ve.success&&ve.client_secret&&ve.payment_intent_id?(w({...ve,commission_amount:ve.commission_amount,provider_amount:ve.provider_amount,payment_type:ve.payment_type||"standard"}),g(me=>({...me,payment_intent_id:ve.payment_intent_id})),E(!0)):S({general:"Failed to create payment intent. Invalid response from server."})}catch(ve){if(console.error("Failed to create payment intent:",ve),((L=ve.response)==null?void 0:L.status)===422){const me=ve.response.data;if(me.errors){const xe={};Object.keys(me.errors).forEach(he=>{xe[he]=Array.isArray(me.errors[he])?me.errors[he][0]:me.errors[he]}),S(xe)}else me.message?S({general:me.message}):S({general:"Validation failed. Please check your input."})}else if(((X=ve.response)==null?void 0:X.status)===400){const me=ve.response.data;S({general:(me==null?void 0:me.message)||"Payment service unavailable. Please contact support."})}else if(((se=ve.response)==null?void 0:se.status)===500){const me=ve.response.data;S({general:(me==null?void 0:me.message)||"Failed to create payment intent. Please try again later."})}else if((ce=ve.response)!=null&&ce.data){const me=ve.response.data;if(me.errors){const xe={};Object.keys(me.errors).forEach(he=>{xe[he]=Array.isArray(me.errors[he])?me.errors[he][0]:me.errors[he]}),S(xe)}else me.message?S({general:me.message}):S({general:"Failed to create payment intent. Please try again."})}else ve.message?S({general:ve.message}):S({general:"Failed to create payment intent. Please try again."})}finally{k(!1)}},F=async U=>{U.preventDefault(),p&&await z()},C=U=>{m(U),d(!0)},A=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:(U,L)=>{var X,se,ce;return t.jsxs("div",{className:"instructor-container",children:[t.jsx("div",{className:"instructor-icon-container",children:t.jsx(gt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructor-name",children:[(X=L.instructor)==null?void 0:X.first_name," ",(se=L.instructor)==null?void 0:se.last_name]}),((ce=L.instructor)==null?void 0:ce.email)&&t.jsx("div",{className:"instructor-email",children:L.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:(U,L)=>{var X;return t.jsxs("div",{className:"acc-container",children:[t.jsx(Ke,{className:"acc-icon"}),((X=L.acc)==null?void 0:X.name)||"N/A"]})}},{header:"Courses",accessor:"courses",sortable:!1,render:(U,L)=>{var X,se;return t.jsx("div",{className:"courses-container",children:L.courses&&Array.isArray(L.courses)&&L.courses.length>0?L.courses.map((ce,ve)=>t.jsxs("div",{className:"course-item",children:[t.jsx(Jt,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof ce=="object"?(ce==null?void 0:ce.name)||(ce==null?void 0:ce.course_name)||"N/A":ce||"N/A"})]},ve)):L.course?t.jsxs("div",{className:"course-item",children:[t.jsx(Jt,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof L.course=="object"?((X=L.course)==null?void 0:X.name)||((se=L.course)==null?void 0:se.course_name)||"N/A":L.course||"N/A"})]}):t.jsx("span",{className:"course-na",children:"N/A"})})}},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:(U,L)=>t.jsxs("div",{className:"price-container",children:[t.jsx(It,{className:"price-icon"}),parseFloat(L.authorization_price||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!0,render:(U,L)=>{const X=L.status==="approved"?"approved":L.status==="rejected"?"rejected":L.status==="returned"?"returned":"pending";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${X}`,children:[L.status==="pending"&&t.jsx(Be,{size:12,className:"status-icon"}),L.status==="approved"&&t.jsx($e,{size:12,className:"status-icon"}),L.status?L.status.charAt(0).toUpperCase()+L.status.slice(1):"N/A"]})})}},{header:"Payment Status",accessor:"payment_status",sortable:!0,render:(U,L)=>{const X=L.payment_status==="paid"?"paid":L.payment_status==="failed"?"failed":"pending";return t.jsx("div",{className:"payment-status-container",children:t.jsxs("span",{className:`payment-status-badge ${X}`,children:[L.payment_status==="pending"&&t.jsx(Be,{size:12,className:"payment-status-icon"}),L.payment_status==="paid"&&t.jsx($e,{size:12,className:"payment-status-icon"}),L.payment_status==="failed"&&t.jsx(lr,{size:12,className:"payment-status-icon"}),L.payment_status?L.payment_status.charAt(0).toUpperCase()+L.payment_status.slice(1):"Pending"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(U,L)=>{const X=L.status==="approved"&&L.group_admin_status==="commission_set"&&L.payment_status==="pending";return t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:se=>{se.stopPropagation(),C(L)},className:"action-btn-view",title:"View Details",children:t.jsx(ls,{size:16})}),X&&t.jsx("button",{onClick:se=>{se.stopPropagation(),j(L)},className:"action-btn-pay",title:"Pay Authorization",children:t.jsx(_r,{size:16})})]})}}],[j,C]),M=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"pending",label:"Pending",filterFn:U=>U.status==="pending"},{value:"approved",label:"Approved",filterFn:U=>U.status==="approved"},{value:"rejected",label:"Rejected",filterFn:U=>U.status==="rejected"},{value:"returned",label:"Returned",filterFn:U=>U.status==="returned"}],[]),D=f.useMemo(()=>a.map(U=>{var xe,he,J,ue,Ne,Pe,ke;const L=`${((xe=U.instructor)==null?void 0:xe.first_name)||""} ${((he=U.instructor)==null?void 0:he.last_name)||""}`.trim(),X=((J=U.instructor)==null?void 0:J.email)||"",se=((ue=U.acc)==null?void 0:ue.name)||"",ce=((Ne=U.training_center)==null?void 0:Ne.name)||"",ve=U.courses&&Array.isArray(U.courses)?U.courses.map(ee=>typeof ee=="object"?(ee==null?void 0:ee.name)||(ee==null?void 0:ee.course_name)||"":ee||"").join(" "):U.course?typeof U.course=="object"?((Pe=U.course)==null?void 0:Pe.name)||((ke=U.course)==null?void 0:ke.course_name)||"":U.course||"":"",me=[L,X,se,ce,ve,U.authorization_price||"",U.status||"",U.payment_status||""].filter(Boolean).join(" ").toLowerCase();return{...U,_searchText:me}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(ct,{columns:A,data:D,onRowClick:C,isLoading:i,emptyMessage:a.length===0&&!i?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(gt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No authorization requests found"}),t.jsx("p",{className:"empty-state-subtitle",children:"To see authorizations here, you need to request authorization for an instructor first"}),t.jsxs("div",{className:"empty-state-help",children:[t.jsx("p",{className:"empty-state-help-title",children:" How to get started:"}),t.jsxs("ol",{className:"empty-state-help-list",children:[t.jsxs("li",{children:["Go to ",t.jsx("strong",{children:"Instructors"})," page and create/add an instructor"]}),t.jsxs("li",{children:["Click ",t.jsx("strong",{children:"Request Authorization"})," button for that instructor"]}),t.jsx("li",{children:"Select an ACC and courses for authorization"}),t.jsx("li",{children:"Wait for ACC Admin to approve and set authorization price"}),t.jsx("li",{children:"Wait for Group Admin approval"}),t.jsx("li",{children:"Then come back here to complete payment!"})]}),t.jsx("div",{className:"empty-state-help-note",children:t.jsxs("p",{className:"empty-state-help-note-text",children:[t.jsx("strong",{children:"Note:"})," Authorizations will only appear here after you've submitted a request and it's been approved by ACC Admin."]})})]})]}):"No authorizations found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by instructor name, ACC, course, or training center...",filterOptions:M,sortable:!0,defaultFilter:v})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),m(null),S({})},title:"Pay Instructor Authorization",size:"md",children:t.jsxs("form",{onSubmit:F,className:"payment-modal-form",children:[y.general&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"payment-error-text",children:y.general})}),p&&t.jsxs("div",{className:"payment-info-container",children:[t.jsxs("p",{className:"payment-info-text",children:["Instructor: ",t.jsxs("span",{className:"payment-info-value",children:[(O=p.instructor)==null?void 0:O.first_name," ",(V=p.instructor)==null?void 0:V.last_name]})]}),t.jsxs("p",{className:"payment-info-text",children:["ACC: ",t.jsx("span",{className:"payment-info-value",children:(q=p.acc)==null?void 0:q.name})]}),t.jsxs("p",{className:"payment-info-text",children:["Authorization Price: ",t.jsxs("span",{className:"payment-info-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-method-info",children:[t.jsx("p",{className:"payment-method-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-method-text",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'}),t.jsxs("p",{className:"payment-method-price",children:[t.jsx("strong",{children:"Authorization Price:"})," $",parseFloat((p==null?void 0:p.authorization_price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"payment-modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),m(null),S({})},className:"payment-modal-btn payment-modal-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:T||x||!p,className:"payment-modal-btn payment-modal-btn-submit",children:T||x?"Processing...":"Pay Now"})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),m(null)},title:"Authorization Details",size:"lg",children:p&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Instructor"}),t.jsxs("p",{className:"detail-modal-value",children:[(I=p.instructor)==null?void 0:I.first_name," ",(W=p.instructor)==null?void 0:W.last_name]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"ACC"}),t.jsx("p",{className:"detail-modal-value",children:((B=p.acc)==null?void 0:B.name)||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Courses"}),t.jsx("div",{className:"detail-modal-courses-list",children:p.courses&&Array.isArray(p.courses)&&p.courses.length>0?p.courses.map((U,L)=>t.jsx("p",{className:"detail-modal-value",children:typeof U=="object"?(U==null?void 0:U.name)||(U==null?void 0:U.course_name)||"N/A":U||"N/A"},L)):p.course?t.jsx("p",{className:"detail-modal-value",children:typeof p.course=="object"?((H=p.course)==null?void 0:H.name)||((Y=p.course)==null?void 0:Y.course_name)||"N/A":p.course||"N/A"}):t.jsx("p",{className:"detail-modal-value",children:"N/A"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Authorization Price"}),t.jsxs("p",{className:"detail-modal-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${p.status==="approved"?"approved":p.status==="rejected"?"rejected":p.status==="returned"?"returned":"pending"}`,children:p.status})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Payment Status"}),t.jsx("span",{className:`detail-modal-badge ${p.payment_status==="paid"?"paid":p.payment_status==="failed"?"failed":"pending"}`,children:p.payment_status||"pending"})]})]}),p.group_admin_status&&t.jsxs("div",{className:"detail-modal-group-admin",children:[t.jsx("p",{className:"detail-modal-group-admin-title",children:"Group Admin Status"}),t.jsxs("p",{className:"detail-modal-group-admin-text",children:[p.group_admin_status==="pending"&&"Waiting for Group Admin approval",p.group_admin_status==="commission_set"&&"Ready for payment",p.group_admin_status==="completed"&&"Authorization completed"]})]}),p.status==="approved"&&p.group_admin_status==="commission_set"&&p.payment_status==="pending"&&t.jsx("div",{className:"detail-modal-pay-section",children:t.jsxs("button",{onClick:()=>{d(!1),j(p)},className:"detail-modal-pay-btn",children:[t.jsx(_r,{size:20,className:"detail-modal-pay-icon"}),"Pay Authorization"]})})]})}),t.jsx(id,{isOpen:b,onClose:()=>{E(!1)},clientSecret:_==null?void 0:_.client_secret,paymentIntentId:_==null?void 0:_.payment_intent_id,amount:(_==null?void 0:_.amount)||(p==null?void 0:p.authorization_price)||0,currency:(_==null?void 0:_.currency)||"USD",paymentSummary:_,onPaymentSuccess:P,onPaymentError:U=>{S({general:U})}})]})},IT=()=>{var F,C,A,M;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(""),[g,y]=f.useState("all"),[S,x]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{N()},[]);const N=async()=>{var D,O;l(!0);try{const V=await He.getPaymentTransactions({}),q=(V==null?void 0:V.data)||V||[],I=(V==null?void 0:V.summary)||null;a(Array.isArray(q)?q:(q==null?void 0:q.data)||[]),i(I)}catch(V){console.error("Failed to load transactions:",V),(O=(D=V==null?void 0:V.response)==null?void 0:D.data)!=null&&O.message||V!=null&&V.message,console.error("Error details:",V),a([]),i(null)}finally{l(!1)}},_=D=>{p(D),h(!0)},w=f.useMemo(()=>r.map(D=>{var U,L;const O=D.transaction_type||"",V=String(D.amount||""),q=D.currency||"",I=D.status||"",W=D.description||"",B=((U=D.payer)==null?void 0:U.name)||"",H=((L=D.payee)==null?void 0:L.name)||"",Y=[O,V,q,I,W,B,H].filter(Boolean).join(" ").toLowerCase();return{...D,_searchText:Y}}),[r]),T=f.useMemo(()=>{let D=[...w];if(g!=="all"&&(D=D.filter(O=>O.transaction_type===g)),S!=="all"&&(D=D.filter(O=>O.status===S)),m){const O=m.toLowerCase();D=D.filter(V=>V._searchText?V._searchText.includes(O):!0)}return D},[w,g,S,m]),k=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(D,O)=>{const V=$(O);return t.jsxs("div",{className:"type-column",children:[t.jsx("div",{className:`type-icon-container ${V?"received":"sent"}`,children:V?t.jsx(pp,{className:"type-icon received",size:20}):t.jsx(Vc,{className:"type-icon sent",size:20})}),t.jsx("div",{children:t.jsx("div",{className:"type-label",children:R(O.transaction_type)})})]})}},{header:"Payer",accessor:"payer",sortable:!0,render:(D,O)=>O.payer?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payer",children:O.payer.type==="acc"||O.payer.type==="training_center"?t.jsx(Ke,{className:"payer-payee-icon payer",size:16}):t.jsx(Ls,{className:"payer-payee-icon payer",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:O.payer.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:O.payer.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:(D,O)=>O.payee?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payee",children:O.payee.type==="acc"||O.payee.type==="training_center"?t.jsx(Ke,{className:"payer-payee-icon payee",size:16}):t.jsx(Ls,{className:"payer-payee-icon payee",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:O.payee.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:O.payee.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(D,O)=>t.jsxs("div",{className:`amount-column ${$(O)?"received":"sent"}`,children:[$(O)?"+":"-"," ",b(O.amount,O.currency)]})},{header:"Status",accessor:"status",sortable:!0,render:(D,O)=>{var I,W;const V=O.status||"",q=V==="completed"?"completed":V==="pending"?"pending":V==="failed"?"failed":"refunded";return t.jsx("span",{className:`status-badge ${q}`,children:((I=O.status)==null?void 0:I.charAt(0).toUpperCase())+((W=O.status)==null?void 0:W.slice(1))||"N/A"})}},{header:"Date",accessor:"created_at",sortable:!0,render:(D,O)=>t.jsxs("div",{className:"date-column",children:[t.jsx(tt,{className:"date-icon",size:16}),E(O.created_at)]})}],[]),b=(D,O="USD")=>`${parseFloat(D||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${O}`,E=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",v=D=>D?new Date(D).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",R=D=>(D==null?void 0:D.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "))||"N/A",$=D=>D.payee&&D.payee.type==="training_center",j=["transaction_type","status","amount","currency","payment_method","description","created_at","completed_at","payment_gateway_transaction_id","payer","payee","reference"],P=D=>!D||typeof D!="object"?!1:["name","email","type","id"].some(V=>D.hasOwnProperty(V)),z=(D,O="")=>{if(!D||typeof D!="object")return t.jsx("span",{className:"info-section-value",children:"N/A"});if(Array.isArray(D))return t.jsx("div",{className:"reference-details-list",children:D.map((q,I)=>t.jsx("div",{className:"reference-details-item",children:z(q,`${O}[${I}]`)},I))});const V=Object.entries(D).filter(([q])=>{if(j.includes(q))return!1;const I=D[q];return!(typeof I=="object"&&I!==null&&!Array.isArray(I)&&P(I)&&Object.keys(I).every(W=>["name","email","type","id"].includes(W)))});return V.length===0?t.jsx("span",{className:"info-section-value",children:"No additional details"}):t.jsx("div",{className:"reference-details-grid",children:V.map(([q,I])=>{const W=q.split("_").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" ");let B=I;if(I==null)B="N/A";else if(typeof I=="boolean")B=I?"Yes":"No";else{if(typeof I=="object")return Array.isArray(I)?t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[W,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:z(I,q)})]},q):P(I)&&Object.keys(I).every(H=>["name","email","type","id"].includes(H))?null:t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[W,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:z(I,q)})]},q);typeof I=="string"&&I.match(/^\d{4}-\d{2}-\d{2}/)&&(B=v(I))}return t.jsxs("div",{className:"reference-details-row",children:[t.jsxs("span",{className:"reference-details-label",children:[W,":"]}),t.jsx("span",{className:"reference-details-value",children:String(B)})]},q)}).filter(Boolean)})};return t.jsxs("div",{className:"payment-transactions-container",children:[n&&t.jsxs("div",{className:"summary-cards-grid",children:[t.jsx(We,{name:"Total Transactions",value:n.total_transactions||0,icon:Kr,colorType:"indigo"}),t.jsx(We,{name:"Total Spent",value:b(n.total_spent||0),icon:Vc,colorType:"red"})]}),t.jsx("div",{className:"search-filters-section",children:t.jsxs("div",{className:"search-filters-container",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(Go,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by type, amount, status, payer, payee...",value:m,onChange:D=>u(D.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Nn,{className:"filter-icon",size:20}),t.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"instructor_authorization",children:"Instructor Authorization"})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Nn,{className:"filter-icon",size:20}),t.jsxs("select",{value:S,onChange:D=>x(D.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),t.jsx("div",{className:"datatable-container",children:t.jsx(ct,{columns:k,data:T,onView:_,onRowClick:_,isLoading:o,emptyMessage:r.length===0&&!o?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsx(Kr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-text",children:"No transactions found"}),t.jsx("p",{className:"empty-state-subtext",children:"No transactions available"})]}):"No transactions found matching your filters",searchable:!1,filterable:!1,sortable:!0})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value",children:R(d.transaction_type)})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${d.status==="completed"?"completed":d.status==="pending"?"pending":d.status==="failed"?"failed":"refunded"}`,children:((F=d.status)==null?void 0:F.charAt(0).toUpperCase())+((C=d.status)==null?void 0:C.slice(1))||"N/A"})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Amount"}),t.jsxs("p",{className:`modal-amount ${$(d)?"received":"sent"}`,children:[$(d)?"+":"-"," ",b(d.amount,d.currency)]})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Payment Method"}),t.jsx("p",{className:"modal-value capitalize",children:((A=d.payment_method)==null?void 0:A.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"payer-info-section",children:[t.jsx("p",{className:"info-section-title payer",children:"Payer Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Ke,{className:"info-section-icon payer",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payer.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"payee-info-section",children:[t.jsx("p",{className:"info-section-title payee",children:"Payee Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Ke,{className:"info-section-icon payee",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payee.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"description-section",children:[t.jsx("p",{className:"modal-label",children:"Description"}),t.jsx("p",{className:"description-text",children:d.description})]}),d.reference&&t.jsxs("div",{className:"reference-section",children:[t.jsx("p",{className:"reference-title",children:"Reference Information"}),t.jsxs("div",{className:"reference-content",children:[t.jsxs("div",{className:"reference-type-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",style:{marginLeft:"0.5rem"},children:((M=d.reference.type)==null?void 0:M.split("_").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" "))||"N/A"})]}),d.reference.details&&t.jsxs("div",{className:"reference-details-box",children:[t.jsx("p",{className:"reference-details-title",children:"Details:"}),z(d.reference.details)]})]})]}),t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Created At"}),t.jsx("p",{className:"modal-value",children:v(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Completed At"}),t.jsx("p",{className:"modal-value",children:v(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"payment-gateway-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"modal-value modal-mono",children:d.payment_gateway_transaction_id})]})]})})]})},LT=()=>{var P,z,F;const[e]=kd(),s=e.get("status"),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState({completion_rate_percentage:"",notes:""}),S=()=>s?s==="scheduled"?"scheduled":s==="completed"?"completed":"all":"all",[x,N]=f.useState(()=>S());f.useEffect(()=>{_()},[o.currentPage,o.perPage]),f.useEffect(()=>{const C=S();N(C)},[s]);const _=async()=>{i(!0);try{const C={page:o.currentPage,per_page:o.perPage},A=await zs.listClasses(C);let M=[];A.data?(M=A.data||[],l(D=>({...D,totalPages:A.last_page||A.total_pages||1,totalItems:A.total||0}))):A.classes?(M=A.classes||[],l(D=>{var O;return{...D,totalPages:1,totalItems:((O=A.classes)==null?void 0:O.length)||0}})):(M=Array.isArray(A)?A:[],l(D=>({...D,totalPages:1,totalItems:M.length}))),a(M)}catch(C){console.error("Failed to load classes:",C),a([])}finally{i(!1)}},w=C=>{l(A=>({...A,currentPage:C}))},T=C=>{l(A=>({...A,perPage:C,currentPage:1}))},k=async C=>{try{const A=await zs.getClassDetails(C.id);u(A.class),h(!0)}catch(A){console.error("Failed to load class details:",A),u(C),h(!0)}},b=C=>{u(C),y({completion_rate_percentage:"",notes:""}),p(!0)},E=async()=>{if(!g.completion_rate_percentage){alert("Please enter completion rate percentage");return}try{await zs.markClassComplete(m.id,g),await _(),p(!1),u(null),y({completion_rate_percentage:"",notes:""}),l(C=>({...C,currentPage:1})),alert("Class marked as complete!")}catch(C){alert("Failed to mark complete: "+(C.message||"Unknown error"))}},v=C=>C==="completed"?"status-completed":C==="scheduled"?"status-scheduled":"status-default",R=C=>C==="completed"?"modal-status-completed":C==="scheduled"?"modal-status-scheduled":"modal-status-default",$=[{header:"Course",accessor:"course",render:(C,A)=>{var D;const M=typeof C=="string"?C:(C==null?void 0:C.name)||((D=A.course)==null?void 0:D.name)||"N/A";return t.jsxs("div",{className:"course-cell",children:[t.jsx(hs,{className:"course-icon"}),t.jsx("span",{className:"course-name",children:M})]})}},{header:"Training Center",accessor:"training_center",render:C=>typeof C=="string"?C:(C==null?void 0:C.name)||"N/A"},{header:"Start Date",accessor:"start_date",render:C=>C?new Date(C).toLocaleDateString():"N/A"},{header:"End Date",accessor:"end_date",render:C=>C?new Date(C).toLocaleDateString():"N/A"},{header:"Exam Date",accessor:"exam_date",render:C=>C?new Date(C).toLocaleDateString():"Not set"},{header:"Exam Score",accessor:"exam_score",render:C=>C!=null?`${parseFloat(C).toFixed(2)}%`:"N/A"},{header:"Status",accessor:"status",render:C=>t.jsx("span",{className:`status-badge ${v(C)}`,children:C})},{header:"Enrolled",accessor:"enrolled_count",render:(C,A)=>{var M;return`${C||0}/${((M=A.course)==null?void 0:M.max_capacity)||"N/A"}`}}],j=[{value:"all",label:"All Classes"},{value:"scheduled",label:"Scheduled",filterFn:C=>C.status==="scheduled"},{value:"completed",label:"Completed",filterFn:C=>C.status==="completed"}];return t.jsxs("div",{children:[t.jsx(ct,{columns:$,data:r,onView:k,onRowClick:k,isLoading:n,emptyMessage:"No classes assigned yet.",searchable:!0,filterable:!0,filterOptions:j,sortable:!0,searchPlaceholder:"Search classes...",defaultFilter:x}),!n&&o.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(bh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:w,onPerPageChange:T})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Class Details",size:"lg",children:m&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(hs,{size:16,className:"modal-field-label-icon"}),"Course"]}),t.jsx("p",{className:"modal-field-value",children:typeof m.course=="string"?m.course:((P=m.course)==null?void 0:P.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Training Center"}),t.jsx("p",{className:"modal-field-value",children:typeof m.training_center=="string"?m.training_center:((z=m.training_center)==null?void 0:z.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"Start Date"]}),t.jsx("p",{className:"modal-field-value",children:m.start_date?new Date(m.start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"End Date"]}),t.jsx("p",{className:"modal-field-value",children:m.end_date?new Date(m.end_date).toLocaleDateString():"N/A"})]}),m.exam_date&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsxs("p",{className:"modal-field-label",style:{color:"#9333ea"},children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"Exam Date"]}),t.jsx("p",{className:"modal-field-value",style:{color:"#7e22ce"},children:new Date(m.exam_date).toLocaleDateString()})]}),m.exam_score!==null&&m.exam_score!==void 0&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"modal-field-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"modal-field-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(m.exam_score).toFixed(2),"%"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(gt,{size:16,className:"modal-field-label-icon"}),"Enrollment"]}),t.jsxs("p",{className:"modal-field-value",children:[m.enrolled_count||0," / ",((F=m.course)==null?void 0:F.max_capacity)||"N/A"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Status"}),t.jsx("span",{className:`modal-status-badge ${R(m.status)}`,children:m.status})]})]}),m.location_details&&t.jsxs("div",{className:"location-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(vt,{size:16,className:"modal-field-label-icon"}),"Location"]}),t.jsx("p",{className:"modal-field-value",children:m.location_details})]}),m.materials&&m.materials.length>0&&t.jsxs("div",{className:"materials-section",children:[t.jsx("h3",{className:"materials-title",children:"Course Materials"}),t.jsx("div",{className:"materials-list",children:m.materials.map((C,A)=>t.jsxs("div",{className:"material-item",children:[t.jsx("p",{className:"material-name",children:C.name}),C.file_url&&t.jsx("a",{href:C.file_url,target:"_blank",rel:"noopener noreferrer",className:"material-link",children:"Download"})]},A))})]}),m.status!=="completed"&&t.jsx("div",{className:"modal-actions",children:t.jsxs("button",{onClick:()=>{h(!1),b(m)},className:"complete-button",children:[t.jsx($e,{size:20,className:"complete-button-icon"}),"Mark as Complete"]})})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null),y({completion_rate_percentage:"",notes:""})},title:"Mark Class as Complete",size:"md",children:t.jsxs("div",{className:"complete-modal-content",children:[t.jsx(de,{label:"Completion Rate (%)",name:"completion_rate_percentage",type:"number",value:g.completion_rate_percentage,onChange:C=>y({...g,completion_rate_percentage:C.target.value}),required:!0,min:"0",max:"100",placeholder:"e.g., 95"}),t.jsx(de,{label:"Notes (Optional)",name:"notes",value:g.notes,onChange:C=>y({...g,notes:C.target.value}),textarea:!0,rows:4,placeholder:"Add any notes about the class completion..."}),t.jsxs("div",{className:"complete-modal-actions",children:[t.jsx("button",{onClick:()=>{p(!1),u(null),y({completion_rate_percentage:"",notes:""})},className:"cancel-button",children:"Cancel"}),t.jsx("button",{onClick:E,className:"confirm-button",children:"Mark Complete"})]})]})})]})},OT=()=>{var m;const[e,s]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await zs.getAvailableMaterials();s(u.materials||[])}catch(u){console.error("Failed to load materials:",u)}finally{a(!1)}},h=u=>{l(u),i(!0)},d=u=>{u.file_url?window.open(u.file_url,"_blank"):alert("File not available")},p=[{header:"Material",accessor:"name",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ye,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:u}),t.jsx("div",{className:"text-sm text-gray-500",children:g.material_type})]})]})},{header:"Course",accessor:"course",render:u=>typeof u=="string"?u:(u==null?void 0:u.name)||"N/A"},{header:"Type",accessor:"material_type",render:u=>u?u.toUpperCase():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Access course materials for your classes"})]}),t.jsx(ct,{columns:p,data:e,onView:h,onRowClick:h,isLoading:r,emptyMessage:"No materials available."}),t.jsx(Ie,{isOpen:n,onClose:()=>{i(!1),l(null)},title:"Material Details",size:"md",children:o&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.course})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((m=o.material_type)==null?void 0:m.toUpperCase())||"N/A"})]}),o.file_url&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>d(o),className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(Hc,{size:20,className:"mr-2"}),"Download"]})})]})})]})},UT=()=>{const[e,s]=f.useState([]),[r,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null);f.useEffect(()=>{d()},[]);const d=async()=>{try{const u=await zs.getEarnings();s(u.earnings||[]),a(u.summary)}catch(u){console.error("Failed to load earnings:",u)}finally{i(!1)}},p=u=>{h(u),l(!0)},m=[{header:"Certificate",accessor:"certificate",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:u})]})},{header:"Amount",accessor:"amount",render:u=>`$${parseFloat(u||0).toFixed(2)}`},{header:"Commission %",accessor:"commission_percentage",render:u=>`${u||0}%`},{header:"Status",accessor:"status",render:u=>{const g={paid:{bg:"bg-green-100",text:"text-green-800",icon:$e},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Be}},y=g[u]||g.pending,S=y.icon;return t.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${y.bg} ${y.text}`,children:[t.jsx(S,{size:12,className:"mr-1"}),u]})}},{header:"Paid Date",accessor:"paid_at",render:u=>u?new Date(u).toLocaleDateString():"-"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View your earnings and payment history"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(It,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-green-100 mb-2",children:"Total Earnings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Be,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-yellow-100 mb-2",children:"Pending"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.pending||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx($e,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-blue-100 mb-2",children:"Paid"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.paid||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsx(ct,{columns:m,data:e,onView:p,onRowClick:p,isLoading:n,emptyMessage:"No earnings found."}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Earning Details",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Certificate"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.certificate})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(c.amount||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.commission_percentage||0,"%"]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${c.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),c.paid_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Paid Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(c.paid_at).toLocaleDateString()})]})]})})]})},BT="modulepreload",qT=function(e){return"/"+e},k0={},WT=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=qT(c),c in k0)return;k0[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":BT,h||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((m,u)=>{p.addEventListener("load",m),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},VT=()=>{const{user:e}=hr(),{setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState(null),[p,m]=f.useState(!1),[u,g]=f.useState([]),[y,S]=f.useState([]),[x,N]=f.useState(!1),[_,w]=f.useState(!1),[T,k]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[]}),[b,E]=f.useState({current_password:"",password:"",password_confirmation:""}),[v,R]=f.useState({}),[$,j]=f.useState("");f.useEffect(()=>(s("Profile"),r("Manage your account settings and preferences"),()=>{s(null),r(null)}),[s,r]),f.useEffect(()=>{z()},[]),f.useEffect(()=>{u.length>0&&P()},[u.length]),f.useEffect(()=>{T.country?F(T.country):(S([]),k(q=>({...q,city:""})))},[T.country]),f.useEffect(()=>{y.length>0&&(l!=null&&l.city)&&!T.city&&y.some(I=>I.name===l.city)&&k(I=>({...I,city:l.city}))},[y.length,l==null?void 0:l.city]);const P=async()=>{n(!0);try{const q=await zs.getProfile(),I=q.profile||q.instructor||q;c(I);let W=I.country||"";if(W&&u.length>0){const H=u.find(Y=>Y.name===W||Y.code===W);H&&(W=H.code)}const B=I.city||"";k({first_name:I.first_name||"",last_name:I.last_name||"",email:I.email||(e==null?void 0:e.email)||"",phone:I.phone||"",country:W,city:B,id_number:I.id_number||"",specializations:I.specializations||[]}),W&&await F(W),(I.cv_url||I.cv||I.resume_url||I.resume)&&d(I.cv_url||I.cv||I.resume_url||I.resume)}catch(q){console.error("Failed to load profile:",q)}finally{n(!1)}},z=async()=>{N(!0);try{const q=await Ma.getCountries();g(q.countries||[])}catch(q){console.error("Failed to load countries:",q),g([])}finally{N(!1)}},F=async q=>{var I;if(!q){S([]);return}w(!0);try{const W=await Ma.getCities(q);let B=W.cities||((I=W.data)==null?void 0:I.cities)||W.data||W||[];!Array.isArray(B)&&typeof B=="object"&&(B=Object.values(B)),S(Array.isArray(B)?B:[])}catch(W){console.error("Failed to load cities:",W),S([])}finally{w(!1)}},C=q=>{k({...T,[q.target.name]:q.target.value}),R({}),j("")},A=q=>{E({...b,[q.target.name]:q.target.value}),R({}),j("")},M=async q=>{var I,W,B,H;q.preventDefault(),o(!0),R({}),j("");try{const Y={first_name:T.first_name,last_name:T.last_name,email:T.email,phone:T.phone||null,country:T.country||null,city:T.city||null,id_number:T.id_number||null,specializations:T.specializations||[]},U=await zs.updateProfile(Y),L=U.profile||U.instructor||U;c(L),j("Profile updated successfully!"),k(X=>({...X,first_name:L.first_name||X.first_name,last_name:L.last_name||X.last_name,email:L.email||X.email,phone:L.phone||X.phone||"",country:L.country||X.country||"",city:L.city||X.city||"",id_number:L.id_number||X.id_number||"",specializations:L.specializations||X.specializations||[]})),(L.cv_url||L.cv)&&d(L.cv_url||L.cv)}catch(Y){(W=(I=Y.response)==null?void 0:I.data)!=null&&W.errors?R(Y.response.data.errors):Y.errors?R(Y.errors):R({general:((H=(B=Y.response)==null?void 0:B.data)==null?void 0:H.message)||Y.message||"Failed to update profile"})}finally{o(!1)}},D=async q=>{q.preventDefault(),o(!0),R({}),j("");try{const{authAPI:I}=await WT(async()=>{const{authAPI:W}=await Promise.resolve().then(()=>h_);return{authAPI:W}},void 0);await I.changePassword(b),j("Password changed successfully!"),E({current_password:"",password:"",password_confirmation:""})}catch(I){I.errors?R(I.errors):R({password:I.message||"Failed to change password"})}finally{o(!1)}},O=async q=>{var W,B,H,Y;const I=q.target.files[0];if(I){if(I.type!=="application/pdf"){R({cv:"Only PDF files are allowed"}),q.target.value="";return}if(I.size>10*1024*1024){R({cv:"File size must be less than 10MB"}),q.target.value="";return}R({}),j(""),m(!0);try{const U=new FormData;U.append("cv",I);const L=await zs.updateProfile(U),X=L.profile||L.instructor||L;if(X.cv_url||X.cv)d(X.cv_url||X.cv),c(X),j("CV uploaded successfully!");else throw new Error("CV upload failed - no CV URL returned");q.target.value=""}catch(U){console.error("Failed to upload CV:",U),(B=(W=U.response)==null?void 0:W.data)!=null&&B.message?R({cv:U.response.data.message}):(Y=(H=U.response)==null?void 0:H.data)!=null&&Y.errors?R(U.response.data.errors):R({cv:U.message||"Failed to upload CV"})}finally{m(!1)}}},V=async()=>{var q,I;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){m(!0),R({}),j("");try{const W=new FormData;W.append("cv","");const B=await zs.updateProfile(W),H=B.profile||B.instructor||B;c(H),d(null),j("CV removed successfully!")}catch(W){console.error("Failed to remove CV:",W),(I=(q=W.response)==null?void 0:q.data)!=null&&I.message?R({cv:W.response.data.message}):R({cv:W.message||"Failed to remove CV"})}finally{m(!1)}}};return a?t.jsx("div",{className:"instructor-profile-loading",children:t.jsx("div",{className:"instructor-profile-spinner"})}):t.jsxs("div",{className:"instructor-profile-container",children:[$&&t.jsxs("div",{className:"instructor-profile-success",children:[t.jsx(hi,{className:"instructor-profile-success-icon",size:24}),t.jsx("p",{className:"instructor-profile-success-text",children:$})]}),t.jsx("div",{className:"instructor-profile-content",children:t.jsxs("div",{className:"instructor-profile-section",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper",children:t.jsx(Ls,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Profile Information"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:M,className:"instructor-profile-form",children:[t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(de,{label:"First Name",name:"first_name",value:T.first_name,onChange:C,required:!0,error:v.first_name}),t.jsx(de,{label:"Last Name",name:"last_name",value:T.last_name,onChange:C,required:!0,error:v.last_name})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(de,{label:"Email Address",type:"email",name:"email",value:T.email,onChange:C,required:!0,error:v.email}),t.jsx(de,{label:"Phone Number",name:"phone",type:"tel",value:T.phone,onChange:C,error:v.phone})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Country"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(vt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"country",value:T.country,onChange:C,className:"instructor-profile-select",disabled:x,children:[t.jsx("option",{value:"",children:"Select Country"}),u.map(q=>t.jsx("option",{value:q.code,children:q.name},q.code))]})]}),v.country&&t.jsx("p",{className:"instructor-profile-error",children:v.country})]}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"City"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(vt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"city",value:T.city,onChange:C,className:"instructor-profile-select",disabled:!T.country||_,children:[t.jsx("option",{value:"",children:"Select City"}),Array.isArray(y)&&y.map((q,I)=>t.jsx("option",{value:q.name,children:q.name},I))]})]}),v.city&&t.jsx("p",{className:"instructor-profile-error",children:v.city})]})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(de,{label:"ID Number",name:"id_number",value:T.id_number,onChange:C,error:v.id_number}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Type"}),t.jsx("div",{className:"instructor-profile-select-container",children:l!=null&&l.is_assessor?t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Assessor"}):t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 border border-gray-200",children:"Instructor"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field is managed by your Training Center"})]})]}),t.jsx(vh,{label:"Languages",value:T.specializations,onChange:q=>{k({...T,specializations:q}),R({})},error:v.specializations}),v.general&&t.jsx("div",{className:"instructor-profile-error-box",children:t.jsx("p",{className:"instructor-profile-error-text",children:v.general})}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(Xe,{type:"submit",variant:"primary",fullWidth:!0,disabled:i,loading:i,icon:t.jsx(hi,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"instructor-profile-grid-2",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-red",children:t.jsx(Uf,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Change Password"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:D,className:"instructor-profile-form",children:[t.jsx(de,{label:"Current Password",type:"password",name:"current_password",value:b.current_password,onChange:A,required:!0,error:v.current_password}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(de,{label:"New Password",type:"password",name:"password",value:b.password,onChange:A,required:!0,error:v.password}),t.jsx(de,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:b.password_confirmation,onChange:A,required:!0,error:v.password_confirmation})]}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(Xe,{type:"submit",variant:"danger",disabled:i,loading:i,icon:t.jsx(Fd,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-indigo",children:t.jsx(Ye,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"CV / Resume"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"instructor-profile-cv-content",children:[h&&t.jsx("div",{className:"mb-4 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Ye,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Current CV"}),t.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"View CV"})]})]}),t.jsx("button",{onClick:V,disabled:p,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Remove CV",children:t.jsx(_s,{size:18})})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h?"Update CV":"Upload CV"}),t.jsxs("label",{className:"block w-full p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:border-primary-400 hover:bg-primary-50/30 transition-all cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:O,disabled:p,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mb-3",children:t.jsx(Ys,{className:"text-primary-600",size:24})}),p?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Uploading CV..."}),t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary-600 border-t-transparent mt-2"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h?"Click to update CV":"Click to upload CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, maximum 10MB"})]})]})]}),v.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:v.cv})]})]})]})]})]})})]})},HT=()=>{const{user:e,updateUser:s}=hr(),{setHeaderTitle:r,setHeaderSubtitle:a}=it(),[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=(e==null?void 0:e.role)==="instructor",h=(e==null?void 0:e.role)==="training_center_admin",[d,p]=f.useState(null),[m,u]=f.useState(null),[g,y]=f.useState(null),[S,x]=f.useState(!1),[N,_]=f.useState(null),[w,T]=f.useState(null),[k,b]=f.useState(!1),[E,v]=f.useState([]),[R,$]=f.useState([]),[j,P]=f.useState(!1),[z,F]=f.useState(!1),[C,A]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[],name:"",address:"",state:"",postal_code:"",website:"",description:""}),[M,D]=f.useState({current_password:"",password:"",password_confirmation:""}),[O,V]=f.useState({}),[q,I]=f.useState("");f.useEffect(()=>{B()},[]),f.useEffect(()=>{(E.length>0||!c&&!h||h&&E.length>0)&&W()},[E.length,c,h]),f.useEffect(()=>{h&&C.country?H(C.country):h&&!C.country&&$([])},[C.country,h]),f.useEffect(()=>{c&&C.country?H(C.country):c&&!C.country&&($([]),A(xe=>({...xe,city:""})))},[C.country,c]),f.useEffect(()=>(r("Profile"),a("Manage your account settings and preferences"),()=>{r(null),a(null)}),[r,a]);const W=async()=>{i(!0);try{if(c){const xe=await zs.getProfile(),he=xe.profile||xe.instructor||xe;p(he);let J=he.country||"";if(J&&E.length>0){const Ne=E.find(Pe=>Pe.name===J||Pe.code===J);Ne&&(J=Ne.code)}const ue=he.city||"";A({first_name:he.first_name||"",last_name:he.last_name||"",email:he.email||(e==null?void 0:e.email)||"",phone:he.phone||"",country:J,city:ue,id_number:he.id_number||"",specializations:he.specializations||[]}),J&&await H(J),(he.cv_url||he.cv||he.resume_url||he.resume)&&y(he.cv_url||he.cv||he.resume_url||he.resume)}else if(h){const xe=await Gs.getProfile(),he=xe.training_center||xe.user||xe;let J=he.country||"";if(J&&E.length>0){const ue=E.find(Ne=>Ne.name===J||Ne.code===J);ue&&(J=ue.code)}A({name:he.name||he.training_center_name||"",email:he.email||(e==null?void 0:e.email)||"",phone:he.phone||he.phone_number||"",address:he.address||"",city:he.city||"",state:he.state||he.province||"",country:J,postal_code:he.postal_code||he.zip_code||"",website:he.website||he.website_url||"",description:he.description||he.bio||""}),(he.logo||he.logo_url||he.avatar)&&T(he.logo||he.logo_url||he.avatar),J&&await H(J),s(xe.user||he)}else{const xe=await Gs.getProfile();A({first_name:"",last_name:"",name:xe.user.name||"",email:xe.user.email||"",phone:"",country:"",city:""}),s(xe.user)}}catch(xe){console.error("Failed to load profile:",xe)}finally{i(!1)}},B=async()=>{P(!0);try{const xe=await Ma.getCountries();v(xe.countries||[])}catch(xe){console.error("Failed to load countries:",xe),v([])}finally{P(!1)}},H=async xe=>{var he;if(!xe){$([]);return}F(!0);try{const J=await Ma.getCities(xe);let ue=J.cities||((he=J.data)==null?void 0:he.cities)||J.data||J||[];!Array.isArray(ue)&&typeof ue=="object"&&(ue=Object.values(ue)),$(Array.isArray(ue)?ue:[])}catch(J){console.error("Failed to load cities:",J),$([])}finally{F(!1)}},Y=xe=>{const{name:he,value:J}=xe.target;A({...C,[he]:J,...he==="country"&&{city:""}}),V({}),I("")},U=xe=>{const he=xe.target.files[0];if(he){if(!he.type.startsWith("image/")){V({...O,logo:"Please select an image file"});return}if(he.size>5*1024*1024){V({...O,logo:"Image size must be less than 5MB"});return}_(he);const J=new FileReader;J.onloadend=()=>{T(J.result)},J.readAsDataURL(he),V({...O,logo:null})}},L=xe=>{D({...M,[xe.target.name]:xe.target.value}),V({}),I("")},X=async xe=>{var he,J,ue,Ne;xe.preventDefault(),l(!0),V({}),I("");try{if(c){const Pe={first_name:C.first_name,last_name:C.last_name,email:C.email,phone:C.phone||null,country:C.country||null,city:C.city||null,id_number:C.id_number||null,specializations:C.specializations||[]},ke=await zs.updateProfile(Pe),ee=ke.profile||ke.instructor||ke;p(ee),I("Profile updated successfully!"),A(re=>({...re,first_name:ee.first_name||re.first_name,last_name:ee.last_name||re.last_name,email:ee.email||re.email,phone:ee.phone||re.phone||"",country:ee.country||re.country||"",city:ee.city||re.city||"",id_number:ee.id_number||re.id_number||"",specializations:ee.specializations||re.specializations||[]})),(ee.cv_url||ee.cv)&&y(ee.cv_url||ee.cv)}else if(h){const Pe=new FormData;Object.keys(C).forEach(Me=>{C[Me]!==null&&C[Me]!==""&&Pe.append(Me,C[Me])}),N instanceof File&&Pe.append("logo",N);const ke=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),re=await lt.post("https://aeroenix.com/v1/api/auth/profile?_method=PUT",Pe,{headers:{Authorization:`Bearer ${ke}`,Accept:"application/json"}}),fe=re.data.training_center||re.data.user||re.data;s(re.data.user||fe),(fe.logo||fe.logo_url)&&T(fe.logo||fe.logo_url),_(null),b(!1),I("Profile updated successfully!")}else{const Pe=await Gs.updateProfile(C);s(Pe.user),I("Profile updated successfully!")}}catch(Pe){(J=(he=Pe.response)==null?void 0:he.data)!=null&&J.errors?V(Pe.response.data.errors):Pe.errors?V(Pe.errors):V({general:((Ne=(ue=Pe.response)==null?void 0:ue.data)==null?void 0:Ne.message)||Pe.message||"Failed to update profile"})}finally{l(!1)}},se=async xe=>{xe.preventDefault(),l(!0),V({}),I("");try{await Gs.changePassword(M),I("Password changed successfully!"),D({current_password:"",password:"",password_confirmation:""})}catch(he){he.errors?V(he.errors):V({password:he.message||"Failed to change password"})}finally{l(!1)}},ce=xe=>{const he=xe.target.files[0];if(he){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(he.type)){V({cv:"Please upload a PDF or Word document"});return}if(he.size>5*1024*1024){V({cv:"File size must be less than 5MB"});return}u(he),V({})}},ve=async()=>{var xe,he,J,ue;if(m){x(!0),V({}),I("");try{const Ne=new FormData;Ne.append("cv",m);const Pe=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),ee=await lt.put("https://aeroenix.com/v1/api/instructor/profile",Ne,{headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}}),re=ee.data.profile||ee.data.instructor||ee.data;(re.cv_url||re.cv)&&y(re.cv_url||re.cv),p(re),A(fe=>({...fe,first_name:re.first_name||fe.first_name,last_name:re.last_name||fe.last_name,email:re.email||fe.email,phone:re.phone||fe.phone,country:re.country||fe.country,city:re.city||fe.city,id_number:re.id_number||fe.id_number,specializations:re.specializations||fe.specializations})),u(null),I("CV uploaded successfully!")}catch(Ne){console.error("Failed to upload CV:",Ne),(he=(xe=Ne.response)==null?void 0:xe.data)!=null&&he.errors?V(Ne.response.data.errors):V({cv:((ue=(J=Ne.response)==null?void 0:J.data)==null?void 0:ue.message)||Ne.message||"Failed to upload CV"})}finally{x(!1)}}},me=async()=>{var xe,he,J,ue;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){x(!0),V({}),I("");try{const Ne=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),Pe="https://aeroenix.com/v1/api",ke=new FormData;ke.append("cv","");const ee=await lt.put(`${Pe}/instructor/profile`,ke,{headers:{Authorization:`Bearer ${Ne}`,Accept:"application/json"}}),re=ee.data.profile||ee.data.instructor||ee.data;p(re),y(null),u(null),I("CV removed successfully!"),A(fe=>({...fe,first_name:re.first_name||fe.first_name,last_name:re.last_name||fe.last_name,email:re.email||fe.email,phone:re.phone||fe.phone,country:re.country||fe.country,city:re.city||fe.city,id_number:re.id_number||fe.id_number,specializations:re.specializations||fe.specializations}))}catch(Ne){console.error("Failed to remove CV:",Ne),(he=(xe=Ne.response)==null?void 0:xe.data)!=null&&he.errors?V(Ne.response.data.errors):V({cv:((ue=(J=Ne.response)==null?void 0:J.data)==null?void 0:ue.message)||Ne.message||"Failed to remove CV"})}finally{x(!1)}}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[q&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx($e,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:q})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Ls,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:X,className:"space-y-5",children:[h?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b border-gray-200",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:w?t.jsx("img",{src:w,alt:"Logo",className:"w-full h-full object-cover"}):t.jsx(Ke,{className:"text-gray-400",size:40})}),k&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[t.jsx(Ys,{size:16}),t.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Center Logo"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your training center logo"}),!k&&t.jsxs("button",{type:"button",onClick:()=>b(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[t.jsx(ws,{size:16}),"Edit Profile"]}),O.logo&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.logo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"Training Center Name",name:"name",value:C.name,onChange:Y,required:!0,disabled:!k,error:O.name}),t.jsx(de,{label:"Email Address",type:"email",name:"email",value:C.email,onChange:Y,required:!0,disabled:!k,error:O.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"Phone Number",name:"phone",type:"tel",value:C.phone,onChange:Y,disabled:!k,error:O.phone}),t.jsx(de,{label:"Website",name:"website",type:"url",value:C.website,onChange:Y,disabled:!k,error:O.website,placeholder:"https://example.com"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5",children:t.jsx(de,{label:"Address",name:"address",value:C.address,onChange:Y,disabled:!k,error:O.address})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:C.country,onChange:Y,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!k||j,children:[t.jsx("option",{value:"",children:"Select Country"}),E.map(xe=>t.jsx("option",{value:xe.code,children:xe.name},xe.code))]})]}),O.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:C.city,onChange:Y,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!k||!C.country||z,children:[t.jsx("option",{value:"",children:"Select City"}),R.map((xe,he)=>t.jsx("option",{value:xe.name,children:xe.name},he))]})]}),O.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.city})]}),t.jsx(de,{label:"State/Province",name:"state",value:C.state,onChange:Y,disabled:!k,error:O.state})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(de,{label:"Postal Code",name:"postal_code",value:C.postal_code,onChange:Y,disabled:!k,error:O.postal_code})}),t.jsx(de,{label:"Description",name:"description",textarea:!0,rows:6,value:C.description,onChange:Y,disabled:!k,error:O.description,placeholder:"Tell us about your training center..."}),k&&t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(Xe,{type:"button",variant:"secondary",onClick:()=>{b(!1),_(null),W()},disabled:o,children:"Cancel"}),t.jsx(Xe,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(hi,{size:20}),children:"Save Changes"})]})]}):c?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"First Name",name:"first_name",value:C.first_name,onChange:Y,required:!0,error:O.first_name}),t.jsx(de,{label:"Last Name",name:"last_name",value:C.last_name,onChange:Y,required:!0,error:O.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"Email Address",type:"email",name:"email",value:C.email,onChange:Y,required:!0,error:O.email}),t.jsx(de,{label:"Phone Number",name:"phone",type:"tel",value:C.phone,onChange:Y,error:O.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:C.country,onChange:Y,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:j,children:[t.jsx("option",{value:"",children:"Select Country"}),E.map(xe=>t.jsx("option",{value:xe.code,children:xe.name},xe.code))]})]}),O.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:C.city,onChange:Y,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:!C.country||z,children:[t.jsx("option",{value:"",children:"Select City"}),R.map((xe,he)=>t.jsx("option",{value:xe.name,children:xe.name},he))]})]}),O.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.city})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(de,{label:"ID Number",name:"id_number",value:C.id_number,onChange:Y,error:O.id_number})}),t.jsx(vh,{label:"Languages",value:C.specializations,onChange:xe=>{A({...C,specializations:xe}),V({})},error:O.specializations})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"Full Name",name:"name",value:C.name,onChange:Y,required:!0,error:O.name}),t.jsx(de,{label:"Email Address",type:"email",name:"email",value:C.email,onChange:Y,required:!0,error:O.email})]}),O.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:O.general})}),!h&&t.jsx("div",{className:"pt-2",children:t.jsx(Xe,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(hi,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Uf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:se,className:"space-y-5",children:[t.jsx(de,{label:"Current Password",type:"password",name:"current_password",value:M.current_password,onChange:L,required:!0,error:O.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(de,{label:"New Password",type:"password",name:"password",value:M.password,onChange:L,required:!0,error:O.password}),t.jsx(de,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:M.password_confirmation,onChange:L,required:!0,error:O.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(Xe,{type:"submit",variant:"danger",disabled:o,loading:o,icon:t.jsx(Fd,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Ye,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"space-y-4",children:[g&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ye,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ye,{size:16}),g.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]}),t.jsx("button",{onClick:me,disabled:S,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(_s,{size:18})})]})}),!g&&!m&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ye,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your CV below to get started"})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g?"Update CV":"Upload CV"}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:ce,className:"hidden"}),t.jsx("div",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ys,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:m?m.name:"Click to select PDF or Word document"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max size: 5MB"})]})})]})}),O.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.cv})]}),m&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Xe,{onClick:ve,disabled:S,loading:S,icon:t.jsx(Ys,{size:18}),children:S?"Uploading...":"Upload CV"}),t.jsx(Xe,{onClick:()=>u(null),variant:"secondary",disabled:S,children:"Cancel"})]})]})]})]})]})})]})},GT=()=>{const{user:e}=hr();return t.jsx($n,{children:(e==null?void 0:e.role)==="acc_admin"?t.jsx(rT,{}):t.jsx(HT,{})})};function KT(){return t.jsx(g_,{children:t.jsx(x_,{children:t.jsx(b_,{children:t.jsx(FC,{children:t.jsxs(Bi,{children:[t.jsx(Ge,{path:"/login",element:t.jsx(g0,{})}),t.jsx(Ge,{path:"/register",element:t.jsx(g0,{})}),t.jsx(Ge,{path:"/reset-password",element:t.jsx(oE,{})}),t.jsx(Ge,{path:"/pending-account",element:t.jsx(Qa,{allowPending:!0,children:t.jsx(iE,{})})}),t.jsx(Ge,{path:"/unauthorized",element:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700",children:"Go to Dashboard"})]})})}),t.jsx(Ge,{path:"/dashboard",element:t.jsx(Qa,{children:t.jsx($n,{children:t.jsx(dE,{})})})}),t.jsx(Ge,{path:"/admin/*",element:t.jsx(Qa,{allowedRoles:["group_admin"],children:t.jsx($n,{children:t.jsxs(Bi,{children:[t.jsx(Ge,{path:"accs",element:t.jsx(uE,{})}),t.jsx(Ge,{path:"training-center-applications",element:t.jsx(mE,{})}),t.jsx(Ge,{path:"all-accs",element:t.jsx(pE,{})}),t.jsx(Ge,{path:"all-training-centers",element:t.jsx(fE,{})}),t.jsx(Ge,{path:"all-instructors",element:t.jsx(hE,{})}),t.jsx(Ge,{path:"all-courses",element:t.jsx(gE,{})}),t.jsx(Ge,{path:"categories",element:t.jsx(xE,{})}),t.jsx(Ge,{path:"financial",element:t.jsx(yE,{})}),t.jsx(Ge,{path:"payment-transactions",element:t.jsx(bE,{})}),t.jsx(Ge,{path:"reports",element:t.jsx(vE,{})}),t.jsx(Ge,{path:"instructor-authorizations",element:t.jsx(jE,{})}),t.jsx(Ge,{path:"stripe-settings",element:t.jsx(NE,{})}),t.jsx(Ge,{path:"pending-payments",element:t.jsx(CE,{})})]})})})}),t.jsx(Ge,{path:"/acc/*",element:t.jsx(Qa,{allowedRoles:["acc_admin"],children:t.jsx($n,{children:t.jsxs(Bi,{children:[t.jsx(Ge,{path:"dashboard",element:t.jsx(Mj,{})}),t.jsx(Ge,{path:"subscription",element:t.jsx(sT,{})}),t.jsx(Ge,{path:"training-centers",element:t.jsx(aT,{})}),t.jsx(Ge,{path:"instructors",element:t.jsx(nT,{})}),t.jsx(Ge,{path:"courses",element:t.jsx(cT,{})}),t.jsx(Ge,{path:"certificates",element:t.jsx(dT,{})}),t.jsx(Ge,{path:"materials",element:t.jsx(uT,{})}),t.jsx(Ge,{path:"discount-codes",element:t.jsx(mT,{})}),t.jsx(Ge,{path:"categories",element:t.jsx(pT,{})}),t.jsx(Ge,{path:"classes",element:t.jsx(hT,{})}),t.jsx(Ge,{path:"payment-transactions",element:t.jsx(fT,{})}),t.jsx(Ge,{path:"pending-payments",element:t.jsx(gT,{})})]})})})}),t.jsx(Ge,{path:"/training-center/*",element:t.jsx(Qa,{allowedRoles:["training_center_admin"],children:t.jsx($n,{children:t.jsxs(Bi,{children:[t.jsx(Ge,{path:"dashboard",element:t.jsx(Ij,{})}),t.jsx(Ge,{path:"accs",element:t.jsx(vT,{})}),t.jsx(Ge,{path:"instructors",element:t.jsx(NT,{})}),t.jsx(Ge,{path:"trainees",element:t.jsx(CT,{})}),t.jsx(Ge,{path:"classes",element:t.jsx(wT,{})}),t.jsx(Ge,{path:"codes",element:t.jsx(RT,{})}),t.jsx(Ge,{path:"certificates",element:t.jsx(FT,{})}),t.jsx(Ge,{path:"wallet",element:t.jsx(DT,{})}),t.jsx(Ge,{path:"marketplace",element:t.jsx($T,{})}),t.jsx(Ge,{path:"instructor-authorizations",element:t.jsx(MT,{})}),t.jsx(Ge,{path:"payment-transactions",element:t.jsx(IT,{})})]})})})}),t.jsx(Ge,{path:"/instructor/*",element:t.jsx(Qa,{allowedRoles:["instructor"],children:t.jsx($n,{children:t.jsxs(Bi,{children:[t.jsx(Ge,{path:"dashboard",element:t.jsx(Lj,{})}),t.jsx(Ge,{path:"classes",element:t.jsx(LT,{})}),t.jsx(Ge,{path:"materials",element:t.jsx(OT,{})}),t.jsx(Ge,{path:"earnings",element:t.jsx(UT,{})}),t.jsx(Ge,{path:"profile",element:t.jsx(VT,{})})]})})})}),t.jsx(Ge,{path:"/profile",element:t.jsx(Qa,{children:t.jsx(GT,{})})}),t.jsx(Ge,{path:"/",element:t.jsx(nc,{to:"/dashboard",replace:!0})})]})})})})})}mm.createRoot(document.getElementById("root")).render(t.jsx(at.StrictMode,{children:t.jsx(KT,{})}));
