var x1=Object.defineProperty;var y1=(e,s,r)=>s in e?x1(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var Li=(e,s,r)=>y1(e,typeof s!="symbol"?s+"":s,r);function b1(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Hp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M0={exports:{}},fd={},L0={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),v1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),w1=Symbol.for("react.provider"),_1=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),A1=Symbol.for("react.suspense"),k1=Symbol.for("react.memo"),P1=Symbol.for("react.lazy"),Rh=Symbol.iterator;function E1(e){return e===null||typeof e!="object"?null:(e=Rh&&e[Rh]||e["@@iterator"],typeof e=="function"?e:null)}var I0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O0=Object.assign,U0={};function ki(e,s,r){this.props=e,this.context=s,this.refs=U0,this.updater=r||I0}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=ki.prototype;function Gp(e,s,r){this.props=e,this.context=s,this.refs=U0,this.updater=r||I0}var Kp=Gp.prototype=new B0;Kp.constructor=Gp;O0(Kp,ki.prototype);Kp.isPureReactComponent=!0;var Fh=Array.isArray,q0=Object.prototype.hasOwnProperty,Qp={current:null},W0={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,s,r){var a,n={},i=null,o=null;if(s!=null)for(a in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)q0.call(s,a)&&!W0.hasOwnProperty(a)&&(n[a]=s[a]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:nl,type:e,key:i,ref:o,props:n,_owner:Qp.current}}function T1(e,s){return{$$typeof:nl,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Yp(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function z1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var Dh=/\/+/g;function ku(e,s){return typeof e=="object"&&e!==null&&e.key!=null?z1(""+e.key):s.toString(36)}function Xl(e,s,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nl:case v1:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+ku(o,0):a,Fh(n)?(r="",e!=null&&(r=e.replace(Dh,"$&/")+"/"),Xl(n,s,r,"",function(h){return h})):n!=null&&(Yp(n)&&(n=T1(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Dh,"$&/")+"/")+e)),s.push(n)),1;if(o=0,a=a===""?".":a+":",Fh(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+ku(i,l);o+=Xl(i,s,r,c,n)}else if(c=E1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+ku(i,l++),o+=Xl(i,s,r,c,n);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function wl(e,s,r){if(e==null)return e;var a=[],n=0;return Xl(e,a,"","",function(i){return s.call(r,i,n++)}),a}function R1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Fs={current:null},Zl={transition:null},F1={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:Qp};function H0(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:wl,forEach:function(e,s,r){wl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return wl(e,function(){s++}),s},toArray:function(e){return wl(e,function(s){return s})||[]},only:function(e){if(!Yp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ki;ct.Fragment=j1;ct.Profiler=C1;ct.PureComponent=Gp;ct.StrictMode=N1;ct.Suspense=A1;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1;ct.act=H0;ct.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=O0({},e.props),n=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Qp.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)q0.call(s,c)&&!W0.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:nl,type:e.type,key:n,ref:i,props:a,_owner:o}};ct.createContext=function(e){return e={$$typeof:_1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w1,_context:e},e.Consumer=e};ct.createElement=V0;ct.createFactory=function(e){var s=V0.bind(null,e);return s.type=e,s};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:S1,render:e}};ct.isValidElement=Yp;ct.lazy=function(e){return{$$typeof:P1,_payload:{_status:-1,_result:e},_init:R1}};ct.memo=function(e,s){return{$$typeof:k1,type:e,compare:s===void 0?null:s}};ct.startTransition=function(e){var s=Zl.transition;Zl.transition={};try{e()}finally{Zl.transition=s}};ct.unstable_act=H0;ct.useCallback=function(e,s){return Fs.current.useCallback(e,s)};ct.useContext=function(e){return Fs.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return Fs.current.useDeferredValue(e)};ct.useEffect=function(e,s){return Fs.current.useEffect(e,s)};ct.useId=function(){return Fs.current.useId()};ct.useImperativeHandle=function(e,s,r){return Fs.current.useImperativeHandle(e,s,r)};ct.useInsertionEffect=function(e,s){return Fs.current.useInsertionEffect(e,s)};ct.useLayoutEffect=function(e,s){return Fs.current.useLayoutEffect(e,s)};ct.useMemo=function(e,s){return Fs.current.useMemo(e,s)};ct.useReducer=function(e,s,r){return Fs.current.useReducer(e,s,r)};ct.useRef=function(e){return Fs.current.useRef(e)};ct.useState=function(e){return Fs.current.useState(e)};ct.useSyncExternalStore=function(e,s,r){return Fs.current.useSyncExternalStore(e,s,r)};ct.useTransition=function(){return Fs.current.useTransition()};ct.version="18.3.1";L0.exports=ct;var f=L0.exports;const lt=Hp(f),Nc=b1({__proto__:null,default:lt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=f,$1=Symbol.for("react.element"),M1=Symbol.for("react.fragment"),L1=Object.prototype.hasOwnProperty,I1=D1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O1={key:!0,ref:!0,__self:!0,__source:!0};function G0(e,s,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(a in s)L1.call(s,a)&&!O1.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:$1,type:e,key:i,ref:o,props:n,_owner:I1.current}}fd.Fragment=M1;fd.jsx=G0;fd.jsxs=G0;M0.exports=fd;var t=M0.exports,vm={},K0={exports:{}},or={},Q0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(I,F){var O=I.length;I.push(F);e:for(;0<O;){var B=O-1>>>1,H=I[B];if(0<n(H,F))I[B]=F,I[O]=H,O=B;else break e}}function r(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var F=I[0],O=I.pop();if(O!==F){I[0]=O;e:for(var B=0,H=I.length,U=H>>>1;B<U;){var q=2*(B+1)-1,W=I[q],G=q+1,re=I[G];if(0>n(W,O))G<H&&0>n(re,W)?(I[B]=re,I[G]=O,B=G):(I[B]=W,I[q]=O,B=q);else if(G<H&&0>n(re,O))I[B]=re,I[G]=O,B=G;else break e}}return F}function n(I,F){var O=I.sortIndex-F.sortIndex;return O!==0?O:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,m=null,p=3,u=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var F=r(h);F!==null;){if(F.callback===null)a(h);else if(F.startTime<=I)a(h),F.sortIndex=F.expirationTime,s(c,F);else break;F=r(h)}}function N(I){if(y=!1,C(I),!g)if(r(c)!==null)g=!0,P(E);else{var F=r(h);F!==null&&k(N,F.startTime-I)}}function E(I,F){g=!1,y&&(y=!1,x(A),A=-1),u=!0;var O=p;try{for(C(F),m=r(c);m!==null&&(!(m.expirationTime>F)||I&&!$());){var B=m.callback;if(typeof B=="function"){m.callback=null,p=m.priorityLevel;var H=B(m.expirationTime<=F);F=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(c)&&a(c),C(F)}else a(c);m=r(c)}if(m!==null)var U=!0;else{var q=r(h);q!==null&&k(N,q.startTime-F),U=!1}return U}finally{m=null,p=O,u=!1}}var S=!1,b=null,A=-1,j=5,z=-1;function $(){return!(e.unstable_now()-z<j)}function w(){if(b!==null){var I=e.unstable_now();z=I;var F=!0;try{F=b(!0,I)}finally{F?R():(S=!1,b=null)}}else S=!1}var R;if(typeof v=="function")R=function(){v(w)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=w,R=function(){M.postMessage(null)}}else R=function(){_(w,0)};function P(I){b=I,S||(S=!0,R())}function k(I,F){A=_(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||u||(g=!0,P(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var O=p;p=F;try{return I()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=p;p=I;try{return F()}finally{p=O}},e.unstable_scheduleCallback=function(I,F,O){var B=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,I={id:d++,callback:F,priorityLevel:I,startTime:O,expirationTime:H,sortIndex:-1},O>B?(I.sortIndex=O,s(h,I),r(c)===null&&I===r(h)&&(y?(x(A),A=-1):y=!0,k(N,O-B))):(I.sortIndex=H,s(c,I),g||u||(g=!0,P(E))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var F=p;return function(){var O=p;p=F;try{return I.apply(this,arguments)}finally{p=O}}}})(Y0);Q0.exports=Y0;var U1=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1=f,ir=U1;function Ee(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,zo={};function An(e,s){mi(e,s),mi(e+"Capture",s)}function mi(e,s){for(zo[e]=s,e=0;e<s.length;e++)J0.add(s[e])}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$h={},Mh={};function W1(e){return jm.call(Mh,e)?!0:jm.call($h,e)?!1:q1.test(e)?Mh[e]=!0:($h[e]=!0,!1)}function V1(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H1(e,s,r,a){if(s===null||typeof s>"u"||V1(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ds(e,s,r,a,n,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ps[e]=new Ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];ps[s]=new Ds(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ps[e]=new Ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ps[e]=new Ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ps[e]=new Ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ps[e]=new Ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ps[e]=new Ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ps[e]=new Ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ps[e]=new Ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Jp,Xp);ps[s]=new Ds(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Jp,Xp);ps[s]=new Ds(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Jp,Xp);ps[s]=new Ds(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ps[e]=new Ds(e,1,!1,e.toLowerCase(),null,!1,!1)});ps.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ps[e]=new Ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,s,r,a){var n=ps.hasOwnProperty(s)?ps[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H1(s,r,n,a)&&(r=null),a||n===null?W1(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var Na=B1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),ey=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,Pu;function io(e){if(Pu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Pu=s&&s[1]||""}return`
`+Pu+e}var Eu=!1;function Tu(e,s){if(!e||Eu)return"";Eu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var a=h}Reflect.construct(e,[],s)}else{try{s.call()}catch(h){a=h}e.call(s.prototype)}else{try{throw Error()}catch(h){a=h}e()}}catch(h){if(h&&a&&typeof h.stack=="string"){for(var n=h.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Eu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?io(e):""}function G1(e){switch(e.tag){case 5:return io(e.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return e=Tu(e.type,!1),e;case 11:return e=Tu(e.type.render,!1),e;case 1:return e=Tu(e.type,!0),e;default:return""}}function _m(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bn:return"Fragment";case Un:return"Portal";case Nm:return"Profiler";case ef:return"StrictMode";case Cm:return"Suspense";case wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z0:return(e.displayName||"Context")+".Consumer";case X0:return(e._context.displayName||"Context")+".Provider";case tf:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sf:return s=e.displayName||null,s!==null?s:_m(e.type)||"Memo";case _a:s=e._payload,e=e._init;try{return _m(e(s))}catch{}}return null}function K1(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(s);case 8:return s===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ty(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Q1(e){var s=ty(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Sl(e){e._valueTracker||(e._valueTracker=Q1(e))}function sy(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=ty(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function Cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sm(e,s){var r=s.checked;return Wt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ih(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=Ba(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ry(e,s){s=s.checked,s!=null&&Zp(e,"checked",s,!1)}function Am(e,s){ry(e,s);var r=Ba(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?km(e,s.type,r):s.hasOwnProperty("defaultValue")&&km(e,s.type,Ba(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Oh(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function km(e,s,r){(s!=="number"||Cc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oo=Array.isArray;function ti(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Ba(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function Pm(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Wt({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uh(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Ee(92));if(oo(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Ba(r)}}function ay(e,s){var r=Ba(s.value),a=Ba(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Bh(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function ny(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Em(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?ny(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Al,iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Ro(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y1=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(e){Y1.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),ho[s]=ho[e]})});function oy(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||ho.hasOwnProperty(e)&&ho[e]?(""+s).trim():s+"px"}function ly(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=oy(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var J1=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tm(e,s){if(s){if(J1[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Ee(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Ee(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Ee(62))}}function zm(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fm=null,si=null,ri=null;function qh(e){if(e=ll(e)){if(typeof Fm!="function")throw Error(Ee(280));var s=e.stateNode;s&&(s=bd(s),Fm(e.stateNode,e.type,s))}}function cy(e){si?ri?ri.push(e):ri=[e]:si=e}function dy(){if(si){var e=si,s=ri;if(ri=si=null,qh(e),s)for(e=0;e<s.length;e++)qh(s[e])}}function uy(e,s){return e(s)}function my(){}var zu=!1;function py(e,s,r){if(zu)return e(s,r);zu=!0;try{return uy(e,s,r)}finally{zu=!1,(si!==null||ri!==null)&&(my(),dy())}}function Fo(e,s){var r=e.stateNode;if(r===null)return null;var a=bd(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,s,typeof r));return r}var Dm=!1;if(fa)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Dm=!1}function X1(e,s,r,a,n,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{s.apply(r,h)}catch(d){this.onError(d)}}var go=!1,wc=null,_c=!1,$m=null,Z1={onError:function(e){go=!0,wc=e}};function eN(e,s,r,a,n,i,o,l,c){go=!1,wc=null,X1.apply(Z1,arguments)}function tN(e,s,r,a,n,i,o,l,c){if(eN.apply(this,arguments),go){if(go){var h=wc;go=!1,wc=null}else throw Error(Ee(198));_c||(_c=!0,$m=h)}}function kn(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function fy(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Wh(e){if(kn(e)!==e)throw Error(Ee(188))}function sN(e){var s=e.alternate;if(!s){if(s=kn(e),s===null)throw Error(Ee(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Wh(n),e;if(i===a)return Wh(n),s;i=i.sibling}throw Error(Ee(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(Ee(189))}}if(r.alternate!==a)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:s}function hy(e){return e=sN(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=gy(e);if(s!==null)return s;e=e.sibling}return null}var xy=ir.unstable_scheduleCallback,Vh=ir.unstable_cancelCallback,rN=ir.unstable_shouldYield,aN=ir.unstable_requestPaint,Kt=ir.unstable_now,nN=ir.unstable_getCurrentPriorityLevel,af=ir.unstable_ImmediatePriority,yy=ir.unstable_UserBlockingPriority,Sc=ir.unstable_NormalPriority,iN=ir.unstable_LowPriority,by=ir.unstable_IdlePriority,hd=null,Jr=null;function oN(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(hd,e,void 0,(e.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:dN,lN=Math.log,cN=Math.LN2;function dN(e){return e>>>=0,e===0?32:31-(lN(e)/cN|0)|0}var kl=64,Pl=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ac(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?a=lo(l):(i&=o,i!==0&&(a=lo(i)))}else o=r&~n,o!==0?a=lo(o):i!==0&&(a=lo(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-Tr(s),n=1<<r,a|=e[r],s&=~n;return a}function uN(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tr(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&a)&&(n[o]=uN(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function Mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vy(){var e=kl;return kl<<=1,!(kl&4194240)&&(kl=64),e}function Ru(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function il(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-Tr(s),e[s]=r}function pN(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Tr(r),i=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function nf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-Tr(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var _t=0;function jy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ny,of,Cy,wy,_y,Lm=!1,El=[],za=null,Ra=null,Fa=null,Do=new Map,$o=new Map,Aa=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hh(e,s){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Do.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(s.pointerId)}}function Ui(e,s,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=ll(s),s!==null&&of(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function hN(e,s,r,a,n){switch(s){case"focusin":return za=Ui(za,e,s,r,a,n),!0;case"dragenter":return Ra=Ui(Ra,e,s,r,a,n),!0;case"mouseover":return Fa=Ui(Fa,e,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return Do.set(i,Ui(Do.get(i)||null,e,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,$o.set(i,Ui($o.get(i)||null,e,s,r,a,n)),!0}return!1}function Sy(e){var s=nn(e.target);if(s!==null){var r=kn(s);if(r!==null){if(s=r.tag,s===13){if(s=fy(r),s!==null){e.blockedOn=s,_y(e.priority,function(){Cy(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Im(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Rm=a,r.target.dispatchEvent(a),Rm=null}else return s=ll(r),s!==null&&of(s),e.blockedOn=r,!1;s.shift()}return!0}function Gh(e,s,r){ec(e)&&r.delete(s)}function gN(){Lm=!1,za!==null&&ec(za)&&(za=null),Ra!==null&&ec(Ra)&&(Ra=null),Fa!==null&&ec(Fa)&&(Fa=null),Do.forEach(Gh),$o.forEach(Gh)}function Bi(e,s){e.blockedOn===s&&(e.blockedOn=null,Lm||(Lm=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,gN)))}function Mo(e){function s(n){return Bi(n,e)}if(0<El.length){Bi(El[0],e);for(var r=1;r<El.length;r++){var a=El[r];a.blockedOn===e&&(a.blockedOn=null)}}for(za!==null&&Bi(za,e),Ra!==null&&Bi(Ra,e),Fa!==null&&Bi(Fa,e),Do.forEach(s),$o.forEach(s),r=0;r<Aa.length;r++)a=Aa[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)Sy(r),r.blockedOn===null&&Aa.shift()}var ai=Na.ReactCurrentBatchConfig,kc=!0;function xN(e,s,r,a){var n=_t,i=ai.transition;ai.transition=null;try{_t=1,lf(e,s,r,a)}finally{_t=n,ai.transition=i}}function yN(e,s,r,a){var n=_t,i=ai.transition;ai.transition=null;try{_t=4,lf(e,s,r,a)}finally{_t=n,ai.transition=i}}function lf(e,s,r,a){if(kc){var n=Im(e,s,r,a);if(n===null)qu(e,s,a,Pc,r),Hh(e,a);else if(hN(n,e,s,r,a))a.stopPropagation();else if(Hh(e,a),s&4&&-1<fN.indexOf(e)){for(;n!==null;){var i=ll(n);if(i!==null&&Ny(i),i=Im(e,s,r,a),i===null&&qu(e,s,a,Pc,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else qu(e,s,a,null,r)}}var Pc=null;function Im(e,s,r,a){if(Pc=null,e=rf(a),e=nn(e),e!==null)if(s=kn(e),s===null)e=null;else if(r=s.tag,r===13){if(e=fy(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Pc=e,null}function Ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nN()){case af:return 1;case yy:return 4;case Sc:case iN:return 16;case by:return 536870912;default:return 16}default:return 16}}var Pa=null,cf=null,tc=null;function ky(){if(tc)return tc;var e,s=cf,r=s.length,a,n="value"in Pa?Pa.value:Pa.textContent,i=n.length;for(e=0;e<r&&s[e]===n[e];e++);var o=r-e;for(a=1;a<=o&&s[r-a]===n[i-a];a++);return tc=n.slice(e,1<a?1-a:void 0)}function sc(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function Kh(){return!1}function lr(e){function s(r,a,n,i,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tl:Kh,this.isPropagationStopped=Kh,this}return Wt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),s}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=lr(Pi),ol=Wt({},Pi,{view:0,detail:0}),bN=lr(ol),Fu,Du,qi,gd=Wt({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Fu=e.screenX-qi.screenX,Du=e.screenY-qi.screenY):Du=Fu=0,qi=e),Fu)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),Qh=lr(gd),vN=Wt({},gd,{dataTransfer:0}),jN=lr(vN),NN=Wt({},ol,{relatedTarget:0}),$u=lr(NN),CN=Wt({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),wN=lr(CN),_N=Wt({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SN=lr(_N),AN=Wt({},Pi,{data:0}),Yh=lr(AN),kN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TN(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=EN[e])?!!s[e]:!1}function uf(){return TN}var zN=Wt({},ol,{key:function(e){if(e.key){var s=kN[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uf,charCode:function(e){return e.type==="keypress"?sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RN=lr(zN),FN=Wt({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=lr(FN),DN=Wt({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uf}),$N=lr(DN),MN=Wt({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),LN=lr(MN),IN=Wt({},gd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=lr(IN),UN=[9,13,27,32],mf=fa&&"CompositionEvent"in window,xo=null;fa&&"documentMode"in document&&(xo=document.documentMode);var BN=fa&&"TextEvent"in window&&!xo,Py=fa&&(!mf||xo&&8<xo&&11>=xo),Xh=" ",Zh=!1;function Ey(e,s){switch(e){case"keyup":return UN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function qN(e,s){switch(e){case"compositionend":return Ty(s);case"keypress":return s.which!==32?null:(Zh=!0,Xh);case"textInput":return e=s.data,e===Xh&&Zh?null:e;default:return null}}function WN(e,s){if(qn)return e==="compositionend"||!mf&&Ey(e,s)?(e=ky(),tc=cf=Pa=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Py&&s.locale!=="ko"?null:s.data;default:return null}}var VN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!VN[e.type]:s==="textarea"}function zy(e,s,r,a){cy(a),s=Ec(s,"onChange"),0<s.length&&(r=new df("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var yo=null,Lo=null;function HN(e){qy(e,0)}function xd(e){var s=Hn(e);if(sy(s))return e}function GN(e,s){if(e==="change")return s}var Ry=!1;if(fa){var Mu;if(fa){var Lu="oninput"in document;if(!Lu){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Lu=typeof tg.oninput=="function"}Mu=Lu}else Mu=!1;Ry=Mu&&(!document.documentMode||9<document.documentMode)}function sg(){yo&&(yo.detachEvent("onpropertychange",Fy),Lo=yo=null)}function Fy(e){if(e.propertyName==="value"&&xd(Lo)){var s=[];zy(s,Lo,e,rf(e)),py(HN,s)}}function KN(e,s,r){e==="focusin"?(sg(),yo=s,Lo=r,yo.attachEvent("onpropertychange",Fy)):e==="focusout"&&sg()}function QN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xd(Lo)}function YN(e,s){if(e==="click")return xd(s)}function JN(e,s){if(e==="input"||e==="change")return xd(s)}function XN(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Fr=typeof Object.is=="function"?Object.is:XN;function Io(e,s){if(Fr(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!jm.call(s,n)||!Fr(e[n],s[n]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,s){var r=rg(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rg(r)}}function Dy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Dy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function $y(){for(var e=window,s=Cc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Cc(e.document)}return s}function pf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function ZN(e){var s=$y(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&Dy(r.ownerDocument.documentElement,r)){if(a!==null&&pf(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=ag(r,i);var o=ag(r,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eC=fa&&"documentMode"in document&&11>=document.documentMode,Wn=null,Om=null,bo=null,Um=!1;function ng(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Um||Wn==null||Wn!==Cc(a)||(a=Wn,"selectionStart"in a&&pf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bo&&Io(bo,a)||(bo=a,a=Ec(Om,"onSelect"),0<a.length&&(s=new df("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=Wn)))}function zl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var Vn={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Iu={},My={};fa&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function yd(e){if(Iu[e])return Iu[e];if(!Vn[e])return e;var s=Vn[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in My)return Iu[e]=s[r];return e}var Ly=yd("animationend"),Iy=yd("animationiteration"),Oy=yd("animationstart"),Uy=yd("transitionend"),By=new Map,ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Va(e,s){By.set(e,s),An(s,[e])}for(var Ou=0;Ou<ig.length;Ou++){var Uu=ig[Ou],tC=Uu.toLowerCase(),sC=Uu[0].toUpperCase()+Uu.slice(1);Va(tC,"on"+sC)}Va(Ly,"onAnimationEnd");Va(Iy,"onAnimationIteration");Va(Oy,"onAnimationStart");Va("dblclick","onDoubleClick");Va("focusin","onFocus");Va("focusout","onBlur");Va(Uy,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function og(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,tN(a,s,void 0,e),e.currentTarget=null}function qy(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;og(n,l,h),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;og(n,l,h),i=c}}}if(_c)throw e=$m,_c=!1,$m=null,e}function Ft(e,s){var r=s[Hm];r===void 0&&(r=s[Hm]=new Set);var a=e+"__bubble";r.has(a)||(Wy(s,e,2,!1),r.add(a))}function Bu(e,s,r){var a=0;s&&(a|=4),Wy(r,e,a,s)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[Rl]){e[Rl]=!0,J0.forEach(function(r){r!=="selectionchange"&&(rC.has(r)||Bu(r,!1,e),Bu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Rl]||(s[Rl]=!0,Bu("selectionchange",!1,s))}}function Wy(e,s,r,a){switch(Ay(s)){case 1:var n=xN;break;case 4:n=yN;break;default:n=lf}r=n.bind(null,s,r,e),n=void 0,!Dm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function qu(e,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=nn(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}py(function(){var h=i,d=rf(r),m=[];e:{var p=By.get(e);if(p!==void 0){var u=df,g=e;switch(e){case"keypress":if(sc(r)===0)break e;case"keydown":case"keyup":u=RN;break;case"focusin":g="focus",u=$u;break;case"focusout":g="blur",u=$u;break;case"beforeblur":case"afterblur":u=$u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=jN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=$N;break;case Ly:case Iy:case Oy:u=wN;break;case Uy:u=LN;break;case"scroll":u=bN;break;case"wheel":u=ON;break;case"copy":case"cut":case"paste":u=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Jh}var y=(s&4)!==0,_=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var v=h,C;v!==null;){C=v;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,x!==null&&(N=Fo(v,x),N!=null&&y.push(Uo(v,N,C)))),_)break;v=v.return}0<y.length&&(p=new u(p,g,null,r,d),m.push({event:p,listeners:y}))}}if(!(s&7)){e:{if(p=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",p&&r!==Rm&&(g=r.relatedTarget||r.fromElement)&&(nn(g)||g[ha]))break e;if((u||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=h,g=g?nn(g):null,g!==null&&(_=kn(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=h),u!==g)){if(y=Qh,N="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=Jh,N="onPointerLeave",x="onPointerEnter",v="pointer"),_=u==null?p:Hn(u),C=g==null?p:Hn(g),p=new y(N,v+"leave",u,r,d),p.target=_,p.relatedTarget=C,N=null,nn(d)===h&&(y=new y(x,v+"enter",g,r,d),y.target=C,y.relatedTarget=_,N=y),_=N,u&&g)t:{for(y=u,x=g,v=0,C=y;C;C=En(C))v++;for(C=0,N=x;N;N=En(N))C++;for(;0<v-C;)y=En(y),v--;for(;0<C-v;)x=En(x),C--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=En(y),x=En(x)}y=null}else y=null;u!==null&&lg(m,p,u,y,!1),g!==null&&_!==null&&lg(m,_,g,y,!0)}}e:{if(p=h?Hn(h):window,u=p.nodeName&&p.nodeName.toLowerCase(),u==="select"||u==="input"&&p.type==="file")var E=GN;else if(eg(p))if(Ry)E=JN;else{E=QN;var S=KN}else(u=p.nodeName)&&u.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=YN);if(E&&(E=E(e,h))){zy(m,E,r,d);break e}S&&S(e,p,h),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&km(p,"number",p.value)}switch(S=h?Hn(h):window,e){case"focusin":(eg(S)||S.contentEditable==="true")&&(Wn=S,Om=h,bo=null);break;case"focusout":bo=Om=Wn=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,ng(m,r,d);break;case"selectionchange":if(eC)break;case"keydown":case"keyup":ng(m,r,d)}var b;if(mf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qn?Ey(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Py&&r.locale!=="ko"&&(qn||A!=="onCompositionStart"?A==="onCompositionEnd"&&qn&&(b=ky()):(Pa=d,cf="value"in Pa?Pa.value:Pa.textContent,qn=!0)),S=Ec(h,A),0<S.length&&(A=new Yh(A,e,null,r,d),m.push({event:A,listeners:S}),b?A.data=b:(b=Ty(r),b!==null&&(A.data=b)))),(b=BN?qN(e,r):WN(e,r))&&(h=Ec(h,"onBeforeInput"),0<h.length&&(d=new Yh("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:h}),d.data=b))}qy(m,s)})}function Uo(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Ec(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Fo(e,r),i!=null&&a.unshift(Uo(e,i,n)),i=Fo(e,s),i!=null&&a.push(Uo(e,i,n))),e=e.return}return a}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lg(e,s,r,a,n){for(var i=s._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&h!==null&&(l=h,n?(c=Fo(r,i),c!=null&&o.unshift(Uo(r,c,l))):n||(c=Fo(r,i),c!=null&&o.push(Uo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:s,listeners:o})}var aC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function cg(e){return(typeof e=="string"?e:""+e).replace(aC,`
`).replace(nC,"")}function Fl(e,s,r){if(s=cg(s),cg(e)!==s&&r)throw Error(Ee(425))}function Tc(){}var Bm=null,qm=null;function Wm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,iC=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(lC)}:Vm;function lC(e){setTimeout(function(){throw e})}function Wu(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),Mo(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Mo(s)}function Da(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function ug(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Ei,Bo="__reactProps$"+Ei,ha="__reactContainer$"+Ei,Hm="__reactEvents$"+Ei,cC="__reactListeners$"+Ei,dC="__reactHandles$"+Ei;function nn(e){var s=e[Qr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ha]||r[Qr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=ug(e);e!==null;){if(r=e[Qr])return r;e=ug(e)}return s}e=r,r=e.parentNode}return null}function ll(e){return e=e[Qr]||e[ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function bd(e){return e[Bo]||null}var Gm=[],Gn=-1;function Ha(e){return{current:e}}function $t(e){0>Gn||(e.current=Gm[Gn],Gm[Gn]=null,Gn--)}function Rt(e,s){Gn++,Gm[Gn]=e.current,e.current=s}var qa={},As=Ha(qa),Us=Ha(!1),yn=qa;function pi(e,s){var r=e.type.contextTypes;if(!r)return qa;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function Bs(e){return e=e.childContextTypes,e!=null}function zc(){$t(Us),$t(As)}function mg(e,s,r){if(As.current!==qa)throw Error(Ee(168));Rt(As,s),Rt(Us,r)}function Vy(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(Ee(108,K1(e)||"Unknown",n));return Wt({},r,a)}function Rc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qa,yn=As.current,Rt(As,e),Rt(Us,Us.current),!0}function pg(e,s,r){var a=e.stateNode;if(!a)throw Error(Ee(169));r?(e=Vy(e,s,yn),a.__reactInternalMemoizedMergedChildContext=e,$t(Us),$t(As),Rt(As,e)):$t(Us),Rt(Us,r)}var la=null,vd=!1,Vu=!1;function Hy(e){la===null?la=[e]:la.push(e)}function uC(e){vd=!0,Hy(e)}function Ga(){if(!Vu&&la!==null){Vu=!0;var e=0,s=_t;try{var r=la;for(_t=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}la=null,vd=!1}catch(n){throw la!==null&&(la=la.slice(e+1)),xy(af,Ga),n}finally{_t=s,Vu=!1}}return null}var Kn=[],Qn=0,Fc=null,Dc=0,mr=[],pr=0,bn=null,ua=1,ma="";function tn(e,s){Kn[Qn++]=Dc,Kn[Qn++]=Fc,Fc=e,Dc=s}function Gy(e,s,r){mr[pr++]=ua,mr[pr++]=ma,mr[pr++]=bn,bn=e;var a=ua;e=ma;var n=32-Tr(a)-1;a&=~(1<<n),r+=1;var i=32-Tr(s)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,ua=1<<32-Tr(s)+n|r<<n|a,ma=i+e}else ua=1<<i|r<<n|a,ma=e}function ff(e){e.return!==null&&(tn(e,1),Gy(e,1,0))}function hf(e){for(;e===Fc;)Fc=Kn[--Qn],Kn[Qn]=null,Dc=Kn[--Qn],Kn[Qn]=null;for(;e===bn;)bn=mr[--pr],mr[pr]=null,ma=mr[--pr],mr[pr]=null,ua=mr[--pr],mr[pr]=null}var sr=null,tr=null,It=!1,Pr=null;function Ky(e,s){var r=gr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function fg(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,sr=e,tr=Da(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,sr=e,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=bn!==null?{id:ua,overflow:ma}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=gr(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,sr=e,tr=null,!0):!1;default:return!1}}function Km(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qm(e){if(It){var s=tr;if(s){var r=s;if(!fg(e,s)){if(Km(e))throw Error(Ee(418));s=Da(r.nextSibling);var a=sr;s&&fg(e,s)?Ky(a,r):(e.flags=e.flags&-4097|2,It=!1,sr=e)}}else{if(Km(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,It=!1,sr=e}}}function hg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function Dl(e){if(e!==sr)return!1;if(!It)return hg(e),It=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Wm(e.type,e.memoizedProps)),s&&(s=tr)){if(Km(e))throw Qy(),Error(Ee(418));for(;s;)Ky(e,s),s=Da(s.nextSibling)}if(hg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){tr=Da(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}tr=null}}else tr=sr?Da(e.stateNode.nextSibling):null;return!0}function Qy(){for(var e=tr;e;)e=Da(e.nextSibling)}function fi(){tr=sr=null,It=!1}function gf(e){Pr===null?Pr=[e]:Pr.push(e)}var mC=Na.ReactCurrentBatchConfig;function Wi(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var a=r.stateNode}if(!a)throw Error(Ee(147,e));var n=a,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function $l(e,s){throw e=Object.prototype.toString.call(s),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function gg(e){var s=e._init;return s(e._payload)}function Yy(e){function s(x,v){if(e){var C=x.deletions;C===null?(x.deletions=[v],x.flags|=16):C.push(v)}}function r(x,v){if(!e)return null;for(;v!==null;)s(x,v),v=v.sibling;return null}function a(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function n(x,v){return x=Ia(x,v),x.index=0,x.sibling=null,x}function i(x,v,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<v?(x.flags|=2,v):C):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,C,N){return v===null||v.tag!==6?(v=Xu(C,x.mode,N),v.return=x,v):(v=n(v,C),v.return=x,v)}function c(x,v,C,N){var E=C.type;return E===Bn?d(x,v,C.props.children,N,C.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_a&&gg(E)===v.type)?(N=n(v,C.props),N.ref=Wi(x,v,C),N.return=x,N):(N=cc(C.type,C.key,C.props,null,x.mode,N),N.ref=Wi(x,v,C),N.return=x,N)}function h(x,v,C,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=Zu(C,x.mode,N),v.return=x,v):(v=n(v,C.children||[]),v.return=x,v)}function d(x,v,C,N,E){return v===null||v.tag!==7?(v=fn(C,x.mode,N,E),v.return=x,v):(v=n(v,C),v.return=x,v)}function m(x,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xu(""+v,x.mode,C),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _l:return C=cc(v.type,v.key,v.props,null,x.mode,C),C.ref=Wi(x,null,v),C.return=x,C;case Un:return v=Zu(v,x.mode,C),v.return=x,v;case _a:var N=v._init;return m(x,N(v._payload),C)}if(oo(v)||Ii(v))return v=fn(v,x.mode,C,null),v.return=x,v;$l(x,v)}return null}function p(x,v,C,N){var E=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return E!==null?null:l(x,v,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _l:return C.key===E?c(x,v,C,N):null;case Un:return C.key===E?h(x,v,C,N):null;case _a:return E=C._init,p(x,v,E(C._payload),N)}if(oo(C)||Ii(C))return E!==null?null:d(x,v,C,N,null);$l(x,C)}return null}function u(x,v,C,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(C)||null,l(v,x,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _l:return x=x.get(N.key===null?C:N.key)||null,c(v,x,N,E);case Un:return x=x.get(N.key===null?C:N.key)||null,h(v,x,N,E);case _a:var S=N._init;return u(x,v,C,S(N._payload),E)}if(oo(N)||Ii(N))return x=x.get(C)||null,d(v,x,N,E,null);$l(v,N)}return null}function g(x,v,C,N){for(var E=null,S=null,b=v,A=v=0,j=null;b!==null&&A<C.length;A++){b.index>A?(j=b,b=null):j=b.sibling;var z=p(x,b,C[A],N);if(z===null){b===null&&(b=j);break}e&&b&&z.alternate===null&&s(x,b),v=i(z,v,A),S===null?E=z:S.sibling=z,S=z,b=j}if(A===C.length)return r(x,b),It&&tn(x,A),E;if(b===null){for(;A<C.length;A++)b=m(x,C[A],N),b!==null&&(v=i(b,v,A),S===null?E=b:S.sibling=b,S=b);return It&&tn(x,A),E}for(b=a(x,b);A<C.length;A++)j=u(b,x,A,C[A],N),j!==null&&(e&&j.alternate!==null&&b.delete(j.key===null?A:j.key),v=i(j,v,A),S===null?E=j:S.sibling=j,S=j);return e&&b.forEach(function($){return s(x,$)}),It&&tn(x,A),E}function y(x,v,C,N){var E=Ii(C);if(typeof E!="function")throw Error(Ee(150));if(C=E.call(C),C==null)throw Error(Ee(151));for(var S=E=null,b=v,A=v=0,j=null,z=C.next();b!==null&&!z.done;A++,z=C.next()){b.index>A?(j=b,b=null):j=b.sibling;var $=p(x,b,z.value,N);if($===null){b===null&&(b=j);break}e&&b&&$.alternate===null&&s(x,b),v=i($,v,A),S===null?E=$:S.sibling=$,S=$,b=j}if(z.done)return r(x,b),It&&tn(x,A),E;if(b===null){for(;!z.done;A++,z=C.next())z=m(x,z.value,N),z!==null&&(v=i(z,v,A),S===null?E=z:S.sibling=z,S=z);return It&&tn(x,A),E}for(b=a(x,b);!z.done;A++,z=C.next())z=u(b,x,A,z.value,N),z!==null&&(e&&z.alternate!==null&&b.delete(z.key===null?A:z.key),v=i(z,v,A),S===null?E=z:S.sibling=z,S=z);return e&&b.forEach(function(w){return s(x,w)}),It&&tn(x,A),E}function _(x,v,C,N){if(typeof C=="object"&&C!==null&&C.type===Bn&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case _l:e:{for(var E=C.key,S=v;S!==null;){if(S.key===E){if(E=C.type,E===Bn){if(S.tag===7){r(x,S.sibling),v=n(S,C.props.children),v.return=x,x=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_a&&gg(E)===S.type){r(x,S.sibling),v=n(S,C.props),v.ref=Wi(x,S,C),v.return=x,x=v;break e}r(x,S);break}else s(x,S);S=S.sibling}C.type===Bn?(v=fn(C.props.children,x.mode,N,C.key),v.return=x,x=v):(N=cc(C.type,C.key,C.props,null,x.mode,N),N.ref=Wi(x,v,C),N.return=x,x=N)}return o(x);case Un:e:{for(S=C.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){r(x,v.sibling),v=n(v,C.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else s(x,v);v=v.sibling}v=Zu(C,x.mode,N),v.return=x,x=v}return o(x);case _a:return S=C._init,_(x,v,S(C._payload),N)}if(oo(C))return g(x,v,C,N);if(Ii(C))return y(x,v,C,N);$l(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,v!==null&&v.tag===6?(r(x,v.sibling),v=n(v,C),v.return=x,x=v):(r(x,v),v=Xu(C,x.mode,N),v.return=x,x=v),o(x)):r(x,v)}return _}var hi=Yy(!0),Jy=Yy(!1),$c=Ha(null),Mc=null,Yn=null,xf=null;function yf(){xf=Yn=Mc=null}function bf(e){var s=$c.current;$t($c),e._currentValue=s}function Ym(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function ni(e,s){Mc=e,xf=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Is=!0),e.firstContext=null)}function br(e){var s=e._currentValue;if(xf!==e)if(e={context:e,memoizedValue:s,next:null},Yn===null){if(Mc===null)throw Error(Ee(308));Yn=e,Mc.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return s}var on=null;function vf(e){on===null?on=[e]:on.push(e)}function Xy(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,vf(s)):(r.next=n.next,n.next=r),s.interleaved=r,ga(e,a)}function ga(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Sa=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pa(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function $a(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ht&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,ga(e,r)}return n=a.interleaved,n===null?(s.next=s,vf(a)):(s.next=n.next,n.next=s),a.interleaved=s,ga(e,r)}function rc(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,nf(e,r)}}function xg(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Lc(e,s,r,a){var n=e.updateQueue;Sa=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;o=0,d=h=c=null,l=i;do{var p=l.lane,u=l.eventTime;if((a&p)===p){d!==null&&(d=d.next={eventTime:u,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(p=s,u=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){m=g.call(u,m,p);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(u,m,p):g,p==null)break e;m=Wt({},m,p);break e;case 2:Sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=n.effects,p===null?n.effects=[l]:p.push(l))}else u={eventTime:u,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=u,c=m):d=d.next=u,o|=p;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;p=l,l=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);if(d===null&&(c=m),n.baseState=c,n.firstBaseUpdate=h,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do o|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);jn|=o,e.lanes=o,e.memoizedState=m}}function yg(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(Ee(191,n));n.call(a)}}}var cl={},Xr=Ha(cl),qo=Ha(cl),Wo=Ha(cl);function ln(e){if(e===cl)throw Error(Ee(174));return e}function Nf(e,s){switch(Rt(Wo,s),Rt(qo,e),Rt(Xr,cl),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Em(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Em(s,e)}$t(Xr),Rt(Xr,s)}function gi(){$t(Xr),$t(qo),$t(Wo)}function eb(e){ln(Wo.current);var s=ln(Xr.current),r=Em(s,e.type);s!==r&&(Rt(qo,e),Rt(Xr,r))}function Cf(e){qo.current===e&&($t(Xr),$t(qo))}var Ut=Ha(0);function Ic(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hu=[];function wf(){for(var e=0;e<Hu.length;e++)Hu[e]._workInProgressVersionPrimary=null;Hu.length=0}var ac=Na.ReactCurrentDispatcher,Gu=Na.ReactCurrentBatchConfig,vn=0,qt=null,es=null,ss=null,Oc=!1,vo=!1,Vo=0,pC=0;function xs(){throw Error(Ee(321))}function _f(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Fr(e[r],s[r]))return!1;return!0}function Sf(e,s,r,a,n,i){if(vn=i,qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=e===null||e.memoizedState===null?xC:yC,e=r(a,n),vo){i=0;do{if(vo=!1,Vo=0,25<=i)throw Error(Ee(301));i+=1,ss=es=null,s.updateQueue=null,ac.current=bC,e=r(a,n)}while(vo)}if(ac.current=Uc,s=es!==null&&es.next!==null,vn=0,ss=es=qt=null,Oc=!1,s)throw Error(Ee(300));return e}function Af(){var e=Vo!==0;return Vo=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?qt.memoizedState=ss=e:ss=ss.next=e,ss}function vr(){if(es===null){var e=qt.alternate;e=e!==null?e.memoizedState:null}else e=es.next;var s=ss===null?qt.memoizedState:ss.next;if(s!==null)ss=s,es=e;else{if(e===null)throw Error(Ee(310));es=e,e={memoizedState:es.memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},ss===null?qt.memoizedState=ss=e:ss=ss.next=e}return ss}function Ho(e,s){return typeof s=="function"?s(e):s}function Ku(e){var s=vr(),r=s.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var a=es,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,h=i;do{var d=h.lane;if((vn&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:e(a,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=m,o=a):c=c.next=m,qt.lanes|=d,jn|=d}h=h.next}while(h!==null&&h!==i);c===null?o=a:c.next=l,Fr(a,s.memoizedState)||(Is=!0),s.memoizedState=a,s.baseState=o,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,qt.lanes|=i,jn|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Qu(e){var s=vr(),r=s.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Fr(i,s.memoizedState)||(Is=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function tb(){}function sb(e,s){var r=qt,a=vr(),n=s(),i=!Fr(a.memoizedState,n);if(i&&(a.memoizedState=n,Is=!0),a=a.queue,kf(nb.bind(null,r,a,e),[e]),a.getSnapshot!==s||i||ss!==null&&ss.memoizedState.tag&1){if(r.flags|=2048,Go(9,ab.bind(null,r,a,n,s),void 0,null),rs===null)throw Error(Ee(349));vn&30||rb(r,s,n)}return n}function rb(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=qt.updateQueue,s===null?(s={lastEffect:null,stores:null},qt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function ab(e,s,r,a){s.value=r,s.getSnapshot=a,ib(s)&&ob(e)}function nb(e,s,r){return r(function(){ib(s)&&ob(e)})}function ib(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Fr(e,r)}catch{return!0}}function ob(e){var s=ga(e,1);s!==null&&zr(s,e,1,-1)}function bg(e){var s=Wr();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},s.queue=e,e=e.dispatch=gC.bind(null,qt,e),[s.memoizedState,e]}function Go(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=qt.updateQueue,s===null?(s={lastEffect:null,stores:null},qt.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function lb(){return vr().memoizedState}function nc(e,s,r,a){var n=Wr();qt.flags|=e,n.memoizedState=Go(1|s,r,void 0,a===void 0?null:a)}function jd(e,s,r,a){var n=vr();a=a===void 0?null:a;var i=void 0;if(es!==null){var o=es.memoizedState;if(i=o.destroy,a!==null&&_f(a,o.deps)){n.memoizedState=Go(s,r,i,a);return}}qt.flags|=e,n.memoizedState=Go(1|s,r,i,a)}function vg(e,s){return nc(8390656,8,e,s)}function kf(e,s){return jd(2048,8,e,s)}function cb(e,s){return jd(4,2,e,s)}function db(e,s){return jd(4,4,e,s)}function ub(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function mb(e,s,r){return r=r!=null?r.concat([e]):null,jd(4,4,ub.bind(null,s,e),r)}function Pf(){}function pb(e,s){var r=vr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&_f(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function fb(e,s){var r=vr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&_f(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function hb(e,s,r){return vn&21?(Fr(r,s)||(r=vy(),qt.lanes|=r,jn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=r)}function fC(e,s){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var a=Gu.transition;Gu.transition={};try{e(!1),s()}finally{_t=r,Gu.transition=a}}function gb(){return vr().memoizedState}function hC(e,s,r){var a=La(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},xb(e))yb(s,r);else if(r=Xy(e,s,r,a),r!==null){var n=Ts();zr(r,e,a,n),bb(r,s,a)}}function gC(e,s,r){var a=La(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(xb(e))yb(s,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,Fr(l,o)){var c=s.interleaved;c===null?(n.next=n,vf(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=Xy(e,s,n,a),r!==null&&(n=Ts(),zr(r,e,a,n),bb(r,s,a))}}function xb(e){var s=e.alternate;return e===qt||s!==null&&s===qt}function yb(e,s){vo=Oc=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function bb(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,nf(e,r)}}var Uc={readContext:br,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},xC={readContext:br,useCallback:function(e,s){return Wr().memoizedState=[e,s===void 0?null:s],e},useContext:br,useEffect:vg,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,nc(4194308,4,ub.bind(null,s,e),r)},useLayoutEffect:function(e,s){return nc(4194308,4,e,s)},useInsertionEffect:function(e,s){return nc(4,2,e,s)},useMemo:function(e,s){var r=Wr();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Wr();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=hC.bind(null,qt,e),[a.memoizedState,e]},useRef:function(e){var s=Wr();return e={current:e},s.memoizedState=e},useState:bg,useDebugValue:Pf,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=bg(!1),s=e[0];return e=fC.bind(null,e[1]),Wr().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=qt,n=Wr();if(It){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=s(),rs===null)throw Error(Ee(349));vn&30||rb(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,vg(nb.bind(null,a,i,e),[e]),a.flags|=2048,Go(9,ab.bind(null,a,i,r,s),void 0,null),r},useId:function(){var e=Wr(),s=rs.identifierPrefix;if(It){var r=ma,a=ua;r=(a&~(1<<32-Tr(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Vo++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=pC++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},yC={readContext:br,useCallback:pb,useContext:br,useEffect:kf,useImperativeHandle:mb,useInsertionEffect:cb,useLayoutEffect:db,useMemo:fb,useReducer:Ku,useRef:lb,useState:function(){return Ku(Ho)},useDebugValue:Pf,useDeferredValue:function(e){var s=vr();return hb(s,es.memoizedState,e)},useTransition:function(){var e=Ku(Ho)[0],s=vr().memoizedState;return[e,s]},useMutableSource:tb,useSyncExternalStore:sb,useId:gb,unstable_isNewReconciler:!1},bC={readContext:br,useCallback:pb,useContext:br,useEffect:kf,useImperativeHandle:mb,useInsertionEffect:cb,useLayoutEffect:db,useMemo:fb,useReducer:Qu,useRef:lb,useState:function(){return Qu(Ho)},useDebugValue:Pf,useDeferredValue:function(e){var s=vr();return es===null?s.memoizedState=e:hb(s,es.memoizedState,e)},useTransition:function(){var e=Qu(Ho)[0],s=vr().memoizedState;return[e,s]},useMutableSource:tb,useSyncExternalStore:sb,useId:gb,unstable_isNewReconciler:!1};function Ar(e,s){if(e&&e.defaultProps){s=Wt({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Jm(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:Wt({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nd={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=Ts(),n=La(e),i=pa(a,n);i.payload=s,r!=null&&(i.callback=r),s=$a(e,i,n),s!==null&&(zr(s,e,n,a),rc(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=Ts(),n=La(e),i=pa(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=$a(e,i,n),s!==null&&(zr(s,e,n,a),rc(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Ts(),a=La(e),n=pa(r,a);n.tag=2,s!=null&&(n.callback=s),s=$a(e,n,a),s!==null&&(zr(s,e,a,r),rc(s,e,a))}};function jg(e,s,r,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):s.prototype&&s.prototype.isPureReactComponent?!Io(r,a)||!Io(n,i):!0}function vb(e,s,r){var a=!1,n=qa,i=s.contextType;return typeof i=="object"&&i!==null?i=br(i):(n=Bs(s)?yn:As.current,a=s.contextTypes,i=(a=a!=null)?pi(e,n):qa),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nd,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),s}function Ng(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&Nd.enqueueReplaceState(s,s.state,null)}function Xm(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},jf(e);var i=s.contextType;typeof i=="object"&&i!==null?n.context=br(i):(i=Bs(s)?yn:As.current,n.context=pi(e,i)),n.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Jm(e,s,i,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Nd.enqueueReplaceState(n,n.state,null),Lc(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function xi(e,s){try{var r="",a=s;do r+=G1(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:n,digest:null}}function Yu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function Zm(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function jb(e,s,r){r=pa(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){qc||(qc=!0,cp=a),Zm(e,s)},r}function Nb(e,s,r){r=pa(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Zm(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zm(e,s),typeof a!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function Cg(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new vC;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=FC.bind(null,e,s,r),s.then(e,e))}function wg(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function _g(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=pa(-1,1),s.tag=2,$a(r,s,1))),r.lanes|=1),e)}var jC=Na.ReactCurrentOwner,Is=!1;function Ps(e,s,r,a){s.child=e===null?Jy(s,null,r,a):hi(s,e.child,r,a)}function Sg(e,s,r,a,n){r=r.render;var i=s.ref;return ni(s,n),a=Sf(e,s,r,a,i,n),r=Af(),e!==null&&!Is?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,xa(e,s,n)):(It&&r&&ff(s),s.flags|=1,Ps(e,s,a,n),s.child)}function Ag(e,s,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!Mf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,Cb(e,s,i,a,n)):(e=cc(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(o,a)&&e.ref===s.ref)return xa(e,s,n)}return s.flags|=1,e=Ia(i,a),e.ref=s.ref,e.return=s,s.child=e}function Cb(e,s,r,a,n){if(e!==null){var i=e.memoizedProps;if(Io(i,a)&&e.ref===s.ref)if(Is=!1,s.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Is=!0);else return s.lanes=e.lanes,xa(e,s,n)}return ep(e,s,r,a,n)}function wb(e,s,r){var a=s.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Xn,Zs),Zs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Rt(Xn,Zs),Zs|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Rt(Xn,Zs),Zs|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,Rt(Xn,Zs),Zs|=a;return Ps(e,s,n,r),s.child}function _b(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function ep(e,s,r,a,n){var i=Bs(r)?yn:As.current;return i=pi(s,i),ni(s,n),r=Sf(e,s,r,a,i,n),a=Af(),e!==null&&!Is?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,xa(e,s,n)):(It&&a&&ff(s),s.flags|=1,Ps(e,s,r,n),s.child)}function kg(e,s,r,a,n){if(Bs(r)){var i=!0;Rc(s)}else i=!1;if(ni(s,n),s.stateNode===null)ic(e,s),vb(s,r,a),Xm(s,r,a,n),a=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=br(h):(h=Bs(r)?yn:As.current,h=pi(s,h));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==h)&&Ng(s,o,a,h),Sa=!1;var p=s.memoizedState;o.state=p,Lc(s,a,o,n),c=s.memoizedState,l!==a||p!==c||Us.current||Sa?(typeof d=="function"&&(Jm(s,r,d,a),c=s.memoizedState),(l=Sa||jg(s,r,l,a,p,c,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),o.props=a,o.state=c,o.context=h,a=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{o=s.stateNode,Zy(e,s),l=s.memoizedProps,h=s.type===s.elementType?l:Ar(s.type,l),o.props=h,m=s.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Bs(r)?yn:As.current,c=pi(s,c));var u=r.getDerivedStateFromProps;(d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&Ng(s,o,a,c),Sa=!1,p=s.memoizedState,o.state=p,Lc(s,a,o,n);var g=s.memoizedState;l!==m||p!==g||Us.current||Sa?(typeof u=="function"&&(Jm(s,r,u,a),g=s.memoizedState),(h=Sa||jg(s,r,h,a,p,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=g),o.props=a,o.state=g,o.context=c,a=h):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),a=!1)}return tp(e,s,r,a,i,n)}function tp(e,s,r,a,n,i){_b(e,s);var o=(s.flags&128)!==0;if(!a&&!o)return n&&pg(s,r,!1),xa(e,s,i);a=s.stateNode,jC.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&o?(s.child=hi(s,e.child,null,i),s.child=hi(s,null,l,i)):Ps(e,s,l,i),s.memoizedState=a.state,n&&pg(s,r,!0),s.child}function Sb(e){var s=e.stateNode;s.pendingContext?mg(e,s.pendingContext,s.pendingContext!==s.context):s.context&&mg(e,s.context,!1),Nf(e,s.containerInfo)}function Pg(e,s,r,a,n){return fi(),gf(n),s.flags|=256,Ps(e,s,r,a),s.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function rp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ab(e,s,r){var a=s.pendingProps,n=Ut.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Rt(Ut,n&1),e===null)return Qm(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=a.children,e=a.fallback,i?(a=s.mode,i=s.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_d(o,a,0,null),e=fn(e,a,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=rp(r),s.memoizedState=sp,e):Ef(s,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return NC(e,s,o,a,l,n,r);if(i){i=a.fallback,o=s.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=Ia(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Ia(l,i):(i=fn(i,o,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,o=e.child.memoizedState,o=o===null?rp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,s.memoizedState=sp,a}return i=e.child,e=i.sibling,a=Ia(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function Ef(e,s){return s=_d({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function Ml(e,s,r,a){return a!==null&&gf(a),hi(s,e.child,null,r),e=Ef(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function NC(e,s,r,a,n,i,o){if(r)return s.flags&256?(s.flags&=-257,a=Yu(Error(Ee(422))),Ml(e,s,o,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=_d({mode:"visible",children:a.children},n,0,null),i=fn(i,n,o,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&hi(s,e.child,null,o),s.child.memoizedState=rp(o),s.memoizedState=sp,i);if(!(s.mode&1))return Ml(e,s,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(Ee(419)),a=Yu(i,a,void 0),Ml(e,s,o,a)}if(l=(o&e.childLanes)!==0,Is||l){if(a=rs,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,ga(e,n),zr(a,e,n,-1))}return $f(),a=Yu(Error(Ee(421))),Ml(e,s,o,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=DC.bind(null,e),n._reactRetry=s,null):(e=i.treeContext,tr=Da(n.nextSibling),sr=s,It=!0,Pr=null,e!==null&&(mr[pr++]=ua,mr[pr++]=ma,mr[pr++]=bn,ua=e.id,ma=e.overflow,bn=s),s=Ef(s,a.children),s.flags|=4096,s)}function Eg(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),Ym(e.return,s,r)}function Ju(e,s,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function kb(e,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(Ps(e,s,a.children,r),a=Ut.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eg(e,r,s);else if(e.tag===19)Eg(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Rt(Ut,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&Ic(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),Ju(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&Ic(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Ju(s,!0,r,null,i);break;case"together":Ju(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ic(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function xa(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),jn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(Ee(153));if(s.child!==null){for(e=s.child,r=Ia(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Ia(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function CC(e,s,r){switch(s.tag){case 3:Sb(s),fi();break;case 5:eb(s);break;case 1:Bs(s.type)&&Rc(s);break;case 4:Nf(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;Rt($c,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Rt(Ut,Ut.current&1),s.flags|=128,null):r&s.child.childLanes?Ab(e,s,r):(Rt(Ut,Ut.current&1),e=xa(e,s,r),e!==null?e.sibling:null);Rt(Ut,Ut.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return kb(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Rt(Ut,Ut.current),a)break;return null;case 22:case 23:return s.lanes=0,wb(e,s,r)}return xa(e,s,r)}var Pb,ap,Eb,Tb;Pb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ap=function(){};Eb=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,ln(Xr.current);var i=null;switch(r){case"input":n=Sm(e,n),a=Sm(e,a),i=[];break;case"select":n=Wt({},n,{value:void 0}),a=Wt({},a,{value:void 0}),i=[];break;case"textarea":n=Pm(e,n),a=Pm(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Tc)}Tm(r,a);var o;r=null;for(h in n)if(!a.hasOwnProperty(h)&&n.hasOwnProperty(h)&&n[h]!=null)if(h==="style"){var l=n[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(zo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in a){var c=a[h];if(l=n!=null?n[h]:void 0,a.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(zo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ft("scroll",e),i||l===c||(i=[])):(i=i||[]).push(h,c))}r&&(i=i||[]).push("style",r);var h=i;(s.updateQueue=h)&&(s.flags|=4)}};Tb=function(e,s,r,a){r!==a&&(s.flags|=4)};function Vi(e,s){if(!It)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ys(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function wC(e,s,r){var a=s.pendingProps;switch(hf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(s),null;case 1:return Bs(s.type)&&zc(),ys(s),null;case 3:return a=s.stateNode,gi(),$t(Us),$t(As),wf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Dl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Pr!==null&&(mp(Pr),Pr=null))),ap(e,s),ys(s),null;case 5:Cf(s);var n=ln(Wo.current);if(r=s.type,e!==null&&s.stateNode!=null)Eb(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(Ee(166));return ys(s),null}if(e=ln(Xr.current),Dl(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[Qr]=s,a[Bo]=i,e=(s.mode&1)!==0,r){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(n=0;n<co.length;n++)Ft(co[n],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Ih(a,i),Ft("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ft("invalid",a);break;case"textarea":Uh(a,i),Ft("invalid",a)}Tm(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fl(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fl(a.textContent,l,e),n=["children",""+l]):zo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ft("scroll",a)}switch(r){case"input":Sl(a),Oh(a,i,!0);break;case"textarea":Sl(a),Bh(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Tc)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ny(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Qr]=s,e[Bo]=a,Pb(e,s,!1,!1),s.stateNode=e;e:{switch(o=zm(r,a),r){case"dialog":Ft("cancel",e),Ft("close",e),n=a;break;case"iframe":case"object":case"embed":Ft("load",e),n=a;break;case"video":case"audio":for(n=0;n<co.length;n++)Ft(co[n],e);n=a;break;case"source":Ft("error",e),n=a;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),n=a;break;case"details":Ft("toggle",e),n=a;break;case"input":Ih(e,a),n=Sm(e,a),Ft("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Wt({},a,{value:void 0}),Ft("invalid",e);break;case"textarea":Uh(e,a),n=Pm(e,a),Ft("invalid",e);break;default:n=a}Tm(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ly(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iy(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ro(e,c):typeof c=="number"&&Ro(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ft("scroll",e):c!=null&&Zp(e,i,c,o))}switch(r){case"input":Sl(e),Oh(e,a,!1);break;case"textarea":Sl(e),Bh(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ba(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?ti(e,!!a.multiple,i,!1):a.defaultValue!=null&&ti(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Tc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ys(s),null;case 6:if(e&&s.stateNode!=null)Tb(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(Ee(166));if(r=ln(Wo.current),ln(Xr.current),Dl(s)){if(a=s.stateNode,r=s.memoizedProps,a[Qr]=s,(i=a.nodeValue!==r)&&(e=sr,e!==null))switch(e.tag){case 3:Fl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(a.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Qr]=s,s.stateNode=a}return ys(s),null;case 13:if($t(Ut),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&tr!==null&&s.mode&1&&!(s.flags&128))Qy(),fi(),s.flags|=98560,i=!1;else if(i=Dl(s),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Qr]=s}else fi(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ys(s),i=!1}else Pr!==null&&(mp(Pr),Pr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||Ut.current&1?ts===0&&(ts=3):$f())),s.updateQueue!==null&&(s.flags|=4),ys(s),null);case 4:return gi(),ap(e,s),e===null&&Oo(s.stateNode.containerInfo),ys(s),null;case 10:return bf(s.type._context),ys(s),null;case 17:return Bs(s.type)&&zc(),ys(s),null;case 19:if($t(Ut),i=s.memoizedState,i===null)return ys(s),null;if(a=(s.flags&128)!==0,o=i.rendering,o===null)if(a)Vi(i,!1);else{if(ts!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=Ic(e),o!==null){for(s.flags|=128,Vi(i,!1),a=o.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rt(Ut,Ut.current&1|2),s.child}e=e.sibling}i.tail!==null&&Kt()>yi&&(s.flags|=128,a=!0,Vi(i,!1),s.lanes=4194304)}else{if(!a)if(e=Ic(o),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Vi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return ys(s),null}else 2*Kt()-i.renderingStartTime>yi&&r!==1073741824&&(s.flags|=128,a=!0,Vi(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Kt(),s.sibling=null,r=Ut.current,Rt(Ut,a?r&1|2:r&1),s):(ys(s),null);case 22:case 23:return Df(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Zs&1073741824&&(ys(s),s.subtreeFlags&6&&(s.flags|=8192)):ys(s),null;case 24:return null;case 25:return null}throw Error(Ee(156,s.tag))}function _C(e,s){switch(hf(s),s.tag){case 1:return Bs(s.type)&&zc(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return gi(),$t(Us),$t(As),wf(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Cf(s),null;case 13:if($t(Ut),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(Ee(340));fi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return $t(Ut),null;case 4:return gi(),null;case 10:return bf(s.type._context),null;case 22:case 23:return Df(),null;case 24:return null;default:return null}}var Ll=!1,Cs=!1,SC=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Jn(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Gt(e,s,a)}else r.current=null}function np(e,s,r){try{r()}catch(a){Gt(e,s,a)}}var Tg=!1;function AC(e,s){if(Bm=kc,e=$y(),pf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,d=0,m=e,p=null;t:for(;;){for(var u;m!==r||n!==0&&m.nodeType!==3||(l=o+n),m!==i||a!==0&&m.nodeType!==3||(c=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(u=m.firstChild)!==null;)p=m,m=u;for(;;){if(m===e)break t;if(p===r&&++h===n&&(l=o),p===i&&++d===a&&(c=o),(u=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=u}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qm={focusedElem:e,selectionRange:r},kc=!1,Oe=s;Oe!==null;)if(s=Oe,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Oe=e;else for(;Oe!==null;){s=Oe;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,x=s.stateNode,v=x.getSnapshotBeforeUpdate(s.elementType===s.type?y:Ar(s.type,y),_);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var C=s.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(N){Gt(s,s.return,N)}if(e=s.sibling,e!==null){e.return=s.return,Oe=e;break}Oe=s.return}return g=Tg,Tg=!1,g}function jo(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&np(s,r,i)}n=n.next}while(n!==a)}}function Cd(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function ip(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function zb(e){var s=e.alternate;s!==null&&(e.alternate=null,zb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Qr],delete s[Bo],delete s[Hm],delete s[cC],delete s[dC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rb(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function op(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Tc));else if(a!==4&&(e=e.child,e!==null))for(op(e,s,r),e=e.sibling;e!==null;)op(e,s,r),e=e.sibling}function lp(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(lp(e,s,r),e=e.sibling;e!==null;)lp(e,s,r),e=e.sibling}var cs=null,kr=!1;function Ca(e,s,r){for(r=r.child;r!==null;)Fb(e,s,r),r=r.sibling}function Fb(e,s,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(hd,r)}catch{}switch(r.tag){case 5:Cs||Jn(r,s);case 6:var a=cs,n=kr;cs=null,Ca(e,s,r),cs=a,kr=n,cs!==null&&(kr?(e=cs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cs.removeChild(r.stateNode));break;case 18:cs!==null&&(kr?(e=cs,r=r.stateNode,e.nodeType===8?Wu(e.parentNode,r):e.nodeType===1&&Wu(e,r),Mo(e)):Wu(cs,r.stateNode));break;case 4:a=cs,n=kr,cs=r.stateNode.containerInfo,kr=!0,Ca(e,s,r),cs=a,kr=n;break;case 0:case 11:case 14:case 15:if(!Cs&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&np(r,s,o),n=n.next}while(n!==a)}Ca(e,s,r);break;case 1:if(!Cs&&(Jn(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Gt(r,s,l)}Ca(e,s,r);break;case 21:Ca(e,s,r);break;case 22:r.mode&1?(Cs=(a=Cs)||r.memoizedState!==null,Ca(e,s,r),Cs=a):Ca(e,s,r);break;default:Ca(e,s,r)}}function Rg(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SC),s.forEach(function(a){var n=$C.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function wr(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:cs=l.stateNode,kr=!1;break e;case 3:cs=l.stateNode.containerInfo,kr=!0;break e;case 4:cs=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(cs===null)throw Error(Ee(160));Fb(i,o,n),cs=null,kr=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(h){Gt(n,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Db(s,e),s=s.sibling}function Db(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(s,e),Or(e),a&4){try{jo(3,e,e.return),Cd(3,e)}catch(y){Gt(e,e.return,y)}try{jo(5,e,e.return)}catch(y){Gt(e,e.return,y)}}break;case 1:wr(s,e),Or(e),a&512&&r!==null&&Jn(r,r.return);break;case 5:if(wr(s,e),Or(e),a&512&&r!==null&&Jn(r,r.return),e.flags&32){var n=e.stateNode;try{Ro(n,"")}catch(y){Gt(e,e.return,y)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ry(n,i),zm(l,o);var h=zm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?ly(n,m):d==="dangerouslySetInnerHTML"?iy(n,m):d==="children"?Ro(n,m):Zp(n,d,m,h)}switch(l){case"input":Am(n,i);break;case"textarea":ay(n,i);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var u=i.value;u!=null?ti(n,!!i.multiple,u,!1):p!==!!i.multiple&&(i.defaultValue!=null?ti(n,!!i.multiple,i.defaultValue,!0):ti(n,!!i.multiple,i.multiple?[]:"",!1))}n[Bo]=i}catch(y){Gt(e,e.return,y)}}break;case 6:if(wr(s,e),Or(e),a&4){if(e.stateNode===null)throw Error(Ee(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(y){Gt(e,e.return,y)}}break;case 3:if(wr(s,e),Or(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Mo(s.containerInfo)}catch(y){Gt(e,e.return,y)}break;case 4:wr(s,e),Or(e);break;case 13:wr(s,e),Or(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Rf=Kt())),a&4&&Rg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Cs=(h=Cs)||d,wr(s,e),Cs=h):wr(s,e),Or(e),a&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(m=Oe=d;Oe!==null;){switch(p=Oe,u=p.child,p.tag){case 0:case 11:case 14:case 15:jo(4,p,p.return);break;case 1:Jn(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){a=p,r=p.return;try{s=a,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(y){Gt(a,r,y)}}break;case 5:Jn(p,p.return);break;case 22:if(p.memoizedState!==null){Dg(m);continue}}u!==null?(u.return=p,Oe=u):Dg(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{n=m.stateNode,h?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oy("display",o))}catch(y){Gt(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(y){Gt(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wr(s,e),Or(e),a&4&&Rg(e);break;case 21:break;default:wr(s,e),Or(e)}}function Or(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Rb(r)){var a=r;break e}r=r.return}throw Error(Ee(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Ro(n,""),a.flags&=-33);var i=zg(e);lp(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=zg(e);op(e,l,o);break;default:throw Error(Ee(161))}}catch(c){Gt(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function kC(e,s,r){Oe=e,$b(e)}function $b(e,s,r){for(var a=(e.mode&1)!==0;Oe!==null;){var n=Oe,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Ll;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Cs;l=Ll;var h=Cs;if(Ll=o,(Cs=c)&&!h)for(Oe=n;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?$g(n):c!==null?(c.return=o,Oe=c):$g(n);for(;i!==null;)Oe=i,$b(i),i=i.sibling;Oe=n,Ll=l,Cs=h}Fg(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,Oe=i):Fg(e)}}function Fg(e){for(;Oe!==null;){var s=Oe;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Cs||Cd(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Cs)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:Ar(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&yg(s,i,a);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}yg(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Mo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Cs||s.flags&512&&ip(s)}catch(p){Gt(s,s.return,p)}}if(s===e){Oe=null;break}if(r=s.sibling,r!==null){r.return=s.return,Oe=r;break}Oe=s.return}}function Dg(e){for(;Oe!==null;){var s=Oe;if(s===e){Oe=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Oe=r;break}Oe=s.return}}function $g(e){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Cd(4,s)}catch(c){Gt(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){Gt(s,n,c)}}var i=s.return;try{ip(s)}catch(c){Gt(s,i,c)}break;case 5:var o=s.return;try{ip(s)}catch(c){Gt(s,o,c)}}}catch(c){Gt(s,s.return,c)}if(s===e){Oe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Oe=l;break}Oe=s.return}}var PC=Math.ceil,Bc=Na.ReactCurrentDispatcher,Tf=Na.ReactCurrentOwner,yr=Na.ReactCurrentBatchConfig,ht=0,rs=null,Zt=null,us=0,Zs=0,Xn=Ha(0),ts=0,Ko=null,jn=0,wd=0,zf=0,No=null,Ms=null,Rf=0,yi=1/0,oa=null,qc=!1,cp=null,Ma=null,Il=!1,Ea=null,Wc=0,Co=0,dp=null,oc=-1,lc=0;function Ts(){return ht&6?Kt():oc!==-1?oc:oc=Kt()}function La(e){return e.mode&1?ht&2&&us!==0?us&-us:mC.transition!==null?(lc===0&&(lc=vy()),lc):(e=_t,e!==0||(e=window.event,e=e===void 0?16:Ay(e.type)),e):1}function zr(e,s,r,a){if(50<Co)throw Co=0,dp=null,Error(Ee(185));il(e,r,a),(!(ht&2)||e!==rs)&&(e===rs&&(!(ht&2)&&(wd|=r),ts===4&&ka(e,us)),qs(e,a),r===1&&ht===0&&!(s.mode&1)&&(yi=Kt()+500,vd&&Ga()))}function qs(e,s){var r=e.callbackNode;mN(e,s);var a=Ac(e,e===rs?us:0);if(a===0)r!==null&&Vh(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&Vh(r),s===1)e.tag===0?uC(Mg.bind(null,e)):Hy(Mg.bind(null,e)),oC(function(){!(ht&6)&&Ga()}),r=null;else{switch(jy(a)){case 1:r=af;break;case 4:r=yy;break;case 16:r=Sc;break;case 536870912:r=by;break;default:r=Sc}r=Wb(r,Mb.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Mb(e,s){if(oc=-1,lc=0,ht&6)throw Error(Ee(327));var r=e.callbackNode;if(ii()&&e.callbackNode!==r)return null;var a=Ac(e,e===rs?us:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Vc(e,a);else{s=a;var n=ht;ht|=2;var i=Ib();(rs!==e||us!==s)&&(oa=null,yi=Kt()+500,pn(e,s));do try{zC();break}catch(l){Lb(e,l)}while(!0);yf(),Bc.current=i,ht=n,Zt!==null?s=0:(rs=null,us=0,s=ts)}if(s!==0){if(s===2&&(n=Mm(e),n!==0&&(a=n,s=up(e,n))),s===1)throw r=Ko,pn(e,0),ka(e,a),qs(e,Kt()),r;if(s===6)ka(e,a);else{if(n=e.current.alternate,!(a&30)&&!EC(n)&&(s=Vc(e,a),s===2&&(i=Mm(e),i!==0&&(a=i,s=up(e,i))),s===1))throw r=Ko,pn(e,0),ka(e,a),qs(e,Kt()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(Ee(345));case 2:sn(e,Ms,oa);break;case 3:if(ka(e,a),(a&130023424)===a&&(s=Rf+500-Kt(),10<s)){if(Ac(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Ts(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Vm(sn.bind(null,e,Ms,oa),s);break}sn(e,Ms,oa);break;case 4:if(ka(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var o=31-Tr(a);i=1<<o,o=s[o],o>n&&(n=o),a&=~i}if(a=n,a=Kt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*PC(a/1960))-a,10<a){e.timeoutHandle=Vm(sn.bind(null,e,Ms,oa),a);break}sn(e,Ms,oa);break;case 5:sn(e,Ms,oa);break;default:throw Error(Ee(329))}}}return qs(e,Kt()),e.callbackNode===r?Mb.bind(null,e):null}function up(e,s){var r=No;return e.current.memoizedState.isDehydrated&&(pn(e,s).flags|=256),e=Vc(e,s),e!==2&&(s=Ms,Ms=r,s!==null&&mp(s)),e}function mp(e){Ms===null?Ms=e:Ms.push.apply(Ms,e)}function EC(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Fr(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ka(e,s){for(s&=~zf,s&=~wd,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-Tr(s),a=1<<r;e[r]=-1,s&=~a}}function Mg(e){if(ht&6)throw Error(Ee(327));ii();var s=Ac(e,0);if(!(s&1))return qs(e,Kt()),null;var r=Vc(e,s);if(e.tag!==0&&r===2){var a=Mm(e);a!==0&&(s=a,r=up(e,a))}if(r===1)throw r=Ko,pn(e,0),ka(e,s),qs(e,Kt()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,sn(e,Ms,oa),qs(e,Kt()),null}function Ff(e,s){var r=ht;ht|=1;try{return e(s)}finally{ht=r,ht===0&&(yi=Kt()+500,vd&&Ga())}}function Nn(e){Ea!==null&&Ea.tag===0&&!(ht&6)&&ii();var s=ht;ht|=1;var r=yr.transition,a=_t;try{if(yr.transition=null,_t=1,e)return e()}finally{_t=a,yr.transition=r,ht=s,!(ht&6)&&Ga()}}function Df(){Zs=Xn.current,$t(Xn)}function pn(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iC(r)),Zt!==null)for(r=Zt.return;r!==null;){var a=r;switch(hf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&zc();break;case 3:gi(),$t(Us),$t(As),wf();break;case 5:Cf(a);break;case 4:gi();break;case 13:$t(Ut);break;case 19:$t(Ut);break;case 10:bf(a.type._context);break;case 22:case 23:Df()}r=r.return}if(rs=e,Zt=e=Ia(e.current,null),us=Zs=s,ts=0,Ko=null,zf=wd=jn=0,Ms=No=null,on!==null){for(s=0;s<on.length;s++)if(r=on[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}r.pending=a}on=null}return e}function Lb(e,s){do{var r=Zt;try{if(yf(),ac.current=Uc,Oc){for(var a=qt.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Oc=!1}if(vn=0,ss=es=qt=null,vo=!1,Vo=0,Tf.current=null,r===null||r.return===null){ts=1,Ko=s,Zt=null;break}e:{var i=e,o=r.return,l=r,c=s;if(s=us,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var u=wg(o);if(u!==null){u.flags&=-257,_g(u,o,l,i,s),u.mode&1&&Cg(i,h,s),s=u,c=h;var g=s.updateQueue;if(g===null){var y=new Set;y.add(c),s.updateQueue=y}else g.add(c);break e}else{if(!(s&1)){Cg(i,h,s),$f();break e}c=Error(Ee(426))}}else if(It&&l.mode&1){var _=wg(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_g(_,o,l,i,s),gf(xi(c,l));break e}}i=c=xi(c,l),ts!==4&&(ts=2),No===null?No=[i]:No.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var x=jb(i,c,s);xg(i,x);break e;case 1:l=c;var v=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ma===null||!Ma.has(C)))){i.flags|=65536,s&=-s,i.lanes|=s;var N=Nb(i,l,s);xg(i,N);break e}}i=i.return}while(i!==null)}Ub(r)}catch(E){s=E,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(!0)}function Ib(){var e=Bc.current;return Bc.current=Uc,e===null?Uc:e}function $f(){(ts===0||ts===3||ts===2)&&(ts=4),rs===null||!(jn&268435455)&&!(wd&268435455)||ka(rs,us)}function Vc(e,s){var r=ht;ht|=2;var a=Ib();(rs!==e||us!==s)&&(oa=null,pn(e,s));do try{TC();break}catch(n){Lb(e,n)}while(!0);if(yf(),ht=r,Bc.current=a,Zt!==null)throw Error(Ee(261));return rs=null,us=0,ts}function TC(){for(;Zt!==null;)Ob(Zt)}function zC(){for(;Zt!==null&&!rN();)Ob(Zt)}function Ob(e){var s=qb(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,s===null?Ub(e):Zt=s,Tf.current=null}function Ub(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=_C(r,s),r!==null){r.flags&=32767,Zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ts=6,Zt=null;return}}else if(r=wC(r,s,Zs),r!==null){Zt=r;return}if(s=s.sibling,s!==null){Zt=s;return}Zt=s=e}while(s!==null);ts===0&&(ts=5)}function sn(e,s,r){var a=_t,n=yr.transition;try{yr.transition=null,_t=1,RC(e,s,r,a)}finally{yr.transition=n,_t=a}return null}function RC(e,s,r,a){do ii();while(Ea!==null);if(ht&6)throw Error(Ee(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(pN(e,i),e===rs&&(Zt=rs=null,us=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Il||(Il=!0,Wb(Sc,function(){return ii(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yr.transition,yr.transition=null;var o=_t;_t=1;var l=ht;ht|=4,Tf.current=null,AC(e,r),Db(r,e),ZN(qm),kc=!!Bm,qm=Bm=null,e.current=r,kC(r),aN(),ht=l,_t=o,yr.transition=i}else e.current=r;if(Il&&(Il=!1,Ea=e,Wc=n),i=e.pendingLanes,i===0&&(Ma=null),oN(r.stateNode),qs(e,Kt()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(qc)throw qc=!1,e=cp,cp=null,e;return Wc&1&&e.tag!==0&&ii(),i=e.pendingLanes,i&1?e===dp?Co++:(Co=0,dp=e):Co=0,Ga(),null}function ii(){if(Ea!==null){var e=jy(Wc),s=yr.transition,r=_t;try{if(yr.transition=null,_t=16>e?16:e,Ea===null)var a=!1;else{if(e=Ea,Ea=null,Wc=0,ht&6)throw Error(Ee(331));var n=ht;for(ht|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Oe=h;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:jo(8,d,i)}var m=d.child;if(m!==null)m.return=d,Oe=m;else for(;Oe!==null;){d=Oe;var p=d.sibling,u=d.return;if(zb(d),d===h){Oe=null;break}if(p!==null){p.return=u,Oe=p;break}Oe=u}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jo(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Oe=x;break e}Oe=i.return}}var v=e.current;for(Oe=v;Oe!==null;){o=Oe;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Oe=C;else e:for(o=v;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cd(9,l)}}catch(E){Gt(l,l.return,E)}if(l===o){Oe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Oe=N;break e}Oe=l.return}}if(ht=n,Ga(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(hd,e)}catch{}a=!0}return a}finally{_t=r,yr.transition=s}}return!1}function Lg(e,s,r){s=xi(r,s),s=jb(e,s,1),e=$a(e,s,1),s=Ts(),e!==null&&(il(e,1,s),qs(e,s))}function Gt(e,s,r){if(e.tag===3)Lg(e,e,r);else for(;s!==null;){if(s.tag===3){Lg(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ma===null||!Ma.has(a))){e=xi(r,e),e=Nb(s,e,1),s=$a(s,e,1),e=Ts(),s!==null&&(il(s,1,e),qs(s,e));break}}s=s.return}}function FC(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=Ts(),e.pingedLanes|=e.suspendedLanes&r,rs===e&&(us&r)===r&&(ts===4||ts===3&&(us&130023424)===us&&500>Kt()-Rf?pn(e,0):zf|=r),qs(e,s)}function Bb(e,s){s===0&&(e.mode&1?(s=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):s=1);var r=Ts();e=ga(e,s),e!==null&&(il(e,s,r),qs(e,r))}function DC(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Bb(e,r)}function $C(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ee(314))}a!==null&&a.delete(s),Bb(e,r)}var qb;qb=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Us.current)Is=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Is=!1,CC(e,s,r);Is=!!(e.flags&131072)}else Is=!1,It&&s.flags&1048576&&Gy(s,Dc,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ic(e,s),e=s.pendingProps;var n=pi(s,As.current);ni(s,r),n=Sf(null,s,a,e,n,r);var i=Af();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Bs(a)?(i=!0,Rc(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,jf(s),n.updater=Nd,s.stateNode=n,n._reactInternals=s,Xm(s,a,e,r),s=tp(null,s,a,!0,i,r)):(s.tag=0,It&&i&&ff(s),Ps(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(ic(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=LC(a),e=Ar(a,e),n){case 0:s=ep(null,s,a,e,r);break e;case 1:s=kg(null,s,a,e,r);break e;case 11:s=Sg(null,s,a,e,r);break e;case 14:s=Ag(null,s,a,Ar(a.type,e),r);break e}throw Error(Ee(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ar(a,n),ep(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ar(a,n),kg(e,s,a,n,r);case 3:e:{if(Sb(s),e===null)throw Error(Ee(387));a=s.pendingProps,i=s.memoizedState,n=i.element,Zy(e,s),Lc(s,a,null,r);var o=s.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=xi(Error(Ee(423)),s),s=Pg(e,s,a,r,n);break e}else if(a!==n){n=xi(Error(Ee(424)),s),s=Pg(e,s,a,r,n);break e}else for(tr=Da(s.stateNode.containerInfo.firstChild),sr=s,It=!0,Pr=null,r=Jy(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fi(),a===n){s=xa(e,s,r);break e}Ps(e,s,a,r)}s=s.child}return s;case 5:return eb(s),e===null&&Qm(s),a=s.type,n=s.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,Wm(a,n)?o=null:i!==null&&Wm(a,i)&&(s.flags|=32),_b(e,s),Ps(e,s,o,r),s.child;case 6:return e===null&&Qm(s),null;case 13:return Ab(e,s,r);case 4:return Nf(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=hi(s,null,a,r):Ps(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ar(a,n),Sg(e,s,a,n,r);case 7:return Ps(e,s,s.pendingProps,r),s.child;case 8:return Ps(e,s,s.pendingProps.children,r),s.child;case 12:return Ps(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,o=n.value,Rt($c,a._currentValue),a._currentValue=o,i!==null)if(Fr(i.value,o)){if(i.children===n.children&&!Us.current){s=xa(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=pa(-1,r&-r),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ym(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ee(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ym(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ps(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,ni(s,r),n=br(n),a=a(n),s.flags|=1,Ps(e,s,a,r),s.child;case 14:return a=s.type,n=Ar(a,s.pendingProps),n=Ar(a.type,n),Ag(e,s,a,n,r);case 15:return Cb(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ar(a,n),ic(e,s),s.tag=1,Bs(a)?(e=!0,Rc(s)):e=!1,ni(s,r),vb(s,a,n),Xm(s,a,n,r),tp(null,s,a,!0,e,r);case 19:return kb(e,s,r);case 22:return wb(e,s,r)}throw Error(Ee(156,s.tag))};function Wb(e,s){return xy(e,s)}function MC(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,s,r,a){return new MC(e,s,r,a)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LC(e){if(typeof e=="function")return Mf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tf)return 11;if(e===sf)return 14}return 2}function Ia(e,s){var r=e.alternate;return r===null?(r=gr(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cc(e,s,r,a,n,i){var o=2;if(a=e,typeof e=="function")Mf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bn:return fn(r.children,n,i,s);case ef:o=8,n|=8;break;case Nm:return e=gr(12,r,s,n|2),e.elementType=Nm,e.lanes=i,e;case Cm:return e=gr(13,r,s,n),e.elementType=Cm,e.lanes=i,e;case wm:return e=gr(19,r,s,n),e.elementType=wm,e.lanes=i,e;case ey:return _d(r,n,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X0:o=10;break e;case Z0:o=9;break e;case tf:o=11;break e;case sf:o=14;break e;case _a:o=16,a=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return s=gr(o,r,s,n),s.elementType=e,s.type=a,s.lanes=i,s}function fn(e,s,r,a){return e=gr(7,e,a,s),e.lanes=r,e}function _d(e,s,r,a){return e=gr(22,e,a,s),e.elementType=ey,e.lanes=r,e.stateNode={isHidden:!1},e}function Xu(e,s,r){return e=gr(6,e,null,s),e.lanes=r,e}function Zu(e,s,r){return s=gr(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function IC(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Lf(e,s,r,a,n,i,o,l,c){return e=new IC(e,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=gr(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(i),e}function OC(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function Vb(e){if(!e)return qa;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(Ee(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Bs(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(Bs(r))return Vy(e,r,s)}return s}function Hb(e,s,r,a,n,i,o,l,c){return e=Lf(r,a,!0,e,n,i,o,l,c),e.context=Vb(null),r=e.current,a=Ts(),n=La(r),i=pa(a,n),i.callback=s??null,$a(r,i,n),e.current.lanes=n,il(e,n,a),qs(e,a),e}function Sd(e,s,r,a){var n=s.current,i=Ts(),o=La(n);return r=Vb(r),s.context===null?s.context=r:s.pendingContext=r,s=pa(i,o),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=$a(n,s,o),e!==null&&(zr(e,n,o,i),rc(e,n,o)),o}function Hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ig(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function If(e,s){Ig(e,s),(e=e.alternate)&&Ig(e,s)}function UC(){return null}var Gb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Of(e){this._internalRoot=e}Ad.prototype.render=Of.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(Ee(409));Sd(e,s,null,null)};Ad.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Nn(function(){Sd(null,e,null,null)}),s[ha]=null}};function Ad(e){this._internalRoot=e}Ad.prototype.unstable_scheduleHydration=function(e){if(e){var s=wy();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Aa.length&&s!==0&&s<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&Sy(e)}};function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Og(){}function BC(e,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var h=Hc(o);i.call(h)}}var o=Hb(s,a,e,0,null,!1,!1,"",Og);return e._reactRootContainer=o,e[ha]=o.current,Oo(e.nodeType===8?e.parentNode:e),Nn(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var h=Hc(c);l.call(h)}}var c=Lf(e,0,!1,null,null,!1,!1,"",Og);return e._reactRootContainer=c,e[ha]=c.current,Oo(e.nodeType===8?e.parentNode:e),Nn(function(){Sd(s,c,r,a)}),c}function Pd(e,s,r,a,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=Hc(o);l.call(c)}}Sd(s,o,e,n)}else o=BC(r,s,e,n,a);return Hc(o)}Ny=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=lo(s.pendingLanes);r!==0&&(nf(s,r|1),qs(s,Kt()),!(ht&6)&&(yi=Kt()+500,Ga()))}break;case 13:Nn(function(){var a=ga(e,1);if(a!==null){var n=Ts();zr(a,e,1,n)}}),If(e,1)}};of=function(e){if(e.tag===13){var s=ga(e,134217728);if(s!==null){var r=Ts();zr(s,e,134217728,r)}If(e,134217728)}};Cy=function(e){if(e.tag===13){var s=La(e),r=ga(e,s);if(r!==null){var a=Ts();zr(r,e,s,a)}If(e,s)}};wy=function(){return _t};_y=function(e,s){var r=_t;try{return _t=e,s()}finally{_t=r}};Fm=function(e,s,r){switch(s){case"input":if(Am(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=bd(a);if(!n)throw Error(Ee(90));sy(a),Am(a,n)}}}break;case"textarea":ay(e,r);break;case"select":s=r.value,s!=null&&ti(e,!!r.multiple,s,!1)}};uy=Ff;my=Nn;var qC={usingClientEntryPoint:!1,Events:[ll,Hn,bd,cy,dy,Ff]},Hi={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WC={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hy(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{hd=Ol.inject(WC),Jr=Ol}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC;or.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(s))throw Error(Ee(200));return OC(e,s,null,r)};or.createRoot=function(e,s){if(!Uf(e))throw Error(Ee(299));var r=!1,a="",n=Gb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Lf(e,1,!1,null,null,r,!1,a,n),e[ha]=s.current,Oo(e.nodeType===8?e.parentNode:e),new Of(s)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=hy(s),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return Nn(e)};or.hydrate=function(e,s,r){if(!kd(s))throw Error(Ee(200));return Pd(null,e,s,!0,r)};or.hydrateRoot=function(e,s,r){if(!Uf(e))throw Error(Ee(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",o=Gb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=Hb(s,null,e,1,r??null,n,!1,i,o),e[ha]=s.current,Oo(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new Ad(s)};or.render=function(e,s,r){if(!kd(s))throw Error(Ee(200));return Pd(null,e,s,!1,r)};or.unmountComponentAtNode=function(e){if(!kd(e))throw Error(Ee(40));return e._reactRootContainer?(Nn(function(){Pd(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0):!1};or.unstable_batchedUpdates=Ff;or.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!kd(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Pd(e,s,r,!1,a)};or.version="18.3.1-next-f1338f8080-20240426";function Kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kb)}catch(e){console.error(e)}}Kb(),K0.exports=or;var Bf=K0.exports;const Ul=Hp(Bf);var Ug=Bf;vm.createRoot=Ug.createRoot,vm.hydrateRoot=Ug.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qo.apply(this,arguments)}var Ta;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ta||(Ta={}));const Bg="popstate";function VC(e){e===void 0&&(e={});function s(a,n){let{pathname:i,search:o,hash:l}=a.location;return pp("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Gc(n)}return GC(s,r,null,e)}function Qt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function qf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function HC(){return Math.random().toString(36).substr(2,8)}function qg(e,s){return{usr:e.state,key:e.key,idx:s}}function pp(e,s,r,a){return r===void 0&&(r=null),Qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Ti(s):s,{state:r,key:s&&s.key||a||HC()})}function Gc(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ti(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function GC(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Ta.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(Qo({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=Ta.Pop;let _=d(),x=_==null?null:_-h;h=_,c&&c({action:l,location:y.location,delta:x})}function p(_,x){l=Ta.Push;let v=pp(y.location,_,x);h=d()+1;let C=qg(v,h),N=y.createHref(v);try{o.pushState(C,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(N)}i&&c&&c({action:l,location:y.location,delta:1})}function u(_,x){l=Ta.Replace;let v=pp(y.location,_,x);h=d();let C=qg(v,h),N=y.createHref(v);o.replaceState(C,"",N),i&&c&&c({action:l,location:y.location,delta:0})}function g(_){let x=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof _=="string"?_:Gc(_);return v=v.replace(/ $/,"%20"),Qt(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return l},get location(){return e(n,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Bg,m),c=_,()=>{n.removeEventListener(Bg,m),c=null}},createHref(_){return s(n,_)},createURL:g,encodeLocation(_){let x=g(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:u,go(_){return o.go(_)}};return y}var Wg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wg||(Wg={}));function KC(e,s,r){return r===void 0&&(r="/"),QC(e,s,r)}function QC(e,s,r,a){let n=typeof s=="string"?Ti(s):s,i=Wf(n.pathname||"/",r);if(i==null)return null;let o=Qb(e);YC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=l2(i);l=n2(o[c],h)}return l}function Qb(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let h=Oa([a,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Qb(i.children,s,d,h)),!(i.path==null&&!i.index)&&s.push({path:h,score:r2(h,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of Yb(i.path))n(i,o,c)}),s}function Yb(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Yb(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function YC(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:a2(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const JC=/^:[\w-]+$/,XC=3,ZC=2,e2=1,t2=10,s2=-2,Vg=e=>e==="*";function r2(e,s){let r=e.split("/"),a=r.length;return r.some(Vg)&&(a+=s2),s&&(a+=ZC),r.filter(n=>!Vg(n)).reduce((n,i)=>n+(JC.test(i)?XC:i===""?e2:t2),a)}function a2(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function n2(e,s,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],h=l===a.length-1,d=i==="/"?s:s.slice(i.length)||"/",m=i2({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),p=c.route;if(!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:Oa([i,m.pathname]),pathnameBase:p2(Oa([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Oa([i,m.pathnameBase]))}return o}function i2(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=o2(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((h,d,m)=>{let{paramName:p,isOptional:u}=d;if(p==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[m];return u&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function o2(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),qf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function l2(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return qf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function Wf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const c2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d2=e=>c2.test(e);function u2(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Ti(e):e,i;if(r)if(d2(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),qf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Hg(r.substring(1),"/"):i=Hg(r,s)}else i=s;return{pathname:i,search:f2(a),hash:h2(n)}}function Hg(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function em(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m2(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Vf(e,s){let r=m2(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Hf(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ti(e):(n=Qo({},e),Qt(!n.pathname||!n.pathname.includes("?"),em("?","pathname","search",n)),Qt(!n.pathname||!n.pathname.includes("#"),em("#","pathname","hash",n)),Qt(!n.search||!n.search.includes("#"),em("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let m=s.length-1;if(!a&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;n.pathname=p.join("/")}l=m>=0?s[m]:"/"}let c=u2(n,l),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Oa=e=>e.join("/").replace(/\/\/+/g,"/"),p2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jb=["post","put","patch","delete"];new Set(Jb);const x2=["get",...Jb];new Set(x2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yo.apply(this,arguments)}const Gf=f.createContext(null),y2=f.createContext(null),Ka=f.createContext(null),Ed=f.createContext(null),Qa=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Xb=f.createContext(null);function b2(e,s){let{relative:r}=s===void 0?{}:s;zi()||Qt(!1);let{basename:a,navigator:n}=f.useContext(Ka),{hash:i,pathname:o,search:l}=ev(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:Oa([a,o])),n.createHref({pathname:c,search:l,hash:i})}function zi(){return f.useContext(Ed)!=null}function Ya(){return zi()||Qt(!1),f.useContext(Ed).location}function Zb(e){f.useContext(Ka).static||f.useLayoutEffect(e)}function $r(){let{isDataRoute:e}=f.useContext(Qa);return e?z2():v2()}function v2(){zi()||Qt(!1);let e=f.useContext(Gf),{basename:s,future:r,navigator:a}=f.useContext(Ka),{matches:n}=f.useContext(Qa),{pathname:i}=Ya(),o=JSON.stringify(Vf(n,r.v7_relativeSplatPath)),l=f.useRef(!1);return Zb(()=>{l.current=!0}),f.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){a.go(h);return}let m=Hf(h,JSON.parse(o),i,d.relative==="path");e==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Oa([s,m.pathname])),(d.replace?a.replace:a.push)(m,d.state,d)},[s,a,o,i,e])}function ev(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=f.useContext(Ka),{matches:n}=f.useContext(Qa),{pathname:i}=Ya(),o=JSON.stringify(Vf(n,a.v7_relativeSplatPath));return f.useMemo(()=>Hf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function j2(e,s){return N2(e,s)}function N2(e,s,r,a){zi()||Qt(!1);let{navigator:n}=f.useContext(Ka),{matches:i}=f.useContext(Qa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Ya(),d;if(s){var m;let _=typeof s=="string"?Ti(s):s;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||Qt(!1),d=_}else d=h;let p=d.pathname||"/",u=p;if(c!=="/"){let _=c.replace(/^\//,"").split("/");u="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=KC(e,{pathname:u}),y=A2(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Oa([c,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Oa([c,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,a);return s&&y?f.createElement(Ed.Provider,{value:{location:Yo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ta.Pop}},y):y}function C2(){let e=T2(),s=g2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},s),r?f.createElement("pre",{style:n},r):null,null)}const w2=f.createElement(C2,null);class _2 extends f.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?f.createElement(Qa.Provider,{value:this.props.routeContext},f.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S2(e){let{routeContext:s,match:r,children:a}=e,n=f.useContext(Gf);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Qa.Provider,{value:s},a)}function A2(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Qt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:p,errors:u}=r,g=m.route.loader&&p[m.route.id]===void 0&&(!u||u[m.route.id]===void 0);if(m.route.lazy||g){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,m,p)=>{let u,g=!1,y=null,_=null;r&&(u=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||w2,c&&(h<0&&p===0?(R2("route-fallback"),g=!0,_=null):h===p&&(g=!0,_=m.route.hydrateFallbackElement||null)));let x=s.concat(o.slice(0,p+1)),v=()=>{let C;return u?C=y:g?C=_:m.route.Component?C=f.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,f.createElement(S2,{match:m,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:C})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?f.createElement(_2,{location:r.location,revalidation:r.revalidation,component:y,error:u,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var tv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tv||{}),sv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sv||{});function k2(e){let s=f.useContext(Gf);return s||Qt(!1),s}function P2(e){let s=f.useContext(y2);return s||Qt(!1),s}function E2(e){let s=f.useContext(Qa);return s||Qt(!1),s}function rv(e){let s=E2(),r=s.matches[s.matches.length-1];return r.route.id||Qt(!1),r.route.id}function T2(){var e;let s=f.useContext(Xb),r=P2(),a=rv();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function z2(){let{router:e}=k2(tv.UseNavigateStable),s=rv(sv.UseNavigateStable),r=f.useRef(!1);return Zb(()=>{r.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Yo({fromRouteId:s},i)))},[e,s])}const Gg={};function R2(e,s,r){Gg[e]||(Gg[e]=!0)}function F2(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dc(e){let{to:s,replace:r,state:a,relative:n}=e;zi()||Qt(!1);let{future:i,static:o}=f.useContext(Ka),{matches:l}=f.useContext(Qa),{pathname:c}=Ya(),h=$r(),d=Hf(s,Vf(l,i.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(d);return f.useEffect(()=>h(JSON.parse(m),{replace:r,state:a,relative:n}),[h,m,n,r,a]),null}function Ye(e){Qt(!1)}function D2(e){let{basename:s="/",children:r=null,location:a,navigationType:n=Ta.Pop,navigator:i,static:o=!1,future:l}=e;zi()&&Qt(!1);let c=s.replace(/^\/*/,"/"),h=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Yo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=Ti(a));let{pathname:d="/",search:m="",hash:p="",state:u=null,key:g="default"}=a,y=f.useMemo(()=>{let _=Wf(d,c);return _==null?null:{location:{pathname:_,search:m,hash:p,state:u,key:g},navigationType:n}},[c,d,m,p,u,g,n]);return y==null?null:f.createElement(Ka.Provider,{value:h},f.createElement(Ed.Provider,{children:r,value:y}))}function Gi(e){let{children:s,location:r}=e;return j2(fp(s),r)}new Promise(()=>{});function fp(e,s){s===void 0&&(s=[]);let r=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...s,n];if(a.type===f.Fragment){r.push.apply(r,fp(a.props.children,i));return}a.type!==Ye&&Qt(!1),!a.props.index||!a.props.children||Qt(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=fp(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hp.apply(this,arguments)}function $2(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function M2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L2(e,s){return e.button===0&&(!s||s==="_self")&&!M2(e)}function gp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function I2(e,s){let r=gp(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const O2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U2="6";try{window.__reactRouterVersion=U2}catch{}const B2="startTransition",Kg=Nc[B2];function q2(e){let{basename:s,children:r,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=VC({window:n,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:h}=a||{},d=f.useCallback(m=>{h&&Kg?Kg(()=>c(m)):c(m)},[c,h]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>F2(a),[a]),f.createElement(D2,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const W2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=f.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:d,viewTransition:m}=s,p=$2(s,O2),{basename:u}=f.useContext(Ka),g,y=!1;if(typeof h=="string"&&V2.test(h)&&(g=h,W2))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),E=Wf(N.pathname,u);N.origin===C.origin&&E!=null?h=E+N.search+N.hash:y=!0}catch{}let _=b2(h,{relative:n}),x=H2(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:n,viewTransition:m});function v(C){a&&a(C),C.defaultPrevented||x(C)}return f.createElement("a",hp({},p,{href:g||_,onClick:y||i?a:v,ref:r,target:c}))});var Qg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var Yg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));function H2(e,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=$r(),h=Ya(),d=ev(e,{relative:o});return f.useCallback(m=>{if(L2(m,r)){m.preventDefault();let p=a!==void 0?a:Gc(h)===Gc(d);c(e,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,d,a,n,r,e,i,o,l])}function Td(e){let s=f.useRef(gp(e)),r=f.useRef(!1),a=Ya(),n=f.useMemo(()=>I2(a.search,r.current?null:s.current),[a.search]),i=$r(),o=f.useCallback((l,c)=>{const h=gp(typeof l=="function"?l(n):l);r.current=!0,i("?"+h,c)},[i,n]);return[n,o]}function av(e,s){return function(){return e.apply(s,arguments)}}const{toString:G2}=Object.prototype,{getPrototypeOf:Kf}=Object,{iterator:zd,toStringTag:nv}=Symbol,Rd=(e=>s=>{const r=G2.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=e=>(e=e.toLowerCase(),s=>Rd(s)===e),Fd=e=>s=>typeof s===e,{isArray:Ri}=Array,bi=Fd("undefined");function dl(e){return e!==null&&!bi(e)&&e.constructor!==null&&!bi(e.constructor)&&Ws(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iv=Mr("ArrayBuffer");function K2(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&iv(e.buffer),s}const Q2=Fd("string"),Ws=Fd("function"),ov=Fd("number"),ul=e=>e!==null&&typeof e=="object",Y2=e=>e===!0||e===!1,uc=e=>{if(Rd(e)!=="object")return!1;const s=Kf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(nv in e)&&!(zd in e)},J2=e=>{if(!ul(e)||dl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X2=Mr("Date"),Z2=Mr("File"),ew=Mr("Blob"),tw=Mr("FileList"),sw=e=>ul(e)&&Ws(e.pipe),rw=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Ws(e.append)&&((s=Rd(e))==="formdata"||s==="object"&&Ws(e.toString)&&e.toString()==="[object FormData]"))},aw=Mr("URLSearchParams"),[nw,iw,ow,lw]=["ReadableStream","Request","Response","Headers"].map(Mr),cw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ml(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Ri(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(dl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,e[l],l,e)}}function lv(e,s){if(dl(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cv=e=>!bi(e)&&e!==cn;function xp(){const{caseless:e,skipUndefined:s}=cv(this)&&this||{},r={},a=(n,i)=>{const o=e&&lv(r,i)||i;uc(r[o])&&uc(n)?r[o]=xp(r[o],n):uc(n)?r[o]=xp({},n):Ri(n)?r[o]=n.slice():(!s||!bi(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ml(arguments[n],a);return r}const dw=(e,s,r,{allOwnKeys:a}={})=>(ml(s,(n,i)=>{r&&Ws(n)?e[i]=av(n,r):e[i]=n},{allOwnKeys:a}),e),uw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mw=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},pw=(e,s,r,a)=>{let n,i,o;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,s))&&!l[o]&&(s[o]=e[o],l[o]=!0);e=r!==!1&&Kf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},fw=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},hw=e=>{if(!e)return null;if(Ri(e))return e;let s=e.length;if(!ov(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},gw=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Kf(Uint8Array)),xw=(e,s)=>{const a=(e&&e[zd]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(e,i[0],i[1])}},yw=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},bw=Mr("HTMLFormElement"),vw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Jg=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),jw=Mr("RegExp"),dv=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};ml(r,(n,i)=>{let o;(o=s(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},Nw=e=>{dv(e,(s,r)=>{if(Ws(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Ws(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cw=(e,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Ri(e)?a(e):a(String(e).split(s)),r},ww=()=>{},_w=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function Sw(e){return!!(e&&Ws(e.append)&&e[nv]==="FormData"&&e[zd])}const Aw=e=>{const s=new Array(10),r=(a,n)=>{if(ul(a)){if(s.indexOf(a)>=0)return;if(dl(a))return a;if(!("toJSON"in a)){s[n]=a;const i=Ri(a)?[]:{};return ml(a,(o,l)=>{const c=r(o,n+1);!bi(c)&&(i[l]=c)}),s[n]=void 0,i}}return a};return r(e,0)},kw=Mr("AsyncFunction"),Pw=e=>e&&(ul(e)||Ws(e))&&Ws(e.then)&&Ws(e.catch),uv=((e,s)=>e?setImmediate:s?((r,a)=>(cn.addEventListener("message",({source:n,data:i})=>{n===cn&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),cn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ws(cn.postMessage)),Ew=typeof queueMicrotask<"u"?queueMicrotask.bind(cn):typeof process<"u"&&process.nextTick||uv,Tw=e=>e!=null&&Ws(e[zd]),be={isArray:Ri,isArrayBuffer:iv,isBuffer:dl,isFormData:rw,isArrayBufferView:K2,isString:Q2,isNumber:ov,isBoolean:Y2,isObject:ul,isPlainObject:uc,isEmptyObject:J2,isReadableStream:nw,isRequest:iw,isResponse:ow,isHeaders:lw,isUndefined:bi,isDate:X2,isFile:Z2,isBlob:ew,isRegExp:jw,isFunction:Ws,isStream:sw,isURLSearchParams:aw,isTypedArray:gw,isFileList:tw,forEach:ml,merge:xp,extend:dw,trim:cw,stripBOM:uw,inherits:mw,toFlatObject:pw,kindOf:Rd,kindOfTest:Mr,endsWith:fw,toArray:hw,forEachEntry:xw,matchAll:yw,isHTMLForm:bw,hasOwnProperty:Jg,hasOwnProp:Jg,reduceDescriptors:dv,freezeMethods:Nw,toObjectSet:Cw,toCamelCase:vw,noop:ww,toFiniteNumber:_w,findKey:lv,global:cn,isContextDefined:cv,isSpecCompliantForm:Sw,toJSONObject:Aw,isAsyncFn:kw,isThenable:Pw,setImmediate:uv,asap:Ew,isIterable:Tw};function at(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}be.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const mv=at.prototype,pv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pv[e]={value:e}});Object.defineProperties(at,pv);Object.defineProperty(mv,"isAxiosError",{value:!0});at.from=(e,s,r,a,n,i)=>{const o=Object.create(mv);be.toFlatObject(e,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return at.call(o,l,c,r,a,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const zw=null;function yp(e){return be.isPlainObject(e)||be.isArray(e)}function fv(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function Xg(e,s,r){return e?e.concat(s).map(function(n,i){return n=fv(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function Rw(e){return be.isArray(e)&&!e.some(yp)}const Fw=be.toFlatObject(be,{},null,function(s){return/^is[A-Z]/.test(s)});function Dd(e,s,r){if(!be.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!be.isUndefined(_[y])});const a=r.metaTokens,n=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(s);if(!be.isFunction(n))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(be.isDate(g))return g.toISOString();if(be.isBoolean(g))return g.toString();if(!c&&be.isBlob(g))throw new at("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(g)||be.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,_){let x=g;if(g&&!_&&typeof g=="object"){if(be.endsWith(y,"{}"))y=a?y:y.slice(0,-2),g=JSON.stringify(g);else if(be.isArray(g)&&Rw(g)||(be.isFileList(g)||be.endsWith(y,"[]"))&&(x=be.toArray(g)))return y=fv(y),x.forEach(function(C,N){!(be.isUndefined(C)||C===null)&&s.append(o===!0?Xg([y],N,i):o===null?y:y+"[]",h(C))}),!1}return yp(g)?!0:(s.append(Xg(_,y,i),h(g)),!1)}const m=[],p=Object.assign(Fw,{defaultVisitor:d,convertValue:h,isVisitable:yp});function u(g,y){if(!be.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(g),be.forEach(g,function(x,v){(!(be.isUndefined(x)||x===null)&&n.call(s,x,be.isString(v)?v.trim():v,y,p))===!0&&u(x,y?y.concat(v):[v])}),m.pop()}}if(!be.isObject(e))throw new TypeError("data must be an object");return u(e),s}function Zg(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Qf(e,s){this._pairs=[],e&&Dd(e,this,s)}const hv=Qf.prototype;hv.append=function(s,r){this._pairs.push([s,r])};hv.toString=function(s){const r=s?function(a){return s.call(this,a,Zg)}:Zg;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Dw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gv(e,s,r){if(!s)return e;const a=r&&r.encode||Dw;be.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=be.isURLSearchParams(s)?s.toString():new Qf(s,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ex{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){be.forEach(this.handlers,function(a){a!==null&&s(a)})}}const xv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$w=typeof URLSearchParams<"u"?URLSearchParams:Qf,Mw=typeof FormData<"u"?FormData:null,Lw=typeof Blob<"u"?Blob:null,Iw={isBrowser:!0,classes:{URLSearchParams:$w,FormData:Mw,Blob:Lw},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",bp=typeof navigator=="object"&&navigator||void 0,Ow=Yf&&(!bp||["ReactNative","NativeScript","NS"].indexOf(bp.product)<0),Uw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bw=Yf&&window.location.href||"http://localhost",qw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:Ow,hasStandardBrowserWebWorkerEnv:Uw,navigator:bp,origin:Bw},Symbol.toStringTag,{value:"Module"})),ws={...qw,...Iw};function Ww(e,s){return Dd(e,new ws.classes.URLSearchParams,{visitor:function(r,a,n,i){return ws.isNode&&be.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Vw(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Hw(e){const s={},r=Object.keys(e);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=e[i];return s}function yv(e){function s(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&be.isArray(n)?n.length:o,c?(be.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!be.isObject(n[o]))&&(n[o]=[]),s(r,a,n[o],i)&&be.isArray(n[o])&&(n[o]=Hw(n[o])),!l)}if(be.isFormData(e)&&be.isFunction(e.entries)){const r={};return be.forEachEntry(e,(a,n)=>{s(Vw(a),n,r,0)}),r}return null}function Gw(e,s,r){if(be.isString(e))try{return(s||JSON.parse)(e),be.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const pl={transitional:xv,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=be.isObject(s);if(i&&be.isHTMLForm(s)&&(s=new FormData(s)),be.isFormData(s))return n?JSON.stringify(yv(s)):s;if(be.isArrayBuffer(s)||be.isBuffer(s)||be.isStream(s)||be.isFile(s)||be.isBlob(s)||be.isReadableStream(s))return s;if(be.isArrayBufferView(s))return s.buffer;if(be.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ww(s,this.formSerializer).toString();if((l=be.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Dd(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),Gw(s)):s}],transformResponse:[function(s){const r=this.transitional||pl.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(be.isResponse(s)||be.isReadableStream(s))return s;if(s&&be.isString(s)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?at.from(l,at.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],e=>{pl.headers[e]={}});const Kw=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qw=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||s[r]&&Kw[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},tx=Symbol("internals");function Ki(e){return e&&String(e).trim().toLowerCase()}function mc(e){return e===!1||e==null?e:be.isArray(e)?e.map(mc):String(e)}function Yw(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const Jw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tm(e,s,r,a,n){if(be.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!be.isString(s)){if(be.isString(a))return s.indexOf(a)!==-1;if(be.isRegExp(a))return a.test(s)}}function Xw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Zw(e,s){const r=be.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let Vs=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(l,c,h){const d=Ki(c);if(!d)throw new Error("header name must be a non-empty string");const m=be.findKey(n,d);(!m||n[m]===void 0||h===!0||h===void 0&&n[m]!==!1)&&(n[m||c]=mc(l))}const o=(l,c)=>be.forEach(l,(h,d)=>i(h,d,c));if(be.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(be.isString(s)&&(s=s.trim())&&!Jw(s))o(Qw(s),r);else if(be.isObject(s)&&be.isIterable(s)){let l={},c,h;for(const d of s){if(!be.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(c=l[h])?be.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=Ki(s),s){const a=be.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Yw(n);if(be.isFunction(r))return r.call(this,n,a);if(be.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ki(s),s){const a=be.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||tm(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(o){if(o=Ki(o),o){const l=be.findKey(a,o);l&&(!r||tm(a,a[l],l,r))&&(delete a[l],n=!0)}}return be.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||tm(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return be.forEach(this,(n,i)=>{const o=be.findKey(a,i);if(o){r[o]=mc(n),delete r[i];return}const l=s?Xw(i):String(i).trim();l!==i&&delete r[i],r[l]=mc(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return be.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&be.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[tx]=this[tx]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Ki(o);a[l]||(Zw(n,o),a[l]=!0)}return be.isArray(s)?s.forEach(i):i(s),this}};Vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Vs.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});be.freezeMethods(Vs);function sm(e,s){const r=this||pl,a=s||r,n=Vs.from(a.headers);let i=a.data;return be.forEach(e,function(l){i=l.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function bv(e){return!!(e&&e.__CANCEL__)}function Fi(e,s,r){at.call(this,e??"canceled",at.ERR_CANCELED,s,r),this.name="CanceledError"}be.inherits(Fi,at,{__CANCEL__:!0});function vv(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new at("Request failed with status code "+r.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function e_(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function t_(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const h=Date.now(),d=a[i];o||(o=h),r[n]=c,a[n]=h;let m=i,p=0;for(;m!==n;)p+=r[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),h-o<s)return;const u=d&&h-d;return u?Math.round(p*1e3/u):void 0}}function s_(e,s){let r=0,a=1e3/s,n,i;const o=(h,d=Date.now())=>{r=d,n=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const d=Date.now(),m=d-r;m>=a?o(h,d):(n=h,i||(i=setTimeout(()=>{i=null,o(n)},a-m)))},()=>n&&o(n)]}const Kc=(e,s,r=3)=>{let a=0;const n=t_(50,250);return s_(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,h=n(c),d=o<=l;a=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(m)},r)},sx=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},rx=e=>(...s)=>be.asap(()=>e(...s)),r_=ws.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,ws.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(ws.origin),ws.navigator&&/(msie|trident)/i.test(ws.navigator.userAgent)):()=>!0,a_=ws.hasStandardBrowserEnv?{write(e,s,r,a,n,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(s)}`];be.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),be.isString(a)&&l.push(`path=${a}`),be.isString(n)&&l.push(`domain=${n}`),i===!0&&l.push("secure"),be.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function n_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function i_(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function jv(e,s,r){let a=!n_(s);return e&&(a||r==!1)?i_(e,s):s}const ax=e=>e instanceof Vs?{...e}:e;function Cn(e,s){s=s||{};const r={};function a(h,d,m,p){return be.isPlainObject(h)&&be.isPlainObject(d)?be.merge.call({caseless:p},h,d):be.isPlainObject(d)?be.merge({},d):be.isArray(d)?d.slice():d}function n(h,d,m,p){if(be.isUndefined(d)){if(!be.isUndefined(h))return a(void 0,h,m,p)}else return a(h,d,m,p)}function i(h,d){if(!be.isUndefined(d))return a(void 0,d)}function o(h,d){if(be.isUndefined(d)){if(!be.isUndefined(h))return a(void 0,h)}else return a(void 0,d)}function l(h,d,m){if(m in s)return a(h,d);if(m in e)return a(void 0,h)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,m)=>n(ax(h),ax(d),m,!0)};return be.forEach(Object.keys({...e,...s}),function(d){const m=c[d]||n,p=m(e[d],s[d],d);be.isUndefined(p)&&m!==l||(r[d]=p)}),r}const Nv=e=>{const s=Cn({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=Vs.from(o),s.url=gv(jv(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),be.isFormData(r)){if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(be.isFunction(r.getHeaders)){const c=r.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{h.includes(d.toLowerCase())&&o.set(d,m)})}}if(ws.hasStandardBrowserEnv&&(a&&be.isFunction(a)&&(a=a(s)),a||a!==!1&&r_(s.url))){const c=n&&i&&a_.read(i);c&&o.set(n,c)}return s},o_=typeof XMLHttpRequest<"u",l_=o_&&function(e){return new Promise(function(r,a){const n=Nv(e);let i=n.data;const o=Vs.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=n,d,m,p,u,g;function y(){u&&u(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(n.method.toUpperCase(),n.url,!0),_.timeout=n.timeout;function x(){if(!_)return;const C=Vs.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:C,config:e,request:_};vv(function(b){r(b),y()},function(b){a(b),y()},E),_=null}"onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(x)},_.onabort=function(){_&&(a(new at("Request aborted",at.ECONNABORTED,e,_)),_=null)},_.onerror=function(N){const E=N&&N.message?N.message:"Network Error",S=new at(E,at.ERR_NETWORK,e,_);S.event=N||null,a(S),_=null},_.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||xv;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),a(new at(N,E.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&be.forEach(o.toJSON(),function(N,E){_.setRequestHeader(E,N)}),be.isUndefined(n.withCredentials)||(_.withCredentials=!!n.withCredentials),l&&l!=="json"&&(_.responseType=n.responseType),h&&([p,g]=Kc(h,!0),_.addEventListener("progress",p)),c&&_.upload&&([m,u]=Kc(c),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(d=C=>{_&&(a(!C||C.type?new Fi(null,e,_):C),_.abort(),_=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const v=e_(n.url);if(v&&ws.protocols.indexOf(v)===-1){a(new at("Unsupported protocol "+v+":",at.ERR_BAD_REQUEST,e));return}_.send(i||null)})},c_=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(h){if(!n){n=!0,l();const d=h instanceof Error?h:this.reason;a.abort(d instanceof at?d:new Fi(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new at(`timeout ${s} of ms exceeded`,at.ETIMEDOUT))},s);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>be.asap(l),c}},d_=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},u_=async function*(e,s){for await(const r of m_(e))yield*d_(r,s)},m_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},nx=(e,s,r,a)=>{const n=u_(e,s);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await n.next();if(h){l(),c.close();return}let m=d.byteLength;if(r){let p=i+=m;r(p)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},ix=64*1024,{isFunction:Bl}=be,p_=(({Request:e,Response:s})=>({Request:e,Response:s}))(be.global),{ReadableStream:ox,TextEncoder:lx}=be.global,cx=(e,...s)=>{try{return!!e(...s)}catch{return!1}},f_=e=>{e=be.merge.call({skipUndefined:!0},p_,e);const{fetch:s,Request:r,Response:a}=e,n=s?Bl(s):typeof fetch=="function",i=Bl(r),o=Bl(a);if(!n)return!1;const l=n&&Bl(ox),c=n&&(typeof lx=="function"?(g=>y=>g.encode(y))(new lx):async g=>new Uint8Array(await new r(g).arrayBuffer())),h=i&&l&&cx(()=>{let g=!1;const y=new r(ws.origin,{body:new ox,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=o&&l&&cx(()=>be.isReadableStream(new a("").body)),m={stream:d&&(g=>g.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(y,_)=>{let x=y&&y[g];if(x)return x.call(y);throw new at(`Response type '${g}' is not supported`,at.ERR_NOT_SUPPORT,_)})});const p=async g=>{if(g==null)return 0;if(be.isBlob(g))return g.size;if(be.isSpecCompliantForm(g))return(await new r(ws.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(be.isArrayBufferView(g)||be.isArrayBuffer(g))return g.byteLength;if(be.isURLSearchParams(g)&&(g=g+""),be.isString(g))return(await c(g)).byteLength},u=async(g,y)=>{const _=be.toFiniteNumber(g.getContentLength());return _??p(y)};return async g=>{let{url:y,method:_,data:x,signal:v,cancelToken:C,timeout:N,onDownloadProgress:E,onUploadProgress:S,responseType:b,headers:A,withCredentials:j="same-origin",fetchOptions:z}=Nv(g),$=s||fetch;b=b?(b+"").toLowerCase():"text";let w=c_([v,C&&C.toAbortSignal()],N),R=null;const D=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let M;try{if(S&&h&&_!=="get"&&_!=="head"&&(M=await u(A,x))!==0){let B=new r(y,{method:"POST",body:x,duplex:"half"}),H;if(be.isFormData(x)&&(H=B.headers.get("content-type"))&&A.setContentType(H),B.body){const[U,q]=sx(M,Kc(rx(S)));x=nx(B.body,ix,U,q)}}be.isString(j)||(j=j?"include":"omit");const P=i&&"credentials"in r.prototype,k={...z,signal:w,method:_.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:P?j:void 0};R=i&&new r(y,k);let I=await(i?$(R,z):$(y,k));const F=d&&(b==="stream"||b==="response");if(d&&(E||F&&D)){const B={};["status","statusText","headers"].forEach(W=>{B[W]=I[W]});const H=be.toFiniteNumber(I.headers.get("content-length")),[U,q]=E&&sx(H,Kc(rx(E),!0))||[];I=new a(nx(I.body,ix,U,()=>{q&&q(),D&&D()}),B)}b=b||"text";let O=await m[be.findKey(m,b)||"text"](I,g);return!F&&D&&D(),await new Promise((B,H)=>{vv(B,H,{data:O,headers:Vs.from(I.headers),status:I.status,statusText:I.statusText,config:g,request:R})})}catch(P){throw D&&D(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,g,R),{cause:P.cause||P}):at.from(P,P&&P.code,g,R)}}},h_=new Map,Cv=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let o=i.length,l=o,c,h,d=h_;for(;l--;)c=i[l],h=d.get(c),h===void 0&&d.set(c,h=l?new Map:f_(s)),d=h;return h};Cv();const Jf={http:zw,xhr:l_,fetch:{get:Cv}};be.forEach(Jf,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const dx=e=>`- ${e}`,g_=e=>be.isFunction(e)||e===null||e===!1;function x_(e,s){e=be.isArray(e)?e:[e];const{length:r}=e;let a,n;const i={};for(let o=0;o<r;o++){a=e[o];let l;if(n=a,!g_(a)&&(n=Jf[(l=String(a)).toLowerCase()],n===void 0))throw new at(`Unknown adapter '${l}'`);if(n&&(be.isFunction(n)||(n=n.get(s))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(dx).join(`
`):" "+dx(o[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const wv={getAdapter:x_,adapters:Jf};function rm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fi(null,e)}function ux(e){return rm(e),e.headers=Vs.from(e.headers),e.data=sm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wv.getAdapter(e.adapter||pl.adapter,e)(e).then(function(a){return rm(e),a.data=sm.call(e,e.transformResponse,a),a.headers=Vs.from(a.headers),a},function(a){return bv(a)||(rm(e),a&&a.response&&(a.response.data=sm.call(e,e.transformResponse,a.response),a.response.headers=Vs.from(a.response.headers))),Promise.reject(a)})}const _v="1.13.2",$d={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{$d[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const mx={};$d.transitional=function(s,r,a){function n(i,o){return"[Axios v"+_v+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new at(n(o," has been removed"+(r?" in "+r:"")),at.ERR_DEPRECATED);return r&&!mx[o]&&(mx[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};$d.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function y_(e,s,r){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new at("option "+i+" must be "+c,at.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new at("Unknown option "+i,at.ERR_BAD_OPTION)}}const pc={assertOptions:y_,validators:$d},Ur=pc.validators;let hn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new ex,response:new ex}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Cn(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&pc.assertOptions(a,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),n!=null&&(be.isFunction(n)?r.paramsSerializer={serialize:n}:pc.assertOptions(n,{encode:Ur.function,serialize:Ur.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),pc.assertOptions(r,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&be.merge(i.common,i[r.method]);i&&be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Vs.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let d,m=0,p;if(!c){const g=[ux.bind(this),void 0];for(g.unshift(...l),g.push(...h),p=g.length,d=Promise.resolve(r);m<p;)d=d.then(g[m++],g[m++]);return d}p=l.length;let u=r;for(;m<p;){const g=l[m++],y=l[m++];try{u=g(u)}catch(_){y.call(this,_);break}}try{d=ux.call(this,u)}catch(g){return Promise.reject(g)}for(m=0,p=h.length;m<p;)d=d.then(h[m++],h[m++]);return d}getUri(s){s=Cn(this.defaults,s);const r=jv(s.baseURL,s.url,s.allowAbsoluteUrls);return gv(r,s.params,s.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(s){hn.prototype[s]=function(r,a){return this.request(Cn(a||{},{method:s,url:r,data:(a||{}).data}))}});be.forEach(["post","put","patch"],function(s){function r(a){return function(i,o,l){return this.request(Cn(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hn.prototype[s]=r(),hn.prototype[s+"Form"]=r(!0)});let b_=class Sv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new Fi(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Sv(function(n){s=n}),cancel:s}}};function v_(e){return function(r){return e.apply(null,r)}}function j_(e){return be.isObject(e)&&e.isAxiosError===!0}const vp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vp).forEach(([e,s])=>{vp[s]=e});function Av(e){const s=new hn(e),r=av(hn.prototype.request,s);return be.extend(r,hn.prototype,s,{allOwnKeys:!0}),be.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Av(Cn(e,n))},r}const kt=Av(pl);kt.Axios=hn;kt.CanceledError=Fi;kt.CancelToken=b_;kt.isCancel=bv;kt.VERSION=_v;kt.toFormData=Dd;kt.AxiosError=at;kt.Cancel=kt.CanceledError;kt.all=function(s){return Promise.all(s)};kt.spread=v_;kt.isAxiosError=j_;kt.mergeConfig=Cn;kt.AxiosHeaders=Vs;kt.formToJSON=e=>yv(be.isHTMLForm(e)?new FormData(e):e);kt.getAdapter=wv.getAdapter;kt.HttpStatusCode=vp;kt.default=kt;const{Axios:s6,AxiosError:r6,CanceledError:a6,isCancel:n6,CancelToken:i6,VERSION:o6,all:l6,Cancel:c6,isAxiosError:d6,spread:u6,toFormData:m6,AxiosHeaders:p6,HttpStatusCode:f6,formToJSON:h6,getAdapter:g6,mergeConfig:x6}=kt,jp="https://aeroenix.com/v1/api",Np=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),Qi=new Map,N_=(e,s,r)=>{const a=(e==null?void 0:e.toUpperCase())||"GET",n=r?JSON.stringify(r):"";return`${a}:${s}:${n}`},ce=kt.create({baseURL:jp,headers:{"Content-Type":"application/json",Accept:"application/json"}}),C_=ce.get.bind(ce);ce.post.bind(ce);ce.put.bind(ce);ce.delete.bind(ce);ce.get=function(e,s={}){const r=N_("GET",e,s.params);if(Qi.has(r))return console.log(" Deduplicating request:",r),Qi.get(r);const a=C_(e,s).then(n=>(Qi.delete(r),n)).catch(n=>{throw Qi.delete(r),n});return Qi.set(r,a),a};ce.interceptors.request.use(e=>{var r;const s=Np();return s&&(e.headers.Authorization=`Bearer ${s}`),e.data instanceof FormData&&delete e.headers["Content-Type"],console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:`${e.baseURL}${e.url}`,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data,params:e.params}),e},e=>Promise.reject(e));ce.interceptors.response.use(e=>{var s;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:(s=e.config)==null?void 0:s.url,data:e.data}),e.data},e=>{var s,r,a,n,i;return console.error(" API Error:",{status:(s=e.response)==null?void 0:s.status,statusText:(r=e.response)==null?void 0:r.statusText,url:(a=e.config)==null?void 0:a.url,data:(n=e.response)==null?void 0:n.data,message:e.message}),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token")),Promise.reject(e)});const He={getACCApplications:e=>ce.get("/admin/accs/applications",{params:e}),getACCApplication:e=>ce.get(`/admin/accs/applications/${e}`),approveACCApplication:e=>ce.put(`/admin/accs/applications/${e}/approve`),rejectACCApplication:(e,s)=>ce.put(`/admin/accs/applications/${e}/reject`,s),createACCSpace:e=>ce.post(`/admin/accs/${e}/create-space`),generateACCCredentials:e=>ce.post(`/admin/accs/${e}/generate-credentials`),listACCs:e=>ce.get("/admin/accs",{params:e}),getACCDetails:e=>ce.get(`/admin/accs/${e}`),updateACC:(e,s)=>ce.put(`/admin/accs/${e}`,s),setCommissionPercentage:(e,s)=>ce.put(`/admin/accs/${e}/commission-percentage`,s),getACCTransactions:(e,s)=>ce.get(`/admin/accs/${e}/transactions`,{params:s}),assignCategoryToACC:(e,s)=>ce.post(`/admin/accs/${e}/assign-category`,s),removeCategoryFromACC:(e,s)=>ce.delete(`/admin/accs/${e}/remove-category`,{data:s}),getACCCategories:e=>ce.get(`/admin/accs/${e}/categories`),addStripeAccountToACC:(e,s)=>ce.put(`/admin/accs/${e}/stripe-account`,s),removeStripeAccountFromACC:e=>ce.delete(`/admin/accs/${e}/stripe-account`),listTrainingCenters:e=>ce.get("/admin/training-centers",{params:e}),getTrainingCenterDetails:e=>ce.get(`/admin/training-centers/${e}`),updateTrainingCenter:(e,s)=>ce.put(`/admin/training-centers/${e}`,s),getTrainingCenterApplications:e=>ce.get("/admin/training-centers/applications",{params:e}),approveTrainingCenterApplication:e=>ce.put(`/admin/training-centers/applications/${e}/approve`),rejectTrainingCenterApplication:(e,s)=>ce.put(`/admin/training-centers/applications/${e}/reject`,s),listInstructors:e=>ce.get("/admin/instructors",{params:e}),getInstructorDetails:e=>ce.get(`/admin/instructors/${e}`),updateInstructor:(e,s)=>s instanceof FormData?(s.append("_method","PUT"),ce.post(`/admin/instructors/${e}`,s)):ce.put(`/admin/instructors/${e}`,s),getPendingCommissionRequests:e=>ce.get("/admin/instructor-authorizations/pending-commission",{params:e}),setInstructorAuthorizationCommission:(e,s)=>ce.put(`/admin/instructor-authorizations/${e}/set-commission`,s),createCategory:e=>ce.post("/admin/categories",e),listCategories:e=>ce.get("/admin/categories",{params:e}),updateCategory:(e,s)=>ce.put(`/admin/categories/${e}`,s),deleteCategory:e=>ce.delete(`/admin/categories/${e}`),createSubCategory:e=>ce.post("/admin/sub-categories",e),listSubCategories:e=>ce.get("/admin/sub-categories",{params:e}),updateSubCategory:(e,s)=>ce.put(`/admin/sub-categories/${e}`,s),deleteSubCategory:e=>ce.delete(`/admin/sub-categories/${e}`),listCourses:e=>ce.get("/admin/courses",{params:e}),getCourseDetails:e=>ce.get(`/admin/courses/${e}`),createClass:e=>ce.post("/admin/classes",e),listClasses:e=>ce.get("/admin/classes",{params:e}),updateClass:(e,s)=>ce.put(`/admin/classes/${e}`,s),deleteClass:e=>ce.delete(`/admin/classes/${e}`),getDashboard:()=>ce.get("/admin/dashboard"),getFinancialDashboard:()=>ce.get("/admin/financial/dashboard"),getFinancialTransactions:e=>ce.get("/admin/financial/transactions",{params:e}),getPaymentTransactions:e=>ce.get("/admin/financial/transactions",{params:e}),getSettlements:e=>ce.get("/admin/financial/settlements",{params:e}),requestPayment:e=>ce.post(`/admin/financial/settlements/${e}/request-payment`),getRevenueReport:e=>ce.get("/admin/reports/revenue",{params:e}),getACCsReport:e=>ce.get("/admin/reports/accs",{params:e}),getTrainingCentersReport:e=>ce.get("/admin/reports/training-centers",{params:e}),getCertificatesReport:e=>ce.get("/admin/reports/certificates",{params:e}),listStripeSettings:e=>ce.get("/admin/stripe-settings",{params:e}),getActiveStripeSetting:()=>ce.get("/admin/stripe-settings/active"),createStripeSetting:e=>ce.post("/admin/stripe-settings",e),updateStripeSetting:(e,s)=>ce.put(`/admin/stripe-settings/${e}`,s),deleteStripeSetting:e=>ce.delete(`/admin/stripe-settings/${e}`),getPendingPayments:e=>ce.get("/admin/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>ce.put(`/admin/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>ce.put(`/admin/code-batches/${e}/reject-payment`,s)},Xe={getDashboard:()=>ce.get("/acc/dashboard"),getProfile:()=>ce.get("/acc/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),ce.post("/acc/profile",e)),verifyStripeAccount:e=>ce.post("/acc/profile/verify-stripe-account",{stripe_account_id:e}),getSubscription:()=>ce.get("/acc/subscription"),createSubscriptionPaymentIntent:e=>ce.post("/acc/subscription/payment-intent",e),createRenewalPaymentIntent:e=>ce.post("/acc/subscription/renew-payment-intent",e),paySubscription:e=>ce.post("/acc/subscription/payment",e),renewSubscription:e=>ce.put("/acc/subscription/renew",e),getTrainingCenterRequests:e=>ce.get("/acc/training-centers/requests",{params:e}),approveTrainingCenterRequest:e=>ce.put(`/acc/training-centers/requests/${e}/approve`),rejectTrainingCenterRequest:(e,s)=>ce.put(`/acc/training-centers/requests/${e}/reject`,s),returnTrainingCenterRequest:(e,s)=>ce.put(`/acc/training-centers/requests/${e}/return`,s),listAuthorizedTrainingCenters:e=>ce.get("/acc/training-centers",{params:e}),getInstructorRequests:e=>ce.get("/acc/instructors/requests",{params:e}),approveInstructorRequest:(e,s)=>ce.put(`/acc/instructors/requests/${e}/approve`,s),rejectInstructorRequest:(e,s)=>ce.put(`/acc/instructors/requests/${e}/reject`,s),returnInstructorRequest:(e,s)=>ce.put(`/acc/instructors/requests/${e}/return`,s),listAuthorizedInstructors:e=>ce.get("/acc/instructors",{params:e}),createCourse:e=>ce.post("/acc/courses",e),listCourses:e=>ce.get("/acc/courses",{params:e}),getCourseDetails:e=>ce.get(`/acc/courses/${e}`),updateCourse:(e,s)=>ce.put(`/acc/courses/${e}`,s),deleteCourse:e=>ce.delete(`/acc/courses/${e}`),setCoursePricing:(e,s)=>ce.post(`/acc/courses/${e}/pricing`,s),updateCoursePricing:(e,s)=>ce.put(`/acc/courses/${e}/pricing`,s),createCertificateTemplate:e=>ce.post("/acc/certificate-templates",e),listCertificateTemplates:e=>ce.get("/acc/certificate-templates",{params:e}),getTemplateDetails:e=>ce.get(`/acc/certificate-templates/${e}`),updateTemplate:(e,s)=>ce.put(`/acc/certificate-templates/${e}`,s),deleteTemplate:e=>ce.delete(`/acc/certificate-templates/${e}`),previewTemplate:(e,s)=>ce.post(`/acc/certificate-templates/${e}/preview`,s),createDiscountCode:e=>ce.post("/acc/discount-codes",e),listDiscountCodes:e=>ce.get("/acc/discount-codes",{params:e}),getDiscountCodeDetails:e=>ce.get(`/acc/discount-codes/${e}`),updateDiscountCode:(e,s)=>ce.put(`/acc/discount-codes/${e}`,s),deleteDiscountCode:e=>ce.delete(`/acc/discount-codes/${e}`),validateDiscountCode:e=>ce.post("/acc/discount-codes/validate",e),createMaterial:e=>ce.post("/acc/materials",e),listMaterials:e=>ce.get("/acc/materials",{params:e}),getMaterialDetails:e=>ce.get(`/acc/materials/${e}`),updateMaterial:(e,s)=>ce.put(`/acc/materials/${e}`,s),deleteMaterial:e=>ce.delete(`/acc/materials/${e}`),listCertificates:e=>ce.get("/acc/certificates",{params:e}),createCertificate:e=>ce.post("/acc/certificates",e),listClasses:e=>ce.get("/acc/classes",{params:e}),getClassDetails:e=>ce.get(`/acc/classes/${e}`),getFinancialTransactions:e=>ce.get("/acc/financial/transactions",{params:e}),getPaymentTransactions:e=>ce.get("/acc/financial/transactions",{params:e}),getSettlements:e=>ce.get("/acc/financial/settlements",{params:e}),listCategories:e=>ce.get("/acc/categories",{params:e}),getCategory:e=>ce.get(`/acc/categories/${e}`),createCategory:e=>ce.post("/acc/categories",e),updateCategory:(e,s)=>ce.put(`/acc/categories/${e}`,s),deleteCategory:e=>ce.delete(`/acc/categories/${e}`),listSubCategories:e=>ce.get("/acc/sub-categories",{params:e}),getSubCategory:e=>ce.get(`/acc/sub-categories/${e}`),createSubCategory:e=>ce.post("/acc/sub-categories",e),updateSubCategory:(e,s)=>ce.put(`/acc/sub-categories/${e}`,s),deleteSubCategory:e=>ce.delete(`/acc/sub-categories/${e}`),getPendingPayments:e=>ce.get("/acc/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>ce.put(`/acc/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>ce.put(`/acc/code-batches/${e}/reject-payment`,s)},Ue={getDashboard:()=>ce.get("/training-center/dashboard"),getProfile:()=>ce.get("/training-center/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),ce.post("/training-center/profile",e)),listACCs:e=>ce.get("/training-center/accs",{params:e}),requestAuthorization:(e,s)=>{const r=Np(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),kt.post(`${jp}/training-center/accs/${e}/request-authorization`,s,{headers:a}).then(n=>n.data)},getAuthorizationStatus:e=>ce.get("/training-center/authorizations",{params:e}),createInstructor:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${Np()}`,Accept:"application/json"};return kt.post(`${jp}/training-center/instructors`,e,{headers:r}).then(a=>a.data)}return ce.post("/training-center/instructors",e)},listInstructors:e=>ce.get("/training-center/instructors",e?{params:e}:{}),getInstructorDetails:e=>ce.get(`/training-center/instructors/${e}`),updateInstructor:(e,s)=>(s instanceof FormData&&s.append("_method","PUT"),ce.post(`/training-center/instructors/${e}`,s)),deleteInstructor:e=>ce.delete(`/training-center/instructors/${e}`),requestInstructorAuthorization:(e,s)=>ce.post(`/training-center/instructors/${e}/request-authorization`,s),getCategoriesForACC:e=>ce.get(`/training-center/accs/${e}/categories`),getSubCategoriesForCategory:e=>ce.get(`/training-center/accs/${e}/sub-categories`),getCoursesForACC:(e,s)=>ce.get(`/training-center/accs/${e}/courses`,{params:s}),getInstructorAuthorizations:e=>ce.get("/training-center/instructors/authorizations",{params:e}),createInstructorAuthorizationPaymentIntent:(e,s)=>ce.post(`/training-center/instructors/authorizations/${e}/payment-intent`,s),payInstructorAuthorization:(e,s)=>ce.post(`/training-center/instructors/authorizations/${e}/pay`,s),createPaymentIntent:e=>ce.post("/training-center/codes/create-payment-intent",e),purchaseCodes:e=>ce.post("/training-center/codes/purchase",e),getCodeInventory:e=>ce.get("/training-center/codes/inventory",{params:e}),getCodeBatches:e=>ce.get("/training-center/codes/batches",{params:e}),addFunds:e=>ce.post("/training-center/wallet/add-funds",e),getWalletBalance:()=>ce.get("/training-center/wallet/balance"),getWalletTransactions:e=>ce.get("/training-center/wallet/transactions",{params:e}),getPaymentTransactions:e=>ce.get("/training-center/financial/transactions",{params:e}),createClass:e=>ce.post("/training-center/classes",e),listClasses:e=>ce.get("/training-center/classes",{params:e}),getClassDetails:e=>ce.get(`/training-center/classes/${e}`),updateClass:(e,s)=>ce.put(`/training-center/classes/${e}`,s),deleteClass:e=>ce.delete(`/training-center/classes/${e}`),markClassComplete:e=>ce.put(`/training-center/classes/${e}/complete`),generateCertificate:e=>ce.post("/training-center/certificates/generate",e),listCertificates:e=>ce.get("/training-center/certificates",{params:e}),getCertificateDetails:e=>ce.get(`/training-center/certificates/${e}`),browseMaterials:e=>ce.get("/training-center/marketplace/materials",{params:e}),getMaterialDetails:e=>ce.get(`/training-center/marketplace/materials/${e}`),purchaseFromMarketplace:e=>ce.post("/training-center/marketplace/purchase",e),getLibrary:e=>ce.get("/training-center/library",{params:e}),createTrainee:e=>ce.post("/training-center/trainees",e),listTrainees:e=>ce.get("/training-center/trainees",{params:e}),getTraineeDetails:e=>ce.get(`/training-center/trainees/${e}`),updateTrainee:(e,s)=>(s instanceof FormData&&s.append("_method","PUT"),ce.post(`/training-center/trainees/${e}`,s)),deleteTrainee:e=>ce.delete(`/training-center/trainees/${e}`)},Es={getDashboard:()=>ce.get("/instructor/dashboard"),getProfile:()=>ce.get("/instructor/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),ce.post("/instructor/profile",e)),listClasses:e=>ce.get("/instructor/classes",{params:e}),getClassDetails:e=>ce.get(`/instructor/classes/${e}`),markClassComplete:(e,s)=>ce.put(`/instructor/classes/${e}/mark-complete`,s),getTrainingCenters:()=>ce.get("/instructor/training-centers"),getACCs:()=>ce.get("/instructor/accs"),getAvailableMaterials:e=>ce.get("/instructor/materials",{params:e}),getEarnings:e=>ce.get("/instructor/earnings",{params:e})},Rr={getCountries:()=>ce.get("/countries"),getCities:e=>ce.get("/cities",{params:e?{country:e}:{}}),getLanguages:()=>ce.get("/languages"),verifyCertificate:e=>ce.get(`/certificates/verify/${e}`)},kv={getConfig:()=>ce.get("/stripe/config"),createPaymentIntent:e=>ce.post("/stripe/payment-intent",e),confirmPayment:e=>ce.post("/stripe/confirm",e)},dr={login:e=>ce.post("/auth/login",e),register:e=>ce.post("/auth/register",e),logout:()=>ce.post("/auth/logout"),getProfile:()=>ce.get("/auth/profile"),updateProfile:e=>ce.put("/auth/profile",e),changePassword:e=>ce.put("/auth/change-password",e),forgotPassword:e=>ce.post("/auth/forgot-password",e),resetPassword:e=>ce.post("/auth/reset-password",e)},wa={getNotifications:e=>ce.get("/notifications",{params:e}),getUnreadCount:()=>ce.get("/notifications/unread-count"),getNotification:e=>ce.get(`/notifications/${e}`),markAsRead:e=>ce.put(`/notifications/${e}/read`),markAsUnread:e=>ce.put(`/notifications/${e}/unread`),markAllAsRead:()=>ce.post("/notifications/mark-all-read"),deleteNotification:e=>ce.delete(`/notifications/${e}`),deleteAllRead:()=>ce.delete("/notifications/read")},w_=Object.freeze(Object.defineProperty({__proto__:null,accAPI:Xe,adminAPI:He,authAPI:dr,instructorAPI:Es,notificationsAPI:wa,publicAPI:Rr,stripeAPI:kv,trainingCenterAPI:Ue},Symbol.toStringTag,{value:"Module"})),zn=e=>{e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},Cp=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),Pv=f.createContext(null),jr=()=>{const e=f.useContext(Pv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},__=({children:e})=>{const[s,r]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(!1),l=f.useRef(!1),c=f.useRef(!1);f.useEffect(()=>{c.current||(c.current=!0,h())},[]);const h=async()=>{var v;if(l.current){console.log(" Auth check already in progress, skipping duplicate request");return}l.current=!0;try{if(n(!0),Cp())try{const N=await dr.getProfile();N.user?(r(N.user),o(!0)):(zn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1))}catch(N){((v=N.response)==null?void 0:v.status)===401?(zn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1)):(console.error("Profile fetch error:",N),r(null),o(!1))}else r(null),o(!1)}catch(C){console.error("Auth check failed:",C),r(null),o(!1)}finally{n(!1),l.current=!1}},d=async(v,C)=>{var N,E,S,b,A,j,z,$,w,R,D;try{const M=await dr.login({email:v,password:C});return M.token?(((N=M.user)==null?void 0:N.role)==="acc_admin"&&(((E=M.user)==null?void 0:E.status)==="pending"||((S=M.user)==null?void 0:S.status)==="inactive")?(sessionStorage.setItem("auth_token",M.token),sessionStorage.setItem("token",M.token)):zn(M.token),r(M.user),o(!0),{success:!0,data:M,isActive:((b=M.user)==null?void 0:b.status)==="active",userStatus:(A=M.user)==null?void 0:A.status}):{success:!1,error:"Login failed. Please try again."}}catch(M){console.error("Login error:",M);let P="Login failed. Please try again.";if((z=(j=M.response)==null?void 0:j.data)!=null&&z.message)P=M.response.data.message;else if((w=($=M.response)==null?void 0:$.data)!=null&&w.error)P=M.response.data.error;else if((D=(R=M.response)==null?void 0:R.data)!=null&&D.errors){const k=M.response.data.errors,I=Object.values(k)[0];P=Array.isArray(I)?I[0]:I}else M.message&&(P=M.message);return{success:!1,error:P}}},m=async(v,C,N,E,S)=>{var b,A,j,z,$,w,R,D;try{const M=await dr.register({name:v,email:C,password:N,password_confirmation:E,role:S});return M.token?(zn(M.token),r(M.user),o(!0),{success:!0,data:M,isActive:((b=M.user)==null?void 0:b.status)==="active",userStatus:(A=M.user)==null?void 0:A.status}):{success:!1,error:"Registration failed. Please try again."}}catch(M){console.error("Register error:",M);let P="Registration failed. Please try again.";if((z=(j=M.response)==null?void 0:j.data)!=null&&z.message)P=M.response.data.message;else if((w=($=M.response)==null?void 0:$.data)!=null&&w.error)P=M.response.data.error;else if((D=(R=M.response)==null?void 0:R.data)!=null&&D.errors){const k=M.response.data.errors,I=Object.values(k)[0];P=Array.isArray(I)?I[0]:I}else M.message&&(P=M.message);return{success:!1,error:P}}},p=async()=>{try{if((s==null?void 0:s.role)==="acc_admin"&&((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="inactive")){sessionStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("token"),zn(null),r(null),o(!1);return}await dr.logout()}catch(v){console.error("Logout error:",v)}finally{zn(null),r(null),o(!1),localStorage.removeItem("sidebarOpen"),localStorage.removeItem("sidebarCollapsed")}},u=v=>{r(v)},g=async v=>{var C,N;try{return{success:!0,data:await dr.forgotPassword({email:v})}}catch(E){let S="Failed to send reset email. Please try again.";return(N=(C=E.response)==null?void 0:C.data)!=null&&N.message&&(S=E.response.data.message),{success:!1,error:S}}},y=async(v,C,N,E)=>{var S,b,A,j,z,$;try{return{success:!0,data:await dr.resetPassword({token:v,email:C,password:N,password_confirmation:E})}}catch(w){let R="Failed to reset password. Please try again.";if((b=(S=w.response)==null?void 0:S.data)!=null&&b.message)R=w.response.data.message;else if((j=(A=w.response)==null?void 0:A.data)!=null&&j.error)R=w.response.data.error;else if(($=(z=w.response)==null?void 0:z.data)!=null&&$.errors){const D=w.response.data.errors,M=Object.values(D)[0];R=Array.isArray(M)?M[0]:M}return{success:!1,error:R}}},_=async()=>{try{const v=await dr.getProfile();v.user&&(r(v.user),o(!0))}catch(v){console.error("Failed to refresh user:",v)}},x=f.useMemo(()=>({user:s,loading:a,isAuthenticated:i,login:d,register:m,logout:p,updateUser:u,checkAuth:h,forgotPassword:g,resetPassword:y,refreshUser:_}),[s,a,i]);return t.jsx(Pv.Provider,{value:x,children:e})},Ev=f.createContext(null),dt=()=>{const e=f.useContext(Ev);return e||{setHeaderActions:()=>{},setHeaderTitle:()=>{},setHeaderSubtitle:()=>{},headerActions:null,headerTitle:null,headerSubtitle:null}},S_=({children:e})=>{const[s,r]=f.useState(null),[a,n]=f.useState(null),[i,o]=f.useState(null),l=f.useCallback(m=>{r(m)},[]),c=f.useCallback(m=>{n(m)},[]),h=f.useCallback(m=>{o(m)},[]),d=f.useMemo(()=>({headerActions:s,headerTitle:a,headerSubtitle:i,setHeaderActions:l,setHeaderTitle:c,setHeaderSubtitle:h}),[s,a,i]);return t.jsx(Ev.Provider,{value:d,children:e})},Tv=f.createContext(null),A_=()=>{const e=f.useContext(Tv);if(!e)throw new Error("useNotificationsContext must be used within a NotificationsProvider");return e},k_=({children:e})=>{const[s,r]=f.useState([]),[a,n]=f.useState(0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState({currentPage:1,lastPage:1,perPage:15,total:0}),m=f.useRef(!1),p=f.useRef(!1),u=f.useCallback(async(E={},S=1,b=15)=>{if(p.current){console.log(" Notifications fetch already in progress, skipping duplicate request");return}p.current=!0,o(!0),c(null);try{const A={...E,page:S,per_page:b},j=await wa.getNotifications(A);if(j.success){const z=j.notifications||[];r(z),n(j.unread_count||0),j.pagination&&d({currentPage:j.pagination.current_page||S,lastPage:j.pagination.last_page||1,perPage:j.pagination.per_page||b,total:j.pagination.total||0})}}catch(A){console.error("Failed to fetch notifications:",A),c(A.message||"Failed to fetch notifications")}finally{o(!1),p.current=!1}},[]),g=f.useCallback(async()=>{try{const E=await wa.getUnreadCount();E.success&&n(E.unread_count||0)}catch{}},[]),y=f.useCallback(async E=>{try{const S=await wa.markAsRead(E);S.success&&(r(b=>b.map(A=>{var j;return A.id===E?{...A,is_read:!0,read_at:((j=S.notification)==null?void 0:j.read_at)||new Date().toISOString()}:A})),n(b=>Math.max(0,b-1)))}catch(S){throw console.error("Failed to mark as read:",S),S}},[]),_=f.useCallback(async E=>{try{(await wa.markAsUnread(E)).success&&(r(b=>b.map(A=>A.id===E?{...A,is_read:!1,read_at:null}:A)),n(b=>b+1))}catch(S){throw console.error("Failed to mark as unread:",S),S}},[]),x=f.useCallback(async()=>{try{(await wa.markAllAsRead()).success&&(r(S=>S.map(b=>({...b,is_read:!0}))),n(0))}catch(E){throw console.error("Failed to mark all as read:",E),E}},[]),v=f.useCallback(async E=>{try{(await wa.deleteNotification(E)).success&&r(b=>{const A=b.find($=>$.id===E),j=A&&!A.is_read,z=b.filter($=>$.id!==E);return j&&n($=>Math.max(0,$-1)),z})}catch(S){throw console.error("Failed to delete notification:",S),S}},[]),C=f.useCallback(async()=>{try{(await wa.deleteAllRead()).success&&r(S=>S.filter(b=>!b.is_read))}catch(E){throw console.error("Failed to delete all read notifications:",E),E}},[]);f.useEffect(()=>{m.current||(m.current=!0,u({},1,15))},[u]);const N={notifications:s,unreadCount:a,loading:i,error:l,pagination:h,fetchNotifications:u,fetchUnreadCount:g,markAsRead:y,markAsUnread:_,markAllAsRead:x,deleteNotification:v,deleteAllRead:C,refresh:()=>u({},h.currentPage,h.perPage)};return t.jsx(Tv.Provider,{value:N,children:e})},Ja=({children:e,allowedRoles:s=[],allowPending:r=!1})=>{const{isAuthenticated:a,user:n,loading:i}=jr();return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?!r&&((n==null?void 0:n.role)==="acc_admin"||(n==null?void 0:n.role)==="training_center_admin")&&(n==null?void 0:n.status)!=="active"?t.jsx(dc,{to:"/pending-account",replace:!0}):s.length>0&&!s.includes(n==null?void 0:n.role)?t.jsx(dc,{to:"/unauthorized",replace:!0}):e:t.jsx(dc,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(e,s)=>{const r=f.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...h},d)=>f.createElement("svg",{ref:d,...P_,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${E_(e)}`,l].join(" "),...h},[...s.map(([m,p])=>f.createElement(m,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=De("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=De("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=De("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=De("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=De("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=De("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=De("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=De("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=De("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=De("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=De("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=De("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=De("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=De("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=De("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=De("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=De("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=De("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=De("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=De("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=De("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=De("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=De("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=De("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=De("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bx=()=>{const[e,s]=f.useState(!1),[r,a]=f.useState({top:0,right:0}),n=f.useRef(null),i=f.useRef(null),{notifications:o,unreadCount:l,loading:c,markAsRead:h,markAllAsRead:d,deleteNotification:m,deleteAllRead:p,fetchNotifications:u}=A_();f.useEffect(()=>{if(e&&n.current){const E=n.current.getBoundingClientRect(),S=400,b=window.innerWidth-32,A=Math.min(S,b);let j=window.innerWidth-E.right;j+A>window.innerWidth-16&&(j=16),a({top:E.bottom+12,right:j}),c||u({},1,15)}},[e]),f.useEffect(()=>{const E=S=>{n.current&&!n.current.contains(S.target)&&i.current&&!i.current.contains(S.target)&&s(!1)};return e&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[e]);const g=async E=>{if(!E.is_read)try{await h(E.id)}catch(S){console.error("Failed to mark notification as read:",S)}},y=async()=>{try{await d()}catch(E){console.error("Failed to mark all as read:",E)}},_=async(E,S)=>{E.stopPropagation();try{await m(S)}catch(b){console.error("Failed to delete notification:",b)}},x=async()=>{try{await p()}catch(E){console.error("Failed to delete all read notifications:",E)}},v=E=>{const S=new Date(E),A=Math.floor((new Date-S)/1e3);return A<60?"Just now":A<3600?`${Math.floor(A/60)}m ago`:A<86400?`${Math.floor(A/3600)}h ago`:A<604800?`${Math.floor(A/86400)}d ago`:S.toLocaleDateString()},C=o.filter(E=>!E.is_read),N=o.filter(E=>E.is_read);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"notification-bell-container",ref:n,children:t.jsxs("button",{onClick:()=>s(!e),className:"notification-bell-button","aria-label":"Notifications",children:[t.jsx(px,{size:20}),l>0&&t.jsx("span",{className:"notification-badge",children:l>99?"99+":l})]})}),e&&t.jsxs("div",{className:"notification-dropdown",ref:i,style:{top:`${r.top}px`,right:`${r.right}px`},children:[t.jsxs("div",{className:"notification-header",children:[t.jsx("h3",{className:"notification-title",children:"Notifications"}),t.jsxs("div",{className:"notification-actions",children:[l>0&&t.jsx("button",{onClick:y,className:"notification-action-btn",title:"Mark all as read",children:t.jsx(D_,{size:16})}),N.length>0&&t.jsx("button",{onClick:x,className:"notification-action-btn",title:"Delete all read",children:t.jsx(Hs,{size:16})}),t.jsx("button",{onClick:()=>s(!1),className:"notification-action-btn",title:"Close",children:t.jsx(_s,{size:16})})]})]}),t.jsx("div",{className:"notification-list",children:c&&o.length===0?t.jsx("div",{className:"notification-empty",children:t.jsx("div",{className:"notification-loading",children:"Loading notifications..."})}):o.length===0?t.jsxs("div",{className:"notification-empty",children:[t.jsx(px,{size:48,className:"notification-empty-icon"}),t.jsx("p",{className:"notification-empty-text",children:"No notifications"})]}):t.jsxs(t.Fragment,{children:[C.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Unread"}),C.map(E=>t.jsxs("div",{className:"notification-item unread",onClick:()=>g(E),children:[t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:E.title}),t.jsx("button",{onClick:S=>_(S,E.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(_s,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:E.message}),t.jsxs("div",{className:"notification-item-footer",children:[t.jsx("span",{className:"notification-item-time",children:v(E.created_at)}),t.jsx("div",{className:"notification-item-actions",children:t.jsx("button",{onClick:S=>{S.stopPropagation(),h(E.id)},className:"notification-item-action",title:"Mark as read",children:t.jsx(M_,{size:14})})})]})]}),t.jsx("div",{className:"notification-indicator"})]},E.id))]}),N.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Read"}),N.map(E=>t.jsx("div",{className:"notification-item",onClick:()=>g(E),children:t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:E.title}),t.jsx("button",{onClick:S=>_(S,E.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(_s,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:E.message}),t.jsx("div",{className:"notification-item-footer",children:t.jsx("span",{className:"notification-item-time",children:v(E.created_at)})})]})},E.id))]})]})})]})]})},In=({children:e})=>{var A;const{user:s,logout:r}=jr(),{headerActions:a,headerTitle:n,headerSubtitle:i}=dt(),o=$r(),l=Ya(),[c,h]=f.useState(null),[d,m]=f.useState(!1);f.useEffect(()=>{(async()=>{var z;if((s==null?void 0:s.role)==="instructor")try{const $=await Es.getDashboard(),w=((z=$==null?void 0:$.profile)==null?void 0:z.is_assessor)||($==null?void 0:$.is_assessor)||!1;m(w===!0||w==="true"||w===1)}catch($){console.error("Failed to load instructor assessor status:",$),m((s==null?void 0:s.is_assessor)===!0||(s==null?void 0:s.is_assessor)==="true"||(s==null?void 0:s.is_assessor)===1)}else m(!1)})()},[s]);const[p,u]=f.useState(()=>{const j=localStorage.getItem("sidebarOpen");return j!==null?JSON.parse(j):!0}),[g,y]=f.useState(()=>{const j=localStorage.getItem("sidebarCollapsed");return j!==null?JSON.parse(j):!1}),[_,x]=f.useState(()=>{const j=localStorage.getItem("expandedGroups");return j?JSON.parse(j):{}});f.useEffect(()=>{localStorage.setItem("expandedGroups",JSON.stringify(_))},[_]);const v=j=>{x(z=>({...z,[j]:!z[j]}))};if(f.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(p))},[p]),f.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(g))},[g]),f.useEffect(()=>{s&&(async()=>{if((s==null?void 0:s.role)==="acc_admin")try{const $=(await Xe.getSubscription()).subscription;if($&&$.subscription_end_date){const w=new Date($.subscription_end_date);h(w>new Date)}else h(!1)}catch(z){console.error("Failed to load subscription:",z),h(!1)}else h(!0)})()},[s]),l.pathname==="/pending-account")return e;f.useEffect(()=>{(s==null?void 0:s.role)==="acc_admin"&&c===!1&&(["/acc/subscription","/profile"].some(z=>l.pathname.startsWith(z))||o("/acc/subscription"))},[s,c,l.pathname,o]);const C=async()=>{await r(),o("/login")},E=(()=>{const j=[{type:"single",path:"/dashboard",icon:B_,label:"Dashboard"}];switch(s==null?void 0:s.role){case"group_admin":return[...j,{type:"group",key:"acc-management",icon:Qe,label:"ACC Management",items:[{path:"/admin/accs",icon:fx,label:"ACC Applications"},{path:"/admin/training-center-applications",icon:fx,label:"TC Applications"},{path:"/admin/all-accs",icon:Qe,label:"Accreditation Bodies"}]},{type:"group",key:"training-management",icon:ft,label:"Training & Instructors",items:[{path:"/admin/all-training-centers",icon:Zo,label:"Training Centers"},{path:"/admin/all-instructors",icon:ft,label:"Instructors"},{path:"/admin/instructor-authorizations",icon:li,label:"Instructor Commissions"}]},{type:"group",key:"courses-management",icon:Ns,label:"Courses & Categories",items:[{path:"/admin/all-courses",icon:Ns,label:"Courses"},{path:"/admin/categories",icon:gx,label:"Course Categories"}]},{type:"group",key:"financial-settings",icon:Er,label:"Financial & Settings",items:[{path:"/admin/payment-transactions",icon:Zr,label:"Payment Transactions"},{path:"/admin/pending-payments",icon:Ge,label:"Pending Payments"},{path:"/admin/stripe-settings",icon:K_,label:"Stripe Settings"}]}];case"acc_admin":return c===!1?[{type:"single",path:"/acc/subscription",icon:Er,label:"Subscription"}]:[...j,{type:"single",path:"/acc/subscription",icon:Er,label:"Subscription"},{type:"group",key:"management",icon:ft,label:"Management",items:[{path:"/acc/training-centers",icon:Qe,label:"Training Centers"},{path:"/acc/instructors",icon:ft,label:"Instructors"}]},{type:"group",key:"courses-content",icon:Ns,label:"Courses & Content",items:[{path:"/acc/courses",icon:Ns,label:"Courses"},{path:"/acc/classes",icon:Zo,label:"Classes"},{path:"/acc/certificates",icon:rr,label:"Certificates"},{path:"/acc/discount-codes",icon:ji,label:"Discount Codes"},{path:"/acc/categories",icon:gx,label:"Course Categories"}]},{type:"group",key:"financial",icon:Er,label:"Financial",items:[{path:"/acc/payment-transactions",icon:Zr,label:"Payment Transactions"},{path:"/acc/pending-payments",icon:Ge,label:"Pending Payments"}]}];case"training_center_admin":return[...j,{type:"single",path:"/training-center/accs",icon:Qe,label:"Accreditation Bodies"},{type:"group",key:"people-management",icon:ft,label:"People Management",items:[{path:"/training-center/instructors",icon:ft,label:"Instructors"},{path:"/training-center/trainees",icon:li,label:"Trainees"},{path:"/training-center/instructor-authorizations",icon:li,label:"Instructor Auth"}]},{type:"group",key:"courses-classes",icon:Ns,label:"Courses & Classes",items:[{path:"/training-center/classes",icon:Ns,label:"Classes"},{path:"/training-center/certificates",icon:rr,label:"Certificates"}]},{type:"group",key:"financial",icon:Q_,label:"Financial",items:[{path:"/training-center/codes",icon:ji,label:"Codes"},{path:"/training-center/payment-transactions",icon:Zr,label:"Payment Transactions"}]}];case"instructor":return[...j,{type:"single",path:"/instructor/classes",icon:Ns,label:"Classes"}];default:return j}})(),S=()=>{if(n)return n;const j=l.pathname;if(j==="/dashboard")return"Dashboard";if(j==="/admin/accs")return"ACC Applications";if(j==="/admin/training-center-applications")return"TC Applications";if(j==="/admin/all-accs")return"Accreditation Bodies";if(j==="/admin/all-training-centers")return"Training Centers";if(j==="/admin/all-instructors")return"Instructors";if(j==="/admin/all-courses")return"Courses";if(j==="/admin/categories")return"Course Categories";if(j==="/admin/instructor-authorizations")return"Instructor Commissions";if(j==="/admin/payment-transactions")return"Payment Transactions";if(j==="/admin/pending-payments")return"Pending Payments";if(j==="/admin/stripe-settings")return"Stripe Settings";if(j==="/acc/dashboard")return"Dashboard";if(j==="/acc/subscription")return"Subscription Management";if(j==="/acc/training-centers")return"Training Centers";if(j==="/acc/instructors")return"Instructors";if(j==="/acc/courses")return"Courses";if(j==="/acc/certificates")return"Certificates";if(j==="/acc/materials")return"Materials";if(j==="/acc/discount-codes")return"Discount Codes";if(j==="/acc/categories")return"Course Categories";if(j==="/acc/classes")return"Classes";if(j==="/acc/payment-transactions")return"Payment Transactions";if(j==="/acc/pending-payments")return"Pending Payments";if(j==="/training-center/dashboard")return"Dashboard";if(j==="/training-center/accs")return"Accreditation Bodies";if(j==="/training-center/instructors")return"Instructors";if(j==="/training-center/trainees")return"Trainees";if(j==="/training-center/classes")return"Classes";if(j==="/training-center/codes")return"Codes";if(j==="/training-center/certificates")return"Certificates";if(j==="/training-center/instructor-authorizations")return"Instructor Authorizations";if(j==="/training-center/payment-transactions"||j==="/training-center/wallet")return"Payment Transactions";if(j==="/training-center/marketplace")return"Marketplace";if(j==="/instructor/dashboard")return"Dashboard";if(j==="/instructor/classes")return"Classes";if(j==="/instructor/materials")return"Materials";if(j==="/instructor/earnings")return"Earnings";if(j==="/profile")return"Profile";const z=j.split("/").filter(Boolean);return z.length>0?z[z.length-1].split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "):"Dashboard"},b=()=>{if(i)return i;const j=l.pathname;return j==="/dashboard"||j==="/acc/dashboard"||j==="/training-center/dashboard"||j==="/instructor/dashboard"?"Welcome back! Here's your overview":j==="/profile"?"Manage your account settings and preferences":"Manage and view your information"};return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-sm shadow-lg px-4 py-3 flex items-center justify-between layout-gradient-primary",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(Tn,{to:"/profile",className:"flex items-center gap-2 transition-all duration-200 hover:opacity-80",children:[t.jsx("span",{className:"text-white font-bold text-sm",children:(s==null?void 0:s.name)||"User"}),t.jsx("div",{className:"p-1 transition-all duration-200",title:"Profile Settings",children:t.jsx(ms,{size:16,className:"text-white"})})]}),t.jsx(bx,{}),t.jsx("button",{onClick:()=>u(!p),className:"p-2 rounded-lg text-white/80 sidebar-hover transition-all duration-200 hover:scale-110",children:p?t.jsx(_s,{size:24}):t.jsx(q_,{size:24})})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 border-r shadow-xl lg:shadow-none transform transition-all duration-300 ease-out layout-gradient-sidebar ${p?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${g?"w-16":"w-64"}`,style:{overflow:"visible"},children:t.jsxs("div",{className:"flex flex-col h-full max-h-screen overflow-visible",children:[t.jsx("div",{className:`flex-shrink-0 border-b animate-slide-down layout-section-bg ${g?"p-3":"p-4"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[!g&&t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsx("p",{className:"text-xs text-primary-200 mt-1 capitalize",children:(s==null?void 0:s.role)==="instructor"?d?"Assessor":"Instructor":((A=s==null?void 0:s.role)==null?void 0:A.replace("_"," "))||""})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>y(!g),className:`p-1.5 rounded-lg text-white/70 sidebar-hover transition-all duration-200 hover:scale-110 ${g?"w-full flex justify-center":""}`,title:g?"Expand sidebar":"Collapse sidebar",children:g?t.jsx(Fv,{size:16}):t.jsx(Rv,{size:16})})})]})}),t.jsx("nav",{className:`flex-1 min-h-0 ${g?"p-2 overflow-visible":"p-4 overflow-y-auto custom-scrollbar"}`,style:g?{overflowX:"visible",overflowY:"visible"}:{overflowX:"visible"},children:t.jsx("ul",{className:"space-y-1.5",style:{overflow:"visible"},children:E.map((j,z)=>{if(j.type==="single"){const $=j.icon,w=l.pathname===j.path;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${z*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx(Tn,{to:j.path,onClick:()=>{u(!1),y(!1)},className:`flex items-center rounded-xl transition-all duration-200 ease-out relative px-2 py-2 justify-center w-full group-hover-trigger ${w?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:bg-white/10"}`,children:$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 ${w?"scale-110":"group-hover:scale-110"}`})}),t.jsx("div",{className:"sidebar-tooltip",children:j.label})]}):t.jsxs(Tn,{to:j.path,onClick:()=>u(!1),className:`flex items-center rounded-xl transition-all duration-200 ease-out relative group px-4 py-3 min-w-0 ${w?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:scale-105 hover:shadow-md"}`,children:[$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 mr-3 ${w?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:j.label}),w&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"}),!w&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white/50 rounded-r-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},`${j.path}-${z}`)}else if(j.type==="group"){const $=j.icon,w=j.items.some(D=>l.pathname===D.path),R=_[j.key]!==!1;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${z*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx("button",{onClick:()=>y(!1),className:"px-2 py-2 flex justify-center w-full rounded-xl transition-all duration-200 hover:bg-white/10 nav-item-hover group-hover-trigger",children:t.jsx($,{size:20,className:"text-white/80"})}),t.jsx("div",{className:"sidebar-tooltip",children:j.label})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>v(j.key),className:`w-full flex items-center px-3 py-2 rounded-xl transition-all duration-200 ease-out relative group ${w?"bg-white/10 backdrop-blur-sm":"text-white/80 nav-item-hover hover:bg-white/5"}`,children:[$&&t.jsx($,{size:20,className:"transition-all duration-200 flex-shrink-0 mr-3 group-hover:scale-110 text-white/80"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap flex-1 min-w-0 text-left text-white/80",children:j.label}),R?t.jsx(Ld,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"}):t.jsx(Md,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"})]}),R&&t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 pl-3 border-l-2 border-white/10",children:j.items.map((D,M)=>{const P=D.icon,k=l.pathname===D.path;return t.jsx("li",{children:t.jsxs(Tn,{to:D.path,onClick:()=>u(!1),className:`flex items-center px-2 py-1.5 rounded-lg transition-all duration-200 ease-out relative group ${k?"text-[var(--tertiary-color)]":"text-white/70 nav-item-hover hover:bg-white/10 hover:text-white"}`,children:[P&&t.jsx(P,{size:18,className:"transition-all duration-200 flex-shrink-0 mr-2.5 group-hover:scale-110"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:D.label}),k&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"})]})},`${D.path}-${M}`)})})]})},j.key)}return null})})}),t.jsxs("div",{className:"flex-shrink-0 p-3 border-t animate-slide-up layout-section-bg",children:[t.jsxs(Tn,{to:"/profile",className:`flex items-center px-3 py-2 rounded-lg text-white/80 sidebar-hover mb-1.5 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Settings":"",children:[t.jsx(H_,{size:16,className:`transition-transform duration-200 group-hover:rotate-90 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),t.jsxs("button",{onClick:C,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-300 hover:bg-red-500/20 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Logout":"",children:[t.jsx(Dv,{size:16,className:`transition-transform duration-200 group-hover:translate-x-1 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300 overflow-y-auto h-screen lg:ml-0",children:[t.jsx("header",{className:"sticky top-0 z-30 w-full px-8",children:t.jsxs("div",{className:"rounded-b-2xl shadow-xl p-4 lg:p-6 relative overflow-hidden screen-header-gradient",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 screen-pattern-overlay"}),t.jsxs("div",{className:"relative z-10 flex flex-col gap-1",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:S()}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:b()})]}),t.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[t.jsxs(Tn,{to:"/profile",className:"flex items-center gap-2 transition-all duration-200 cursor-pointer group hover:opacity-80",children:[t.jsx("span",{className:"text-white font-bold text-base",children:(s==null?void 0:s.name)||"User"}),t.jsx("div",{className:"p-1.5 transition-all duration-200 group-hover:scale-110",title:"Profile Settings",children:t.jsx(ms,{size:20,className:"text-white"})})]}),t.jsx(bx,{})]})]}),a&&t.jsx("div",{className:"flex items-center justify-end gap-2 scale-90 origin-top-right",children:a})]})]})}),t.jsx("main",{className:"p-4 lg:p-9 animate-fade-in min-h-full",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden animate-fade-in",onClick:()=>u(!1)})]})},el={black:"#000",white:"#fff"},Rn={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fn={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Dn={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$n={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Mn={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Yi={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Y_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ya(e,...s){const r=new URL(`https://mui.com/production-error/?code=${e}`);return s.forEach(a=>r.searchParams.append("args[]",a)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Od="$$material";function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xc.apply(null,arguments)}function J_(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]}function X_(e){var s=document.createElement("style");return s.setAttribute("data-emotion",e.key),e.nonce!==void 0&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var Z_=function(){function e(r){var a=this;this._insertTag=function(n){var i;a.tags.length===0?a.insertionPoint?i=a.insertionPoint.nextSibling:a.prepend?i=a.container.firstChild:i=a.before:i=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(n,i),a.tags.push(n)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var s=e.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(X_(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=J_(n);try{i.insertRule(a,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var n;return(n=a.parentNode)==null?void 0:n.removeChild(a)}),this.tags=[],this.ctr=0},e}(),bs="-ms-",Zc="-moz-",yt="-webkit-",Mv="comm",Zf="rule",eh="decl",eS="@import",Lv="@keyframes",tS="@layer",sS=Math.abs,Ud=String.fromCharCode,rS=Object.assign;function aS(e,s){return ds(e,0)^45?(((s<<2^ds(e,0))<<2^ds(e,1))<<2^ds(e,2))<<2^ds(e,3):0}function Iv(e){return e.trim()}function nS(e,s){return(e=s.exec(e))?e[0]:e}function bt(e,s,r){return e.replace(s,r)}function Sp(e,s){return e.indexOf(s)}function ds(e,s){return e.charCodeAt(s)|0}function tl(e,s,r){return e.slice(s,r)}function Vr(e){return e.length}function th(e){return e.length}function Wl(e,s){return s.push(e),e}function iS(e,s){return e.map(s).join("")}var Bd=1,Ni=1,Ov=0,Ks=0,Xt=0,$i="";function qd(e,s,r,a,n,i,o){return{value:e,root:s,parent:r,type:a,props:n,children:i,line:Bd,column:Ni,length:o,return:""}}function Ji(e,s){return rS(qd("",null,null,"",null,null,0),e,{length:-e.length},s)}function oS(){return Xt}function lS(){return Xt=Ks>0?ds($i,--Ks):0,Ni--,Xt===10&&(Ni=1,Bd--),Xt}function ar(){return Xt=Ks<Ov?ds($i,Ks++):0,Ni++,Xt===10&&(Ni=1,Bd++),Xt}function ea(){return ds($i,Ks)}function hc(){return Ks}function fl(e,s){return tl($i,e,s)}function sl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Uv(e){return Bd=Ni=1,Ov=Vr($i=e),Ks=0,[]}function Bv(e){return $i="",e}function gc(e){return Iv(fl(Ks-1,Ap(e===91?e+2:e===40?e+1:e)))}function cS(e){for(;(Xt=ea())&&Xt<33;)ar();return sl(e)>2||sl(Xt)>3?"":" "}function dS(e,s){for(;--s&&ar()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return fl(e,hc()+(s<6&&ea()==32&&ar()==32))}function Ap(e){for(;ar();)switch(Xt){case e:return Ks;case 34:case 39:e!==34&&e!==39&&Ap(Xt);break;case 40:e===41&&Ap(e);break;case 92:ar();break}return Ks}function uS(e,s){for(;ar()&&e+Xt!==57;)if(e+Xt===84&&ea()===47)break;return"/*"+fl(s,Ks-1)+"*"+Ud(e===47?e:ar())}function mS(e){for(;!sl(ea());)ar();return fl(e,Ks)}function pS(e){return Bv(xc("",null,null,null,[""],e=Uv(e),0,[0],e))}function xc(e,s,r,a,n,i,o,l,c){for(var h=0,d=0,m=o,p=0,u=0,g=0,y=1,_=1,x=1,v=0,C="",N=n,E=i,S=a,b=C;_;)switch(g=v,v=ar()){case 40:if(g!=108&&ds(b,m-1)==58){Sp(b+=bt(gc(v),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:b+=gc(v);break;case 9:case 10:case 13:case 32:b+=cS(g);break;case 92:b+=dS(hc()-1,7);continue;case 47:switch(ea()){case 42:case 47:Wl(fS(uS(ar(),hc()),s,r),c);break;default:b+="/"}break;case 123*y:l[h++]=Vr(b)*x;case 125*y:case 59:case 0:switch(v){case 0:case 125:_=0;case 59+d:x==-1&&(b=bt(b,/\f/g,"")),u>0&&Vr(b)-m&&Wl(u>32?jx(b+";",a,r,m-1):jx(bt(b," ","")+";",a,r,m-2),c);break;case 59:b+=";";default:if(Wl(S=vx(b,s,r,h,d,n,l,C,N=[],E=[],m),i),v===123)if(d===0)xc(b,s,S,S,N,i,m,l,E);else switch(p===99&&ds(b,3)===110?100:p){case 100:case 108:case 109:case 115:xc(e,S,S,a&&Wl(vx(e,S,S,0,0,n,l,C,n,N=[],m),E),n,E,m,l,a?N:E);break;default:xc(b,S,S,S,[""],E,0,l,E)}}h=d=u=0,y=x=1,C=b="",m=o;break;case 58:m=1+Vr(b),u=g;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&lS()==125)continue}switch(b+=Ud(v),v*y){case 38:x=d>0?1:(b+="\f",-1);break;case 44:l[h++]=(Vr(b)-1)*x,x=1;break;case 64:ea()===45&&(b+=gc(ar())),p=ea(),d=m=Vr(C=b+=mS(hc())),v++;break;case 45:g===45&&Vr(b)==2&&(y=0)}}return i}function vx(e,s,r,a,n,i,o,l,c,h,d){for(var m=n-1,p=n===0?i:[""],u=th(p),g=0,y=0,_=0;g<a;++g)for(var x=0,v=tl(e,m+1,m=sS(y=o[g])),C=e;x<u;++x)(C=Iv(y>0?p[x]+" "+v:bt(v,/&\f/g,p[x])))&&(c[_++]=C);return qd(e,s,r,n===0?Zf:l,c,h,d)}function fS(e,s,r){return qd(e,s,r,Mv,Ud(oS()),tl(e,2,-2),0)}function jx(e,s,r,a){return qd(e,s,r,eh,tl(e,0,a),tl(e,a+1,-1),a)}function ci(e,s){for(var r="",a=th(e),n=0;n<a;n++)r+=s(e[n],n,e,s)||"";return r}function hS(e,s,r,a){switch(e.type){case tS:if(e.children.length)break;case eS:case eh:return e.return=e.return||e.value;case Mv:return"";case Lv:return e.return=e.value+"{"+ci(e.children,a)+"}";case Zf:e.value=e.props.join(",")}return Vr(r=ci(e.children,a))?e.return=e.value+"{"+r+"}":""}function gS(e){var s=th(e);return function(r,a,n,i){for(var o="",l=0;l<s;l++)o+=e[l](r,a,n,i)||"";return o}}function xS(e){return function(s){s.root||(s=s.return)&&e(s)}}function qv(e){var s=Object.create(null);return function(r){return s[r]===void 0&&(s[r]=e(r)),s[r]}}var yS=function(s,r,a){for(var n=0,i=0;n=i,i=ea(),n===38&&i===12&&(r[a]=1),!sl(i);)ar();return fl(s,Ks)},bS=function(s,r){var a=-1,n=44;do switch(sl(n)){case 0:n===38&&ea()===12&&(r[a]=1),s[a]+=yS(Ks-1,r,a);break;case 2:s[a]+=gc(n);break;case 4:if(n===44){s[++a]=ea()===58?"&\f":"",r[a]=s[a].length;break}default:s[a]+=Ud(n)}while(n=ar());return s},vS=function(s,r){return Bv(bS(Uv(s),r))},Nx=new WeakMap,jS=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var r=s.value,a=s.parent,n=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&r.charCodeAt(0)!==58&&!Nx.get(a))&&!n){Nx.set(s,!0);for(var i=[],o=vS(r,i),l=a.props,c=0,h=0;c<o.length;c++)for(var d=0;d<l.length;d++,h++)s.props[h]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},NS=function(s){if(s.type==="decl"){var r=s.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(s.return="",s.value="")}};function Wv(e,s){switch(aS(e,s)){case 5103:return yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+e+Zc+e+bs+e+e;case 6828:case 4268:return yt+e+bs+e+e;case 6165:return yt+e+bs+"flex-"+e+e;case 5187:return yt+e+bt(e,/(\w+).+(:[^]+)/,yt+"box-$1$2"+bs+"flex-$1$2")+e;case 5443:return yt+e+bs+"flex-item-"+bt(e,/flex-|-self/,"")+e;case 4675:return yt+e+bs+"flex-line-pack"+bt(e,/align-content|flex-|-self/,"")+e;case 5548:return yt+e+bs+bt(e,"shrink","negative")+e;case 5292:return yt+e+bs+bt(e,"basis","preferred-size")+e;case 6060:return yt+"box-"+bt(e,"-grow","")+yt+e+bs+bt(e,"grow","positive")+e;case 4554:return yt+bt(e,/([^-])(transform)/g,"$1"+yt+"$2")+e;case 6187:return bt(bt(bt(e,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),e,"")+e;case 5495:case 3959:return bt(e,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return bt(bt(e,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+e+e;case 4095:case 3583:case 4068:case 2532:return bt(e,/(.+)-inline(.+)/,yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vr(e)-1-s>6)switch(ds(e,s+1)){case 109:if(ds(e,s+4)!==45)break;case 102:return bt(e,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+Zc+(ds(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~Sp(e,"stretch")?Wv(bt(e,"stretch","fill-available"),s)+e:e}break;case 4949:if(ds(e,s+1)!==115)break;case 6444:switch(ds(e,Vr(e)-3-(~Sp(e,"!important")&&10))){case 107:return bt(e,":",":"+yt)+e;case 101:return bt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(ds(e,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+bs+"$2box$3")+e}break;case 5936:switch(ds(e,s+11)){case 114:return yt+e+bs+bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yt+e+bs+bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yt+e+bs+bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return yt+e+bs+e+e}return e}var CS=function(s,r,a,n){if(s.length>-1&&!s.return)switch(s.type){case eh:s.return=Wv(s.value,s.length);break;case Lv:return ci([Ji(s,{value:bt(s.value,"@","@"+yt)})],n);case Zf:if(s.length)return iS(s.props,function(i){switch(nS(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ci([Ji(s,{props:[bt(i,/:(read-\w+)/,":"+Zc+"$1")]})],n);case"::placeholder":return ci([Ji(s,{props:[bt(i,/:(plac\w+)/,":"+yt+"input-$1")]}),Ji(s,{props:[bt(i,/:(plac\w+)/,":"+Zc+"$1")]}),Ji(s,{props:[bt(i,/:(plac\w+)/,bs+"input-$1")]})],n)}return""})}},wS=[CS],_S=function(s){var r=s.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var n=s.stylisPlugins||wS,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),x=1;x<_.length;x++)i[_[x]]=!0;l.push(y)});var c,h=[jS,NS];{var d,m=[hS,xS(function(y){d.insert(y)})],p=gS(h.concat(n,m)),u=function(_){return ci(pS(_),p)};c=function(_,x,v,C){d=v,u(_?_+"{"+x.styles+"}":x.styles),C&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new Z_({key:r,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return g.sheet.hydrate(l),g},Vv={exports:{}},St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=typeof Symbol=="function"&&Symbol.for,sh=ns?Symbol.for("react.element"):60103,rh=ns?Symbol.for("react.portal"):60106,Wd=ns?Symbol.for("react.fragment"):60107,Vd=ns?Symbol.for("react.strict_mode"):60108,Hd=ns?Symbol.for("react.profiler"):60114,Gd=ns?Symbol.for("react.provider"):60109,Kd=ns?Symbol.for("react.context"):60110,ah=ns?Symbol.for("react.async_mode"):60111,Qd=ns?Symbol.for("react.concurrent_mode"):60111,Yd=ns?Symbol.for("react.forward_ref"):60112,Jd=ns?Symbol.for("react.suspense"):60113,SS=ns?Symbol.for("react.suspense_list"):60120,Xd=ns?Symbol.for("react.memo"):60115,Zd=ns?Symbol.for("react.lazy"):60116,AS=ns?Symbol.for("react.block"):60121,kS=ns?Symbol.for("react.fundamental"):60117,PS=ns?Symbol.for("react.responder"):60118,ES=ns?Symbol.for("react.scope"):60119;function cr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case sh:switch(e=e.type,e){case ah:case Qd:case Wd:case Hd:case Vd:case Jd:return e;default:switch(e=e&&e.$$typeof,e){case Kd:case Yd:case Zd:case Xd:case Gd:return e;default:return s}}case rh:return s}}}function Hv(e){return cr(e)===Qd}St.AsyncMode=ah;St.ConcurrentMode=Qd;St.ContextConsumer=Kd;St.ContextProvider=Gd;St.Element=sh;St.ForwardRef=Yd;St.Fragment=Wd;St.Lazy=Zd;St.Memo=Xd;St.Portal=rh;St.Profiler=Hd;St.StrictMode=Vd;St.Suspense=Jd;St.isAsyncMode=function(e){return Hv(e)||cr(e)===ah};St.isConcurrentMode=Hv;St.isContextConsumer=function(e){return cr(e)===Kd};St.isContextProvider=function(e){return cr(e)===Gd};St.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sh};St.isForwardRef=function(e){return cr(e)===Yd};St.isFragment=function(e){return cr(e)===Wd};St.isLazy=function(e){return cr(e)===Zd};St.isMemo=function(e){return cr(e)===Xd};St.isPortal=function(e){return cr(e)===rh};St.isProfiler=function(e){return cr(e)===Hd};St.isStrictMode=function(e){return cr(e)===Vd};St.isSuspense=function(e){return cr(e)===Jd};St.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wd||e===Qd||e===Hd||e===Vd||e===Jd||e===SS||typeof e=="object"&&e!==null&&(e.$$typeof===Zd||e.$$typeof===Xd||e.$$typeof===Gd||e.$$typeof===Kd||e.$$typeof===Yd||e.$$typeof===kS||e.$$typeof===PS||e.$$typeof===ES||e.$$typeof===AS)};St.typeOf=cr;Vv.exports=St;var TS=Vv.exports,Gv=TS,zS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kv={};Kv[Gv.ForwardRef]=zS;Kv[Gv.Memo]=RS;var FS=!0;function Qv(e,s,r){var a="";return r.split(" ").forEach(function(n){e[n]!==void 0?s.push(e[n]+";"):n&&(a+=n+" ")}),a}var nh=function(s,r,a){var n=s.key+"-"+r.name;(a===!1||FS===!1)&&s.registered[n]===void 0&&(s.registered[n]=r.styles)},ih=function(s,r,a){nh(s,r,a);var n=s.key+"-"+r.name;if(s.inserted[r.name]===void 0){var i=r;do s.insert(r===i?"."+n:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function DS(e){for(var s=0,r,a=0,n=e.length;n>=4;++a,n-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,s=(r&65535)*1540483477+((r>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(n){case 3:s^=(e.charCodeAt(a+2)&255)<<16;case 2:s^=(e.charCodeAt(a+1)&255)<<8;case 1:s^=e.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var $S={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MS=/[A-Z]|^ms/g,LS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yv=function(s){return s.charCodeAt(1)===45},Cx=function(s){return s!=null&&typeof s!="boolean"},am=qv(function(e){return Yv(e)?e:e.replace(MS,"-$&").toLowerCase()}),wx=function(s,r){switch(s){case"animation":case"animationName":if(typeof r=="string")return r.replace(LS,function(a,n,i){return Hr={name:n,styles:i,next:Hr},n})}return $S[s]!==1&&!Yv(s)&&typeof r=="number"&&r!==0?r+"px":r};function rl(e,s,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var n=r;if(n.anim===1)return Hr={name:n.name,styles:n.styles,next:Hr},n.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Hr={name:o.name,styles:o.styles,next:Hr},o=o.next;var l=i.styles+";";return l}return IS(e,s,r)}case"function":{if(e!==void 0){var c=Hr,h=r(e);return Hr=c,rl(e,s,h)}break}}var d=r;if(s==null)return d;var m=s[d];return m!==void 0?m:d}function IS(e,s,r){var a="";if(Array.isArray(r))for(var n=0;n<r.length;n++)a+=rl(e,s,r[n])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?a+=i+"{"+s[l]+"}":Cx(l)&&(a+=am(i)+":"+wx(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)Cx(o[c])&&(a+=am(i)+":"+wx(i,o[c])+";");else{var h=rl(e,s,o);switch(i){case"animation":case"animationName":{a+=am(i)+":"+h+";";break}default:a+=i+"{"+h+"}"}}}return a}var _x=/label:\s*([^\s;{]+)\s*(;|$)/g,Hr;function hl(e,s,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,n="";Hr=void 0;var i=e[0];if(i==null||i.raw===void 0)a=!1,n+=rl(r,s,i);else{var o=i;n+=o[0]}for(var l=1;l<e.length;l++)if(n+=rl(r,s,e[l]),a){var c=i;n+=c[l]}_x.lastIndex=0;for(var h="",d;(d=_x.exec(n))!==null;)h+="-"+d[1];var m=DS(n)+h;return{name:m,styles:n,next:Hr}}var OS=function(s){return s()},Jv=Nc.useInsertionEffect?Nc.useInsertionEffect:!1,Xv=Jv||OS,Sx=Jv||f.useLayoutEffect,Zv=f.createContext(typeof HTMLElement<"u"?_S({key:"css"}):null);Zv.Provider;var oh=function(s){return f.forwardRef(function(r,a){var n=f.useContext(Zv);return s(r,n,a)})},eu=f.createContext({}),lh={}.hasOwnProperty,kp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",US=function(s,r){var a={};for(var n in r)lh.call(r,n)&&(a[n]=r[n]);return a[kp]=s,a},BS=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return nh(r,a,n),Xv(function(){return ih(r,a,n)}),null},qS=oh(function(e,s,r){var a=e.css;typeof a=="string"&&s.registered[a]!==void 0&&(a=s.registered[a]);var n=e[kp],i=[a],o="";typeof e.className=="string"?o=Qv(s.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=hl(i,void 0,f.useContext(eu));o+=s.key+"-"+l.name;var c={};for(var h in e)lh.call(e,h)&&h!=="css"&&h!==kp&&(c[h]=e[h]);return c.className=o,r&&(c.ref=r),f.createElement(f.Fragment,null,f.createElement(BS,{cache:s,serialized:l,isStringTag:typeof n=="string"}),f.createElement(n,c))}),WS=qS,Ax=function(s,r){var a=arguments;if(r==null||!lh.call(r,"css"))return f.createElement.apply(void 0,a);var n=a.length,i=new Array(n);i[0]=WS,i[1]=US(s,r);for(var o=2;o<n;o++)i[o]=a[o];return f.createElement.apply(null,i)};(function(e){var s;s||(s=e.JSX||(e.JSX={}))})(Ax||(Ax={}));var VS=oh(function(e,s){var r=e.styles,a=hl([r],void 0,f.useContext(eu)),n=f.useRef();return Sx(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+a.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),n.current=[o,l],function(){o.flush()}},[s]),Sx(function(){var i=n.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(a.next!==void 0&&ih(s,a.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",a,o,!1)},[s,a.name]),null});function ch(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return hl(s)}function gl(){var e=ch.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var HS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GS=qv(function(e){return HS.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),KS=GS,QS=function(s){return s!=="theme"},kx=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?KS:QS},Px=function(s,r,a){var n;if(r){var i=r.shouldForwardProp;n=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&a&&(n=s.__emotion_forwardProp),n},YS=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return nh(r,a,n),Xv(function(){return ih(r,a,n)}),null},JS=function e(s,r){var a=s.__emotion_real===s,n=a&&s.__emotion_base||s,i,o;r!==void 0&&(i=r.label,o=r.target);var l=Px(s,r,a),c=l||kx(n),h=!c("as");return function(){var d=arguments,m=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&m.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)m.push.apply(m,d);else{var p=d[0];m.push(p[0]);for(var u=d.length,g=1;g<u;g++)m.push(d[g],p[g])}var y=oh(function(_,x,v){var C=h&&_.as||n,N="",E=[],S=_;if(_.theme==null){S={};for(var b in _)S[b]=_[b];S.theme=f.useContext(eu)}typeof _.className=="string"?N=Qv(x.registered,E,_.className):_.className!=null&&(N=_.className+" ");var A=hl(m.concat(E),x.registered,S);N+=x.key+"-"+A.name,o!==void 0&&(N+=" "+o);var j=h&&l===void 0?kx(C):c,z={};for(var $ in _)h&&$==="as"||j($)&&(z[$]=_[$]);return z.className=N,v&&(z.ref=v),f.createElement(f.Fragment,null,f.createElement(YS,{cache:x,serialized:A,isStringTag:typeof C=="string"}),f.createElement(C,z))});return y.displayName=i!==void 0?i:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",y.defaultProps=s.defaultProps,y.__emotion_real=y,y.__emotion_base=n,y.__emotion_styles=m,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(_,x){var v=e(_,Xc({},r,x,{shouldForwardProp:Px(y,x,!0)}));return v.apply(void 0,m)},y}},XS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Pp=JS.bind(null);XS.forEach(function(e){Pp[e]=Pp(e)});var ej={exports:{}},ZS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eA=ZS,tA=eA;function tj(){}function sj(){}sj.resetWarningCache=tj;var sA=function(){function e(a,n,i,o,l,c){if(c!==tA){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function s(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:sj,resetWarningCache:tj};return r.PropTypes=r,r};ej.exports=sA();var rA=ej.exports;const Et=Hp(rA);function aA(e){return e==null||Object.keys(e).length===0}function nA(e){const{styles:s,defaultTheme:r={}}=e,a=typeof s=="function"?n=>s(aA(n)?r:n):s;return t.jsx(VS,{styles:a})}function rj(e,s){return Pp(e,s)}function iA(e,s){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=s(e.__emotion_styles))}const Ex=[];function Ua(e){return Ex[0]=e,hl(Ex)}var aj={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Symbol.for("react.transitional.element"),uh=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),ru=Symbol.for("react.profiler"),au=Symbol.for("react.consumer"),nu=Symbol.for("react.context"),iu=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),cu=Symbol.for("react.memo"),du=Symbol.for("react.lazy"),oA=Symbol.for("react.view_transition"),lA=Symbol.for("react.client.reference");function Nr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case dh:switch(e=e.type,e){case tu:case ru:case su:case ou:case lu:case oA:return e;default:switch(e=e&&e.$$typeof,e){case nu:case iu:case du:case cu:return e;case au:return e;default:return s}}case uh:return s}}}zt.ContextConsumer=au;zt.ContextProvider=nu;zt.Element=dh;zt.ForwardRef=iu;zt.Fragment=tu;zt.Lazy=du;zt.Memo=cu;zt.Portal=uh;zt.Profiler=ru;zt.StrictMode=su;zt.Suspense=ou;zt.SuspenseList=lu;zt.isContextConsumer=function(e){return Nr(e)===au};zt.isContextProvider=function(e){return Nr(e)===nu};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dh};zt.isForwardRef=function(e){return Nr(e)===iu};zt.isFragment=function(e){return Nr(e)===tu};zt.isLazy=function(e){return Nr(e)===du};zt.isMemo=function(e){return Nr(e)===cu};zt.isPortal=function(e){return Nr(e)===uh};zt.isProfiler=function(e){return Nr(e)===ru};zt.isStrictMode=function(e){return Nr(e)===su};zt.isSuspense=function(e){return Nr(e)===ou};zt.isSuspenseList=function(e){return Nr(e)===lu};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tu||e===ru||e===su||e===ou||e===lu||typeof e=="object"&&e!==null&&(e.$$typeof===du||e.$$typeof===cu||e.$$typeof===nu||e.$$typeof===au||e.$$typeof===iu||e.$$typeof===lA||e.getModuleId!==void 0)};zt.typeOf=Nr;aj.exports=zt;var nj=aj.exports;function Yr(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ij(e){if(f.isValidElement(e)||nj.isValidElementType(e)||!Yr(e))return e;const s={};return Object.keys(e).forEach(r=>{s[r]=ij(e[r])}),s}function Ss(e,s,r={clone:!0}){const a=r.clone?{...e}:e;return Yr(e)&&Yr(s)&&Object.keys(s).forEach(n=>{f.isValidElement(s[n])||nj.isValidElementType(s[n])?a[n]=s[n]:Yr(s[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Yr(e[n])?a[n]=Ss(e[n],s[n],r):r.clone?a[n]=Yr(s[n])?ij(s[n]):s[n]:a[n]=s[n]}),a}const cA=e=>{const s=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return s.sort((r,a)=>r.val-a.val),s.reduce((r,a)=>({...r,[a.key]:a.val}),{})};function dA(e){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:a=5,...n}=e,i=cA(s),o=Object.keys(i);function l(p){return`@media (min-width:${typeof s[p]=="number"?s[p]:p}${r})`}function c(p){return`@media (max-width:${(typeof s[p]=="number"?s[p]:p)-a/100}${r})`}function h(p,u){const g=o.indexOf(u);return`@media (min-width:${typeof s[p]=="number"?s[p]:p}${r}) and (max-width:${(g!==-1&&typeof s[o[g]]=="number"?s[o[g]]:u)-a/100}${r})`}function d(p){return o.indexOf(p)+1<o.length?h(p,o[o.indexOf(p)+1]):l(p)}function m(p){const u=o.indexOf(p);return u===0?l(o[1]):u===o.length-1?c(o[u]):h(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:h,only:d,not:m,unit:r,...n}}function Tx(e,s){if(!e.containerQueries)return s;const r=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,n)=>{var o,l;const i=/min-width:\s*([0-9.]+)/;return+(((o=a.match(i))==null?void 0:o[1])||0)-+(((l=n.match(i))==null?void 0:l[1])||0)});return r.length?r.reduce((a,n)=>{const i=s[n];return delete a[n],a[n]=i,a},{...s}):s}function uA(e,s){return s==="@"||s.startsWith("@")&&(e.some(r=>s.startsWith(`@${r}`))||!!s.match(/^@\d/))}function mA(e,s){const r=s.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,a,n]=r,i=Number.isNaN(+a)?a||0:+a;return e.containerQueries(n).up(i)}function pA(e){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...l)=>s(e.breakpoints.up(...l),o),i.down=(...l)=>s(e.breakpoints.down(...l),o),i.between=(...l)=>s(e.breakpoints.between(...l),o),i.only=(...l)=>s(e.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(e.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const a={},n=i=>(r(a,i),a);return r(n),{...e,containerQueries:n}}const fA={borderRadius:4};function _o(e,s){return s?Ss(e,s,{clone:!1}):e}const uu={xs:0,sm:600,md:900,lg:1200,xl:1536},zx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${uu[e]}px)`},hA={containerQueries:e=>({up:s=>{let r=typeof s=="number"?s:uu[s]||s;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function ba(e,s,r){const a=e.theme||{};if(Array.isArray(s)){const i=a.breakpoints||zx;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=r(s[c]),o),{})}if(typeof s=="object"){const i=a.breakpoints||zx;return Object.keys(s).reduce((o,l)=>{if(uA(i.keys,l)){const c=mA(a.containerQueries?a:hA,l);c&&(o[c]=r(s[l],l))}else if(Object.keys(i.values||uu).includes(l)){const c=i.up(l);o[c]=r(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return r(s)}function gA(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((a,n)=>{const i=e.up(n);return a[i]={},a},{}))||{}}function Rx(e,s){return e.reduce((r,a)=>{const n=r[a];return(!n||Object.keys(n).length===0)&&delete r[a],r},s)}function qe(e){if(typeof e!="string")throw new Error(ya(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Gr(e,s,r=!0){if(!s||typeof s!="string")return null;if(e&&e.vars&&r){const a=`vars.${s}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,e);if(a!=null)return a}return s.split(".").reduce((a,n)=>a&&a[n]!=null?a[n]:null,e)}function ed(e,s,r,a=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||a:n=Gr(e,r)||a,s&&(n=s(n,a,e)),n}function Yt(e){const{prop:s,cssProperty:r=e.prop,themeKey:a,transform:n}=e,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,h=Gr(c,a)||{};return ba(o,l,m=>{let p=ed(h,n,m);return m===p&&typeof m=="string"&&(p=ed(h,n,`${s}${m==="default"?"":qe(m)}`,m)),r===!1?p:{[r]:p}})};return i.propTypes={},i.filterProps=[s],i}function xA(e){const s={};return r=>(s[r]===void 0&&(s[r]=e(r)),s[r])}const yA={m:"margin",p:"padding"},bA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Fx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vA=xA(e=>{if(e.length>2)if(Fx[e])e=Fx[e];else return[e];const[s,r]=e.split(""),a=yA[s],n=bA[r]||"";return Array.isArray(n)?n.map(i=>a+i):[a+n]}),mh=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ph=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mh,...ph];function xl(e,s,r,a){const n=Gr(e,s,!0)??r;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=n[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof n=="function"?n:()=>{}}function fh(e){return xl(e,"spacing",8)}function yl(e,s){return typeof s=="string"||s==null?s:e(s)}function jA(e,s){return r=>e.reduce((a,n)=>(a[n]=yl(s,r),a),{})}function NA(e,s,r,a){if(!s.includes(r))return null;const n=vA(r),i=jA(n,a),o=e[r];return ba(e,o,i)}function oj(e,s){const r=fh(e.theme);return Object.keys(e).map(a=>NA(e,s,a,r)).reduce(_o,{})}function Vt(e){return oj(e,mh)}Vt.propTypes={};Vt.filterProps=mh;function Ht(e){return oj(e,ph)}Ht.propTypes={};Ht.filterProps=ph;function lj(e=8,s=fh({spacing:e})){if(e.mui)return e;const r=(...a)=>(a.length===0?[1]:a).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function mu(...e){const s=e.reduce((a,n)=>(n.filterProps.forEach(i=>{a[i]=n}),a),{}),r=a=>Object.keys(a).reduce((n,i)=>s[i]?_o(n,s[i](a)):n,{});return r.propTypes={},r.filterProps=e.reduce((a,n)=>a.concat(n.filterProps),[]),r}function fr(e){return typeof e!="number"?e:`${e}px solid`}function Cr(e,s){return Yt({prop:e,themeKey:"borders",transform:s})}const CA=Cr("border",fr),wA=Cr("borderTop",fr),_A=Cr("borderRight",fr),SA=Cr("borderBottom",fr),AA=Cr("borderLeft",fr),kA=Cr("borderColor"),PA=Cr("borderTopColor"),EA=Cr("borderRightColor"),TA=Cr("borderBottomColor"),zA=Cr("borderLeftColor"),RA=Cr("outline",fr),FA=Cr("outlineColor"),pu=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const s=xl(e.theme,"shape.borderRadius",4),r=a=>({borderRadius:yl(s,a)});return ba(e,e.borderRadius,r)}return null};pu.propTypes={};pu.filterProps=["borderRadius"];mu(CA,wA,_A,SA,AA,kA,PA,EA,TA,zA,pu,RA,FA);const fu=e=>{if(e.gap!==void 0&&e.gap!==null){const s=xl(e.theme,"spacing",8),r=a=>({gap:yl(s,a)});return ba(e,e.gap,r)}return null};fu.propTypes={};fu.filterProps=["gap"];const hu=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const s=xl(e.theme,"spacing",8),r=a=>({columnGap:yl(s,a)});return ba(e,e.columnGap,r)}return null};hu.propTypes={};hu.filterProps=["columnGap"];const gu=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const s=xl(e.theme,"spacing",8),r=a=>({rowGap:yl(s,a)});return ba(e,e.rowGap,r)}return null};gu.propTypes={};gu.filterProps=["rowGap"];const DA=Yt({prop:"gridColumn"}),$A=Yt({prop:"gridRow"}),MA=Yt({prop:"gridAutoFlow"}),LA=Yt({prop:"gridAutoColumns"}),IA=Yt({prop:"gridAutoRows"}),OA=Yt({prop:"gridTemplateColumns"}),UA=Yt({prop:"gridTemplateRows"}),BA=Yt({prop:"gridTemplateAreas"}),qA=Yt({prop:"gridArea"});mu(fu,hu,gu,DA,$A,MA,LA,IA,OA,UA,BA,qA);function di(e,s){return s==="grey"?s:e}const WA=Yt({prop:"color",themeKey:"palette",transform:di}),VA=Yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:di}),HA=Yt({prop:"backgroundColor",themeKey:"palette",transform:di});mu(WA,VA,HA);function er(e){return e<=1&&e!==0?`${e*100}%`:e}const GA=Yt({prop:"width",transform:er}),hh=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const s=r=>{var n,i,o,l,c;const a=((o=(i=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:i.values)==null?void 0:o[r])||uu[r];return a?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:er(r)}};return ba(e,e.maxWidth,s)}return null};hh.filterProps=["maxWidth"];const KA=Yt({prop:"minWidth",transform:er}),QA=Yt({prop:"height",transform:er}),YA=Yt({prop:"maxHeight",transform:er}),JA=Yt({prop:"minHeight",transform:er});Yt({prop:"size",cssProperty:"width",transform:er});Yt({prop:"size",cssProperty:"height",transform:er});const XA=Yt({prop:"boxSizing"});mu(GA,hh,KA,QA,YA,JA,XA);const bl={border:{themeKey:"borders",transform:fr},borderTop:{themeKey:"borders",transform:fr},borderRight:{themeKey:"borders",transform:fr},borderBottom:{themeKey:"borders",transform:fr},borderLeft:{themeKey:"borders",transform:fr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:fr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:pu},color:{themeKey:"palette",transform:di},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:di},backgroundColor:{themeKey:"palette",transform:di},p:{style:Ht},pt:{style:Ht},pr:{style:Ht},pb:{style:Ht},pl:{style:Ht},px:{style:Ht},py:{style:Ht},padding:{style:Ht},paddingTop:{style:Ht},paddingRight:{style:Ht},paddingBottom:{style:Ht},paddingLeft:{style:Ht},paddingX:{style:Ht},paddingY:{style:Ht},paddingInline:{style:Ht},paddingInlineStart:{style:Ht},paddingInlineEnd:{style:Ht},paddingBlock:{style:Ht},paddingBlockStart:{style:Ht},paddingBlockEnd:{style:Ht},m:{style:Vt},mt:{style:Vt},mr:{style:Vt},mb:{style:Vt},ml:{style:Vt},mx:{style:Vt},my:{style:Vt},margin:{style:Vt},marginTop:{style:Vt},marginRight:{style:Vt},marginBottom:{style:Vt},marginLeft:{style:Vt},marginX:{style:Vt},marginY:{style:Vt},marginInline:{style:Vt},marginInlineStart:{style:Vt},marginInlineEnd:{style:Vt},marginBlock:{style:Vt},marginBlockStart:{style:Vt},marginBlockEnd:{style:Vt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:fu},rowGap:{style:gu},columnGap:{style:hu},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:er},maxWidth:{style:hh},minWidth:{transform:er},height:{transform:er},maxHeight:{transform:er},minHeight:{transform:er},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ZA(...e){const s=e.reduce((a,n)=>a.concat(Object.keys(n)),[]),r=new Set(s);return e.every(a=>r.size===Object.keys(a).length)}function ek(e,s){return typeof e=="function"?e(s):e}function tk(){function e(r,a,n,i){const o={[r]:a,theme:n},l=i[r];if(!l)return{[r]:a};const{cssProperty:c=r,themeKey:h,transform:d,style:m}=l;if(a==null)return null;if(h==="typography"&&a==="inherit")return{[r]:a};const p=Gr(n,h)||{};return m?m(o):ba(o,a,g=>{let y=ed(p,d,g);return g===y&&typeof g=="string"&&(y=ed(p,d,`${r}${g==="default"?"":qe(g)}`,g)),c===!1?y:{[c]:y}})}function s(r){const{sx:a,theme:n={},nested:i}=r||{};if(!a)return null;const o=n.unstable_sxConfig??bl;function l(c){let h=c;if(typeof c=="function")h=c(n);else if(typeof c!="object")return c;if(!h)return null;const d=gA(n.breakpoints),m=Object.keys(d);let p=d;return Object.keys(h).forEach(u=>{const g=ek(h[u],n);if(g!=null)if(typeof g=="object")if(o[u])p=_o(p,e(u,g,n,o));else{const y=ba({theme:n},g,_=>({[u]:_}));ZA(y,g)?p[u]=s({sx:g,theme:n,nested:!0}):p=_o(p,y)}else p=_o(p,e(u,g,n,o))}),!i&&n.modularCssLayers?{"@layer sx":Tx(n,Rx(m,p))}:Tx(n,Rx(m,p))}return Array.isArray(a)?a.map(l):l(a)}return s}const _n=tk();_n.filterProps=["sx"];function sk(e,s){var a;const r=this;if(r.vars){if(!((a=r.colorSchemes)!=null&&a[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?s:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:s})}return r.palette.mode===e?s:{}}function gh(e={},...s){const{breakpoints:r={},palette:a={},spacing:n,shape:i={},...o}=e,l=dA(r),c=lj(n);let h=Ss({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:c,shape:{...fA,...i}},o);return h=pA(h),h.applyStyles=sk,h=s.reduce((d,m)=>Ss(d,m),h),h.unstable_sxConfig={...bl,...o==null?void 0:o.unstable_sxConfig},h.unstable_sx=function(m){return _n({sx:m,theme:this})},h}function rk(e){return Object.keys(e).length===0}function ak(e=null){const s=f.useContext(eu);return!s||rk(s)?e:s}const nk=gh();function xh(e=nk){return ak(e)}function nm(e){const s=Ua(e);return e!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):e}function ik({styles:e,themeId:s,defaultTheme:r={}}){const a=xh(r),n=s&&a[s]||a;let i=typeof e=="function"?e(n):e;return n.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>nm(typeof o=="function"?o(n):o)):i=nm(i)),t.jsx(nA,{styles:i})}const ok=e=>{var a;const s={systemProps:{},otherProps:{}},r=((a=e==null?void 0:e.theme)==null?void 0:a.unstable_sxConfig)??bl;return Object.keys(e).forEach(n=>{r[n]?s.systemProps[n]=e[n]:s.otherProps[n]=e[n]}),s};function cj(e){const{sx:s,...r}=e,{systemProps:a,otherProps:n}=ok(r);let i;return Array.isArray(s)?i=[a,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Yr(l)?{...a,...l}:a}:i={...a,...s},{...n,sx:i}}const Dx=e=>e,lk=()=>{let e=Dx;return{configure(s){e=s},generate(s){return e(s)},reset(){e=Dx}}},dj=lk();function uj(e){var s,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(r=uj(e[s]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function st(){for(var e,s,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(s=uj(e))&&(a&&(a+=" "),a+=s);return a}function ck(e={}){const{themeId:s,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:n}=e,i=rj("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(_n);return f.forwardRef(function(c,h){const d=xh(r),{className:m,component:p="div",...u}=cj(c);return t.jsx(i,{as:p,ref:h,className:st(m,n?n(a):a),theme:s&&d[s]||d,...u})})}const dk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vt(e,s,r="Mui"){const a=dk[s];return a?`${r}-${a}`:`${dj.generate(e)}-${s}`}function xt(e,s,r="Mui"){const a={};return s.forEach(n=>{a[n]=vt(e,n,r)}),a}function mj(e){const{variants:s,...r}=e,a={variants:s,style:Ua(r),isProcessed:!0};return a.style===r||s&&s.forEach(n=>{typeof n.style!="function"&&(n.style=Ua(n.style))}),a}const uk=gh();function im(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function dn(e,s){return s&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${s}{${String(e.styles)}}`),e}function mk(e){return e?(s,r)=>r[e]:null}function pk(e,s,r){e.theme=gk(e.theme)?r:e.theme[s]||e.theme}function yc(e,s,r){const a=typeof s=="function"?s(e):s;if(Array.isArray(a))return a.flatMap(n=>yc(e,n,r));if(Array.isArray(a==null?void 0:a.variants)){let n;if(a.isProcessed)n=r?dn(a.style,r):a.style;else{const{variants:i,...o}=a;n=r?dn(Ua(o),r):o}return pj(e,a.variants,[n],r)}return a!=null&&a.isProcessed?r?dn(Ua(a.style),r):a.style:r?dn(Ua(a),r):a}function pj(e,s,r=[],a=void 0){var i;let n;e:for(let o=0;o<s.length;o+=1){const l=s[o];if(typeof l.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(n))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a?dn(Ua(l.style(n)),a):l.style(n))):r.push(a?dn(Ua(l.style),a):l.style)}return r}function fk(e={}){const{themeId:s,defaultTheme:r=uk,rootShouldForwardProp:a=im,slotShouldForwardProp:n=im}=e;function i(l){pk(l,s,r)}return(l,c={})=>{iA(l,S=>S.filter(b=>b!==_n));const{name:h,slot:d,skipVariantsResolver:m,skipSx:p,overridesResolver:u=mk(yk(d)),...g}=c,y=h&&h.startsWith("Mui")||d?"components":"custom",_=m!==void 0?m:d&&d!=="Root"&&d!=="root"||!1,x=p||!1;let v=im;d==="Root"||d==="root"?v=a:d?v=n:xk(l)&&(v=void 0);const C=rj(l,{shouldForwardProp:v,label:hk(),...g}),N=S=>{if(S.__emotion_real===S)return S;if(typeof S=="function")return function(A){return yc(A,S,A.theme.modularCssLayers?y:void 0)};if(Yr(S)){const b=mj(S);return function(j){return b.variants?yc(j,b,j.theme.modularCssLayers?y:void 0):j.theme.modularCssLayers?dn(b.style,y):b.style}}return S},E=(...S)=>{const b=[],A=S.map(N),j=[];if(b.push(i),h&&u&&j.push(function(R){var k,I;const M=(I=(k=R.theme.components)==null?void 0:k[h])==null?void 0:I.styleOverrides;if(!M)return null;const P={};for(const F in M)P[F]=yc(R,M[F],R.theme.modularCssLayers?"theme":void 0);return u(R,P)}),h&&!_&&j.push(function(R){var P,k;const D=R.theme,M=(k=(P=D==null?void 0:D.components)==null?void 0:P[h])==null?void 0:k.variants;return M?pj(R,M,[],R.theme.modularCssLayers?"theme":void 0):null}),x||j.push(_n),Array.isArray(A[0])){const w=A.shift(),R=new Array(b.length).fill(""),D=new Array(j.length).fill("");let M;M=[...R,...w,...D],M.raw=[...R,...w.raw,...D],b.unshift(M)}const z=[...b,...A,...j],$=C(...z);return l.muiName&&($.muiName=l.muiName),$};return C.withConfig&&(E.withConfig=C.withConfig),E}}function hk(e,s){return void 0}function gk(e){for(const s in e)return!1;return!0}function xk(e){return typeof e=="string"&&e.charCodeAt(0)>96}function yk(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function td(e,s,r=!1){const a={...s};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")a[i]={...e[i],...a[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],l=s[i];if(!l)a[i]=o||{};else if(!o)a[i]=l;else{a[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const h=c;a[i][h]=td(o[h],l[h],r)}}}else i==="className"&&r&&s.className?a.className=st(e==null?void 0:e.className,s==null?void 0:s.className):i==="style"&&r&&s.style?a.style={...e==null?void 0:e.style,...s==null?void 0:s.style}:a[i]===void 0&&(a[i]=e[i])}return a}const Sn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function bk(e,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(e,r))}function yh(e,s=0,r=1){return bk(e,s,r)}function vk(e){e=e.slice(1);const s=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(s);return r&&r[0].length===1&&(r=r.map(a=>a+a)),r?`rgb${r.length===4?"a":""}(${r.map((a,n)=>n<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Wa(e){if(e.type)return e;if(e.charAt(0)==="#")return Wa(vk(e));const s=e.indexOf("("),r=e.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(ya(9,e));let a=e.substring(s+1,e.length-1),n;if(r==="color"){if(a=a.split(" "),n=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(ya(10,n))}else a=a.split(",");return a=a.map(i=>parseFloat(i)),{type:r,values:a,colorSpace:n}}const jk=e=>{const s=Wa(e);return s.values.slice(0,3).map((r,a)=>s.type.includes("hsl")&&a!==0?`${r}%`:r).join(" ")},uo=(e,s)=>{try{return jk(e)}catch{return e}};function xu(e){const{type:s,colorSpace:r}=e;let{values:a}=e;return s.includes("rgb")?a=a.map((n,i)=>i<3?parseInt(n,10):n):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${r} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function fj(e){e=Wa(e);const{values:s}=e,r=s[0],a=s[1]/100,n=s[2]/100,i=a*Math.min(n,1-n),o=(h,d=(h+r/30)%12)=>n-i*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",c.push(s[3])),xu({type:l,values:c})}function Ep(e){e=Wa(e);let s=e.type==="hsl"||e.type==="hsla"?Wa(fj(e)).values:e.values;return s=s.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function Nk(e,s){const r=Ep(e),a=Ep(s);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}function al(e,s){return e=Wa(e),s=yh(s),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${s}`:e.values[3]=s,xu(e)}function Xa(e,s,r){try{return al(e,s)}catch{return e}}function yu(e,s){if(e=Wa(e),s=yh(s),e.type.includes("hsl"))e.values[2]*=1-s;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-s;return xu(e)}function Ct(e,s,r){try{return yu(e,s)}catch{return e}}function bu(e,s){if(e=Wa(e),s=yh(s),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*s;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*s;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*s;return xu(e)}function wt(e,s,r){try{return bu(e,s)}catch{return e}}function Ck(e,s=.15){return Ep(e)>.5?yu(e,s):bu(e,s)}function Vl(e,s,r){try{return Ck(e,s)}catch{return e}}const wk=f.createContext(),_k=()=>f.useContext(wk)??!1,Sk=f.createContext(void 0);function Ak(e){const{theme:s,name:r,props:a}=e;if(!s||!s.components||!s.components[r])return a;const n=s.components[r];return n.defaultProps?td(n.defaultProps,a,s.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?td(n,a,s.components.mergeClassNameAndStyle):a}function kk({props:e,name:s}){const r=f.useContext(Sk);return Ak({props:e,name:s,theme:{components:r}})}let $x=0;function Pk(e){const[s,r]=f.useState(e),a=e||s;return f.useEffect(()=>{s==null&&($x+=1,r(`mui-${$x}`))},[s]),a}const Ek={...Nc},Mx=Ek.useId;function vl(e){if(Mx!==void 0){const s=Mx();return e??s}return Pk(e)}const Lx={theme:void 0};function Tk(e){let s,r;return function(n){let i=s;return(i===void 0||n.theme!==r)&&(Lx.theme=n.theme,i=mj(e(Lx)),s=i,r=n.theme),i}}function zk(e=""){function s(...a){if(!a.length)return"";const n=a[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${s(...a.slice(1))})`:`, ${n}`}return(a,...n)=>`var(--${e?`${e}-`:""}${a}${s(...n)})`}const Ix=(e,s,r,a=[])=>{let n=e;s.forEach((i,o)=>{o===s.length-1?Array.isArray(n)?n[Number(i)]=r:n&&typeof n=="object"&&(n[i]=r):n&&typeof n=="object"&&(n[i]||(n[i]=a.includes(i)?[]:{}),n=n[i])})},Rk=(e,s,r)=>{function a(n,i=[],o=[]){Object.entries(n).forEach(([l,c])=>{(!r||r&&!r([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?a(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}a(e)},Fk=(e,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>e.includes(a))||e[e.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function om(e,s){const{prefix:r,shouldSkipGeneratingVar:a}=s||{},n={},i={},o={};return Rk(e,(l,c,h)=>{if((typeof c=="string"||typeof c=="number")&&(!a||!a(l,c))){const d=`--${r?`${r}-`:""}${l.join("-")}`,m=Fk(l,c);Object.assign(n,{[d]:m}),Ix(i,l,`var(${d})`,h),Ix(o,l,`var(${d}, ${m})`,h)}},l=>l[0]==="vars"),{css:n,vars:i,varsWithDefaults:o}}function Dk(e,s={}){const{getSelector:r=x,disableCssColorScheme:a,colorSchemeSelector:n,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...h}=e,{vars:d,css:m,varsWithDefaults:p}=om(h,s);let u=p;const g={},{[c]:y,..._}=o;if(Object.entries(_||{}).forEach(([N,E])=>{const{vars:S,css:b,varsWithDefaults:A}=om(E,s);u=Ss(u,A),g[N]={css:b,vars:S}}),y){const{css:N,vars:E,varsWithDefaults:S}=om(y,s);u=Ss(u,S),g[c]={css:N,vars:E}}function x(N,E){var b,A;let S=n;if(n==="class"&&(S=".%s"),n==="data"&&(S="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(S=`[${n}="%s"]`),N){if(S==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${((A=(b=o[N])==null?void 0:b.palette)==null?void 0:A.mode)||N})`]:{":root":E}};if(S)return e.defaultColorScheme===N?`:root, ${S.replace("%s",String(N))}`:S.replace("%s",String(N))}return":root"}return{vars:u,generateThemeVars:()=>{let N={...d};return Object.entries(g).forEach(([,{vars:E}])=>{N=Ss(N,E)}),N},generateStyleSheets:()=>{var j,z;const N=[],E=e.defaultColorScheme||"light";function S($,w){Object.keys(w).length&&N.push(typeof $=="string"?{[$]:{...w}}:$)}S(r(void 0,{...m}),m);const{[E]:b,...A}=g;if(b){const{css:$}=b,w=(z=(j=o[E])==null?void 0:j.palette)==null?void 0:z.mode,R=!a&&w?{colorScheme:w,...$}:{...$};S(r(E,{...R}),R)}return Object.entries(A).forEach(([$,{css:w}])=>{var M,P;const R=(P=(M=o[$])==null?void 0:M.palette)==null?void 0:P.mode,D=!a&&R?{colorScheme:R,...w}:{...w};S(r($,{...D}),D)}),i&&N.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),N}}}function $k(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function jt(e,s,r=void 0){const a={};for(const n in e){const i=e[n];let o="",l=!0;for(let c=0;c<i.length;c+=1){const h=i[c];h&&(o+=(l===!0?"":" ")+s(h),l=!1,r&&r[h]&&(o+=" "+r[h]))}a[n]=o}return a}function lm(e,s){var r,a,n;return f.isValidElement(e)&&s.indexOf(e.type.muiName??((n=(a=(r=e.type)==null?void 0:r._payload)==null?void 0:a.value)==null?void 0:n.muiName))!==-1}function hj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:el.white,default:el.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const gj=hj();function xj(){return{text:{primary:el.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:el.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Tp=xj();function Ox(e,s,r,a){const n=a.light||a,i=a.dark||a*1.5;e[s]||(e.hasOwnProperty(r)?e[s]=e[r]:s==="light"?e.light=bu(e.main,n):s==="dark"&&(e.dark=yu(e.main,i)))}function Ux(e,s,r,a,n){const i=n.light||n,o=n.dark||n*1.5;s[r]||(s.hasOwnProperty(a)?s[r]=s[a]:r==="light"?s.light=`color-mix(in ${e}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(s.dark=`color-mix(in ${e}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function Mk(e="light"){return e==="dark"?{main:Dn[200],light:Dn[50],dark:Dn[400]}:{main:Dn[700],light:Dn[400],dark:Dn[800]}}function Lk(e="light"){return e==="dark"?{main:Fn[200],light:Fn[50],dark:Fn[400]}:{main:Fn[500],light:Fn[300],dark:Fn[700]}}function Ik(e="light"){return e==="dark"?{main:Rn[500],light:Rn[300],dark:Rn[700]}:{main:Rn[700],light:Rn[400],dark:Rn[800]}}function Ok(e="light"){return e==="dark"?{main:$n[400],light:$n[300],dark:$n[700]}:{main:$n[700],light:$n[500],dark:$n[900]}}function Uk(e="light"){return e==="dark"?{main:Mn[400],light:Mn[300],dark:Mn[700]}:{main:Mn[800],light:Mn[500],dark:Mn[900]}}function Bk(e="light"){return e==="dark"?{main:Yi[400],light:Yi[300],dark:Yi[700]}:{main:"#ed6c02",light:Yi[500],dark:Yi[900]}}function qk(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function bh(e){const{mode:s="light",contrastThreshold:r=3,tonalOffset:a=.2,colorSpace:n,...i}=e,o=e.primary||Mk(s),l=e.secondary||Lk(s),c=e.error||Ik(s),h=e.info||Ok(s),d=e.success||Uk(s),m=e.warning||Bk(s);function p(_){return n?qk(_):Nk(_,Tp.text.primary)>=r?Tp.text.primary:gj.text.primary}const u=({color:_,name:x,mainShade:v=500,lightShade:C=300,darkShade:N=700})=>{if(_={..._},!_.main&&_[v]&&(_.main=_[v]),!_.hasOwnProperty("main"))throw new Error(ya(11,x?` (${x})`:"",v));if(typeof _.main!="string")throw new Error(ya(12,x?` (${x})`:"",JSON.stringify(_.main)));return n?(Ux(n,_,"light",C,a),Ux(n,_,"dark",N,a)):(Ox(_,"light",C,a),Ox(_,"dark",N,a)),_.contrastText||(_.contrastText=p(_.main)),_};let g;return s==="light"?g=hj():s==="dark"&&(g=xj()),Ss({common:{...el},mode:s,primary:u({color:o,name:"primary"}),secondary:u({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:c,name:"error"}),warning:u({color:m,name:"warning"}),info:u({color:h,name:"info"}),success:u({color:d,name:"success"}),grey:Y_,contrastThreshold:r,getContrastText:p,augmentColor:u,tonalOffset:a,...g},i)}function Wk(e){const s={};return Object.entries(e).forEach(a=>{const[n,i]=a;typeof i=="object"&&(s[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function Vk(e,s){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...s}}function Hk(e){return Math.round(e*1e5)/1e5}const Bx={textTransform:"uppercase"},qx='"Roboto", "Helvetica", "Arial", sans-serif';function Gk(e,s){const{fontFamily:r=qx,fontSize:a=14,fontWeightLight:n=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:d,...m}=typeof s=="function"?s(e):s,p=a/14,u=d||(_=>`${_/c*p}rem`),g=(_,x,v,C,N)=>({fontFamily:r,fontWeight:_,fontSize:u(x),lineHeight:v,...r===qx?{letterSpacing:`${Hk(C/x)}em`}:{},...N,...h}),y={h1:g(n,96,1.167,-1.5),h2:g(n,60,1.2,-.5),h3:g(i,48,1.167,0),h4:g(i,34,1.235,.25),h5:g(i,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(i,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(i,16,1.5,.15),body2:g(i,14,1.43,.15),button:g(o,14,1.75,.4,Bx),caption:g(i,12,1.66,.4),overline:g(i,12,2.66,1,Bx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ss({htmlFontSize:c,pxToRem:u,fontFamily:r,fontSize:a,fontWeightLight:n,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...y},m,{clone:!1})}const Kk=.2,Qk=.14,Yk=.12;function Lt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Kk})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Qk})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Yk})`].join(",")}const Jk=["none",Lt(0,2,1,-1,0,1,1,0,0,1,3,0),Lt(0,3,1,-2,0,2,2,0,0,1,5,0),Lt(0,3,3,-2,0,3,4,0,0,1,8,0),Lt(0,2,4,-1,0,4,5,0,0,1,10,0),Lt(0,3,5,-1,0,5,8,0,0,1,14,0),Lt(0,3,5,-1,0,6,10,0,0,1,18,0),Lt(0,4,5,-2,0,7,10,1,0,2,16,1),Lt(0,5,5,-3,0,8,10,1,0,3,14,2),Lt(0,5,6,-3,0,9,12,1,0,3,16,2),Lt(0,6,6,-3,0,10,14,1,0,4,18,3),Lt(0,6,7,-4,0,11,15,1,0,4,20,3),Lt(0,7,8,-4,0,12,17,2,0,5,22,4),Lt(0,7,8,-4,0,13,19,2,0,5,24,4),Lt(0,7,9,-4,0,14,21,2,0,5,26,4),Lt(0,8,9,-5,0,15,22,2,0,6,28,5),Lt(0,8,10,-5,0,16,24,2,0,6,30,5),Lt(0,8,11,-5,0,17,26,2,0,6,32,5),Lt(0,9,11,-5,0,18,28,2,0,7,34,6),Lt(0,9,12,-6,0,19,29,2,0,7,36,6),Lt(0,10,13,-6,0,20,31,3,0,8,38,7),Lt(0,10,13,-6,0,21,33,3,0,8,40,7),Lt(0,10,14,-6,0,22,35,3,0,8,42,7),Lt(0,11,14,-7,0,23,36,3,0,9,44,8),Lt(0,11,15,-7,0,24,38,3,0,9,46,8)],Xk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Zk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Wx(e){return`${Math.round(e)}ms`}function e4(e){if(!e)return 0;const s=e/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function t4(e){const s={...Xk,...e.easing},r={...Zk,...e.duration};return{getAutoHeightDuration:e4,create:(n=["all"],i={})=>{const{duration:o=r.standard,easing:l=s.easeInOut,delay:c=0,...h}=i;return(Array.isArray(n)?n:[n]).map(d=>`${d} ${typeof o=="string"?o:Wx(o)} ${l} ${typeof c=="string"?c:Wx(c)}`).join(",")},...e,easing:s,duration:r}}const s4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function r4(e){return Yr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function yj(e={}){const s={...e};function r(a){const n=Object.entries(a);for(let i=0;i<n.length;i++){const[o,l]=n[i];!r4(l)||o.startsWith("unstable_")?delete a[o]:Yr(l)&&(a[o]={...l},r(a[o]))}}return r(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Vx(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const a4=e=>{if(!Number.isNaN(+e))return+e;const s=e.match(/\d*\.?\d+/g);if(!s)return 0;let r=0;for(let a=0;a<s.length;a+=1)r+=+s[a];return r};function n4(e){Object.assign(e,{alpha(s,r){const a=this||e;return a.colorSpace?`oklch(from ${s} l c h / ${typeof r=="string"?`calc(${r})`:r})`:a.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:al(s,a4(r))},lighten(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #fff ${Vx(r)})`:bu(s,r)},darken(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #000 ${Vx(r)})`:yu(s,r)}})}function zp(e={},...s){const{breakpoints:r,mixins:a={},spacing:n,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:h,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(ya(20));const m=bh({...i,colorSpace:h}),p=gh(e);let u=Ss(p,{mixins:Vk(p.breakpoints,a),palette:m,shadows:Jk.slice(),typography:Gk(m,l),transitions:t4(o),zIndex:{...s4}});return u=Ss(u,d),u=s.reduce((g,y)=>Ss(g,y),u),u.unstable_sxConfig={...bl,...d==null?void 0:d.unstable_sxConfig},u.unstable_sx=function(y){return _n({sx:y,theme:this})},u.toRuntimeSource=yj,n4(u),u}function Rp(e){let s;return e<1?s=5.11916*e**2:s=4.5*Math.log(e+1)+2,Math.round(s*10)/1e3}const i4=[...Array(25)].map((e,s)=>{if(s===0)return"none";const r=Rp(s);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function bj(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function vj(e){return e==="dark"?i4:[]}function o4(e){const{palette:s={mode:"light"},opacity:r,overlays:a,colorSpace:n,...i}=e,o=bh({...s,colorSpace:n});return{palette:o,opacity:{...bj(o.mode),...r},overlays:a||vj(o.mode),...i}}function l4(e){var s;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((s=e[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const c4=e=>[...[...Array(25)].map((s,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],d4=e=>(s,r)=>{const a=e.rootSelector||":root",n=e.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),e.defaultColorScheme===s){if(s==="dark"){const o={};return c4(e.cssVarPrefix).forEach(l=>{o[l]=r[l],delete r[l]}),i==="media"?{[a]:r,"@media (prefers-color-scheme: dark)":{[a]:o}}:i?{[i.replace("%s",s)]:o,[`${a}, ${i.replace("%s",s)}`]:r}:{[a]:{...r,...o}}}if(i&&i!=="media")return`${a}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:r}};if(i)return i.replace("%s",String(s))}return a};function u4(e,s){s.forEach(r=>{e[r]||(e[r]={})})}function Ce(e,s,r){!e[s]&&r&&(e[s]=r)}function mo(e){return typeof e!="string"||!e.startsWith("hsl")?e:fj(e)}function aa(e,s){`${s}Channel`in e||(e[`${s}Channel`]=uo(mo(e[s])))}function m4(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Br=e=>{try{return e()}catch{}},p4=(e="mui")=>zk(e);function cm(e,s,r,a,n){if(!r)return;r=r===!0?{}:r;const i=n==="dark"?"dark":"light";if(!a){s[n]=o4({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:o,...l}=zp({...a,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return s[n]={...r,palette:o,opacity:{...bj(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||vj(i)},l}function f4(e={},...s){const{colorSchemes:r={light:!0},defaultColorScheme:a,disableCssColorScheme:n=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=l4,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:h=":root",...d}=e,m=Object.keys(r)[0],p=a||(r.light&&m!=="light"?"light":m),u=p4(i),{[p]:g,light:y,dark:_,...x}=r,v={...x};let C=g;if((p==="dark"&&!("dark"in r)||p==="light"&&!("light"in r))&&(C=!0),!C)throw new Error(ya(21,p));let N;o&&(N="oklch");const E=cm(N,v,C,d,p);y&&!v.light&&cm(N,v,y,void 0,"light"),_&&!v.dark&&cm(N,v,_,void 0,"dark");let S={defaultColorScheme:p,...E,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:h,getCssVar:u,colorSchemes:v,font:{...Wk(E.typography),...E.font},spacing:m4(d.spacing)};Object.keys(S.colorSchemes).forEach($=>{const w=S.colorSchemes[$].palette,R=M=>{const P=M.split("-"),k=P[1],I=P[2];return u(M,w[k][I])};w.mode==="light"&&(Ce(w.common,"background","#fff"),Ce(w.common,"onBackground","#000")),w.mode==="dark"&&(Ce(w.common,"background","#000"),Ce(w.common,"onBackground","#fff"));function D(M,P,k){if(N){let I;return M===Xa&&(I=`transparent ${((1-k)*100).toFixed(0)}%`),M===Ct&&(I=`#000 ${(k*100).toFixed(0)}%`),M===wt&&(I=`#fff ${(k*100).toFixed(0)}%`),`color-mix(in ${N}, ${P}, ${I})`}return M(P,k)}if(u4(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){Ce(w.Alert,"errorColor",D(Ct,w.error.light,.6)),Ce(w.Alert,"infoColor",D(Ct,w.info.light,.6)),Ce(w.Alert,"successColor",D(Ct,w.success.light,.6)),Ce(w.Alert,"warningColor",D(Ct,w.warning.light,.6)),Ce(w.Alert,"errorFilledBg",R("palette-error-main")),Ce(w.Alert,"infoFilledBg",R("palette-info-main")),Ce(w.Alert,"successFilledBg",R("palette-success-main")),Ce(w.Alert,"warningFilledBg",R("palette-warning-main")),Ce(w.Alert,"errorFilledColor",Br(()=>w.getContrastText(w.error.main))),Ce(w.Alert,"infoFilledColor",Br(()=>w.getContrastText(w.info.main))),Ce(w.Alert,"successFilledColor",Br(()=>w.getContrastText(w.success.main))),Ce(w.Alert,"warningFilledColor",Br(()=>w.getContrastText(w.warning.main))),Ce(w.Alert,"errorStandardBg",D(wt,w.error.light,.9)),Ce(w.Alert,"infoStandardBg",D(wt,w.info.light,.9)),Ce(w.Alert,"successStandardBg",D(wt,w.success.light,.9)),Ce(w.Alert,"warningStandardBg",D(wt,w.warning.light,.9)),Ce(w.Alert,"errorIconColor",R("palette-error-main")),Ce(w.Alert,"infoIconColor",R("palette-info-main")),Ce(w.Alert,"successIconColor",R("palette-success-main")),Ce(w.Alert,"warningIconColor",R("palette-warning-main")),Ce(w.AppBar,"defaultBg",R("palette-grey-100")),Ce(w.Avatar,"defaultBg",R("palette-grey-400")),Ce(w.Button,"inheritContainedBg",R("palette-grey-300")),Ce(w.Button,"inheritContainedHoverBg",R("palette-grey-A100")),Ce(w.Chip,"defaultBorder",R("palette-grey-400")),Ce(w.Chip,"defaultAvatarColor",R("palette-grey-700")),Ce(w.Chip,"defaultIconColor",R("palette-grey-700")),Ce(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ce(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ce(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ce(w.LinearProgress,"primaryBg",D(wt,w.primary.main,.62)),Ce(w.LinearProgress,"secondaryBg",D(wt,w.secondary.main,.62)),Ce(w.LinearProgress,"errorBg",D(wt,w.error.main,.62)),Ce(w.LinearProgress,"infoBg",D(wt,w.info.main,.62)),Ce(w.LinearProgress,"successBg",D(wt,w.success.main,.62)),Ce(w.LinearProgress,"warningBg",D(wt,w.warning.main,.62)),Ce(w.Skeleton,"bg",N?D(Xa,w.text.primary,.11):`rgba(${R("palette-text-primaryChannel")} / 0.11)`),Ce(w.Slider,"primaryTrack",D(wt,w.primary.main,.62)),Ce(w.Slider,"secondaryTrack",D(wt,w.secondary.main,.62)),Ce(w.Slider,"errorTrack",D(wt,w.error.main,.62)),Ce(w.Slider,"infoTrack",D(wt,w.info.main,.62)),Ce(w.Slider,"successTrack",D(wt,w.success.main,.62)),Ce(w.Slider,"warningTrack",D(wt,w.warning.main,.62));const M=N?D(Ct,w.background.default,.6825):Vl(w.background.default,.8);Ce(w.SnackbarContent,"bg",M),Ce(w.SnackbarContent,"color",Br(()=>N?Tp.text.primary:w.getContrastText(M))),Ce(w.SpeedDialAction,"fabHoverBg",Vl(w.background.paper,.15)),Ce(w.StepConnector,"border",R("palette-grey-400")),Ce(w.StepContent,"border",R("palette-grey-400")),Ce(w.Switch,"defaultColor",R("palette-common-white")),Ce(w.Switch,"defaultDisabledColor",R("palette-grey-100")),Ce(w.Switch,"primaryDisabledColor",D(wt,w.primary.main,.62)),Ce(w.Switch,"secondaryDisabledColor",D(wt,w.secondary.main,.62)),Ce(w.Switch,"errorDisabledColor",D(wt,w.error.main,.62)),Ce(w.Switch,"infoDisabledColor",D(wt,w.info.main,.62)),Ce(w.Switch,"successDisabledColor",D(wt,w.success.main,.62)),Ce(w.Switch,"warningDisabledColor",D(wt,w.warning.main,.62)),Ce(w.TableCell,"border",D(wt,D(Xa,w.divider,1),.88)),Ce(w.Tooltip,"bg",D(Xa,w.grey[700],.92))}if(w.mode==="dark"){Ce(w.Alert,"errorColor",D(wt,w.error.light,.6)),Ce(w.Alert,"infoColor",D(wt,w.info.light,.6)),Ce(w.Alert,"successColor",D(wt,w.success.light,.6)),Ce(w.Alert,"warningColor",D(wt,w.warning.light,.6)),Ce(w.Alert,"errorFilledBg",R("palette-error-dark")),Ce(w.Alert,"infoFilledBg",R("palette-info-dark")),Ce(w.Alert,"successFilledBg",R("palette-success-dark")),Ce(w.Alert,"warningFilledBg",R("palette-warning-dark")),Ce(w.Alert,"errorFilledColor",Br(()=>w.getContrastText(w.error.dark))),Ce(w.Alert,"infoFilledColor",Br(()=>w.getContrastText(w.info.dark))),Ce(w.Alert,"successFilledColor",Br(()=>w.getContrastText(w.success.dark))),Ce(w.Alert,"warningFilledColor",Br(()=>w.getContrastText(w.warning.dark))),Ce(w.Alert,"errorStandardBg",D(Ct,w.error.light,.9)),Ce(w.Alert,"infoStandardBg",D(Ct,w.info.light,.9)),Ce(w.Alert,"successStandardBg",D(Ct,w.success.light,.9)),Ce(w.Alert,"warningStandardBg",D(Ct,w.warning.light,.9)),Ce(w.Alert,"errorIconColor",R("palette-error-main")),Ce(w.Alert,"infoIconColor",R("palette-info-main")),Ce(w.Alert,"successIconColor",R("palette-success-main")),Ce(w.Alert,"warningIconColor",R("palette-warning-main")),Ce(w.AppBar,"defaultBg",R("palette-grey-900")),Ce(w.AppBar,"darkBg",R("palette-background-paper")),Ce(w.AppBar,"darkColor",R("palette-text-primary")),Ce(w.Avatar,"defaultBg",R("palette-grey-600")),Ce(w.Button,"inheritContainedBg",R("palette-grey-800")),Ce(w.Button,"inheritContainedHoverBg",R("palette-grey-700")),Ce(w.Chip,"defaultBorder",R("palette-grey-700")),Ce(w.Chip,"defaultAvatarColor",R("palette-grey-300")),Ce(w.Chip,"defaultIconColor",R("palette-grey-300")),Ce(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ce(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ce(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ce(w.LinearProgress,"primaryBg",D(Ct,w.primary.main,.5)),Ce(w.LinearProgress,"secondaryBg",D(Ct,w.secondary.main,.5)),Ce(w.LinearProgress,"errorBg",D(Ct,w.error.main,.5)),Ce(w.LinearProgress,"infoBg",D(Ct,w.info.main,.5)),Ce(w.LinearProgress,"successBg",D(Ct,w.success.main,.5)),Ce(w.LinearProgress,"warningBg",D(Ct,w.warning.main,.5)),Ce(w.Skeleton,"bg",N?D(Xa,w.text.primary,.13):`rgba(${R("palette-text-primaryChannel")} / 0.13)`),Ce(w.Slider,"primaryTrack",D(Ct,w.primary.main,.5)),Ce(w.Slider,"secondaryTrack",D(Ct,w.secondary.main,.5)),Ce(w.Slider,"errorTrack",D(Ct,w.error.main,.5)),Ce(w.Slider,"infoTrack",D(Ct,w.info.main,.5)),Ce(w.Slider,"successTrack",D(Ct,w.success.main,.5)),Ce(w.Slider,"warningTrack",D(Ct,w.warning.main,.5));const M=N?D(wt,w.background.default,.985):Vl(w.background.default,.98);Ce(w.SnackbarContent,"bg",M),Ce(w.SnackbarContent,"color",Br(()=>N?gj.text.primary:w.getContrastText(M))),Ce(w.SpeedDialAction,"fabHoverBg",Vl(w.background.paper,.15)),Ce(w.StepConnector,"border",R("palette-grey-600")),Ce(w.StepContent,"border",R("palette-grey-600")),Ce(w.Switch,"defaultColor",R("palette-grey-300")),Ce(w.Switch,"defaultDisabledColor",R("palette-grey-600")),Ce(w.Switch,"primaryDisabledColor",D(Ct,w.primary.main,.55)),Ce(w.Switch,"secondaryDisabledColor",D(Ct,w.secondary.main,.55)),Ce(w.Switch,"errorDisabledColor",D(Ct,w.error.main,.55)),Ce(w.Switch,"infoDisabledColor",D(Ct,w.info.main,.55)),Ce(w.Switch,"successDisabledColor",D(Ct,w.success.main,.55)),Ce(w.Switch,"warningDisabledColor",D(Ct,w.warning.main,.55)),Ce(w.TableCell,"border",D(Ct,D(Xa,w.divider,1),.68)),Ce(w.Tooltip,"bg",D(Xa,w.grey[700],.92))}aa(w.background,"default"),aa(w.background,"paper"),aa(w.common,"background"),aa(w.common,"onBackground"),aa(w,"divider"),Object.keys(w).forEach(M=>{const P=w[M];M!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&Ce(w[M],"mainChannel",uo(mo(P.main))),P.light&&Ce(w[M],"lightChannel",uo(mo(P.light))),P.dark&&Ce(w[M],"darkChannel",uo(mo(P.dark))),P.contrastText&&Ce(w[M],"contrastTextChannel",uo(mo(P.contrastText))),M==="text"&&(aa(w[M],"primary"),aa(w[M],"secondary")),M==="action"&&(P.active&&aa(w[M],"active"),P.selected&&aa(w[M],"selected")))})}),S=s.reduce(($,w)=>Ss($,w),S);const b={prefix:i,disableCssColorScheme:n,shouldSkipGeneratingVar:l,getSelector:d4(S),enableContrastVars:o},{vars:A,generateThemeVars:j,generateStyleSheets:z}=Dk(S,b);return S.vars=A,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([$,w])=>{S[$]=w}),S.generateThemeVars=j,S.generateStyleSheets=z,S.generateSpacing=function(){return lj(d.spacing,fh(this))},S.getColorSchemeSelector=$k(c),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=l,S.unstable_sxConfig={...bl,...d==null?void 0:d.unstable_sxConfig},S.unstable_sx=function(w){return _n({sx:w,theme:this})},S.toRuntimeSource=yj,S}function Hx(e,s,r){e.colorSchemes&&r&&(e.colorSchemes[s]={...r!==!0&&r,palette:bh({...r===!0?{}:r.palette,mode:s})})}function jj(e={},...s){const{palette:r,cssVariables:a=!1,colorSchemes:n=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...o}=e,l=i||"light",c=n==null?void 0:n[l],h={...n,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(a===!1){if(!("colorSchemes"in e))return zp(e,...s);let d=r;"palette"in e||h[l]&&(h[l]!==!0?d=h[l].palette:l==="dark"&&(d={mode:"dark"}));const m=zp({...e,palette:d},...s);return m.defaultColorScheme=l,m.colorSchemes=h,m.palette.mode==="light"&&(m.colorSchemes.light={...h.light!==!0&&h.light,palette:m.palette},Hx(m,"dark",h.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:m.palette},Hx(m,"light",h.light)),m}return!r&&!("light"in h)&&l==="light"&&(h.light=!0),f4({...o,colorSchemes:h,defaultColorScheme:l,...typeof a!="boolean"&&a},...s)}const vh=jj();function jl(){const e=xh(vh);return e[Od]||e}function Nj(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Lr=e=>Nj(e)&&e!=="classes",Be=fk({themeId:Od,defaultTheme:vh,rootShouldForwardProp:Lr});function Gx(...e){return e.reduce((s,r)=>r==null?s:function(...n){s.apply(this,n),r.apply(this,n)},()=>{})}function h4(e){return t.jsx(ik,{...e,defaultTheme:vh,themeId:Od})}function g4(e){return function(r){return t.jsx(h4,{styles:typeof e=="function"?a=>e({theme:a,...r}):e})}}function x4(){return cj}const Pt=Tk;function Nt(e){return kk(e)}function y4(e){return vt("MuiSvgIcon",e)}xt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const b4=e=>{const{color:s,fontSize:r,classes:a}=e,n={root:["root",s!=="inherit"&&`color${qe(s)}`,`fontSize${qe(r)}`]};return jt(n,y4,a)},v4=Be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color!=="inherit"&&s[`color${qe(r.color)}`],s[`fontSize${qe(r.fontSize)}`]]}})(Pt(({theme:e})=>{var s,r,a,n,i,o,l,c,h,d,m,p,u,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(s=e.transitions)==null?void 0:s.create)==null?void 0:n.call(s,"fill",{duration:(a=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:a.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,y])=>y&&y.main).map(([y])=>{var _,x;return{props:{color:y},style:{color:(x=(_=(e.vars??e).palette)==null?void 0:_[y])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(p=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(g=(u=(e.vars??e).palette)==null?void 0:u.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Fp=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:d=!1,titleAccess:m,viewBox:p="0 0 24 24",...u}=a,g=f.isValidElement(n)&&n.type==="svg",y={...a,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:g},_={};d||(_.viewBox=p);const x=b4(y);return t.jsxs(v4,{as:l,className:st(x.root,i),focusable:"false",color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:r,..._,...u,...g&&n.props,ownerState:y,children:[g?n.props.children:n,m?t.jsx("title",{children:m}):null]})});Fp.muiName="SvgIcon";function Ys(e,s){function r(a,n){return t.jsx(Fp,{"data-testid":void 0,ref:n,...a,children:e})}return r.muiName=Fp.muiName,f.memo(f.forwardRef(r))}function Cj(e,s=166){let r;function a(...n){const i=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(i,s)}return a.clear=()=>{clearTimeout(r)},a}function Dr(e){return e&&e.ownerDocument||document}function va(e){return Dr(e).defaultView||window}function Kx(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function Qx(e){const{controlled:s,default:r,name:a,state:n="value"}=e,{current:i}=f.useRef(s!==void 0),[o,l]=f.useState(r),c=i?s:o,h=f.useCallback(d=>{i||l(d)},[]);return[c,h]}function xn(e){const s=f.useRef(e);return Sn(()=>{s.current=e}),f.useRef((...r)=>(0,s.current)(...r)).current}function Qs(...e){const s=f.useRef(void 0),r=f.useCallback(a=>{const n=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(a);return typeof l=="function"?l:()=>{o(null)}}return i.current=a,()=>{i.current=null}});return()=>{n.forEach(i=>i==null?void 0:i())}},e);return f.useMemo(()=>e.every(a=>a==null)?null:a=>{s.current&&(s.current(),s.current=void 0),a!=null&&(s.current=r(a))},e)}function j4(e,s){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof s=="function"}function N4(e,s){if(!e)return s;function r(o,l){const c={};return Object.keys(l).forEach(h=>{j4(h,l[h])&&typeof o[h]=="function"&&(c[h]=(...d)=>{o[h](...d),l[h](...d)})}),c}if(typeof e=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof e=="function"?e({...o,...l}):e,h=st(o==null?void 0:o.className,l==null?void 0:l.className,c==null?void 0:c.className),d=r(c,l);return{...l,...c,...d,...!!h&&{className:h},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const a=s,n=r(e,a),i=st(a==null?void 0:a.className,e==null?void 0:e.className);return{...s,...e,...n,...!!i&&{className:i},...(a==null?void 0:a.style)&&(e==null?void 0:e.style)&&{style:{...a.style,...e.style}},...(a==null?void 0:a.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function wj(e,s){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Dp(e,s){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Dp(e,s)}function _j(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,Dp(e,s)}const Yx={disabled:!1},sd=lt.createContext(null);var C4=function(s){return s.scrollTop},po="unmounted",rn="exited",an="entering",On="entered",$p="exiting",sa=function(e){_j(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=n,l=o&&!o.isMounting?a.enter:a.appear,c;return i.appearStatus=null,a.in?l?(c=rn,i.appearStatus=an):c=On:a.unmountOnExit||a.mountOnEnter?c=po:c=rn,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===po?{status:rn}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==an&&o!==On&&(i=an):(o===an||o===On)&&(i=$p)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,o,l;return i=o=l=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,l=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:l}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===an){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ul.findDOMNode(this);o&&C4(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rn&&this.setState({status:po})},r.performEnter=function(n){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:n,c=this.props.nodeRef?[l]:[Ul.findDOMNode(this),l],h=c[0],d=c[1],m=this.getTimeouts(),p=l?m.appear:m.enter;if(!n&&!o||Yx.disabled){this.safeSetState({status:On},function(){i.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:an},function(){i.props.onEntering(h,d),i.onTransitionEnd(p,function(){i.safeSetState({status:On},function(){i.props.onEntered(h,d)})})})},r.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ul.findDOMNode(this);if(!i||Yx.disabled){this.safeSetState({status:rn},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:$p},function(){n.props.onExiting(l),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:rn},function(){n.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,n(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ul.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],d=c[1];this.props.addEndListener(h,d)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===po)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=wj(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lt.createElement(sd.Provider,{value:null},typeof o=="function"?o(n,l):lt.cloneElement(lt.Children.only(o),l))},s}(lt.Component);sa.contextType=sd;sa.propTypes={};function Ln(){}sa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ln,onEntering:Ln,onEntered:Ln,onExit:Ln,onExiting:Ln,onExited:Ln};sa.UNMOUNTED=po;sa.EXITED=rn;sa.ENTERING=an;sa.ENTERED=On;sa.EXITING=$p;function w4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jh(e,s){var r=function(i){return s&&f.isValidElement(i)?s(i):i},a=Object.create(null);return e&&f.Children.map(e,function(n){return n}).forEach(function(n){a[n.key]=r(n)}),a}function _4(e,s){e=e||{},s=s||{};function r(d){return d in s?s[d]:e[d]}var a=Object.create(null),n=[];for(var i in e)i in s?n.length&&(a[i]=n,n=[]):n.push(i);var o,l={};for(var c in s){if(a[c])for(o=0;o<a[c].length;o++){var h=a[c][o];l[a[c][o]]=r(h)}l[c]=r(c)}for(o=0;o<n.length;o++)l[n[o]]=r(n[o]);return l}function un(e,s,r){return r[s]!=null?r[s]:e.props[s]}function S4(e,s){return jh(e.children,function(r){return f.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:un(r,"appear",e),enter:un(r,"enter",e),exit:un(r,"exit",e)})})}function A4(e,s,r){var a=jh(e.children),n=_4(s,a);return Object.keys(n).forEach(function(i){var o=n[i];if(f.isValidElement(o)){var l=i in s,c=i in a,h=s[i],d=f.isValidElement(h)&&!h.props.in;c&&(!l||d)?n[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:un(o,"exit",e),enter:un(o,"enter",e)}):!c&&l&&!d?n[i]=f.cloneElement(o,{in:!1}):c&&l&&f.isValidElement(h)&&(n[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:h.props.in,exit:un(o,"exit",e),enter:un(o,"enter",e)}))}}),n}var k4=Object.values||function(e){return Object.keys(e).map(function(s){return e[s]})},P4={component:"div",childFactory:function(s){return s}},Nh=function(e){_j(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=i.handleExited.bind(w4(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?S4(n,l):A4(n,o,l),firstRender:!1}},r.handleExited=function(n,i){var o=jh(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(l){var c=Xc({},l.children);return delete c[n.key],{children:c}}))},r.render=function(){var n=this.props,i=n.component,o=n.childFactory,l=wj(n,["component","childFactory"]),c=this.state.contextValue,h=k4(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?lt.createElement(sd.Provider,{value:c},h):lt.createElement(sd.Provider,{value:c},lt.createElement(i,l,h))},s}(lt.Component);Nh.propTypes={};Nh.defaultProps=P4;const Jx={};function Sj(e,s){const r=f.useRef(Jx);return r.current===Jx&&(r.current=e(s)),r}const E4=[];function T4(e){f.useEffect(e,E4)}class Ch{constructor(){Li(this,"currentId",null);Li(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Li(this,"disposeEffect",()=>this.clear)}static create(){return new Ch}start(s,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},s)}}function Aj(){const e=Sj(Ch.create).current;return T4(e.disposeEffect),e}const kj=e=>e.scrollTop;function rd(e,s){const{timeout:r,easing:a,style:n={}}=e;return{duration:n.transitionDuration??(typeof r=="number"?r:r[s.mode]||0),easing:n.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:n.transitionDelay}}function ad(e){return typeof e=="string"}function Pj(e,s,r){return e===void 0||ad(e)?s:{...s,ownerState:{...s.ownerState,...r}}}function Ej(e,s,r){return typeof e=="function"?e(s,r):e}function Tj(e,s=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!s.includes(a)).forEach(a=>{r[a]=e[a]}),r}function Xx(e){if(e===void 0)return{};const s={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{s[r]=e[r]}),s}function zj(e){const{getSlotProps:s,additionalProps:r,externalSlotProps:a,externalForwardedProps:n,className:i}=e;if(!s){const u=st(r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),g={...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},y={...r,...n,...a};return u.length>0&&(y.className=u),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const o=Tj({...n,...a}),l=Xx(a),c=Xx(n),h=s(o),d=st(h==null?void 0:h.className,r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),m={...h==null?void 0:h.style,...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},p={...h,...r,...c,...l};return d.length>0&&(p.className=d),Object.keys(m).length>0&&(p.style=m),{props:p,internalRef:h.ref}}function Tt(e,s){const{className:r,elementType:a,ownerState:n,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:h,slots:d={[e]:void 0},slotProps:m={[e]:void 0},...p}=i,u=d[e]||a,g=Ej(m[e],n),{props:{component:y,..._},internalRef:x}=zj({className:r,...c,externalForwardedProps:e==="root"?p:void 0,externalSlotProps:g}),v=Qs(x,g==null?void 0:g.ref,s.ref),C=e==="root"?y||h:y,N=Pj(u,{...e==="root"&&!h&&!d[e]&&o,...e!=="root"&&!d[e]&&o,..._,...C&&!l&&{as:C},...C&&l&&{component:C},ref:v},n);return[u,N]}function z4(e){return vt("MuiPaper",e)}xt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const R4=e=>{const{square:s,elevation:r,variant:a,classes:n}=e,i={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${r}`]};return jt(i,z4,n)},F4=Be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],!r.square&&s.rounded,r.variant==="elevation"&&s[`elevation${r.elevation}`]]}})(Pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ci=f.forwardRef(function(s,r){var u;const a=Nt({props:s,name:"MuiPaper"}),n=jl(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:h="elevation",...d}=a,m={...a,component:o,elevation:l,square:c,variant:h},p=R4(m);return t.jsx(F4,{as:o,ownerState:m,className:st(p.root,i),ref:r,...d,style:{...h==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[l],...n.vars&&{"--Paper-overlay":(u=n.vars.overlays)==null?void 0:u[l]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${al("#fff",Rp(l))}, ${al("#fff",Rp(l))})`}},...d.style}})});function nd(e){try{return e.matches(":focus-visible")}catch{}return!1}class id{constructor(){Li(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new id}static use(){const s=Sj(id.create).current,[r,a]=f.useState(!1);return s.shouldMount=r,s.setShouldMount=a,f.useEffect(s.mountEffect,[r]),s}mount(){return this.mounted||(this.mounted=$4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...s)})}stop(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...s)})}pulsate(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...s)})}}function D4(){return id.use()}function $4(){let e,s;const r=new Promise((a,n)=>{e=a,s=n});return r.resolve=e,r.reject=s,r}function M4(e){const{className:s,classes:r,pulsate:a=!1,rippleX:n,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:h}=e,[d,m]=f.useState(!1),p=st(s,r.ripple,r.rippleVisible,a&&r.ripplePulsate),u={width:o,height:o,top:-(o/2)+i,left:-(o/2)+n},g=st(r.child,d&&r.childLeaving,a&&r.childPulsate);return!l&&!d&&m(!0),f.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,h);return()=>{clearTimeout(y)}}},[c,l,h]),t.jsx("span",{className:p,style:u,children:t.jsx("span",{className:g})})}const ur=xt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Mp=550,L4=80,I4=gl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,O4=gl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,U4=gl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,B4=Be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),q4=Be(M4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ur.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${I4};
    animation-duration: ${Mp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ur.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ur.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ur.childLeaving} {
    opacity: 0;
    animation-name: ${O4};
    animation-duration: ${Mp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ur.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${U4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,W4=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...l}=a,[c,h]=f.useState([]),d=f.useRef(0),m=f.useRef(null);f.useEffect(()=>{m.current&&(m.current(),m.current=null)},[c]);const p=f.useRef(!1),u=Aj(),g=f.useRef(null),y=f.useRef(null),_=f.useCallback(N=>{const{pulsate:E,rippleX:S,rippleY:b,rippleSize:A,cb:j}=N;h(z=>[...z,t.jsx(q4,{classes:{ripple:st(i.ripple,ur.ripple),rippleVisible:st(i.rippleVisible,ur.rippleVisible),ripplePulsate:st(i.ripplePulsate,ur.ripplePulsate),child:st(i.child,ur.child),childLeaving:st(i.childLeaving,ur.childLeaving),childPulsate:st(i.childPulsate,ur.childPulsate)},timeout:Mp,pulsate:E,rippleX:S,rippleY:b,rippleSize:A},d.current)]),d.current+=1,m.current=j},[i]),x=f.useCallback((N={},E={},S=()=>{})=>{const{pulsate:b=!1,center:A=n||E.pulsate,fakeElement:j=!1}=E;if((N==null?void 0:N.type)==="mousedown"&&p.current){p.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(p.current=!0);const z=j?null:y.current,$=z?z.getBoundingClientRect():{width:0,height:0,left:0,top:0};let w,R,D;if(A||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)w=Math.round($.width/2),R=Math.round($.height/2);else{const{clientX:M,clientY:P}=N.touches&&N.touches.length>0?N.touches[0]:N;w=Math.round(M-$.left),R=Math.round(P-$.top)}if(A)D=Math.sqrt((2*$.width**2+$.height**2)/3),D%2===0&&(D+=1);else{const M=Math.max(Math.abs((z?z.clientWidth:0)-w),w)*2+2,P=Math.max(Math.abs((z?z.clientHeight:0)-R),R)*2+2;D=Math.sqrt(M**2+P**2)}N!=null&&N.touches?g.current===null&&(g.current=()=>{_({pulsate:b,rippleX:w,rippleY:R,rippleSize:D,cb:S})},u.start(L4,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:b,rippleX:w,rippleY:R,rippleSize:D,cb:S})},[n,_,u]),v=f.useCallback(()=>{x({},{pulsate:!0})},[x]),C=f.useCallback((N,E)=>{if(u.clear(),(N==null?void 0:N.type)==="touchend"&&g.current){g.current(),g.current=null,u.start(0,()=>{C(N,E)});return}g.current=null,h(S=>S.length>0?S.slice(1):S),m.current=E},[u]);return f.useImperativeHandle(r,()=>({pulsate:v,start:x,stop:C}),[v,x,C]),t.jsx(B4,{className:st(ur.root,i.root,o),ref:y,...l,children:t.jsx(Nh,{component:null,exit:!0,children:c})})});function V4(e){return vt("MuiButtonBase",e)}const H4=xt("MuiButtonBase",["root","disabled","focusVisible"]),G4=e=>{const{disabled:s,focusVisible:r,focusVisibleClassName:a,classes:n}=e,o=jt({root:["root",s&&"disabled",r&&"focusVisible"]},V4,n);return r&&a&&(o.root+=` ${a}`),o},K4=Be("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${H4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Rj=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:h=!1,disableRipple:d=!1,disableTouchRipple:m=!1,focusRipple:p=!1,focusVisibleClassName:u,LinkComponent:g="a",onBlur:y,onClick:_,onContextMenu:x,onDragLeave:v,onFocus:C,onFocusVisible:N,onKeyDown:E,onKeyUp:S,onMouseDown:b,onMouseLeave:A,onMouseUp:j,onTouchEnd:z,onTouchMove:$,onTouchStart:w,tabIndex:R=0,TouchRippleProps:D,touchRippleRef:M,type:P,...k}=a,I=f.useRef(null),F=D4(),O=Qs(F.ref,M),[B,H]=f.useState(!1);h&&B&&H(!1),f.useImperativeHandle(n,()=>({focusVisible:()=>{H(!0),I.current.focus()}}),[]);const U=F.shouldMount&&!d&&!h;f.useEffect(()=>{B&&p&&!d&&F.pulsate()},[d,p,B,F]);const q=na(F,"start",b,m),W=na(F,"stop",x,m),G=na(F,"stop",v,m),re=na(F,"stop",j,m),V=na(F,"stop",le=>{B&&le.preventDefault(),A&&A(le)},m),L=na(F,"start",w,m),Q=na(F,"stop",z,m),J=na(F,"stop",$,m),ue=na(F,"stop",le=>{nd(le.target)||H(!1),y&&y(le)},!1),te=xn(le=>{I.current||(I.current=le.currentTarget),nd(le.target)&&(H(!0),N&&N(le)),C&&C(le)}),pe=()=>{const le=I.current;return c&&c!=="button"&&!(le.tagName==="A"&&le.href)},ye=xn(le=>{p&&!le.repeat&&B&&le.key===" "&&F.stop(le,()=>{F.start(le)}),le.target===le.currentTarget&&pe()&&le.key===" "&&le.preventDefault(),E&&E(le),le.target===le.currentTarget&&pe()&&le.key==="Enter"&&!h&&(le.preventDefault(),_&&_(le))}),Se=xn(le=>{p&&le.key===" "&&B&&!le.defaultPrevented&&F.stop(le,()=>{F.pulsate(le)}),S&&S(le),_&&le.target===le.currentTarget&&pe()&&le.key===" "&&!le.defaultPrevented&&_(le)});let oe=c;oe==="button"&&(k.href||k.to)&&(oe=g);const Z={};if(oe==="button"){const le=!!k.formAction;Z.type=P===void 0&&!le?"button":P,Z.disabled=h}else!k.href&&!k.to&&(Z.role="button"),h&&(Z["aria-disabled"]=h);const ee=Qs(r,I),ge={...a,centerRipple:i,component:c,disabled:h,disableRipple:d,disableTouchRipple:m,focusRipple:p,tabIndex:R,focusVisible:B},ne=G4(ge);return t.jsxs(K4,{as:oe,className:st(ne.root,l),ownerState:ge,onBlur:ue,onClick:_,onContextMenu:W,onFocus:te,onKeyDown:ye,onKeyUp:Se,onMouseDown:q,onMouseLeave:V,onMouseUp:re,onDragLeave:G,onTouchEnd:Q,onTouchMove:J,onTouchStart:L,ref:ee,tabIndex:h?-1:R,type:P,...Z,...k,children:[o,U?t.jsx(W4,{ref:O,center:i,...D}):null]})});function na(e,s,r,a=!1){return xn(n=>(r&&r(n),a||e[s](n),!0))}function Q4(e){return typeof e.main=="string"}function Y4(e,s=[]){if(!Q4(e))return!1;for(const r of s)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function nr(e=[]){return([,s])=>s&&Y4(s,e)}function J4(e){return vt("MuiAlert",e)}const Zx=xt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function X4(e){return vt("MuiCircularProgress",e)}xt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _r=44,Lp=gl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Ip=gl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Z4=typeof Lp!="string"?ch`
        animation: ${Lp} 1.4s linear infinite;
      `:null,e5=typeof Ip!="string"?ch`
        animation: ${Ip} 1.4s ease-in-out infinite;
      `:null,t5=e=>{const{classes:s,variant:r,color:a,disableShrink:n}=e,i={root:["root",r,`color${qe(a)}`],svg:["svg"],track:["track"],circle:["circle",`circle${qe(r)}`,n&&"circleDisableShrink"]};return jt(i,X4,s)},s5=Be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`color${qe(r.color)}`]]}})(Pt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Z4||{animation:`${Lp} 1.4s linear infinite`}},...Object.entries(e.palette).filter(nr()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}}))]}))),r5=Be("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),a5=Be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.circle,s[`circle${qe(r.variant)}`],r.disableShrink&&s.circleDisableShrink]}})(Pt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:e5||{animation:`${Ip} 1.4s ease-in-out infinite`}}]}))),n5=Be("circle",{name:"MuiCircularProgress",slot:"Track"})(Pt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),wi=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,enableTrackSlot:l=!1,size:c=40,style:h,thickness:d=3.6,value:m=0,variant:p="indeterminate",...u}=a,g={...a,color:i,disableShrink:o,size:c,thickness:d,value:m,variant:p,enableTrackSlot:l},y=t5(g),_={},x={},v={};if(p==="determinate"){const C=2*Math.PI*((_r-d)/2);_.strokeDasharray=C.toFixed(3),v["aria-valuenow"]=Math.round(m),_.strokeDashoffset=`${((100-m)/100*C).toFixed(3)}px`,x.transform="rotate(-90deg)"}return t.jsx(s5,{className:st(y.root,n),style:{width:c,height:c,...x,...h},ownerState:g,ref:r,role:"progressbar",...v,...u,children:t.jsxs(r5,{className:y.svg,ownerState:g,viewBox:`${_r/2} ${_r/2} ${_r} ${_r}`,children:[l?t.jsx(n5,{className:y.track,ownerState:g,cx:_r,cy:_r,r:(_r-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,t.jsx(a5,{className:y.circle,style:_,ownerState:g,cx:_r,cy:_r,r:(_r-d)/2,fill:"none",strokeWidth:d})]})})});function i5(e){return vt("MuiIconButton",e)}const e0=xt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),o5=e=>{const{classes:s,disabled:r,color:a,edge:n,size:i,loading:o}=e,l={root:["root",o&&"loading",r&&"disabled",a!=="default"&&`color${qe(a)}`,n&&`edge${qe(n)}`,`size${qe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return jt(l,i5,s)},l5=Be(Rj,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.loading&&s.loading,r.color!=="default"&&s[`color${qe(r.color)}`],r.edge&&s[`edge${qe(r.edge)}`],s[`size${qe(r.size)}`]]}})(Pt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Pt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(nr()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(nr()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${e0.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${e0.loading}`]:{color:"transparent"}}))),c5=Be("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ui=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:h=!1,size:d="medium",id:m,loading:p=null,loadingIndicator:u,...g}=a,y=vl(m),_=u??t.jsx(wi,{"aria-labelledby":y,color:"inherit",size:16}),x={...a,edge:n,color:l,disabled:c,disableFocusRipple:h,loading:p,loadingIndicator:_,size:d},v=o5(x);return t.jsxs(l5,{id:p?y:m,className:st(v.root,o),centerRipple:!0,focusRipple:!h,disabled:c||p,ref:r,...g,ownerState:x,children:[typeof p=="boolean"&&t.jsx("span",{className:v.loadingWrapper,style:{display:"contents"},children:t.jsx(c5,{className:v.loadingIndicator,ownerState:x,children:p&&_})}),i]})}),d5=Ys(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),u5=Ys(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),m5=Ys(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),p5=Ys(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),f5=Ys(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),h5=e=>{const{variant:s,color:r,severity:a,classes:n}=e,i={root:["root",`color${qe(r||a)}`,`${s}${qe(r||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return jt(i,J4,n)},g5=Be(Ci,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${qe(r.color||r.severity)}`]]}})(Pt(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(nr(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${Zx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(nr(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${Zx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(nr(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}}}))]}})),x5=Be("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),y5=Be("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),b5=Be("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),t0={success:t.jsx(d5,{fontSize:"inherit"}),warning:t.jsx(u5,{fontSize:"inherit"}),error:t.jsx(m5,{fontSize:"inherit"}),info:t.jsx(p5,{fontSize:"inherit"})},So=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiAlert"}),{action:n,children:i,className:o,closeText:l="Close",color:c,components:h={},componentsProps:d={},icon:m,iconMapping:p=t0,onClose:u,role:g="alert",severity:y="success",slotProps:_={},slots:x={},variant:v="standard",...C}=a,N={...a,color:c,severity:y,variant:v,colorSeverity:c||y},E=h5(N),S={slots:{closeButton:h.CloseButton,closeIcon:h.CloseIcon,...x},slotProps:{...d,..._}},[b,A]=Tt("root",{ref:r,shouldForwardComponentProp:!0,className:st(E.root,o),elementType:g5,externalForwardedProps:{...S,...C},ownerState:N,additionalProps:{role:g,elevation:0}}),[j,z]=Tt("icon",{className:E.icon,elementType:x5,externalForwardedProps:S,ownerState:N}),[$,w]=Tt("message",{className:E.message,elementType:y5,externalForwardedProps:S,ownerState:N}),[R,D]=Tt("action",{className:E.action,elementType:b5,externalForwardedProps:S,ownerState:N}),[M,P]=Tt("closeButton",{elementType:ui,externalForwardedProps:S,ownerState:N}),[k,I]=Tt("closeIcon",{elementType:f5,externalForwardedProps:S,ownerState:N});return t.jsxs(b,{...A,children:[m!==!1?t.jsx(j,{...z,children:m||p[y]||t0[y]}):null,t.jsx($,{...w,children:i}),n!=null?t.jsx(R,{...D,children:n}):null,n==null&&u?t.jsx(R,{...D,children:t.jsx(M,{size:"small","aria-label":l,title:l,color:"inherit",onClick:u,...P,children:t.jsx(k,{fontSize:"small",...I})})}):null]})});function v5(e){return vt("MuiTypography",e)}xt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const j5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},N5=x4(),C5=e=>{const{align:s,gutterBottom:r,noWrap:a,paragraph:n,variant:i,classes:o}=e,l={root:["root",i,e.align!=="inherit"&&`align${qe(s)}`,r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return jt(l,v5,o)},w5=Be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.variant&&s[r.variant],r.align!=="inherit"&&s[`align${qe(r.align)}`],r.noWrap&&s.noWrap,r.gutterBottom&&s.gutterBottom,r.paragraph&&s.paragraph]}})(Pt(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,a])=>r!=="inherit"&&a&&typeof a=="object").map(([r,a])=>({props:{variant:r},style:a})),...Object.entries(e.palette).filter(nr()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${qe(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),s0={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},js=f.forwardRef(function(s,r){const{color:a,...n}=Nt({props:s,name:"MuiTypography"}),i=!j5[a],o=N5({...n,...i&&{color:a}}),{align:l="inherit",className:c,component:h,gutterBottom:d=!1,noWrap:m=!1,paragraph:p=!1,variant:u="body1",variantMapping:g=s0,...y}=o,_={...o,align:l,color:a,className:c,component:h,gutterBottom:d,noWrap:m,paragraph:p,variant:u,variantMapping:g},x=h||(p?"p":g[u]||s0[u])||"span",v=C5(_);return t.jsx(w5,{as:x,ref:r,className:st(v.root,c),...y,ownerState:_,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function _5(e){var m;const{elementType:s,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:n=!1,...i}=e,o=n?{}:Ej(r,a),{props:l,internalRef:c}=zj({...i,externalSlotProps:o}),h=Qs(c,o==null?void 0:o.ref,(m=e.additionalProps)==null?void 0:m.ref);return Pj(s,{...l,ref:h},a)}function Nl(e){var s;return parseInt(f.version,10)>=19?((s=e==null?void 0:e.props)==null?void 0:s.ref)||null:(e==null?void 0:e.ref)||null}function S5(e){return typeof e=="function"?e():e}const A5=f.forwardRef(function(s,r){const{children:a,container:n,disablePortal:i=!1}=s,[o,l]=f.useState(null),c=Qs(f.isValidElement(a)?Nl(a):null,r);if(Sn(()=>{i||l(S5(n)||document.body)},[n,i]),Sn(()=>{if(o&&!i)return Kx(r,o),()=>{Kx(r,null)}},[r,o,i]),i){if(f.isValidElement(a)){const h={ref:c};return f.cloneElement(a,h)}return a}return o&&Bf.createPortal(a,o)});function Hl(e){return parseInt(e,10)||0}const k5={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function P5(e){for(const s in e)return!1;return!0}function r0(e){return P5(e)||e.outerHeightStyle===0&&!e.overflowing}const E5=f.forwardRef(function(s,r){const{onChange:a,maxRows:n,minRows:i=1,style:o,value:l,...c}=s,{current:h}=f.useRef(l!=null),d=f.useRef(null),m=Qs(r,d),p=f.useRef(null),u=f.useRef(null),g=f.useCallback(()=>{const C=d.current,N=u.current;if(!C||!N)return;const S=va(C).getComputedStyle(C);if(S.width==="0px")return{outerHeightStyle:0,overflowing:!1};N.style.width=S.width,N.value=C.value||s.placeholder||"x",N.value.slice(-1)===`
`&&(N.value+=" ");const b=S.boxSizing,A=Hl(S.paddingBottom)+Hl(S.paddingTop),j=Hl(S.borderBottomWidth)+Hl(S.borderTopWidth),z=N.scrollHeight;N.value="x";const $=N.scrollHeight;let w=z;i&&(w=Math.max(Number(i)*$,w)),n&&(w=Math.min(Number(n)*$,w)),w=Math.max(w,$);const R=w+(b==="border-box"?A+j:0),D=Math.abs(w-z)<=1;return{outerHeightStyle:R,overflowing:D}},[n,i,s.placeholder]),y=xn(()=>{const C=d.current,N=g();if(!C||!N||r0(N))return!1;const E=N.outerHeightStyle;return p.current!=null&&p.current!==E}),_=f.useCallback(()=>{const C=d.current,N=g();if(!C||!N||r0(N))return;const E=N.outerHeightStyle;p.current!==E&&(p.current=E,C.style.height=`${E}px`),C.style.overflow=N.overflowing?"hidden":""},[g]),x=f.useRef(-1);Sn(()=>{const C=Cj(_),N=d==null?void 0:d.current;if(!N)return;const E=va(N);E.addEventListener("resize",C);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(()=>{y()&&(S.unobserve(N),cancelAnimationFrame(x.current),_(),x.current=requestAnimationFrame(()=>{S.observe(N)}))}),S.observe(N)),()=>{C.clear(),cancelAnimationFrame(x.current),E.removeEventListener("resize",C),S&&S.disconnect()}},[g,_,y]),Sn(()=>{_()});const v=C=>{h||_();const N=C.target,E=N.value.length,S=N.value.endsWith(`
`),b=N.selectionStart===E;S&&b&&N.setSelectionRange(E,E),a&&a(C)};return t.jsxs(f.Fragment,{children:[t.jsx("textarea",{value:l,onChange:v,ref:m,rows:i,style:o,...c}),t.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:u,tabIndex:-1,style:{...k5.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Mi({props:e,states:s,muiFormControl:r}){return s.reduce((a,n)=>(a[n]=e[n],r&&typeof e[n]>"u"&&(a[n]=r[n]),a),{})}const vu=f.createContext(void 0);function Pn(){return f.useContext(vu)}function a0(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function od(e,s=!1){return e&&(a0(e.value)&&e.value!==""||s&&a0(e.defaultValue)&&e.defaultValue!=="")}function T5(e){return e.startAdornment}function z5(e){return vt("MuiInputBase",e)}const _i=xt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var n0;const ju=(e,s)=>{const{ownerState:r}=e;return[s.root,r.formControl&&s.formControl,r.startAdornment&&s.adornedStart,r.endAdornment&&s.adornedEnd,r.error&&s.error,r.size==="small"&&s.sizeSmall,r.multiline&&s.multiline,r.color&&s[`color${qe(r.color)}`],r.fullWidth&&s.fullWidth,r.hiddenLabel&&s.hiddenLabel]},Nu=(e,s)=>{const{ownerState:r}=e;return[s.input,r.size==="small"&&s.inputSizeSmall,r.multiline&&s.inputMultiline,r.type==="search"&&s.inputTypeSearch,r.startAdornment&&s.inputAdornedStart,r.endAdornment&&s.inputAdornedEnd,r.hiddenLabel&&s.inputHiddenLabel]},R5=e=>{const{classes:s,color:r,disabled:a,error:n,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:h,multiline:d,readOnly:m,size:p,startAdornment:u,type:g}=e,y={root:["root",`color${qe(r)}`,a&&"disabled",n&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",p&&p!=="medium"&&`size${qe(p)}`,d&&"multiline",u&&"adornedStart",i&&"adornedEnd",h&&"hiddenLabel",m&&"readOnly"],input:["input",a&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",u&&"inputAdornedStart",i&&"inputAdornedEnd",m&&"readOnly"]};return jt(y,z5,s)},Cu=Be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ju})(Pt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${_i.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),wu=Be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Nu})(Pt(({theme:e})=>{const s=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},a={opacity:"0 !important"},n=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${_i.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${_i.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),i0=g4({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),wh=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:l,color:c,components:h={},componentsProps:d={},defaultValue:m,disabled:p,disableInjectingGlobalStyles:u,endAdornment:g,error:y,fullWidth:_=!1,id:x,inputComponent:v="input",inputProps:C={},inputRef:N,margin:E,maxRows:S,minRows:b,multiline:A=!1,name:j,onBlur:z,onChange:$,onClick:w,onFocus:R,onKeyDown:D,onKeyUp:M,placeholder:P,readOnly:k,renderSuffix:I,rows:F,size:O,slotProps:B={},slots:H={},startAdornment:U,type:q="text",value:W,...G}=a,re=C.value!=null?C.value:W,{current:V}=f.useRef(re!=null),L=f.useRef(),Q=f.useCallback($e=>{},[]),J=Qs(L,N,C.ref,Q),[ue,te]=f.useState(!1),pe=Pn(),ye=Mi({props:a,muiFormControl:pe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ye.focused=pe?pe.focused:ue,f.useEffect(()=>{!pe&&p&&ue&&(te(!1),z&&z())},[pe,p,ue,z]);const Se=pe&&pe.onFilled,oe=pe&&pe.onEmpty,Z=f.useCallback($e=>{od($e)?Se&&Se():oe&&oe()},[Se,oe]);Sn(()=>{V&&Z({value:re})},[re,Z,V]);const ee=$e=>{R&&R($e),C.onFocus&&C.onFocus($e),pe&&pe.onFocus?pe.onFocus($e):te(!0)},ge=$e=>{z&&z($e),C.onBlur&&C.onBlur($e),pe&&pe.onBlur?pe.onBlur($e):te(!1)},ne=($e,...it)=>{if(!V){const mt=$e.target||L.current;if(mt==null)throw new Error(ya(1));Z({value:mt.value})}C.onChange&&C.onChange($e,...it),$&&$($e,...it)};f.useEffect(()=>{Z(L.current)},[]);const le=$e=>{L.current&&$e.currentTarget===$e.target&&L.current.focus(),w&&w($e)};let Y=v,ie=C;A&&Y==="input"&&(F?ie={type:void 0,minRows:F,maxRows:F,...ie}:ie={type:void 0,maxRows:S,minRows:b,...ie},Y=E5);const de=$e=>{Z($e.animationName==="mui-auto-fill-cancel"?L.current:{value:"x"})};f.useEffect(()=>{pe&&pe.setAdornedStart(!!U)},[pe,U]);const he={...a,color:ye.color||"primary",disabled:ye.disabled,endAdornment:g,error:ye.error,focused:ye.focused,formControl:pe,fullWidth:_,hiddenLabel:ye.hiddenLabel,multiline:A,size:ye.size,startAdornment:U,type:q},Pe=R5(he),Te=H.root||h.Root||Cu,Ke=B.root||d.root||{},ke=H.input||h.Input||wu;return ie={...ie,...B.input??d.input},t.jsxs(f.Fragment,{children:[!u&&typeof i0=="function"&&(n0||(n0=t.jsx(i0,{}))),t.jsxs(Te,{...Ke,ref:r,onClick:le,...G,...!ad(Te)&&{ownerState:{...he,...Ke.ownerState}},className:st(Pe.root,Ke.className,l,k&&"MuiInputBase-readOnly"),children:[U,t.jsx(vu.Provider,{value:null,children:t.jsx(ke,{"aria-invalid":ye.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:m,disabled:ye.disabled,id:x,onAnimationStart:de,name:j,placeholder:P,readOnly:k,required:ye.required,rows:F,value:re,onKeyDown:D,onKeyUp:M,type:q,...ie,...!ad(ke)&&{as:Y,ownerState:{...he,...ie.ownerState}},ref:J,className:st(Pe.input,ie.className,k&&"MuiInputBase-readOnly"),onBlur:ge,onChange:ne,onFocus:ee})}),g,I?I({...ye,startAdornment:U}):null]})]})});function F5(e){return vt("MuiInput",e)}const Xi={..._i,...xt("MuiInput",["root","underline","input"])};function D5(e){return vt("MuiOutlinedInput",e)}const qr={..._i,...xt("MuiOutlinedInput",["root","notchedOutline","input"])};function $5(e){return vt("MuiFilledInput",e)}const Za={..._i,...xt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},M5=Ys(t.jsx("path",{d:"M7 10l5 5 5-5z"})),L5={entering:{opacity:1},entered:{opacity:1}},Op=f.forwardRef(function(s,r){const a=jl(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:h,onEnter:d,onEntered:m,onEntering:p,onExit:u,onExited:g,onExiting:y,style:_,timeout:x=n,TransitionComponent:v=sa,...C}=s,N=f.useRef(null),E=Qs(N,Nl(l),r),S=D=>M=>{if(D){const P=N.current;M===void 0?D(P):D(P,M)}},b=S(p),A=S((D,M)=>{kj(D);const P=rd({style:_,timeout:x,easing:c},{mode:"enter"});D.style.webkitTransition=a.transitions.create("opacity",P),D.style.transition=a.transitions.create("opacity",P),d&&d(D,M)}),j=S(m),z=S(y),$=S(D=>{const M=rd({style:_,timeout:x,easing:c},{mode:"exit"});D.style.webkitTransition=a.transitions.create("opacity",M),D.style.transition=a.transitions.create("opacity",M),u&&u(D)}),w=S(g),R=D=>{i&&i(N.current,D)};return t.jsx(v,{appear:o,in:h,nodeRef:N,onEnter:A,onEntered:j,onEntering:b,onExit:$,onExited:w,onExiting:z,addEndListener:R,timeout:x,...C,children:(D,{ownerState:M,...P})=>f.cloneElement(l,{style:{opacity:0,visibility:D==="exited"&&!h?"hidden":void 0,...L5[D],..._,...l.props.style},ref:E,...P})})});function I5(e){return vt("MuiBackdrop",e)}xt("MuiBackdrop",["root","invisible"]);const O5=e=>{const{classes:s,invisible:r}=e;return jt({root:["root",r&&"invisible"]},I5,s)},U5=Be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Fj=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:l=!1,open:c,components:h={},componentsProps:d={},slotProps:m={},slots:p={},TransitionComponent:u,transitionDuration:g,...y}=a,_={...a,component:o,invisible:l},x=O5(_),v={transition:u,root:h.Root,...p},C={...d,...m},N={component:o,slots:v,slotProps:C},[E,S]=Tt("root",{elementType:U5,externalForwardedProps:N,className:st(x.root,i),ownerState:_}),[b,A]=Tt("transition",{elementType:Op,externalForwardedProps:N,ownerState:_});return t.jsx(b,{in:c,timeout:g,...y,...A,children:t.jsx(E,{"aria-hidden":!0,...S,classes:x,ref:r,children:n})})}),B5=xt("MuiBox",["root"]),q5=jj(),ia=ck({themeId:Od,defaultTheme:q5,defaultClassName:B5.root,generateClassName:dj.generate});function W5(e){return vt("MuiButton",e)}const en=xt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),V5=f.createContext({}),H5=f.createContext(void 0),G5=e=>{const{color:s,disableElevation:r,fullWidth:a,size:n,variant:i,loading:o,loadingPosition:l,classes:c}=e,h={root:["root",o&&"loading",i,`${i}${qe(s)}`,`size${qe(n)}`,`${i}Size${qe(n)}`,`color${qe(s)}`,r&&"disableElevation",a&&"fullWidth",o&&`loadingPosition${qe(l)}`],startIcon:["icon","startIcon",`iconSize${qe(n)}`],endIcon:["icon","endIcon",`iconSize${qe(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=jt(h,W5,c);return{...c,...d}},Dj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],K5=Be(Rj,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${qe(r.color)}`],s[`size${qe(r.size)}`],s[`${r.variant}Size${qe(r.size)}`],r.color==="inherit"&&s.colorInherit,r.disableElevation&&s.disableElevation,r.fullWidth&&s.fullWidth,r.loading&&s.loading]}})(Pt(({theme:e})=>{const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${en.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${en.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${en.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${en.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(nr()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(e.vars||e).palette[a].main,"--variant-outlinedColor":(e.vars||e).palette[a].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[a].main,.5),"--variant-containedColor":(e.vars||e).palette[a].contrastText,"--variant-containedBg":(e.vars||e).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[a].dark,"--variant-textBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[a].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${en.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${en.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${en.loading}`]:{color:"transparent"}}}]}})),Q5=Be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.startIcon,r.loading&&s.startIconLoadingStart,s[`iconSize${qe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Dj]})),Y5=Be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.endIcon,r.loading&&s.endIconLoadingEnd,s[`iconSize${qe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Dj]})),J5=Be("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),o0=Be("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),l0=f.forwardRef(function(s,r){const a=f.useContext(V5),n=f.useContext(H5),i=td(a,s),o=Nt({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:h="button",className:d,disabled:m=!1,disableElevation:p=!1,disableFocusRipple:u=!1,endIcon:g,focusVisibleClassName:y,fullWidth:_=!1,id:x,loading:v=null,loadingIndicator:C,loadingPosition:N="center",size:E="medium",startIcon:S,type:b,variant:A="text",...j}=o,z=vl(x),$=C??t.jsx(wi,{"aria-labelledby":z,color:"inherit",size:16}),w={...o,color:c,component:h,disabled:m,disableElevation:p,disableFocusRipple:u,fullWidth:_,loading:v,loadingIndicator:$,loadingPosition:N,size:E,type:b,variant:A},R=G5(w),D=(S||v&&N==="start")&&t.jsx(Q5,{className:R.startIcon,ownerState:w,children:S||t.jsx(o0,{className:R.loadingIconPlaceholder,ownerState:w})}),M=(g||v&&N==="end")&&t.jsx(Y5,{className:R.endIcon,ownerState:w,children:g||t.jsx(o0,{className:R.loadingIconPlaceholder,ownerState:w})}),P=n||"",k=typeof v=="boolean"?t.jsx("span",{className:R.loadingWrapper,style:{display:"contents"},children:v&&t.jsx(J5,{className:R.loadingIndicator,ownerState:w,children:$})}):null;return t.jsxs(K5,{ownerState:w,className:st(a.className,R.root,d,P),component:h,disabled:m||v,focusRipple:!u,focusVisibleClassName:st(R.focusVisible,y),ref:r,type:b,id:v?z:x,...j,classes:R,children:[D,N!=="end"&&k,l,N==="end"&&k,M]})});function $j(e=window){const s=e.document.documentElement.clientWidth;return e.innerWidth-s}function X5(e){const s=Dr(e);return s.body===e?va(e).innerWidth>s.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ao(e,s){s?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function c0(e){return parseInt(va(e).getComputedStyle(e).paddingRight,10)||0}function Z5(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),a=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||a}function d0(e,s,r,a,n){const i=[s,r,...a];[].forEach.call(e.children,o=>{const l=!i.includes(o),c=!Z5(o);l&&c&&Ao(o,n)})}function dm(e,s){let r=-1;return e.some((a,n)=>s(a)?(r=n,!0):!1),r}function eP(e,s){const r=[],a=e.container;if(!s.disableScrollLock){if(X5(a)){const o=$j(va(a));r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${c0(a)+o}px`;const l=Dr(a).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${c0(c)+o}px`})}let i;if(a.parentNode instanceof DocumentFragment)i=Dr(a).body;else{const o=a.parentElement,l=va(a);i=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:a}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function tP(e){const s=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&s.push(r)}),s}class sP{constructor(){this.modals=[],this.containers=[]}add(s,r){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&Ao(s.modalRef,!1);const n=tP(r);d0(r,s.mount,s.modalRef,n,!0);const i=dm(this.containers,o=>o.container===r);return i!==-1?(this.containers[i].modals.push(s),a):(this.containers.push({modals:[s],container:r,restore:null,hiddenSiblings:n}),a)}mount(s,r){const a=dm(this.containers,i=>i.modals.includes(s)),n=this.containers[a];n.restore||(n.restore=eP(n,r))}remove(s,r=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const n=dm(this.containers,o=>o.modals.includes(s)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(a,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&Ao(s.modalRef,r),d0(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Ao(o.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function fo(e){var r;let s=e.activeElement;for(;((r=s==null?void 0:s.shadowRoot)==null?void 0:r.activeElement)!=null;)s=s.shadowRoot.activeElement;return s}const rP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function aP(e){const s=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(s)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:s}function nP(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const s=a=>e.ownerDocument.querySelector(`input[type="radio"]${a}`);let r=s(`[name="${e.name}"]:checked`);return r||(r=s(`[name="${e.name}"]`)),r!==e}function iP(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||nP(e))}function oP(e){const s=[],r=[];return Array.from(e.querySelectorAll(rP)).forEach((a,n)=>{const i=aP(a);i===-1||!iP(a)||(i===0?s.push(a):r.push({documentOrder:n,tabIndex:i,node:a}))}),r.sort((a,n)=>a.tabIndex===n.tabIndex?a.documentOrder-n.documentOrder:a.tabIndex-n.tabIndex).map(a=>a.node).concat(s)}function lP(){return!0}function cP(e){const{children:s,disableAutoFocus:r=!1,disableEnforceFocus:a=!1,disableRestoreFocus:n=!1,getTabbable:i=oP,isEnabled:o=lP,open:l}=e,c=f.useRef(!1),h=f.useRef(null),d=f.useRef(null),m=f.useRef(null),p=f.useRef(null),u=f.useRef(!1),g=f.useRef(null),y=Qs(Nl(s),g),_=f.useRef(null);f.useEffect(()=>{!l||!g.current||(u.current=!r)},[r,l]),f.useEffect(()=>{if(!l||!g.current)return;const C=Dr(g.current),N=fo(C);return g.current.contains(N)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),u.current&&g.current.focus()),()=>{n||(m.current&&m.current.focus&&(c.current=!0,m.current.focus()),m.current=null)}},[l]),f.useEffect(()=>{if(!l||!g.current)return;const C=Dr(g.current),N=fo(C),E=A=>{_.current=A,!(a||!o()||A.key!=="Tab")&&N===g.current&&A.shiftKey&&(c.current=!0,d.current&&d.current.focus())},S=()=>{var $,w;const A=g.current;if(A===null)return;const j=fo(C);if(!C.hasFocus()||!o()||c.current){c.current=!1;return}if(A.contains(j)||a&&j!==h.current&&j!==d.current)return;if(j!==p.current)p.current=null;else if(p.current!==null)return;if(!u.current)return;let z=[];if((j===h.current||j===d.current)&&(z=i(g.current)),z.length>0){const R=!!(($=_.current)!=null&&$.shiftKey&&((w=_.current)==null?void 0:w.key)==="Tab"),D=z[0],M=z[z.length-1];typeof D!="string"&&typeof M!="string"&&(R?M.focus():D.focus())}else A.focus()};C.addEventListener("focusin",S),C.addEventListener("keydown",E,!0);const b=setInterval(()=>{const A=fo(C);A&&A.tagName==="BODY"&&S()},50);return()=>{clearInterval(b),C.removeEventListener("focusin",S),C.removeEventListener("keydown",E,!0)}},[r,a,n,o,l,i]);const x=C=>{m.current===null&&(m.current=C.relatedTarget),u.current=!0,p.current=C.target;const N=s.props.onFocus;N&&N(C)},v=C=>{m.current===null&&(m.current=C.relatedTarget),u.current=!0};return t.jsxs(f.Fragment,{children:[t.jsx("div",{tabIndex:l?0:-1,onFocus:v,ref:h,"data-testid":"sentinelStart"}),f.cloneElement(s,{ref:y,onFocus:x}),t.jsx("div",{tabIndex:l?0:-1,onFocus:v,ref:d,"data-testid":"sentinelEnd"})]})}function dP(e){return typeof e=="function"?e():e}function uP(e){return e?e.props.hasOwnProperty("in"):!1}const u0=()=>{},Gl=new sP;function mP(e){const{container:s,disableEscapeKeyDown:r=!1,disableScrollLock:a=!1,closeAfterTransition:n=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:h,rootRef:d}=e,m=f.useRef({}),p=f.useRef(null),u=f.useRef(null),g=Qs(u,d),[y,_]=f.useState(!h),x=uP(l);let v=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(v=!1);const C=()=>Dr(p.current),N=()=>(m.current.modalRef=u.current,m.current.mount=p.current,m.current),E=()=>{Gl.mount(N(),{disableScrollLock:a}),u.current&&(u.current.scrollTop=0)},S=xn(()=>{const M=dP(s)||C().body;Gl.add(N(),M),u.current&&E()}),b=()=>Gl.isTopModal(N()),A=xn(M=>{p.current=M,M&&(h&&b()?E():u.current&&Ao(u.current,v))}),j=f.useCallback(()=>{Gl.remove(N(),v)},[v]);f.useEffect(()=>()=>{j()},[j]),f.useEffect(()=>{h?S():(!x||!n)&&j()},[h,j,x,n,S]);const z=M=>P=>{var k;(k=M.onKeyDown)==null||k.call(M,P),!(P.key!=="Escape"||P.which===229||!b())&&(r||(P.stopPropagation(),c&&c(P,"escapeKeyDown")))},$=M=>P=>{var k;(k=M.onClick)==null||k.call(M,P),P.target===P.currentTarget&&c&&c(P,"backdropClick")};return{getRootProps:(M={})=>{const P=Tj(e);delete P.onTransitionEnter,delete P.onTransitionExited;const k={...P,...M};return{role:"presentation",...k,onKeyDown:z(k),ref:g}},getBackdropProps:(M={})=>{const P=M;return{"aria-hidden":!0,...P,onClick:$(P),open:h}},getTransitionProps:()=>{const M=()=>{_(!1),i&&i()},P=()=>{_(!0),o&&o(),n&&j()};return{onEnter:Gx(M,(l==null?void 0:l.props.onEnter)??u0),onExited:Gx(P,(l==null?void 0:l.props.onExited)??u0)}},rootRef:g,portalRef:A,isTopModal:b,exited:y,hasTransition:x}}function pP(e){return vt("MuiModal",e)}xt("MuiModal",["root","hidden","backdrop"]);const fP=e=>{const{open:s,exited:r,classes:a}=e;return jt({root:["root",!s&&r&&"hidden"],backdrop:["backdrop"]},pP,a)},hP=Be("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.open&&r.exited&&s.hidden]}})(Pt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),gP=Be(Fj,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Mj=f.forwardRef(function(s,r){const a=Nt({name:"MuiModal",props:s}),{BackdropComponent:n=gP,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:h,container:d,component:m,components:p={},componentsProps:u={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:_=!1,disablePortal:x=!1,disableRestoreFocus:v=!1,disableScrollLock:C=!1,hideBackdrop:N=!1,keepMounted:E=!1,onClose:S,onTransitionEnter:b,onTransitionExited:A,open:j,slotProps:z={},slots:$={},theme:w,...R}=a,D={...a,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:_,disablePortal:x,disableRestoreFocus:v,disableScrollLock:C,hideBackdrop:N,keepMounted:E},{getRootProps:M,getBackdropProps:P,getTransitionProps:k,portalRef:I,isTopModal:F,exited:O,hasTransition:B}=mP({...D,rootRef:r}),H={...D,exited:O},U=fP(H),q={};if(h.props.tabIndex===void 0&&(q.tabIndex="-1"),B){const{onEnter:Q,onExited:J}=k();q.onEnter=Q,q.onExited=J}const W={slots:{root:p.Root,backdrop:p.Backdrop,...$},slotProps:{...u,...z}},[G,re]=Tt("root",{ref:r,elementType:hP,externalForwardedProps:{...W,...R,component:m},getSlotProps:M,ownerState:H,className:st(l,U==null?void 0:U.root,!H.open&&H.exited&&(U==null?void 0:U.hidden))}),[V,L]=Tt("backdrop",{ref:i==null?void 0:i.ref,elementType:n,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:Q=>P({...Q,onClick:J=>{Q!=null&&Q.onClick&&Q.onClick(J)}}),className:st(i==null?void 0:i.className,U==null?void 0:U.backdrop),ownerState:H});return!E&&!j&&(!B||O)?null:t.jsx(A5,{ref:I,container:d,disablePortal:x,children:t.jsxs(G,{...re,children:[!N&&n?t.jsx(V,{...L}):null,t.jsx(cP,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:v,isEnabled:F,open:j,children:f.cloneElement(h,q)})]})})});function xP(e){return vt("MuiDialog",e)}const um=xt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Lj=f.createContext({}),yP=Be(Fj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,s)=>s.backdrop})({zIndex:-1}),bP=e=>{const{classes:s,scroll:r,maxWidth:a,fullWidth:n,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${qe(r)}`],paper:["paper",`paperScroll${qe(r)}`,`paperWidth${qe(String(a))}`,n&&"paperFullWidth",i&&"paperFullScreen"]};return jt(o,xP,s)},vP=Be(Mj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),jP=Be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.container,s[`scroll${qe(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),NP=Be(Ci,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.paper,s[`scrollPaper${qe(r.scroll)}`],s[`paperWidth${qe(String(r.maxWidth))}`],r.fullWidth&&s.paperFullWidth,r.fullScreen&&s.paperFullScreen]}})(Pt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${um.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${e.breakpoints.values[s]}${e.breakpoints.unit}`,[`&.${um.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${um.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),CP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiDialog"}),n=jl(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:h,BackdropProps:d,children:m,className:p,disableEscapeKeyDown:u=!1,fullScreen:g=!1,fullWidth:y=!1,maxWidth:_="sm",onClick:x,onClose:v,open:C,PaperComponent:N=Ci,PaperProps:E={},scroll:S="paper",slots:b={},slotProps:A={},TransitionComponent:j=Op,transitionDuration:z=i,TransitionProps:$,...w}=a,R={...a,disableEscapeKeyDown:u,fullScreen:g,fullWidth:y,maxWidth:_,scroll:S},D=bP(R),M=f.useRef(),P=te=>{M.current=te.target===te.currentTarget},k=te=>{x&&x(te),M.current&&(M.current=null,v&&v(te,"backdropClick"))},I=vl(l),F=f.useMemo(()=>({titleId:I}),[I]),O={transition:j,...b},B={transition:$,paper:E,backdrop:d,...A},H={slots:O,slotProps:B},[U,q]=Tt("root",{elementType:vP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:R,className:st(D.root,p),ref:r}),[W,G]=Tt("backdrop",{elementType:yP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:R}),[re,V]=Tt("paper",{elementType:NP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:R,className:st(D.paper,E.className)}),[L,Q]=Tt("container",{elementType:jP,externalForwardedProps:H,ownerState:R,className:D.container}),[J,ue]=Tt("transition",{elementType:Op,externalForwardedProps:H,ownerState:R,additionalProps:{appear:!0,in:C,timeout:z,role:"presentation"}});return t.jsx(U,{closeAfterTransition:!0,slots:{backdrop:W},slotProps:{backdrop:{transitionDuration:z,as:h,...G}},disableEscapeKeyDown:u,onClose:v,open:C,onClick:k,...q,...w,children:t.jsx(J,{...ue,children:t.jsx(L,{onMouseDown:P,...Q,children:t.jsx(re,{as:N,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":I,"aria-modal":c,...V,children:t.jsx(Lj.Provider,{value:F,children:m})})})})})});function wP(e){return vt("MuiDialogActions",e)}xt("MuiDialogActions",["root","spacing"]);const _P=e=>{const{classes:s,disableSpacing:r}=e;return jt({root:["root",!r&&"spacing"]},wP,s)},SP=Be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),AP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1,...o}=a,l={...a,disableSpacing:i},c=_P(l);return t.jsx(SP,{className:st(c.root,n),ownerState:l,ref:r,...o})});function kP(e){return vt("MuiDialogContent",e)}xt("MuiDialogContent",["root","dividers"]);function PP(e){return vt("MuiDialogTitle",e)}const EP=xt("MuiDialogTitle",["root"]),TP=e=>{const{classes:s,dividers:r}=e;return jt({root:["root",r&&"dividers"]},kP,s)},zP=Be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.dividers&&s.dividers]}})(Pt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${EP.root} + &`]:{paddingTop:0}}}]}))),RP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiDialogContent"}),{className:n,dividers:i=!1,...o}=a,l={...a,dividers:i},c=TP(l);return t.jsx(zP,{className:st(c.root,n),ownerState:l,ref:r,...o})}),FP=e=>{const{classes:s}=e;return jt({root:["root"]},PP,s)},DP=Be(js,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),$P=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiDialogTitle"}),{className:n,id:i,...o}=a,l=a,c=FP(l),{titleId:h=i}=f.useContext(Lj);return t.jsx(DP,{component:"h2",className:st(c.root,n),ownerState:l,ref:r,variant:"h6",id:i??h,...o})}),MP=e=>{const{classes:s,disableUnderline:r,startAdornment:a,endAdornment:n,size:i,hiddenLabel:o,multiline:l}=e,c={root:["root",!r&&"underline",a&&"adornedStart",n&&"adornedEnd",i==="small"&&`size${qe(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},h=jt(c,$5,s);return{...s,...h}},LP=Be(Cu,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...ju(e,s),!r.disableUnderline&&s.underline]}})(Pt(({theme:e})=>{const s=e.palette.mode==="light",r=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Za.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Za.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Za.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Za.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Za.disabled}, .${Za.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Za.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(nr()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),IP=Be(wu,{name:"MuiFilledInput",slot:"Input",overridesResolver:Nu})(Pt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),_h=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:h="input",multiline:d=!1,slotProps:m,slots:p={},type:u="text",...g}=a,y={...a,disableUnderline:n,fullWidth:l,inputComponent:h,multiline:d,type:u},_=MP(a),x={root:{ownerState:y},input:{ownerState:y}},v=m??o?Ss(x,m??o):x,C=p.root??i.Root??LP,N=p.input??i.Input??IP;return t.jsx(wh,{slots:{root:C,input:N},slotProps:v,fullWidth:l,inputComponent:h,multiline:d,ref:r,type:u,...g,classes:_})});_h.muiName="Input";function OP(e){return vt("MuiFormControl",e)}xt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const UP=e=>{const{classes:s,margin:r,fullWidth:a}=e,n={root:["root",r!=="none"&&`margin${qe(r)}`,a&&"fullWidth"]};return jt(n,OP,s)},BP=Be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`margin${qe(r.margin)}`],r.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),qP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:l="div",disabled:c=!1,error:h=!1,focused:d,fullWidth:m=!1,hiddenLabel:p=!1,margin:u="none",required:g=!1,size:y="medium",variant:_="outlined",...x}=a,v={...a,color:o,component:l,disabled:c,error:h,fullWidth:m,hiddenLabel:p,margin:u,required:g,size:y,variant:_},C=UP(v),[N,E]=f.useState(()=>{let M=!1;return n&&f.Children.forEach(n,P=>{if(!lm(P,["Input","Select"]))return;const k=lm(P,["Select"])?P.props.input:P;k&&T5(k.props)&&(M=!0)}),M}),[S,b]=f.useState(()=>{let M=!1;return n&&f.Children.forEach(n,P=>{lm(P,["Input","Select"])&&(od(P.props,!0)||od(P.props.inputProps,!0))&&(M=!0)}),M}),[A,j]=f.useState(!1);c&&A&&j(!1);const z=d!==void 0&&!c?d:A;let $;f.useRef(!1);const w=f.useCallback(()=>{b(!0)},[]),R=f.useCallback(()=>{b(!1)},[]),D=f.useMemo(()=>({adornedStart:N,setAdornedStart:E,color:o,disabled:c,error:h,filled:S,focused:z,fullWidth:m,hiddenLabel:p,size:y,onBlur:()=>{j(!1)},onFocus:()=>{j(!0)},onEmpty:R,onFilled:w,registerEffect:$,required:g,variant:_}),[N,o,c,h,S,z,m,p,$,R,w,g,y,_]);return t.jsx(vu.Provider,{value:D,children:t.jsx(BP,{as:l,ownerState:v,className:st(C.root,i),ref:r,...x,children:n})})});function WP(e){return vt("MuiFormHelperText",e)}const m0=xt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var p0;const VP=e=>{const{classes:s,contained:r,size:a,disabled:n,error:i,filled:o,focused:l,required:c}=e,h={root:["root",n&&"disabled",i&&"error",a&&`size${qe(a)}`,r&&"contained",l&&"focused",o&&"filled",c&&"required"]};return jt(h,WP,s)},HP=Be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s[`size${qe(r.size)}`],r.contained&&s.contained,r.filled&&s.filled]}})(Pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${m0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${m0.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),GP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:l,error:c,filled:h,focused:d,margin:m,required:p,variant:u,...g}=a,y=Pn(),_=Mi({props:a,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...a,component:o,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete x.ownerState;const v=VP(x);return t.jsx(HP,{as:o,className:st(v.root,i),ref:r,...g,ownerState:x,children:n===" "?p0||(p0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function KP(e){return vt("MuiFormLabel",e)}const ko=xt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),QP=e=>{const{classes:s,color:r,focused:a,disabled:n,error:i,filled:o,required:l}=e,c={root:["root",`color${qe(r)}`,n&&"disabled",i&&"error",o&&"filled",a&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return jt(c,KP,s)},YP=Be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color==="secondary"&&s.colorSecondary,r.filled&&s.filled]}})(Pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(nr()).map(([s])=>({props:{color:s},style:{[`&.${ko.focused}`]:{color:(e.vars||e).palette[s].main}}})),{props:{},style:{[`&.${ko.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${ko.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),JP=Be("span",{name:"MuiFormLabel",slot:"Asterisk"})(Pt(({theme:e})=>({[`&.${ko.error}`]:{color:(e.vars||e).palette.error.main}}))),XP=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:l="label",disabled:c,error:h,filled:d,focused:m,required:p,...u}=a,g=Pn(),y=Mi({props:a,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),_={...a,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=QP(_);return t.jsxs(YP,{as:l,ownerState:_,className:st(x.root,i),ref:r,...u,children:[n,y.required&&t.jsxs(JP,{ownerState:_,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function Up(e){return`scale(${e}, ${e**2})`}const ZP={entering:{opacity:1,transform:Up(1)},entered:{opacity:1,transform:"none"}},mm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Bp=f.forwardRef(function(s,r){const{addEndListener:a,appear:n=!0,children:i,easing:o,in:l,onEnter:c,onEntered:h,onEntering:d,onExit:m,onExited:p,onExiting:u,style:g,timeout:y="auto",TransitionComponent:_=sa,...x}=s,v=Aj(),C=f.useRef(),N=jl(),E=f.useRef(null),S=Qs(E,Nl(i),r),b=M=>P=>{if(M){const k=E.current;P===void 0?M(k):M(k,P)}},A=b(d),j=b((M,P)=>{kj(M);const{duration:k,delay:I,easing:F}=rd({style:g,timeout:y,easing:o},{mode:"enter"});let O;y==="auto"?(O=N.transitions.getAutoHeightDuration(M.clientHeight),C.current=O):O=k,M.style.transition=[N.transitions.create("opacity",{duration:O,delay:I}),N.transitions.create("transform",{duration:mm?O:O*.666,delay:I,easing:F})].join(","),c&&c(M,P)}),z=b(h),$=b(u),w=b(M=>{const{duration:P,delay:k,easing:I}=rd({style:g,timeout:y,easing:o},{mode:"exit"});let F;y==="auto"?(F=N.transitions.getAutoHeightDuration(M.clientHeight),C.current=F):F=P,M.style.transition=[N.transitions.create("opacity",{duration:F,delay:k}),N.transitions.create("transform",{duration:mm?F:F*.666,delay:mm?k:k||F*.333,easing:I})].join(","),M.style.opacity=0,M.style.transform=Up(.75),m&&m(M)}),R=b(p),D=M=>{y==="auto"&&v.start(C.current||0,M),a&&a(E.current,M)};return t.jsx(_,{appear:n,in:l,nodeRef:E,onEnter:j,onEntered:z,onEntering:A,onExit:w,onExited:R,onExiting:$,addEndListener:D,timeout:y==="auto"?null:y,...x,children:(M,{ownerState:P,...k})=>f.cloneElement(i,{style:{opacity:0,transform:Up(.75),visibility:M==="exited"&&!l?"hidden":void 0,...ZP[M],...g,...i.props.style},ref:S,...k})})});Bp&&(Bp.muiSupportAuto=!0);const e3=e=>{const{classes:s,disableUnderline:r}=e,n=jt({root:["root",!r&&"underline"],input:["input"]},F5,s);return{...s,...n}},t3=Be(Cu,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...ju(e,s),!r.disableUnderline&&s.underline]}})(Pt(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xi.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xi.disabled}, .${Xi.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Xi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(nr()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}}))]}})),s3=Be(wu,{name:"MuiInput",slot:"Input",overridesResolver:Nu})({}),Sh=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:h=!1,slotProps:d,slots:m={},type:p="text",...u}=a,g=e3(a),_={root:{ownerState:{disableUnderline:n}}},x=d??o?Ss(d??o,_):_,v=m.root??i.Root??t3,C=m.input??i.Input??s3;return t.jsx(wh,{slots:{root:v,input:C},slotProps:x,fullWidth:l,inputComponent:c,multiline:h,ref:r,type:p,...u,classes:g})});Sh.muiName="Input";function r3(e){return vt("MuiInputAdornment",e)}const f0=xt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var h0;const a3=(e,s)=>{const{ownerState:r}=e;return[s.root,s[`position${qe(r.position)}`],r.disablePointerEvents===!0&&s.disablePointerEvents,s[r.variant]]},n3=e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:a,position:n,size:i,variant:o}=e,l={root:["root",r&&"disablePointerEvents",n&&`position${qe(n)}`,o,a&&"hiddenLabel",i&&`size${qe(i)}`]};return jt(l,r3,s)},i3=Be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:a3})(Pt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${f0.positionStart}&:not(.${f0.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),g0=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiInputAdornment"}),{children:n,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:h,variant:d,...m}=a,p=Pn()||{};let u=d;d&&p.variant,p&&!u&&(u=p.variant);const g={...a,hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:l,position:h,variant:u},y=n3(g);return t.jsx(vu.Provider,{value:null,children:t.jsx(i3,{as:o,ownerState:g,className:st(y.root,i),ref:r,...m,children:typeof n=="string"&&!c?t.jsx(js,{color:"textSecondary",children:n}):t.jsxs(f.Fragment,{children:[h==="start"?h0||(h0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,n]})})})});function o3(e){return vt("MuiInputLabel",e)}xt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const l3=e=>{const{classes:s,formControl:r,size:a,shrink:n,disableAnimation:i,variant:o,required:l}=e,c={root:["root",r&&"formControl",!i&&"animated",n&&"shrink",a&&a!=="medium"&&`size${qe(a)}`,o],asterisk:[l&&"asterisk"]},h=jt(c,o3,s);return{...s,...h}},c3=Be(XP,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${ko.asterisk}`]:s.asterisk},s.root,r.formControl&&s.formControl,r.size==="small"&&s.sizeSmall,r.shrink&&s.shrink,!r.disableAnimation&&s.animated,r.focused&&s.focused,s[r.variant]]}})(Pt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:r,size:a})=>s==="filled"&&r.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),d3=f.forwardRef(function(s,r){const a=Nt({name:"MuiInputLabel",props:s}),{disableAnimation:n=!1,margin:i,shrink:o,variant:l,className:c,...h}=a,d=Pn();let m=o;typeof m>"u"&&d&&(m=d.filled||d.focused||d.adornedStart);const p=Mi({props:a,muiFormControl:d,states:["size","variant","required","focused"]}),u={...a,disableAnimation:n,formControl:d,shrink:m,size:p.size,variant:p.variant,required:p.required,focused:p.focused},g=l3(u);return t.jsx(c3,{"data-shrink":m,ref:r,className:st(g.root,c),...h,ownerState:u,classes:g})});function u3(e){return vt("MuiLink",e)}const m3=xt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),p3=({theme:e,ownerState:s})=>{const r=s.color;if("colorSpace"in e&&e.colorSpace){const i=Gr(e,`palette.${r}.main`)||Gr(e,`palette.${r}`)||s.color;return e.alpha(i,.4)}const a=Gr(e,`palette.${r}.main`,!1)||Gr(e,`palette.${r}`,!1)||s.color,n=Gr(e,`palette.${r}.mainChannel`)||Gr(e,`palette.${r}Channel`);return"vars"in e&&n?`rgba(${n} / 0.4)`:al(a,.4)},x0={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},f3=e=>{const{classes:s,component:r,focusVisible:a,underline:n}=e,i={root:["root",`underline${qe(n)}`,r==="button"&&"button",a&&"focusVisible"]};return jt(i,u3,s)},h3=Be(js,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`underline${qe(r.underline)}`],r.component==="button"&&s.button]}})(Pt(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(nr()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${m3.focusVisible}`]:{outline:"auto"}}}]}))),bc=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiLink"}),n=jl(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:h,TypographyClasses:d,underline:m="always",variant:p="inherit",sx:u,...g}=a,[y,_]=f.useState(!1),x=E=>{nd(E.target)||_(!1),c&&c(E)},v=E=>{nd(E.target)&&_(!0),h&&h(E)},C={...a,color:o,component:l,focusVisible:y,underline:m,variant:p},N=f3(C);return t.jsx(h3,{color:o,className:st(N.root,i),classes:d,component:l,onBlur:x,onFocus:v,ref:r,ownerState:C,variant:p,...g,sx:[...x0[o]===void 0?[{color:o}]:[],...Array.isArray(u)?u:[u]],style:{...g.style,...m==="always"&&o!=="inherit"&&!x0[o]&&{"--Link-underlineColor":p3({theme:n,ownerState:C})}}})}),g3=f.createContext({});function x3(e){return vt("MuiList",e)}xt("MuiList",["root","padding","dense","subheader"]);const y3=e=>{const{classes:s,disablePadding:r,dense:a,subheader:n}=e;return jt({root:["root",!r&&"padding",a&&"dense",n&&"subheader"]},x3,s)},b3=Be("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disablePadding&&s.padding,r.dense&&s.dense,r.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),v3=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:h,...d}=a,m=f.useMemo(()=>({dense:l}),[l]),p={...a,component:o,dense:l,disablePadding:c},u=y3(p);return t.jsx(g3.Provider,{value:m,children:t.jsxs(b3,{as:o,className:st(u.root,i),ref:r,ownerState:p,...d,children:[h,n]})})});function pm(e,s,r){return e===s?e.firstChild:s&&s.nextElementSibling?s.nextElementSibling:r?null:e.firstChild}function y0(e,s,r){return e===s?r?e.firstChild:e.lastChild:s&&s.previousElementSibling?s.previousElementSibling:r?null:e.lastChild}function Ij(e,s){if(s===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:s.repeating?r[0]===s.keys[0]:r.startsWith(s.keys.join(""))}function Zi(e,s,r,a,n,i){let o=!1,l=n(e,s,s?r:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const c=a?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Ij(l,i)||c)l=n(e,l,r);else return l.focus(),!0}return!1}const j3=f.forwardRef(function(s,r){const{actions:a,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:h=!1,onKeyDown:d,variant:m="selectedMenu",...p}=s,u=f.useRef(null),g=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Sn(()=>{n&&u.current.focus()},[n]),f.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(C,{direction:N})=>{const E=!u.current.style.width;if(C.clientHeight<u.current.clientHeight&&E){const S=`${$j(va(C))}px`;u.current.style[N==="rtl"?"paddingLeft":"paddingRight"]=S,u.current.style.width=`calc(100% + ${S})`}return u.current}}),[]);const y=C=>{const N=u.current,E=C.key;if(C.ctrlKey||C.metaKey||C.altKey){d&&d(C);return}const b=fo(Dr(N));if(E==="ArrowDown")C.preventDefault(),Zi(N,b,h,c,pm);else if(E==="ArrowUp")C.preventDefault(),Zi(N,b,h,c,y0);else if(E==="Home")C.preventDefault(),Zi(N,null,h,c,pm);else if(E==="End")C.preventDefault(),Zi(N,null,h,c,y0);else if(E.length===1){const A=g.current,j=E.toLowerCase(),z=performance.now();A.keys.length>0&&(z-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&j!==A.keys[0]&&(A.repeating=!1)),A.lastTime=z,A.keys.push(j);const $=b&&!A.repeating&&Ij(b,A);A.previousKeyMatched&&($||Zi(N,b,!1,c,pm,A))?C.preventDefault():A.previousKeyMatched=!1}d&&d(C)},_=Qs(u,r);let x=-1;f.Children.forEach(o,(C,N)=>{if(!f.isValidElement(C)){x===N&&(x+=1,x>=o.length&&(x=-1));return}C.props.disabled||(m==="selectedMenu"&&C.props.selected||x===-1)&&(x=N),x===N&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const v=f.Children.map(o,(C,N)=>{if(N===x){const E={};return i&&(E.autoFocus=!0),C.props.tabIndex===void 0&&m==="selectedMenu"&&(E.tabIndex=0),f.cloneElement(C,E)}return C});return t.jsx(v3,{role:"menu",ref:_,className:l,onKeyDown:y,tabIndex:n?0:-1,...p,children:v})});function N3(e){return vt("MuiPopover",e)}xt("MuiPopover",["root","paper"]);function b0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.height/2:s==="bottom"&&(r=e.height),r}function v0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.width/2:s==="right"&&(r=e.width),r}function j0(e){return[e.horizontal,e.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function Kl(e){return typeof e=="function"?e():e}const C3=e=>{const{classes:s}=e;return jt({root:["root"],paper:["paper"]},N3,s)},w3=Be(Mj,{name:"MuiPopover",slot:"Root"})({}),Oj=Be(Ci,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_3=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:h,className:d,container:m,elevation:p=8,marginThreshold:u=16,open:g,PaperProps:y={},slots:_={},slotProps:x={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:N="auto",TransitionProps:E={},disableScrollLock:S=!1,...b}=a,A=f.useRef(),j={...a,anchorOrigin:o,anchorReference:c,elevation:p,marginThreshold:u,transformOrigin:v,TransitionComponent:C,transitionDuration:N,TransitionProps:E},z=C3(j),$=f.useCallback(()=>{if(c==="anchorPosition")return l;const Q=Kl(i),ue=(Q&&Q.nodeType===1?Q:Dr(A.current).body).getBoundingClientRect();return{top:ue.top+b0(ue,o.vertical),left:ue.left+v0(ue,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),w=f.useCallback(Q=>({vertical:b0(Q,v.vertical),horizontal:v0(Q,v.horizontal)}),[v.horizontal,v.vertical]),R=f.useCallback(Q=>{const J={width:Q.offsetWidth,height:Q.offsetHeight},ue=w(J);if(c==="none")return{top:null,left:null,transformOrigin:j0(ue)};const te=$();let pe=te.top-ue.vertical,ye=te.left-ue.horizontal;const Se=pe+J.height,oe=ye+J.width,Z=va(Kl(i)),ee=Z.innerHeight-u,ge=Z.innerWidth-u;if(u!==null&&pe<u){const ne=pe-u;pe-=ne,ue.vertical+=ne}else if(u!==null&&Se>ee){const ne=Se-ee;pe-=ne,ue.vertical+=ne}if(u!==null&&ye<u){const ne=ye-u;ye-=ne,ue.horizontal+=ne}else if(oe>ge){const ne=oe-ge;ye-=ne,ue.horizontal+=ne}return{top:`${Math.round(pe)}px`,left:`${Math.round(ye)}px`,transformOrigin:j0(ue)}},[i,c,$,w,u]),[D,M]=f.useState(g),P=f.useCallback(()=>{const Q=A.current;if(!Q)return;const J=R(Q);J.top!==null&&Q.style.setProperty("top",J.top),J.left!==null&&(Q.style.left=J.left),Q.style.transformOrigin=J.transformOrigin,M(!0)},[R]);f.useEffect(()=>(S&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)),[i,S,P]);const k=()=>{P()},I=()=>{M(!1)};f.useEffect(()=>{g&&P()}),f.useImperativeHandle(n,()=>g?{updatePosition:()=>{P()}}:null,[g,P]),f.useEffect(()=>{if(!g)return;const Q=Cj(()=>{P()}),J=va(Kl(i));return J.addEventListener("resize",Q),()=>{Q.clear(),J.removeEventListener("resize",Q)}},[i,g,P]);let F=N;const O={slots:{transition:C,..._},slotProps:{transition:E,paper:y,...x}},[B,H]=Tt("transition",{elementType:Bp,externalForwardedProps:O,ownerState:j,getSlotProps:Q=>({...Q,onEntering:(J,ue)=>{var te;(te=Q.onEntering)==null||te.call(Q,J,ue),k()},onExited:J=>{var ue;(ue=Q.onExited)==null||ue.call(Q,J),I()}}),additionalProps:{appear:!0,in:g}});N==="auto"&&!B.muiSupportAuto&&(F=void 0);const U=m||(i?Dr(Kl(i)).body:void 0),[q,{slots:W,slotProps:G,...re}]=Tt("root",{ref:r,elementType:w3,externalForwardedProps:{...O,...b},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:_.backdrop},slotProps:{backdrop:N4(typeof x.backdrop=="function"?x.backdrop(j):x.backdrop,{invisible:!0})},container:U,open:g},ownerState:j,className:st(z.root,d)}),[V,L]=Tt("paper",{ref:A,className:z.paper,elementType:Oj,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:D?void 0:{opacity:0}},ownerState:j});return t.jsx(q,{...re,...!ad(q)&&{slots:W,slotProps:G,disableScrollLock:S},children:t.jsx(B,{...H,timeout:F,children:t.jsx(V,{...L,children:h})})})});function S3(e){return vt("MuiMenu",e)}xt("MuiMenu",["root","paper","list"]);const A3={vertical:"top",horizontal:"right"},k3={vertical:"top",horizontal:"left"},P3=e=>{const{classes:s}=e;return jt({root:["root"],paper:["paper"],list:["list"]},S3,s)},E3=Be(_3,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),T3=Be(Oj,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),z3=Be(j3,{name:"MuiMenu",slot:"List"})({outline:0}),R3=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:h,open:d,PaperProps:m={},PopoverClasses:p,transitionDuration:u="auto",TransitionProps:{onEntering:g,...y}={},variant:_="selectedMenu",slots:x={},slotProps:v={},...C}=a,N=_k(),E={...a,autoFocus:n,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:m,transitionDuration:u,TransitionProps:y,variant:_},S=P3(E),b=n&&!l&&d,A=f.useRef(null),j=(F,O)=>{A.current&&A.current.adjustStyleForScrollbar(F,{direction:N?"rtl":"ltr"}),g&&g(F,O)},z=F=>{F.key==="Tab"&&(F.preventDefault(),h&&h(F,"tabKeyDown"))};let $=-1;f.Children.map(i,(F,O)=>{f.isValidElement(F)&&(F.props.disabled||(_==="selectedMenu"&&F.props.selected||$===-1)&&($=O))});const w={slots:x,slotProps:{list:c,transition:y,paper:m,...v}},R=_5({elementType:x.root,externalSlotProps:v.root,ownerState:E,className:[S.root,o]}),[D,M]=Tt("paper",{className:S.paper,elementType:T3,externalForwardedProps:w,shouldForwardComponentProp:!0,ownerState:E}),[P,k]=Tt("list",{className:st(S.list,c.className),elementType:z3,shouldForwardComponentProp:!0,externalForwardedProps:w,getSlotProps:F=>({...F,onKeyDown:O=>{var B;z(O),(B=F.onKeyDown)==null||B.call(F,O)}}),ownerState:E}),I=typeof w.slotProps.transition=="function"?w.slotProps.transition(E):w.slotProps.transition;return t.jsx(E3,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?A3:k3,slots:{root:x.root,paper:D,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:R,paper:M,backdrop:typeof v.backdrop=="function"?v.backdrop(E):v.backdrop,transition:{...I,onEntering:(...F)=>{var O;j(...F),(O=I==null?void 0:I.onEntering)==null||O.call(I,...F)}}},open:d,ref:r,transitionDuration:u,ownerState:E,...C,classes:p,children:t.jsx(P,{actions:A,autoFocus:n&&($===-1||l),autoFocusItem:b,variant:_,...k,children:i})})});function F3(e){return vt("MuiNativeSelect",e)}const Ah=xt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),D3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${qe(r)}`,i&&"iconOpen",a&&"disabled"]};return jt(l,F3,s)},Uj=Be("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Ah.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),$3=Be(Uj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Lr,overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.select,s[r.variant],r.error&&s.error,{[`&.${Ah.multiple}`]:s.multiple}]}})({}),Bj=Be("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Ah.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),M3=Be(Bj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${qe(r.variant)}`],r.open&&s.iconOpen]}})({}),L3=f.forwardRef(function(s,r){const{className:a,disabled:n,error:i,IconComponent:o,inputRef:l,variant:c="standard",...h}=s,d={...s,disabled:n,variant:c,error:i},m=D3(d);return t.jsxs(f.Fragment,{children:[t.jsx($3,{ownerState:d,className:st(m.select,a),disabled:n,ref:l||r,...h}),s.multiple?null:t.jsx(M3,{as:o,ownerState:d,className:m.icon})]})});var N0;const I3=Be("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Lr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),O3=Be("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Lr})(Pt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function U3(e){const{children:s,classes:r,className:a,label:n,notched:i,...o}=e,l=n!=null&&n!=="",c={...e,notched:i,withLabel:l};return t.jsx(I3,{"aria-hidden":!0,className:a,ownerState:c,...o,children:t.jsx(O3,{ownerState:c,children:l?t.jsx("span",{children:n}):N0||(N0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const B3=e=>{const{classes:s}=e,a=jt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},D5,s);return{...s,...a}},q3=Be(Cu,{shouldForwardProp:e=>Lr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ju})(Pt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${qr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${qr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}},[`&.${qr.focused} .${qr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(nr()).map(([r])=>({props:{color:r},style:{[`&.${qr.focused} .${qr.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${qr.error} .${qr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${qr.disabled} .${qr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:a})=>r.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),W3=Be(U3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Pt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}})),V3=Be(wu,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Nu})(Pt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),kh=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:h,slots:d={},slotProps:m={},type:p="text",...u}=a,g=B3(a),y=Pn(),_=Mi({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...a,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:y,fullWidth:i,hiddenLabel:_.hiddenLabel,multiline:c,size:_.size,type:p},v=d.root??n.Root??q3,C=d.input??n.Input??V3,[N,E]=Tt("notchedOutline",{elementType:W3,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:d,slotProps:m},additionalProps:{label:l!=null&&l!==""&&_.required?t.jsxs(f.Fragment,{children:[l,"","*"]}):l}});return t.jsx(wh,{slots:{root:v,input:C},slotProps:m,renderSuffix:S=>t.jsx(N,{...E,notched:typeof h<"u"?h:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:r,type:p,...u,classes:{...g,notchedOutline:null}})});kh.muiName="Input";function qj(e){return vt("MuiSelect",e)}const eo=xt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var C0;const H3=Be(Uj,{name:"MuiSelect",slot:"Select",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`&.${eo.select}`]:s.select},{[`&.${eo.select}`]:s[r.variant]},{[`&.${eo.error}`]:s.error},{[`&.${eo.multiple}`]:s.multiple}]}})({[`&.${eo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),G3=Be(Bj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${qe(r.variant)}`],r.open&&s.iconOpen]}})({}),K3=Be("input",{shouldForwardProp:e=>Nj(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function w0(e,s){return typeof s=="object"&&s!==null?e===s:String(e)===String(s)}function Q3(e){return e==null||typeof e=="string"&&!e.trim()}const Y3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${qe(r)}`,i&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return jt(l,qj,s)},J3=f.forwardRef(function(s,r){var fs,is,hs,We;const{"aria-describedby":a,"aria-label":n,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:h,defaultValue:d,disabled:m,displayEmpty:p,error:u=!1,IconComponent:g,inputRef:y,labelId:_,MenuProps:x={},multiple:v,name:C,onBlur:N,onChange:E,onClose:S,onFocus:b,onKeyDown:A,onMouseDown:j,onOpen:z,open:$,readOnly:w,renderValue:R,required:D,SelectDisplayProps:M={},tabIndex:P,type:k,value:I,variant:F="standard",...O}=s,[B,H]=Qx({controlled:I,default:d,name:"Select"}),[U,q]=Qx({controlled:$,default:h,name:"Select"}),W=f.useRef(null),G=f.useRef(null),[re,V]=f.useState(null),{current:L}=f.useRef($!=null),[Q,J]=f.useState(),ue=Qs(r,y),te=f.useCallback(T=>{G.current=T,T&&V(T)},[]),pe=re==null?void 0:re.parentNode;f.useImperativeHandle(ue,()=>({focus:()=>{G.current.focus()},node:W.current,value:B}),[B]),f.useEffect(()=>{h&&U&&re&&!L&&(J(o?null:pe.clientWidth),G.current.focus())},[re,o]),f.useEffect(()=>{i&&G.current.focus()},[i]),f.useEffect(()=>{if(!_)return;const T=Dr(G.current).getElementById(_);if(T){const K=()=>{getSelection().isCollapsed&&G.current.focus()};return T.addEventListener("click",K),()=>{T.removeEventListener("click",K)}}},[_]);const ye=(T,K)=>{T?z&&z(K):S&&S(K),L||(J(o?null:pe.clientWidth),q(T))},Se=T=>{j==null||j(T),T.button===0&&(T.preventDefault(),G.current.focus(),ye(!0,T))},oe=T=>{ye(!1,T)},Z=f.Children.toArray(l),ee=T=>{const K=Z.find(X=>X.props.value===T.target.value);K!==void 0&&(H(K.props.value),E&&E(T,K))},ge=T=>K=>{let X;if(K.currentTarget.hasAttribute("tabindex")){if(v){X=Array.isArray(B)?B.slice():[];const ae=B.indexOf(T.props.value);ae===-1?X.push(T.props.value):X.splice(ae,1)}else X=T.props.value;if(T.props.onClick&&T.props.onClick(K),B!==X&&(H(X),E)){const ae=K.nativeEvent||K,me=new ae.constructor(ae.type,ae);Object.defineProperty(me,"target",{writable:!0,value:{value:X,name:C}}),E(me,T)}v||ye(!1,K)}},ne=T=>{w||([" ","ArrowUp","ArrowDown","Enter"].includes(T.key)&&(T.preventDefault(),ye(!0,T)),A==null||A(T))},le=re!==null&&U,Y=T=>{!le&&N&&(Object.defineProperty(T,"target",{writable:!0,value:{value:B,name:C}}),N(T))};delete O["aria-invalid"];let ie,de;const he=[];let Pe=!1;(od({value:B})||p)&&(R?ie=R(B):Pe=!0);const Te=Z.map(T=>{if(!f.isValidElement(T))return null;let K;if(v){if(!Array.isArray(B))throw new Error(ya(2));K=B.some(X=>w0(X,T.props.value)),K&&Pe&&he.push(T.props.children)}else K=w0(B,T.props.value),K&&Pe&&(de=T.props.children);return f.cloneElement(T,{"aria-selected":K?"true":"false",onClick:ge(T),onKeyUp:X=>{X.key===" "&&X.preventDefault(),T.props.onKeyUp&&T.props.onKeyUp(X)},role:"option",selected:K,value:void 0,"data-value":T.props.value})});Pe&&(v?he.length===0?ie=null:ie=he.reduce((T,K,X)=>(T.push(K),X<he.length-1&&T.push(", "),T),[]):ie=de);let Ke=Q;!o&&L&&re&&(Ke=pe.clientWidth);let ke;typeof P<"u"?ke=P:ke=m?null:0;const $e=M.id||(C?`mui-component-select-${C}`:void 0),it={...s,variant:F,value:B,open:le,error:u},mt=Y3(it),At={...x.PaperProps,...typeof((fs=x.slotProps)==null?void 0:fs.paper)=="function"?x.slotProps.paper(it):(is=x.slotProps)==null?void 0:is.paper},Mt={...x.MenuListProps,...typeof((hs=x.slotProps)==null?void 0:hs.list)=="function"?x.slotProps.list(it):(We=x.slotProps)==null?void 0:We.list},Jt=vl();return t.jsxs(f.Fragment,{children:[t.jsx(H3,{as:"div",ref:te,tabIndex:ke,role:"combobox","aria-controls":le?Jt:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[_,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":D?"true":void 0,"aria-invalid":u?"true":void 0,onKeyDown:ne,onMouseDown:m||w?null:Se,onBlur:Y,onFocus:b,...M,ownerState:it,className:st(M.className,mt.select,c),id:$e,children:Q3(ie)?C0||(C0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ie}),t.jsx(K3,{"aria-invalid":u,value:Array.isArray(B)?B.join(","):B,name:C,ref:W,"aria-hidden":!0,onChange:ee,tabIndex:-1,disabled:m,className:mt.nativeInput,autoFocus:i,required:D,...O,ownerState:it}),t.jsx(G3,{as:g,className:mt.icon,ownerState:it}),t.jsx(R3,{id:`menu-${C||""}`,anchorEl:pe,open:le,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":_,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:Jt,...Mt},paper:{...At,style:{minWidth:Ke,...At!=null?At.style:null}}},children:Te})]})}),X3=e=>{const{classes:s}=e,a=jt({root:["root"]},qj,s);return{...s,...a}},Ph={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Lr(e)&&e!=="variant"},Z3=Be(Sh,Ph)(""),eE=Be(kh,Ph)(""),tE=Be(_h,Ph)(""),Wj=f.forwardRef(function(s,r){const a=Nt({name:"MuiSelect",props:s}),{autoWidth:n=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:h=!1,IconComponent:d=M5,id:m,input:p,inputProps:u,label:g,labelId:y,MenuProps:_,multiple:x=!1,native:v=!1,onClose:C,onOpen:N,open:E,renderValue:S,SelectDisplayProps:b,variant:A="outlined",...j}=a,z=v?L3:J3,$=Pn(),w=Mi({props:a,muiFormControl:$,states:["variant","error"]}),R=w.variant||A,D={...a,variant:R,classes:o},M=X3(D),{root:P,...k}=M,I=p||{standard:t.jsx(Z3,{ownerState:D}),outlined:t.jsx(eE,{label:g,ownerState:D}),filled:t.jsx(tE,{ownerState:D})}[R],F=Qs(r,Nl(I));return t.jsx(f.Fragment,{children:f.cloneElement(I,{inputComponent:z,inputProps:{children:i,error:w.error,IconComponent:d,variant:R,type:void 0,multiple:x,...v?{id:m}:{autoWidth:n,defaultOpen:c,displayEmpty:h,labelId:y,MenuProps:_,onClose:C,onOpen:N,open:E,renderValue:S,SelectDisplayProps:{id:m,...b}},...u,classes:u?Ss(k,u.classes):k,...p?p.props.inputProps:{}},...(x&&v||h)&&R==="outlined"?{notched:!0}:{},ref:F,className:st(I.props.className,l,M.root),...!p&&{variant:R},...j})})});Wj.muiName="Select";function sE(e){return vt("MuiTextField",e)}xt("MuiTextField",["root"]);const rE={standard:Sh,filled:_h,outlined:kh},aE=e=>{const{classes:s}=e;return jt({root:["root"]},sE,s)},nE=Be(qP,{name:"MuiTextField",slot:"Root"})({}),iE=f.forwardRef(function(s,r){const a=Nt({props:s,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:h,disabled:d=!1,error:m=!1,FormHelperTextProps:p,fullWidth:u=!1,helperText:g,id:y,InputLabelProps:_,inputProps:x,InputProps:v,inputRef:C,label:N,maxRows:E,minRows:S,multiline:b=!1,name:A,onBlur:j,onChange:z,onFocus:$,placeholder:w,required:R=!1,rows:D,select:M=!1,SelectProps:P,slots:k={},slotProps:I={},type:F,value:O,variant:B="outlined",...H}=a,U={...a,autoFocus:i,color:c,disabled:d,error:m,fullWidth:u,multiline:b,required:R,select:M,variant:B},q=aE(U),W=vl(y),G=g&&W?`${W}-helper-text`:void 0,re=N&&W?`${W}-label`:void 0,V=rE[B],L={slots:k,slotProps:{input:v,inputLabel:_,htmlInput:x,formHelperText:p,select:P,...I}},Q={},J=L.slotProps.inputLabel;B==="outlined"&&(J&&typeof J.shrink<"u"&&(Q.notched=J.shrink),Q.label=N),M&&((!P||!P.native)&&(Q.id=void 0),Q["aria-describedby"]=void 0);const[ue,te]=Tt("root",{elementType:nE,shouldForwardComponentProp:!0,externalForwardedProps:{...L,...H},ownerState:U,className:st(q.root,l),ref:r,additionalProps:{disabled:d,error:m,fullWidth:u,required:R,color:c,variant:B}}),[pe,ye]=Tt("input",{elementType:V,externalForwardedProps:L,additionalProps:Q,ownerState:U}),[Se,oe]=Tt("inputLabel",{elementType:d3,externalForwardedProps:L,ownerState:U}),[Z,ee]=Tt("htmlInput",{elementType:"input",externalForwardedProps:L,ownerState:U}),[ge,ne]=Tt("formHelperText",{elementType:GP,externalForwardedProps:L,ownerState:U}),[le,Y]=Tt("select",{elementType:Wj,externalForwardedProps:L,ownerState:U}),ie=t.jsx(pe,{"aria-describedby":G,autoComplete:n,autoFocus:i,defaultValue:h,fullWidth:u,multiline:b,name:A,rows:D,maxRows:E,minRows:S,type:F,value:O,id:W,inputRef:C,onBlur:j,onChange:z,onFocus:$,placeholder:w,inputProps:ee,slots:{input:k.htmlInput?Z:void 0},...ye});return t.jsxs(ue,{...te,children:[N!=null&&N!==""&&t.jsx(Se,{htmlFor:W,id:re,...oe,children:N}),M?t.jsx(le,{"aria-describedby":G,id:W,labelId:re,value:O,input:ie,...Y,children:o}):ie,g&&t.jsx(ge,{id:G,...ne,children:g})]})}),oE=Ys(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),qp=Ys(t.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),Po=Ys(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),lE=Ys(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),cE=Ys(t.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),dE=Ys(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),Eo=Ys(t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),To=Ys(t.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),ca=({placeholder:e,name:s,type:r="text",value:a,onChange:n,required:i=!1,startIcon:o,endIcon:l,error:c,helperText:h,InputProps:d,...m})=>{const p=f.useRef(null);f.useEffect(()=>{var N;if(r==="password"&&p.current){const E=()=>{var D,M;const R=(D=p.current)==null?void 0:D.querySelector('input[type="password"]');if(R){const P=R.closest(".MuiOutlinedInput-root");P&&([...P.querySelectorAll("button"),...((M=P.parentElement)==null?void 0:M.querySelectorAll("button"))||[]].forEach(F=>{if(!(F.closest(".MuiInputAdornment-root")!==null)){F.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important; position: absolute !important; left: -9999px !important;";try{F.remove()}catch{}}}),P.querySelectorAll("*").forEach(F=>{if((F.tagName==="BUTTON"||F.getAttribute("role")==="button"||F.tagName==="SPAN")&&!(F.closest(".MuiInputAdornment-root")!==null)){const B=F.getBoundingClientRect(),H=R.getBoundingClientRect();if(B.width<50&&B.height<50&&Math.abs(B.right-H.right)<50||F.className&&(F.className.indexOf("reveal")!==-1||F.className.indexOf("password")!==-1)){F.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; position: absolute !important; left: -9999px !important;";try{F.remove()}catch{if(F.parentNode)try{F.parentNode.removeChild(F)}catch{}}}}}),R.parentElement&&Array.from(R.parentElement.children).forEach(O=>{if(O!==R&&O!==P&&!(O.closest(".MuiInputAdornment-root")!==null)){const H=O.getBoundingClientRect(),U=R.getBoundingClientRect();if(H.width<30&&H.height<30&&Math.abs(H.right-U.right)<40&&Math.abs(H.top-U.top)<20){O.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important;";try{O.remove()}catch{if(O.parentNode)try{O.parentNode.removeChild(O)}catch{}}}}}))}},S="hide-browser-password-button";let b=document.getElementById(S);b||(b=document.createElement("style"),b.id=S,b.textContent=`
          input[type="password"]::-webkit-credentials-auto-fill-button,
          input[type="password"]::-webkit-strong-password-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-credentials-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            appearance: none !important;
            -webkit-appearance: none !important;
          }
          /* Internet Explorer specific */
          input[type="password"]::-ms-reveal,
          .custom-input-field input[type="password"]::-ms-reveal,
          .custom-input-field .MuiOutlinedInput-input[type="password"]::-ms-reveal {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
          }
        `,document.head.appendChild(b)),E();const A=[];for(let R=0;R<20;R++)A.push(setTimeout(E,R*50));const j=(N=p.current)==null?void 0:N.querySelector('input[type="password"]'),z=j==null?void 0:j.closest(".MuiOutlinedInput-root");let $=null;z&&typeof MutationObserver<"u"&&($=new MutationObserver(()=>{E()}),$.observe(z,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}));const w=setInterval(E,100);if(j){const R=["input","focus","click","keydown","keyup","paste","change","blur","mousedown","mouseup"];return R.forEach(D=>{j.addEventListener(D,E,{capture:!0,passive:!0}),z==null||z.addEventListener(D,E,{capture:!0,passive:!0})}),()=>{A.forEach(D=>clearTimeout(D)),clearInterval(w),$&&$.disconnect(),R.forEach(D=>{j.removeEventListener(D,E,{capture:!0}),z==null||z.removeEventListener(D,E,{capture:!0})})}}return()=>{A.forEach(R=>clearTimeout(R)),clearInterval(w),$&&$.disconnect()}}},[r,a,l]);let u=null;o?u=t.jsx(g0,{position:"start",className:"custom-input-icon",children:o}):d!=null&&d.startAdornment&&(u=d.startAdornment);let g=null;l?g=t.jsx(g0,{position:"end",children:l}):d!=null&&d.endAdornment&&(g=d.endAdornment);const y={...d,startAdornment:u,endAdornment:g},{InputProps:_,inputProps:x,...v}=m,C={autoComplete:r==="password"?"new-password":"off",...x};return t.jsx("div",{ref:p,className:"custom-input-wrapper",children:t.jsx(iE,{className:"custom-input-field",placeholder:e,name:s,type:r,value:a,onChange:n,required:i,error:c,helperText:h,fullWidth:!0,variant:"outlined",InputProps:y,inputProps:C,...v})})},uE=({open:e,onClose:s})=>{const[r,a]=f.useState(""),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,h]=f.useState(""),{forgotPassword:d}=jr(),m=async u=>{u.preventDefault(),i(!0),h("");try{const g=await d(r);g.success?l(!0):h(g.error||"Failed to send reset email. Please try again.")}catch{h("Failed to send reset email. Please try again.")}finally{i(!1)}},p=()=>{a(""),l(!1),h(""),s()};return t.jsxs(CP,{open:e,onClose:p,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",padding:"8px"}},children:[t.jsx($P,{sx:{fontWeight:600,textAlign:"center"},children:"Reset Password"}),t.jsx(RP,{children:o?t.jsx(So,{severity:"success",sx:{mt:1},children:"Password reset link has been sent to your email address."}):t.jsxs(t.Fragment,{children:[t.jsx(js,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:m,children:[t.jsx(ca,{placeholder:"Email",name:"email",type:"email",value:r,onChange:u=>a(u.target.value),required:!0,startIcon:t.jsx(qp,{})}),c&&t.jsx(So,{severity:"error",sx:{mt:1,mb:2},children:c})]})]})}),t.jsxs(AP,{sx:{padding:"16px 24px",gap:1},children:[t.jsx(l0,{onClick:p,color:"inherit",children:o?"Close":"Cancel"}),!o&&t.jsx(l0,{onClick:m,variant:"contained",disabled:n||!r,sx:{backgroundColor:"var(--primary-color, #1a2c49)","&:hover":{backgroundColor:"var(--secondary-color, #2c4a5f)"}},children:n?t.jsx(wi,{size:20,color:"inherit"}):"Send Reset Link"})]})]})},ld="/assets/logo-circle-GKaFD2GP.png";function _0(){const e=$r(),s=Ya(),{login:r,register:a,isAuthenticated:n,loading:i}=jr(),o=s.pathname==="/register",[l,c]=f.useState(o);f.useEffect(()=>{c(s.pathname==="/register")},[s.pathname]),f.useEffect(()=>{!i&&n&&s.pathname!=="/dashboard"&&e("/dashboard",{replace:!0})},[n,i,e,s.pathname]);const[h,d]=f.useState({email:"",password:""}),[m,p]=f.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"training_center_admin"}),[u,g]=f.useState(!1),[y,_]=f.useState(!1),[x,v]=f.useState(""),[C,N]=f.useState(""),[E,S]=f.useState(!1),[b,A]=f.useState(!1),[j,z]=f.useState(!1),$=()=>g(!u),w=()=>_(!y),R=I=>{d({...h,[I.target.name]:I.target.value}),v("")},D=I=>{p({...m,[I.target.name]:I.target.value}),N("")},M=async I=>{I.preventDefault(),v(""),S(!0);try{const F=await r(h.email,h.password);F.success?F.userStatus==="pending"||F.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):v(F.error||"Invalid email or password.")}catch(F){console.error("Login error:",F),v("An error occurred. Please try again.")}finally{S(!1)}},P=async I=>{if(I.preventDefault(),N(""),m.password!==m.confirmPassword){N("Passwords do not match.");return}if(m.password.length<8){N("Password must be at least 8 characters long.");return}A(!0);try{const F=await a(m.fullName,m.email,m.password,m.confirmPassword,m.role);F.success?F.userStatus==="pending"||F.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):N(F.error||"Registration failed. Please try again.")}catch(F){console.error("Registration error:",F),N("An error occurred. Please try again.")}finally{A(!1)}},k=I=>{c(I),e(I?"/register":"/login",{replace:!0})};return t.jsxs("div",{className:"auth-page",children:[t.jsxs("div",{className:`auth-container container ${l?"right-panel-active":""}`,id:"container",children:[t.jsx("div",{className:"form-container sign-up-container",children:t.jsxs("form",{onSubmit:P,children:[t.jsx(js,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Register"}),t.jsx(ca,{placeholder:"Name",name:"fullName",value:m.fullName,onChange:D,required:!0,startIcon:t.jsx(lE,{})}),t.jsx(ca,{placeholder:"Email",name:"email",type:"email",value:m.email,onChange:D,required:!0,startIcon:t.jsx(qp,{})}),t.jsx(ca,{placeholder:"Password",name:"password",type:u?"text":"password",value:m.password,onChange:D,required:!0,startIcon:t.jsx(Po,{}),endIcon:t.jsx(ui,{onClick:$,edge:"end",size:"small",children:u?t.jsx(To,{}):t.jsx(Eo,{})})}),t.jsx(ca,{placeholder:"Confirm Password",name:"confirmPassword",type:y?"text":"password",value:m.confirmPassword,onChange:D,required:!0,startIcon:t.jsx(Po,{}),endIcon:t.jsx(ui,{onClick:w,edge:"end",size:"small",children:y?t.jsx(To,{}):t.jsx(Eo,{})})}),t.jsxs(ia,{sx:{mb:2,display:"flex",flexDirection:"row",gap:1,width:"100%"},children:[t.jsx(ia,{sx:{flex:1},children:t.jsx(Ci,{onClick:()=>p({...m,role:"training_center_admin"}),elevation:m.role==="training_center_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:m.role==="training_center_admin"?"var(--primary-color)":"divider",backgroundColor:m.role==="training_center_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:m.role==="training_center_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(ia,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(ia,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:m.role==="training_center_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(cE,{sx:{fontSize:22,color:m.role==="training_center_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(ia,{sx:{textAlign:"center"},children:t.jsx(js,{variant:"caption",sx:{fontWeight:m.role==="training_center_admin"?600:500,fontSize:"0.75rem",color:m.role==="training_center_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Training Center"})})]})})}),t.jsx(ia,{sx:{flex:1},children:t.jsx(Ci,{onClick:()=>p({...m,role:"acc_admin"}),elevation:m.role==="acc_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:m.role==="acc_admin"?"var(--primary-color)":"divider",backgroundColor:m.role==="acc_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:m.role==="acc_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(ia,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(ia,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:m.role==="acc_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(dE,{sx:{fontSize:22,color:m.role==="acc_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(ia,{sx:{textAlign:"center"},children:t.jsx(js,{variant:"caption",sx:{fontWeight:m.role==="acc_admin"?600:500,fontSize:"0.75rem",color:m.role==="acc_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Accreditation"})})]})})})]}),C&&t.jsx(js,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:C}),t.jsx("button",{type:"submit",disabled:b,children:b?t.jsx(wi,{size:20,color:"inherit"}):"Register"})]})}),t.jsx("div",{className:"form-container sign-in-container",children:t.jsxs("form",{onSubmit:M,children:[t.jsx(js,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Login"}),t.jsx(ca,{placeholder:"Email",name:"email",value:h.email,onChange:R,required:!0,startIcon:t.jsx(qp,{})}),t.jsx(ca,{placeholder:"Password",name:"password",type:u?"text":"password",value:h.password,onChange:R,required:!0,startIcon:t.jsx(Po,{}),endIcon:t.jsx(ui,{onClick:$,edge:"end",size:"small",children:u?t.jsx(To,{}):t.jsx(Eo,{})})}),x&&t.jsx(js,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:x}),t.jsx(bc,{href:"#",underline:"hover",sx:{mt:1,mb:2,cursor:"pointer"},onClick:I=>{I.preventDefault(),z(!0)},children:"Forgot your password?"}),t.jsx("button",{type:"submit",disabled:E,children:E?t.jsx(wi,{size:20,color:"inherit"}):"Login"})]})}),t.jsx("div",{className:"overlay-container",children:t.jsxs("div",{className:"overlay",children:[t.jsxs("div",{className:"overlay-panel overlay-left",children:[t.jsx("img",{src:ld,alt:"Logo",className:"overlay-logo"}),t.jsx(js,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Welcome Back!"}),t.jsx("p",{children:"To keep connected with us please login with your personal info as Training Center Admin"}),t.jsx("button",{className:"ghost",id:"signIn",onClick:()=>k(!1),children:"Login"})]}),t.jsxs("div",{className:"overlay-panel overlay-right",children:[t.jsx("img",{src:ld,alt:"Logo",className:"overlay-logo"}),t.jsx(js,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Hello, Friend!"}),t.jsx("p",{children:"Enter your personal details and start journey with us"}),t.jsx("button",{className:"ghost",id:"signUp",onClick:()=>k(!0),children:"Register"})]})]})})]}),t.jsx(uE,{open:j,onClose:()=>z(!1)})]})}const mE=()=>{const{logout:e,user:s,refreshUser:r}=jr(),a=$r(),[n,i]=f.useState(null);f.useEffect(()=>{(s==null?void 0:s.status)==="active"&&a("/dashboard",{replace:!0})},[s,a]),f.useEffect(()=>{const c=setInterval(()=>{r()},3e4);return()=>clearInterval(c)},[r]);const o=async()=>{await e(),a("/login")},l=(s==null?void 0:s.role)==="training_center_admin";return s==null||s.role,t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ge,{className:"text-red-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Rejected"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Your ",l?"Training Center":"ACC"," application has been rejected."]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:n})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l?t.jsx(Qe,{className:"text-amber-600",size:40}):t.jsx(G_,{className:"text-amber-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:l?"Training Center Application Pending":"Account Pending Approval"}),t.jsx("p",{className:"text-gray-600 mb-4",children:l?"Your Training Center application has been submitted and is pending approval from a Group Admin.":"Your account is currently pending approval. Please wait for an administrator to review and approve your account."}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l?"A Group Admin will review your application shortly. You will receive a notification once your application is approved or rejected.":"You will be notified once your account has been approved."}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Status: Pending Review"}),t.jsx("p",{className:"text-xs text-blue-700",children:l?"Waiting for Group Admin approval":"Waiting for administrator approval"})]})]}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-800 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:[t.jsx(Dv,{size:18}),"Logout"]})]})})},pE=()=>{const e=$r(),[s]=Td(),{resetPassword:r,isAuthenticated:a}=jr(),n=s.get("token"),i=s.get("email")?decodeURIComponent(s.get("email")):null,[o,l]=f.useState({password:"",confirmPassword:""}),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(!1),[g,y]=f.useState(""),[_,x]=f.useState(!1),[v,C]=f.useState(!0);f.useEffect(()=>{(!n||!i)&&C(!1),a&&e("/dashboard",{replace:!0})},[n,i,a,e]);const N=S=>{l({...o,[S.target.name]:S.target.value}),y("")},E=async S=>{if(S.preventDefault(),y(""),o.password!==o.confirmPassword){y("Passwords do not match.");return}if(o.password.length<8){y("Password must be at least 8 characters long.");return}u(!0);try{const b=await r(n,i,o.password,o.confirmPassword);b.success?(x(!0),setTimeout(()=>{e("/login",{replace:!0})},3e3)):y(b.error||"Failed to reset password. Please try again.")}catch(b){console.error("Reset password error:",b),y("An error occurred. Please try again.")}finally{u(!1)}};return v?_?t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("div",{className:"success-icon-wrapper",children:t.jsx(oE,{className:"success-icon"})}),t.jsx(js,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Password Reset Successful!"}),t.jsx(So,{severity:"success",sx:{mb:2},children:"Your password has been successfully reset. Redirecting to login page..."}),t.jsx(bc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login Now"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:ld,alt:"Logo",className:"reset-password-logo"}),t.jsx(js,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Reset Password"}),t.jsx(js,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your new password below. Please make sure it's at least 8 characters long."}),t.jsxs("form",{onSubmit:E,children:[t.jsx(ca,{placeholder:"New Password",name:"password",type:c?"text":"password",value:o.password,onChange:N,required:!0,startIcon:t.jsx(Po,{}),endIcon:t.jsx(ui,{onClick:()=>h(!c),edge:"end",size:"small",children:c?t.jsx(To,{}):t.jsx(Eo,{})})}),t.jsx(ca,{placeholder:"Confirm New Password",name:"confirmPassword",type:d?"text":"password",value:o.confirmPassword,onChange:N,required:!0,startIcon:t.jsx(Po,{}),endIcon:t.jsx(ui,{onClick:()=>m(!d),edge:"end",size:"small",children:d?t.jsx(To,{}):t.jsx(Eo,{})})}),g&&t.jsx(So,{severity:"error",sx:{mt:1,mb:2},children:g}),t.jsx("button",{type:"submit",disabled:p,className:"reset-password-submit-button",children:p?t.jsx(wi,{size:20,color:"inherit"}):"Reset Password"})]}),t.jsx(bc,{href:"/login",underline:"hover",sx:{mt:2,cursor:"pointer",color:"var(--primary-color)"},children:"Back to Login"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:ld,alt:"Logo",className:"reset-password-logo"}),t.jsx(js,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Invalid Reset Link"}),t.jsx(So,{severity:"error",sx:{mb:2},children:"The password reset link is invalid or has expired. Please request a new one."}),t.jsx(bc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login"})]})})})},xr=({icon:e,colorType:s,label:r,value:a,hint:n,onClick:i})=>t.jsxs("div",{onClick:i,className:`dashboard-card dashboard-card-${s}`,children:[t.jsxs("div",{className:"dashboard-card-header",children:[t.jsx("div",{className:`dashboard-card-icon-wrapper-${s}`,children:t.jsx(e,{className:"dashboard-card-icon"})}),t.jsx(zv,{className:`dashboard-card-arrow-${s}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:`dashboard-card-label-${s}`,children:r}),t.jsx("p",{className:`dashboard-card-value-${s}`,children:a}),t.jsx("p",{className:`dashboard-card-hint-${s}`,children:n})]})]}),fE=()=>{var c,h,d;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),r=$r(),[a,n]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const l=async()=>{try{const m=await He.getDashboard();n({accreditation_bodies:m.accreditation_bodies||0,training_centers:m.training_centers||0,instructors:m.instructors||0,revenue:m.revenue||{monthly:0,total:0}})}catch(m){console.error("Failed to load dashboard:",m),n({accreditation_bodies:0,training_centers:0,instructors:0,revenue:{monthly:0,total:0}})}finally{o(!1)}};return i?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:a&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(xr,{icon:Ot,colorType:"acc",label:"Commission Revenue",value:`$${(((c=a.revenue)==null?void 0:c.total)||0).toLocaleString()}`,hint:"Total commission received",onClick:()=>r("/admin/payment-transactions")}),t.jsx(xr,{icon:Qe,colorType:"instructors",label:"Accreditation Bodies",value:a.accreditation_bodies||0,hint:"Click to view details",onClick:()=>r("/admin/all-accs")}),t.jsx(xr,{icon:Zo,colorType:"certificates",label:"Training Centers",value:a.training_centers||0,hint:"Click to view details",onClick:()=>r("/admin/all-training-centers")}),t.jsx(xr,{icon:ft,colorType:"classes",label:"Instructors",value:a.instructors||0,hint:"Click to view details",onClick:()=>r("/admin/all-instructors")})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Monthly Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((h=a.revenue)==null?void 0:h.monthly)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Commission this month"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Total Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((d=a.revenue)==null?void 0:d.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total commission received"})]})]})]})]})})},Vj=()=>{var o,l;const e=$r(),[s,r]=f.useState(null),[a,n]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await Xe.getDashboard();r(c)}catch(c){console.error("Failed to load dashboard:",c)}finally{n(!1)}};return a?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(xr,{icon:Ot,colorType:"acc",label:"Total Revenue",value:`$${(((o=s.revenue)==null?void 0:o.total)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hint:"Click to view details",onClick:()=>e("/acc/payment-transactions")}),t.jsx(xr,{icon:Ge,colorType:"classes",label:"Pending Requests",value:s.pending_requests||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=pending")}),t.jsx(xr,{icon:Qe,colorType:"instructors",label:"Active Training Centers",value:s.active_training_centers||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=active")}),t.jsx(xr,{icon:ft,colorType:"certificates",label:"Active Instructors",value:s.active_instructors||0,hint:"Click to view details",onClick:()=>e("/acc/instructors?filter=active")})]}),s.revenue&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((l=s.revenue)==null?void 0:l.monthly)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]})})},Si=({size:e="md",className:s=""})=>{const r={sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"};return t.jsx("div",{className:`loading-spinner-container ${s}`,children:t.jsx("div",{className:`loading-spinner ${r[e]}`})})},hE=({title:e,titleIcon:s,children:r})=>t.jsxs("div",{className:"state-section",children:[t.jsxs("h2",{className:"state-section-title",children:[s&&t.jsx(s,{className:"state-section-title-icon"}),e]}),t.jsx("div",{className:"state-section-grid",children:r})]}),fm=({icon:e,iconColorType:s,label:r,value:a,capitalize:n=!1})=>t.jsx("div",{className:"state-item",children:t.jsxs("div",{className:"state-item-content",children:[t.jsx("div",{className:`state-icon-wrapper state-icon-wrapper-${s}`,children:t.jsx(e,{className:`state-icon state-icon-${s}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"state-label",children:r}),t.jsx("p",{className:`state-value ${n?"state-value-capitalize":""}`,children:a})]})]})}),Hj=()=>{var c,h,d;const e=$r(),[s,r]=f.useState(null),[a,n]=f.useState({accs:0,classes:0,instructors:0,certificates:0}),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await Ue.getDashboard();r(m),n({accs:m.authorized_accreditations||0,classes:m.classes||0,instructors:m.instructors||0,certificates:m.certificates||0})}catch(m){console.error("Failed to load dashboard:",m),r(null),n({accs:0,classes:0,instructors:0,certificates:0})}finally{o(!1)}};return i?t.jsx(Si,{}):t.jsx("div",{className:"dashboard-container",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx(xr,{icon:rr,colorType:"certificates",label:"Certificates",value:a.certificates,hint:"Click to view details",onClick:()=>e("/training-center/certificates")}),t.jsx(xr,{icon:Qe,colorType:"acc",label:"Authorized Accreditation",value:a.accs,hint:"Click to view details",onClick:()=>e("/training-center/accs")}),t.jsx(xr,{icon:zs,colorType:"classes",label:"Classes",value:a.classes,hint:"Click to view details",onClick:()=>e("/training-center/classes")}),t.jsx(xr,{icon:ft,colorType:"instructors",label:"Instructors",value:a.instructors,hint:"Click to view details",onClick:()=>e("/training-center/instructors")})]}),t.jsxs(hE,{title:"Training Center State",titleIcon:Qe,children:[t.jsx(fm,{icon:Me,iconColorType:"green",label:"Status",value:((c=s.training_center_state)==null?void 0:c.status)||"N/A",capitalize:!0}),t.jsx(fm,{icon:ot,iconColorType:"blue",label:"Registration Date",value:((h=s.training_center_state)==null?void 0:h.registration_date)||"N/A"}),t.jsx(fm,{icon:rr,iconColorType:"purple",label:"Accreditation Status",value:((d=s.training_center_state)==null?void 0:d.accreditation_status)||"Not Verified"})]})]})})},Gj=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),r=$r(),[a,n]=f.useState(null),[i,o]=f.useState(!0),l=f.useRef(!1),c=f.useRef(!1),h=f.useCallback(async()=>{if(c.current){console.log(" Dashboard load already in progress, skipping duplicate request");return}c.current=!0;try{const b=await Es.getDashboard();n(b||{})}catch(b){console.error("Failed to load dashboard:",b),n(null)}finally{o(!1),c.current=!1}},[]);f.useEffect(()=>{l.current||(l.current=!0,h())},[h]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const d=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",m=b=>{switch(b){case"scheduled":return"status-scheduled";case"in_progress":return"status-in-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}},p=b=>b==="active"?"training-item-status-active":"training-item-status-inactive";if(i)return t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})});if(!a)return t.jsx("div",{className:"error-container",children:t.jsx("div",{className:"error-text",children:t.jsx("p",{children:"Failed to load dashboard data"})})});const u=(a==null?void 0:a.statistics)||{},g=(a==null?void 0:a.recent_classes)||[],y=(a==null?void 0:a.training_centers)||[],_=(a==null?void 0:a.accs)||[],x=(a==null?void 0:a.profile)||{};a!=null&&a.unread_notifications_count;const v=Number((u==null?void 0:u.total_classes)||0),C=Number((u==null?void 0:u.upcoming_classes)||(u==null?void 0:u.scheduled)||0),N=Number((u==null?void 0:u.completed)||0),E=Array.isArray(y)?y.length:0,S=Array.isArray(_)?_.length:0;return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"stats-grid",children:[t.jsx("div",{onClick:()=>r("/instructor/classes"),className:"stat-card stat-card-blue",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Total Classes"}),t.jsx("p",{className:"stat-value",children:v}),t.jsx("p",{className:"stat-description",children:"Click to view all"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(zs,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=scheduled"),className:"stat-card stat-card-purple",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Scheduled"}),t.jsx("p",{className:"stat-value",children:C}),t.jsx("p",{className:"stat-description",children:"Scheduled classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(ot,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=completed"),className:"stat-card stat-card-green",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("p",{className:"stat-value",children:N}),t.jsx("p",{className:"stat-description",children:"Finished classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(Me,{className:"stat-icon"})})]})})]}),t.jsxs("div",{className:"main-grid",children:[t.jsxs("div",{className:"card recent-classes-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(zs,{className:"card-title-icon",size:24}),"Recent Classes"]}),t.jsxs("button",{onClick:()=>r("/instructor/classes"),className:"card-button",children:["View All",t.jsx(zv,{size:16,className:"card-button-icon"})]})]})}),t.jsx("div",{className:"table-container",children:g&&g.length>0?t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Course"}),t.jsx("th",{children:"Training Center"}),t.jsx("th",{children:"Dates"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Students"})]})}),t.jsx("tbody",{children:g.slice(0,3).map((b,A)=>{var w,R,D,M;const j=b.max_capacity??((w=b.course)==null?void 0:w.max_capacity),z=b.enrolled_count||0,$=j!==void 0?Math.min(100,z/j*100):0;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((R=b.course)==null?void 0:R.name)||"N/A"}),((D=b.course)==null?void 0:D.code)&&t.jsxs("div",{className:"table-cell-secondary",children:["Code: ",b.course.code]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((M=b.training_center)==null?void 0:M.name)||"N/A"}),b.location_details&&t.jsxs("div",{className:"table-cell-secondary",children:[t.jsx(Dt,{size:12,className:"table-cell-icon"}),b.location==="physical"?b.location_details:"Online"]})]})}),t.jsx("td",{children:b.start_date?t.jsxs("div",{className:"table-cell-date",children:[t.jsx("div",{className:"table-cell-date-main",children:d(b.start_date)}),b.end_date&&t.jsxs("div",{className:"table-cell-date-sub",children:["to ",d(b.end_date)]})]}):t.jsx("span",{className:"table-cell-na",children:"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${m(b.status)}`,children:b.status?b.status.replace("_"," "):"N/A"})}),t.jsx("td",{children:t.jsxs("div",{className:"students-cell",children:[t.jsxs("div",{className:"students-count",children:[z," / ",j??"N/A"]}),j!==void 0&&t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${$}%`}})})]})})]},b.id)})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(zs,{className:"empty-state-icon",size:48}),t.jsx("p",{className:"empty-state-text",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtext",children:"You don't have any classes yet"})]})})]}),t.jsxs("div",{className:"card profile-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h2",{className:"card-title",children:[t.jsx(ms,{className:"card-title-icon",size:24}),"Profile Summary"]})}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-field",children:[t.jsx("p",{className:"profile-label",children:"Name"}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.name)||"N/A"})]}),t.jsxs("div",{className:"profile-field",children:[t.jsxs("p",{className:"profile-label",children:[t.jsx(Bt,{size:14,className:"profile-label-icon"}),"Email"]}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.email)||"N/A"})]}),t.jsx("button",{onClick:()=>r("/profile"),className:"profile-button",children:"View Full Profile"})]})]})]}),t.jsxs("div",{className:"training-grid",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Qe,{className:"card-title-icon",size:24}),"Training Centers"]}),E>0&&t.jsx("span",{className:"badge",children:E})]})}),t.jsx("div",{className:"profile-content",children:E>0?t.jsxs("div",{className:"training-list",children:[y.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.city&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Dt,{size:12,className:"training-item-location-icon"}),b.city,", ",b.country]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${p(b.status)}`,children:b.status})]})},b.id)),E>3&&t.jsxs("button",{onClick:()=>r("/instructor/training-centers"),className:"training-view-all",children:["View All (",E,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Qe,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No training centers found"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(rr,{className:"card-title-icon",size:24}),"Accreditation Bodies"]}),S>0&&t.jsx("span",{className:"badge",children:S})]})}),t.jsx("div",{className:"profile-content",children:S>0?t.jsxs("div",{className:"training-list",children:[_.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.country&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Dt,{size:12,className:"training-item-location-icon"}),b.country]}),b.is_authorized&&t.jsxs("div",{className:"authorized-badge",children:[t.jsx(Me,{size:14,className:"authorized-icon"}),t.jsx("span",{className:"authorized-text",children:"Authorized"}),b.authorization_date&&t.jsx("span",{className:"authorized-date",children:d(b.authorization_date)})]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${p(b.status)}`,children:b.status})]})},b.id)),S>3&&t.jsxs("button",{onClick:()=>r("/instructor/accs"),className:"training-view-all",children:["View All (",S,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(rr,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No ACCs found"})]})})]})]})]})},gE=()=>{const{user:e,loading:s}=jr();if(s)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})});switch(e==null?void 0:e.role){case"group_admin":return t.jsx(fE,{});case"acc_admin":return t.jsx(Vj,{});case"training_center_admin":return t.jsx(Hj,{});case"instructor":return t.jsx(Gj,{});default:return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome!"}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})]})})}},Le=({isOpen:e,onClose:s,title:r,children:a,size:n="md"})=>{if(f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${i[n]} max-h-[90vh] overflow-y-auto animate-scale-in`,children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10 backdrop-blur-sm bg-white/95",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-2 rounded-lg hover:bg-gray-100 hover:rotate-90 transform",children:t.jsx(_s,{size:24})})]}),t.jsx("div",{className:"p-6 animate-fade-in",children:a})]})})},et=f.forwardRef(({children:e,variant:s="primary",size:r="md",className:a="",disabled:n=!1,loading:i=!1,icon:o,iconPosition:l="left",fullWidth:c=!1,type:h="button",onClick:d,...m},p)=>{const u="btn-base",g={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"},y={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},_=`
    ${u}
    ${g[s]}
    ${y[r]}
    ${c?"btn-full-width":""}
    ${n||i?"btn-disabled":""}
    ${a}
  `.trim().replace(/\s+/g," "),x=o&&t.jsx("span",{className:`btn-icon ${l==="right"?"btn-icon-right":""}`,children:o});return t.jsxs("button",{ref:p,type:h,className:_,disabled:n||i,onClick:d,...m,children:[i&&t.jsx("span",{className:"btn-spinner",children:t.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!i&&l==="left"&&x,!i&&t.jsx("span",{className:"btn-content",children:e}),!i&&l==="right"&&x]})});et.displayName="Button";const Ve=({name:e,value:s,icon:r,colorType:a,isActive:n,onClick:i})=>t.jsx("div",{onClick:i,className:`tab-card tab-card-${a} ${n?"active":""}`,children:t.jsxs("div",{className:"tab-card-content",children:[t.jsxs("div",{children:[t.jsx("p",{className:`tab-card-label tab-card-label-${a}`,children:e}),t.jsx("p",{className:`tab-card-value tab-card-value-${a}`,children:s})]}),t.jsx("div",{className:`tab-card-icon-wrapper tab-card-icon-wrapper-${a}`,children:t.jsx(r,{className:"tab-card-icon",size:32})})]})}),$s=({children:e,columns:s={mobile:1,tablet:2,desktop:2}})=>t.jsx("div",{className:"tab-cards-grid",style:{"--columns-mobile":s.mobile,"--columns-tablet":s.tablet,"--columns-desktop":s.desktop},children:e}),pt=({columns:e,data:s,onEdit:r,onDelete:a,onView:n,onRowClick:i,isLoading:o=!1,emptyMessage:l="No data available",searchable:c=!0,filterable:h=!0,searchPlaceholder:d="Search...",filterOptions:m=null,sortable:p=!0,defaultFilter:u="all",customFilters:g=null,expandable:y=!1,renderExpandedRow:_=null,getExpandedRows:x=null})=>{var k;const[v,C]=f.useState(""),[N,E]=f.useState(u),[S,b]=f.useState(!1),[A,j]=f.useState({key:null,direction:"asc"}),[z,$]=f.useState(new Set),w=f.useRef(null);f.useEffect(()=>{E(u)},[u]),f.useEffect(()=>{const I=F=>{w.current&&!w.current.contains(F.target)&&b(!1)};return S&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[S]);const R=(I,F)=>{F&&F.stopPropagation(),$(O=>{const B=new Set(O);return B.has(I)?B.delete(I):B.add(I),B})},D=(I,F)=>{if(!(F.target.closest("button")||F.target.closest("a")||F.target.closest(".enrollment-clickable")||F.target.classList.contains("enrollment-clickable"))){if(y&&_&&I.id){R(I.id,F);return}i?i(I):n&&n(I)}},M=I=>{if(!p||I.sortable===!1)return;let F="asc";A.key===I.accessor&&A.direction==="asc"&&(F="desc"),j({key:I.accessor,direction:F})},P=f.useMemo(()=>{let I=[...s];if(c&&v){const F=v.toLowerCase().trim();I=I.filter(O=>O._searchText&&typeof O._searchText=="string"&&O._searchText.includes(F)?!0:e.some(H=>{if(H.accessor==="actions"||H.accessor==="enrolled_count"||H.accessor==="max_capacity"||H.accessor==="capacity"||H.accessor==="duration_hours"||H.accessor==="base_price")return!1;const U=O[H.accessor];if(U==null||typeof U=="number")return!1;if(typeof U=="object"&&!Array.isArray(U)){const q=["name","code","email","first_name","last_name","title","name_ar"];return Object.keys(U).some(W=>{if(q.includes(W.toLowerCase())){const G=U[W];if(G&&typeof G=="string")return G.toLowerCase().includes(F)}return!1})}return Array.isArray(U)?U.some(q=>String(q).toLowerCase().includes(F)):typeof U=="string"?U.toLowerCase().includes(F):!1}))}if(h&&m&&N!=="all"){const F=m.find(O=>O.value===N);F&&F.filterFn&&(I=I.filter(F.filterFn))}return p&&A.key&&I.sort((F,O)=>{if(!e.find(q=>q.accessor===A.key))return 0;let H=F[A.key],U=O[A.key];return H&&typeof H=="object"&&!Array.isArray(H)&&(H=H.name||H.title||JSON.stringify(H)),U&&typeof U=="object"&&!Array.isArray(U)&&(U=U.name||U.title||JSON.stringify(U)),H&&U&&(A.key.includes("date")||A.key.includes("Date"))&&(H=new Date(H),U=new Date(U)),typeof H=="number"&&typeof U=="number"?A.direction==="asc"?H-U:U-H:(H=(H==null?void 0:H.toString().toLowerCase())||"",U=(U==null?void 0:U.toString().toLowerCase())||"",H<U?A.direction==="asc"?-1:1:H>U?A.direction==="asc"?1:-1:0)}),I},[s,v,N,A,e,c,h,m,p]);return t.jsxs(t.Fragment,{children:[(c||h&&m||g)&&t.jsxs("div",{className:"data-table-search-container",children:[t.jsxs("div",{className:"data-table-search-content",children:[c&&t.jsxs("div",{className:"data-table-search-input-wrapper",children:[t.jsx(vi,{className:"data-table-search-icon",size:18}),t.jsx("input",{type:"text",placeholder:d,value:v,onChange:I=>C(I.target.value),className:"data-table-search-input"}),v&&t.jsx("button",{onClick:()=>C(""),className:"data-table-search-clear",children:t.jsx(_s,{size:16})})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexShrink:0},children:[g&&t.jsx("div",{style:{flexShrink:0},children:g}),h&&m&&t.jsxs("div",{className:"data-table-filter-wrapper",ref:w,children:[t.jsxs("button",{onClick:()=>b(!S),className:`data-table-filter-button ${N!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(wn,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((k=m.find(I=>I.value===N))==null?void 0:k.label)||"All"})]}),S&&t.jsx("div",{className:"data-table-filter-dropdown",children:m.map(I=>t.jsx("button",{onClick:()=>{E(I.value),b(!1)},className:`data-table-filter-option ${N===I.value?"data-table-filter-option-active":""}`,children:I.label},I.value))})]})]})]}),v&&t.jsxs("div",{className:"data-table-search-results",children:["Showing ",P.length," of ",s.length," results"]})]}),t.jsx("div",{className:"data-table-container",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"data-table-header",children:t.jsxs("tr",{children:[e.map((I,F)=>{const O=p&&I.sortable!==!1,B=A.key===I.accessor;return t.jsx("th",{className:`data-table-th ${O?"data-table-th-sortable":""}`,onClick:()=>O&&M(I),children:t.jsxs("div",{className:"data-table-th-content",children:[t.jsx("span",{children:I.header}),O&&t.jsx("span",{className:"data-table-sort-icon",children:B?A.direction==="asc"?t.jsx(F_,{size:14}):t.jsx(z_,{size:14}):t.jsx(R_,{size:14})})]})},F)}),(r||a||n)&&t.jsx("th",{className:"data-table-th",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):P.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center text-gray-500",children:v||N!=="all"?"No results found. Try adjusting your search or filters.":l})}):t.jsx(t.Fragment,{children:P.map((I,F)=>{const O=I.id||F,B=z.has(O);return t.jsxs(t.Fragment,{children:[t.jsxs("tr",{className:`hover:bg-gray-50 transition-all duration-200 ease-out hover:shadow-sm ${y&&_||i||n?"cursor-pointer":""} stagger-item`,onClick:H=>D(I,H),style:{"--animation-delay":`${F*.03}s`},children:[e.map((H,U)=>{const q=I[H.accessor];let W=q;return!H.render&&q&&typeof q=="object"&&!Array.isArray(q)&&(W=q.name||q.title||q.first_name||JSON.stringify(q)),t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900",children:H.render?H.render(q,I,{isExpanded:B,toggleExpand:G=>R(O,G)}):W},U)}),(r||a||n)&&t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",onClick:H=>H.stopPropagation(),children:t.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const H=[];return r&&a?(H.push(t.jsx("button",{onClick:()=>r(I),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(Rs,{size:18})},"edit")),H.push(t.jsx("button",{onClick:()=>a(I),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete"))):n&&r?(H.push(t.jsx("button",{onClick:()=>n(I),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(as,{size:18})},"view")),H.push(t.jsx("button",{onClick:()=>r(I),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(Rs,{size:18})},"edit"))):n&&a?(H.push(t.jsx("button",{onClick:()=>n(I),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(as,{size:18})},"view")),H.push(t.jsx("button",{onClick:()=>a(I),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete"))):r?H.push(t.jsx("button",{onClick:()=>r(I),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(Rs,{size:18})},"edit")):a?H.push(t.jsx("button",{onClick:()=>a(I),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete")):n&&H.push(t.jsx("button",{onClick:()=>n(I),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(as,{size:18})},"view")),H})()})})]},O),y&&_&&B&&t.jsx("tr",{className:"bg-gray-50",children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-4",children:_(I)})},`expanded-${O}`)]})})})})]})})})]})},ra=({data:e,isLoading:s,emptyMessage:r="No data available"})=>{if(s)return t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!e)return t.jsx("div",{className:"text-center py-8 text-gray-500",children:r});const a=(i,o,l=null,c="")=>!o&&o!==0&&o!==!1?null:t.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg ${c}`,children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[l&&t.jsx("span",{className:"mr-2",children:l}),i]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o})]}),n=i=>{const o={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ge},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ge}},l=o[i]||o.pending,c=l.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${l.badgeClass}`,children:[t.jsx(c,{size:12,className:"mr-1"}),i?i.charAt(0).toUpperCase()+i.slice(1):"N/A"]})};return t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.name&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name})]}),e.name_ar&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name (Arabic)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name_ar})]}),e.legal_name&&a("Legal Name",e.legal_name),e.first_name&&a("First Name",e.first_name),e.last_name&&a("Last Name",e.last_name),e.full_name&&a("Full Name",e.full_name),e.email&&a("Email",e.email,t.jsx(Bt,{size:16})),e.phone&&a("Phone",e.phone,t.jsx(ta,{size:16})),e.country&&a("Country",e.country,t.jsx(Dt,{size:16})),e.city&&a("City",e.city,t.jsx(Dt,{size:16})),e.address&&a("Address",e.address,t.jsx(Dt,{size:16}),"md:col-span-2"),e.registration_number&&a("Registration Number",e.registration_number),e.id_number&&a("ID Number",e.id_number),e.code&&a(e.code.includes("Course")?"Course Code":"Code",e.code),e.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:e.level})]}),e.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:16,className:"mr-2"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[e.duration_hours," hours"]})]}),e.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),n(e.status)]}),e.commission_percentage!==void 0&&e.commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:e.commission_percentage?`${e.commission_percentage}%`:"Not Set"})]}),e.authorization_price&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"Authorization Price"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(e.authorization_price||0).toFixed(2)]})]}),e.stripe_account_configured!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stripe Account"}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx(Me,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[t.jsx(hr,{size:12,className:"mr-1"}),"Not Configured"]}),e.stripe_account_id&&t.jsx("span",{className:"text-xs text-gray-500 font-mono",children:e.stripe_account_id})]})]}),e.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Website"}),t.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:e.website})]}),e.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]}),e.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:16,className:"mr-2"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.request_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:e.description})]}),e.acc&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Qe,{className:"h-5 w-5 text-purple-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Accreditation Body (ACC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.acc.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.name})]}),e.acc.legal_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.legal_name})]}),e.acc.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.email})]}),e.acc.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.phone})]}),e.acc.status&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${e.acc.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.acc.status})]})]})]}),e.training_center&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Qe,{className:"h-5 w-5 text-indigo-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"Training Center"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:typeof e.training_center=="string"?t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center}):t.jsxs(t.Fragment,{children:[e.training_center.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.name})]}),e.training_center.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.email})]})]})})]}),e.instructor&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(ft,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Instructor"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.instructor.first_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"First Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.first_name})]}),e.instructor.last_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.last_name})]}),e.instructor.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.email})]}),e.instructor.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.phone})]})]})]}),e.sub_category&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(oi,{className:"h-5 w-5 text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Sub Category"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.sub_category.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Sub Category Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.name}),e.sub_category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.name_ar})]}),e.sub_category.category&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Parent Category"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.category.name||"N/A"}),e.sub_category.category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.category.name_ar})]})]})]}),e.certificate_pricing&&Array.isArray(e.certificate_pricing)&&e.certificate_pricing.length>0&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Ot,{className:"h-5 w-5 text-yellow-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Certificate Pricing"})]}),t.jsx("div",{className:"space-y-3",children:e.certificate_pricing.map((i,o)=>t.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.base_price!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[parseFloat(i.base_price||0).toFixed(2)," ",i.currency||"USD"]})]}),i.group_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.group_commission_percentage||"0","%"]})]}),i.training_center_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.training_center_commission_percentage||"0","%"]})]}),i.instructor_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.instructor_commission_percentage||"0","%"]})]}),i.effective_from&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective From"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_from).toLocaleDateString()})]}),i.effective_to&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective To"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_to).toLocaleDateString()})]})]})},o))})]}),(e.documents||e.documents_json)&&Array.isArray(e.documents||e.documents_json)&&(e.documents||e.documents_json).length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ze,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:(e.documents||e.documents_json).map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:i.document_type||i.type||`Document ${o+1}`}),i.verified!==void 0&&t.jsx("p",{className:"text-sm text-gray-500",children:i.verified?"Verified":"Not Verified"}),i.description&&t.jsx("p",{className:"text-sm text-gray-500",children:i.description})]}),(i.document_url||i.url)&&t.jsx("a",{href:(i.document_url||i.url).startsWith("http")?i.document_url||i.url:`https://aeroenix.com/v1/api${i.document_url||i.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]},o))})]}),e.subscriptions&&Array.isArray(e.subscriptions)&&e.subscriptions.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subscriptions"}),t.jsx("div",{className:"space-y-2",children:e.subscriptions.map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[i.subscription_start_date," - ",i.subscription_end_date]}),i.payment_status&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",i.payment_status]})]},o))})]}),e.categories&&Array.isArray(e.categories)&&e.categories.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ji,{className:"mr-2",size:20}),"Assigned Categories"]}),t.jsx("div",{className:"space-y-2",children:e.categories.map((i,o)=>{const l=typeof i=="object"?i.id:i,c=typeof i=="object"?i.name:`Category ${l}`;return t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:c}),typeof i=="object"&&i.status&&t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},l||o)})})]}),e.languages&&Array.isArray(e.languages)&&e.languages.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Jo,{className:"mr-2",size:20}),"Languages"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.languages.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:i},o))})]}),e.specializations&&Array.isArray(e.specializations)&&e.specializations.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Jo,{className:"mr-2",size:20}),"Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.specializations.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:i},o))})]}),e.certificates_json&&Array.isArray(e.certificates_json)&&e.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(rr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-3",children:e.certificates_json.map((i,o)=>{const l=typeof i=="object"?i.name||i.title||i.certificate_name||`Certificate ${o+1}`:i,c=typeof i=="object"&&i.date?i.date:null,h=typeof i=="object"&&i.url?i.url:typeof i=="object"&&i.file_url?i.file_url:null;return t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(rr,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l}),c&&t.jsx("p",{className:"text-xs text-gray-600",children:new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),!c&&t.jsx("p",{className:"text-xs text-gray-600",children:"Certificate document"})]})]}),h&&t.jsxs("a",{href:h.startsWith("http")?h:`https://aeroenix.com/v1/api${h}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ze,{size:18,className:"mr-2"}),"View PDF"]})]})},o)})})]}),e.cv_url&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ze,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Ze,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the CV"})]})]}),t.jsxs("a",{href:e.cv_url.startsWith("http")?e.cv_url:`https://aeroenix.com/v1/api${e.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ze,{size:18,className:"mr-2"}),"View CV"]})]})})]}),e.classes&&Array.isArray(e.classes)&&e.classes.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Classes (",e.classes.length,")"]}),t.jsx("div",{className:"space-y-2",children:e.classes.map(i=>t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name||`Class ${i.id}`}),i.status&&t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},i.id))})]}),e.commission_percentage!==null&&e.commission_percentage!==void 0&&e.authorization_price&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ot,{className:"mr-2",size:20}),"Commission Information"]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[parseFloat(e.commission_percentage).toFixed(2),"%"]}),e.authorization_price&&t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*parseFloat(e.commission_percentage)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*(100-parseFloat(e.commission_percentage))/100).toFixed(2)]})]})]})]})]}),(e.created_at||e.updated_at)&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.created_at).toLocaleString()})]}),e.updated_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.updated_at).toLocaleString()})]})]})]})},fe=({label:e,type:s="text",name:r,value:a,onChange:n,placeholder:i,required:o=!1,error:l,helpText:c,options:h=null,textarea:d=!1,rows:m=4,className:p="",disabled:u=!1,min:g,max:y,step:_})=>t.jsxs("div",{className:p,children:[e&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d?t.jsx("textarea",{name:r,value:a,onChange:n,placeholder:i,required:o,rows:m,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}):s==="select"?t.jsx("select",{name:r,value:a,onChange:n,required:o,disabled:u,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`,children:h&&h.length>0&&h[0].value===""?h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value)):t.jsxs(t.Fragment,{children:[t.jsxs("option",{value:"",children:["Select ",e]}),h==null?void 0:h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))]})}):t.jsx("input",{type:s,name:r,value:a,onChange:n,placeholder:i,required:o,disabled:u,min:g,max:y,step:_,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`}),l&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),c&&!l&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),xE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("ACC Applications"),s("Review and manage ACC registration applications"),()=>{e(null),s(null)}),[e,s]);const _=async()=>{i(!0);try{const z=await He.getACCApplications();a(z.applications||[])}catch(z){console.error("Failed to load applications:",z),a([])}finally{i(!1)}};f.useEffect(()=>{_()},[]);const x=async z=>{try{await He.approveACCApplication(z),await _()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},v=async z=>{try{const $=await He.getACCApplication(z.id);l($.application),h(!0)}catch($){console.error("Failed to load application details:",$),l(z),h(!0)}},C=z=>{l(z),u(""),m(!0)},N=async()=>{if(!p.trim()){alert("Please provide a rejection reason");return}try{await He.rejectACCApplication(o.id,{rejection_reason:p}),await _(),m(!1),l(null),u("")}catch(z){alert("Failed to reject application: "+(z.message||"Unknown error"))}},E=f.useMemo(()=>{let z=[...r];return g!=="all"&&(z=z.filter($=>$.status===g)),z.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),S=r.length,b=r.filter(z=>z.status==="pending").length,A=r.filter(z=>z.status==="rejected").length,j=f.useMemo(()=>[{header:"Organization",accessor:"name",sortable:!0,render:(z,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:z||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:z=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),z||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:z=>{const $={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge}},w=$[z]||$.pending,R=w.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${w.badgeClass}`,children:[t.jsx(R,{size:12,className:"mr-1"}),z?z.charAt(0).toUpperCase()+z.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:z=>t.jsx("span",{className:"text-sm text-gray-600",children:z?new Date(z).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(Ve,{name:"Total",value:S,icon:Di,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(Ve,{name:"Pending",value:b,icon:Ge,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(Ve,{name:"Rejected",value:A,icon:nt,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:j,data:E,onView:v,onRowClick:v,isLoading:n,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by organization name, email, or legal name..."})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"ACC Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(et,{variant:"danger",fullWidth:!0,icon:t.jsx(nt,{size:20}),onClick:()=>{h(!1),C(o)},children:"Reject Application"})]})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),l(null),u("")},title:"Reject ACC Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:p,onChange:z=>u(z.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),l(null),u("")},children:"Cancel"}),t.jsx(et,{variant:"danger",fullWidth:!0,onClick:N,children:"Reject Application"})]})]})})]})},yE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("Training Center Applications"),s("Review and manage Training Center registration applications"),()=>{e(null),s(null)}),[e,s]);const _=async()=>{try{i(!0);const z=await He.getTrainingCenterApplications();a(z.applications||[])}catch(z){console.error("Failed to load applications:",z),alert("Failed to load applications: "+(z.message||"Unknown error"))}finally{i(!1)}};f.useEffect(()=>{_()},[]);const x=async z=>{if(confirm("Are you sure you want to approve this Training Center application?"))try{await He.approveTrainingCenterApplication(z),alert("Training Center application approved successfully!"),await _()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},v=z=>{l(z),h(!0)},C=z=>{l(z),u(""),m(!0)},N=async()=>{if(!p.trim()){alert("Please provide a rejection reason");return}try{await He.rejectTrainingCenterApplication(o.id,{rejection_reason:p}),alert("Training Center application rejected"),await _(),m(!1),l(null),u("")}catch(z){alert("Failed to reject application: "+(z.message||"Unknown error"))}},E=f.useMemo(()=>{let z=[...r];return g==="rejected"?z=z.filter($=>$.status==="inactive"||$.status==="rejected"):g!=="all"&&(z=z.filter($=>$.status===g)),z.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),S=r.length,b=r.filter(z=>z.status==="pending").length,A=r.filter(z=>z.status==="inactive"||z.status==="rejected").length,j=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:(z,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:z||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:z=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),z||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:z=>{const $={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},inactive:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge}},w=$[z]||$.pending,R=w.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${w.badgeClass}`,children:[t.jsx(R,{size:12,className:"mr-1"}),z?z.charAt(0).toUpperCase()+z.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:z=>t.jsx("span",{className:"text-sm text-gray-600",children:z?new Date(z).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(Ve,{name:"Total",value:S,icon:Di,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(Ve,{name:"Pending",value:b,icon:Ge,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(Ve,{name:"Rejected",value:A,icon:nt,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:j,data:E,onView:v,onRowClick:v,isLoading:n,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center name, email, or legal name..."})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"Training Center Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(et,{variant:"danger",fullWidth:!0,icon:t.jsx(nt,{size:20}),onClick:()=>{h(!1),C(o)},children:"Reject Application"})]})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),l(null),u("")},title:"Reject Training Center Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:p,onChange:z=>u(z.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),l(null),u("")},children:"Cancel"}),t.jsx(et,{variant:"danger",fullWidth:!0,onClick:N,children:"Reject Application"})]})]})})]})},bE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(!1),[g,y]=f.useState(null),[_,x]=f.useState(""),[v,C]=f.useState(!1),[N,E]=f.useState([]),[S,b]=f.useState(""),[A,j]=f.useState("all"),[z,$]=f.useState({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),[w,R]=f.useState({});f.useEffect(()=>(e("All Accreditation Bodies"),s("Manage all accreditation bodies"),()=>{e(null),s(null)}),[e,s]);const D=async()=>{try{const L=await He.listCategories();E(L.categories||[])}catch(L){console.error("Failed to load categories:",L)}},M=async()=>{i(!0);try{const L=await He.listACCs({per_page:1e3});let Q=[];L.data?Q=L.data||[]:L.accs?Q=L.accs||[]:Q=Array.isArray(L)?L:[],a(Q)}catch(L){console.error("Failed to load ACCs:",L),a([])}finally{i(!1)}};f.useEffect(()=>{M(),D()},[]);const P=async L=>{try{const Q=await He.getACCDetails(L.id),J={...Q.acc,categories:Q.acc.categories||[]};y(J),l(!0)}catch(Q){console.error("Failed to load ACC details:",Q);const J={...L,categories:L.categories||[]};y(J),l(!0)}},k=async()=>{if(!_||isNaN(_)){alert("Please enter a valid commission percentage");return}const L=parseFloat(_);if(L<0||L>100){alert("Commission percentage must be between 0 and 100");return}C(!0);try{await He.setCommissionPercentage(g.id,{commission_percentage:L}),await M(),h(!1),y(null),x(""),alert("Commission percentage set successfully!")}catch(Q){alert("Failed to set commission: "+(Q.message||"Unknown error"))}finally{C(!1)}},I=async L=>{try{const J=(await He.getACCDetails(L.id)).acc;y(J),$({name:J.name||"",legal_name:J.legal_name||"",registration_number:J.registration_number||"",country:J.country||"",address:J.address||"",phone:J.phone||"",email:J.email||"",website:J.website||"",status:J.status||"active",registration_fee_paid:J.registration_fee_paid||!1,registration_fee_amount:J.registration_fee_amount||"",commission_percentage:J.commission_percentage||""}),R({}),m(!0)}catch(Q){console.error("Failed to load ACC details:",Q),alert("Failed to load ACC details")}},F=L=>{const{name:Q,value:J,type:ue,checked:te}=L.target;$({...z,[Q]:ue==="checkbox"?te:J}),R({})},O=async L=>{var Q,J,ue,te;L.preventDefault(),C(!0),R({});try{await He.updateACC(g.id,z),await M(),m(!1),y(null),alert("ACC updated successfully!")}catch(pe){(J=(Q=pe.response)==null?void 0:Q.data)!=null&&J.errors?R(pe.response.data.errors):R({general:((te=(ue=pe.response)==null?void 0:ue.data)==null?void 0:te.message)||pe.message||"Failed to update ACC"})}finally{C(!1)}},B=async L=>{try{const Q=await He.getACCCategories(L.id),J={...Q.acc,categories:Q.categories||[]};y(J),u(!0)}catch(Q){console.error("Failed to load ACC categories:",Q);try{const J=await He.getACCDetails(L.id),ue={...J.acc,categories:J.acc.categories||[]};y(ue),u(!0)}catch(J){console.error("Failed to load ACC details:",J);const ue={...L,categories:L.categories||[]};y(ue),u(!0)}}},H=async()=>{var L,Q;if(!S){alert("Please select a category");return}C(!0);try{await He.assignCategoryToACC(g.id,{category_id:parseInt(S)});const J=await He.getACCCategories(g.id),ue={...J.acc,categories:J.categories||[]};y(ue),b(""),await D(),alert("Category assigned successfully!")}catch(J){const ue=((Q=(L=J.response)==null?void 0:L.data)==null?void 0:Q.message)||J.message||"Unknown error";alert("Failed to assign category: "+ue)}finally{C(!1)}},U=async L=>{var Q,J;if(confirm("Are you sure you want to remove this category?")){C(!0);try{await He.removeCategoryFromACC(g.id,{category_id:L});const ue=await He.getACCCategories(g.id),te={...ue.acc,categories:ue.categories||[]};y(te),await D(),alert("Category removed successfully!")}catch(ue){const te=((J=(Q=ue.response)==null?void 0:Q.data)==null?void 0:J.message)||ue.message||"Unknown error";alert("Failed to remove category: "+te)}finally{C(!1)}}},q=f.useMemo(()=>{let L=[...r];return A!=="all"&&(L=L.filter(Q=>Q.status===A)),L.map(Q=>({...Q,_searchText:`${Q.name||""} ${Q.email||""}`.toLowerCase()}))},[r,A]),W=r.length,G=r.filter(L=>L.status==="active").length,re=r.filter(L=>L.status==="pending").length,V=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(L,Q)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 mr-3 relative",children:Q.logo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:Q.logo_url,alt:L||"ACC Logo",className:"w-10 h-10 rounded-lg object-cover border border-gray-200",width:"40",height:"40",loading:"lazy",decoding:"async",onError:J=>{var te;J.target.style.display="none";const ue=(te=J.target.parentElement)==null?void 0:te.querySelector(".logo-fallback");ue&&(ue.style.display="flex")}}),t.jsx("div",{className:"logo-fallback w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg items-center justify-center hidden",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})})]}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})})}),t.jsx("div",{className:"font-medium text-gray-900",children:L||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:L=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),L||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:L=>{const Q={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ge}},J=Q[L]||Q.pending,ue=J.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${J.badgeClass}`,children:[t.jsx(ue,{size:12,className:"mr-1"}),L?L.charAt(0).toUpperCase()+L.slice(1):"N/A"]})}},{header:"Commission %",accessor:"commission_percentage",sortable:!0,render:L=>t.jsx("span",{className:"text-sm text-gray-600",children:L?`${L}%`:t.jsx("span",{className:"text-gray-400",children:"Not Set"})})},{header:"Stripe Account",accessor:"stripe_account_configured",sortable:!0,render:(L,Q)=>t.jsx("div",{className:"flex items-center",children:Q.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx(Me,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:[t.jsx(hr,{size:12,className:"mr-1"}),"Not Configured"]})})},{header:"Created",accessor:"created_at",sortable:!0,render:L=>t.jsx("span",{className:"text-sm text-gray-600",children:L?new Date(L).toLocaleDateString():"N/A"})}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(Ve,{name:"Total",value:W,icon:Di,colorType:"indigo",isActive:A==="all",onClick:()=>j("all")}),t.jsx(Ve,{name:"Active",value:G,icon:Me,colorType:"green",isActive:A==="active",onClick:()=>j("active")}),t.jsx(Ve,{name:"Pending",value:re,icon:Ge,colorType:"yellow",isActive:A==="pending",onClick:()=>j("pending")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:V,data:q,onView:P,onRowClick:P,onEdit:I,isLoading:n,emptyMessage:"No ACCs found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),y(null)},title:"ACC Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:g,isLoading:!1,emptyMessage:"No ACC data available"}),g&&t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,icon:t.jsx(Rs,{size:20}),onClick:()=>{l(!1),I(g)},children:"Edit ACC"}),t.jsx(et,{variant:"primary",fullWidth:!0,icon:t.jsx(ji,{size:20}),onClick:()=>{l(!1),B(g)},children:"Manage Categories"})]})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),y(null),x("")},title:`Set Commission for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(fe,{label:"Commission Percentage (0-100)",name:"commission_percentage",type:"number",value:_,onChange:L=>x(L.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"e.g., 15.5"}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),y(null),x("")},children:"Cancel"}),t.jsx(et,{variant:"primary",fullWidth:!0,onClick:k,disabled:v,loading:v,children:"Save Commission"})]})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),y(null),$({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),R({})},title:`Edit ACC: ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Name",name:"name",value:z.name,onChange:F,error:w.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",value:z.legal_name,onChange:F,error:w.legal_name}),t.jsx(fe,{label:"Registration Number",name:"registration_number",value:z.registration_number,onChange:F,error:w.registration_number}),t.jsx(fe,{label:"Country",name:"country",value:z.country,onChange:F,error:w.country}),t.jsx(fe,{label:"Address",name:"address",value:z.address,onChange:F,textarea:!0,rows:2,error:w.address}),t.jsx(fe,{label:"Phone",name:"phone",value:z.phone,onChange:F,error:w.phone}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:z.email,onChange:F,error:w.email}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:z.website,onChange:F,error:w.website}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:z.status,onChange:F,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"},{value:"rejected",label:"Rejected"}],error:w.status}),t.jsx(fe,{label:"Registration Fee Amount",name:"registration_fee_amount",type:"number",value:z.registration_fee_amount,onChange:F,min:"0",step:"0.01",error:w.registration_fee_amount}),t.jsx(fe,{label:"Commission Percentage",name:"commission_percentage",type:"number",value:z.commission_percentage,onChange:F,min:"0",max:"100",step:"0.1",error:w.commission_percentage}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registration_fee_paid",checked:z.registration_fee_paid,onChange:F,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Registration Fee Paid"})]})]}),w.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:w.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),y(null),R({})},children:"Cancel"}),t.jsx(et,{variant:"primary",fullWidth:!0,type:"submit",disabled:v,loading:v,children:"Save Changes"})]})]})}),t.jsx(Le,{isOpen:p,onClose:()=>{u(!1),y(null),b("")},title:`Manage Categories for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assign Category"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:S,onChange:L=>b(L.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer category-select",children:[t.jsx("option",{value:"",children:"Select a category..."}),N.filter(L=>!(g!=null&&g.categories)||g.categories.length===0?!0:!g.categories.some(Q=>{const J=typeof Q=="object"?Q.id:Q,ue=typeof L=="object"?L.id:L;return J===ue})).map(L=>t.jsx("option",{value:L.id,children:L.name},L.id))]}),t.jsx(et,{onClick:H,disabled:!S||v,loading:v,icon:t.jsx(Gs,{size:20}),children:"Assign"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Assigned Categories ",(g==null?void 0:g.categories)&&Array.isArray(g.categories)&&g.categories.length>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",g.categories.length,")"]})]}),g!=null&&g.categories&&Array.isArray(g.categories)&&g.categories.length>0?t.jsx("div",{className:"space-y-3",children:g.categories.map(L=>{const Q=L.id,J=L.sub_categories||[],ue=L.pivot;return t.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:L.name}),L.name_ar&&t.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.name_ar,")"]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.status})]}),L.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.description}),J.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Sub Categories (",J.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:J.map(te=>t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded",children:te.name},te.id))})]}),ue&&t.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Assigned on: ",new Date(ue.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>U(Q),disabled:v,className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-4",title:"Remove Category",children:t.jsx(_s,{size:16})})]})},Q)})}):t.jsxs("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[t.jsx(ji,{className:"mx-auto text-gray-400 mb-2",size:32}),t.jsx("p",{className:"text-gray-500",children:"No categories assigned"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign categories to this ACC to get started"})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{u(!1),y(null),b("")},children:"Close"})})]})})]})},vE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState("all"),[g,y]=f.useState(!1),[_,x]=f.useState({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",referred_by_group:!1,status:"active"}),[v,C]=f.useState({}),[N,E]=f.useState([]),[S,b]=f.useState([]),[A,j]=f.useState(!1),[z,$]=f.useState(!1);f.useEffect(()=>(e("All Training Centers"),s("Manage all training centers"),()=>{e(null),s(null)}),[e,s]);const w=async()=>{i(!0);try{const W=await He.listTrainingCenters({per_page:1e3});let G=[];W.data?G=W.data||[]:W.training_centers?G=W.training_centers||[]:G=Array.isArray(W)?W:[],a(G)}catch(W){console.error("Failed to load training centers:",W),a([])}finally{i(!1)}};f.useEffect(()=>{w(),R()},[]);const R=async()=>{j(!0);try{const W=await Rr.getCountries();E(W.countries||W.data||[])}catch(W){console.error("Failed to load countries:",W),E([])}finally{j(!1)}},D=async W=>{var G;if(!W){b([]);return}$(!0);try{const re=await Rr.getCities(W);let V=re.cities||((G=re.data)==null?void 0:G.cities)||re.data||re||[];!Array.isArray(V)&&typeof V=="object"&&(V=Object.values(V)),b(Array.isArray(V)?V:[])}catch(re){console.error("Failed to load cities:",re),b([])}finally{$(!1)}},M=async W=>{try{const G=await He.getTrainingCenterDetails(W.id);m(G.training_center),l(!0)}catch(G){console.error("Failed to load training center details:",G),m(W),l(!0)}},P=async W=>{try{const re=(await He.getTrainingCenterDetails(W.id)).training_center;m(re);const V=re.country||"";x({name:re.name||"",legal_name:re.legal_name||"",registration_number:re.registration_number||"",country:V,city:re.city||"",address:re.address||"",phone:re.phone||"",email:re.email||"",website:re.website||"",referred_by_group:re.referred_by_group||!1,status:re.status||"active"}),C({}),V?await D(V):b([]),h(!0)}catch(G){console.error("Failed to load training center details:",G),alert("Failed to load training center details")}},k=async W=>{const{name:G,value:re,type:V,checked:L}=W.target;G==="country"?(x({..._,[G]:re,city:""}),C({}),await D(re)):(x({..._,[G]:V==="checkbox"?L:re}),C({}))},I=async W=>{var G,re,V,L;W.preventDefault(),y(!0),C({});try{await He.updateTrainingCenter(d.id,_),await w(),h(!1),m(null),alert("Training center updated successfully!")}catch(Q){(re=(G=Q.response)==null?void 0:G.data)!=null&&re.errors?C(Q.response.data.errors):C({general:((L=(V=Q.response)==null?void 0:V.data)==null?void 0:L.message)||Q.message||"Failed to update training center"})}finally{y(!1)}},F=f.useMemo(()=>{let W=[...r];return p!=="all"&&(W=W.filter(G=>G.status===p)),W.map(G=>({...G,_searchText:`${G.name||""} ${G.email||""}`.toLowerCase()}))},[r,p]),O=r.length,B=r.filter(W=>W.status==="active").length,H=r.filter(W=>W.status==="pending").length,U=r.filter(W=>W.status==="inactive").length,q=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:(W,G)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 mr-3 relative",children:G.logo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:G.logo_url,alt:W||"Training Center Logo",className:"w-10 h-10 rounded-lg object-cover border border-gray-200",width:"40",height:"40",loading:"lazy",decoding:"async",onError:re=>{var L;re.target.style.display="none";const V=(L=re.target.parentElement)==null?void 0:L.querySelector(".logo-fallback");V&&(V.style.display="flex")}}),t.jsx("div",{className:"logo-fallback w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg items-center justify-center hidden",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(Zo,{className:"h-5 w-5 text-primary-600"})})]}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(Zo,{className:"h-5 w-5 text-primary-600"})})}),t.jsx("div",{className:"font-medium text-gray-900",children:W||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:W=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),W||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:W=>{const G={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ge}},re=G[W]||G.pending,V=re.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${re.badgeClass}`,children:[t.jsx(V,{size:12,className:"mr-1"}),W?W.charAt(0).toUpperCase()+W.slice(1):"N/A"]})}},{header:"Country",accessor:"country",sortable:!0,render:W=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2 text-gray-400"}),W||"N/A"]})},{header:"Created",accessor:"created_at",sortable:!0,render:W=>t.jsx("span",{className:"text-sm text-gray-600",children:W?new Date(W).toLocaleDateString():"N/A"})}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total",value:O,icon:Di,colorType:"indigo",isActive:p==="all",onClick:()=>u("all")}),t.jsx(Ve,{name:"Active",value:B,icon:Me,colorType:"green",isActive:p==="active",onClick:()=>u("active")}),t.jsx(Ve,{name:"Pending",value:H,icon:Ge,colorType:"yellow",isActive:p==="pending",onClick:()=>u("pending")}),t.jsx(Ve,{name:"Inactive",value:U,icon:nt,colorType:"gray",isActive:p==="inactive",onClick:()=>u("inactive")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:q,data:F,onView:M,onRowClick:M,onEdit:P,isLoading:n,emptyMessage:"No training centers found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),m(null)},title:"Training Center Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:d,isLoading:!1,emptyMessage:"No training center data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(et,{variant:"outline",fullWidth:!0,icon:t.jsx(Rs,{size:20}),onClick:()=>{l(!1),P(d)},children:"Edit Training Center"})})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null),x({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",referred_by_group:!1,status:"active"}),C({}),b([])},title:`Edit Training Center: ${d==null?void 0:d.name}`,size:"lg",children:t.jsxs("form",{onSubmit:I,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Name",name:"name",value:_.name,onChange:k,error:v.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",value:_.legal_name,onChange:k,error:v.legal_name}),t.jsx(fe,{label:"Registration Number",name:"registration_number",value:_.registration_number,onChange:k,error:v.registration_number}),t.jsx(fe,{label:"Country",name:"country",type:"select",value:_.country,onChange:k,disabled:A,options:A?[{value:"",label:"Loading countries..."}]:N.length>0?[{value:"",label:"Select a country"},...N.map(W=>({value:W.code||W.name||W,label:W.name||W.code||W}))]:[{value:"",label:"No countries available"}],error:v.country}),t.jsx(fe,{label:"City",name:"city",type:"select",value:_.city,onChange:k,disabled:!_.country||z,options:_.country?z?[{value:"",label:"Loading cities..."}]:S.length>0?[{value:"",label:"Select a city"},...S.map(W=>({value:W.name||W,label:W.name||W}))]:[{value:"",label:"No cities available"}]:[{value:"",label:"Select a country first"}],error:v.city}),t.jsx(fe,{label:"Address",name:"address",value:_.address,onChange:k,textarea:!0,rows:2,error:v.address}),t.jsx(fe,{label:"Phone",name:"phone",value:_.phone,onChange:k,error:v.phone}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:_.email,onChange:k,error:v.email}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:_.website,onChange:k,error:v.website}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:_.status,onChange:k,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:v.status}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"referred_by_group",checked:_.referred_by_group,onChange:k,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Referred by Group"})]})]}),v.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:v.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),m(null),C({})},children:"Cancel"}),t.jsx(et,{variant:"primary",fullWidth:!0,type:"submit",disabled:g,loading:g,children:"Save Changes"})]})]})})]})},hm=["English","Arabic","French","Spanish","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Hindi","Turkish","Dutch","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Greek","Hebrew","Thai","Vietnamese","Indonesian","Malay","Tagalog","Urdu","Persian","Bengali","Punjabi","Tamil","Telugu","Marathi","Gujarati"],_u=({value:e=[],onChange:s,label:r="Languages",error:a,disabled:n=!1,placeholder:i="Select a language...",useAPI:o=!1})=>{const[l,c]=f.useState(""),[h,d]=f.useState(o?[]:hm),[m,p]=f.useState(!1);f.useEffect(()=>{o&&u()},[o]);const u=async()=>{var v,C,N;p(!0);try{console.log(" [LanguageSelector] Loading languages from API...");const E=await Rr.getLanguages();console.log(" [LanguageSelector] Languages received:",E);let S=E.languages||((v=E.data)==null?void 0:v.languages)||E.data||E||[];!Array.isArray(S)&&typeof S=="object"&&(S=Object.values(S)),S=S.map(b=>typeof b=="object"&&(b.name||b.language)||b),d(Array.isArray(S)&&S.length>0?S:hm),console.log(` [LanguageSelector] Loaded ${h.length} languages`)}catch(E){console.error(" [LanguageSelector] Failed to load languages:",E),console.error(" [LanguageSelector] Error details:",{status:(C=E.response)==null?void 0:C.status,data:(N=E.response)==null?void 0:N.data,message:E.message}),d(hm)}finally{p(!1)}},g=Array.isArray(e)?e:e?e.split(",").map(v=>v.trim()).filter(v=>v):[],y=h.filter(v=>!g.includes(v)),_=v=>{const C=v.target.value;if(C&&!g.includes(C)){const N=[...g,C];s(N),c("")}},x=v=>{const C=g.filter(N=>N!==v);s(C)};return t.jsxs("div",{className:"language-selector-container",children:[t.jsx("label",{className:"language-selector-label",children:r}),t.jsx("div",{className:"language-selector-wrapper",children:t.jsxs("div",{className:"language-selector-input-wrapper",children:[t.jsx(Jo,{className:"language-selector-icon",size:18}),t.jsxs("select",{value:l,onChange:_,disabled:n||m||y.length===0,className:"language-selector-select",children:[t.jsx("option",{value:"",children:m?"Loading languages...":i}),y.map(v=>t.jsx("option",{value:v,children:v},v))]})]})}),g.length>0&&t.jsx("div",{className:"language-selector-tags",children:g.map((v,C)=>t.jsxs("span",{className:"language-selector-tag",children:[v,!n&&t.jsx("button",{type:"button",onClick:()=>x(v),className:"language-selector-remove-btn",title:"Remove language",children:t.jsx(_s,{size:14})})]},C))}),a&&t.jsx("p",{className:"language-selector-error",children:a})]})},jE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState(!1),[g,y]=f.useState("all"),[_,x]=f.useState(!1),[v,C]=f.useState(null),[N,E]=f.useState(null),[S,b]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),[A,j]=f.useState({});f.useEffect(()=>(e("Instructors"),s("View and manage all instructors across all ACCs"),()=>{e(null),s(null)}),[e,s]);const z=async()=>{i(!0);try{const q=await He.listInstructors({per_page:1e3});let W=[];q.data?W=q.data||[]:q.instructors?W=q.instructors||[]:W=Array.isArray(q)?q:[],a(W)}catch(q){console.error("Failed to load instructors:",q),a([])}finally{i(!1)}};f.useEffect(()=>{z()},[]);const $=async q=>{var W;u(!0),l(!0);try{const G=await He.getInstructorDetails(q.id);m(G.instructor)}catch(G){console.error("Failed to load instructor details:",G),m(q),((W=G.response)==null?void 0:W.status)===404&&alert("Instructor not found")}finally{u(!1)}},w=async q=>{try{const G=(await He.getInstructorDetails(q.id)).instructor;m(G),b({first_name:G.first_name||"",last_name:G.last_name||"",email:G.email||"",phone:G.phone||"",id_number:G.id_number||"",certificates_json:G.certificates_json||[],specializations:G.specializations||[],languages:G.specializations||G.languages||[],status:G.status||"active"}),C(null),E(G.cv_url||null),j({}),h(!0)}catch(W){console.error("Failed to load instructor details:",W),alert("Failed to load instructor details")}},R=q=>{const{name:W,value:G}=q.target;b({...S,[W]:G}),j({})},D=q=>{const W=q.target.files[0];if(W){const G=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],re=[".pdf",".doc",".docx"],V="."+W.name.split(".").pop().toLowerCase();if(!G.includes(W.type)&&!re.includes(V)){j({cv_file:"CV must be a PDF or DOC/DOCX file"}),q.target.value="";return}if(W.size>10*1024*1024){j({cv_file:"CV file size must not exceed 10MB"}),q.target.value="";return}C(W),E(URL.createObjectURL(W)),A.cv_file&&j(L=>{const Q={...L};return delete Q.cv_file,Q})}},M=()=>{C(null),E(null);const q=document.querySelector('input[name="cv_file"]');q&&(q.value="")},P=q=>{b({...S,languages:Array.isArray(q)?q:[]}),j(W=>{const G={...W};return delete G.languages,G})},k=async q=>{var W,G,re,V,L,Q;q.preventDefault(),x(!0),j({});try{let J={...S};const ue=Array.isArray(J.languages)?J.languages:J.languages?J.languages.split(",").map(te=>te.trim()).filter(te=>te):[];if(v){const te=new FormData;J.first_name&&te.append("first_name",J.first_name),J.last_name&&te.append("last_name",J.last_name),J.email&&te.append("email",J.email),J.phone&&te.append("phone",J.phone),J.id_number&&te.append("id_number",J.id_number),J.status&&te.append("status",J.status),(J.certificates_json&&Array.isArray(J.certificates_json)&&J.certificates_json.length>0||J.certificates_json&&!Array.isArray(J.certificates_json))&&te.append("certificates_json",JSON.stringify(J.certificates_json)),ue.length>0&&ue.forEach(pe=>{te.append("specializations[]",pe)}),te.append("cv",v),console.log(" [AllInstructorsScreen] Updating instructor with FormData"),console.log(" [AllInstructorsScreen] FormData contents:");for(const[pe,ye]of te.entries())ye instanceof File?console.log(`   ${pe}: File(${ye.name}, ${ye.size} bytes, ${ye.type})`):console.log(`   ${pe}:`,ye);console.log(" [AllInstructorsScreen] Specializations:",ue),await He.updateInstructor(d.id,te)}else{const te={first_name:J.first_name,last_name:J.last_name,email:J.email,phone:J.phone||null,id_number:J.id_number||null,status:J.status,specializations:ue};(J.certificates_json&&Array.isArray(J.certificates_json)&&J.certificates_json.length>0||J.certificates_json&&!Array.isArray(J.certificates_json))&&(te.certificates_json=J.certificates_json),console.log(" [AllInstructorsScreen] Updating instructor with JSON"),console.log(" [AllInstructorsScreen] Formatted data:",te),await He.updateInstructor(d.id,te)}await z(),h(!1),m(null),C(null),E(null),alert("Instructor updated successfully!")}catch(J){console.error(" [AllInstructorsScreen] Failed to update instructor:",J),console.error(" [AllInstructorsScreen] Error response:",{status:(W=J.response)==null?void 0:W.status,data:(G=J.response)==null?void 0:G.data,message:J.message}),(V=(re=J.response)==null?void 0:re.data)!=null&&V.errors?(console.error(" [AllInstructorsScreen] Validation errors:",J.response.data.errors),j(J.response.data.errors)):(Q=(L=J.response)==null?void 0:L.data)!=null&&Q.message?j({general:J.response.data.message}):j({general:J.message||"Failed to update instructor"})}finally{x(!1)}},I=f.useMemo(()=>{let q=[...r];return g!=="all"&&(q=q.filter(W=>W.status===g)),q.map(W=>{const G=W.training_center?typeof W.training_center=="string"?W.training_center:W.training_center.name:"";return{...W,_searchText:`${W.first_name||""} ${W.last_name||""} ${W.email||""} ${G}`.toLowerCase()}})},[r,g]),F=r.length,O=r.filter(q=>q.status==="active").length,B=r.filter(q=>q.status==="pending").length,H=r.filter(q=>q.status==="suspended").length,U=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(q,W)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 mr-3 relative",children:W.photo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:W.photo_url,alt:`${W.first_name} ${W.last_name}`||"Instructor Photo",className:"w-10 h-10 rounded-lg object-cover border border-gray-200",width:"40",height:"40",loading:"lazy",decoding:"async",onError:G=>{var V;G.target.style.display="none";const re=(V=G.target.parentElement)==null?void 0:V.querySelector(".photo-fallback");re&&(re.style.display="flex")}}),t.jsx("div",{className:"photo-fallback w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg items-center justify-center hidden",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})})]}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[W.first_name," ",W.last_name]}),W.id_number&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",W.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:q=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),q||"N/A"]})},{header:"Phone",accessor:"phone",sortable:!0,render:q=>q?t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-gray-400"}),q]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Training Center",accessor:"training_center",sortable:!0,render:q=>{const W=q?typeof q=="string"?q:q.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qe,{className:"h-4 w-4 mr-2 text-gray-400"}),W]})}},{header:"Status",accessor:"status",sortable:!0,render:q=>{const W={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ge}},G=W[q]||W.pending,re=G.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${G.badgeClass}`,children:[t.jsx(re,{size:12,className:"mr-1"}),q?q.charAt(0).toUpperCase()+q.slice(1):"N/A"]})}}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total",value:F,icon:Di,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(Ve,{name:"Active",value:O,icon:Me,colorType:"green",isActive:g==="active",onClick:()=>y("active")}),t.jsx(Ve,{name:"Pending",value:B,icon:Ge,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(Ve,{name:"Suspended",value:H,icon:nt,colorType:"red",isActive:g==="suspended",onClick:()=>y("suspended")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:U,data:I,onView:$,onRowClick:$,onEdit:w,isLoading:n,emptyMessage:"No instructors found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, email, or training center..."})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),m(null)},title:"Instructor Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:d,isLoading:p,emptyMessage:"No instructor data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(et,{variant:"outline",fullWidth:!0,icon:t.jsx(Rs,{size:20}),onClick:()=>{l(!1),w(d)},children:"Edit Instructor"})})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null),b({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),C(null),E(null),j({})},title:`Edit Instructor: ${d==null?void 0:d.first_name} ${d==null?void 0:d.last_name}`,size:"lg",children:t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:S.first_name,onChange:R,error:A.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:S.last_name,onChange:R,error:A.last_name}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:S.email,onChange:R,error:A.email}),t.jsx(fe,{label:"Phone",name:"phone",value:S.phone,onChange:R,error:A.phone}),t.jsx(fe,{label:"ID Number",name:"id_number",value:S.id_number,onChange:R,error:A.id_number}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Document (PDF or DOC/DOCX)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-primary-400 transition-colors",children:N||d!=null&&d.cv_url?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:t.jsx(Ze,{className:"text-primary-600",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:v?v.name:"Current CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:v?`${(v.size/1024/1024).toFixed(2)} MB`:"Click to replace"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[(N||(d==null?void 0:d.cv_url))&&!v&&t.jsx("a",{href:d==null?void 0:d.cv_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:"View"}),t.jsxs("label",{className:"cursor-pointer px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:["Replace",t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:D,className:"hidden"})]}),t.jsx("button",{type:"button",onClick:M,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(_s,{size:16})})]})]}):t.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-3",children:t.jsx(Os,{className:"text-gray-400",size:24})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload CV"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX (Max 10MB)"}),t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:D,className:"hidden"})]})}),A.cv_file&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.cv_file})]}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:S.status,onChange:R,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:A.status}),t.jsx("div",{className:"md:col-span-2",children:t.jsx(_u,{value:S.languages||[],onChange:P,label:"Languages",error:A.languages||A.specializations,disabled:!1,placeholder:"Select a language...",useAPI:!1})})]}),A.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:A.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),m(null),j({})},children:"Cancel"}),t.jsx(et,{variant:"primary",fullWidth:!0,type:"submit",disabled:_,loading:_,children:"Save Changes"})]})]})})]})},NE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,m]=f.useState(!1),[p,u]=f.useState("all");f.useEffect(()=>(e("Courses"),s("View and manage all courses across all ACCs"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{i(!0);try{const S=await He.listCourses({per_page:1e3});let b=[];S.data?b=S.data||[]:S.courses?b=S.courses||[]:b=Array.isArray(S)?S:[],a(b)}catch(S){console.error("Failed to load courses:",S),a([])}finally{i(!1)}};f.useEffect(()=>{g()},[]);const y=async S=>{l(!0),m(!0);try{const b=await He.getCourseDetails(S.id);h(b.course||S)}catch(b){console.error("Failed to load course details:",b),h(S)}finally{m(!1)}},_=f.useMemo(()=>{let S=[...r];return p!=="all"&&(S=S.filter(b=>b.status===p)),S.map(b=>{const A=b.acc&&typeof b.acc=="object"?b.acc.name:"",j=b.sub_category&&typeof b.sub_category=="object"?b.sub_category.name:"";return{...b,_searchText:`${b.name||""} ${b.code||""} ${b.name_ar||""} ${A} ${j}`.toLowerCase()}})},[r,p]),x=r.length,v=r.filter(S=>S.status==="active").length,C=r.filter(S=>S.status==="inactive").length,N=r.filter(S=>S.status==="archived").length,E=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(S,b)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ns,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:S||"N/A"}),b.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:b.name_ar}),b.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",b.code]})]})]})},{header:"ACC",accessor:"acc",sortable:!0,render:S=>{const b=S&&typeof S=="object"?S.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qe,{className:"h-4 w-4 mr-2 text-gray-400"}),b]})}},{header:"Sub Category",accessor:"sub_category",sortable:!0,render:S=>{const b=S&&typeof S=="object"?S.name:"N/A";return t.jsx("div",{className:"text-sm text-gray-600",children:b})}},{header:"Level",accessor:"level",sortable:!0,render:S=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:S||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:S=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 text-gray-400"}),S?`${S} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:S=>{const b={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},inactive:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:nt},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:nt}},A=b[S]||b.inactive,j=A.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${A.badgeClass}`,children:[t.jsx(j,{size:12,className:"mr-1"}),S?S.charAt(0).toUpperCase()+S.slice(1):"N/A"]})}}],[]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total",value:x,icon:Di,colorType:"indigo",isActive:p==="all",onClick:()=>u("all")}),t.jsx(Ve,{name:"Active",value:v,icon:Me,colorType:"green",isActive:p==="active",onClick:()=>u("active")}),t.jsx(Ve,{name:"Inactive",value:C,icon:nt,colorType:"yellow",isActive:p==="inactive",onClick:()=>u("inactive")}),t.jsx(Ve,{name:"Archived",value:N,icon:nt,colorType:"gray",isActive:p==="archived",onClick:()=>u("archived")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:E,data:_,onView:y,onRowClick:y,isLoading:n,emptyMessage:"No courses found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, code, ACC, or sub category..."})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Course Details",size:"xl",children:t.jsx(ra,{data:c,isLoading:d,emptyMessage:"No course data available"})})]})},ja=({isOpen:e,onClose:s,onConfirm:r,title:a,message:n,confirmText:i="Delete",cancelText:o="Cancel",variant:l="danger"})=>{if(!e)return null;const c=l==="danger"?"danger":l==="warning"?"warning":"primary";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4 animate-slide-down",children:[t.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-100":l==="warning"?"bg-yellow-100":"bg-primary-100"} mr-4 animate-pulse`,children:t.jsx(T_,{className:`${l==="danger"?"text-red-600":l==="warning"?"text-yellow-600":"text-primary-600"}`,size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),t.jsx("p",{className:"text-gray-600 mb-6 ml-16 animate-fade-in",children:n}),t.jsxs("div",{className:"flex justify-end space-x-3 animate-slide-up",children:[t.jsx(et,{variant:"outline",onClick:s,children:o}),t.jsx(et,{variant:c,onClick:()=>{r(),s()},children:i})]})]})})})},CE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[g,y]=f.useState({}),[_,x]=f.useState(!1),[v,C]=f.useState([]),[N,E]=f.useState(!0),[S,b]=f.useState(!1),[A,j]=f.useState(!1),[z,$]=f.useState(null),[w,R]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[D,M]=f.useState({}),[P,k]=f.useState(!1);f.useEffect(()=>(e("Course Categories"),s("Manage global categories and sub-categories"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{I(),W()},[]);const I=async()=>{try{i(!0);const ne=await He.listCategories({per_page:1e3});let le=[];ne!=null&&ne.data?le=Array.isArray(ne.data)?ne.data:[]:ne!=null&&ne.categories?le=Array.isArray(ne.categories)?ne.categories:[]:le=Array.isArray(ne)?ne:[],a(le)}catch(ne){console.error("Failed to load categories:",ne),a([])}finally{i(!1)}},F=(ne=null)=>{ne?(m(ne),u({name:ne.name||"",name_ar:ne.name_ar||"",description:ne.description||"",status:ne.status||"active"})):(m(null),u({name:"",name_ar:"",description:"",status:"active"})),y({}),l(!0)},O=()=>{l(!1),m(null),u({name:"",name_ar:"",description:"",status:"active"}),y({})},B=ne=>{u({...p,[ne.target.name]:ne.target.value}),y({})},H=async ne=>{ne.preventDefault(),x(!0),y({});try{d?await He.updateCategory(d.id,p):await He.createCategory(p),await I(),O()}catch(le){le.errors?y(le.errors):y({general:le.message||"Failed to save category"})}finally{x(!1)}},U=ne=>{m(ne),h(!0)},q=async()=>{try{await He.deleteCategory(d.id),await I()}catch(ne){alert("Failed to delete category: "+(ne.message||"Unknown error"))}h(!1),m(null)},W=async(ne=null)=>{E(!0);try{const le={per_page:1e3};ne&&(le.category_id=ne);const Y=await He.listSubCategories(le);let ie=[];Y!=null&&Y.data?ie=Array.isArray(Y.data)?Y.data:[]:Y!=null&&Y.sub_categories?ie=Array.isArray(Y.sub_categories)?Y.sub_categories:[]:ie=Array.isArray(Y)?Y:[],C(ie)}catch(le){console.error("Failed to load sub categories:",le),C([])}finally{E(!1)}},G=ne=>v.filter(le=>le.category_id===ne),re=f.useMemo(()=>r.map(ne=>({...ne,_searchText:`${ne.name||""} ${ne.name_ar||""} ${ne.description||""} ${ne.status||""}`.toLowerCase()})),[r]),V=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(ne,le,{isExpanded:Y,toggleExpand:ie})=>{const de=G(le.id);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:he=>{he.stopPropagation(),ie&&ie(he)},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Y?t.jsx(Ld,{size:18,className:"text-gray-600"}):t.jsx(Md,{size:18,className:"text-gray-600"})}),t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(Ze,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:le.name||"N/A"}),le.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:le.name_ar}),de.length>0&&t.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[de.length," sub-categor",de.length===1?"y":"ies"]})]})]})}},{header:"Description",accessor:"description",sortable:!0,render:ne=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:ne||"-"})},{header:"Status",accessor:"status",sortable:!0,render:ne=>t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ne==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[ne==="active"&&t.jsx(Me,{size:12,className:"mr-1"}),ne?ne.charAt(0).toUpperCase()+ne.slice(1):"N/A"]})}],[v]),L=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:ne=>ne.status==="active"},{value:"inactive",label:"Inactive",filterFn:ne=>ne.status==="inactive"}],[]),Q=ne=>{const le=G(ne.id);return t.jsxs("div",{children:[t.jsx("div",{className:"mb-3",children:t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:['Sub Categories for "',ne.name,'"']})}),le.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500 text-sm bg-white rounded-lg border border-gray-200",children:"No sub categories found for this category."}):t.jsx("div",{className:"space-y-2 mb-4",children:le.map(Y=>t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(oi,{className:"h-4 w-4 text-primary-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Y.name||"N/A"}),Y.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:Y.name_ar}),Y.description&&t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:Y.description})]}),t.jsxs("span",{className:`px-3 py-1 inline-flex items-center text-xs font-bold rounded-full ${Y.status==="active"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:[Y.status==="active"&&t.jsx(Me,{size:12,className:"mr-1"}),Y.status?Y.status.charAt(0).toUpperCase()+Y.status.slice(1):"N/A"]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("button",{onClick:()=>J(Y),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:()=>ye(Y),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})]})},Y.id))}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{R({category_id:ne.id,name:"",name_ar:"",description:"",status:"active"}),$(null),M({}),b(!0)},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2",children:[t.jsx(Gs,{size:16}),"Add Sub Category"]})})]})},J=(ne=null)=>{ne?($(ne),R({category_id:ne.category_id||"",name:ne.name||"",name_ar:ne.name_ar||"",description:ne.description||"",status:ne.status||"active"})):($(null),R({category_id:"",name:"",name_ar:"",description:"",status:"active"})),M({}),b(!0)},ue=()=>{b(!1),$(null),R({category_id:"",name:"",name_ar:"",description:"",status:"active"}),M({})},te=ne=>{R({...w,[ne.target.name]:ne.target.value}),M({})},pe=async ne=>{var le,Y,ie,de;ne.preventDefault(),k(!0),M({});try{z?await He.updateSubCategory(z.id,w):await He.createSubCategory(w),await W(),ue()}catch(he){(Y=(le=he.response)==null?void 0:le.data)!=null&&Y.errors?M(he.response.data.errors):(de=(ie=he.response)==null?void 0:ie.data)!=null&&de.message?M({general:he.response.data.message}):M({general:he.message||"Failed to save sub category"})}finally{k(!1)}},ye=ne=>{$(ne),j(!0)},Se=async()=>{try{await He.deleteSubCategory(z.id),await W()}catch(ne){alert("Failed to delete sub category: "+(ne.message||"Unknown error"))}j(!1),$(null)},oe=r.length,Z=r.filter(ne=>ne.status==="active").length,ee=v.length,ge=v.filter(ne=>ne.status==="active").length;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total Categories",value:oe,icon:Ze,colorType:"indigo"}),t.jsx(Ve,{name:"Active Categories",value:Z,icon:Me,colorType:"green"}),t.jsx(Ve,{name:"Total Sub Categories",value:ee,icon:oi,colorType:"blue"}),t.jsx(Ve,{name:"Active Sub Categories",value:ge,icon:Me,colorType:"purple"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsx(et,{onClick:()=>F(),icon:t.jsx(Gs,{size:20}),children:"Add Category"})]}),t.jsx(pt,{columns:V,data:re,onEdit:F,onDelete:U,isLoading:n,emptyMessage:"No categories found. Create your first category to get started!",searchable:!0,filterable:!0,searchPlaceholder:"Search by name...",filterOptions:L,sortable:!0,expandable:!0,renderExpandedRow:Q})]}),t.jsx(Le,{isOpen:o,onClose:O,title:d?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:H,className:"space-y-4",children:[t.jsx(fe,{label:"Category Name (English)",name:"name",value:p.name,onChange:B,required:!0,error:g.name}),t.jsx(fe,{label:"Category Name (Arabic)",name:"name_ar",value:p.name_ar,onChange:B,error:g.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:p.description,onChange:B,textarea:!0,rows:3,error:g.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:p.status,onChange:B,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:g.status}),g.general&&t.jsx("p",{className:"text-sm text-red-600",children:g.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(et,{type:"submit",disabled:_,loading:_,fullWidth:!0,children:d?"Update":"Create"})]})]})}),t.jsx(ja,{isOpen:c,onClose:()=>{h(!1),m(null)},onConfirm:q,title:"Delete Category",message:`Are you sure you want to delete "${d==null?void 0:d.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Le,{isOpen:S,onClose:ue,title:z?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:w.category_id,onChange:te,required:!0,disabled:!0,options:r.map(ne=>({value:ne.id,label:ne.name||`Category ${ne.id}`})),error:D.category_id}),t.jsx(fe,{label:"Sub Category Name (English)",name:"name",value:w.name,onChange:te,required:!0,error:D.name}),t.jsx(fe,{label:"Sub Category Name (Arabic)",name:"name_ar",value:w.name_ar,onChange:te,error:D.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:w.description,onChange:te,textarea:!0,rows:3,error:D.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:w.status,onChange:te,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:D.status}),D.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:D.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(et,{type:"submit",disabled:P,loading:P,fullWidth:!0,children:z?"Update":"Create"})]})]})}),t.jsx(ja,{isOpen:A,onClose:()=>{j(!1),$(null)},onConfirm:Se,title:"Delete Sub Category",message:`Are you sure you want to delete "${z==null?void 0:z.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},wE=()=>{var $;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState(null),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,h]=f.useState([]),[d,m]=f.useState(!0),[p,u]=f.useState("overview"),[g,y]=f.useState(!1),[_,x]=f.useState(null),[v,C]=f.useState(""),[N,E]=f.useState("all");f.useEffect(()=>{S()},[p]),f.useEffect(()=>(e("Financial Overview"),s("View all financial transactions and settlements"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{m(!0);try{if(p==="overview"){const[w,R]=await Promise.all([He.getFinancialDashboard(),He.getFinancialTransactions({page:1,per_page:10})]);a(w);const D=(R==null?void 0:R.data)||(R==null?void 0:R.transactions)||[];i(Array.isArray(D)?D:[]),l((R==null?void 0:R.summary)||null)}else{const w=await He.getSettlements();h(w.settlements||[])}}catch(w){console.error("Failed to load data:",w)}finally{m(!1)}},b=w=>{x(w),y(!0)},A=f.useMemo(()=>{let w=[...n];if(v){const R=v.toLowerCase();w=w.filter(D=>{const M=D.transaction_type||"",P=String(D.amount||""),k=D.currency||"",I=D.status||"";return M.toLowerCase().includes(R)||P.includes(R)||k.toLowerCase().includes(R)||I.toLowerCase().includes(R)})}return N!=="all"&&(w=w.filter(R=>R.status===N)),w},[n,v,N]),j=f.useMemo(()=>{let w=[...c];if(v){const R=v.toLowerCase();w=w.filter(D=>{const M=D.settlement_month||"",P=String(D.total_revenue||""),k=String(D.group_commission_amount||""),I=D.status||"";return M.toLowerCase().includes(R)||P.includes(R)||k.includes(R)||I.toLowerCase().includes(R)})}return N!=="all"&&(w=w.filter(R=>R.status===N)),w},[c,v,N]),z=w=>{u(w),C(""),E("all")};return t.jsxs("div",{className:"space-y-4",children:[r&&p==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:" Commission Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-primary-900",children:["$",parseFloat(r.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Total commission received"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(wo,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" Monthly Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",parseFloat(r.monthly_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Commission this month"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ot,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending Settlements"}),t.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["$",parseFloat(r.pending_settlements||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ot,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Active ACCs"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.active_accs||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(wo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>z("overview"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${p==="overview"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Zr,{size:20,className:p==="overview"?"text-white":"text-gray-500"}),"Overview"]}),t.jsxs("button",{onClick:()=>z("settlements"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${p==="settlements"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ze,{size:20,className:p==="settlements"?"text-white":"text-gray-500"}),"Settlements"]})]})}),p==="overview"&&t.jsxs(t.Fragment,{children:[o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl shadow-lg p-6 border border-emerald-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-2",children:" Total Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-900 commission-amount",children:["$",parseFloat(o.total_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"From all transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ot,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl shadow-lg p-6 border border-teal-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-teal-700 mb-2",children:" Completed Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-teal-900 commission-amount",children:["$",parseFloat(o.completed_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"From completed transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(wo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:v,onChange:w=>C(w.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:w=>E(w.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider commission-column",children:" Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Provider Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Currency"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:A.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Zr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:v||N!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):A.map((w,R)=>{var D,M,P;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${R*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Ot,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors capitalize",children:((D=w.transaction_type)==null?void 0:D.replace("_"," "))||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w.commission_amount?t.jsxs("div",{className:"text-sm font-semibold commission-cell highlight",children:[t.jsx("span",{className:"commission-icon",children:""}),t.jsxs("strong",{children:["$",parseFloat(w.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):t.jsx("span",{className:"text-sm text-gray-400 no-commission",children:"$0.00"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w.provider_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["$",parseFloat(w.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600 uppercase",children:w.currency||"USD"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:((M=w.status)==null?void 0:M.charAt(0).toUpperCase())+((P=w.status)==null?void 0:P.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:w.created_at?new Date(w.created_at).toLocaleDateString():"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>b(w),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(as,{size:16})})})})]},w.id||R)})})]})})})]}),p==="settlements"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search settlements...",value:v,onChange:w=>C(w.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:w=>E(w.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Settlement Month"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Request Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:j.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ze,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No settlements found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:v||N!=="all"?"No settlements match your search criteria":"No settlements available"})]})})}):j.map((w,R)=>{var D,M;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${R*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(ot,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:w.settlement_month||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.group_commission_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w.status==="paid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":w.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:((D=w.status)==null?void 0:D.charAt(0).toUpperCase())+((M=w.status)==null?void 0:M.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:w.request_date?new Date(w.request_date).toLocaleDateString():"N/A"})})]},w.id||R)})})]})})})]}),t.jsx(Le,{isOpen:g,onClose:()=>{y(!1),x(null)},title:"Transaction Details",size:"md",children:_&&t.jsxs("div",{className:"modal-content-wrapper",children:[t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:($=_.transaction_type)==null?void 0:$.replace("_"," ")})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Total Amount"}),t.jsxs("p",{className:"modal-amount",children:["$",parseFloat(_.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),_.commission_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#92400E"},children:"Platform Commission"}),t.jsxs("p",{className:"modal-amount",style:{color:"#92400E"},children:["$",parseFloat(_.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by platform"})]}),_.provider_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#065F46"},children:"Provider Amount"}),t.jsxs("p",{className:"modal-amount",style:{color:"#065F46"},children:["$",parseFloat(_.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by ACC/provider"})]}),_.payment_type&&t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:_.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Currency"}),t.jsx("p",{className:"modal-value modal-value-uppercase",children:_.currency||"USD"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${_.status==="completed"?"status-completed":"status-pending"}`,children:_.status})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Date"}),t.jsx("p",{className:"modal-value",children:_.created_at?new Date(_.created_at).toLocaleDateString():"N/A"})]})]})})]})},_E=()=>{var z,$,w;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState("all"),[g,y]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{_()},[p,g]);const _=async()=>{l(!0);try{const R={per_page:1e3};p!=="all"&&(R.type=p),g!=="all"&&(R.status=g);const D=await He.getPaymentTransactions(R),M=(D==null?void 0:D.data)||D||[],P=(D==null?void 0:D.summary)||null;a(Array.isArray(M)?M:(M==null?void 0:M.data)||[]),i(P)}catch(R){console.error("Failed to load transactions:",R),a([]),i(null)}finally{l(!1)}},x=R=>{m(R),h(!0)},v=f.useMemo(()=>r.map(R=>{var D,M;return{...R,_searchText:`${R.transaction_type||""} ${((D=R.payer)==null?void 0:D.name)||""} ${((M=R.payee)==null?void 0:M.name)||""} ${R.amount||""} ${R.currency||""} ${R.status||""} ${R.description||""}`.toLowerCase()}}),[r]),C=(R,D="USD")=>`${parseFloat(R||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${D}`,N=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=R=>R?new Date(R).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=R=>{switch(R){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=R=>(R==null?void 0:R.split("_").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" "))||"N/A",A=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:R=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Zr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:b(R)})]})},{header:"Payer",accessor:"payer",sortable:!0,render:R=>R?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:R.type==="acc"||R.type==="training_center"?t.jsx(Qe,{className:"h-4 w-4 text-blue-600"}):t.jsx(ms,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:R.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:R=>R?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:R.type==="acc"||R.type==="training_center"?t.jsx(Qe,{className:"h-4 w-4 text-green-600"}):t.jsx(ms,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:R.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(R,D)=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C(R,D.currency)})},{header:"Status",accessor:"status",sortable:!0,render:R=>{const D={completed:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge},failed:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},refunded:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:hr}},M=D[R]||D.pending,P=M.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${M.badgeClass}`,children:[t.jsx(P,{size:12,className:"mr-1"}),R?R.charAt(0).toUpperCase()+R.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:R=>t.jsx("div",{className:"text-sm text-gray-600",children:N(R)})}],[]),j=f.useMemo(()=>{let R=[...v];return p!=="all"&&(R=R.filter(D=>D.transaction_type===p)),g!=="all"&&(R=R.filter(D=>D.status===g)),R},[v,p,g]);return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(Ve,{name:"Total Transactions",value:n.total_transactions||0,icon:Zr,colorType:"indigo"}),t.jsx(Ve,{name:"Total Amount",value:C(n.total_amount||0),icon:Ot,colorType:"green"}),t.jsx(Ve,{name:"Completed",value:C(n.completed_amount||0),icon:wo,colorType:"blue"})]}),t.jsx(pt,{columns:A,data:j,isLoading:o,onView:x,searchable:!0,filterable:!1,emptyMessage:"No transactions found",customFilters:t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[t.jsxs("select",{value:p,onChange:R=>u(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"})]}),t.jsxs("select",{value:g,onChange:R=>y(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${S(d.status)}`,children:((z=d.status)==null?void 0:z.charAt(0).toUpperCase())+(($=d.status)==null?void 0:$.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C(d.amount,d.currency)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((w=d.payment_method)==null?void 0:w.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((R,D)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[R.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:R.acc.name})]}),R.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:R.training_center.name})]}),R.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[C(R.group_commission_amount)," (",R.group_commission_percentage,"%)"]})]}),R.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[C(R.acc_commission_amount)," (",R.acc_commission_percentage,"%)"]})]})]})},R.id||D))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:E(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:E(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},SE=()=>{const[e,s]=f.useState(null),[r,a]=f.useState(null),[n,i]=f.useState(null),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(null),g=async _=>{h(!0);try{let x;switch(_){case"revenue":x=await He.getRevenueReport({group_by:"month"}),s(x),u({type:"revenue",data:x});break;case"accs":x=await He.getACCsReport(),a(x),u({type:"accs",data:x});break;case"certificates":x=await He.getCertificatesReport(),i(x),u({type:"certificates",data:x});break;case"training-centers":x=await He.getTrainingCentersReport(),l(x),u({type:"training-centers",data:x});break;default:break}m(!0)}catch(x){console.error("Failed to load report:",x),alert("Failed to load report: "+(x.message||"Unknown error"))}finally{h(!1)}},y=()=>{if(!p)return null;switch(p.type){case"revenue":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(p.data.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.data.revenue&&p.data.revenue.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Revenue by Period"}),t.jsx("div",{className:"space-y-2",children:p.data.revenue.map((_,x)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:_.period||"N/A"}),t.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(_.amount||0).toFixed(2)]})]},x))})]})]});case"accs":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.data.total_active||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.data.total_pending||0})]})]}),p.data.accs&&p.data.accs.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ACC Details"}),t.jsx(pt,{columns:[{header:"Name",accessor:"name"},{header:"Status",accessor:"status",render:_=>t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:_})}],data:p.data.accs,isLoading:!1,emptyMessage:"No ACCs found."})]})]});case"certificates":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Generated"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.data.total_generated||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Valid"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.data.valid||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Revoked"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:p.data.revoked||0})]})]})});case"training-centers":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.data.total||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.data.active||0})]})]})});default:return null}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View system reports and analytics"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>g("revenue"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Ze,{className:"h-12 w-12 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"View revenue analytics and trends"})]}),t.jsxs("div",{onClick:()=>g("accs"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Qe,{className:"h-12 w-12 text-blue-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ACCs Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"ACC statistics and performance"})]}),t.jsxs("div",{onClick:()=>g("certificates"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(rr,{className:"h-12 w-12 text-green-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificates Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Certificate generation statistics"})]}),t.jsxs("div",{onClick:()=>g("training-centers"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(wo,{className:"h-12 w-12 text-purple-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Centers Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Training center statistics"})]})]}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),u(null)},title:(p==null?void 0:p.type)==="revenue"?"Revenue Report":(p==null?void 0:p.type)==="accs"?"ACCs Report":(p==null?void 0:p.type)==="certificates"?"Certificates Report":"Training Centers Report",size:"lg",children:c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y()})]})},AE=()=>{var A,j,z;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState(""),[g,y]=f.useState({}),[_,x]=f.useState(!1);f.useEffect(()=>{v()},[]),f.useEffect(()=>(e("Instructor Authorization Commissions"),s("Set commission percentages for instructor authorizations"),()=>{e(null),s(null)}),[e,s]);const v=async()=>{try{i(!0);const $=await He.getPendingCommissionRequests();a($.authorizations||[])}catch($){console.error("Failed to load authorizations:",$),a([])}finally{i(!1)}},C=$=>{m($),u(""),y({}),l(!0)},N=$=>{m($),h(!0)},E=async $=>{var w;if($.preventDefault(),!p||parseFloat(p)<0||parseFloat(p)>100){y({commission_percentage:"Please enter a valid commission percentage (0-100)"});return}x(!0),y({});try{await He.setInstructorAuthorizationCommission(d.id,{commission_percentage:parseFloat(p)}),await v(),l(!1),m(null),u(""),alert("Commission percentage set successfully. Training Center can now complete payment.")}catch(R){if(console.error("Failed to set commission:",R),(w=R.response)!=null&&w.data){const D=R.response.data;D.errors?y(D.errors):D.message?y({general:D.message}):y(D)}else R.message?y({general:R.message}):y({general:"Failed to set commission percentage. Please try again."})}finally{x(!1)}},S=f.useMemo(()=>r.map($=>{var w,R,D,M,P;return{...$,_searchText:`${((w=$.instructor)==null?void 0:w.first_name)||""} ${((R=$.instructor)==null?void 0:R.last_name)||""} ${((D=$.instructor)==null?void 0:D.email)||""} ${((M=$.acc)==null?void 0:M.name)||""} ${((P=$.training_center)==null?void 0:P.name)||""}`.toLowerCase()}}),[r]),b=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:($,w)=>{var R,D,M;return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(R=w.instructor)==null?void 0:R.first_name," ",(D=w.instructor)==null?void 0:D.last_name]}),((M=w.instructor)==null?void 0:M.email)&&t.jsx("div",{className:"text-xs text-gray-500",children:w.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qe,{className:"h-4 w-4 mr-2 text-gray-400"}),($==null?void 0:$.name)||"N/A"]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:$=>t.jsx("div",{className:"text-sm text-gray-600",children:($==null?void 0:$.name)||"N/A"})},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Ot,{className:"h-4 w-4 mr-1 text-green-600"}),parseFloat($||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!1,render:()=>t.jsxs("span",{className:"px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",children:[t.jsx(Ge,{size:12,className:"mr-1"}),"Pending Commission"]})},{header:"Actions",accessor:"actions",sortable:!1,render:($,w)=>t.jsx("div",{onClick:R=>R.stopPropagation(),children:t.jsxs("button",{onClick:()=>C(w),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-sm hover:shadow-md font-medium flex items-center gap-2",children:[t.jsx(V_,{size:16}),"Set Commission"]})})}],[]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(pt,{columns:b,data:S,onView:N,onRowClick:N,isLoading:n,emptyMessage:"No pending commission requests",searchable:!0,filterable:!1,searchPlaceholder:"Search by instructor name, email, ACC, or training center..."})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),m(null),u(""),y({})},title:"Set Commission Percentage",size:"md",children:t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:g.general})}),d&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[(A=d.instructor)==null?void 0:A.first_name," ",(j=d.instructor)==null?void 0:j.last_name]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ACC: ",t.jsx("span",{className:"font-semibold text-gray-900",children:(z=d.acc)==null?void 0:z.name})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Authorization Price: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(d.authorization_price||0).toFixed(2)]})]})]}),t.jsx(fe,{label:"Commission Percentage (%)",name:"commission_percentage",type:"number",value:p,onChange:$=>u($.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"15.5",error:g.commission_percentage,helpText:"Enter the percentage that Group will receive from the authorization payment"}),d&&p&&!isNaN(parseFloat(p))&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Commission Breakdown:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*parseFloat(p)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*(100-parseFloat(p))/100).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{l(!1),m(null),u(""),y({})},children:"Cancel"}),t.jsx(et,{variant:"primary",fullWidth:!0,type:"submit",disabled:_,loading:_,children:"Set Commission"})]})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null)},title:"Instructor Authorization Details",size:"lg",children:t.jsx(ra,{data:d,isLoading:!1,emptyMessage:"No authorization data available"})})]})},kE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null),[c,h]=f.useState({publishable_key:"",secret_key:"",is_active:!0}),[d,m]=f.useState({}),[p,u]=f.useState(!1);f.useEffect(()=>{g()},[]),f.useEffect(()=>(e("Stripe Settings"),s("Configure Stripe publishable and secret keys used for online payments"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{var x,v;a(!0),m({});try{let C=null;try{const N=await He.getActiveStripeSetting();C=(N==null?void 0:N.stripe_setting)||(N==null?void 0:N.data)||N||null}catch{}if(!C){const N=await He.listStripeSettings(),E=(N==null?void 0:N.stripe_settings)||(N==null?void 0:N.data)||[];C=E.length>0?E[0]:null}l(C),C&&h({publishable_key:C.publishable_key||C.public_key||C.stripe_key||"",secret_key:C.secret_key||C.secret||C.stripe_secret||"",is_active:typeof C.is_active=="boolean"?C.is_active:C.status?C.status==="active":!0})}catch(C){console.error("Failed to load Stripe settings:",C),m({general:((v=(x=C.response)==null?void 0:x.data)==null?void 0:v.message)||C.message||"Failed to load Stripe settings. Please try again."})}finally{a(!1)}},y=(x,v)=>{h(C=>({...C,[x]:v})),m({})},_=async x=>{var C;x.preventDefault(),i(!0),m({});const v={publishable_key:c.publishable_key.trim(),secret_key:c.secret_key.trim(),is_active:!!c.is_active};try{o!=null&&o.id?await He.updateStripeSetting(o.id,v):await He.createStripeSetting(v),await g(),alert("Stripe settings saved successfully!")}catch(N){console.error("Failed to save Stripe settings:",N);const E=(C=N.response)==null?void 0:C.data;E!=null&&E.errors?m(E.errors):E!=null&&E.message?m({general:E.message}):m({general:N.message||"Failed to save Stripe settings. Please try again."})}finally{i(!1)}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-primary-600"})}):t.jsx("div",{className:"stripe-settings-screen",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:t.jsx(Er,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Configuration"}),t.jsx("p",{className:"text-sm text-primary-100 mt-1",children:"Manage your Stripe API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`text-sm font-medium ${c.is_active?"text-green-300":"text-gray-300"}`,children:c.is_active?"Active":"Inactive"}),t.jsx("button",{type:"button",onClick:()=>y("is_active",!c.is_active),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white ${c.is_active?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gray-300"}`,children:t.jsx("span",{className:`absolute h-6 w-6 rounded-full bg-white shadow-lg transition-all duration-300 ease-in-out ${c.is_active?"left-[28px]":"left-[4px]"}`})})]})]})}),t.jsxs("div",{className:"p-8",children:[d.general&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 rounded-xl shadow-lg animate-fade-in",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(hr,{className:"h-6 w-6 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:d.general})]})}),t.jsxs("form",{onSubmit:_,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg",children:t.jsx(U_,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Publishable Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public key for client-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fe,{name:"publishable_key",value:c.publishable_key,onChange:x=>y("publishable_key",x.target.value),placeholder:"pk_live_51ABC...",required:!0,error:d.publishable_key}),c.publishable_key&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Me,{className:"h-5 w-5 text-green-500"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx(xx,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-blue-800",children:["Your Stripe publishable key starts with ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_live_"})," or ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_test_"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg",children:t.jsx(Id,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Secret Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private key for server-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fe,{name:"secret_key",type:p?"text":"password",value:c.secret_key,onChange:x=>y("secret_key",x.target.value),placeholder:"sk_live_51ABC...",required:!0,error:d.secret_key}),t.jsx("button",{type:"button",onClick:()=>u(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:p?t.jsx(O_,{className:"h-5 w-5"}):t.jsx(as,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx(hr,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Keep this secure!"})," Your secret key starts with ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_live_"})," or ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_test_"}),". Never share this key publicly."]})]})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-4 bg-gradient-to-r from-primary-600 via-primary-700 to-primary-600 text-white rounded-xl hover:from-primary-700 hover:via-primary-800 hover:to-primary-700 font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-2xl flex items-center justify-center gap-3 transform hover:scale-[1.02] active:scale-[0.98]",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Saving Settings..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Xo,{className:"h-6 w-6"}),t.jsx("span",{children:"Save Stripe Settings"})]})})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 h-fit sticky top-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-blue-200",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(xx,{className:"h-4 w-4 text-white"})}),t.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Quick Guide"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"1"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Get Your Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Log in to Stripe Dashboard and navigate to API keys."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-indigo-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"2"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Enter Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Copy and paste your keys into the form."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-purple-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Save"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Click Save Settings to complete setup."})]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:t.jsxs("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx("span",{children:"Visit Stripe Dashboard"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})]})})},PE=()=>{var k,I,F,O,B,H;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,m]=f.useState(!1),[p,u]=f.useState(!1),[g,y]=f.useState(!1),[_,x]=f.useState(!1),[v,C]=f.useState({payment_amount:""}),[N,E]=f.useState({rejection_reason:""}),[S,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests from all ACCs"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{A()},[]);const A=async()=>{i(!0);try{const U=await He.getPendingPayments(),W=((U==null?void 0:U.batches)||(U==null?void 0:U.data)||[]).map(G=>{var re,V,L,Q,J;return{...G,_searchText:[(re=G.training_center)==null?void 0:re.name,(V=G.training_center)==null?void 0:V.email,(L=G.acc)==null?void 0:L.name,(Q=G.acc)==null?void 0:Q.email,(J=G.course)==null?void 0:J.name,G.quantity,G.total_amount,G.payment_amount,G.payment_status].filter(Boolean).join(" ").toLowerCase()}});a(W)}catch(U){console.error("Failed to load pending payments:",U),a([])}finally{i(!1)}},j=U=>{h(U),l(!0)},z=U=>{h(U),C({payment_amount:U.final_amount||U.total_amount||""}),b({}),m(!0)},$=U=>{h(U),E({rejection_reason:""}),b({}),u(!0)},w=async()=>{var W,G,re;if(!c)return;if(!v.payment_amount||parseFloat(v.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const U=parseFloat(v.payment_amount),q=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(U-q)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${q.toFixed(2)}`});return}y(!0),b({});try{await He.approvePayment(c.id,{payment_amount:U}),await A(),m(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(V){if(console.error("Failed to approve payment:",V),((W=V.response)==null?void 0:W.status)===422){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),b(Q)}else L.message&&b({general:L.message})}else(re=(G=V.response)==null?void 0:G.data)!=null&&re.message?b({general:V.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},R=async()=>{var U,q,W;if(c){if(!N.rejection_reason||N.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(N.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await He.rejectPayment(c.id,{rejection_reason:N.rejection_reason.trim()}),await A(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(G){if(console.error("Failed to reject payment:",G),((U=G.response)==null?void 0:U.status)===422){const re=G.response.data;if(re.errors){const V={};Object.keys(re.errors).forEach(L=>{V[L]=Array.isArray(re.errors[L])?re.errors[L][0]:re.errors[L]}),b(V)}else re.message&&b({general:re.message})}else(W=(q=G.response)==null?void 0:q.data)!=null&&W.message?b({general:G.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},D=U=>`$${parseFloat(U||0).toFixed(2)}`,M=U=>U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(U,q)=>{var W;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Qe,{className:"batch-acc-icon",size:16}),t.jsx("span",{children:((W=q.acc)==null?void 0:W.name)||"N/A"})]})}},{header:"Training Center",accessor:"training_center",sortable:!0,render:(U,q)=>{var W;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Qe,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((W=q.training_center)==null?void 0:W.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(U,q)=>{var W;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(zs,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((W=q.course)==null?void 0:W.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:U=>t.jsx("span",{children:U||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:U=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Ot,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:D(U)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:U=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Ot,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:D(U)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:U=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Ge,{className:"batch-date-icon",size:16}),t.jsx("span",{children:M(U)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(U,q)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>j(q),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(as,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(pt,{columns:P,data:r,isLoading:n,emptyMessage:r.length===0&&!n?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ge,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, training center, course, amount, or date...",sortable:!0}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ze,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:()=>{l(!1),z(c)},children:"Approve Payment"}),t.jsx(et,{variant:"danger",fullWidth:!0,icon:t.jsx(nt,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),C({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[S.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:S.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((k=c.acc)==null?void 0:k.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((I=c.training_center)==null?void 0:I.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((F=c.course)==null?void 0:F.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",D(c.final_amount||c.total_amount)]})]}),t.jsx(fe,{label:"Payment Amount",name:"payment_amount",type:"number",value:v.payment_amount,onChange:U=>C({...v,payment_amount:U.target.value}),required:!0,min:"0",step:"0.01",error:S.payment_amount,helpText:`Enter the payment amount (should match: ${D(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{m(!1),C({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:w,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Le,{isOpen:p,onClose:()=>{u(!1),E({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[S.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:S.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((O=c.acc)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((B=c.training_center)==null?void 0:B.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((H=c.course)==null?void 0:H.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",D(c.payment_amount||c.total_amount)]})]}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:N.rejection_reason,onChange:U=>E({...N,rejection_reason:U.target.value}),required:!0,error:S.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),E({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:R,disabled:_,className:"form-btn form-btn-danger",children:_?"Rejecting...":"Reject Payment"})]})]})})]})};var Kj="clover",EE=function(s){return s===3?"v3":s},Qj="https://js.stripe.com",TE="".concat(Qj,"/").concat(Kj,"/stripe.js"),zE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,RE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var FE=function(s){return zE.test(s)||RE.test(s)},DE=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Qj,'"]')),r=0;r<s.length;r++){var a=s[r];if(FE(a.src))return a}return null},S0=function(s){var r="",a=document.createElement("script");a.src="".concat(TE).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},$E=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},to=null,Ql=null,Yl=null,ME=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},LE=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},IE=function(s){return to!==null?to:(to=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var n=DE();if(!(n&&s)){if(!n)n=S0(s);else if(n&&Yl!==null&&Ql!==null){var i;n.removeEventListener("load",Yl),n.removeEventListener("error",Ql),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=S0(s)}}Yl=LE(r,a),Ql=ME(a),n.addEventListener("load",Yl),n.addEventListener("error",Ql)}catch(o){a(o);return}}),to.catch(function(r){return to=null,Promise.reject(r)}))},OE=function(s,r,a){if(s===null)return null;var n=r[0],i=n.match(/^pk_test/),o=EE(s.version),l=Kj;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return $E(c,a),c},so,Yj=!1,Jj=function(){return so||(so=IE(null).catch(function(s){return so=null,Promise.reject(s)}),so)};Promise.resolve().then(function(){return Jj()}).catch(function(e){Yj||console.warn(e)});var UE=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];Yj=!0;var n=Date.now();return Jj().then(function(i){return OE(i,r,n)})};function A0(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function k0(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?A0(Object(r),!0).forEach(function(a){Xj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vc=function(s){return typeof s}:vc=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vc(e)}function Xj(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function BE(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function qE(e,s){if(e==null)return{};var r=BE(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zj(e,s){return WE(e)||VE(e,s)||HE(e,s)||GE()}function WE(e){if(Array.isArray(e))return e}function VE(e,s){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var a=[],n=!0,i=!1,o,l;try{for(r=r.call(e);!(n=(o=r.next()).done)&&(a.push(o.value),!(s&&a.length===s));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw l}}return a}}function HE(e,s){if(e){if(typeof e=="string")return P0(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(e,s)}}function P0(e,s){(s==null||s>e.length)&&(s=e.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=e[r];return a}function GE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ks=function(s,r,a){var n=!!a,i=lt.useRef(a);lt.useEffect(function(){i.current=a},[a]),lt.useEffect(function(){if(!n||!s)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return s.on(r,o),function(){s.off(r,o)}},[n,r,s,i])},Wp=function(s){var r=lt.useRef(s);return lt.useEffect(function(){r.current=s},[s]),r.current},Ai=function(s){return s!==null&&vc(s)==="object"},KE=function(s){return Ai(s)&&typeof s.then=="function"},QE=function(s){return Ai(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},E0="[object Object]",YE=function e(s,r){if(!Ai(s)||!Ai(r))return s===r;var a=Array.isArray(s),n=Array.isArray(r);if(a!==n)return!1;var i=Object.prototype.toString.call(s)===E0,o=Object.prototype.toString.call(r)===E0;if(i!==o)return!1;if(!i&&!a)return s===r;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(var h={},d=0;d<l.length;d+=1)h[l[d]]=!0;for(var m=0;m<c.length;m+=1)h[c[m]]=!0;var p=Object.keys(h);if(p.length!==l.length)return!1;var u=s,g=r,y=function(x){return e(u[x],g[x])};return p.every(y)},e1=function(s,r,a){return Ai(s)?Object.keys(s).reduce(function(n,i){var o=!Ai(r)||!YE(s[i],r[i]);return a.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):o?k0(k0({},n||{}),{},Xj({},i,s[i])):n},null):null},t1="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T0=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t1;if(s===null||QE(s))return s;throw new Error(r)},JE=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t1;if(KE(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(n){return T0(n,r)})};var a=T0(s,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},XE=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},Su=lt.createContext(null);Su.displayName="ElementsContext";var s1=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},r1=function(s){var r=s.stripe,a=s.options,n=s.children,i=lt.useMemo(function(){return JE(r)},[r]),o=lt.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),l=Zj(o,2),c=l[0],h=l[1];lt.useEffect(function(){var p=!0,u=function(y){h(function(_){return _.stripe?_:{stripe:y,elements:y.elements(a)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&p&&u(g)}):i.tag==="sync"&&!c.stripe&&u(i.stripe),function(){p=!1}},[i,c,a]);var d=Wp(r);lt.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var m=Wp(a);return lt.useEffect(function(){if(c.elements){var p=e1(a,m,["clientSecret","fonts"]);p&&c.elements.update(p)}},[a,m,c.elements]),lt.useEffect(function(){XE(c.stripe)},[c.stripe]),lt.createElement(Su.Provider,{value:c},n)};r1.propTypes={stripe:Et.any,options:Et.object};var ZE=function(s){var r=lt.useContext(Su);return s1(r,s)},eT=function(){var s=ZE("calls useElements()"),r=s.elements;return r};Et.func.isRequired;var a1=lt.createContext(null);a1.displayName="CheckoutContext";Et.any,Et.shape({clientSecret:Et.oneOfType([Et.string,Et.instanceOf(Promise)]).isRequired,elementsOptions:Et.object}).isRequired;var Vp=function(s){var r=lt.useContext(a1),a=lt.useContext(Su);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return s1(a,s)},tT=["mode"],sT=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Js=function(s,r){var a="".concat(sT(s),"Element"),n=function(c){var h=c.id,d=c.className,m=c.options,p=m===void 0?{}:m,u=c.onBlur,g=c.onFocus,y=c.onReady,_=c.onChange,x=c.onEscape,v=c.onClick,C=c.onLoadError,N=c.onLoaderStart,E=c.onNetworksChange,S=c.onConfirm,b=c.onCancel,A=c.onShippingAddressChange,j=c.onShippingRateChange,z=c.onSavedPaymentMethodRemove,$=c.onSavedPaymentMethodUpdate,w=Vp("mounts <".concat(a,">")),R="elements"in w?w.elements:null,D="checkoutState"in w?w.checkoutState:null,M=(D==null?void 0:D.type)==="success"||(D==null?void 0:D.type)==="loading"?D.sdk:null,P=lt.useState(null),k=Zj(P,2),I=k[0],F=k[1],O=lt.useRef(null),B=lt.useRef(null);ks(I,"blur",u),ks(I,"focus",g),ks(I,"escape",x),ks(I,"click",v),ks(I,"loaderror",C),ks(I,"loaderstart",N),ks(I,"networkschange",E),ks(I,"confirm",S),ks(I,"cancel",b),ks(I,"shippingaddresschange",A),ks(I,"shippingratechange",j),ks(I,"savedpaymentmethodremove",z),ks(I,"savedpaymentmethodupdate",$),ks(I,"change",_);var H;y&&(s==="expressCheckout"?H=y:H=function(){y(I)}),ks(I,"ready",H),lt.useLayoutEffect(function(){if(O.current===null&&B.current!==null&&(R||M)){var q=null;if(M)switch(s){case"paymentForm":q=M.createPaymentFormElement();break;case"payment":q=M.createPaymentElement(p);break;case"address":if("mode"in p){var W=p.mode,G=qE(p,tT);if(W==="shipping")q=M.createShippingAddressElement(G);else if(W==="billing")q=M.createBillingAddressElement(G);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":q=M.createExpressCheckoutElement(p);break;case"currencySelector":q=M.createCurrencySelectorElement();break;case"taxId":q=M.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(q=R.create(s,p));O.current=q,F(q),q&&q.mount(B.current)}},[R,M,p]);var U=Wp(p);return lt.useEffect(function(){if(O.current){var q=e1(p,U,["paymentRequest"]);q&&"update"in O.current&&O.current.update(q)}},[p,U]),lt.useLayoutEffect(function(){return function(){if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}}},[]),lt.createElement("div",{id:h,className:d,ref:B})},i=function(c){Vp("mounts <".concat(a,">"));var h=c.id,d=c.className;return lt.createElement("div",{id:h,className:d})},o=r?i:n;return o.propTypes={id:Et.string,className:Et.string,onChange:Et.func,onBlur:Et.func,onFocus:Et.func,onReady:Et.func,onEscape:Et.func,onClick:Et.func,onLoadError:Et.func,onLoaderStart:Et.func,onNetworksChange:Et.func,onConfirm:Et.func,onCancel:Et.func,onShippingAddressChange:Et.func,onShippingRateChange:Et.func,onSavedPaymentMethodRemove:Et.func,onSavedPaymentMethodUpdate:Et.func,options:Et.object},o.displayName=a,o.__elementType=s,o},Xs=typeof window>"u",rT=lt.createContext(null);rT.displayName="EmbeddedCheckoutProviderContext";var aT=function(){var s=Vp("calls useStripe()"),r=s.stripe;return r};Js("auBankAccount",Xs);var z0=Js("card",Xs);Js("cardNumber",Xs);Js("cardExpiry",Xs);Js("cardCvc",Xs);Js("iban",Xs);Js("payment",Xs);Js("expressCheckout",Xs);Js("paymentRequestButton",Xs);Js("linkAuthentication",Xs);Js("address",Xs);Js("shippingAddress",Xs);Js("paymentMethodMessaging",Xs);Js("taxId",Xs);let ro=null,ao=!1,Jl=!1;const nT=async()=>{if(ao&&ro)return ro;if(Jl){for(;Jl;)await new Promise(e=>setTimeout(e,100));return ro}try{Jl=!0;const e=await kv.getConfig();return e.success&&e.publishable_key?(ro=e.publishable_key,ao=!0,ro):e.is_configured===!1?(console.warn("Stripe is not configured on the backend"),ao=!0,null):(console.warn("Stripe config response missing publishable_key"),ao=!0,null)}catch(e){return console.error("Failed to get Stripe config from backend:",e),ao=!0,null}finally{Jl=!1}};let no=null,Zn=!1;const iT=async()=>{if(no)return no;if(Zn){for(;Zn;)await new Promise(e=>setTimeout(e,100));return no}try{Zn=!0;const e=await nT();return e?(no=UE(e),no):(console.warn("Stripe is not configured. Credit card payments will not be available."),null)}catch(e){return console.error("Failed to initialize Stripe:",e),null}finally{Zn=!1}},oT=({clientSecret:e,amount:s,currency:r,onPaymentSuccess:a,onPaymentError:n,onCancel:i,loading:o})=>{const l=aT(),c=eT(),[h,d]=f.useState(!1),[m,p]=f.useState(null),[u,g]=f.useState(!1),y=v=>{g(v.complete),p(v.error?v.error.message:null)},_=async v=>{if(v.preventDefault(),!l||!c){p("Stripe is not loaded. Please refresh the page.");return}const C=c.getElement(z0);if(!C){p("Card element not found.");return}if(!u){p("Please complete the card details.");return}d(!0),p(null);try{const{error:N,paymentIntent:E}=await l.confirmCardPayment(e,{payment_method:{card:C,billing_details:{}}});if(N){p(N.message),n&&n(N.message),d(!1);return}if(!E){p("Payment intent not returned from Stripe. Please try again."),d(!1);return}if(E.status!=="succeeded"){const S=`Payment not completed. Status: ${E.status}. Please complete the payment and try again.`;p(S),n&&n(S),d(!1);return}C&&C.clear(),a&&a(E)}catch(N){const E=N.message||"Payment failed. Please try again.";p(E),n&&n(E)}finally{d(!1)}},x=h||o;return t.jsxs("form",{onSubmit:_,className:"stripe-payment-form",children:[t.jsxs("div",{className:"payment-amount-display",children:[t.jsx("span",{className:"amount-label",children:"Amount:"}),t.jsxs("span",{className:"amount-value",children:[r||"USD"," ",parseFloat(s||0).toFixed(2)]})]}),t.jsx("div",{className:"card-element-container",children:t.jsx(z0,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:y})}),m&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"error-message",children:m})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{type:"button",onClick:i,disabled:x,className:"btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!l||!u||x,className:"btn-pay",children:x?"Processing...":"Pay Now"})]})]})},cd=({isOpen:e,onClose:s,clientSecret:r,paymentIntentId:a,amount:n,currency:i="USD",paymentSummary:o=null,onPaymentSuccess:l,onPaymentError:c})=>{const{user:h}=jr(),[d,m]=f.useState(!1),[p,u]=f.useState(null),[g,y]=f.useState(null),_=(h==null?void 0:h.role)==="training_center";f.useEffect(()=>{e&&!p&&iT().then(C=>{u(C),C||y("Stripe is not configured on the backend")}).catch(C=>{console.error("Failed to load Stripe config:",C),y("Failed to load Stripe configuration")})},[e,p]),f.useEffect(()=>{e||m(!1)},[e]);const x=async C=>{m(!0);try{l&&await l(C,a)}catch(N){c&&c(N.message||"Payment succeeded but failed to complete transaction.")}finally{m(!1)}},v=C=>{c&&c(C)};return g||!p&&!Zn?t.jsx(Le,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Stripe Configuration Required"}),t.jsx("p",{className:"text-xs text-yellow-700",children:g||"Stripe is not configured on the backend. Please contact support to enable credit card payments."}),t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still proceed by entering the Payment Intent ID manually after completing payment on Stripe."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})}):Zn?t.jsx(Le,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment form..."})]})}):r?t.jsxs(Le,{isOpen:e,onClose:s,title:"Complete Payment",size:"md",children:[o&&t.jsxs("div",{className:"payment-summary mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-2",children:"Payment Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[o.total_amount&&t.jsxs("p",{children:[t.jsx("strong",{children:"Total Amount:"})," ",o.currency||i," ",parseFloat(o.total_amount||0).toFixed(2)]}),o.discount_amount&&parseFloat(o.discount_amount)>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," -",o.currency||i," ",parseFloat(o.discount_amount).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Final Amount:"})," ",o.currency||i," ",parseFloat(o.final_amount||n||0).toFixed(2)]}),o.quantity&&t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",o.quantity]}),o.unit_price&&t.jsxs("p",{children:[t.jsx("strong",{children:"Unit Price:"})," ",o.currency||i," ",parseFloat(o.unit_price).toFixed(2)]}),!_&&(o.commission_amount||o.provider_amount)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-green-300",children:[t.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Payment Breakdown:"}),o.provider_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Provider Receives:"})," ",o.currency||i," ",parseFloat(o.provider_amount).toFixed(2)]}),o.commission_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Platform Commission:"})," ",o.currency||i," ",parseFloat(o.commission_amount).toFixed(2)]})]})]})]}),t.jsx(r1,{stripe:p,children:t.jsx(oT,{clientSecret:r,amount:n,currency:i,onPaymentSuccess:x,onPaymentError:v,onCancel:s,loading:d})})]}):t.jsx(Le,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-800",children:"Payment intent not created. Please create payment intent first."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})})},lT=()=>{var B,H;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState({}),[g,y]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:""}),[_,x]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:"",auto_renew:!1}),[v,C]=f.useState(null),[N,E]=f.useState(null),[S,b]=f.useState(!1),[A,j]=f.useState(!1),[z,$]=f.useState(!1);f.useEffect(()=>{w()},[]),f.useEffect(()=>(e("Subscription Management"),s("Manage your ACC subscription and payment details"),()=>{e(null),s(null)}),[e,s]);const w=async()=>{try{i(!0);const U=await Xe.getSubscription();a(U.subscription||null)}catch(U){console.error("Failed to load subscription:",U),a(null)}finally{i(!1)}},R=()=>{y({amount:"",payment_method:"credit_card",payment_intent_id:""}),u({}),C(null),l(!0)},D=async(U,q)=>{var W,G,re;try{const V={amount:parseFloat(g.amount),payment_method:"credit_card",payment_intent_id:q||U.id};if(U&&U.status!=="succeeded"){u({general:`Payment not completed. Status: ${U.status}`});return}await Xe.paySubscription(V),await w(),l(!1),j(!1),C(null),alert("Subscription payment processed successfully!"),window.location.reload()}catch(V){if(console.error("Failed to complete subscription payment:",V),((W=V.response)==null?void 0:W.status)===400){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((G=V.response)==null?void 0:G.status)===422){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else u({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((re=V.response)!=null&&re.data){const L=V.response.data;L.message?u({general:L.message}):u({general:"Payment succeeded but failed to process subscription. Please contact support."})}else u({general:"Payment succeeded but failed to process subscription. Please contact support."});throw V}},M=async()=>{var q,W,G,re;const U=parseFloat(g.amount);if(!g.amount||isNaN(U)||U<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(U<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),C(null);try{const V=await Xe.createSubscriptionPaymentIntent({amount:U});V.success&&V.client_secret&&V.payment_intent_id?(C(V),y(L=>({...L,payment_intent_id:V.payment_intent_id})),j(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(V){if(console.error("Failed to create payment intent:",V),((q=V.response)==null?void 0:q.status)===422){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else L.message?u({general:L.message}):u({general:"Validation failed. Please check your input."})}else if(((W=V.response)==null?void 0:W.status)===400){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((G=V.response)==null?void 0:G.status)===500){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((re=V.response)!=null&&re.data){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else L.message?u({general:L.message}):u({general:"Failed to create payment intent. Please try again."})}else V.message?u({general:V.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},P=async U=>{U.preventDefault(),await M()},k=()=>{x({amount:r!=null&&r.amount?r.amount.toString():"",payment_method:"credit_card",payment_intent_id:"",auto_renew:(r==null?void 0:r.auto_renew)||!1}),u({}),E(null),h(!0)},I=async(U,q)=>{var W,G,re;try{const V={amount:parseFloat(_.amount),payment_method:"credit_card",payment_intent_id:q||U.id,auto_renew:_.auto_renew||!1};if(U&&U.status!=="succeeded"){u({general:`Payment not completed. Status: ${U.status}`});return}await Xe.renewSubscription(V),await w(),h(!1),$(!1),E(null),alert("Subscription renewed successfully!")}catch(V){if(console.error("Failed to complete subscription renewal:",V),((W=V.response)==null?void 0:W.status)===400){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((G=V.response)==null?void 0:G.status)===422){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else u({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((re=V.response)!=null&&re.data){const L=V.response.data;L.message?u({general:L.message}):u({general:"Payment succeeded but failed to renew subscription. Please contact support."})}else u({general:"Payment succeeded but failed to renew subscription. Please contact support."});throw V}},F=async()=>{var q,W,G,re;const U=parseFloat(_.amount);if(!_.amount||isNaN(U)||U<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(U<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),E(null);try{const V=await Xe.createRenewalPaymentIntent({amount:U});V.success&&V.client_secret&&V.payment_intent_id?(E(V),x(L=>({...L,payment_intent_id:V.payment_intent_id})),$(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(V){if(console.error("Failed to create payment intent:",V),((q=V.response)==null?void 0:q.status)===422){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else L.message?u({general:L.message}):u({general:"Validation failed. Please check your input."})}else if(((W=V.response)==null?void 0:W.status)===400){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((G=V.response)==null?void 0:G.status)===500){const L=V.response.data;u({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((re=V.response)!=null&&re.data){const L=V.response.data;if(L.errors){const Q={};Object.keys(L.errors).forEach(J=>{Q[J]=Array.isArray(L.errors[J])?L.errors[J][0]:L.errors[J]}),u(Q)}else L.message?u({general:L.message}):u({general:"Failed to create payment intent. Please try again."})}else V.message?u({general:V.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},O=async U=>{U.preventDefault(),await F()};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[r?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Current Subscription"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription details"})]}),t.jsx("span",{className:`px-4 py-2 rounded-full font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((B=r.payment_status)==null?void 0:B.toUpperCase())||"PENDING"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ot,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Start Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_start_date?new Date(r.subscription_start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ot,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"End Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Er,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Amount"})]}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",((H=r.amount)==null?void 0:H.toLocaleString())||"0.00"]})]}),r.auto_renew!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Me,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Auto Renew"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.auto_renew?"Enabled":"Disabled"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[r.payment_status!=="paid"&&t.jsxs("button",{onClick:R,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(Er,{className:"inline-block mr-2",size:18}),"Pay Subscription"]}),t.jsx("button",{onClick:k,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:"Manage Renewal"})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-yellow-100 mb-6",children:t.jsx(hr,{className:"h-10 w-10 text-yellow-600"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Active Subscription"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to subscribe to access all ACC features. Please complete your subscription payment to continue."}),t.jsxs("button",{onClick:R,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(Er,{className:"inline-block mr-2",size:20}),"Subscribe Now"]})]})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),u({})},title:"Subscribe / Pay Subscription",size:"md",children:t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:p.general})}),t.jsx(fe,{label:"Amount",name:"amount",type:"number",value:g.amount,onChange:U=>y({...g,amount:U.target.value}),required:!0,min:"1",step:"0.01",placeholder:"5000.00",error:p.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:S||d||!g.amount||parseFloat(g.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:S||d?"Processing...":"Pay Now"})]})]})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),u({})},title:"Manage Subscription Renewal",size:"md",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[p.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:p.general})}),t.jsx(fe,{label:"Amount",name:"amount",type:"number",value:_.amount,onChange:U=>x({..._,amount:U.target.value}),required:!0,min:"1",step:"0.01",placeholder:"10000.00",error:p.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Renew Subscription" below to enter your card details.'})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:_.auto_renew,onChange:U=>x({..._,auto_renew:U.target.checked}),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"Enable Auto-Renewal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When enabled, your subscription will automatically renew at the end of the current period."})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{h(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:S||d||!_.amount||parseFloat(_.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:S||d?"Processing...":"Renew Subscription"})]})]})}),t.jsx(cd,{isOpen:A,onClose:()=>{j(!1)},clientSecret:v==null?void 0:v.client_secret,paymentIntentId:v==null?void 0:v.payment_intent_id,amount:g.amount,currency:(v==null?void 0:v.currency)||"USD",onPaymentSuccess:D,onPaymentError:U=>{u({general:U})}}),t.jsx(cd,{isOpen:z,onClose:()=>{$(!1)},clientSecret:N==null?void 0:N.client_secret,paymentIntentId:N==null?void 0:N.payment_intent_id,amount:_.amount,currency:(N==null?void 0:N.currency)||"USD",onPaymentSuccess:I,onPaymentError:U=>{u({general:U})}})]})},cT=()=>{const{user:e}=jr(),{setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState({name:"",legal_name:"",email:"",phone:"",country:"",address:"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),[i,o]=f.useState(null),[l,c]=f.useState(null),[h,d]=f.useState([]),[m,p]=f.useState([]),[u,g]=f.useState([]),[y,_]=f.useState(!1),[x,v]=f.useState(null),[C,N]=f.useState(!1),[E,S]=f.useState(!0),[b,A]=f.useState(!1),[j,z]=f.useState({}),[$,w]=f.useState(""),[R,D]=f.useState({current_password:"",password:"",password_confirmation:""}),[M,P]=f.useState(!1),[k,I]=f.useState(!1),[F,O]=f.useState(null),[B,H]=f.useState(""),[U,q]=f.useState("license"),[W,G]=f.useState([]),[re,V]=f.useState([]),[L,Q]=f.useState([]),[J,ue]=f.useState(!1),[te,pe]=f.useState(!1),[ye,Se]=f.useState(!1);f.useEffect(()=>{Z()},[]),f.useEffect(()=>{W.length>0&&oe()},[W.length]),f.useEffect(()=>{a.mailing_country?ee(a.mailing_country):V([])},[a.mailing_country]),f.useEffect(()=>{a.physical_country?ge(a.physical_country):Q([])},[a.physical_country]);const oe=async()=>{var T,K,X,ae,me,je,_e,Ae;try{S(!0);const xe=await Xe.getProfile(),we=(xe==null?void 0:xe.profile)||(xe==null?void 0:xe.acc)||(xe==null?void 0:xe.data)||xe||{};v(we),d(we.documents||[]);let ve=we.country||"",ze=((T=we.mailing_address)==null?void 0:T.country)||"",Je=((K=we.physical_address)==null?void 0:K.country)||"";if(W.length>0){if(ve){const Re=W.find(Ie=>Ie.name===ve||Ie.code===ve);Re&&(ve=Re.code)}if(ze){const Re=W.find(Ie=>Ie.name===ze||Ie.code===ze);Re&&(ze=Re.code)}if(Je){const Re=W.find(Ie=>Ie.name===Je||Ie.code===Je);Re&&(Je=Re.code)}}n({name:we.name||(e==null?void 0:e.name)||"",legal_name:we.legal_name||"",email:we.email||(e==null?void 0:e.email)||"",phone:we.phone||(e==null?void 0:e.phone)||"",country:ve,address:we.address||(e==null?void 0:e.address)||"",website:we.website||"",registration_number:we.registration_number||"",stripe_account_id:we.stripe_account_id||"",mailing_street:((X=we.mailing_address)==null?void 0:X.street)||"",mailing_city:((ae=we.mailing_address)==null?void 0:ae.city)||"",mailing_country:ze,mailing_postal_code:((me=we.mailing_address)==null?void 0:me.postal_code)||"",physical_street:((je=we.physical_address)==null?void 0:je.street)||"",physical_city:((_e=we.physical_address)==null?void 0:_e.city)||"",physical_country:Je,physical_postal_code:((Ae=we.physical_address)==null?void 0:Ae.postal_code)||""}),ze&&await ee(ze),Je&&await ge(Je),we.logo_url?c(we.logo_url):c(null)}catch(xe){console.error("Failed to load profile:",xe),e&&(n({name:e.name||"",legal_name:"",email:e.email||"",phone:e.phone||"",country:"",address:e.address||"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),c(null)),d([])}finally{S(!1)}};f.useEffect(()=>(s("Profile"),r("Manage your account information"),()=>{s(null),r(null)}),[s,r]);const Z=async()=>{ue(!0);try{const T=await Rr.getCountries();G(T.countries||T.data||[])}catch(T){console.error("Failed to load countries:",T),G([])}finally{ue(!1)}},ee=async T=>{var K;if(!T){V([]);return}pe(!0);try{const X=await Rr.getCities(T);let ae=X.cities||((K=X.data)==null?void 0:K.cities)||X.data||X||[];!Array.isArray(ae)&&typeof ae=="object"&&(ae=Object.values(ae)),V(Array.isArray(ae)?ae:[])}catch(X){console.error("Failed to load mailing cities:",X),V([])}finally{pe(!1)}},ge=async T=>{var K;if(!T){Q([]);return}Se(!0);try{const X=await Rr.getCities(T);let ae=X.cities||((K=X.data)==null?void 0:K.cities)||X.data||X||[];!Array.isArray(ae)&&typeof ae=="object"&&(ae=Object.values(ae)),Q(Array.isArray(ae)?ae:[])}catch(X){console.error("Failed to load physical cities:",X),Q([])}finally{Se(!1)}},ne=T=>{if(!T)return"";const K=W.find(X=>X.code===T||X.name===T);return K?K.name:T},le=T=>T||"",Y=T=>{const{name:K,value:X}=T.target,ae={...a,[K]:X};K==="mailing_country"?ae.mailing_city="":K==="physical_country"&&(ae.physical_city=""),n(ae),j[K]&&z(me=>{const je={...me};return delete je[K],je})},ie=async(T,K)=>{if(!T||!K||T.size!==K.size||T.name!==K.name)return!1;try{const[X,ae]=await Promise.all([de(T),de(K)]);return X===ae}catch(X){return console.error("Error comparing files:",X),T.size===K.size&&T.name===K.name&&T.lastModified===K.lastModified}},de=T=>new Promise((K,X)=>{const ae=new FileReader;ae.onload=me=>{const je=me.target.result,_e=new Uint8Array(je);let Ae=0;const xe=Math.min(1e3,_e.length);for(let we=0;we<xe;we++)Ae=(Ae<<5)-Ae+_e[we],Ae=Ae&Ae;K(`${Ae}_${T.size}_${T.name}`)},ae.onerror=X,ae.readAsArrayBuffer(T)}),he=async T=>{if(!T||!(x!=null&&x.logo_url))return!0;try{const X=await(await fetch(x.logo_url)).blob(),ae=new ql([X],x.logo_url.split("/").pop(),{type:X.type});return!await ie(T,ae)}catch(K){return console.error("Error comparing logo:",K),!0}},Pe=async(T,K)=>{if(!T||!K)return!0;try{const ae=await(await fetch(K)).blob(),me=new ql([ae],K.split("/").pop(),{type:ae.type});return!await ie(T,me)}catch(X){return console.error("Error comparing document:",X),!0}},Te=async T=>{const K=T.target.files[0];if(K){if(!["image/jpeg","image/jpg","image/png"].includes(K.type)){z({logo:"Logo must be an image file (JPG, JPEG, or PNG only)"}),T.target.value="";return}if(K.size>5*1024*1024){z({logo:"Logo size must not exceed 5MB"}),T.target.value="";return}if(!await he(K)){z({logo:"This file is the same as the current logo. No changes needed."}),T.target.value="";return}o(K);const me=new FileReader;me.onloadend=()=>{c(me.result)},me.readAsDataURL(K),j.logo&&z(je=>{const _e={...je};return delete _e.logo,_e})}},Ke=async T=>{var K,X,ae,me,je,_e,Ae,xe,we;T.preventDefault(),N(!0),z({}),w("");try{const ve=m.length>0||u.length>0,ze=i!==null,Je=Object.keys(a).some(Re=>{var se,Ne;const Ie=a[Re],tt=(x==null?void 0:x[Re])||(Re.startsWith("mailing_")?(se=x==null?void 0:x.mailing_address)==null?void 0:se[Re.replace("mailing_","")]:null)||(Re.startsWith("physical_")?(Ne=x==null?void 0:x.physical_address)==null?void 0:Ne[Re.replace("physical_","")]:null)||"";return Ie!==tt});if(!ve&&!ze&&!Je){w("No changes to save."),setTimeout(()=>w(""),3e3),N(!1);return}if(ve||ze){const Re=new FormData;Object.keys(a).forEach(se=>{const Ne=a[se];Ne!=null&&Ne!==""&&Re.append(se,Ne)}),i&&Re.append("logo",i),m.forEach((se,Ne)=>{Re.append(`documents[${Ne}][document_type]`,se.document_type),Re.append(`documents[${Ne}][file]`,se.file)}),u.forEach((se,Ne)=>{const Fe=m.length+Ne;Re.append(`documents[${Fe}][id]`,se.id.toString()),Re.append(`documents[${Fe}][document_type]`,se.document_type),se.file&&Re.append(`documents[${Fe}][file]`,se.file)});const Ie=await Xe.updateProfile(Re),tt=(Ie==null?void 0:Ie.profile)||Ie||{};v(tt),d(tt.documents||[]),tt.logo_url?c(tt.logo_url):c(null),p([]),g([]),o(null)}else{const Re={};if(Object.keys(a).forEach(Ie=>{var Ne,Fe;const tt=a[Ie],se=(x==null?void 0:x[Ie])||(Ie.startsWith("mailing_")?(Ne=x==null?void 0:x.mailing_address)==null?void 0:Ne[Ie.replace("mailing_","")]:null)||(Ie.startsWith("physical_")?(Fe=x==null?void 0:x.physical_address)==null?void 0:Fe[Ie.replace("physical_","")]:null)||"";tt!==se&&tt!==null&&tt!==void 0&&tt!==""&&(Re[Ie]=tt)}),Object.keys(Re).length>0){const Ie=await Xe.updateProfile(Re),tt=(Ie==null?void 0:Ie.profile)||Ie||{};v(tt),d(tt.documents||[]),tt.logo_url?c(tt.logo_url):c(null)}}await oe(),w("Profile updated successfully!"),A(!1),setTimeout(()=>w(""),3e3)}catch(ve){if(console.error("Failed to update profile:",ve),((K=ve.response)==null?void 0:K.status)===401)z({general:"Unauthenticated. Please log in again."});else if(((X=ve.response)==null?void 0:X.status)===404)z({general:"ACC profile not found."});else if(((ae=ve.response)==null?void 0:ae.status)===422){const ze=ve.response.data;if(ze.errors){const Je={};Object.keys(ze.errors).forEach(Re=>{if(Re.startsWith("documents.")){const Ie=Re.match(/^documents\.\d+\.(.+)$/);if(Ie){Ie[1];const tt=Array.isArray(ze.errors[Re])?ze.errors[Re][0]:ze.errors[Re];Je.documents?Je.documents+=`; ${tt}`:Je.documents=tt}else Je[Re]=Array.isArray(ze.errors[Re])?ze.errors[Re][0]:ze.errors[Re]}else Je[Re]=Array.isArray(ze.errors[Re])?ze.errors[Re][0]:ze.errors[Re]}),z(Je)}else ze.message?z({general:ze.message}):z({general:"Validation failed. Please check your input."})}else((me=ve.response)==null?void 0:me.status)===500?z({general:((je=ve.response.data)==null?void 0:je.message)||"Profile update failed. Please try again."}):(Ae=(_e=ve.response)==null?void 0:_e.data)!=null&&Ae.errors?z(ve.response.data.errors):(we=(xe=ve.response)==null?void 0:xe.data)!=null&&we.message?z({general:ve.response.data.message}):z({general:ve.message||"Failed to update profile. Please try again."})}finally{N(!1)}},ke=()=>{var T,K,X,ae,me,je,_e,Ae;if(A(!1),z({}),p([]),g([]),o(null),x){let xe=x.country||"",we=((T=x.mailing_address)==null?void 0:T.country)||"",ve=((K=x.physical_address)==null?void 0:K.country)||"";if(W.length>0){if(xe){const ze=W.find(Je=>Je.name===xe||Je.code===xe);ze&&(xe=ze.code)}if(we){const ze=W.find(Je=>Je.name===we||Je.code===we);ze&&(we=ze.code)}if(ve){const ze=W.find(Je=>Je.name===ve||Je.code===ve);ze&&(ve=ze.code)}}n({name:x.name||(e==null?void 0:e.name)||"",legal_name:x.legal_name||"",email:x.email||(e==null?void 0:e.email)||"",phone:x.phone||(e==null?void 0:e.phone)||"",country:xe,address:x.address||(e==null?void 0:e.address)||"",website:x.website||"",registration_number:x.registration_number||"",stripe_account_id:x.stripe_account_id||"",mailing_street:((X=x.mailing_address)==null?void 0:X.street)||"",mailing_city:((ae=x.mailing_address)==null?void 0:ae.city)||"",mailing_country:we,mailing_postal_code:((me=x.mailing_address)==null?void 0:me.postal_code)||"",physical_street:((je=x.physical_address)==null?void 0:je.street)||"",physical_city:((_e=x.physical_address)==null?void 0:_e.city)||"",physical_country:ve,physical_postal_code:((Ae=x.physical_address)==null?void 0:Ae.postal_code)||""}),d(x.documents||[]),x.logo_url?c(x.logo_url):c(null)}},$e=(T,K)=>{if(!T||!K)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(T.type)){z({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(T.size>10*1024*1024){z({documents:"File size must not exceed 10MB"});return}p([...m,{file:T,document_type:K}]),j.documents&&z(ae=>{const me={...ae};return delete me.documents,me})},it=T=>{p(m.filter((K,X)=>X!==T))},mt=async(T,K,X)=>{if(!X)return;if(K){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(K.type)){z({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(K.size>10*1024*1024){z({documents:"File size must not exceed 10MB"});return}const je=h.find(_e=>_e.id===T);if(je!=null&&je.document_url&&!await Pe(K,je.document_url)){z({documents:"This file is the same as the current document. No changes needed."});return}}const ae=u.findIndex(me=>me.id===T);if(ae>=0){const me=[...u];me[ae]={id:T,file:K||me[ae].file,document_type:X},g(me)}else g([...u,{id:T,file:K,document_type:X}]);j.documents&&z(me=>{const je={...me};return delete je.documents,je})},At=T=>{g(u.filter(K=>K.id!==T))},Mt=T=>({license:"License",registration:"Registration",certificate:"Certificate",other:"Other"})[T]||T,Jt=T=>T?new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",fs=T=>{const{name:K,value:X}=T.target;D({...R,[K]:X}),j[K]&&z(ae=>{const me={...ae};return delete me[K],me})},is=async T=>{var K,X,ae,me;if(T&&T.preventDefault&&T.preventDefault(),!R.current_password||!R.password||!R.password_confirmation){z({password:"All password fields are required"});return}P(!0),z({}),w("");try{await dr.changePassword(R),w("Password changed successfully!"),D({current_password:"",password:"",password_confirmation:""}),setTimeout(()=>w(""),3e3)}catch(je){console.error("Failed to change password:",je),(X=(K=je.response)==null?void 0:K.data)!=null&&X.errors?z(je.response.data.errors):(me=(ae=je.response)==null?void 0:ae.data)!=null&&me.message?z({password:je.response.data.message}):z({password:je.message||"Failed to change password. Please try again."})}finally{P(!1)}},hs=async()=>{var T,K,X,ae;if(!a.stripe_account_id||!a.stripe_account_id.trim()){H("Please enter a Stripe Account ID");return}if(!a.stripe_account_id.startsWith("acct_")){H('Stripe Account ID must start with "acct_"');return}I(!0),H(""),O(null);try{const me=await Xe.verifyStripeAccount(a.stripe_account_id.trim());me.valid&&me.account?(O(me.account),H("")):(H(me.message||me.error||"Invalid Stripe Account"),O(null))}catch(me){const je=((K=(T=me.response)==null?void 0:T.data)==null?void 0:K.message)||((ae=(X=me.response)==null?void 0:X.data)==null?void 0:ae.error)||me.message||"Failed to verify Stripe Account";H(je),O(null)}finally{I(!1)}},We=async()=>{var K,X,ae,me;if(!confirm("Are you sure you want to remove your Stripe Account? This will stop automatic payment splitting."))return;const T={...a,stripe_account_id:""};n(T),O(null),H("");try{N(!0);const je=new FormData;Object.keys(T).forEach(_e=>{_e==="stripe_account_id"?je.append(_e,""):T[_e]!==null&&T[_e]!==void 0&&je.append(_e,T[_e])}),await Xe.updateProfile(je),await oe(),w("Stripe Account removed successfully!"),setTimeout(()=>w(""),3e3)}catch(je){console.error("Failed to remove Stripe Account:",je);const _e={};(X=(K=je.response)==null?void 0:K.data)!=null&&X.errors&&Object.assign(_e,je.response.data.errors),_e.stripe_account=((me=(ae=je.response)==null?void 0:ae.data)==null?void 0:me.message)||je.message||"Failed to remove Stripe Account",z(_e)}finally{N(!1)}};return E?t.jsx("div",{className:"profile-loading-container",children:t.jsx("div",{className:"profile-loading-spinner"})}):t.jsxs("div",{className:"profile-container",children:[$&&t.jsxs("div",{className:"profile-success-message",children:[t.jsx(Me,{size:20}),t.jsx("span",{children:$})]}),j.general&&t.jsxs("div",{className:"profile-error-message",children:[t.jsx(hr,{size:20}),t.jsx("span",{children:j.general})]}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar-section",children:t.jsxs("div",{className:"profile-avatar-container",children:[l?t.jsx("img",{src:l,alt:"Organization Logo",className:"profile-avatar",onError:T=>{T.target.style.display="none",T.target.nextSibling&&(T.target.nextSibling.style.display="flex")}}):null,t.jsx("div",{className:"profile-avatar-placeholder",style:{display:l?"none":"flex"},children:t.jsx(Qe,{size:48})}),b&&t.jsxs("label",{className:"profile-avatar-upload-overlay",title:"Click to upload logo",children:[t.jsx(Os,{size:20}),t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Te,style:{display:"none"}})]}),b&&i&&t.jsx("div",{className:"profile-avatar-file-info",children:t.jsx("p",{className:"text-xs text-white bg-black bg-opacity-70 px-2 py-1 rounded",children:i.name})}),b&&j.logo&&t.jsx("div",{className:"profile-avatar-file-info",style:{bottom:"-3.5rem"},children:t.jsx("p",{className:"text-xs text-red-600 bg-red-50 border border-red-200 px-2 py-1 rounded",children:j.logo})})]})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-name",children:a.name||"ACC Admin"}),t.jsx("p",{className:"profile-email",children:a.email||"No email provided"}),!b&&t.jsxs("button",{onClick:()=>A(!0),className:"profile-edit-btn",children:[t.jsx(Rs,{size:18}),"Edit Profile"]})]})]}),t.jsxs("form",{onSubmit:Ke,className:"profile-form",children:[t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(ms,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Basic Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your personal and contact details"})]})]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"Name",name:"name",type:"text",value:a.name,onChange:Y,required:!0,disabled:!b,error:j.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",type:"text",value:a.legal_name,onChange:Y,disabled:!b,error:j.legal_name,helpText:"Official legal name of your organization"}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:a.email,onChange:Y,required:!0,disabled:!b,error:j.email}),t.jsx(fe,{label:"Phone",name:"phone",type:"tel",value:a.phone,onChange:Y,disabled:!b,error:j.phone}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:a.website,onChange:Y,placeholder:"https://example.com",disabled:!b,error:j.website}),t.jsx(fe,{label:"Registration Number",name:"registration_number",type:"text",value:a.registration_number,onChange:Y,disabled:!b,error:j.registration_number,helpText:"Official registration number of your organization"})]}),x&&t.jsxs("div",{className:"profile-readonly-info",children:[t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Status:"}),t.jsx("span",{className:`profile-status-badge ${x.status||"active"}`,children:x.status||"Active"})]}),x.commission_percentage!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Commission Percentage:"}),t.jsxs("span",{className:"profile-info-value",children:[x.commission_percentage,"%"]})]}),x.stripe_account_configured!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Stripe Account:"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(hr,{size:14}),"Not Configured"]})}),x.stripe_account_id&&t.jsxs("span",{className:"profile-info-value",style:{marginLeft:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem"},children:["(",x.stripe_account_id,")"]})]}),x.created_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Created At:"}),t.jsx("span",{className:"profile-info-value",children:Jt(x.created_at)})]}),x.updated_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Last Updated:"}),t.jsx("span",{className:"profile-info-value",children:Jt(x.updated_at)})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:t.jsx(Dt,{className:"text-green-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Address Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your location and address details"})]})]}),t.jsxs("div",{className:"profile-form-grid mb-6",children:[t.jsx(fe,{label:"Address",name:"address",type:"text",value:a.address,onChange:Y,disabled:!b,error:j.address}),b?t.jsx(fe,{label:"Country",name:"country",type:"select",value:a.country,onChange:Y,disabled:J,options:[{value:"",label:J?"Loading countries...":"Select Country"},...W.map(T=>({value:T.code,label:T.name}))],error:j.country}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ne(a.country)||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(Bt,{className:"text-green-600",size:18}),"Mailing Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"Street",name:"mailing_street",type:"text",value:a.mailing_street,onChange:Y,disabled:!b,error:j.mailing_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(fe,{label:"Country",name:"mailing_country",type:"select",value:a.mailing_country,onChange:Y,disabled:J,options:[{value:"",label:J?"Loading countries...":"Select Country"},...W.map(T=>({value:T.code,label:T.name}))],error:j.mailing_country}),t.jsx(fe,{label:"City",name:"mailing_city",type:"select",value:a.mailing_city,onChange:Y,disabled:!a.mailing_country||te,options:[{value:"",label:a.mailing_country?te?"Loading cities...":"Select City":"Select country first"},...re.map(T=>({value:T.name||T,label:T.name||T}))],error:j.mailing_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ne(a.mailing_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:le(a.mailing_city)||"Not specified"})]})]}),t.jsx(fe,{label:"Postal Code",name:"mailing_postal_code",type:"text",value:a.mailing_postal_code,onChange:Y,disabled:!b,error:j.mailing_postal_code})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(Dt,{className:"text-green-600",size:18}),"Physical Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"Street",name:"physical_street",type:"text",value:a.physical_street,onChange:Y,disabled:!b,error:j.physical_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(fe,{label:"Country",name:"physical_country",type:"select",value:a.physical_country,onChange:Y,disabled:J,options:[{value:"",label:J?"Loading countries...":"Select Country"},...W.map(T=>({value:T.code,label:T.name}))],error:j.physical_country}),t.jsx(fe,{label:"City",name:"physical_city",type:"select",value:a.physical_city,onChange:Y,disabled:!a.physical_country||ye,options:[{value:"",label:a.physical_country?ye?"Loading cities...":"Select City":"Select country first"},...L.map(T=>({value:T.name||T,label:T.name||T}))],error:j.physical_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ne(a.physical_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:le(a.physical_city)||"Not specified"})]})]}),t.jsx(fe,{label:"Postal Code",name:"physical_postal_code",type:"text",value:a.physical_postal_code,onChange:Y,disabled:!b,error:j.physical_postal_code})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:t.jsx(Ze,{className:"text-purple-600",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Documents"}),b&&t.jsxs("select",{id:"newDocumentType",className:"document-type-dropdown-header",value:U,onChange:T=>{q(T.target.value)},onClick:T=>T.stopPropagation(),children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization documents"})]})]}),j.documents&&t.jsxs("div",{className:"profile-error-message mb-4",children:[t.jsx(hr,{size:20}),t.jsx("span",{children:j.documents})]}),h.length>0&&t.jsx("div",{className:"documents-grid mb-6",children:h.map(T=>{const K=u.find(ae=>ae.id===T.id),X=(K==null?void 0:K.document_type)||T.document_type;return t.jsxs("div",{className:"document-card",children:[t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(ql,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:Mt(X)}),t.jsxs("p",{className:"document-date",children:["Uploaded: ",Jt(T.uploaded_at)]})]}),T.verified&&t.jsx("div",{className:"document-status",children:t.jsxs("span",{className:"status-badge verified",children:[t.jsx(Me,{size:14}),"Verified"]})})]}),T.verified&&T.verified_by&&t.jsxs("div",{className:"document-verification-info",children:[t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified by: ",T.verified_by.name," (",T.verified_by.email,")"]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified at: ",Jt(T.verified_at)]})]}),t.jsxs("div",{className:"document-actions",children:[t.jsxs("a",{href:T.document_url,target:"_blank",rel:"noopener noreferrer",className:"document-action-btn view",children:[t.jsx(as,{size:16}),"View"]}),b&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"document-action-btn update",children:[t.jsx(Os,{size:16}),K!=null&&K.file?"Change File":"Update",t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:ae=>{const me=ae.target.files[0];me&&mt(T.id,me,X)}})]}),t.jsxs("select",{value:X,onChange:ae=>mt(T.id,null,ae.target.value),className:"document-type-select",disabled:!b,children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]}),K&&t.jsxs("button",{onClick:()=>At(T.id),className:"document-action-btn remove",children:[t.jsx(_s,{size:16}),"Cancel"]})]})]}),(K==null?void 0:K.file)&&t.jsx("div",{className:"document-update-preview",children:t.jsxs("p",{className:"text-xs text-blue-600",children:["New file: ",K.file.name," (",(K.file.size/1024).toFixed(2)," KB)"]})})]},T.id)})}),b&&m.length>0&&t.jsxs("div",{className:"new-documents-section mb-6",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"New Documents to Upload"}),t.jsx("div",{className:"documents-grid",children:m.map((T,K)=>t.jsx("div",{className:"document-card new-document",children:t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(ql,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:Mt(T.document_type)}),t.jsxs("p",{className:"document-date",children:[T.file.name," (",(T.file.size/1024).toFixed(2)," KB)"]})]}),t.jsx("button",{onClick:()=>it(K),className:"document-remove-btn",children:t.jsx(Hs,{size:16})})]})},K))})]}),b&&t.jsxs("label",{className:"upload-document-section",htmlFor:"document-upload-input",children:[t.jsxs("div",{className:"upload-document-content",children:[t.jsx(Os,{size:24,className:"upload-icon"}),t.jsxs("div",{className:"upload-text",children:[t.jsx("p",{className:"upload-main-text",children:"Click to upload document"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, JPG, JPEG, PNG (Max 10MB)"})]})]}),t.jsx("input",{id:"document-upload-input",type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:T=>{const K=T.target.files[0];K&&$e(K,U),T.target.value=""}})]}),!b&&h.length===0&&t.jsxs("div",{className:"no-documents-message",children:[t.jsx(Ze,{size:48,className:"text-gray-300"}),t.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"})]})]})]}),t.jsx("div",{className:"profile-content stripe-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Er,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Stripe Account"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your Stripe Connect account for automatic payment splitting"})]})]}),t.jsxs("div",{className:"space-y-4",children:[(x==null?void 0:x.stripe_account_configured)!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Account Status"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(hr,{size:14}),"Not Configured"]})})]}),x.stripe_account_id&&t.jsx("p",{className:"text-sm text-gray-600 font-mono mt-1",children:x.stripe_account_id})]}),t.jsxs("div",{children:[t.jsx(fe,{label:"Stripe Account ID",name:"stripe_account_id",type:"text",value:a.stripe_account_id,onChange:T=>{Y(T),H(""),O(null)},placeholder:"acct_...",disabled:!b,error:j.stripe_account_id||B,helpText:"Enter your Stripe Connect Account ID (must start with 'acct_')"}),b&&a.stripe_account_id&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:hs,disabled:!a.stripe_account_id.trim()||k||C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:16}),"Verify Account"]})})}),F&&t.jsxs("div",{className:"mt-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Me,{size:16,className:"text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Account Verified"})]}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800 mt-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account ID:"})," ",F.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",F.type||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Charges Enabled:"})," ",F.charges_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Payouts Enabled:"})," ",F.payouts_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Details Submitted:"})," ",F.details_submitted?"Yes":"No"]})]}),(!F.charges_enabled||!F.details_submitted)&&t.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:t.jsxs("p",{className:"text-xs text-yellow-800",children:[t.jsx("strong",{children:"Warning:"})," This account may not be able to receive payments. Please ensure the account is fully configured in Stripe Dashboard."]})})]}),B&&!F&&t.jsxs("div",{className:"mt-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(hr,{size:16,className:"text-red-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Verification Failed"})]}),t.jsx("p",{className:"text-xs text-red-800",children:B})]})]}),b&&(x==null?void 0:x.stripe_account_id)&&t.jsx("div",{className:"pt-2 border-t border-gray-200",children:t.jsxs("button",{type:"button",onClick:We,disabled:C,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:[t.jsx(Hs,{size:16}),"Remove Stripe Account"]})}),t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"About Stripe Connect Accounts"}),t.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:'Stripe Account ID must start with "acct_"'}),t.jsx("li",{children:"When configured, payments are automatically split between you and the platform"}),t.jsx("li",{children:"You receive: Total Amount - Commission"}),t.jsx("li",{children:"Platform receives: Commission (based on your commission percentage)"}),t.jsx("li",{children:"If not configured, all payments go to the platform for manual settlement"})]})]}),b&&t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 justify-end",children:[t.jsxs("button",{type:"button",onClick:ke,className:"profile-cancel-btn",disabled:C,children:[t.jsx(_s,{size:18}),"Cancel"]}),t.jsxs("button",{type:"button",onClick:T=>{T.preventDefault(),Ke(T)},className:"profile-save-btn",disabled:C,children:[t.jsx(Xo,{size:18}),C?"Saving...":"Save Changes"]})]})]})]})}),t.jsx("div",{className:"profile-content password-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:t.jsx(Xf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your account password"})]})]}),t.jsx("form",{onSubmit:is,className:"password-form",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:R.current_password,onChange:fs,required:!0,error:j.current_password}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:R.password,onChange:fs,required:!0,error:j.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:R.password_confirmation,onChange:fs,required:!0,error:j.password_confirmation})]}),t.jsx("div",{className:"flex justify-end pt-2",children:t.jsxs("button",{type:"submit",className:"profile-change-password-btn",disabled:M,children:[t.jsx(Id,{size:18}),M?"Changing...":"Change Password"]})})]})})]})})]})]})},dT=()=>{var O,B,H,U,q,W,G,re,V,L,Q,J,ue,te,pe,ye,Se,oe,Z,ee,ge,ne,le;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r]=Td(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[m,p]=f.useState(!1),[u,g]=f.useState(null),[y,_]=f.useState(""),[x,v]=f.useState(""),[C,N]=f.useState("all"),E=f.useRef(!1);f.useEffect(()=>{const Y=r.get("filter");Y&&["pending","active","returned","all"].includes(Y)&&N(Y)},[r]),f.useEffect(()=>{E.current||(E.current=!0,S())},[C]),f.useEffect(()=>(e("Training Centers"),s("Manage training center authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{o(!0);try{const Y={per_page:1e3},[ie,de,he]=await Promise.all([Xe.getTrainingCenterRequests({...Y,status:"pending"}),Xe.getTrainingCenterRequests({...Y,status:"returned"}),Xe.listAuthorizedTrainingCenters(Y)]),Pe=(ie.requests||[]).filter(We=>We.status==="pending").map(We=>{var T,K;return{...We,_normalizedName:((T=We.training_center)==null?void 0:T.name)||We.name||"",_normalizedEmail:((K=We.training_center)==null?void 0:K.email)||We.email||"",_normalizedDate:We.request_date,_isRequest:!0}}),Te=(de.requests||[]).filter(We=>We.status==="returned").map(We=>{var T,K;return{...We,_normalizedName:((T=We.training_center)==null?void 0:T.name)||We.name||"",_normalizedEmail:((K=We.training_center)==null?void 0:K.email)||We.email||"",_normalizedDate:We.request_date,_isRequest:!0}}),Ke=(he.training_centers||[]).map(We=>({...We,_normalizedName:We.name||"",_normalizedEmail:We.email||"",_normalizedDate:We.authorized_at||We.created_at||We.updated_at,_isRequest:!1,status:We.status||"active"})),ke=We=>{var T;return We._isRequest?((T=We.training_center)==null?void 0:T.id)||We.training_center_id||We.id:We.id||We.training_center_id},$e=We=>{const T=new Set;return We.filter(K=>{const X=ke(K);return X&&T.has(X)?!1:(X&&T.add(X),!0)})},it=$e(Pe),mt=$e(Te),At=$e(Ke),Mt=new Set;[...it,...mt].forEach(We=>{const T=ke(We);T&&Mt.add(T)});const Jt=At.filter(We=>{const T=ke(We);return!Mt.has(T)}),fs=[...it,...mt,...Jt],is=new Set,hs=fs.filter(We=>{const T=ke(We);return T?is.has(T)?!1:(is.add(T),!0):!0});n(hs)}catch(Y){console.error("Failed to load data:",Y),n([])}finally{o(!1)}},b=async Y=>{if(window.confirm("Approve this training center request?"))try{await Xe.approveTrainingCenterRequest(Y),await S(),alert("Training center request approved successfully!")}catch(ie){alert("Failed to approve: "+(ie.message||"Unknown error"))}},A=Y=>{g(Y),c(!0)},j=Y=>{A(Y)},z=f.useMemo(()=>[{header:"Training Center",accessor:"_normalizedName",sortable:!0,render:(Y,ie)=>{var he;const de=ie.logo_url||((he=ie.training_center)==null?void 0:he.logo_url);return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 mr-3 relative",children:de?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:de,alt:Y||"Training Center Logo",className:"w-10 h-10 rounded-lg object-cover border border-gray-200",width:"40",height:"40",loading:"lazy",decoding:"async",onError:Pe=>{var Ke;Pe.target.style.display="none";const Te=(Ke=Pe.target.parentElement)==null?void 0:Ke.querySelector(".logo-fallback");Te&&(Te.style.display="flex")}}),t.jsx("div",{className:"logo-fallback w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg items-center justify-center hidden",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})})]}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(Qe,{className:"h-5 w-5 text-primary-600"})})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Y||"N/A"})})]})}},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:Y=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),Y||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:Y=>t.jsx("span",{className:"text-sm text-gray-600",children:Y?new Date(Y).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(Y,ie)=>{const de={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:da},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge}},he=de[Y]||de.pending,Pe=he.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${he.badgeClass}`,children:[t.jsx(Pe,{size:12,className:"mr-1"}),Y?Y.charAt(0).toUpperCase()+Y.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Y,ie)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:de=>de.stopPropagation(),children:[t.jsx("button",{onClick:()=>A(ie),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(as,{size:16})}),(ie.status==="pending"||ie.status==="returned")&&t.jsx("button",{onClick:de=>{de.stopPropagation(),b(ie.id)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Me,{size:16})})]})}],[A,b]),$=f.useMemo(()=>{let Y=[...a];return C!=="all"&&(Y=Y.filter(ie=>C==="pending"?ie.status==="pending":C==="returned"?ie.status==="returned":C==="active"?ie.status==="active"||ie.status==="approved"||!ie._isRequest:!0)),Y=Y.map(ie=>{var de,he;return{...ie,_searchText:`${ie._normalizedName||""} ${ie._normalizedEmail||""} ${((de=ie.training_center)==null?void 0:de.name)||""} ${((he=ie.training_center)==null?void 0:he.email)||""} ${ie.name||""} ${ie.email||""} ${ie.legal_name||""} ${ie.registration_number||""} ${ie.country||""} ${ie.city||""} ${ie.status||""}`.toLowerCase()}}),Y},[a,C]),w=Y=>{g(Y),_(""),d(!0)},R=async()=>{if(!y.trim()){alert("Please provide a rejection reason");return}try{await Xe.rejectTrainingCenterRequest(u.id,{rejection_reason:y}),await S(),d(!1),g(null),_(""),alert("Training center request rejected")}catch(Y){alert("Failed to reject: "+(Y.message||"Unknown error"))}},D=Y=>{g(Y),v(""),p(!0)},M=async()=>{if(!x.trim()){alert("Please provide a return comment");return}try{await Xe.returnTrainingCenterRequest(u.id,{return_comment:x}),await S(),p(!1),g(null),v(""),alert("Request returned for revision")}catch(Y){alert("Failed to return request: "+(Y.message||"Unknown error"))}},P=a.filter(Y=>Y.status==="pending").length,k=a.filter(Y=>Y.status==="returned").length,I=a.filter(Y=>Y.status==="active"||Y.status==="approved"||!Y._isRequest).length,F=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total",value:F,icon:Qe,colorType:"indigo",isActive:C==="all",onClick:()=>N("all")}),t.jsx(Ve,{name:"Pending",value:P,icon:Ge,colorType:"yellow",isActive:C==="pending",onClick:()=>N("pending")}),t.jsx(Ve,{name:"Active",value:I,icon:Me,colorType:"green",isActive:C==="active",onClick:()=>N("active")}),t.jsx(Ve,{name:"Returned",value:k,icon:da,colorType:"blue",isActive:C==="returned",onClick:()=>N("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(pt,{columns:z,data:$,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No training centers found",onRowClick:Y=>j(Y)})}),t.jsx(Le,{isOpen:l,onClose:()=>{c(!1),g(null)},title:u!=null&&u._isRequest?"Training Center Request Details":"Training Center Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-6",children:[u._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ze,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gn,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.id]})]}),u.training_center_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qe,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.training_center_id]})]}),u.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.request_date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.reviewed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Reviewed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.reviewed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${u.status==="approved"||u.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":u.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":u.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[u.status==="pending"&&t.jsx(Ge,{size:12,className:"mr-1"}),u.status==="returned"&&t.jsx(da,{size:12,className:"mr-1"}),u.status==="approved"&&t.jsx(Me,{size:12,className:"mr-1"}),u.status?u.status.charAt(0).toUpperCase()+u.status.slice(1):"N/A"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Qe,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qe,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((O=u.training_center)==null?void 0:O.name)||u.name||u._normalizedName||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Bt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((B=u.training_center)==null?void 0:B.email)||u.email||u._normalizedEmail||"N/A"})]}),(((H=u.training_center)==null?void 0:H.legal_name)||u.legal_name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((U=u.training_center)==null?void 0:U.legal_name)||u.legal_name})]}),(((q=u.training_center)==null?void 0:q.registration_number)||u.registration_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((W=u.training_center)==null?void 0:W.registration_number)||u.registration_number})]}),(((G=u.training_center)==null?void 0:G.phone)||u.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ta,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((re=u.training_center)==null?void 0:re.phone)||u.phone})]}),(((V=u.training_center)==null?void 0:V.website)||u.website)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Jo,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:(((L=u.training_center)==null?void 0:L.website)||u.website).startsWith("http")?((Q=u.training_center)==null?void 0:Q.website)||u.website:`https://${((J=u.training_center)==null?void 0:J.website)||u.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:((ue=u.training_center)==null?void 0:ue.website)||u.website})]}),(((te=u.training_center)==null?void 0:te.address)||u.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((pe=u.training_center)==null?void 0:pe.address)||u.address})]}),(((ye=u.training_center)==null?void 0:ye.city)||u.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Se=u.training_center)==null?void 0:Se.city)||u.city})]}),(((oe=u.training_center)==null?void 0:oe.country)||u.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Z=u.training_center)==null?void 0:Z.country)||u.country})]}),(((ee=u.training_center)==null?void 0:ee.postal_code)||u.postal_code)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Postal Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ge=u.training_center)==null?void 0:ge.postal_code)||u.postal_code})]}),(((ne=u.training_center)==null?void 0:ne.description)||u.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:((le=u.training_center)==null?void 0:le.description)||u.description})]}),u.authorized_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Authorized At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.authorized_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),u._isRequest&&u.documents_json&&Array.isArray(u.documents_json)&&u.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ze,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:u.documents_json.map((Y,ie)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:Y.type||Y.document_type||`Document ${ie+1}`}),Y.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Y.description})]}),Y.url&&t.jsx("a",{href:Y.url.startsWith("http")?Y.url:`https://aeroenix.com/v1/api${Y.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},ie))})]}),u._isRequest&&u.rejection_reason&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(nt,{className:"h-5 w-5 text-red-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Rejection Reason"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.rejection_reason})]}),u._isRequest&&u.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(da,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.return_comment})]}),u._isRequest&&u.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),w(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(nt,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),D(u)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(da,{size:20,className:"mr-2"}),"Return"]})]}),u._isRequest&&u.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),w(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(nt,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Le,{isOpen:h,onClose:()=>{d(!1),g(null),_("")},title:"Reject Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:y,onChange:Y=>_(Y.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),g(null),_("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Le,{isOpen:m,onClose:()=>{p(!1),g(null),v("")},title:"Return Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(fe,{label:"Return Comment",name:"return_comment",value:x,onChange:Y=>v(Y.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{p(!1),g(null),v("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})})]})},uT=()=>{var G,re,V;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r]=Td(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[m,p]=f.useState(!1),[u,g]=f.useState(!1),[y,_]=f.useState(null),[x,v]=f.useState(""),[C,N]=f.useState(""),[E,S]=f.useState(""),[b,A]=f.useState("all"),[j,z]=f.useState({});f.useEffect(()=>{const L=r.get("filter");L&&["pending","active","returned","all"].includes(L)&&A(L)},[r]),f.useEffect(()=>{$()},[b]),f.useEffect(()=>(e("Instructors"),s("Manage instructor authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const $=async()=>{o(!0);try{const L={per_page:1e3},[Q,J]=await Promise.all([Xe.getInstructorRequests(L),Xe.listAuthorizedTrainingCenters(L)]),ue=(Q==null?void 0:Q.requests)||(Q==null?void 0:Q.data)||[],te={};((J==null?void 0:J.training_centers)||(J==null?void 0:J.data)||[]).forEach(ke=>{ke.id&&(te[ke.id]=ke.name||ke.legal_name||`TC ${ke.id}`)}),z(te);const ye=ke=>{var $e;return(($e=ke.instructor)==null?void 0:$e.id)||ke.instructor_id||ke.id},Se=ue.map(ke=>{var At,Mt;const $e=ke.instructor||ke,it=ke.training_center_id||((At=ke.training_center)==null?void 0:At.id),mt=it?te[it]||((Mt=ke.training_center)==null?void 0:Mt.name)||`TC ${it}`:"N/A";return{...ke,_normalizedName:`${$e.first_name||""} ${$e.last_name||""}`.trim(),_normalizedEmail:$e.email||"",_normalizedDate:ke.request_date||ke.created_at||ke.updated_at,_normalizedTrainingCenter:mt,_trainingCenterId:it,_isRequest:!0}}),oe=Se.filter(ke=>ke.status==="pending"),Z=Se.filter(ke=>ke.status==="returned"),ee=Se.filter(ke=>ke.status==="approved"||ke.status==="active"),ge=ke=>{const $e=new Set;return ke.filter(it=>{const mt=ye(it);return mt&&$e.has(mt)?!1:(mt&&$e.add(mt),!0)})},ne=ge(oe),le=ge(Z),ie=ge(ee).map(ke=>{const $e=ke.instructor||ke;return{...ke,id:$e.id||ke.id,first_name:$e.first_name||ke.first_name,last_name:$e.last_name||ke.last_name,email:$e.email||ke.email,phone:$e.phone||ke.phone,_normalizedName:`${$e.first_name||""} ${$e.last_name||""}`.trim(),_normalizedEmail:$e.email||"",_normalizedDate:ke.request_date||ke.created_at||ke.updated_at,_normalizedTrainingCenter:ke._normalizedTrainingCenter||"N/A",_trainingCenterId:ke._trainingCenterId,_isRequest:!1,status:"active"}}),de=new Set;[...ne,...le].forEach(ke=>{const $e=ye(ke);$e&&de.add($e)});const he=ie.filter(ke=>{const $e=ye(ke);return!de.has($e)}),Pe=[...ne,...le,...he],Te=new Set,Ke=Pe.filter(ke=>{const $e=ye(ke);return $e?Te.has($e)?!1:(Te.add($e),!0):!0});n(Ke)}catch(L){console.error("Failed to load data:",L),n([])}finally{o(!1)}},w=L=>{_(L),v(""),d(!0)},R=L=>{_(L),c(!0)},D=L=>{R(L)},M=f.useMemo(()=>[{header:"Instructor",accessor:"_normalizedName",sortable:!0,render:(L,Q)=>{var ue;const J=Q.photo_url||((ue=Q.instructor)==null?void 0:ue.photo_url);return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 mr-3 relative",children:J?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:J,alt:L||"Instructor Photo",className:"w-10 h-10 rounded-lg object-cover border border-gray-200",width:"40",height:"40",loading:"lazy",decoding:"async",onError:te=>{var ye;te.target.style.display="none";const pe=(ye=te.target.parentElement)==null?void 0:ye.querySelector(".photo-fallback");pe&&(pe.style.display="flex")}}),t.jsx("div",{className:"photo-fallback w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg items-center justify-center hidden",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})})]}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:L||"N/A"})})]})}},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:L=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Bt,{className:"h-4 w-4 mr-2 text-gray-400"}),L||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:L=>t.jsx("span",{className:"text-sm text-gray-600",children:L?new Date(L).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(L,Q)=>{const J={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:nt},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:da},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ge}},ue=J[L]||J.pending,te=ue.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ue.badgeClass}`,children:[t.jsx(te,{size:12,className:"mr-1"}),L?L.charAt(0).toUpperCase()+L.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(L,Q)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:J=>J.stopPropagation(),children:[t.jsx("button",{onClick:()=>R(Q),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(as,{size:16})}),(Q.status==="pending"||Q.status==="returned")&&t.jsx("button",{onClick:J=>{J.stopPropagation(),w(Q)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Me,{size:16})})]})}],[R,w]),P=f.useMemo(()=>{let L=[...a];return b!=="all"&&(L=L.filter(Q=>b==="pending"?Q.status==="pending":b==="returned"?Q.status==="returned":b==="active"?Q.status==="active"||Q.status==="approved"||!Q._isRequest&&(Q.status==="active"||!Q.status):!0)),L=L.map(Q=>{var J,ue,te,pe;return{...Q,_searchText:`${Q._normalizedName||""} ${Q._normalizedEmail||""} ${((J=Q.instructor)==null?void 0:J.first_name)||""} ${((ue=Q.instructor)==null?void 0:ue.last_name)||""} ${((te=Q.instructor)==null?void 0:te.email)||""} ${((pe=Q.training_center)==null?void 0:pe.name)||""} ${Q.name||""} ${Q.email||""} ${Q.status||""}`.toLowerCase()}}),L},[a,b]),k=async()=>{if(!x||parseFloat(x)<=0){alert("Please enter a valid authorization price");return}try{await Xe.approveInstructorRequest(y.id,{authorization_price:parseFloat(x)}),await $(),d(!1),_(null),v(""),alert("Instructor approved successfully. Waiting for Group Admin to set commission percentage.")}catch(L){alert("Failed to approve: "+(L.message||"Unknown error"))}},I=L=>{_(L),N(""),p(!0)},F=async()=>{if(!C.trim()){alert("Please provide a rejection reason");return}try{await Xe.rejectInstructorRequest(y.id,{rejection_reason:C}),await $(),p(!1),_(null),N(""),alert("Instructor request rejected")}catch(L){alert("Failed to reject: "+(L.message||"Unknown error"))}},O=L=>{_(L),S(""),g(!0)},B=async()=>{if(!E.trim()){alert("Please provide a return comment");return}try{await Xe.returnInstructorRequest(y.id,{return_comment:E}),await $(),g(!1),_(null),S(""),alert("Request returned for revision")}catch(L){alert("Failed to return request: "+(L.message||"Unknown error"))}},H=a.filter(L=>L.status==="pending").length,U=a.filter(L=>L.status==="returned").length,q=a.filter(L=>L.status==="active"||L.status==="approved"||!L._isRequest&&(L.status==="active"||!L.status)).length,W=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total",value:W,icon:ft,colorType:"indigo",isActive:b==="all",onClick:()=>A("all")}),t.jsx(Ve,{name:"Pending",value:H,icon:Ge,colorType:"yellow",isActive:b==="pending",onClick:()=>A("pending")}),t.jsx(Ve,{name:"Active",value:q,icon:Me,colorType:"green",isActive:b==="active",onClick:()=>A("active")}),t.jsx(Ve,{name:"Returned",value:U,icon:da,colorType:"blue",isActive:b==="returned",onClick:()=>A("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(pt,{columns:M,data:P,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",onRowClick:L=>D(L)})}),t.jsx(Le,{isOpen:l,onClose:()=>{c(!1),_(null)},title:y!=null&&y._isRequest?"Instructor Request Details":"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"space-y-6",children:[(()=>{var te,pe,ye,Se,oe,Z;let L=null;if(y.instructor){const{cv_url:ee,certificates_json:ge,specializations:ne,...le}=y.instructor;L=le}else(y.first_name||y.last_name)&&(L={first_name:y.first_name,last_name:y.last_name,email:y.email||y._normalizedEmail,phone:y.phone,id_number:y.id_number,country:y.country,city:y.city});const Q=y.training_center?{name:y.training_center.name||y.training_center.legal_name||y._normalizedTrainingCenter,email:y.training_center.email,phone:y.training_center.phone,address:y.training_center.address,city:y.training_center.city,country:y.training_center.country}:y._normalizedTrainingCenter?{name:y._normalizedTrainingCenter}:null,J=y.sub_category?{name:y.sub_category.name,name_ar:y.sub_category.name_ar,description:y.sub_category.description,category:y.sub_category.category}:null,ue={...L&&{instructor:L},...Q&&{training_center:Q},...J&&{sub_category:J},...(y._normalizedDate||y.request_date||y.created_at)&&{request_date:y._normalizedDate||y.request_date||y.created_at},...y.documents_json&&{documents_json:y.documents_json},...(((te=y.instructor)==null?void 0:te.cv_url)||y.cv_url)&&{cv_url:((pe=y.instructor)==null?void 0:pe.cv_url)||y.cv_url},...(((ye=y.instructor)==null?void 0:ye.certificates_json)||y.certificates_json)&&{certificates_json:((Se=y.instructor)==null?void 0:Se.certificates_json)||y.certificates_json},...(((oe=y.instructor)==null?void 0:oe.specializations)||y.specializations)&&{specializations:((Z=y.instructor)==null?void 0:Z.specializations)||y.specializations}};return t.jsx(ra,{data:ue,isLoading:!1,emptyMessage:"No instructor data available"})})(),y._isRequest&&(y.sub_category_id||y.sub_category||y.courses||y.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(zs,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:y.sub_category_id||y.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var L,Q;return(L=y.sub_category)!=null&&L.name?y.sub_category.name:y.sub_category_name?y.sub_category_name:typeof y.sub_category=="string"?y.sub_category:(Q=y.sub_category)!=null&&Q.name_ar?y.sub_category.name_ar:"N/A"})()}),((G=y.sub_category)==null?void 0:G.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.sub_category.description}),((re=y.sub_category)==null?void 0:re.courses)&&Array.isArray(y.sub_category.courses)&&y.sub_category.courses.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses in this Sub-Category:"}),t.jsx("div",{className:"space-y-2",children:y.sub_category.courses.map((L,Q)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:L.name||L.code||`Course ${L.id||Q+1}`}),L.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",L.code]})]})})},L.id||Q))})]}),(!((V=y.sub_category)!=null&&V.courses)||y.sub_category.courses.length===0)&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const L=y.courses||y.requested_courses||[],Q=Array.isArray(L)?L:[];return Q.length>0?t.jsx("div",{className:"space-y-2",children:Q.map((J,ue)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:J.name||J.name_ar||J.code||`Course ${J.id||ue+1}`}),J.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",J.code]}),J.name_ar&&J.name&&J.name!==J.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:J.name_ar}),J.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sub-Category: ",typeof J.sub_category=="object"&&(J.sub_category.name||J.sub_category.name_ar)||J.sub_category]})]})})},J.id||ue))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),y.authorization_price&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authorization Details"}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Authorization Price"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",parseFloat(y.authorization_price).toFixed(2)]})]})]}),y.rejection_reason&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(nt,{className:"mr-2 text-red-600",size:20}),"Rejection Reason"]}),t.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-base text-gray-900",children:y.rejection_reason})})]}),y._isRequest&&y.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(da,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:y.return_comment})]}),y._isRequest&&y.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),w(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),I(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(nt,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),O(y)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(da,{size:20,className:"mr-2"}),"Return"]})]}),y._isRequest&&y.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),w(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),I(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(nt,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Le,{isOpen:m,onClose:()=>{p(!1),_(null),N("")},title:"Reject Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:C,onChange:L=>N(L.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{p(!1),_(null),N("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Le,{isOpen:u,onClose:()=>{g(!1),_(null),S("")},title:"Return Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(fe,{label:"Return Comment",name:"return_comment",value:E,onChange:L=>S(L.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{g(!1),_(null),S("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:B,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})}),t.jsx(Le,{isOpen:h,onClose:()=>{d(!1),_(null),v("")},title:"Approve Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please set the authorization price for this instructor:"}),t.jsx(fe,{label:"Authorization Price",name:"authorization_price",type:"number",value:x,onChange:L=>v(L.target.value),required:!0,min:"0",step:"0.01",placeholder:"500.00"}),t.jsx("p",{className:"text-sm text-gray-500",children:"After approval, Group Admin will need to set the commission percentage before Training Center can pay."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),_(null),v("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})})]})},mT=(e,s="This field")=>!e||typeof e=="string"&&e.trim()===""?`${s} is required`:"",pT=(e,s,r="This field")=>e&&e.length>s?`${r} must be at most ${s} characters`:"",fT=(e,s="This field",r=null,a=null)=>{if(e===""||e===null||e===void 0)return`${s} is required`;const n=Number(e);return isNaN(n)?`${s} must be a valid number`:r!==null&&n<r?`${s} must be at least ${r}`:a!==null&&n>a?`${s} must be at most ${a}`:""},R0=(e,s={})=>{const{required:r=!0,maxSize:a=10*1024*1024,allowedTypes:n=[],fieldName:i="File"}=s;if(r&&!e)return`${i} is required`;if(e){if(e.size>a){const o=(a/1048576).toFixed(2);return`${i} size must be less than ${o}MB`}if(n.length>0){const o="."+e.name.split(".").pop().toLowerCase(),l=n.map(c=>c.toLowerCase());if(!n.includes(e.type)&&!l.includes(o))return`${i} type is not allowed. Allowed types: ${n.join(", ")}`}}return""},hT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),a=f.useRef(null),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,h]=f.useState(!0),[d,m]=f.useState(!1),[p,u]=f.useState(!1),[g,y]=f.useState(null),[_,x]=f.useState("all"),[v,C]=f.useState("all"),[N,E]=f.useState({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),[S,b]=f.useState({base_price:"",currency:"USD"}),[A,j]=f.useState({}),[z,$]=f.useState(!1);f.useEffect(()=>{D()},[]),f.useEffect(()=>{w()},[]),f.useEffect(()=>(s("Courses"),r("Manage and organize your course catalog"),e(t.jsxs("button",{onClick:()=>{a.current&&a.current()},className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Gs,{size:20,className:"mr-2"}),"Add Course"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const w=async()=>{h(!0);try{const V={per_page:1e3},L=await Xe.listCourses(V);let Q=[];L.data?Q=L.data||[]:L.courses?Q=L.courses||[]:Q=Array.isArray(L)?L:[],i(Q)}catch(V){console.error("Failed to load courses:",V),i([])}finally{h(!1)}},R=f.useMemo(()=>{let V=[...n];return _!=="all"&&(V=V.filter(L=>L.status===_)),v!=="all"&&(V=V.filter(L=>L.level===v)),V=V.map(L=>{var Q,J,ue;return{...L,_searchText:`${L.name||""} ${L.code||""} ${L.name_ar||""} ${L.description||""} ${L.level||""} ${L.status||""} ${((Q=L.sub_category)==null?void 0:Q.name)||""} ${((ue=(J=L.sub_category)==null?void 0:J.category)==null?void 0:ue.name)||""}`.toLowerCase()}}),V},[n,_,v]),D=async()=>{try{const V=await Xe.listSubCategories();l(V.sub_categories||V||[])}catch(V){console.error("Failed to load sub categories:",V),l([])}},M=f.useCallback((V=null)=>{if(V){y(V),E({sub_category_id:V.sub_category_id||"",name:V.name||"",name_ar:V.name_ar||"",code:V.code||"",description:V.description||"",duration_hours:V.duration_hours||"",max_capacity:V.max_capacity||"",level:V.level||"beginner",status:V.status||"active",assessor_required:V.assessor_required||!1});const L=V.current_price||V.pricing||(V.certificate_pricing&&V.certificate_pricing.length>0?V.certificate_pricing[0]:null);b(L?{base_price:L.base_price||"",currency:L.currency||"USD"}:{base_price:"",currency:"USD"})}else y(null),E({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD"});j({}),m(!0)},[]);f.useEffect(()=>{a.current=()=>M()},[]);const P=()=>{m(!1),y(null),E({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD",group_commission_percentage:"",training_center_commission_percentage:"",instructor_commission_percentage:"",effective_from:"",effective_to:""}),j({})},k=V=>{E({...N,[V.target.name]:V.target.value}),j({})},I=V=>{b({...S,[V.target.name]:V.target.value}),j(L=>{const Q={...L};return delete Q[V.target.name],Q})},F=()=>{const V={};!N.name||N.name.trim()===""?V.name="Course name is required":N.name.length>255&&(V.name="Course name must be at most 255 characters"),N.name_ar&&N.name_ar.length>255&&(V.name_ar="Arabic name must be at most 255 characters"),!N.code||N.code.trim()===""?V.code="Course code is required":N.code.length>255&&(V.code="Course code must be at most 255 characters"),N.sub_category_id||(V.sub_category_id="Sub category is required");const L=mT(N.duration_hours,"Duration");if(L)V.duration_hours=L;else{const Q=parseInt(N.duration_hours);(isNaN(Q)||Q<1)&&(V.duration_hours="Duration must be at least 1 hour")}if(!N.max_capacity||N.max_capacity.toString().trim()==="")V.max_capacity="Max capacity is required";else{const Q=parseInt(N.max_capacity);(isNaN(Q)||Q<1)&&(V.max_capacity="Max capacity must be at least 1")}if(N.level?["beginner","intermediate","advanced"].includes(N.level)||(V.level="Invalid level selected"):V.level="Level is required",N.status?["active","inactive","archived"].includes(N.status)||(V.status="Invalid status selected"):V.status="Status is required",S.base_price){const Q=fT(S.base_price,"Base price",0);Q&&(V.base_price=Q),!S.currency||S.currency.trim()===""?V.currency="Currency is required when pricing is set":S.currency.length!==3&&(V.currency="Currency must be a 3-character code (e.g., USD)")}return V},O=async V=>{var Q,J,ue,te,pe,ye,Se,oe;V.preventDefault(),$(!0),j({});const L=F();if(Object.keys(L).length>0){j(L),$(!1);return}try{const Z={...N,sub_category_id:parseInt(N.sub_category_id),duration_hours:parseInt(N.duration_hours),max_capacity:parseInt(N.max_capacity)};if((!N.name_ar||N.name_ar.trim()==="")&&delete Z.name_ar,(!N.description||N.description.trim()==="")&&delete Z.description,S.base_price){const ge={base_price:parseFloat(S.base_price),currency:S.currency};Z.pricing=ge}let ee;g?(ee=await Xe.updateCourse(g.id,Z),console.log("Course updated:",ee)):(ee=await Xe.createCourse(Z),console.log("Course created:",ee)),P(),await w(),alert(g?"Course updated successfully!":"Course created successfully!")}catch(Z){if(console.error("Failed to save course:",Z),console.error("Error response:",Z.response),console.error("Error data:",(Q=Z.response)==null?void 0:Q.data),console.error("Error status:",(J=Z.response)==null?void 0:J.status),(te=(ue=Z.response)==null?void 0:ue.data)!=null&&te.errors){const ee=Z.response.data.errors,ge={};Object.keys(ee).forEach(ne=>{ne.startsWith("pricing.")?ge[ne.replace("pricing.","")]=ee[ne]:ge[ne]=ee[ne]}),j(ge)}else Z.errors?j(Z.errors):j({general:((ye=(pe=Z.response)==null?void 0:pe.data)==null?void 0:ye.message)||Z.message||"Failed to save course"});alert(`Error: ${((oe=(Se=Z.response)==null?void 0:Se.data)==null?void 0:oe.message)||Z.message||"Failed to save course"}`)}finally{$(!1)}},B=f.useCallback(V=>{y(V),u(!0)},[]),H=async()=>{try{await Xe.deleteCourse(g.id),await w()}catch(V){alert("Failed to delete course: "+(V.message||"Unknown error"))}u(!1),y(null)},[U,q]=f.useState(!1),W=async V=>{try{const L=await Xe.getCourseDetails(V.id);y(L.course||L),q(!0)}catch(L){console.error("Failed to load course details:",L),y(V),q(!0)}},G=V=>{W(V)},re=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(V,L)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ns,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:V||"N/A"}),L.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",L.code]})]})]})},{header:"Level",accessor:"level",sortable:!0,render:V=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:V||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:V=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ge,{className:"h-4 w-4 mr-2 text-gray-400"}),V?`${V} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:V=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${V==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:V?V.charAt(0).toUpperCase()+V.slice(1):"N/A"})},{header:"Pricing",accessor:"pricing",sortable:!1,render:(V,L)=>{const Q=L.current_price||L.pricing||(L.certificate_pricing&&L.certificate_pricing.length>0?L.certificate_pricing[0]:null);return Q?t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Ot,{className:"h-4 w-4 mr-1 text-primary-600"}),parseFloat(Q.base_price||0).toFixed(2)," ",Q.currency||"USD"]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not set"})}},{header:"Assessor",accessor:"assessor_required",sortable:!0,render:V=>V?t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Required"}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not Required"})},{header:"Actions",accessor:"actions",sortable:!1,render:(V,L)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Q=>Q.stopPropagation(),children:[t.jsx("button",{onClick:()=>M(L),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:()=>B(L),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})}],[M,B]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(pt,{columns:re,data:R,isLoading:c,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or code...",emptyMessage:"No courses found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:V=>V.status==="active"},{value:"inactive",label:"Inactive",filterFn:V=>V.status==="inactive"}],defaultFilter:_,onRowClick:V=>G(V)})}),t.jsx(Le,{isOpen:d,onClose:P,title:g?"Edit Course":"Add New Course",size:"lg",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Course Name (English)",name:"name",value:N.name,onChange:k,required:!0,error:A.name}),t.jsx(fe,{label:"Course Name (Arabic)",name:"name_ar",value:N.name_ar,onChange:k,error:A.name_ar})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Course Code",name:"code",value:N.code,onChange:k,required:!0,placeholder:"e.g., AST-101",error:A.code}),t.jsx(fe,{label:"Sub Category",name:"sub_category_id",type:"select",value:N.sub_category_id,onChange:k,required:!0,options:o.map(V=>({value:V.id,label:V.name||V.title||`Sub Category ${V.id}`})),error:A.sub_category_id})]}),t.jsx(fe,{label:"Description",name:"description",value:N.description,onChange:k,textarea:!0,rows:4,error:A.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Duration (Hours)",name:"duration_hours",type:"number",value:N.duration_hours,onChange:k,required:!0,min:"1",error:A.duration_hours}),t.jsx(fe,{label:"Max Capacity",name:"max_capacity",type:"number",value:N.max_capacity,onChange:k,required:!0,min:"1",placeholder:"Maximum number of trainees per class",error:A.max_capacity})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Level",name:"level",type:"select",value:N.level,onChange:k,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],error:A.level}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:N.status,onChange:k,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],error:A.status})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"assessor_required",name:"assessor_required",checked:N.assessor_required||!1,onChange:V=>E({...N,assessor_required:V.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("label",{htmlFor:"assessor_required",className:"text-sm font-medium text-gray-700",children:"Assessor Required"})]}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2 ml-6",children:"This course requires an assessor"}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Ot,{size:20,className:"text-primary-600"}),"Pricing Information (Optional)"]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optional: Set pricing at creation time. You can create a course without pricing and add it later if needed. Commission percentages are managed by Group Admins separately."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Base Price",name:"base_price",type:"number",value:S.base_price,onChange:I,placeholder:"0.00",step:"0.01",min:"0",error:A.base_price}),t.jsx(fe,{label:"Currency",name:"currency",type:"select",value:S.currency,onChange:I,options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"SAR",label:"SAR"}],error:A.currency})]})]}),A.general&&t.jsx("p",{className:"text-sm text-red-600",children:A.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:P,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:z,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Saving...":g?"Update Course":"Create Course"})]})]})}),t.jsx(Le,{isOpen:U,onClose:()=>{q(!1),y(null)},title:"Course Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ns,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gn,{size:14,className:"mr-1"}),"Course ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name||"N/A"})]}),g.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:g.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.duration_hours?`${g.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.max_capacity?`${g.max_capacity} trainees`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${g.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":g.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:g.status?g.status.charAt(0).toUpperCase()+g.status.slice(1):"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Assessor Required"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs font-medium rounded-full ${g.assessor_required?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:g.assessor_required?"Required":"Not Required"})]}),g.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),g.sub_category&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(zs,{className:"mr-2",size:20}),"Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.sub_category.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gn,{size:14,className:"mr-1"}),"Sub Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.sub_category.id]})]}),g.sub_category.category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.category.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.name||"N/A"})]}),g.sub_category.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category Description"}),t.jsx("p",{className:"text-base text-gray-900",children:g.sub_category.description})]})]})]}),g.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:g.description})})]}),(()=>{const V=g.current_price||g.pricing||(g.certificate_pricing&&g.certificate_pricing.length>0?g.certificate_pricing[0]:null);return V?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ot,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg border border-primary-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.id&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gn,{size:14,className:"mr-1"}),"Pricing ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",V.id]})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[parseFloat(V.base_price||0).toFixed(2)," ",V.currency||"USD"]})]}),V.group_commission_percentage!==void 0&&V.group_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(V.group_commission_percentage||0).toFixed(2),"%"]})]}),V.training_center_commission_percentage!==void 0&&V.training_center_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(V.training_center_commission_percentage||0).toFixed(2),"%"]})]}),V.instructor_commission_percentage!==void 0&&V.instructor_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(V.instructor_commission_percentage||0).toFixed(2),"%"]})]}),V.effective_from&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Effective From"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(V.effective_from).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),V.effective_to&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Effective To"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(V.effective_to).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),V.created_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(V.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),V.updated_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(V.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Commission percentages are managed by Group Admins. Pricing is effective immediately when set."})]})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ot,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ot,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No pricing set"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can add pricing when editing the course"})]})]})})]})})()]})}),t.jsx(ja,{isOpen:p,onClose:()=>{u(!1),y(null)},onConfirm:H,title:"Delete Course",message:`Are you sure you want to delete "${g==null?void 0:g.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},gT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState({trainee_name:"",course:"",issue_date:"",status:"valid"}),[m,p]=f.useState({}),[u,g]=f.useState(!1);f.useEffect(()=>{y()},[]),f.useEffect(()=>(s("Certificates"),r("View and manage all generated certificates"),e(t.jsxs("button",{onClick:_,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Gs,{size:20}),"Create New Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const y=async()=>{o(!0);try{const b={per_page:1e3},A=await Xe.listCertificates(b);let j=[];A.data?j=A.data||[]:A.certificates?j=A.certificates||[]:j=Array.isArray(A)?A:[],j=j.map(z=>({...z,_searchText:[z.certificate_number,z.trainee_name,z.course,z.status].filter(Boolean).join(" ").toLowerCase()})),n(j)}catch(b){console.error("Failed to load certificates:",b),n([])}finally{o(!1)}},_=()=>{d({trainee_name:"",course:"",issue_date:new Date().toISOString().split("T")[0],status:"valid"}),p({}),c(!0)},x=()=>{c(!1),d({trainee_name:"",course:"",issue_date:"",status:"valid"}),p({})},v=b=>{d({...h,[b.target.name]:b.target.value}),p({})},C=async b=>{b.preventDefault(),g(!0),p({});try{await Xe.createCertificate(h),await y(),x()}catch(A){A.errors?p(A.errors):p({general:A.message||"Failed to create certificate"})}finally{g(!1)}},N=b=>b?new Date(b).toLocaleDateString():"N/A",E=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(b,A)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(rr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:b=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})},{header:"Course",accessor:"course",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-700",children:b||"N/A"})},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-600",children:N(b)})},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${b==="valid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300"}`,children:b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"})}],[]),S=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:b=>b.status==="valid"},{value:"invalid",label:"Invalid",filterFn:b=>b.status==="invalid"}],[]);return t.jsxs("div",{children:[t.jsx(pt,{columns:E,data:a,isLoading:i,searchable:!0,searchPlaceholder:"Search by number, trainee, or course...",filterable:!0,filterOptions:S,defaultFilter:"all",sortable:!0,emptyMessage:"No certificates found. Create your first certificate!"}),t.jsx(Le,{isOpen:l,onClose:x,title:"Create New Certificate",size:"lg",children:t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Trainee Name",name:"trainee_name",value:h.trainee_name,onChange:v,required:!0,error:m.trainee_name}),t.jsx(fe,{label:"Course",name:"course",value:h.course,onChange:v,required:!0,error:m.course})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Issue Date",name:"issue_date",type:"date",value:h.issue_date,onChange:v,required:!0,error:m.issue_date}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:h.status,onChange:v,options:[{value:"valid",label:"Valid"},{value:"invalid",label:"Invalid"}],error:m.status})]}),m.general&&t.jsx("p",{className:"text-sm text-red-600",children:m.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Certificate"})]})]})})]})},Eh=({currentPage:e=1,totalPages:s=1,totalItems:r=0,perPage:a=10,onPageChange:n,onPerPageChange:i,showPerPageSelector:o=!0,perPageOptions:l=[10,25,50,100],className:c=""})=>{if(s<=1&&!o)return null;const h=r===0?0:(e-1)*a+1,d=Math.min(e*a,r),m=u=>{u>=1&&u<=s&&u!==e&&n(u)},p=()=>{const u=[];if(s<=5)for(let y=1;y<=s;y++)u.push(y);else if(u.push(1),e<=3){for(let y=2;y<=4;y++)u.push(y);u.push("..."),u.push(s)}else if(e>=s-2){u.push("...");for(let y=s-3;y<=s;y++)u.push(y)}else{u.push("...");for(let y=e-1;y<=e+1;y++)u.push(y);u.push("..."),u.push(s)}return u};return t.jsx("div",{className:`pagination-container ${c}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("span",{className:"font-semibold text-gray-900",children:h})," to"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:d})," of"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:r})," results"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[o&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsx("select",{value:a,onChange:u=>i(Number(u.target.value)),className:"pagination-select px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm cursor-pointer bg-white hover:border-gray-400 transition-colors",children:l.map(u=>t.jsx("option",{value:u,children:u},u))})]}),s>1&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>m(1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"First page",children:t.jsx(L_,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>m(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Previous page",children:t.jsx(Rv,{size:16,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center gap-1",children:p().map((u,g)=>u==="..."?t.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${g}`):t.jsx("button",{onClick:()=>m(u),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===u?"bg-primary-600 text-white border border-primary-600 shadow-sm":"border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}`,children:u},u))}),t.jsx("button",{onClick:()=>m(e+1),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Next page",children:t.jsx(Fv,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>m(s),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Last page",children:t.jsx(I_,{size:16,className:"text-gray-600"})})]})]})]})})},xT=()=>{const[e,s]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState({currentPage:1,perPage:12,totalPages:1,totalItems:0});f.useEffect(()=>{o()},[n.currentPage,n.perPage]);const o=async()=>{a(!0);try{const h={page:n.currentPage,per_page:n.perPage},d=await Xe.listMaterials(h);let m=[];d.data?(m=d.data||[],i(p=>({...p,totalPages:d.last_page||d.total_pages||1,totalItems:d.total||0}))):d.materials?(m=d.materials||[],i(p=>{var u;return{...p,totalPages:1,totalItems:((u=d.materials)==null?void 0:u.length)||0}})):(m=Array.isArray(d)?d:[],i(p=>({...p,totalPages:1,totalItems:m.length}))),s(m)}catch(h){console.error("Failed to load materials:",h),s([])}finally{a(!1)}},l=h=>{i(d=>({...d,currentPage:h}))},c=h=>{i(d=>({...d,perPage:h,currentPage:1}))};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage course materials"})]}),t.jsxs("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[t.jsx(Gs,{size:20,className:"mr-2"}),"Add Material"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.length===0?t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(Ze,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No materials found"})]}):e.map(h=>{var d;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[t.jsx(Ze,{className:"h-8 w-8 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.name}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:h.material_type}),t.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",(d=h.price)==null?void 0:d.toLocaleString()]})]},h.id)})}),!r&&n.totalItems>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:t.jsx(Eh,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalItems,perPage:n.perPage,onPageChange:l,onPerPageChange:c,perPageOptions:[12,24,48,96]})})]})},yT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[h,d]=f.useState(!1),[m,p]=f.useState(!1),[u,g]=f.useState(null),[y,_]=f.useState({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),[x,v]=f.useState({}),[C,N]=f.useState(!1);f.useEffect(()=>{E(),S()},[]),f.useEffect(()=>(s("Discount Codes"),r("Manage and track all discount codes"),e(t.jsxs("button",{onClick:A,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Gs,{size:20}),"Add Code"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const E=async()=>{c(!0);try{const k={per_page:1e3},I=await Xe.listDiscountCodes(k);let F=[];I.data?F=I.data||[]:I.discount_codes?F=I.discount_codes||[]:F=Array.isArray(I)?I:[],F=F.map(O=>({...O,_searchText:[O.code,O.discount_type,O.status,...b(O)].filter(Boolean).join(" ").toLowerCase()})),n(F)}catch(k){console.error("Failed to load codes:",k),n([])}finally{c(!1)}},S=async()=>{try{const k=await Xe.listCourses();o(k.courses||[])}catch(k){console.error("Failed to load courses:",k)}},b=k=>{if(k.courses&&Array.isArray(k.courses)&&k.courses.length>0)return k.courses.map(F=>F.name||F.title||"Unknown Course");const I=k.applicable_course_ids||k.course_ids||[];return!Array.isArray(I)||I.length===0?[]:I.map(F=>{const O=i.find(B=>B.id===F);return O?O.name:null}).filter(F=>F!==null)},A=(k=null)=>{var I;if(v({}),g(null),k&&k.id){console.log("Opening modal for EDIT - code:",k),console.log("Code ID:",k.id),g(k);let F="";k.course_id?F=k.course_id.toString():k.applicable_course_ids&&k.applicable_course_ids.length>0?F=k.applicable_course_ids[0].toString():k.courses&&k.courses.length>0&&(F=((I=k.courses[0].id)==null?void 0:I.toString())||""),_({code:k.code||"",discount_percentage:k.discount_percentage||"",discount_type:k.discount_type||"time_limited",valid_from:k.start_date?k.start_date.split("T")[0]:"",valid_until:k.end_date?k.end_date.split("T")[0]:"",status:k.status||"active",course_id:F,total_quantity:k.total_quantity||""})}else console.log("Opening modal for CREATE - resetting all fields"),g(null),_({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""});d(!0)},j=()=>{d(!1),g(null),_({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),v({})},z=k=>{const{name:I,value:F}=k.target;_(O=>({...O,[I]:F})),x[I]&&v(O=>{const B={...O};return delete B[I],B})},$=async k=>{var F,O,B,H;k.preventDefault(),k.stopPropagation(),v({});const I={};if((!y.code||!y.code.trim())&&(I.code="Discount code is required"),(!y.discount_percentage||isNaN(y.discount_percentage)||parseFloat(y.discount_percentage)<=0)&&(I.discount_percentage="Valid discount percentage is required"),y.discount_type||(I.discount_type="Discount type is required"),y.course_id||(I.course_id="Course is required"),y.discount_type==="time_limited"?(y.valid_from||(I.valid_from="Valid from date is required"),y.valid_until||(I.valid_until="Valid until date is required"),y.valid_from&&y.valid_until&&new Date(y.valid_from)>=new Date(y.valid_until)&&(I.valid_until="Valid until date must be after valid from date")):y.discount_type==="quantity_based"&&(!y.total_quantity||isNaN(y.total_quantity)||parseInt(y.total_quantity)<=0)&&(I.total_quantity="Total quantity is required and must be greater than 0"),Object.keys(I).length>0){v(I);return}N(!0);try{const U={code:y.code.trim(),discount_type:y.discount_type,discount_percentage:parseFloat(y.discount_percentage),applicable_course_ids:[parseInt(y.course_id)],status:y.status};y.discount_type==="time_limited"?(U.start_date=y.valid_from,U.end_date=y.valid_until):y.discount_type==="quantity_based"&&(U.total_quantity=parseInt(y.total_quantity)),console.log("Submitting discount code:",JSON.stringify(U,null,2)),console.log("Selected code:",u),console.log("Is creating new code:",!u);let q;if(u&&(u.id||u.discount_code_id||(F=u.discount_code)!=null&&F.id)){const W=u.id||u.discount_code_id||((O=u.discount_code)==null?void 0:O.id);console.log("Updating discount code with ID:",W),q=await Xe.updateDiscountCode(W,U),console.log("Discount code updated:",q),alert("Discount code updated successfully!")}else u&&(console.warn("Warning: selectedCode exists but has no ID, treating as create"),g(null)),console.log("Creating new discount code via POST..."),q=await Xe.createDiscountCode(U),console.log("Discount code created:",q),alert("Discount code created successfully!");await E(),j()}catch(U){if(console.error("Failed to create discount code:",U),console.error("Error response:",U.response),console.error("Error data:",(B=U.response)==null?void 0:B.data),(H=U.response)!=null&&H.data){const q=U.response.data;if(q.errors){const W={};Object.keys(q.errors).forEach(G=>{W[G]=Array.isArray(q.errors[G])?q.errors[G][0]:q.errors[G]}),v(W)}else q.message?v({general:q.message}):v(q)}else U.message?v({general:U.message}):v({general:"Failed to create discount code. Please try again."})}finally{N(!1)}},w=k=>{g(k),p(!0)},R=async()=>{var k,I,F;try{const O=(u==null?void 0:u.id)||(u==null?void 0:u.discount_code_id)||((k=u==null?void 0:u.discount_code)==null?void 0:k.id);if(!O)throw new Error("Cannot delete: Discount code ID not found");console.log("Deleting discount code with ID:",O),await Xe.deleteDiscountCode(O),await E(),alert("Discount code deleted successfully!")}catch(O){console.error("Failed to delete discount code:",O),console.error("Selected code:",u),alert("Failed to delete discount code: "+(((F=(I=O.response)==null?void 0:I.data)==null?void 0:F.message)||O.message||"Unknown error"))}p(!1),g(null)},D=k=>k?new Date(k).toLocaleDateString():null,M=f.useMemo(()=>[{header:"Code",accessor:"code",sortable:!0,render:(k,I)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(ji,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:k||"N/A"})})]})},{header:"Discount",accessor:"discount_percentage",sortable:!0,render:k=>t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:[parseFloat(k)||0,"%"]})},{header:"Type",accessor:"discount_type",sortable:!0,render:k=>t.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 rounded-md text-xs font-medium capitalize",children:k?k.replace(/_/g," "):"N/A"})},{header:"Courses",accessor:"courses",sortable:!1,render:(k,I)=>{const F=b(I);return F.length===0?t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No courses assigned"}):t.jsx("div",{className:"flex flex-wrap gap-1.5",children:F.map((O,B)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-xs font-medium border border-blue-200",title:O,children:[t.jsx(zs,{size:12}),t.jsx("span",{className:"max-w-[150px] truncate",children:O})]},B))})}},{header:"Status",accessor:"status",sortable:!0,render:k=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${k==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:k?k.charAt(0).toUpperCase()+k.slice(1):"N/A"})},{header:"Start Date",accessor:"start_date",sortable:!0,render:k=>k?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:D(k)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"End Date",accessor:"end_date",sortable:!0,render:k=>k?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:D(k)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"Quantity",accessor:"total_quantity",sortable:!0,render:(k,I)=>{if(I.discount_type==="quantity_based"){const F=I.used_quantity||0,O=k||0,B=O>0?Math.round(F/O*100):0;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-primary-700",children:F}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:O})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all",style:{width:`${B}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[B,"%"]})]})]})}else return t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-600 border border-blue-200",children:"N/A"})}}],[i]),P=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:k=>k.status==="active"},{value:"inactive",label:"Inactive",filterFn:k=>k.status==="inactive"}],[]);return t.jsxs("div",{children:[t.jsx(pt,{columns:M,data:a,isLoading:l,searchable:!0,searchPlaceholder:"Search by code or type...",filterable:!0,filterOptions:P,defaultFilter:"all",sortable:!0,emptyMessage:"No discount codes found. Create your first discount code!",onEdit:A,onDelete:w}),t.jsx(Le,{isOpen:h,onClose:j,title:u&&(u.id||u.discount_code_id)?"Edit Discount Code":"Add New Discount Code",size:"lg",children:t.jsxs("form",{onSubmit:$,className:"space-y-4",children:[x.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:x.general})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Discount Code",name:"code",value:y.code,onChange:z,required:!0,placeholder:"e.g., SAVE20",error:x.code}),t.jsx(fe,{label:"Discount Percentage",name:"discount_percentage",type:"number",value:y.discount_percentage,onChange:z,required:!0,min:"0",max:"100",placeholder:"e.g., 20",error:x.discount_percentage})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"course_id",value:y.course_id,onChange:z,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.course_id?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"",children:"Select a course..."}),i.map(k=>t.jsxs("option",{value:k.id,children:[k.name," ",k.code?`(${k.code})`:""]},k.id))]}),x.course_id&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.course_id})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount Type ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"discount_type",value:y.discount_type,onChange:z,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.discount_type?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"time_limited",children:"Time Limited"}),t.jsx("option",{value:"quantity_based",children:"Quantity Based"})]}),x.discount_type&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.discount_type})]}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:y.status,onChange:z,required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:x.status})]}),y.discount_type==="time_limited"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Valid From",name:"valid_from",type:"date",value:y.valid_from,onChange:z,required:!0,error:x.valid_from}),t.jsx(fe,{label:"Valid Until",name:"valid_until",type:"date",value:y.valid_until,onChange:z,required:!0,error:x.valid_until})]}),y.discount_type==="quantity_based"&&t.jsx(fe,{label:"Total Quantity",name:"total_quantity",type:"number",value:y.total_quantity,onChange:z,required:!0,min:"1",placeholder:"e.g., 100",error:x.total_quantity}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?u&&(u.id||u.discount_code_id)?"Updating...":"Creating...":u&&(u.id||u.discount_code_id)?"Update Discount Code":"Create Discount Code"})]})]})}),t.jsx(ja,{isOpen:m,onClose:()=>{p(!1),g(null)},onConfirm:R,title:"Delete Discount Code",message:`Are you sure you want to delete discount code "${u==null?void 0:u.code}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},bT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[g,y]=f.useState({}),[_,x]=f.useState(!1),[v,C]=f.useState([]),[N,E]=f.useState(!0),[S,b]=f.useState(!1),[A,j]=f.useState(!1),[z,$]=f.useState(null),[w,R]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[D,M]=f.useState({}),[P,k]=f.useState(!1);f.useEffect(()=>{I()},[]),f.useEffect(()=>(e("Categories"),s("View assigned categories and manage your own categories"),()=>{e(null),s(null)}),[e,s]);const I=async()=>{var Y;try{i(!0);const ie={per_page:1e3},de=await Xe.listCategories(ie);let he=[];de!=null&&de.data?he=Array.isArray(de.data)?de.data:[]:de!=null&&de.categories&&Array.isArray(de.categories)?he=de.categories:Array.isArray(de)?he=de:(console.warn("Unexpected API response structure:",de),he=[]),he=he.map(Te=>({...Te,_searchText:[Te.name,Te.name_ar,Te.description,Te.status].filter(Boolean).join(" ").toLowerCase()})),a(he);const Pe=[];if(he.forEach(Te=>{Te.sub_categories&&Array.isArray(Te.sub_categories)&&Pe.push(...Te.sub_categories)}),he.length>0)await W();else if(Pe.length>0){const Te=Pe.map(Ke=>({...Ke,_searchText:[Ke.name,Ke.name_ar,Ke.description,Ke.status].filter(Boolean).join(" ").toLowerCase()}));C(Te),E(!1)}}catch(ie){console.error("Failed to load categories:",ie),console.error("Error details:",((Y=ie.response)==null?void 0:Y.data)||ie.message),a([])}finally{i(!1)}},F=(Y=null)=>{Y?(m(Y),u({name:Y.name||"",name_ar:Y.name_ar||"",description:Y.description||"",status:Y.status||"active"})):(m(null),u({name:"",name_ar:"",description:"",status:"active"})),y({}),l(!0)},O=()=>{l(!1),m(null),u({name:"",name_ar:"",description:"",status:"active"}),y({})},B=Y=>{u({...p,[Y.target.name]:Y.target.value}),y({})},H=async Y=>{var ie,de,he,Pe;Y.preventDefault(),x(!0),y({});try{d?await Xe.updateCategory(d.id,p):await Xe.createCategory(p),await I(),O()}catch(Te){(de=(ie=Te.response)==null?void 0:ie.data)!=null&&de.errors?y(Te.response.data.errors):(Pe=(he=Te.response)==null?void 0:he.data)!=null&&Pe.message?y({general:Te.response.data.message}):y({general:Te.message||"Failed to save category"})}finally{x(!1)}},U=Y=>{m(Y),h(!0)},q=async()=>{var Y,ie;try{await Xe.deleteCategory(d.id),await I()}catch(de){alert("Failed to delete category: "+(((ie=(Y=de.response)==null?void 0:Y.data)==null?void 0:ie.message)||de.message||"Unknown error"))}h(!1),m(null)},W=async(Y=null)=>{E(!0);try{const ie={per_page:1e3};Y&&(ie.category_id=Y);const de=await Xe.listSubCategories(ie);let he=[];de!=null&&de.data?he=Array.isArray(de.data)?de.data:[]:de!=null&&de.sub_categories?he=Array.isArray(de.sub_categories)?de.sub_categories:[]:he=Array.isArray(de)?de:[],he=he.map(Pe=>{const Te=r.find(Ke=>Ke.id===Pe.category_id);return{...Pe,_searchText:[Pe.name,Pe.name_ar,Pe.description,Pe.status,(Te==null?void 0:Te.name)||""].filter(Boolean).join(" ").toLowerCase()}}),C(he)}catch(ie){console.error("Failed to load sub categories:",ie),C([])}finally{E(!1)}};f.useEffect(()=>{r.length>0&&W()},[r.length]);const G=(Y=null)=>{Y?($(Y),R({category_id:Y.category_id||"",name:Y.name||"",name_ar:Y.name_ar||"",description:Y.description||"",status:Y.status||"active"})):($(null),R({category_id:"",name:"",name_ar:"",description:"",status:"active"})),M({}),b(!0)},re=()=>{b(!1),$(null),R({category_id:"",name:"",name_ar:"",description:"",status:"active"}),M({})},V=Y=>{R({...w,[Y.target.name]:Y.target.value}),M({})},L=async Y=>{var ie,de,he,Pe;Y.preventDefault(),k(!0),M({});try{z?await Xe.updateSubCategory(z.id,w):await Xe.createSubCategory(w),await W(),re()}catch(Te){(de=(ie=Te.response)==null?void 0:ie.data)!=null&&de.errors?M(Te.response.data.errors):(Pe=(he=Te.response)==null?void 0:he.data)!=null&&Pe.message?M({general:Te.response.data.message}):M({general:Te.message||"Failed to save sub category"})}finally{k(!1)}},Q=Y=>{$(Y),j(!0)},J=async()=>{var Y,ie;try{await Xe.deleteSubCategory(z.id),await W()}catch(de){alert("Failed to delete sub category: "+(((ie=(Y=de.response)==null?void 0:Y.data)==null?void 0:ie.message)||de.message||"Unknown error"))}j(!1),$(null)},ue=r.length,te=r.filter(Y=>Y.status==="active").length,pe=v.length,ye=v.filter(Y=>Y.status==="active").length,Se=Y=>Y.created_by!=null&&Y.created_by!==void 0&&Y.created_by!==1,oe=Y=>Y.created_by!=null&&Y.created_by!==void 0&&Y.created_by!==1,Z=Y=>v.filter(ie=>ie.category_id===Y),ee=f.useMemo(()=>r.map(Y=>({...Y,_searchText:`${Y.name||""} ${Y.name_ar||""} ${Y.description||""} ${Y.status||""}`.toLowerCase()})),[r]),ge=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(Y,ie,{isExpanded:de,toggleExpand:he})=>{const Pe=Z(ie.id);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Te=>{Te.stopPropagation(),he&&he(Te)},className:"p-1 hover:bg-gray-100 rounded transition-colors",children:de?t.jsx(Ld,{size:18,className:"text-gray-600"}):t.jsx(Md,{size:18,className:"text-gray-600"})}),t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(Ze,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ie.name||"N/A"}),ie.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:ie.name_ar}),Pe.length>0&&t.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:[Pe.length," sub-categor",Pe.length===1?"y":"ies"]})]})]})}},{header:"Description",accessor:"description",sortable:!0,render:Y=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:Y||"-"})},{header:"Status",accessor:"status",sortable:!0,render:Y=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Y==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:Y?Y.charAt(0).toUpperCase()+Y.slice(1):"N/A"})},{header:"Type",accessor:"type",sortable:!1,render:(Y,ie)=>t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Se(ie)?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300"}`,children:Se(ie)?"Created by Me":"Assigned by Admin"})})},{header:"Actions",accessor:"actions",sortable:!1,render:(Y,ie)=>{const de=Se(ie);return t.jsxs("div",{className:"flex items-center gap-2",onClick:he=>he.stopPropagation(),children:[t.jsx("button",{onClick:()=>{de&&F(ie)},className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${de?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:de?"Edit Category":"Cannot edit - Assigned by Admin",disabled:!de,children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:()=>{de&&U(ie)},className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${de?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:de?"Delete Category":"Cannot delete - Assigned by Admin",disabled:!de,children:t.jsx(Hs,{size:16})})]})}}],[v]),ne=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:Y=>Y.status==="active"},{value:"inactive",label:"Inactive",filterFn:Y=>Y.status==="inactive"}],[]),le=Y=>{const ie=Z(Y.id);return t.jsxs("div",{children:[t.jsx("div",{className:"mb-3",children:t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:['Sub Categories for "',Y.name,'"']})}),ie.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500 text-sm bg-white rounded-lg border border-gray-200",children:"No sub categories found for this category."}):t.jsx("div",{className:"space-y-2 mb-4",children:ie.map(de=>t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:t.jsx(oi,{className:"h-4 w-4 text-primary-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:de.name||"N/A"}),de.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:de.name_ar}),de.description&&t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:de.description})]}),t.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${de.status==="active"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:de.status?de.status.charAt(0).toUpperCase()+de.status.slice(1):"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("button",{onClick:()=>G(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${oe(de)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:oe(de)?"Edit Sub Category":"Cannot edit - Created by Admin",disabled:!oe(de),children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:()=>Q(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${oe(de)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:oe(de)?"Delete Sub Category":"Cannot delete - Created by Admin",disabled:!oe(de),children:t.jsx(Hs,{size:16})})]})]})},de.id))}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{R({category_id:Y.id,name:"",name_ar:"",description:"",status:"active"}),$(null),M({}),b(!0)},className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2",children:[t.jsx(Gs,{size:16}),"Add Sub Category"]})})]})};return f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:Y=>Y.status==="active"},{value:"inactive",label:"Inactive",filterFn:Y=>Y.status==="inactive"}],[]),t.jsxs("div",{className:"space-y-4",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},className:"mb-6",children:[t.jsx(Ve,{name:"Total Categories",value:ue,icon:Ze,colorType:"indigo"}),t.jsx(Ve,{name:"Active Categories",value:te,icon:Ze,colorType:"green"}),t.jsx(Ve,{name:"Sub Categories",value:pe,icon:oi,colorType:"blue"}),t.jsx(Ve,{name:"Active Sub Categories",value:ye,icon:oi,colorType:"purple"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(et,{onClick:()=>I(),icon:t.jsx($v,{size:20}),variant:"outline",disabled:n,loading:n,title:"Refresh categories list",children:"Refresh"}),t.jsx(et,{onClick:()=>F(),icon:t.jsx(Gs,{size:20}),children:"Add Category"})]})]}),t.jsx(pt,{columns:ge,data:ee,isLoading:n,emptyMessage:"No categories found. Create your first category to get started!",searchable:!0,filterable:!0,searchPlaceholder:"Search by name...",filterOptions:ne,sortable:!0,expandable:!0,renderExpandedRow:le})]}),t.jsx(Le,{isOpen:o,onClose:O,title:d?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:H,className:"space-y-4",children:[t.jsx(fe,{label:"Category Name (English)",name:"name",value:p.name,onChange:B,required:!0,error:g.name}),t.jsx(fe,{label:"Category Name (Arabic)",name:"name_ar",value:p.name_ar,onChange:B,error:g.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:p.description,onChange:B,textarea:!0,rows:3,error:g.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:p.status,onChange:B,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:g.status}),g.general&&t.jsx("p",{className:"text-sm text-red-600",children:g.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(et,{type:"submit",disabled:_,loading:_,fullWidth:!0,children:d?"Update":"Create"})]})]})}),t.jsx(ja,{isOpen:c,onClose:()=>{h(!1),m(null)},onConfirm:q,title:"Delete Category",message:`Are you sure you want to delete "${d==null?void 0:d.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Le,{isOpen:S,onClose:re,title:z?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:w.category_id,onChange:V,required:!0,disabled:!0,options:r.filter(Y=>Y.id).map(Y=>({value:Y.id,label:Y.name||`Category ${Y.id}`})),error:D.category_id}),t.jsx(fe,{label:"Sub Category Name (English)",name:"name",value:w.name,onChange:V,required:!0,error:D.name}),t.jsx(fe,{label:"Sub Category Name (Arabic)",name:"name_ar",value:w.name_ar,onChange:V,error:D.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:w.description,onChange:V,textarea:!0,rows:3,error:D.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:w.status,onChange:V,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:D.status}),D.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:D.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:re,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(et,{type:"submit",disabled:P,loading:P,fullWidth:!0,children:z?"Update":"Create"})]})]})}),t.jsx(ja,{isOpen:A,onClose:()=>{j(!1),$(null)},onConfirm:J,title:"Delete Sub Category",message:`Are you sure you want to delete "${z==null?void 0:z.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},vT=()=>{var R,D,M,P;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState("all"),[g,y]=f.useState(!1),_=f.useRef(null);f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{x()},[]),f.useEffect(()=>{const k=I=>{_.current&&!_.current.contains(I.target)&&y(!1)};return g&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[g]);const x=async()=>{var k,I;l(!0);try{const F={per_page:1e3},O=await Xe.getPaymentTransactions(F),B=(O==null?void 0:O.data)||O||[],H=(O==null?void 0:O.summary)||null;let U=Array.isArray(B)?B:(B==null?void 0:B.data)||[];U=U.map(q=>{var W,G;return{...q,_searchText:[q.transaction_type,q.amount,q.currency,q.status,q.description,(W=q.payer)==null?void 0:W.name,(G=q.payee)==null?void 0:G.name].filter(Boolean).join(" ").toLowerCase()}}),a(U),i(H)}catch(F){console.error("Failed to load transactions:",F),(I=(k=F==null?void 0:F.response)==null?void 0:k.data)!=null&&I.message||F!=null&&F.message,console.error("Error details:",F),a([]),i(null)}finally{l(!1)}},v=k=>{m(k),h(!0)},C=(k,I="USD")=>`${parseFloat(k||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${I}`,N=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=k=>k?new Date(k).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=k=>{switch(k){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=k=>(k==null?void 0:k.split("_").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(" "))||"N/A",A=k=>k.payee&&k.payee.type==="acc",j=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(k,I)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-3 ${A(I)?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:A(I)?t.jsx(wp,{className:"h-5 w-5 text-green-600"}):t.jsx(Qc,{className:"h-5 w-5 text-red-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b(k)})})]})},{header:"Payer",accessor:"payer",sortable:!0,render:k=>k?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:k.type==="acc"||k.type==="training_center"?t.jsx(Qe,{className:"h-4 w-4 text-blue-600"}):t.jsx(ms,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:k.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:k=>k?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:k.type==="acc"||k.type==="training_center"?t.jsx(Qe,{className:"h-4 w-4 text-green-600"}):t.jsx(ms,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:k.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Total Amount",accessor:"amount",sortable:!0,render:(k,I)=>t.jsxs("div",{className:`text-sm font-semibold ${A(I)?"text-green-700":"text-red-700"}`,children:[A(I)?"+":"-"," ",C(k,I.currency)]})},{header:"Received",accessor:"provider_amount",sortable:!0,render:(k,I)=>{const F=k||I.received_amount;return F?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["+ ",C(F,I.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}},{header:"Commission",accessor:"commission_amount",sortable:!0,render:(k,I)=>k?t.jsxs("div",{className:"text-sm font-semibold text-amber-700",children:["- ",C(k,I.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:k=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${S(k)}`,children:k?k.charAt(0).toUpperCase()+k.slice(1):"N/A"})},{header:"Date",accessor:"created_at",sortable:!0,render:k=>t.jsx("div",{className:"text-sm text-gray-600",children:N(k)})},{header:"Actions",accessor:"actions",sortable:!1,render:(k,I)=>t.jsx("div",{className:"flex items-center gap-2",onClick:F=>F.stopPropagation(),children:t.jsx("button",{onClick:()=>v(I),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(as,{size:16})})})}],[]),z=f.useMemo(()=>p==="all"?r:r.filter(k=>k.transaction_type===p),[r,p]),$=f.useMemo(()=>[{value:"all",label:"All Types"},{value:"subscription",label:"Subscription"},{value:"code_purchase",label:"Code Purchase"},{value:"material_purchase",label:"Material Purchase"},{value:"course_purchase",label:"Course Purchase"},{value:"commission",label:"Commission"},{value:"settlement",label:"Settlement"}],[]),w=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"completed",label:"Completed",filterFn:k=>k.status==="completed"},{value:"pending",label:"Pending",filterFn:k=>k.status==="pending"},{value:"failed",label:"Failed",filterFn:k=>k.status==="failed"},{value:"refunded",label:"Refunded",filterFn:k=>k.status==="refunded"}],[]);return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:3},className:"mb-6",children:[t.jsx(Ve,{name:"Total Transactions",value:n.total_transactions||0,icon:Zr,colorType:"indigo"}),t.jsx(Ve,{name:"Total Received",value:C(n.total_received||0),icon:wp,colorType:"green"}),t.jsx(Ve,{name:"Total Paid",value:C(n.total_paid||0),icon:Qc,colorType:"red"})]}),t.jsxs("div",{children:[t.jsx("style",{children:`
          .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
          }
          .payment-transactions-filters-wrapper .data-table-search-input-wrapper {
            flex: 1;
            min-width: 200px;
          }
          .payment-transactions-filters-wrapper .data-table-filter-wrapper {
            flex-shrink: 0;
          }
          @media (max-width: 640px) {
            .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
              flex-direction: column;
            }
            .payment-transactions-filters-wrapper .data-table-filter-wrapper {
              width: 100%;
            }
          }
        `}),t.jsx("div",{className:"payment-transactions-filters-wrapper",children:t.jsx(pt,{columns:j,data:z,isLoading:o,searchable:!0,searchPlaceholder:"Search transactions...",filterable:!0,filterOptions:w,defaultFilter:"all",sortable:!0,emptyMessage:"No transactions found",customFilters:t.jsxs("div",{className:"data-table-filter-wrapper",ref:_,children:[t.jsxs("button",{onClick:()=>y(!g),className:`data-table-filter-button ${p!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(wn,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((R=$.find(k=>k.value===p))==null?void 0:R.label)||"All Types"})]}),g&&t.jsx("div",{className:"data-table-filter-dropdown",children:$.map(k=>t.jsx("button",{onClick:()=>{u(k.value),y(!1)},className:`data-table-filter-option ${p===k.value?"data-table-filter-option-active":""}`,children:k.label},k.value))})]})})})]}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${S(d.status)}`,children:((D=d.status)==null?void 0:D.charAt(0).toUpperCase())+((M=d.status)==null?void 0:M.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),t.jsxs("p",{className:`text-2xl font-bold ${A(d)?"text-green-700":"text-red-700"}`,children:[A(d)?"+":"-"," ",C(d.amount,d.currency)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((P=d.payment_method)==null?void 0:P.replace("_"," "))||"N/A"})]}),d.provider_amount||d.received_amount?t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount Received"}),t.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["+ ",C(d.provider_amount||d.received_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount you received after commission"})]}):null,d.commission_amount?t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Platform Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["- ",C(d.commission_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Commission deducted from total amount"})]}):null,d.payment_type&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:d.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((k,I)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[k.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:k.acc.name})]}),k.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:k.training_center.name})]}),k.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[C(k.group_commission_amount)," (",k.group_commission_percentage,"%)"]})]}),k.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[C(k.acc_commission_amount)," (",k.acc_commission_percentage,"%)"]})]})]})},k.id||I))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:E(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:E(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},jT=()=>{var E,S;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,m]=f.useState("all");f.useEffect(()=>(e("Classes"),s("View all classes from authorized training centers"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{p()},[d]);const p=async()=>{i(!0);try{const b={per_page:1e3},A=await Xe.listClasses(b),j=(A==null?void 0:A.data)||A||[];a(Array.isArray(j)?j:(j==null?void 0:j.data)||[])}catch(b){console.error("Failed to load classes:",b),a([])}finally{i(!1)}},u=f.useCallback(async b=>{try{const A=await Xe.getClassDetails(b.id);h(A.class||A),l(!0)}catch(A){console.error("Failed to load class details:",A),h(b),l(!0)}},[]),g=f.useCallback(b=>{u(b)},[]),y=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(b,A)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(zs,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),(b==null?void 0:b.code)&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",b.code]})]})]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:b=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Qe,{className:"h-4 w-4 text-blue-600"})}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"})]})},{header:"Instructor",accessor:"instructor",sortable:!0,render:b=>b?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(ms,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${b.first_name||""} ${b.last_name||""}`.trim()||"N/A"}),b.email&&t.jsx("div",{className:"text-xs text-gray-500",children:b.email})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Schedule",accessor:"start_date",sortable:!0,render:(b,A)=>t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ot,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}),A.end_date&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["to ",x(A.end_date)]})]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ot,{className:"h-4 w-4 text-purple-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}):t.jsx("span",{className:"text-gray-400",children:"Not set"})})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b!=null?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ze,{className:"h-4 w-4 text-indigo-400"}),t.jsxs("span",{className:"font-semibold",children:[parseFloat(b).toFixed(2),"%"]})]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Location",accessor:"location",sortable:!0,render:(b,A)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:N(b)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:b||"N/A"}),A.location_details&&t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:A.location_details})]})]})},{header:"Capacity",accessor:"enrolled_count",sortable:!0,render:(b,A)=>{var j,z;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[b||0," / ",((j=A.course)==null?void 0:j.max_capacity)||"N/A"]}),((z=A.course)==null?void 0:z.max_capacity)&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((b||0)/A.course.max_capacity*100),"% full"]})]})]})}},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${C(b)}`,children:b?b.charAt(0).toUpperCase()+b.slice(1).replace("_"," "):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(b,A)=>t.jsx("div",{className:"flex items-center gap-2",onClick:j=>j.stopPropagation(),children:t.jsx("button",{onClick:()=>u(A),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(as,{size:16})})})}],[u]),_=f.useMemo(()=>{let b=[...r];return d!=="all"&&(b=b.filter(A=>A.status===d)),b=b.map(A=>{var j,z,$,w,R,D,M,P;return{...A,_searchText:`${((j=A.course)==null?void 0:j.name)||""} ${((z=A.course)==null?void 0:z.code)||""} ${(($=A.course)==null?void 0:$.name_ar)||""} ${((w=A.training_center)==null?void 0:w.name)||""} ${((R=A.training_center)==null?void 0:R.email)||""} ${((D=A.instructor)==null?void 0:D.first_name)||""} ${((M=A.instructor)==null?void 0:M.last_name)||""} ${((P=A.instructor)==null?void 0:P.email)||""} ${A.location||""} ${A.location_details||""} ${A.status||""}`.toLowerCase()}}),b},[r,d]),x=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",v=b=>b?new Date(b).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=b=>{switch(b){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"in_progress":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"scheduled":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"cancelled":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},N=b=>{switch(b){case"online":return"";case"hybrid":return"";default:return""}};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(pt,{columns:y,data:_,isLoading:n,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search classes...",emptyMessage:"No classes found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:b=>b.status==="scheduled"},{value:"in_progress",label:"In Progress",filterFn:b=>b.status==="in_progress"},{value:"completed",label:"Completed",filterFn:b=>b.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:b=>b.status==="cancelled"}],defaultFilter:d,onRowClick:b=>g(b)})}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Class Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ns,{className:"mr-2",size:20}),"Class Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${C(c.status)}`,children:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1).replace("_"," "):"N/A"})]}),c.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:v(c.created_at)})]}),c.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:v(c.updated_at)})]})]})]}),c.course&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(zs,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name||"N/A"})]}),c.course.code&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.code})]}),c.course.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name_ar})]}),c.course.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.duration_hours," hours"]})]}),c.course.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:c.course.level})]}),c.course.max_capacity&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.max_capacity," trainees"]})]}),c.course.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${c.course.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:c.course.status.charAt(0).toUpperCase()+c.course.status.slice(1)})]}),c.course.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:c.course.description})]}),c.course.sub_category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.sub_category.name||"N/A"}),c.course.sub_category.category&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",c.course.sub_category.category.name||"N/A"]})]})]})]}),c.training_center&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Qe,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.name||"N/A"})]}),c.training_center.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Bt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.email})]}),c.training_center.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ta,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.phone})]}),c.training_center.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Jo,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:c.training_center.website.startsWith("http")?c.training_center.website:`https://${c.training_center.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:c.training_center.website})]}),c.training_center.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.address})]}),c.training_center.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.city})]}),c.training_center.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.country})]})]})]}),c.instructor&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ms,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.last_name||"N/A"})]}),c.instructor.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Bt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.email})]}),c.instructor.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ta,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.phone})]}),c.instructor.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.country})]}),c.instructor.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Dt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.city})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ot,{className:"mr-2",size:20}),"Schedule Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Start Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_date?v(c.start_date):"N/A"})]}),c.end_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"End Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:v(c.end_date)})]}),c.exam_date&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1 text-purple-600"}),"Exam Date"]}),t.jsx("p",{className:"text-base font-semibold text-purple-900",children:v(c.exam_date)})]}),c.exam_score!==null&&c.exam_score!==void 0&&t.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ze,{size:14,className:"mr-1 text-indigo-600"}),"Exam Score"]}),t.jsxs("p",{className:"text-base font-semibold text-indigo-900",children:[parseFloat(c.exam_score).toFixed(2),"%"]})]}),c.start_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"Start Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_time})]}),c.end_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"End Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.end_time})]})]}),c.schedule_json&&Object.keys(c.schedule_json).length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Weekly Schedule"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.schedule_json).map(([b,A])=>t.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[t.jsxs("span",{className:"font-semibold text-gray-900 capitalize",children:[b,":"]}),t.jsx("span",{className:"text-gray-700 ml-2",children:A})]},b))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location & Capacity"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(Dt,{size:14}),"Location Type"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:c.location||"N/A"}),c.location_details&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location Details"}),t.jsx("p",{className:"text-sm text-gray-700",children:c.location_details})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(ft,{size:14}),"Capacity"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.enrolled_count||0," / ",((E=c.course)==null?void 0:E.max_capacity)||"N/A"]}),((S=c.course)==null?void 0:S.max_capacity)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all",style:{width:`${Math.min((c.enrolled_count||0)/c.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((c.enrolled_count||0)/c.course.max_capacity*100),"% full"]})]})]})]})]}),c.trainees&&Array.isArray(c.trainees)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ft,{className:"mr-2",size:20}),"Trainees (",c.trainees.length,")"]}),c.trainees.length===0?t.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 text-center",children:[t.jsx(ft,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No trainees enrolled in this class"})]}):t.jsx("div",{className:"space-y-2",children:c.trainees.map((b,A)=>{const j=b.profile_image_url||b.avatar_url||b.id_image_url||null,z=j?j.startsWith("http")?j:`https://aeroenix.com/v1/api${j}`:null;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-gray-100 transition-all",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[z?t.jsx("img",{src:z,alt:`${b.first_name} ${b.last_name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-2 border-primary-200 ${z?"hidden":""}`,children:t.jsx(ms,{className:"h-5 w-5 text-primary-600"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[b.first_name," ",b.last_name]}),b.id_number&&t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",b.id_number]})]})]})},b.id||A)})})]})]})})]})},NT=()=>{var k,I,F,O;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,m]=f.useState(!1),[p,u]=f.useState(!1),[g,y]=f.useState(!1),[_,x]=f.useState(!1),[v,C]=f.useState({payment_amount:""}),[N,E]=f.useState({rejection_reason:""}),[S,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{A()},[]);const A=async()=>{i(!0);try{const B=await Xe.getPendingPayments(),U=((B==null?void 0:B.batches)||(B==null?void 0:B.data)||[]).map(q=>{var W,G,re;return{...q,_searchText:[(W=q.training_center)==null?void 0:W.name,(G=q.training_center)==null?void 0:G.email,(re=q.course)==null?void 0:re.name,q.quantity,q.total_amount,q.payment_amount,q.payment_status].filter(Boolean).join(" ").toLowerCase()}});a(U)}catch(B){console.error("Failed to load pending payments:",B),a([])}finally{i(!1)}},j=B=>{h(B),l(!0)},z=B=>{h(B),C({payment_amount:B.final_amount||B.total_amount||""}),b({}),m(!0)},$=B=>{h(B),E({rejection_reason:""}),b({}),u(!0)},w=async()=>{var U,q,W;if(!c)return;if(!v.payment_amount||parseFloat(v.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const B=parseFloat(v.payment_amount),H=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(B-H)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${H.toFixed(2)}`});return}y(!0),b({});try{await Xe.approvePayment(c.id,{payment_amount:B}),await A(),m(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(G){if(console.error("Failed to approve payment:",G),((U=G.response)==null?void 0:U.status)===422){const re=G.response.data;if(re.errors){const V={};Object.keys(re.errors).forEach(L=>{V[L]=Array.isArray(re.errors[L])?re.errors[L][0]:re.errors[L]}),b(V)}else re.message&&b({general:re.message})}else(W=(q=G.response)==null?void 0:q.data)!=null&&W.message?b({general:G.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},R=async()=>{var B,H,U;if(c){if(!N.rejection_reason||N.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(N.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await Xe.rejectPayment(c.id,{rejection_reason:N.rejection_reason.trim()}),await A(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(q){if(console.error("Failed to reject payment:",q),((B=q.response)==null?void 0:B.status)===422){const W=q.response.data;if(W.errors){const G={};Object.keys(W.errors).forEach(re=>{G[re]=Array.isArray(W.errors[re])?W.errors[re][0]:W.errors[re]}),b(G)}else W.message&&b({general:W.message})}else(U=(H=q.response)==null?void 0:H.data)!=null&&U.message?b({general:q.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},D=B=>`$${parseFloat(B||0).toFixed(2)}`,M=B=>B?new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=f.useMemo(()=>[{header:"Training Center",accessor:"training_center",sortable:!0,render:(B,H)=>{var U;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Qe,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((U=H.training_center)==null?void 0:U.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(B,H)=>{var U;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(zs,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((U=H.course)==null?void 0:U.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:B=>t.jsx("span",{children:B||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:B=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Ot,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:D(B)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:B=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Ot,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:D(B)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:B=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Ge,{className:"batch-date-icon",size:16}),t.jsx("span",{children:M(B)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(B,H)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>j(H),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(as,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(pt,{columns:P,data:r,isLoading:n,emptyMessage:r.length===0&&!n?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ge,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center, course, amount, or date...",sortable:!0}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(ra,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ze,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(et,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:()=>{l(!1),z(c)},children:"Approve Payment"}),t.jsx(et,{variant:"danger",fullWidth:!0,icon:t.jsx(nt,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),C({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[S.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:S.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((k=c.training_center)==null?void 0:k.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((I=c.course)==null?void 0:I.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",D(c.final_amount||c.total_amount)]})]}),t.jsx(fe,{label:"Payment Amount",name:"payment_amount",type:"number",value:v.payment_amount,onChange:B=>C({...v,payment_amount:B.target.value}),required:!0,min:"0",step:"0.01",error:S.payment_amount,helpText:`Enter the payment amount (should match: ${D(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{m(!1),C({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:w,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Le,{isOpen:p,onClose:()=>{u(!1),E({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[S.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:S.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((F=c.training_center)==null?void 0:F.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((O=c.course)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",D(c.payment_amount||c.total_amount)]})]}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:N.rejection_reason,onChange:B=>E({...N,rejection_reason:B.target.value}),required:!0,error:S.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),E({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:R,disabled:_,className:"form-btn form-btn-danger",children:_?"Rejecting...":"Reject Payment"})]})]})})]})},CT=({onSubmit:e,onCancel:s,submitting:r=!1,initialData:a={documents:[],additional_info:""}})=>{const[n,i]=f.useState(a),[o,l]=f.useState({}),c=()=>{const x={};if(n.documents.length===0)return x.general="Please upload at least one document",x;if(n.documents.forEach((v,C)=>{if((!v.type||v.type.trim()==="")&&(x[`documents.${C}.type`]="Document type is required"),!v.file)x[`documents.${C}.file`]="Please upload a file";else{const N=R0(v.file,{required:!0,maxSize:10485760,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});N&&(x[`documents.${C}.file`]=N)}}),n.additional_info){const v=pT(n.additional_info,5e3,"Additional information");v&&(x.additional_info=v)}return x},h=async x=>{x.preventDefault();const v=c();if(Object.keys(v).length>0){l(v);return}e&&await e(n,l)},d=()=>{i({...n,documents:[...n.documents,{type:"",file:null}]})},m=x=>{i({...n,documents:n.documents.filter((C,N)=>N!==x)});const v={...o};Object.keys(v).forEach(C=>{C.startsWith(`documents.${x}.`)&&delete v[C]}),l(v)},p=(x,v,C)=>{const N=[...n.documents];if(N[x]={...N[x],[v]:C},i({...n,documents:N}),o[`documents.${x}.${v}`]){const E={...o};delete E[`documents.${x}.${v}`],l(E)}},u=(x,v)=>{if(!v)return;const C=R0(v,{required:!0,maxSize:10*1024*1024,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});if(C){l({...o,[`documents.${x}.file`]:C});return}const N=[...n.documents];if(N[x]={...N[x],file:v,fileName:v.name,fileSize:v.size,fileType:v.type},i({...n,documents:N}),o[`documents.${x}.file`]){const E={...o};delete E[`documents.${x}.file`],l(E)}},g=x=>{const v=[...n.documents];v[x]={...v[x],file:null,fileName:"",fileSize:null,fileType:null},i({...n,documents:v});const C=document.getElementById(`file-upload-${x}`);if(C&&(C.value=""),o[`documents.${x}.file`]){const N={...o};delete N[`documents.${x}.file`],l(N)}},y=x=>{if(i({...n,additional_info:x.target.value}),o.additional_info){const v={...o};delete v.additional_info,l(v)}},_=()=>{i(a),l({}),s&&s()};return t.jsxs("div",{className:"relative",children:[r&&t.jsx("div",{className:"authorization-request-form-overlay",children:t.jsxs("div",{className:"authorization-request-form-overlay-content",children:[t.jsx(yx,{size:32,className:"authorization-request-form-spinner"}),t.jsx("p",{className:"authorization-request-form-overlay-text",children:"Uploading files and submitting request..."}),t.jsx("p",{className:"authorization-request-form-overlay-hint",children:"Please wait, this may take a moment"})]})}),t.jsxs("form",{onSubmit:h,className:"authorization-request-form",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"authorization-request-form-section-header",children:[t.jsxs("h3",{className:"authorization-request-form-section-title",children:[t.jsx(Ze,{size:20,className:"authorization-request-form-section-title-icon"}),"Documents"]}),t.jsxs("button",{type:"button",onClick:d,disabled:r,className:"authorization-request-form-button-add",children:[t.jsx(Gs,{size:16,className:"authorization-request-form-button-add-icon"}),"Add Document"]})]}),n.documents.length===0?t.jsxs("div",{className:"authorization-request-form-warning-box",children:[t.jsx("p",{className:"authorization-request-form-warning-text",children:"No documents added"}),t.jsx("p",{className:"authorization-request-form-warning-hint",children:'At least one document is required. Click "Add Document" to add one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.documents.map((x,v)=>t.jsxs("div",{className:"authorization-request-form-document-item",children:[t.jsxs("div",{className:"authorization-request-form-document-header",children:[t.jsxs("span",{className:"authorization-request-form-document-number",children:["Document ",v+1]}),t.jsx("button",{type:"button",onClick:()=>m(v),disabled:r,className:"authorization-request-form-document-remove",title:"Remove document",children:t.jsx(Hs,{size:16})})]}),t.jsxs("div",{className:"authorization-request-form-document-grid",children:[t.jsx("div",{children:t.jsx(fe,{label:"Document Type",name:`documents.${v}.type`,type:"select",value:x.type||"",onChange:C=>p(v,"type",C.target.value),required:!0,disabled:r,error:o[`documents.${v}.type`],options:[{value:"",label:"Select document type"},{value:"license",label:"License"},{value:"certificate",label:"Certificate"},{value:"registration",label:"Registration"},{value:"other",label:"Other"}]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Upload Document ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"}),t.jsx("span",{className:"authorization-request-form-label-hint",children:"(PDF, DOC, DOCX, JPG, JPEG, PNG - Max 10MB)"})]}),t.jsxs("div",{className:"authorization-request-form-file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/png",onChange:C=>{var E;const N=(E=C.target.files)==null?void 0:E[0];N&&u(v,N)},disabled:r,className:"authorization-request-form-file-upload-input",id:`file-upload-${v}`}),t.jsx("label",{htmlFor:`file-upload-${v}`,className:`authorization-request-form-file-upload-label ${r?"disabled":x.file?"has-file":"empty"}`,children:x.file?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-success",children:x.fileName||"File selected"}),x.fileSize&&t.jsxs("span",{className:"authorization-request-form-file-upload-size",children:["(",(x.fileSize/1024/1024).toFixed(2)," MB)"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Os,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-default",children:"Click to upload file"})]})})]}),o[`documents.${v}.file`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${v}.file`]}),x.file&&t.jsx("div",{className:"authorization-request-form-file-remove",children:t.jsx("button",{type:"button",onClick:()=>g(v),disabled:r,className:"authorization-request-form-file-remove-button",children:"Remove File"})})]})]})]},v))})]}),t.jsx(fe,{label:"Additional Information",name:"additional_info",value:n.additional_info,onChange:y,textarea:!0,rows:4,placeholder:"Provide any additional information about your training center...",error:o.additional_info,disabled:r,helpText:"Maximum 5000 characters"}),o.general&&t.jsxs("div",{className:"authorization-request-form-error-box",children:[t.jsx("p",{className:"authorization-request-form-error-text",children:o.general}),o.hint&&t.jsx("p",{className:"authorization-request-form-error-hint",children:o.hint})]}),t.jsxs("div",{className:"authorization-request-form-actions",children:[t.jsx("button",{type:"button",onClick:_,disabled:r,className:"authorization-request-form-button authorization-request-form-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:r,className:"authorization-request-form-button authorization-request-form-button-submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx(yx,{size:16,className:"authorization-request-form-button-spinner"}),"Uploading & Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Jc,{size:16,className:"authorization-request-form-button-icon"}),"Submit Request"]})})]})]})]})},ls=({label:e,value:s,icon:r,fullWidth:a=!1,children:n})=>t.jsxs("div",{className:`detail-item ${a?"detail-item-full":""}`,children:[t.jsxs("p",{className:`detail-label ${r?"detail-label-with-icon":""}`,children:[r&&t.jsx(r,{size:16,className:"detail-label-icon"}),e]}),n||t.jsx("p",{className:"detail-value",children:s||"N/A"})]}),gm=({children:e})=>t.jsx("div",{className:"detail-grid",children:e}),xm=({title:e,content:s,icon:r,variant:a="blue",showHeader:n=!1})=>t.jsx("div",{className:`info-box info-box-${a}`,children:n&&r?t.jsxs("div",{className:"info-box-header",children:[t.jsx(r,{className:`info-box-icon info-box-icon-${a}`}),t.jsxs("div",{className:"info-box-content-wrapper",children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})}),wT=({document:e,index:s})=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-content",children:[t.jsx(Ze,{size:20,className:"document-icon"}),t.jsxs("div",{className:"document-info",children:[t.jsx("p",{className:"document-name",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):`Document ${s+1}`}),e.file_name&&t.jsx("p",{className:"document-filename",children:e.file_name})]})]}),e.file_url&&t.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"document-download",title:"Download document",children:t.jsx(Yc,{size:18})})]}),_T=({documents:e,title:s="Documents"})=>!e||e.length===0?null:t.jsxs("div",{children:[t.jsxs("p",{className:"documents-header",children:[t.jsx(Ze,{size:18,className:"documents-header-icon"}),s]}),t.jsx("div",{className:"documents-list",children:e.map((r,a)=>t.jsx(wT,{document:r,index:a},a))})]}),F0=({status:e,variant:s="detail"})=>{const r={active:{badgeClass:s==="detail"?"status-badge-detail-active":"status-badge-active",icon:Me},approved:{badgeClass:s==="detail"?"status-badge-detail-approved":"status-badge-approved",icon:Me},rejected:{badgeClass:s==="detail"?"status-badge-detail-rejected":"status-badge-rejected",icon:nt},pending:{badgeClass:s==="detail"?"status-badge-detail-pending":"status-badge-pending",icon:Ge},returned:{badgeClass:s==="detail"?"status-badge-detail-returned":"status-badge-returned",icon:Ge}},a=r[e]||r.pending,n=a.icon;return t.jsxs("span",{className:`status-badge ${a.badgeClass}`,children:[s==="detail"&&t.jsx(n,{size:14,className:"status-badge-icon"}),e?e.charAt(0).toUpperCase()+e.slice(1):"N/A"]})},ST=()=>{var U,q,W;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,h]=f.useState("available"),[d,m]=f.useState(0),[p,u]=f.useState(0),[g,y]=f.useState(!1),[_,x]=f.useState(!1),[v,C]=f.useState(null),[N,E]=f.useState(null),[S,b]=f.useState(!1),[A,j]=f.useState({documents:[],additional_info:""}),[z,$]=f.useState({}),[w,R]=f.useState(!1),D=f.useCallback(async()=>{try{l(!0);const G=await Ue.listACCs({per_page:1e3});let re=[];if(G!=null&&G.data?re=Array.isArray(G.data)?G.data:[]:G!=null&&G.accs?re=Array.isArray(G.accs)?G.accs:[]:Array.isArray(G)&&(re=G),a(re),G){const V=G.total||re.length;m(V)}}catch(G){console.error("Failed to load ACCs:",G)}finally{l(!1)}},[]),M=f.useCallback(async()=>{try{l(!0);const G=await Ue.getAuthorizationStatus({per_page:1e3});let re=[];if(G!=null&&G.data?re=Array.isArray(G.data)?G.data:[]:G!=null&&G.authorizations?re=Array.isArray(G.authorizations)?G.authorizations:[]:Array.isArray(G)&&(re=G),i(re),G){const V=G.total||re.length;u(V)}}catch(G){console.error("Failed to load authorizations:",G)}finally{l(!1)}},[]);f.useEffect(()=>{D(),M()},[D,M]),f.useEffect(()=>(e("Accreditation Bodies"),s("Browse and request authorization from Accreditation Bodies"),()=>{e(null),s(null)}),[e,s]);const P=G=>{h(G)},k=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(G,re)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",style:{position:"relative"},children:re.logo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:re.logo_url,alt:G||"ACC Logo",className:"accs-table-row-icon",width:"40",height:"40",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:V=>{var Q;V.target.style.display="none";const L=(Q=V.target.parentElement)==null?void 0:Q.querySelector(".logo-fallback");L&&(L.style.display="flex")}}),t.jsx("div",{className:"logo-fallback accs-table-row-icon-wrapper",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(Qe,{className:"accs-table-row-icon"})})]}):t.jsx(Qe,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:G||"N/A"})})]})},{header:"Email",accessor:"email",sortable:!0,render:G=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Bt,{className:"accs-table-row-email-icon"}),G||"N/A"]})},{header:"Country",accessor:"country",sortable:!0,render:G=>t.jsx("span",{className:"accs-table-row-text",children:G||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:G=>t.jsx("span",{className:`accs-status-badge ${G==="active"?"accs-status-badge-active":"accs-status-badge-default"}`,children:G?G.charAt(0).toUpperCase()+G.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(G,re)=>t.jsxs("div",{className:"accs-action-buttons",onClick:V=>V.stopPropagation(),children:[t.jsx("button",{onClick:()=>B(re),className:"accs-action-button accs-action-button-primary",title:"View Details",children:t.jsx(as,{size:16})}),re.status==="active"?t.jsx("button",{onClick:V=>{V.stopPropagation(),F(re)},className:"accs-action-button accs-action-button-green",title:"Request Authorization",children:t.jsx(Jc,{size:16})}):t.jsx("button",{onClick:V=>{V.stopPropagation(),B(re)},className:"accs-action-button accs-action-button-blue",title:"View Info",children:t.jsx(as,{size:16})})]})}],[]),I=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:G=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",style:{position:"relative"},children:G!=null&&G.logo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:G.logo_url,alt:(G==null?void 0:G.name)||"ACC Logo",className:"accs-table-row-icon",width:"40",height:"40",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:re=>{var L;re.target.style.display="none";const V=(L=re.target.parentElement)==null?void 0:L.querySelector(".logo-fallback");V&&(V.style.display="flex")}}),t.jsx("div",{className:"logo-fallback accs-table-row-icon-wrapper",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(Qe,{className:"accs-table-row-icon"})})]}):t.jsx(Qe,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:(G==null?void 0:G.name)||"N/A"})})]})},{header:"Email",accessor:"acc",sortable:!0,render:G=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Bt,{className:"accs-table-row-email-icon"}),(G==null?void 0:G.email)||"N/A"]})},{header:"Country",accessor:"acc",sortable:!0,render:G=>t.jsx("span",{className:"accs-table-row-text",children:(G==null?void 0:G.country)||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:G=>{const re={approved:{badgeClass:"accs-status-badge-approved",icon:Me},rejected:{badgeClass:"accs-status-badge-rejected",icon:nt},pending:{badgeClass:"accs-status-badge-pending",icon:Ge},returned:{badgeClass:"accs-status-badge-returned",icon:Ge}},V=re[G]||re.pending,L=V.icon;return t.jsxs("span",{className:`accs-status-badge ${V.badgeClass}`,children:[t.jsx(L,{size:14,className:"accs-status-badge-icon"}),G||"N/A"]})}},{header:"Request Date",accessor:"request_date",sortable:!0,render:G=>t.jsx("span",{className:"accs-table-row-text",children:G?new Date(G).toLocaleDateString():"N/A"})},{header:"Reviewed At",accessor:"reviewed_at",sortable:!0,render:G=>t.jsx("span",{className:"accs-table-row-text",children:G?new Date(G).toLocaleDateString():"Pending"})}],[]),F=G=>{C(G),j({documents:[],additional_info:""}),$({}),y(!0)},O=async(G,re)=>{var V,L,Q,J;R(!0),re&&re({});try{const ue=new FormData;G.documents.forEach((pe,ye)=>{ue.append(`documents[${ye}][type]`,pe.type),ue.append(`documents[${ye}][file]`,pe.file)}),G.additional_info&&ue.append("additional_info",G.additional_info);const te=await Ue.requestAuthorization(v.id,ue);await Promise.all([D(),M()]),y(!1),j({documents:[],additional_info:""}),alert("Authorization request submitted successfully!")}catch(ue){if(re)if(ue.response){const te=ue.response.status,pe=ue.response.data;te===400&&((V=pe.message)!=null&&V.includes("already exists")||(L=pe.message)!=null&&L.includes("already been submitted"))?re({general:"An authorization request for this ACC already exists. Please check your existing authorizations."}):te===422&&((Q=pe.message)!=null&&Q.includes("No valid documents")||(J=pe.message)!=null&&J.includes("documents uploaded"))?re({general:"No valid documents uploaded. Please ensure files are uploaded correctly.",hint:"Use FormData with structure: documents[0][type]=license&documents[0][file]=<file>"}):te===422&&pe.errors?re(pe.errors):te===422&&pe.message?re({general:pe.message}):te===500?re({general:"Server error occurred. Please try again later or contact support if the problem persists."}):pe.message?re({general:pe.message}):re({general:"Failed to submit request. Please try again."})}else ue.errors?re(ue.errors):ue.message?re({general:ue.message||"Failed to submit request"}):re({general:"Failed to submit request. Please try again."})}finally{R(!1)}},B=G=>{C(G),x(!0)},H=G=>{E(G),b(!0)};return o?t.jsx(Si,{}):t.jsxs("div",{className:"accs-container",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:2},children:[t.jsx(Ve,{name:"Available Accreditation",value:d,icon:Qe,colorType:"indigo",isActive:c==="available",onClick:()=>P("available")}),t.jsx(Ve,{name:"My Authorizations",value:p,icon:Me,colorType:"blue",isActive:c==="authorizations",onClick:()=>P("authorizations")})]}),o?t.jsx("div",{className:"accs-table-container",children:t.jsx(Si,{})}):c==="available"?t.jsx("div",{className:"accs-table-container",children:t.jsx(pt,{columns:k,data:r,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by name, email, or country...",emptyMessage:"No ACCs found",onRowClick:G=>B(G)})}):t.jsx("div",{className:"accs-table-container",children:t.jsx(pt,{columns:I,data:n,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by ACC name or status...",emptyMessage:"No authorization requests found",onView:G=>H(G),onRowClick:G=>H(G)})}),t.jsx(Le,{isOpen:g,onClose:()=>{w||(y(!1),C(null),j({documents:[],additional_info:""}),$({}))},title:`Request Authorization from ${v==null?void 0:v.name}`,size:"lg",children:t.jsx(CT,{onSubmit:O,onCancel:()=>{y(!1),C(null),j({documents:[],additional_info:""}),$({})},submitting:w,initialData:A})}),t.jsx(Le,{isOpen:_,onClose:()=>{x(!1),C(null)},title:"ACC Details",size:"lg",children:v&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(gm,{children:[v.id&&t.jsx(ls,{label:"ID",value:v.id}),t.jsx(ls,{label:"Name",value:v.name}),t.jsx(ls,{label:"Email",value:v.email,icon:Bt}),v.phone&&t.jsx(ls,{label:"Phone",value:v.phone}),v.country&&t.jsx(ls,{label:"Country",value:v.country}),v.address&&t.jsx(ls,{label:"Address",value:v.address}),v.website&&t.jsx(ls,{label:"Website",children:t.jsx("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",className:"accs-detail-link",children:v.website})}),t.jsx(ls,{label:"Status",children:t.jsx(F0,{status:v.status,variant:"detail"})}),v.description&&t.jsx(ls,{label:"Description",value:v.description,fullWidth:!0}),v.created_at&&t.jsx(ls,{label:"Created At",value:new Date(v.created_at).toLocaleString()}),v.updated_at&&t.jsx(ls,{label:"Updated At",value:new Date(v.updated_at).toLocaleString()})]}),v.status==="active"&&t.jsx("div",{className:"accs-detail-actions",children:t.jsxs("button",{onClick:()=>{x(!1),F(v)},className:"accs-detail-button",children:[t.jsx(Jc,{size:20,className:"accs-detail-button-icon"}),"Request Authorization"]})})]})}),t.jsx(Le,{isOpen:S,onClose:()=>{b(!1),E(null)},title:"Authorization Request Details",size:"lg",children:N&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(gm,{children:[t.jsx(ls,{label:"ACC Name",value:(U=N.acc)==null?void 0:U.name}),t.jsx(ls,{label:"Email",value:(q=N.acc)==null?void 0:q.email,icon:Bt}),((W=N.acc)==null?void 0:W.country)&&t.jsx(ls,{label:"Country",value:N.acc.country}),t.jsx(ls,{label:"Status",children:t.jsx(F0,{status:N.status,variant:"detail"})})]}),t.jsxs(gm,{children:[t.jsx(ls,{label:"Request Date",value:N.request_date?new Date(N.request_date).toLocaleString():"N/A",icon:Ge}),N.reviewed_at&&t.jsx(ls,{label:"Reviewed At",value:new Date(N.reviewed_at).toLocaleString(),icon:Me})]}),N.additional_info&&t.jsx(xm,{title:"Additional Information",content:N.additional_info,variant:"blue"}),N.status==="returned"&&N.return_comment&&t.jsx(xm,{title:"ACC Comment / Return Reason",content:N.return_comment,icon:W_,variant:"yellow",showHeader:!0}),N.status==="rejected"&&N.rejection_reason&&t.jsx(xm,{title:"Rejection Reason",content:N.rejection_reason,icon:nt,variant:"red",showHeader:!0}),t.jsx(_T,{documents:N.documents,title:"Submitted Documents"})]})})]})},ym="https://aeroenix.com/v1/api",AT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[m,p]=f.useState(!1),[u,g]=f.useState(!1),[y,_]=f.useState(null),[x,v]=f.useState([]),[C,N]=f.useState([]),[E,S]=f.useState([]),[b,A]=f.useState([]),[j,z]=f.useState(new Set),[$,w]=f.useState(""),[R,D]=f.useState(!1),[M,P]=f.useState(!1),[k,I]=f.useState({acc_id:"",category_id:"",sub_category_id:"",course_ids:[]}),[F,O]=f.useState({}),[B,H]=f.useState(!1),[U,q]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),[W,G]=f.useState(null),[re,V]=f.useState(""),[L,Q]=f.useState(""),[J,ue]=f.useState({}),[te,pe]=f.useState(!1),[ye,Se]=f.useState("all");f.useEffect(()=>{oe()},[]),f.useEffect(()=>(s("Instructors"),r("Manage your instructors"),e(t.jsxs("button",{onClick:()=>Z(),className:"instructors-header-button",children:[t.jsx(Gs,{size:20,className:"instructors-header-button-icon"}),"Add Instructor"]})),()=>{e(null),s(null),r(null)}),[e,s,r]),f.useEffect(()=>{u&&y&&Te()},[u,y]),f.useEffect(()=>{k.acc_id&&b.length>0&&b.forEach(T=>{const X=E.filter(je=>{var _e,Ae;return je.sub_category_id===T.id||((_e=je.sub_category)==null?void 0:_e.id)===T.id||typeof je.sub_category=="object"&&((Ae=je.sub_category)==null?void 0:Ae.id)===T.id}).map(je=>je.id),ae=X.filter(je=>{var _e;return(_e=k.course_ids)==null?void 0:_e.includes(je)}).length,me=document.querySelector(`input[data-category-id="${T.id}"]`);me&&(me.indeterminate=ae>0&&ae<X.length)})},[k.course_ids,E,b,k.acc_id]);const oe=async()=>{var T,K,X;o(!0);try{const ae=await Ue.listInstructors({per_page:1e3});let me=[];ae!=null&&ae.data?me=Array.isArray(ae.data)?ae.data:((T=ae.data)==null?void 0:T.instructors)||[]:ae!=null&&ae.instructors?me=ae.instructors:Array.isArray(ae)?me=ae:(console.warn("Unexpected response format:",ae),me=[]),n(me)}catch(ae){console.error("Failed to load instructors:",ae),console.error("Error details:",{status:(K=ae.response)==null?void 0:K.status,data:(X=ae.response)==null?void 0:X.data,message:ae.message}),n([])}finally{o(!1)}},Z=(T=null)=>{T?(_(T),q({first_name:T.first_name||"",last_name:T.last_name||"",email:T.email||"",phone:T.phone||"",id_number:T.id_number||"",cv:null,specializations:Array.isArray(T.specializations)?T.specializations:T.specializations?T.specializations.split(",").map(K=>K.trim()).filter(K=>K):[],is_assessor:T.is_assessor||!1}),G(null),V(""),Q(T.cv_url||"")):(_(null),q({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),G(null),V(""),Q("")),ue({}),c(!0)},ee=()=>{c(!1),_(null),q({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),G(null),V(""),Q(""),ue({})},ge=T=>{q({...U,[T.target.name]:T.target.value}),ue({})},ne=T=>{const K=T.target.files[0];if(K){if(K.type!=="application/pdf"){ue({cv:"Only PDF files are allowed"}),T.target.value="";return}if(K.size>10*1024*1024){ue({cv:"File size must be less than 10MB"}),T.target.value="";return}G(K),V(K.name),q({...U,cv:K}),J.cv&&ue(X=>{const ae={...X};return delete ae.cv,ae})}},le=T=>{q({...U,specializations:T}),ue({})},Y=async T=>{var K,X,ae,me,je,_e,Ae,xe,we,ve,ze,Je;T.preventDefault(),pe(!0),ue({});try{const Re=W instanceof File;let Ie;if(Re?(Ie=new FormData,Ie.append("first_name",U.first_name.trim()),Ie.append("last_name",U.last_name.trim()),Ie.append("email",U.email.trim()),(K=U.phone)!=null&&K.trim()&&Ie.append("phone",U.phone.trim()),(X=U.id_number)!=null&&X.trim()&&Ie.append("id_number",U.id_number.trim()),Ie.append("cv",W),U.specializations&&U.specializations.length>0&&U.specializations.forEach(tt=>{Ie.append("specializations[]",tt)}),Ie.append("is_assessor",U.is_assessor===!0||U.is_assessor==="true"||U.is_assessor===1||U.is_assessor==="1"?"1":"0"),console.log(" Using FormData (file upload required)")):(Ie={first_name:U.first_name.trim(),last_name:U.last_name.trim(),email:U.email.trim(),phone:((ae=U.phone)==null?void 0:ae.trim())||null,id_number:((me=U.id_number)==null?void 0:me.trim())||null,specializations:U.specializations||[],is_assessor:U.is_assessor},console.log(" Using JSON (no file upload):",JSON.stringify(Ie,null,2))),console.log("Submitting instructor data:",Re?"FormData":"JSON"),console.log("is_assessor value:",U.is_assessor,"Type:",typeof U.is_assessor),y){console.log(" Updating instructor with ID:",y.id),console.log(" Submit data type:",Re?"FormData":"JSON"),Re&&console.log(" CV File:",W.name,W.size,"bytes");const tt=await Ue.updateInstructor(y.id,Ie);console.log(" Update result:",tt),Re&&((je=tt==null?void 0:tt.instructor)!=null&&je.cv_url)&&console.log(" CV updated successfully:",tt.instructor.cv_url)}else console.log(" Creating new instructor"),await Ue.createInstructor(Ie);await oe(),ee()}catch(Re){console.error("Error submitting instructor:",Re),console.error("Error response:",(_e=Re.response)==null?void 0:_e.data),(xe=(Ae=Re.response)==null?void 0:Ae.data)!=null&&xe.errors?ue(Re.response.data.errors):(ve=(we=Re.response)==null?void 0:we.data)!=null&&ve.message?ue({general:Re.response.data.message}):(Je=(ze=Re.response)==null?void 0:ze.data)!=null&&Je.error?ue({general:Re.response.data.error}):Re.errors?ue(Re.errors):ue({general:Re.message||"Failed to save instructor"})}finally{pe(!1)}},ie=T=>{_(T),d(!0)},de=async()=>{try{await Ue.deleteInstructor(y.id),await oe()}catch(T){alert("Failed to delete instructor: "+(T.message||"Unknown error"))}d(!1),_(null)},he=async T=>{try{const K=await Ue.getInstructorDetails(T.id);_(K.instructor),p(!0)}catch(K){console.error("Failed to load instructor details:",K),_(T),p(!0)}},Pe=T=>{_(T),I({acc_id:"",category_id:"",sub_category_id:"",course_ids:[]}),N([]),S([]),A([]),z(new Set),w(""),O({}),g(!0)},Te=async()=>{try{const[T,K]=await Promise.all([Ue.listACCs(),Ue.getAuthorizationStatus()]),X=((K==null?void 0:K.authorizations)||[]).filter(_e=>_e.status==="approved"),ae=new Set(X.map(_e=>{var Ae;return _e.acc_id||((Ae=_e.acc)==null?void 0:Ae.id)})),je=((T==null?void 0:T.accs)||[]).filter(_e=>ae.has(_e.id));v(je),S([]),A([])}catch(T){console.error("Failed to load request form data:",T),v([])}},Ke=async T=>{if(I({...k,acc_id:T,category_id:"",sub_category_id:"",course_ids:[]}),N([]),S([]),A([]),z(new Set),w(""),!!T)try{D(!0),console.log(`Loading categories for ACC ${T}`);const K=await Ue.getCategoriesForACC(T),X=K.categories||K.data||K||[];N(X),console.log(`Loaded ${X.length} categories for ACC ${T}`)}catch(K){console.error("Failed to load categories:",K),N([])}finally{D(!1)}},ke=async T=>{const K=k.acc_id;if(I(X=>({...X,category_id:T,sub_category_id:"",course_ids:[]})),S([]),A([]),z(new Set),!!T)try{P(!0),console.log(`Loading sub-categories for category ${T}`);const X=await Ue.getSubCategoriesForCategory(T),ae=X.sub_categories||X.data||X||[];if(A(ae),console.log(`Loaded ${ae.length} sub-categories for category ${T}`),K)try{const me=await Ue.getCoursesForACC(K),je=(me==null?void 0:me.courses)||(me==null?void 0:me.data)||me||[];S(je),console.log(`Loaded ${je.length} courses for ACC ${K}`)}catch(me){console.error("Failed to load courses:",me),S([])}}catch(X){console.error("Failed to load sub-categories:",X),A([])}finally{P(!1)}},$e=T=>{z(K=>{const X=new Set(K);return X.has(T)?X.delete(T):X.add(T),X})},it=T=>{const X=E.filter(ae=>{var me,je;return ae.sub_category_id===T||((me=ae.sub_category)==null?void 0:me.id)===T||typeof ae.sub_category=="object"&&((je=ae.sub_category)==null?void 0:je.id)===T}).map(ae=>ae.id);I(ae=>{const me=ae.course_ids||[];if(X.length>0&&X.every(_e=>me.includes(_e))){const _e=me.filter(xe=>!X.includes(xe)),Ae=ae.sub_category_id===T.toString()||ae.sub_category_id===T?"":ae.sub_category_id;return{...ae,course_ids:_e,sub_category_id:Ae}}else{const _e=[...new Set([...me,...X])];return{...ae,course_ids:_e,sub_category_id:T.toString()}}})},mt=(T,K)=>{I(X=>{const ae=X.course_ids||[];if(ae.includes(T)){const me=ae.filter(_e=>_e!==T);let je=X.sub_category_id;return K&&!E.filter(xe=>{var we,ve;return(xe.sub_category_id===K||((we=xe.sub_category)==null?void 0:we.id)===K||typeof xe.sub_category=="object"&&((ve=xe.sub_category)==null?void 0:ve.id)===K)&&xe.id!==T}).some(xe=>me.includes(xe.id))&&(X.sub_category_id===K.toString()||X.sub_category_id===K)&&(je=""),{...X,course_ids:me,sub_category_id:je}}else return{...X,course_ids:[...ae,T]}})},At=async T=>{var K;if(T.preventDefault(),!!y){H(!0),O({});try{if(!k.acc_id){O({general:"Please select an ACC"}),H(!1);return}if(!k.course_ids||k.course_ids.length===0){O({general:"Please select at least one course or category"}),H(!1);return}const X={acc_id:parseInt(k.acc_id)};if(k.sub_category_id){const _e=E.filter(xe=>{var we;return xe.sub_category_id===parseInt(k.sub_category_id)||((we=xe.sub_category)==null?void 0:we.id)===parseInt(k.sub_category_id)}).map(xe=>xe.id);_e.every(xe=>k.course_ids.includes(xe))&&_e.length===k.course_ids.length&&_e.length>0?X.sub_category_id=parseInt(k.sub_category_id):X.course_ids=k.course_ids.map(xe=>parseInt(xe))}else X.course_ids=k.course_ids.map(je=>parseInt(je));const ae=await Ue.requestInstructorAuthorization(y.id,X);g(!1),I({acc_id:"",category_id:"",sub_category_id:"",course_ids:[]}),z(new Set),N([]),S([]),A([]),w(""),_(null);const me=(ae==null?void 0:ae.courses_count)||k.course_ids.length;alert(`Authorization request submitted successfully! ${me} course(s) included.`)}catch(X){if(console.error("Failed to submit request:",X),(K=X.response)!=null&&K.data){const ae=X.response.data;ae.errors?O(ae.errors):ae.message?O({general:ae.message}):O(ae)}else X.message?O({general:X.message}):O({general:"Failed to submit request. Please try again."})}finally{H(!1)}}},Mt=f.useMemo(()=>a,[a]),Jt=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(T,K)=>t.jsxs("div",{className:"instructors-column-instructor",children:[t.jsx("div",{className:"instructors-column-icon-wrapper",style:{position:"relative"},children:K.photo_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:K.photo_url,alt:`${K.first_name} ${K.last_name}`||"Instructor Photo",className:"instructors-column-icon",width:"40",height:"40",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:X=>{var me;X.target.style.display="none";const ae=(me=X.target.parentElement)==null?void 0:me.querySelector(".photo-fallback");ae&&(ae.style.display="flex")}}),t.jsx("div",{className:"photo-fallback instructors-column-icon-wrapper",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(ft,{className:"instructors-column-icon"})})]}):t.jsx(ft,{className:"instructors-column-icon"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructors-column-name",children:[K.first_name," ",K.last_name]}),K.id_number&&t.jsxs("div",{className:"instructors-column-id",children:["ID: ",K.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:T=>t.jsxs("div",{className:"instructors-column-email",children:[t.jsx(Bt,{className:"instructors-column-email-icon"}),T]})},{header:"Phone",accessor:"phone",sortable:!0,render:T=>T?t.jsxs("div",{className:"instructors-column-phone",children:[t.jsx(ta,{className:"instructors-column-phone-icon"}),T]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:T=>{const K={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ge},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:nt},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:Ge}},ae=(K[T]||K.inactive).icon,me=T==="active"?"instructors-column-status-badge-active":T==="pending"?"instructors-column-status-badge-pending":T==="suspended"?"instructors-column-status-badge-suspended":"instructors-column-status-badge-inactive";return t.jsxs("span",{className:`instructors-column-status-badge ${me}`,children:[t.jsx(ae,{size:14,className:"instructors-column-status-icon"}),T?T.charAt(0).toUpperCase()+T.slice(1):"N/A"]})}},{header:"Type",accessor:"is_assessor",sortable:!0,render:T=>T?t.jsx("span",{className:"instructors-column-type-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-column-type-badge-gray",children:"Instructor"})},{header:"Actions",accessor:"actions",sortable:!1,render:(T,K)=>t.jsxs("div",{className:"instructors-column-actions",onClick:X=>X.stopPropagation(),children:[t.jsx("button",{onClick:X=>{X.stopPropagation(),Z(K)},className:"instructors-action-button instructors-action-button-edit",title:"Edit",children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:X=>{X.stopPropagation(),Pe(K)},className:"instructors-action-button instructors-action-button-send",title:"Request Authorization",children:t.jsx(Jc,{size:16})}),t.jsx("button",{onClick:X=>{X.stopPropagation(),ie(K)},className:"instructors-action-button instructors-action-button-delete",title:"Delete",children:t.jsx(Hs,{size:16})})]})}],[]),fs=a.length,is=a.filter(T=>T.status==="active").length,hs=a.filter(T=>T.status==="pending").length,We=a.filter(T=>T.status==="suspended").length;return i?t.jsx(Si,{}):t.jsxs("div",{className:"instructors-container",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total Instructors",value:fs,icon:ft,colorType:"indigo",isActive:ye==="all",onClick:()=>Se("all")}),t.jsx(Ve,{name:"Active",value:is,icon:Me,colorType:"green",isActive:ye==="active",onClick:()=>Se("active")}),t.jsx(Ve,{name:"Pending",value:hs,icon:Ge,colorType:"yellow",isActive:ye==="pending",onClick:()=>Se("pending")}),t.jsx(Ve,{name:"Suspended",value:We,icon:nt,colorType:"red",isActive:ye==="suspended",onClick:()=>Se("suspended")})]}),t.jsx("div",{className:"instructors-table-container",children:t.jsx(pt,{columns:Jt,data:Mt,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:T=>T.status==="active"},{value:"pending",label:"Pending",filterFn:T=>T.status==="pending"},{value:"suspended",label:"Suspended",filterFn:T=>T.status==="suspended"},{value:"inactive",label:"Inactive",filterFn:T=>T.status==="inactive"}],defaultFilter:ye,onRowClick:T=>he(T)})}),t.jsx(Le,{isOpen:l,onClose:ee,title:y?"Edit Instructor":"Add New Instructor",size:"lg",children:t.jsxs("form",{onSubmit:Y,className:"instructors-form",children:[t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:U.first_name,onChange:ge,required:!0,error:J.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:U.last_name,onChange:ge,required:!0,error:J.last_name})]}),t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(fe,{label:"Email",type:"email",name:"email",value:U.email,onChange:ge,required:!0,error:J.email}),t.jsx(fe,{label:"Phone",type:"tel",name:"phone",value:U.phone,onChange:ge,error:J.phone})]}),t.jsx(fe,{label:"ID Number",name:"id_number",value:U.id_number,onChange:ge,error:J.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"instructors-cv-label",children:"CV / Resume (PDF)"}),L&&!W&&t.jsx("div",{className:"instructors-cv-display-box",children:t.jsxs("div",{className:"instructors-cv-display-flex",children:[t.jsxs("div",{className:"instructors-cv-display-inner",children:[t.jsx("div",{className:"instructors-cv-icon-wrapper",children:t.jsx(Ze,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-text-title",children:"Current CV"}),t.jsx("p",{className:"instructors-cv-text-hint",children:"Click to view your current CV"})]})]}),t.jsxs("a",{href:L.startsWith("http")?L:`${ym}${L}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-link",children:[t.jsx(Ze,{size:14,className:"instructors-cv-link-icon"}),"View CV"]})]})}),t.jsxs("div",{className:"instructors-upload-area",children:[t.jsxs("label",{className:"instructors-upload-label",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:ne,className:"instructors-upload-input",id:"cv-upload-input"}),t.jsx("div",{className:"instructors-upload-div",children:t.jsxs("div",{className:"instructors-upload-inner",children:[t.jsx("div",{className:"instructors-upload-icon-wrapper",children:t.jsx(Ze,{className:"text-primary-600",size:24})}),re?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:re}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to change file"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:L?"Update CV":"Upload CV"}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to select PDF document"})]}),t.jsx("p",{className:"instructors-upload-text-small",children:"PDF only, maximum 10MB"})]})})]}),re&&t.jsxs("div",{className:"instructors-file-selected-box",children:[t.jsx(Me,{className:"text-green-600",size:18}),t.jsxs("p",{className:"instructors-file-selected-text",children:[t.jsx("span",{className:"instructors-file-selected-bold",children:"Selected:"})," ",re]})]}),J.cv&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:J.cv})})]})]}),t.jsx(_u,{label:"Languages",value:U.specializations,onChange:le,error:J.specializations}),t.jsxs("div",{className:"instructors-checkbox-container",children:[t.jsx("input",{type:"checkbox",id:"is_assessor",name:"is_assessor",checked:U.is_assessor||!1,onChange:T=>q({...U,is_assessor:T.target.checked}),className:"instructors-checkbox"}),t.jsx("label",{htmlFor:"is_assessor",className:"instructors-checkbox-label",children:"Is Assessor"})]}),t.jsx("p",{className:"instructors-helper-text",children:"Mark this instructor as an assessor"}),J.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text-bold",children:J.general})}),Object.keys(J).filter(T=>T!=="general"&&T!=="specializations").map(T=>J[T]&&t.jsxs("p",{className:"instructors-error-text",children:[T,": ",J[T]]},T)),t.jsxs("div",{className:"instructors-form-actions",children:[t.jsx("button",{type:"button",onClick:ee,className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:te,className:"instructors-button-submit",children:te?"Saving...":y?"Update Instructor":"Add Instructor"})]})]})}),t.jsx(Le,{isOpen:m,onClose:()=>{p(!1),_(null)},title:"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"instructors-detail-container",children:[t.jsxs("div",{className:"instructors-detail-grid",children:[t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"First Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.first_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.last_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Bt,{size:16,className:"instructors-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"instructors-detail-value",children:y.email||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(ta,{size:16,className:"instructors-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"instructors-detail-value",children:y.phone||"N/A"})]}),y.id_number&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"ID Number"}),t.jsx("p",{className:"instructors-detail-value",children:y.id_number})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Type"}),y.is_assessor?t.jsx("span",{className:"instructors-detail-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-detail-badge-gray",children:"Instructor"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Status"}),t.jsx("span",{className:`instructors-detail-status ${y.status==="active"?"instructors-detail-status-active":y.status==="pending"?"instructors-detail-status-pending":y.status==="suspended"?"instructors-detail-status-suspended":"instructors-detail-status-inactive"}`,children:y.status})]})]}),y.specializations&&y.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Specializations / Languages"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(y.specializations)?y.specializations.map((T,K)=>t.jsx("span",{className:"instructors-specialization-badge",children:T},K)):t.jsx("span",{className:"instructors-specialization-badge",children:y.specializations})})]}),y.languages&&y.languages.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Languages"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(y.languages)?y.languages.map((T,K)=>t.jsx("span",{className:"instructors-specialization-badge",children:T},K)):t.jsx("span",{className:"instructors-specialization-badge",children:y.languages})})]}),y.certificates_json&&Array.isArray(y.certificates_json)&&y.certificates_json.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Certificates"}),t.jsx("div",{className:"instructors-certificates-list",children:y.certificates_json.map((T,K)=>{const X=typeof T=="object"?T.name||T.title||T.certificate_name||"Certificate":T,ae=typeof T=="object"&&T.date?T.date:null,me=typeof T=="object"&&T.url?T.url:typeof T=="object"&&T.file_url?T.file_url:null;return t.jsx("div",{className:"instructors-certificate-box",children:t.jsxs("div",{className:"instructors-certificate-box-flex",children:[t.jsxs("div",{className:"instructors-certificate-box-inner",children:[t.jsx("div",{className:"instructors-certificate-icon-wrapper",children:t.jsx(Ze,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-certificate-text-title",children:X}),ae&&t.jsx("p",{className:"instructors-certificate-text-date",children:new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),!ae&&t.jsx("p",{className:"instructors-certificate-text-hint",children:"Certificate document"})]})]}),me&&t.jsxs("a",{href:me.startsWith("http")?me:`${ym}${me}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-certificate-link",children:[t.jsx(Ze,{size:14,className:"instructors-certificate-link-icon"}),"View PDF"]})]})},K)})})]}),y.training_center&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Qe,{size:16,className:"instructors-detail-label-icon"}),"Training Center"]}),t.jsx("p",{className:"instructors-detail-value",children:typeof y.training_center=="object"?y.training_center.name||y.training_center.email||"N/A":y.training_center})]}),y.created_at&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Created At"}),t.jsx("p",{className:"instructors-detail-value",children:new Date(y.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.updated_at&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Updated"}),t.jsx("p",{className:"instructors-detail-value",children:new Date(y.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.cv_url&&t.jsx("div",{className:"instructors-cv-box",children:t.jsxs("div",{className:"instructors-cv-box-flex",children:[t.jsxs("div",{className:"instructors-cv-box-inner",children:[t.jsx("div",{className:"instructors-cv-box-icon-wrapper",children:t.jsx(Ze,{className:"text-white",size:28})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-box-text-title",children:"Curriculum Vitae"}),t.jsx("p",{className:"instructors-cv-box-text-hint",children:"Click the button to view the instructor's CV"})]})]}),t.jsxs("a",{href:y.cv_url.startsWith("http")?y.cv_url:`${ym}${y.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-box-link",children:[t.jsx(Ze,{size:18,className:"instructors-cv-box-link-icon"}),"View CV"]})]})})]})}),t.jsx(ja,{isOpen:h,onClose:()=>{d(!1),_(null)},onConfirm:de,title:"Delete Instructor",message:`Are you sure you want to delete "${y==null?void 0:y.first_name} ${y==null?void 0:y.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Le,{isOpen:u,onClose:()=>{g(!1),I({acc_id:"",category_id:"",sub_category_id:"",course_ids:[]}),z(new Set),O({}),N([]),S([]),A([]),w("")},title:`Request Authorization for ${y?`${y.first_name} ${y.last_name}`:"Instructor"}`,size:"lg",children:t.jsxs("form",{onSubmit:At,className:"instructors-request-form",children:[F.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:F.general})}),t.jsx(fe,{label:"ACC",name:"acc_id",type:"select",value:k.acc_id,onChange:T=>Ke(T.target.value),required:!0,options:x.length>0?x.map(T=>({value:T.id,label:T.name||`ACC ${T.id}`})):[{value:"",label:"No approved ACCs available"}],error:F.acc_id,disabled:x.length===0}),x.length===0&&t.jsx("p",{className:"instructors-request-warning",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:k.category_id,onChange:T=>ke(T.target.value),required:!0,disabled:!k.acc_id||R,error:F.category_id,options:[{value:"",label:k.acc_id?R?"Loading categories...":"Select a category...":"Please select ACC first"},...C.filter(T=>T.id!=null&&T.id!=="").map(T=>({value:T.id,label:T.name||T.name_ar||`Category ${T.id}`}))]}),t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Select Sub-Categories & Courses ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),k.acc_id?k.category_id?t.jsxs(t.Fragment,{children:[E.length>0&&t.jsx("div",{style:{marginTop:"0.5rem",marginBottom:"1rem"},children:t.jsx(fe,{label:"",name:"course_search",type:"text",value:$,onChange:T=>w(T.target.value),placeholder:"Search courses..."})}),b.length===0&&E.length===0&&!M?t.jsx("p",{className:"instructors-request-warning",children:"No sub-categories or courses available for the selected category"}):M?t.jsx("p",{className:"instructors-request-warning",children:"Loading sub-categories..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"instructors-categories-container",children:b.map(T=>{var we;const K=E.filter(ve=>{var Je,Re;const ze=ve.sub_category_id===T.id||((Je=ve.sub_category)==null?void 0:Je.id)===T.id||typeof ve.sub_category=="object"&&((Re=ve.sub_category)==null?void 0:Re.id)===T.id;if($&&ze){const Ie=(ve.name||ve.code||"").toLowerCase(),tt=(ve.code||"").toLowerCase(),se=$.toLowerCase();return Ie.includes(se)||tt.includes(se)}return ze}),X=new Set(((we=y==null?void 0:y.courses)==null?void 0:we.filter(ve=>{var ze,Je;return((ze=ve.pivot)==null?void 0:ze.acc_id)===parseInt(k.acc_id)&&((Je=ve.pivot)==null?void 0:Je.status)==="active"}).map(ve=>ve.id))||[]),me=K.filter(ve=>!X.has(ve.id)).map(ve=>ve.id),je=me.length>0&&me.every(ve=>{var ze;return(ze=k.course_ids)==null?void 0:ze.includes(ve)}),_e=me.some(ve=>{var ze;return(ze=k.course_ids)==null?void 0:ze.includes(ve)}),Ae=j.has(T.id),xe=K.length>0&&K.every(ve=>X.has(ve.id));return t.jsxs("div",{className:"instructors-category-group",children:[t.jsxs("div",{className:"instructors-category-header",onClick:ve=>{ve.target.type==="checkbox"||ve.target.closest(".instructors-category-expand-btn")||ve.target.closest(".instructors-course-checkbox")||K.length>0&&$e(T.id)},children:[t.jsxs("div",{className:"instructors-category-header-left",children:[t.jsx("input",{type:"checkbox","data-category-id":T.id,checked:je,disabled:xe,ref:ve=>{ve&&(ve.indeterminate=_e&&!je)},onChange:()=>it(T.id),className:"instructors-course-checkbox",onClick:ve=>ve.stopPropagation()}),t.jsx("span",{className:`instructors-category-name ${xe?"instructors-category-name-disabled":""}`,children:T.name||`Category ${T.id}`}),t.jsxs("span",{className:`instructors-category-count ${xe?"instructors-category-count-disabled":""}`,children:["(",K.length," ",K.length===1?"course":"courses",")",xe&&" (All Authorized)"]})]}),K.length>0&&t.jsx("button",{type:"button",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),$e(T.id)},className:"instructors-category-expand-btn",children:Ae?t.jsx(Ld,{size:18}):t.jsx(Md,{size:18})})]}),Ae&&K.length>0&&t.jsx("div",{className:"instructors-category-courses",children:K.map(ve=>{var Je,Re;const ze=((Je=y==null?void 0:y.courses)==null?void 0:Je.some(Ie=>{var tt,se;return Ie.id===ve.id&&((tt=Ie.pivot)==null?void 0:tt.acc_id)===parseInt(k.acc_id)&&((se=Ie.pivot)==null?void 0:se.status)==="active"}))||!1;return t.jsxs("div",{className:`instructors-course-item instructors-course-item-nested ${ze?"instructors-course-item-disabled":""}`,onClick:Ie=>Ie.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:((Re=k.course_ids)==null?void 0:Re.includes(ve.id))||!1,onChange:()=>mt(ve.id,T.id),className:"instructors-course-checkbox",onClick:Ie=>Ie.stopPropagation(),disabled:ze}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:`instructors-course-name ${ze?"instructors-course-name-disabled":""}`,children:ve.name||ve.code||`Course ${ve.id}`}),ve.code&&ve.name!==ve.code&&t.jsxs("span",{className:`instructors-course-subcategory ${ze?"instructors-course-subcategory-disabled":""}`,children:["(",ve.code,")"]}),ze&&t.jsx("span",{className:"instructors-course-authorized-badge",children:"Already Authorized"})]})]},ve.id)})})]},T.id)})}),k.course_ids.length>0&&t.jsxs("p",{className:"instructors-course-selected",children:["Selected: ",t.jsx("span",{className:"instructors-course-selected-bold",children:k.course_ids.length})," course(s)"]})]})]}):t.jsx("p",{className:"instructors-request-warning",children:"Please select Category first"}):t.jsx("p",{className:"instructors-request-warning",children:"Please select ACC first"}),F.course_ids&&t.jsx("p",{className:"instructors-error-text",children:F.course_ids})]}),t.jsxs("div",{className:"instructors-request-actions",children:[t.jsx("button",{type:"button",onClick:()=>{g(!1),I({acc_id:"",category_id:"",sub_category_id:"",course_ids:[]}),z(new Set),O({}),N([]),S([]),A([]),w("")},className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:B,className:"instructors-button-submit",children:B?"Submitting...":"Submit Request"})]})]})})]})},kT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[m,p]=f.useState(!1),[u,g]=f.useState(null),[y,_]=f.useState([]),[x,v]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),[C,N]=f.useState(null),[E,S]=f.useState(null),[b,A]=f.useState({}),[j,z]=f.useState(!1),[$,w]=f.useState(null),[R,D]=f.useState(""),[M,P]=f.useState("all"),[k,I]=f.useState({key:null,direction:"asc"});f.useEffect(()=>{F(),O()},[]),f.useEffect(()=>(s("Trainees"),r("Manage your trainees"),e(t.jsxs("button",{onClick:()=>B(),className:"trainees-header-button",children:[t.jsx(Gs,{size:20,className:"trainees-header-button-icon"}),"Add Trainee"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const F=async()=>{o(!0);try{const oe={per_page:1e3,...R&&{search:R}},Z=await Ue.listTrainees(oe);Z!=null&&Z.trainees?n(Z.trainees):Array.isArray(Z)?n(Z):n([])}catch(oe){console.error("Failed to load trainees:",oe),n([])}finally{o(!1)}},O=async()=>{try{const oe=await Ue.listClasses(),Z=(oe==null?void 0:oe.classes)||(oe==null?void 0:oe.data)||[];_(Z)}catch(oe){console.error("Failed to load training classes:",oe),_([])}};f.useEffect(()=>{F()},[R]);const B=(oe=null)=>{var Z;oe?(g(oe),v({first_name:oe.first_name||"",last_name:oe.last_name||"",email:oe.email||"",phone:oe.phone||"",id_number:oe.id_number||"",id_image:null,card_image:null,enrolled_classes:((Z=oe.training_classes)==null?void 0:Z.map(ee=>ee.id))||[],status:oe.status||"active"}),N(oe.id_image_url||null),S(oe.card_image_url||null)):(g(null),v({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),N(null),S(null)),A({}),c(!0)},H=()=>{c(!1),g(null),v({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),N(null),S(null),A({})},U=oe=>{const{name:Z,value:ee}=oe.target;v({...x,[Z]:ee}),A({})},q=(oe,Z=1920,ee=1920,ge=.8)=>new Promise(ne=>{if(oe.type==="application/pdf"){ne(oe);return}const le=new FileReader;le.onload=Y=>{const ie=new Image;ie.onload=()=>{let de=ie.width,he=ie.height;(de>Z||he>ee)&&(de>he?(he=he*Z/de,de=Z):(de=de*ee/he,he=ee));const Pe=document.createElement("canvas");Pe.width=de,Pe.height=he,Pe.getContext("2d").drawImage(ie,0,0,de,he),Pe.toBlob(Ke=>{if(Ke){const ke=new File([Ke],oe.name,{type:oe.type,lastModified:Date.now()});ne(ke)}else ne(oe)},oe.type,ge)},ie.onerror=()=>ne(oe),ie.src=Y.target.result},le.onerror=()=>ne(oe),le.readAsDataURL(oe)}),W=async(oe,Z)=>{const ee=oe.target.files[0];if(ee){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(ee.type)){A({[Z]:"File must be jpeg, jpg, png, or pdf"});return}if(ee.size>10*1024*1024){A({[Z]:"File size must be less than 10MB"});return}w(Z);try{let ne=ee;if(ee.type.startsWith("image/")&&(ne=await q(ee),console.log(`Image resized: ${ee.size} bytes -> ${ne.size} bytes`)),v({...x,[Z]:ne}),Z==="id_image"&&ne.type.startsWith("image/")){const le=new FileReader;le.onloadend=()=>{N(le.result)},le.readAsDataURL(ne)}else if(Z==="card_image"&&ne.type.startsWith("image/")){const le=new FileReader;le.onloadend=()=>{S(le.result)},le.readAsDataURL(ne)}A({})}catch(ne){console.error("Error processing image:",ne),A({[Z]:"Failed to process image. Please try again."})}finally{w(null)}}},G=oe=>{v(Z=>{const ee=Z.enrolled_classes||[];return ee.includes(oe)?{...Z,enrolled_classes:ee.filter(ge=>ge!==oe)}:{...Z,enrolled_classes:[...ee,oe]}})},re=oe=>{oe==="id_image"?(v(Z=>({...Z,id_image:null})),N(null)):oe==="card_image"&&(v(Z=>({...Z,card_image:null})),S(null)),A({})},V=async oe=>{var Z,ee,ge,ne;oe.preventDefault(),console.log(" handleSubmit called - UPDATE mode:",!!u),console.log(" Current formData:",x),z(!0),A({});try{const le=new FormData;if(u){console.log(" Starting UPDATE for trainee ID:",u.id),x.first_name!==void 0&&x.first_name!==null&&x.first_name.trim()&&le.append("first_name",x.first_name.trim()),x.last_name!==void 0&&x.last_name!==null&&x.last_name.trim()&&le.append("last_name",x.last_name.trim()),x.email!==void 0&&x.email!==null&&x.email.trim()&&le.append("email",x.email.trim()),x.phone!==void 0&&x.phone!==null&&x.phone.trim()&&le.append("phone",x.phone.trim()),x.id_number!==void 0&&x.id_number!==null&&x.id_number.trim()&&le.append("id_number",x.id_number.trim()),x.status!==void 0&&x.status!==null&&le.append("status",x.status),x.id_image instanceof File&&le.append("id_image",x.id_image),x.card_image instanceof File&&le.append("card_image",x.card_image),x.enrolled_classes!==void 0&&Array.isArray(x.enrolled_classes)&&x.enrolled_classes.forEach(ie=>{le.append("enrolled_classes[]",ie)}),console.log("========================================"),console.log(" UPDATE Trainee - FormData Contents"),console.log("========================================"),console.log("Trainee ID:",u.id),console.log("FormData entries:"),le.forEach((ie,de)=>{ie instanceof File?console.log(`  ${de}: File - ${ie.name} (${ie.size} bytes, type: ${ie.type})`):console.log(`  ${de}: ${ie}`)});const Y=Array.from(le.entries());console.log("FormData entries array:",Y.map(([ie,de])=>({key:ie,value:de instanceof File?`File: ${de.name}`:de})));try{const ie=Object.fromEntries(le.entries());console.log("FormData as object:",ie)}catch(ie){console.log("Could not convert FormData to object:",ie.message)}console.log("========================================"),await Ue.updateTrainee(u.id,le)}else{console.log(" Starting CREATE new trainee"),le.append("first_name",x.first_name.trim()),le.append("last_name",x.last_name.trim()),le.append("email",x.email.trim()),le.append("phone",x.phone.trim()),le.append("id_number",x.id_number.trim()),le.append("status",x.status),x.id_image instanceof File&&le.append("id_image",x.id_image),x.card_image instanceof File&&le.append("card_image",x.card_image),x.enrolled_classes&&Array.isArray(x.enrolled_classes)&&x.enrolled_classes.forEach(ie=>{le.append("enrolled_classes[]",ie)}),console.log("========================================"),console.log(" CREATE Trainee - FormData Contents"),console.log("========================================"),console.log("FormData entries:"),le.forEach((ie,de)=>{ie instanceof File?console.log(`  ${de}: File - ${ie.name} (${ie.size} bytes, type: ${ie.type})`):console.log(`  ${de}: ${ie}`)});const Y=Array.from(le.entries());console.log("FormData entries array:",Y.map(([ie,de])=>({key:ie,value:de instanceof File?`File: ${de.name}`:de})));try{const ie=Object.fromEntries(le.entries());console.log("FormData as object:",ie)}catch(ie){console.log("Could not convert FormData to object:",ie.message)}console.log("========================================"),await Ue.createTrainee(le)}await F(),H()}catch(le){console.error("Error submitting trainee:",le),(ee=(Z=le.response)==null?void 0:Z.data)!=null&&ee.errors?A(le.response.data.errors):(ne=(ge=le.response)==null?void 0:ge.data)!=null&&ne.message?A({general:le.response.data.message}):A({general:le.message||"Failed to save trainee"})}finally{z(!1)}},L=oe=>{g(oe),d(!0)},Q=async()=>{try{await Ue.deleteTrainee(u.id),await F()}catch(oe){alert("Failed to delete trainee: "+(oe.message||"Unknown error"))}d(!1),g(null)},J=async oe=>{try{const Z=await Ue.getTraineeDetails(oe.id);g(Z.trainee),p(!0)}catch(Z){console.error("Failed to load trainee details:",Z),g(oe),p(!0)}},ue=a.length,te=a.filter(oe=>oe.status==="active").length,pe=a.filter(oe=>oe.status==="inactive").length,ye=a.filter(oe=>oe.status==="suspended").length,Se=f.useMemo(()=>[{header:"Trainee",accessor:"name",sortable:!0,render:(oe,Z)=>t.jsxs("div",{className:"trainees-column-trainee",children:[t.jsx("div",{className:"trainees-column-icon-wrapper",style:{position:"relative"},children:Z.id_image_url?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:Z.id_image_url,alt:`${Z.first_name} ${Z.last_name}`||"Trainee ID Image",className:"trainees-column-icon",width:"40",height:"40",loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"},onError:ee=>{var ne;ee.target.style.display="none";const ge=(ne=ee.target.parentElement)==null?void 0:ne.querySelector(".id-image-fallback");ge&&(ge.style.display="flex")}}),t.jsx("div",{className:"id-image-fallback trainees-column-icon-wrapper",style:{display:"none",position:"absolute",top:0,left:0},children:t.jsx(li,{className:"trainees-column-icon"})})]}):t.jsx(li,{className:"trainees-column-icon"})}),t.jsx("div",{children:t.jsxs("div",{className:"trainees-column-name",children:[Z.first_name," ",Z.last_name]})})]})},{header:"Email",accessor:"email",sortable:!0,render:oe=>t.jsxs("div",{className:"trainees-column-email",children:[t.jsx(Bt,{className:"trainees-column-email-icon"}),oe]})},{header:"Phone",accessor:"phone",sortable:!0,render:oe=>oe?t.jsxs("div",{className:"trainees-column-phone",children:[t.jsx(ta,{className:"trainees-column-phone-icon"}),oe]}):t.jsx("span",{className:"trainees-column-na",children:"N/A"})},{header:"ID Number",accessor:"id_number",sortable:!0,render:oe=>t.jsx("span",{className:"trainees-column-id-number",children:oe||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:oe=>{const Z={active:{icon:Me,class:"trainees-column-status-badge-active"},inactive:{icon:Ge,class:"trainees-column-status-badge-inactive"},suspended:{icon:nt,class:"trainees-column-status-badge-suspended"}},ee=Z[oe]||Z.inactive,ge=ee.icon;return t.jsxs("span",{className:`trainees-column-status-badge ${ee.class}`,children:[t.jsx(ge,{size:14,className:"trainees-column-status-icon"}),oe?oe.charAt(0).toUpperCase()+oe.slice(1):"N/A"]})}},{header:"Classes",accessor:"training_classes",sortable:!1,render:oe=>oe&&oe.length>0?t.jsxs("div",{className:"trainees-column-classes",children:[t.jsx(zs,{size:16,className:"trainees-column-classes-icon"}),t.jsx("span",{className:"trainees-column-classes-count",children:oe.length})]}):t.jsx("span",{className:"trainees-column-na",children:"0"})},{header:"Actions",accessor:"actions",sortable:!1,render:(oe,Z)=>t.jsxs("div",{className:"trainees-column-actions",onClick:ee=>ee.stopPropagation(),children:[t.jsx("button",{onClick:ee=>{ee.stopPropagation(),B(Z)},className:"trainees-action-button trainees-action-button-edit",title:"Edit",children:t.jsx(Rs,{size:16})}),t.jsx("button",{onClick:ee=>{ee.stopPropagation(),L(Z)},className:"trainees-action-button trainees-action-button-delete",title:"Delete",children:t.jsx(Hs,{size:16})})]})}],[]);return i&&a.length===0?t.jsx(Si,{}):t.jsxs("div",{className:"trainees-container",children:[t.jsxs($s,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(Ve,{name:"Total Trainees",value:ue,icon:li,colorType:"indigo",isActive:M==="all",onClick:()=>P("all")}),t.jsx(Ve,{name:"Active",value:te,icon:Me,colorType:"green",isActive:M==="active",onClick:()=>P("active")}),t.jsx(Ve,{name:"Inactive",value:pe,icon:Ge,colorType:"blue",isActive:M==="inactive",onClick:()=>P("inactive")}),t.jsx(Ve,{name:"Suspended",value:ye,icon:nt,colorType:"red",isActive:M==="suspended",onClick:()=>P("suspended")})]}),t.jsx("div",{className:"trainees-table-container",children:t.jsx(pt,{columns:Se,data:a,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name, email, phone, or ID number...",emptyMessage:"No trainees found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:oe=>oe.status==="active"},{value:"inactive",label:"Inactive",filterFn:oe=>oe.status==="inactive"},{value:"suspended",label:"Suspended",filterFn:oe=>oe.status==="suspended"}],defaultFilter:M,onRowClick:oe=>J(oe)})}),t.jsxs(Le,{isOpen:l,onClose:H,title:u?"Edit Trainee":"Add New Trainee",size:"lg",children:[j&&t.jsx("div",{className:"trainees-form-loading-overlay",children:t.jsxs("div",{className:"trainees-form-loading-spinner",children:[t.jsx("div",{className:"trainees-form-spinner"}),t.jsx("p",{className:"trainees-form-loading-text",children:"Saving trainee..."})]})}),t.jsxs("form",{onSubmit:V,className:`trainees-form ${j?"trainees-form-saving":""}`,children:[t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:x.first_name,onChange:U,required:!0,error:b.first_name,disabled:j}),t.jsx(fe,{label:"Last Name",name:"last_name",value:x.last_name,onChange:U,required:!0,error:b.last_name,disabled:j})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"Email",type:"email",name:"email",value:x.email,onChange:U,required:!0,error:b.email,disabled:j}),t.jsx(fe,{label:"Phone",type:"tel",name:"phone",value:x.phone,onChange:U,required:!0,error:b.phone,disabled:j})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"ID Number",name:"id_number",value:x.id_number,onChange:U,required:!0,error:b.id_number,disabled:j}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:x.status,onChange:U,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}],error:b.status,disabled:j})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["ID Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="id_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):C?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:C,alt:"ID Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:oe=>W(oe,"id_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Os,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>re("id_image"),className:"trainees-image-remove-button",disabled:j,children:[t.jsx(_s,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.id_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(hx,{size:14}),x.id_image.name," (",Math.round(x.id_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:oe=>W(oe,"id_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Os,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload ID Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.id_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(nt,{size:16}),Array.isArray(b.id_image)?b.id_image[0]:b.id_image]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["Card Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="card_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):E?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:E,alt:"Card Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:oe=>W(oe,"card_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Os,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>re("card_image"),className:"trainees-image-remove-button",disabled:j,children:[t.jsx(_s,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.card_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(hx,{size:14}),x.card_image.name," (",Math.round(x.card_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:oe=>W(oe,"card_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Os,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload Card Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.card_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(nt,{size:16}),Array.isArray(b.card_image)?b.card_image[0]:b.card_image]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"trainees-classes-label",children:"Enrolled Classes"}),y.length===0?t.jsx("p",{className:"trainees-classes-empty",children:"No training classes available"}):t.jsx("div",{className:"trainees-classes-container",children:y.map(oe=>{var Z,ee;return t.jsxs("label",{className:"trainees-class-item",children:[t.jsx("input",{type:"checkbox",checked:((Z=x.enrolled_classes)==null?void 0:Z.includes(oe.id))||!1,onChange:()=>G(oe.id),className:"trainees-class-checkbox",disabled:j}),t.jsxs("div",{className:"trainees-class-info",children:[t.jsx("span",{className:"trainees-class-name",children:((ee=oe.course)==null?void 0:ee.name)||oe.name||`Class ${oe.id}`}),oe.start_date&&oe.end_date&&t.jsxs("div",{className:"trainees-class-date",children:[t.jsx(ot,{size:12}),new Date(oe.start_date).toLocaleDateString()," - ",new Date(oe.end_date).toLocaleDateString()]})]})]},oe.id)})}),b.enrolled_classes&&t.jsx("p",{className:"trainees-classes-error",children:Array.isArray(b.enrolled_classes)?b.enrolled_classes[0]:b.enrolled_classes})]}),b.general&&t.jsx("div",{className:"trainees-error-box",children:t.jsx("p",{className:"trainees-error-text-bold",children:b.general})}),Object.keys(b).filter(oe=>oe!=="general"&&oe!=="id_image"&&oe!=="card_image"&&oe!=="enrolled_classes").map(oe=>b[oe]&&t.jsxs("p",{className:"trainees-error-text",children:[oe,": ",Array.isArray(b[oe])?b[oe][0]:b[oe]]},oe)),t.jsxs("div",{className:"trainees-form-actions",children:[t.jsx("button",{type:"button",onClick:H,className:"trainees-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"trainees-button-submit",children:j?"Saving...":u?"Update Trainee":"Add Trainee"})]})]})]}),t.jsx(Le,{isOpen:m,onClose:()=>{p(!1),g(null)},title:"Trainee Details",size:"lg",children:u&&t.jsxs("div",{className:"trainees-detail-container",children:[t.jsxs("div",{className:"trainees-detail-grid",children:[t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"First Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.first_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Last Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.last_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Bt,{size:16,className:"trainees-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"trainees-detail-value",children:u.email||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(ta,{size:16,className:"trainees-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"trainees-detail-value",children:u.phone||"N/A"})]}),u.id_number&&t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"ID Number"}),t.jsx("p",{className:"trainees-detail-value",children:u.id_number})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Status"}),t.jsx("span",{className:`trainees-detail-status ${u.status==="active"?"trainees-detail-status-active":u.status==="inactive"?"trainees-detail-status-inactive":"trainees-detail-status-suspended"}`,children:u.status})]})]}),t.jsxs("div",{className:"trainees-detail-images-grid",children:[u.id_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"ID Image"}),t.jsx("a",{href:u.id_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.id_image_url,alt:"ID",className:"trainees-detail-image",loading:"lazy",decoding:"async"})})]}),u.card_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"Card Image"}),t.jsx("a",{href:u.card_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.card_image_url,alt:"Card",className:"trainees-detail-image",loading:"lazy",decoding:"async"})})]})]}),u.training_classes&&u.training_classes.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"trainees-classes-title",children:"Enrolled Classes"}),t.jsx("div",{className:"trainees-classes-list",children:u.training_classes.map((oe,Z)=>{var ee,ge;return t.jsx("div",{className:"trainees-class-detail-item",children:t.jsxs("div",{className:"trainees-class-detail-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"trainees-class-detail-name",children:((ee=oe.course)==null?void 0:ee.name)||oe.name||`Class ${oe.id}`}),oe.start_date&&oe.end_date&&t.jsxs("p",{className:"trainees-class-detail-date",children:[t.jsx(ot,{size:12}),new Date(oe.start_date).toLocaleDateString()," - ",new Date(oe.end_date).toLocaleDateString()]}),oe.instructor&&t.jsxs("p",{className:"trainees-class-detail-instructor",children:["Instructor: ",oe.instructor.first_name," ",oe.instructor.last_name]})]}),((ge=oe.pivot)==null?void 0:ge.status)&&t.jsx("span",{className:`trainees-class-detail-status ${oe.pivot.status==="enrolled"?"trainees-class-detail-status-enrolled":oe.pivot.status==="completed"?"trainees-class-detail-status-completed":oe.pivot.status==="dropped"?"trainees-class-detail-status-dropped":"trainees-class-detail-status-other"}`,children:oe.pivot.status})]})},Z)})})]})]})}),t.jsx(ja,{isOpen:h,onClose:()=>{d(!1),g(null)},onConfirm:Q,title:"Delete Trainee",message:`Are you sure you want to delete "${u==null?void 0:u.first_name} ${u==null?void 0:u.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},PT=()=>{var X,ae,me,je,_e,Ae,xe,we,ve,ze,Je,Re,Ie,tt;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState(!1),[m,p]=f.useState(!0),[u,g]=f.useState(null),[y,_]=f.useState([]),[x,v]=f.useState(!1),[C,N]=f.useState(!1),[E,S]=f.useState(!1),[b,A]=f.useState(!1),[j,z]=f.useState(null),[$,w]=f.useState(null),[R,D]=f.useState([]),[M,P]=f.useState([]),[k,I]=f.useState([]),[F,O]=f.useState(!1),[B,H]=f.useState(!1),[U,q]=f.useState(!1),[W,G]=f.useState([]),[re,V]=f.useState(!1),[L,Q]=f.useState(""),[J,ue]=f.useState([]),[te,pe]=f.useState({acc_id:"",category_id:"",sub_category_id:"",course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),[ye,Se]=f.useState({}),[oe,Z]=f.useState(!1),[ee,ge]=f.useState("all");f.useEffect(()=>{ne()},[]),f.useEffect(()=>{x&&(Y(),Pe(),_(i),g(null))},[x,i]),f.useEffect(()=>{te.acc_id&&x?ie(te.acc_id):te.acc_id||(P([]),I([]),c([]),pe(se=>({...se,category_id:"",sub_category_id:"",course_id:""})))},[te.acc_id,x]),f.useEffect(()=>{te.category_id&&x?de(te.category_id):te.category_id||(I([]),c([]),pe(se=>({...se,sub_category_id:"",course_id:""})))},[te.category_id,x]),f.useEffect(()=>{te.sub_category_id&&te.acc_id&&x?he(te.acc_id,te.sub_category_id):te.sub_category_id||(c([]),pe(se=>({...se,course_id:""})))},[te.sub_category_id,te.acc_id,x]),f.useEffect(()=>{te.course_id&&x&&l.length>0?le(te.course_id):te.course_id||(g(null),_(i))},[te.course_id,x,l,i]),f.useEffect(()=>(s("Classes"),r("Manage your training classes"),e(t.jsxs("button",{onClick:()=>Te(),className:"header-create-btn",children:[t.jsx(Gs,{size:20,className:"header-create-btn-icon"}),"Create Class"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const ne=async()=>{p(!0);try{const[se,Ne]=await Promise.all([Ue.listClasses({per_page:1e3}),Ue.listInstructors()]);let Fe=[];se!=null&&se.data?Fe=Array.isArray(se.data)?se.data:[]:se!=null&&se.classes?Fe=Array.isArray(se.classes)?se.classes:[]:Array.isArray(se)&&(Fe=se),n(Fe),o((Ne==null?void 0:Ne.instructors)||(Ne==null?void 0:Ne.data)||[])}catch(se){console.error("Failed to load data:",se),n([]),o([])}finally{p(!1)}},le=async se=>{try{const Ne=l.find(Fe=>Fe.id===parseInt(se));if(Ne)if(g(Ne),Ne.assessor_required){const Fe=i.filter(gt=>gt.is_assessor===!0);if(_(Fe),te.instructor_id){const gt=i.find(rt=>rt.id===parseInt(te.instructor_id));gt&&!gt.is_assessor&&pe(rt=>({...rt,instructor_id:""}))}}else _(i);else try{const Fe=localStorage.getItem("auth_token")||localStorage.getItem("token"),rt=await kt.get(`https://aeroenix.com/v1/api/acc/courses/${se}`,{headers:{Authorization:`Bearer ${Fe}`,Accept:"application/json"}}),ut=rt.data.course||rt.data;if(g(ut),ut.assessor_required){const gs=i.filter(Ir=>Ir.is_assessor===!0);if(_(gs),te.instructor_id){const Ir=i.find(os=>os.id===parseInt(te.instructor_id));Ir&&!Ir.is_assessor&&pe(os=>({...os,instructor_id:""}))}}else _(i)}catch(Fe){console.error("Failed to load course details:",Fe),g(null),_(i)}}catch(Ne){console.error("Error loading course details:",Ne),g(null),_(i)}},Y=async()=>{try{const se=await Ue.getAuthorizationStatus();console.log("Authorization data:",se);const Ne=se.authorizations||se.data||[];console.log("All authorizations:",Ne);const Fe=Ne.filter(rt=>{var gs;const ut=(gs=rt.status)==null?void 0:gs.toLowerCase();return ut==="approved"||ut==="active"||ut==="accepted"||rt.status&&rt.status!=="pending"&&rt.status!=="rejected"&&rt.status!=="cancelled"});if(console.log("Approved authorizations:",Fe),Fe.length===0){console.log("No approved authorizations found."),d(!1),D([]);return}d(!0);const gt=Fe.map(rt=>{var ut,gs;return{id:rt.acc_id||((ut=rt.acc)==null?void 0:ut.id)||rt.id,name:((gs=rt.acc)==null?void 0:gs.name)||rt.acc_name||rt.name||"Unknown ACC",...rt.acc||{}}}).filter(rt=>rt.id);D(gt),console.log(`Loaded ${gt.length} authorized ACC(s)`)}catch(se){console.error("Failed to load ACCs:",se),D([]),d(!1)}},ie=async se=>{try{O(!0),console.log(`Loading categories for ACC ${se}`);const Ne=await Ue.getCategoriesForACC(se),Fe=Ne.categories||Ne.data||Ne||[];P(Fe),console.log(`Loaded ${Fe.length} categories for ACC ${se}`)}catch(Ne){console.error("Failed to load categories:",Ne),P([])}finally{O(!1)}},de=async se=>{try{H(!0),console.log(`Loading sub-categories for category ${se}`);const Ne=await Ue.getSubCategoriesForCategory(se),Fe=Ne.sub_categories||Ne.data||Ne||[];I(Fe),console.log(`Loaded ${Fe.length} sub-categories for category ${se}`)}catch(Ne){console.error("Failed to load sub-categories:",Ne),I([])}finally{H(!1)}},he=async(se,Ne)=>{try{q(!0),console.log(`Loading courses for ACC ${se} and sub-category ${Ne}`);const Fe=await Ue.getCoursesForACC(se,{sub_category_id:Ne}),gt=Fe.courses||Fe.data||Fe||[];c(gt),console.log(`Loaded ${gt.length} courses for sub-category ${Ne}`)}catch(Fe){console.error("Failed to load courses:",Fe),c([])}finally{q(!1)}},Pe=async()=>{try{V(!0);const se=await Ue.listTrainees({per_page:1e3}),Ne=se.trainees||se.data||se||[];G(Ne),console.log(`Loaded ${Ne.length} trainees`)}catch(se){console.error("Failed to load trainees:",se),G([])}finally{V(!1)}},Te=(se=null)=>{var Ne,Fe,gt;se?(z(se),pe({acc_id:se.acc_id||((Ne=se.course)==null?void 0:Ne.acc_id)||"",category_id:se.category_id||((Fe=se.course)==null?void 0:Fe.category_id)||"",sub_category_id:se.sub_category_id||((gt=se.course)==null?void 0:gt.sub_category_id)||"",course_id:se.course_id||"",class_id:se.class_id||"",instructor_id:se.instructor_id||"",start_date:se.start_date?se.start_date.split("T")[0]:"",end_date:se.end_date?se.end_date.split("T")[0]:"",exam_date:se.exam_date?se.exam_date.split("T")[0]:"",exam_score:se.exam_score||"",location:se.location||"physical"}),se.trainees&&Array.isArray(se.trainees)?ue(se.trainees.map(rt=>rt.id||rt.trainee_id).filter(Boolean)):ue([])):(z(null),pe({acc_id:"",category_id:"",sub_category_id:"",course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),ue([])),P([]),I([]),c([]),g(null),_(i),Q(""),Se({}),v(!0)},Ke=()=>{v(!1),z(null),pe({acc_id:"",category_id:"",sub_category_id:"",course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),P([]),I([]),c([]),ue([]),Q(""),Se({})},ke=se=>{const{name:Ne,value:Fe}=se.target;Ne==="acc_id"?(pe({...te,acc_id:Fe,category_id:"",sub_category_id:"",course_id:"",instructor_id:""}),P([]),I([]),c([])):Ne==="category_id"?(pe({...te,category_id:Fe,sub_category_id:"",course_id:"",instructor_id:""}),I([]),c([])):Ne==="sub_category_id"?(pe({...te,sub_category_id:Fe,course_id:"",instructor_id:""}),c([])):pe(Ne==="course_id"?{...te,course_id:Fe,instructor_id:""}:{...te,[Ne]:Fe}),Se({})},$e=async se=>{var Ne,Fe,gt,rt,ut,gs,Ir;se.preventDefault(),Z(!0),Se({});try{if(!j){if(!te.acc_id){Se({acc_id:"ACC is required"}),Z(!1);return}if(!te.category_id){Se({category_id:"Category is required"}),Z(!1);return}if(!te.sub_category_id){Se({sub_category_id:"Sub-Category is required"}),Z(!1);return}if(!te.course_id){Se({course_id:"Course is required"}),Z(!1);return}}if(!te.class_id){Se({class_id:"Class ID is required"}),Z(!1);return}if(!te.instructor_id){Se({instructor_id:"Instructor is required"}),Z(!1);return}if(!te.start_date){Se({start_date:"Start date is required"}),Z(!1);return}if(!te.end_date){Se({end_date:"End date is required"}),Z(!1);return}const os=j?te.course_id||j.course_id:te.course_id,Cl={course_id:parseInt(os),class_id:parseInt(te.class_id),instructor_id:parseInt(te.instructor_id),start_date:te.start_date,end_date:te.end_date,exam_date:te.exam_date||null,exam_score:te.exam_score?parseFloat(te.exam_score):null,location:te.location};J.length>0&&(Cl.trainee_ids=J),console.log("Submitting class data:",Cl),j?await Ue.updateClass(j.id,Cl):await Ue.createClass(Cl),await ne(),Ke()}catch(os){console.error("Error creating/updating class:",os),console.error("Error response:",(Ne=os.response)==null?void 0:Ne.data),(gt=(Fe=os.response)==null?void 0:Fe.data)!=null&&gt.errors?Se(os.response.data.errors):(ut=(rt=os.response)==null?void 0:rt.data)!=null&&ut.message?Se({general:os.response.data.message}):(Ir=(gs=os.response)==null?void 0:gs.data)!=null&&Ir.error?Se({general:os.response.data.error}):os.errors?Se(os.errors):Se({general:os.message||"Failed to save class. Please check all required fields."})}finally{Z(!1)}},it=se=>{z(se),N(!0)},mt=async()=>{try{await Ue.deleteClass(j.id),await ne()}catch(se){alert("Failed to delete class: "+(se.message||"Unknown error"))}N(!1),z(null)},At=async se=>{try{const Ne=await Ue.getClassDetails(se.id),Fe=Ne.class||Ne.data||Ne;Fe&&!Fe.trainees&&Ne.trainees&&(Fe.trainees=Ne.trainees),Fe&&!Fe.trainees&&se.trainees&&(Fe.trainees=se.trainees),z(Fe),S(!0)}catch(Ne){console.error("Failed to load class details:",Ne),z(se),S(!0)}},Mt=async se=>{if(window.confirm("Mark this class as complete?"))try{await Ue.markClassComplete(se.id),await ne()}catch(Ne){alert("Failed to mark class as complete: "+(Ne.message||"Unknown error"))}},Jt=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(se,Ne)=>{var gt;const Fe=typeof Ne.course=="string"?Ne.course:((gt=Ne.course)==null?void 0:gt.name)||"N/A";return t.jsxs("div",{className:"course-container",children:[t.jsx("div",{className:"course-icon-container",children:t.jsx(Ns,{className:"course-icon"})}),t.jsxs("div",{children:[t.jsx("div",{className:"course-name",children:Fe}),Ne.class_id&&t.jsxs("div",{className:"course-id",children:["ID: ",Ne.class_id]})]})]})}},{header:"Instructor",accessor:"instructor",sortable:!0,render:(se,Ne)=>{var gt,rt;const Fe=typeof Ne.instructor=="string"?Ne.instructor:(gt=Ne.instructor)!=null&&gt.first_name&&((rt=Ne.instructor)!=null&&rt.last_name)?`${Ne.instructor.first_name} ${Ne.instructor.last_name}`:"N/A";return t.jsxs("div",{className:"instructor-container",children:[t.jsx(ft,{className:"instructor-icon"}),Fe]})}},{header:"Start Date",accessor:"start_date",sortable:!0,render:(se,Ne)=>t.jsxs("div",{className:"date-container",children:[t.jsx(ot,{className:"date-icon"}),Ne.start_date?new Date(Ne.start_date).toLocaleDateString():"N/A"]})},{header:"End Date",accessor:"end_date",sortable:!0,render:(se,Ne)=>t.jsxs("div",{className:"date-container",children:[t.jsx(ot,{className:"date-icon"}),Ne.end_date?new Date(Ne.end_date).toLocaleDateString():"N/A"]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:se=>t.jsxs("div",{className:"date-container",children:[t.jsx(ot,{className:"date-icon",style:{color:"#9333ea"}}),se?new Date(se).toLocaleDateString():"Not set"]})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:se=>t.jsx("div",{className:"text-sm",children:se!=null?t.jsxs("span",{className:"font-semibold text-indigo-600",children:[parseFloat(se).toFixed(2),"%"]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Status",accessor:"status",sortable:!0,render:(se,Ne)=>{const rt=({scheduled:{bg:"from-blue-100 to-blue-200",text:"text-blue-800",border:"border-blue-300",icon:Ge},completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:nt}}[Ne.status]||{icon:Ge}).icon,ut=Ne.status==="scheduled"?"scheduled":Ne.status==="completed"?"completed":Ne.status==="cancelled"?"cancelled":"default";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${ut}`,children:[t.jsx(rt,{size:14,className:"status-icon"}),Ne.status?Ne.status.charAt(0).toUpperCase()+Ne.status.slice(1):"N/A"]})})}},{header:"Enrollment",accessor:"enrollment",sortable:!1,render:(se,Ne)=>{var rt;const Fe=Ne.trainees&&Array.isArray(Ne.trainees)&&Ne.trainees.length>0,gt=ut=>{ut.stopPropagation(),ut.preventDefault(),ut.nativeEvent.stopImmediatePropagation(),Fe&&(w(Ne),A(!0))};return t.jsxs("div",{className:`enrollment-container ${Fe?"enrollment-clickable":""}`,onClick:gt,onMouseDown:ut=>{ut.stopPropagation(),ut.nativeEvent.stopImmediatePropagation()},onMouseUp:ut=>{ut.stopPropagation(),ut.nativeEvent.stopImmediatePropagation()},role:Fe?"button":void 0,tabIndex:Fe?0:void 0,onKeyDown:ut=>{Fe&&(ut.key==="Enter"||ut.key===" ")&&(ut.preventDefault(),ut.stopPropagation(),gt(ut))},children:[Ne.enrolled_count||0," / ",((rt=Ne.course)==null?void 0:rt.max_capacity)||"N/A"]})}}],[]),fs=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:se=>se.status==="scheduled"},{value:"completed",label:"Completed",filterFn:se=>se.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:se=>se.status==="cancelled"}],[]),is=f.useMemo(()=>a.map(se=>{var rt,ut,gs;const Ne=typeof se.course=="string"?se.course:((rt=se.course)==null?void 0:rt.name)||"",Fe=typeof se.instructor=="string"?se.instructor:(ut=se.instructor)!=null&&ut.first_name&&((gs=se.instructor)!=null&&gs.last_name)?`${se.instructor.first_name} ${se.instructor.last_name}`:"",gt=[Ne,Fe,se.class_id||"",se.status||"",se.location||""].filter(Boolean).join(" ").toLowerCase();return{...se,_searchText:gt}}),[a]),hs=a.length,We=a.filter(se=>se.status==="scheduled").length,T=a.filter(se=>se.status==="completed").length;a.filter(se=>se.status==="cancelled").length;const K=f.useMemo(()=>{if(!L.trim())return W;const se=L.toLowerCase().trim();return W.filter(Ne=>{const Fe=`${Ne.first_name||""} ${Ne.last_name||""}`.toLowerCase(),gt=(Ne.email||"").toLowerCase(),rt=(Ne.id_number||"").toLowerCase(),ut=String(Ne.id||"").toLowerCase();return Fe.includes(se)||gt.includes(se)||rt.includes(se)||ut.includes(se)})},[W,L]);return m?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})}):t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"stats-cards-grid",children:[t.jsx(Ve,{name:"Total Classes",value:hs,icon:Ns,colorType:"indigo",isActive:ee==="all",onClick:()=>ge("all")}),t.jsx(Ve,{name:"Scheduled",value:We,icon:ot,colorType:"blue",isActive:ee==="scheduled",onClick:()=>ge("scheduled")}),t.jsx(Ve,{name:"Completed",value:T,icon:Me,colorType:"green",isActive:ee==="completed",onClick:()=>ge("completed")})]}),t.jsx("div",{className:"datatable-container",children:t.jsx(pt,{columns:Jt,data:is,onEdit:Te,onDelete:it,onView:At,onRowClick:At,isLoading:m,emptyMessage:a.length===0&&!m?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ns,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Create your first class to get started!"})]}):"No classes found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by course or instructor...",filterOptions:fs,sortable:!0,defaultFilter:ee})}),t.jsx(Le,{isOpen:x,onClose:Ke,title:j?"Edit Class":"Create New Class",size:"lg",children:t.jsxs("form",{onSubmit:$e,className:"modal-form",children:[!j&&t.jsxs(t.Fragment,{children:[t.jsx(fe,{label:"ACC",name:"acc_id",type:"select",value:te.acc_id,onChange:ke,required:!0,error:ye.acc_id,options:[{value:"",label:"Select an ACC..."},...R.map(se=>({value:se.id,label:se.name||`ACC ${se.id}`}))]}),R.length===0&&!m&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No ACCs available"}),t.jsx("p",{className:"form-warning-text",children:"Please ensure you have authorization from at least one ACC. Authorized ACCs will appear here."})]}),t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:te.category_id,onChange:ke,required:!0,disabled:!te.acc_id||F,error:ye.category_id,options:[{value:"",label:te.acc_id?F?"Loading categories...":"Select a category...":"Please select ACC first"},...M.filter(se=>se.id!=null&&se.id!=="").map(se=>({value:se.id,label:se.name||se.name_ar||`Category ${se.id}`}))]}),t.jsx(fe,{label:"Sub-Category",name:"sub_category_id",type:"select",value:te.sub_category_id,onChange:ke,required:!0,disabled:!te.acc_id||!te.category_id||B,error:ye.sub_category_id,options:[{value:"",label:te.acc_id?te.category_id?B?"Loading sub-categories...":"Select a sub-category...":"Please select Category first":"Please select ACC first"},...k.filter(se=>se.id!=null&&se.id!=="").map(se=>({value:se.id,label:se.name||se.name_ar||`Sub-Category ${se.id}`}))]}),t.jsxs("div",{children:[t.jsx(fe,{label:"Course",name:"course_id",type:"select",value:te.course_id,onChange:ke,required:!0,disabled:!te.acc_id||!te.category_id||!te.sub_category_id||U,error:ye.course_id,options:[{value:"",label:te.acc_id?te.category_id?te.sub_category_id?U?"Loading courses...":"Select a course...":"Please select Sub-Category first":"Please select Category first":"Please select ACC first"},...l.map(se=>{const Ne=se.name||se.code||`Course ${se.id}`;return{value:se.id,label:Ne}})]}),l.length===0&&!U&&te.sub_category_id&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No courses available"}),t.jsx("p",{className:"form-warning-text",children:"No courses found for the selected sub-category. Please select a different sub-category."})]})]})]}),t.jsx(fe,{label:"Class ID",name:"class_id",type:"number",value:te.class_id,onChange:ke,required:!0,disabled:!!j,placeholder:"Enter class ID",error:ye.class_id}),t.jsxs("div",{children:[t.jsx(fe,{label:"Instructor",name:"instructor_id",type:"select",value:te.instructor_id,onChange:ke,required:!0,error:ye.instructor_id,options:[{value:"",label:"Select an instructor..."},...y.length>0?y.map(se=>({value:se.id,label:`${se.first_name} ${se.last_name}${se.is_assessor?" (Assessor)":""}`})):[{value:"",label:"No instructors available",disabled:!0}]]}),(u==null?void 0:u.assessor_required)&&y.length===0&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:" This course requires an assessor, but no assessors are available."}),t.jsx("p",{className:"form-warning-text",children:"Please mark at least one instructor as an assessor before creating this class."})]}),(u==null?void 0:u.assessor_required)&&y.length>0&&t.jsx("p",{className:"form-info",children:" This course requires an assessor. Only assessors are shown."})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(fe,{label:"Start Date",name:"start_date",type:"date",value:te.start_date,onChange:ke,required:!0,error:ye.start_date}),t.jsx(fe,{label:"End Date",name:"end_date",type:"date",value:te.end_date,onChange:ke,required:!0,error:ye.end_date})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(fe,{label:"Exam Date (Optional)",name:"exam_date",type:"date",value:te.exam_date,onChange:ke,error:ye.exam_date,helpText:"Date when the exam is scheduled (must be after or equal to start date)"}),t.jsx(fe,{label:"Exam Score (Optional)",name:"exam_score",type:"number",value:te.exam_score,onChange:ke,error:ye.exam_score,helpText:"Exam score (0-100)",min:"0",max:"100",step:"0.01"})]}),t.jsx(fe,{label:"Location",name:"location",type:"select",value:te.location,onChange:ke,required:!0,error:ye.location,options:[{value:"physical",label:"Physical"},{value:"online",label:"Online"},{value:"hybrid",label:"Hybrid"}]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Trainees (Optional)"}),t.jsxs("div",{className:"trainees-selection-container",children:[t.jsxs("div",{className:"trainees-search-container",children:[t.jsx(vi,{size:18,className:"trainees-search-icon"}),t.jsx("input",{type:"text",placeholder:"Search trainees by name, email, or ID...",value:L,onChange:se=>Q(se.target.value),className:"trainees-search-input"}),L&&t.jsx("button",{type:"button",onClick:()=>Q(""),className:"trainees-search-clear",children:t.jsx(_s,{size:16})})]}),J.length>0&&t.jsxs("div",{className:"trainees-selected-count",children:[t.jsx(ft,{size:16}),t.jsxs("span",{children:[J.length," trainee",J.length!==1?"s":""," selected"]})]}),t.jsx("div",{className:"trainees-list-container",children:re?t.jsxs("div",{className:"trainees-loading",children:[t.jsx("div",{className:"loading-spinner-small"}),t.jsx("span",{children:"Loading trainees..."})]}):K.length===0?t.jsxs("div",{className:"trainees-empty",children:[t.jsx(ft,{size:24,className:"trainees-empty-icon"}),t.jsx("p",{className:"trainees-empty-text",children:L?"No trainees found matching your search.":"No trainees available."})]}):t.jsx("div",{className:"trainees-list",children:K.map(se=>{const Ne=J.includes(se.id);return t.jsxs("div",{className:`trainee-item ${Ne?"selected":""}`,onClick:()=>{ue(Ne?J.filter(Fe=>Fe!==se.id):[...J,se.id])},children:[t.jsx("div",{className:"trainee-checkbox",children:t.jsx("input",{type:"checkbox",checked:Ne,onChange:()=>{},onClick:Fe=>Fe.stopPropagation()})}),t.jsxs("div",{className:"trainee-info",children:[t.jsxs("div",{className:"trainee-name",children:[se.first_name," ",se.last_name]}),t.jsxs("div",{className:"trainee-details",children:[se.email&&t.jsxs("span",{className:"trainee-detail-item",children:[t.jsx(Bt,{size:12}),se.email]}),se.id_number&&t.jsxs("span",{className:"trainee-detail-item",children:[t.jsx(gn,{size:12}),se.id_number]})]})]})]},se.id)})})})]})]}),ye.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:ye.general})}),Object.keys(ye).filter(se=>se!=="general").length>0&&t.jsxs("div",{className:"form-error-general",children:[t.jsx("p",{className:"form-error-general-text",children:"Please fix the following errors:"}),t.jsx("ul",{className:"form-error-list",children:Object.entries(ye).filter(([se])=>se!=="general").map(([se,Ne])=>t.jsx("li",{children:Array.isArray(Ne)?Ne.join(", "):Ne},se))})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:Ke,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:oe,className:"form-btn form-btn-submit",children:oe?"Saving...":j?"Update Class":"Create Class"})]})]})}),t.jsx(Le,{isOpen:E,onClose:()=>{S(!1),z(null)},title:"Class Details",size:"lg",children:j&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Class ID"}),t.jsx("p",{className:"detail-modal-value",children:j.class_id||j.id||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${j.status==="completed"?"completed":j.status==="scheduled"?"scheduled":j.status==="cancelled"?"cancelled":"default"}`,children:j.status?j.status.charAt(0).toUpperCase()+j.status.slice(1):"N/A"})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Course Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:typeof j.course=="string"?j.course:((X=j.course)==null?void 0:X.name)||"N/A"})]}),((ae=j.course)==null?void 0:ae.code)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Code"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.code})]}),((me=j.course)==null?void 0:me.max_capacity)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Max Capacity"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.max_capacity})]}),((je=j.course)==null?void 0:je.duration)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Duration"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.duration})]}),((_e=j.course)==null?void 0:_e.description)&&t.jsxs("div",{className:"detail-modal-section-item detail-modal-section-full",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Description"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.description})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-purple",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-purple",children:"Instructor Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:typeof j.instructor=="string"?j.instructor:(Ae=j.instructor)!=null&&Ae.first_name&&((xe=j.instructor)!=null&&xe.last_name)?`${j.instructor.first_name} ${j.instructor.last_name}`:"N/A"})]}),((we=j.instructor)==null?void 0:we.email)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Email"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:j.instructor.email})]}),((ve=j.instructor)==null?void 0:ve.phone)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Phone"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:j.instructor.phone})]}),((ze=j.instructor)==null?void 0:ze.is_assessor)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Role"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:"Assessor"})]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Start Date"}),t.jsx("p",{className:"detail-modal-value",children:j.start_date?new Date(j.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),j.start_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(j.start_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"End Date"}),t.jsx("p",{className:"detail-modal-value",children:j.end_date?new Date(j.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),j.end_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(j.end_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),j.exam_date&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#9333ea"},children:"Exam Date"}),t.jsx("p",{className:"detail-modal-value",style:{color:"#7e22ce"},children:new Date(j.exam_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),j.exam_score!==null&&j.exam_score!==void 0&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"detail-modal-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(j.exam_score).toFixed(2),"%"]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Location"}),t.jsx("p",{className:"detail-modal-value",children:j.location?j.location.charAt(0).toUpperCase()+j.location.slice(1):"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Enrollment"}),t.jsxs("p",{className:"detail-modal-value",children:[j.enrolled_count||0," / ",((Je=j.course)==null?void 0:Je.max_capacity)||"N/A"]}),((Re=j.course)==null?void 0:Re.max_capacity)&&t.jsxs("div",{className:"detail-modal-progress-container",children:[t.jsx("div",{className:"detail-modal-progress-bar",children:t.jsx("div",{className:"detail-modal-progress-fill",style:{width:`${Math.min((j.enrolled_count||0)/j.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"detail-modal-progress-text",children:[Math.round((j.enrolled_count||0)/j.course.max_capacity*100),"% full"]})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Enrolled Trainees"}),j.trainees&&Array.isArray(j.trainees)&&j.trainees.length>0?t.jsx("div",{className:"detail-modal-trainees-list",children:j.trainees.map((se,Ne)=>t.jsx("div",{className:"detail-modal-trainee-item",children:t.jsxs("div",{className:"detail-modal-trainee-content",children:[t.jsxs("div",{className:"detail-modal-trainee-name",children:[t.jsx(ft,{size:16,className:"detail-modal-trainee-icon"}),t.jsxs("span",{children:[se.first_name," ",se.last_name]})]}),t.jsxs("div",{className:"detail-modal-trainee-id",children:[t.jsx(gn,{size:14,className:"detail-modal-trainee-id-icon"}),t.jsx("span",{children:se.id_number||se.id||"N/A"})]})]})},se.id||Ne))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ft,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]}),(j.created_at||j.updated_at||j.notes)&&t.jsxs("div",{className:"detail-modal-section detail-modal-section-yellow",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-yellow",children:"Additional Information"}),t.jsxs("div",{className:"detail-modal-additional-list",children:[j.created_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Created At"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(j.created_at).toLocaleString("en-US")})]}),j.updated_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Last Updated"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(j.updated_at).toLocaleString("en-US")})]}),j.notes&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Notes"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:j.notes})]})]})]}),j.status!=="completed"&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>{Mt(j),S(!1)},className:"detail-modal-action-btn",children:[t.jsx(Me,{size:20,className:"detail-modal-action-icon"}),"Mark as Complete"]})})]})}),t.jsx(Le,{isOpen:b,onClose:()=>{A(!1),w(null)},title:"Enrolled Trainees",size:"lg",children:$&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Class Information"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Ie=$.course)==null?void 0:Ie.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrollment: ",$.enrolled_count||0," / ",((tt=$.course)==null?void 0:tt.max_capacity)||"N/A"]})]}),$.trainees&&$.trainees.length>0?t.jsx("div",{className:"space-y-3",children:$.trainees.map((se,Ne)=>t.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ft,{size:14,className:"mr-1"}),"Name"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[se.first_name," ",se.last_name]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Bt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:se.email||"N/A"})]}),se.phone&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ta,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:se.phone})]}),se.id_number&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(gn,{size:14,className:"mr-1"}),"ID Number"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:se.id_number})]}),se.enrolled_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ot,{size:14,className:"mr-1"}),"Enrolled At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(se.enrolled_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),se.completed_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Me,{size:14,className:"mr-1"}),"Completed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(se.completed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${se.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":se.status==="enrolled"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[se.status==="completed"&&t.jsx(Me,{size:12,className:"mr-1"}),se.status?se.status.charAt(0).toUpperCase()+se.status.slice(1):"N/A"]})]})]})},se.id||Ne))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ft,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]})}),t.jsx(ja,{isOpen:C,onClose:()=>{N(!1),z(null)},onConfirm:mt,title:"Delete Class",message:"Are you sure you want to delete this class? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})};function ET(e,s){return s.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(a){if(a!=="default"&&!(a in e)){var n=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(e,a,n.get?n:{enumerable:!0,get:function(){return r[a]}})}})}),Object.freeze(e)}function n1(e,s){return new Promise(function(r,a){let n;return TT(e).then(function(i){try{return n=i,r(new Blob([s.slice(0,2),n,s.slice(2)],{type:"image/jpeg"}))}catch(o){return a(o)}},a)})}const TT=e=>new Promise((s,r)=>{const a=new FileReader;a.addEventListener("load",({target:{result:n}})=>{const i=new DataView(n);let o=0;if(i.getUint16(o)!==65496)return r("not a valid JPEG");for(o+=2;;){const l=i.getUint16(o);if(l===65498)break;const c=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){const h=o+10;let d;switch(i.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(h+2,d)!==42)return r("TIFF header contains invalid version");const m=i.getUint32(h+4,d),p=h+m+2+12*i.getUint16(h+m,d);for(let u=h+m+2;u<p;u+=12)if(i.getUint16(u,d)==274){if(i.getUint16(u+2,d)!==3)return r("Orientation data type is invalid");if(i.getUint32(u+4,d)!==1)return r("Orientation data count is invalid");i.setUint16(u+8,1,d);break}return s(n.slice(o,o+2+c))}o+=2+c}return s(new Blob)}),a.readAsArrayBuffer(e)});var dd={},zT={get exports(){return dd},set exports(e){dd=e}};(function(e){var s,r,a={};zT.exports=a,a.parse=function(n,i){for(var o=a.bin.readUshort,l=a.bin.readUint,c=0,h={},d=new Uint8Array(n),m=d.length-4;l(d,m)!=101010256;)m--;c=m,c+=4;var p=o(d,c+=4);o(d,c+=2);var u=l(d,c+=2),g=l(d,c+=4);c+=4,c=g;for(var y=0;y<p;y++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),u=l(d,c+=4);var _=l(d,c+=4),x=o(d,c+=4),v=o(d,c+2),C=o(d,c+4);c+=6;var N=l(d,c+=8);c+=4,c+=x+v+C,a._readLocal(d,N,h,u,_,i)}return h},a._readLocal=function(n,i,o,l,c,h){var d=a.bin.readUshort,m=a.bin.readUint;m(n,i),d(n,i+=4),d(n,i+=2);var p=d(n,i+=2);m(n,i+=2),m(n,i+=4),i+=4;var u=d(n,i+=8),g=d(n,i+=2);i+=2;var y=a.bin.readUTF8(n,i,u);if(i+=u,i+=g,h)o[y]={size:c,csize:l};else{var _=new Uint8Array(n.buffer,i);if(p==0)o[y]=new Uint8Array(_.buffer.slice(i,i+l));else{if(p!=8)throw"unknown compression method: "+p;var x=new Uint8Array(c);a.inflateRaw(_,x),o[y]=x}}},a.inflateRaw=function(n,i){return a.F.inflate(n,i)},a.inflate=function(n,i){return n[0],n[1],a.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),i)},a.deflate=function(n,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*n.length));l[o]=120,l[o+1]=156,o+=2,o=a.F.deflateRaw(n,l,o,i.level);var c=a.adler(n,0,n.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},a.deflateRaw=function(n,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*n.length)),l=a.F.deflateRaw(n,o,l,i.level);return new Uint8Array(o.buffer,0,l)},a.encode=function(n,i){i==null&&(i=!1);var o=0,l=a.bin.writeUint,c=a.bin.writeUshort,h={};for(var d in n){var m=!a._noNeed(d)&&!i,p=n[d],u=a.crc.crc(p,0,p.length);h[d]={cpr:m,usize:p.length,crc:u,file:m?a.deflateRaw(p):p}}for(var d in h)o+=h[d].file.length+30+46+2*a.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),y=0,_=[];for(var d in h){var x=h[d];_.push(y),y=a._writeHeader(g,y,d,x,0)}var v=0,C=y;for(var d in h)x=h[d],_.push(y),y=a._writeHeader(g,y,d,x,1,_[v++]);var N=y-C;return l(g,y,101010256),y+=4,c(g,y+=4,v),c(g,y+=2,v),l(g,y+=2,N),l(g,y+=4,C),y+=4,y+=2,g.buffer},a._noNeed=function(n){var i=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},a._writeHeader=function(n,i,o,l,c,h){var d=a.bin.writeUint,m=a.bin.writeUshort,p=l.file;return d(n,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),m(n,i,20),m(n,i+=2,0),m(n,i+=2,l.cpr?8:0),d(n,i+=2,0),d(n,i+=4,l.crc),d(n,i+=4,p.length),d(n,i+=4,l.usize),m(n,i+=4,a.bin.sizeUTF8(o)),m(n,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(n,i+=6,h),i+=4),i+=a.bin.writeUTF8(n,i,o),c==0&&(n.set(p,i),i+=p.length),i},a.crc={table:function(){for(var n=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;n[i]=o}return n}(),update:function(n,i,o,l){for(var c=0;c<l;c++)n=a.crc.table[255&(n^i[o+c])]^n>>>8;return n},crc:function(n,i,o){return 4294967295^a.crc.update(4294967295,n,i,o)}},a.adler=function(n,i,o){for(var l=1,c=0,h=i,d=i+o;h<d;){for(var m=Math.min(h+5552,d);h<m;)c+=l+=n[h++];l%=65521,c%=65521}return c<<16|l},a.bin={readUshort:function(n,i){return n[i]|n[i+1]<<8},writeUshort:function(n,i,o){n[i]=255&o,n[i+1]=o>>8&255},readUint:function(n,i){return 16777216*n[i+3]+(n[i+2]<<16|n[i+1]<<8|n[i])},writeUint:function(n,i,o){n[i]=255&o,n[i+1]=o>>8&255,n[i+2]=o>>16&255,n[i+3]=o>>24&255},readASCII:function(n,i,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(n[i+c]);return l},writeASCII:function(n,i,o){for(var l=0;l<o.length;l++)n[i+l]=o.charCodeAt(l)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,i,o){for(var l,c="",h=0;h<o;h++)c+="%"+a.bin.pad(n[i+h].toString(16));try{l=decodeURIComponent(c)}catch{return a.bin.readASCII(n,i,o)}return l},writeUTF8:function(n,i,o){for(var l=o.length,c=0,h=0;h<l;h++){var d=o.charCodeAt(h);if(!(4294967168&d))n[i+c]=d,c++;else if(!(4294965248&d))n[i+c]=192|d>>6,n[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))n[i+c]=224|d>>12,n[i+c+1]=128|d>>6&63,n[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";n[i+c]=240|d>>18,n[i+c+1]=128|d>>12&63,n[i+c+2]=128|d>>6&63,n[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(n){for(var i=n.length,o=0,l=0;l<i;l++){var c=n.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},a.F={},a.F.deflateRaw=function(n,i,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=a.F.U,d=a.F._goodIndex;a.F._hash;var m=a.F._putsE,p=0,u=o<<3,g=0,y=n.length;if(l==0){for(;p<y;)m(i,u,p+($=Math.min(65535,y-p))==y?1:0),u=a.F._copyExact(n,p,$,i,u+8),p+=$;return u>>>3}var _=h.lits,x=h.strt,v=h.prev,C=0,N=0,E=0,S=0,b=0,A=0;for(y>2&&(x[A=a.F._hash(n,0)]=0),p=0;p<y;p++){if(b=A,p+1<y-2){A=a.F._hash(n,p+1);var j=p+1&32767;v[j]=x[A],x[A]=j}if(g<=p){(C>14e3||N>26697)&&y-p>100&&(g<p&&(_[C]=p-g,C+=2,g=p),u=a.F._writeBlock(p==y-1||g==y?1:0,_,C,S,n,E,p-E,i,u),C=N=S=0,E=p);var z=0;p<y-2&&(z=a.F._bestMatch(n,p,v,b,Math.min(c[2],y-p),c[3]));var $=z>>>16,w=65535&z;if(z!=0){w=65535&z;var R=d($=z>>>16,h.of0);h.lhst[257+R]++;var D=d(w,h.df0);h.dhst[D]++,S+=h.exb[R]+h.dxb[D],_[C]=$<<23|p-g,_[C+1]=w<<16|R<<8|D,C+=2,g=p+$}else h.lhst[n[p]]++;N++}}for(E==p&&n.length!=0||(g<p&&(_[C]=p-g,C+=2,g=p),u=a.F._writeBlock(1,_,C,S,n,E,p-E,i,u),C=0,N=0,C=N=S=0,E=p);7&u;)u++;return u>>>3},a.F._bestMatch=function(n,i,o,l,c,h){var d=32767&i,m=o[d],p=d-m+32768&32767;if(m==d||l!=a.F._hash(n,i-p))return 0;for(var u=0,g=0,y=Math.min(32767,i);p<=y&&--h!=0&&m!=d;){if(u==0||n[i+u]==n[i+u-p]){var _=a.F._howLong(n,i,p);if(_>u){if(g=p,(u=_)>=c)break;p+2<_&&(_=p+2);for(var x=0,v=0;v<_-2;v++){var C=i-p+v+32768&32767,N=C-o[C]+32768&32767;N>x&&(x=N,m=C)}}}p+=(d=m)-(m=o[d])+32768&32767}return u<<16|g},a.F._howLong=function(n,i,o){if(n[i]!=n[i-o]||n[i+1]!=n[i+1-o]||n[i+2]!=n[i+2-o])return 0;var l=i,c=Math.min(n.length,i+258);for(i+=3;i<c&&n[i]==n[i-o];)i++;return i-l},a.F._hash=function(n,i){return(n[i]<<8|n[i+1])+(n[i+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(n,i,o,l,c,h,d,m,p){var u,g,y,_,x,v,C,N,E,S=a.F.U,b=a.F._putsF,A=a.F._putsE;S.lhst[256]++,g=(u=a.F.getTrees())[0],y=u[1],_=u[2],x=u[3],v=u[4],C=u[5],N=u[6],E=u[7];var j=32+(p+3&7?8-(p+3&7):0)+(d<<3),z=l+a.F.contSize(S.fltree,S.lhst)+a.F.contSize(S.fdtree,S.dhst),$=l+a.F.contSize(S.ltree,S.lhst)+a.F.contSize(S.dtree,S.dhst);$+=14+3*C+a.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var w=0;w<286;w++)S.lhst[w]=0;for(w=0;w<30;w++)S.dhst[w]=0;for(w=0;w<19;w++)S.ihst[w]=0;var R=j<z&&j<$?0:z<$?1:2;if(b(m,p,n),b(m,p+1,R),p+=3,R==0){for(;7&p;)p++;p=a.F._copyExact(c,h,d,m,p)}else{var D,M;if(R==1&&(D=S.fltree,M=S.fdtree),R==2){a.F.makeCodes(S.ltree,g),a.F.revCodes(S.ltree,g),a.F.makeCodes(S.dtree,y),a.F.revCodes(S.dtree,y),a.F.makeCodes(S.itree,_),a.F.revCodes(S.itree,_),D=S.ltree,M=S.dtree,A(m,p,x-257),A(m,p+=5,v-1),A(m,p+=5,C-4),p+=4;for(var P=0;P<C;P++)A(m,p+3*P,S.itree[1+(S.ordr[P]<<1)]);p+=3*C,p=a.F._codeTiny(N,S.itree,m,p),p=a.F._codeTiny(E,S.itree,m,p)}for(var k=h,I=0;I<o;I+=2){for(var F=i[I],O=F>>>23,B=k+(8388607&F);k<B;)p=a.F._writeLit(c[k++],D,m,p);if(O!=0){var H=i[I+1],U=H>>16,q=H>>8&255,W=255&H;A(m,p=a.F._writeLit(257+q,D,m,p),O-S.of0[q]),p+=S.exb[q],b(m,p=a.F._writeLit(W,M,m,p),U-S.df0[W]),p+=S.dxb[W],k+=O}}p=a.F._writeLit(256,D,m,p)}return p},a.F._copyExact=function(n,i,o,l,c){var h=c>>>3;return l[h]=o,l[h+1]=o>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(n.buffer,i,o),h),c+(o+4<<3)},a.F.getTrees=function(){for(var n=a.F.U,i=a.F._hufTree(n.lhst,n.ltree,15),o=a.F._hufTree(n.dhst,n.dtree,15),l=[],c=a.F._lenCodes(n.ltree,l),h=[],d=a.F._lenCodes(n.dtree,h),m=0;m<l.length;m+=2)n.ihst[l[m]]++;for(m=0;m<h.length;m+=2)n.ihst[h[m]]++;for(var p=a.F._hufTree(n.ihst,n.itree,7),u=19;u>4&&n.itree[1+(n.ordr[u-1]<<1)]==0;)u--;return[i,o,p,c,d,u,l,h]},a.F.getSecond=function(n){for(var i=[],o=0;o<n.length;o+=2)i.push(n[o+1]);return i},a.F.nonZero=function(n){for(var i="",o=0;o<n.length;o+=2)n[o+1]!=0&&(i+=(o>>1)+",");return i},a.F.contSize=function(n,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*n[1+(l<<1)];return o},a.F._codeTiny=function(n,i,o,l){for(var c=0;c<n.length;c+=2){var h=n[c],d=n[c+1];l=a.F._writeLit(h,i,o,l);var m=h==16?2:h==17?3:7;h>15&&(a.F._putsE(o,l,d,m),l+=m)}return l},a.F._lenCodes=function(n,i){for(var o=n.length;o!=2&&n[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=n[l+1],h=l+3<o?n[l+3]:-1,d=l+5<o?n[l+5]:-1,m=l==0?-1:n[l-1];if(c==0&&h==c&&d==c){for(var p=l+5;p+2<o&&n[p+2]==c;)p+=2;(u=Math.min(p+1-l>>>1,138))<11?i.push(17,u-3):i.push(18,u-11),l+=2*u-2}else if(c==m&&h==c&&d==c){for(p=l+5;p+2<o&&n[p+2]==c;)p+=2;var u=Math.min(p+1-l>>>1,6);i.push(16,u-3),l+=2*u-2}else i.push(c,0)}return o>>>1},a.F._hufTree=function(n,i,o){var l=[],c=n.length,h=i.length,d=0;for(d=0;d<h;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)n[d]!=0&&l.push({lit:d,f:n[d]});var m=l.length,p=l.slice(0);if(m==0)return 0;if(m==1){var u=l[0].lit;return p=u==0?1:0,i[1+(u<<1)]=1,i[1+(p<<1)]=1,1}l.sort(function(N,E){return N.f-E.f});var g=l[0],y=l[1],_=0,x=1,v=2;for(l[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};x!=m-1;)g=_!=x&&(v==m||l[_].f<l[v].f)?l[_++]:l[v++],y=_!=x&&(v==m||l[_].f<l[v].f)?l[_++]:l[v++],l[x++]={lit:-1,f:g.f+y.f,l:g,r:y};var C=a.F.setDepth(l[x-1],0);for(C>o&&(a.F.restrictDepth(p,o,C),C=o),d=0;d<m;d++)i[1+(p[d].lit<<1)]=p[d].d;return C},a.F.setDepth=function(n,i){return n.lit!=-1?(n.d=i,i):Math.max(a.F.setDepth(n.l,i+1),a.F.setDepth(n.r,i+1))},a.F.restrictDepth=function(n,i,o){var l=0,c=1<<o-i,h=0;for(n.sort(function(m,p){return p.d==m.d?m.f-p.f:p.d-m.d}),l=0;l<n.length&&n[l].d>i;l++){var d=n[l].d;n[l].d=i,h+=c-(1<<o-d)}for(h>>>=o-i;h>0;)(d=n[l].d)<i?(n[l].d++,h-=1<<i-d-1):l++;for(;l>=0;l--)n[l].d==i&&h<0&&(n[l].d--,h++);h!=0&&console.log("debt left")},a.F._goodIndex=function(n,i){var o=0;return i[16|o]<=n&&(o|=16),i[8|o]<=n&&(o|=8),i[4|o]<=n&&(o|=4),i[2|o]<=n&&(o|=2),i[1|o]<=n&&(o|=1),o},a.F._writeLit=function(n,i,o,l){return a.F._putsF(o,l,i[n<<1]),l+i[1+(n<<1)]},a.F.inflate=function(n,i){var o=Uint8Array;if(n[0]==3&&n[1]==0)return i||new o(0);var l=a.F,c=l._bitsF,h=l._bitsE,d=l._decodeTiny,m=l.makeCodes,p=l.codes2map,u=l._get17,g=l.U,y=i==null;y&&(i=new o(n.length>>>2<<3));for(var _,x,v=0,C=0,N=0,E=0,S=0,b=0,A=0,j=0,z=0;v==0;)if(v=c(n,z,1),C=c(n,z+1,2),z+=3,C!=0){if(y&&(i=a.F._check(i,j+(1<<17))),C==1&&(_=g.flmap,x=g.fdmap,b=511,A=31),C==2){N=h(n,z,5)+257,E=h(n,z+5,5)+1,S=h(n,z+10,4)+4,z+=14;for(var $=0;$<38;$+=2)g.itree[$]=0,g.itree[$+1]=0;var w=1;for($=0;$<S;$++){var R=h(n,z+3*$,3);g.itree[1+(g.ordr[$]<<1)]=R,R>w&&(w=R)}z+=3*S,m(g.itree,w),p(g.itree,w,g.imap),_=g.lmap,x=g.dmap,z=d(g.imap,(1<<w)-1,N+E,n,z,g.ttree);var D=l._copyOut(g.ttree,0,N,g.ltree);b=(1<<D)-1;var M=l._copyOut(g.ttree,N,E,g.dtree);A=(1<<M)-1,m(g.ltree,D),p(g.ltree,D,_),m(g.dtree,M),p(g.dtree,M,x)}for(;;){var P=_[u(n,z)&b];z+=15&P;var k=P>>>4;if(!(k>>>8))i[j++]=k;else{if(k==256)break;var I=j+k-254;if(k>264){var F=g.ldef[k-257];I=j+(F>>>3)+h(n,z,7&F),z+=7&F}var O=x[u(n,z)&A];z+=15&O;var B=O>>>4,H=g.ddef[B],U=(H>>>4)+c(n,z,15&H);for(z+=15&H,y&&(i=a.F._check(i,j+(1<<17)));j<I;)i[j]=i[j++-U],i[j]=i[j++-U],i[j]=i[j++-U],i[j]=i[j++-U];j=I}}}else{7&z&&(z+=8-(7&z));var q=4+(z>>>3),W=n[q-4]|n[q-3]<<8;y&&(i=a.F._check(i,j+W)),i.set(new o(n.buffer,n.byteOffset+q,W),j),z=q+W<<3,j+=W}return i.length==j?i:i.slice(0,j)},a.F._check=function(n,i){var o=n.length;if(i<=o)return n;var l=new Uint8Array(Math.max(o<<1,i));return l.set(n,0),l},a.F._decodeTiny=function(n,i,o,l,c,h){for(var d=a.F._bitsE,m=a.F._get17,p=0;p<o;){var u=n[m(l,c)&i];c+=15&u;var g=u>>>4;if(g<=15)h[p]=g,p++;else{var y=0,_=0;g==16?(_=3+d(l,c,2),c+=2,y=h[p-1]):g==17?(_=3+d(l,c,3),c+=3):g==18&&(_=11+d(l,c,7),c+=7);for(var x=p+_;p<x;)h[p]=y,p++}}return c},a.F._copyOut=function(n,i,o,l){for(var c=0,h=0,d=l.length>>>1;h<o;){var m=n[h+i];l[h<<1]=0,l[1+(h<<1)]=m,m>c&&(c=m),h++}for(;h<d;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return c},a.F.makeCodes=function(n,i){for(var o,l,c,h,d=a.F.U,m=n.length,p=d.bl_count,u=0;u<=i;u++)p[u]=0;for(u=1;u<m;u+=2)p[n[u]]++;var g=d.next_code;for(o=0,p[0]=0,l=1;l<=i;l++)o=o+p[l-1]<<1,g[l]=o;for(c=0;c<m;c+=2)(h=n[c+1])!=0&&(n[c]=g[h],g[h]++)},a.F.codes2map=function(n,i,o){for(var l=n.length,c=a.F.U.rev15,h=0;h<l;h+=2)if(n[h+1]!=0)for(var d=h>>1,m=n[h+1],p=d<<4|m,u=i-m,g=n[h]<<u,y=g+(1<<u);g!=y;)o[c[g]>>>15-i]=p,g++},a.F.revCodes=function(n,i){for(var o=a.F.U.rev15,l=15-i,c=0;c<n.length;c+=2){var h=n[c]<<i-n[c+1];n[c]=o[h]>>>l}},a.F._putsE=function(n,i,o){o<<=7&i;var l=i>>>3;n[l]|=o,n[l+1]|=o>>>8},a.F._putsF=function(n,i,o){o<<=7&i;var l=i>>>3;n[l]|=o,n[l+1]|=o>>>8,n[l+2]|=o>>>16},a.F._bitsE=function(n,i,o){return(n[i>>>3]|n[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},a.F._bitsF=function(n,i,o){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},a.F._get17=function(n,i){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16)>>>(7&i)},a.F._get25=function(n,i){return(n[i>>>3]|n[1+(i>>>3)]<<8|n[2+(i>>>3)]<<16|n[3+(i>>>3)]<<24)>>>(7&i)},a.F.U=(s=Uint16Array,r=Uint32Array,{next_code:new s(16),bl_count:new s(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new s(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new s(512),fltree:[],fdmap:new s(32),fdtree:[],lmap:new s(32768),ltree:[],ttree:[],dmap:new s(32768),dtree:[],imap:new s(512),itree:[],rev15:new s(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new s(65536),prev:new s(32768)}),function(){for(var n=a.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,n.rev15[i]=(o>>>16|o<<16)>>>17}function l(c,h,d){for(;h--!=0;)c.push(0,d)}for(i=0;i<32;i++)n.ldef[i]=n.of0[i]<<3|n.exb[i],n.ddef[i]=n.df0[i]<<4|n.dxb[i];l(n.fltree,144,8),l(n.fltree,112,9),l(n.fltree,24,7),l(n.fltree,8,8),a.F.makeCodes(n.fltree,9),a.F.codes2map(n.fltree,9,n.flmap),a.F.revCodes(n.fltree,9),l(n.fdtree,32,5),a.F.makeCodes(n.fdtree,5),a.F.codes2map(n.fdtree,5,n.fdmap),a.F.revCodes(n.fdtree,5),l(n.itree,19,0),l(n.ltree,286,0),l(n.dtree,30,0),l(n.ttree,320,0)}()})();var RT=ET({__proto__:null,default:dd},[dd]);const Sr=function(){var e={nextZero(d,m){for(;d[m]!=0;)m++;return m},readUshort:(d,m)=>d[m]<<8|d[m+1],writeUshort(d,m,p){d[m]=p>>8&255,d[m+1]=255&p},readUint:(d,m)=>16777216*d[m]+(d[m+1]<<16|d[m+2]<<8|d[m+3]),writeUint(d,m,p){d[m]=p>>24&255,d[m+1]=p>>16&255,d[m+2]=p>>8&255,d[m+3]=255&p},readASCII(d,m,p){let u="";for(let g=0;g<p;g++)u+=String.fromCharCode(d[m+g]);return u},writeASCII(d,m,p){for(let u=0;u<p.length;u++)d[m+u]=p.charCodeAt(u)},readBytes(d,m,p){const u=[];for(let g=0;g<p;g++)u.push(d[m+g]);return u},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,m,p){let u,g="";for(let y=0;y<p;y++)g+=`%${e.pad(d[m+y].toString(16))}`;try{u=decodeURIComponent(g)}catch{return e.readASCII(d,m,p)}return u}};function s(d,m,p,u){const g=m*p,y=i(u),_=Math.ceil(m*y/8),x=new Uint8Array(4*g),v=new Uint32Array(x.buffer),{ctype:C}=u,{depth:N}=u,E=e.readUshort;if(C==6){const F=g<<2;if(N==8)for(var S=0;S<F;S+=4)x[S]=d[S],x[S+1]=d[S+1],x[S+2]=d[S+2],x[S+3]=d[S+3];if(N==16)for(S=0;S<F;S++)x[S]=d[S<<1]}else if(C==2){const F=u.tabs.tRNS;if(F==null){if(N==8)for(S=0;S<g;S++){var b=3*S;v[S]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b]}if(N==16)for(S=0;S<g;S++)b=6*S,v[S]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b]}else{var A=F[0];const O=F[1],B=F[2];if(N==8)for(S=0;S<g;S++){var j=S<<2;b=3*S,v[S]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b],d[b]==A&&d[b+1]==O&&d[b+2]==B&&(x[j+3]=0)}if(N==16)for(S=0;S<g;S++)j=S<<2,b=6*S,v[S]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b],E(d,b)==A&&E(d,b+2)==O&&E(d,b+4)==B&&(x[j+3]=0)}}else if(C==3){const F=u.tabs.PLTE,O=u.tabs.tRNS,B=O?O.length:0;if(N==1)for(var z=0;z<p;z++){var $=z*_,w=z*m;for(S=0;S<m;S++){j=w+S<<2;var R=3*(D=d[$+(S>>3)]>>7-((7&S)<<0)&1);x[j]=F[R],x[j+1]=F[R+1],x[j+2]=F[R+2],x[j+3]=D<B?O[D]:255}}if(N==2)for(z=0;z<p;z++)for($=z*_,w=z*m,S=0;S<m;S++)j=w+S<<2,R=3*(D=d[$+(S>>2)]>>6-((3&S)<<1)&3),x[j]=F[R],x[j+1]=F[R+1],x[j+2]=F[R+2],x[j+3]=D<B?O[D]:255;if(N==4)for(z=0;z<p;z++)for($=z*_,w=z*m,S=0;S<m;S++)j=w+S<<2,R=3*(D=d[$+(S>>1)]>>4-((1&S)<<2)&15),x[j]=F[R],x[j+1]=F[R+1],x[j+2]=F[R+2],x[j+3]=D<B?O[D]:255;if(N==8)for(S=0;S<g;S++){var D;j=S<<2,R=3*(D=d[S]),x[j]=F[R],x[j+1]=F[R+1],x[j+2]=F[R+2],x[j+3]=D<B?O[D]:255}}else if(C==4){if(N==8)for(S=0;S<g;S++){j=S<<2;var M=d[P=S<<1];x[j]=M,x[j+1]=M,x[j+2]=M,x[j+3]=d[P+1]}if(N==16)for(S=0;S<g;S++){var P;j=S<<2,M=d[P=S<<2],x[j]=M,x[j+1]=M,x[j+2]=M,x[j+3]=d[P+2]}}else if(C==0)for(A=u.tabs.tRNS?u.tabs.tRNS:-1,z=0;z<p;z++){const F=z*_,O=z*m;if(N==1)for(var k=0;k<m;k++){var I=(M=255*(d[F+(k>>>3)]>>>7-(7&k)&1))==255*A?0:255;v[O+k]=I<<24|M<<16|M<<8|M}else if(N==2)for(k=0;k<m;k++)I=(M=85*(d[F+(k>>>2)]>>>6-((3&k)<<1)&3))==85*A?0:255,v[O+k]=I<<24|M<<16|M<<8|M;else if(N==4)for(k=0;k<m;k++)I=(M=17*(d[F+(k>>>1)]>>>4-((1&k)<<2)&15))==17*A?0:255,v[O+k]=I<<24|M<<16|M<<8|M;else if(N==8)for(k=0;k<m;k++)I=(M=d[F+k])==A?0:255,v[O+k]=I<<24|M<<16|M<<8|M;else if(N==16)for(k=0;k<m;k++)M=d[F+(k<<1)],I=E(d,F+(k<<1))==A?0:255,v[O+k]=I<<24|M<<16|M<<8|M}return x}function r(d,m,p,u){const g=i(d),y=Math.ceil(p*g/8),_=new Uint8Array((y+1+d.interlace)*u);return m=d.tabs.CgBI?n(m,_):a(m,_),d.interlace==0?m=o(m,d,0,p,u):d.interlace==1&&(m=function(v,C){const N=C.width,E=C.height,S=i(C),b=S>>3,A=Math.ceil(N*S/8),j=new Uint8Array(E*A);let z=0;const $=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const k=R[M],I=D[M];let F=0,O=0,B=$[M];for(;B<E;)B+=k,O++;let H=w[M];for(;H<N;)H+=I,F++;const U=Math.ceil(F*S/8);o(v,C,z,F,O);let q=0,W=$[M];for(;W<E;){let G=w[M],re=z+q*U<<3;for(;G<N;){var P;if(S==1&&(P=(P=v[re>>3])>>7-(7&re)&1,j[W*A+(G>>3)]|=P<<7-((7&G)<<0)),S==2&&(P=(P=v[re>>3])>>6-(7&re)&3,j[W*A+(G>>2)]|=P<<6-((3&G)<<1)),S==4&&(P=(P=v[re>>3])>>4-(7&re)&15,j[W*A+(G>>1)]|=P<<4-((1&G)<<2)),S>=8){const V=W*A+G*b;for(let L=0;L<b;L++)j[V+L]=v[(re>>3)+L]}re+=S,G+=I}q++,W+=k}F*O!=0&&(z+=O*(1+U)),M+=1}return j}(m,d)),m}function a(d,m){return n(new Uint8Array(d.buffer,2,d.length-6),m)}var n=function(){const d={H:{}};return d.H.N=function(m,p){const u=Uint8Array;let g,y,_=0,x=0,v=0,C=0,N=0,E=0,S=0,b=0,A=0;if(m[0]==3&&m[1]==0)return p||new u(0);const j=d.H,z=j.b,$=j.e,w=j.R,R=j.n,D=j.A,M=j.Z,P=j.m,k=p==null;for(k&&(p=new u(m.length>>>2<<5));_==0;)if(_=z(m,A,1),x=z(m,A+1,2),A+=3,x!=0){if(k&&(p=d.H.W(p,b+(1<<17))),x==1&&(g=P.J,y=P.h,E=511,S=31),x==2){v=$(m,A,5)+257,C=$(m,A+5,5)+1,N=$(m,A+10,4)+4,A+=14;let F=1;for(var I=0;I<38;I+=2)P.Q[I]=0,P.Q[I+1]=0;for(I=0;I<N;I++){const H=$(m,A+3*I,3);P.Q[1+(P.X[I]<<1)]=H,H>F&&(F=H)}A+=3*N,R(P.Q,F),D(P.Q,F,P.u),g=P.w,y=P.d,A=w(P.u,(1<<F)-1,v+C,m,A,P.v);const O=j.V(P.v,0,v,P.C);E=(1<<O)-1;const B=j.V(P.v,v,C,P.D);S=(1<<B)-1,R(P.C,O),D(P.C,O,g),R(P.D,B),D(P.D,B,y)}for(;;){const F=g[M(m,A)&E];A+=15&F;const O=F>>>4;if(!(O>>>8))p[b++]=O;else{if(O==256)break;{let B=b+O-254;if(O>264){const G=P.q[O-257];B=b+(G>>>3)+$(m,A,7&G),A+=7&G}const H=y[M(m,A)&S];A+=15&H;const U=H>>>4,q=P.c[U],W=(q>>>4)+z(m,A,15&q);for(A+=15&q;b<B;)p[b]=p[b++-W],p[b]=p[b++-W],p[b]=p[b++-W],p[b]=p[b++-W];b=B}}}}else{7&A&&(A+=8-(7&A));const F=4+(A>>>3),O=m[F-4]|m[F-3]<<8;k&&(p=d.H.W(p,b+O)),p.set(new u(m.buffer,m.byteOffset+F,O),b),A=F+O<<3,b+=O}return p.length==b?p:p.slice(0,b)},d.H.W=function(m,p){const u=m.length;if(p<=u)return m;const g=new Uint8Array(u<<1);return g.set(m,0),g},d.H.R=function(m,p,u,g,y,_){const x=d.H.e,v=d.H.Z;let C=0;for(;C<u;){const N=m[v(g,y)&p];y+=15&N;const E=N>>>4;if(E<=15)_[C]=E,C++;else{let S=0,b=0;E==16?(b=3+x(g,y,2),y+=2,S=_[C-1]):E==17?(b=3+x(g,y,3),y+=3):E==18&&(b=11+x(g,y,7),y+=7);const A=C+b;for(;C<A;)_[C]=S,C++}}return y},d.H.V=function(m,p,u,g){let y=0,_=0;const x=g.length>>>1;for(;_<u;){const v=m[_+p];g[_<<1]=0,g[1+(_<<1)]=v,v>y&&(y=v),_++}for(;_<x;)g[_<<1]=0,g[1+(_<<1)]=0,_++;return y},d.H.n=function(m,p){const u=d.H.m,g=m.length;let y,_,x,v;const C=u.j;for(var N=0;N<=p;N++)C[N]=0;for(N=1;N<g;N+=2)C[m[N]]++;const E=u.K;for(y=0,C[0]=0,_=1;_<=p;_++)y=y+C[_-1]<<1,E[_]=y;for(x=0;x<g;x+=2)v=m[x+1],v!=0&&(m[x]=E[v],E[v]++)},d.H.A=function(m,p,u){const g=m.length,y=d.H.m.r;for(let _=0;_<g;_+=2)if(m[_+1]!=0){const x=_>>1,v=m[_+1],C=x<<4|v,N=p-v;let E=m[_]<<N;const S=E+(1<<N);for(;E!=S;)u[y[E]>>>15-p]=C,E++}},d.H.l=function(m,p){const u=d.H.m.r,g=15-p;for(let y=0;y<m.length;y+=2){const _=m[y]<<p-m[y+1];m[y]=u[_]>>>g}},d.H.M=function(m,p,u){u<<=7&p;const g=p>>>3;m[g]|=u,m[g+1]|=u>>>8},d.H.I=function(m,p,u){u<<=7&p;const g=p>>>3;m[g]|=u,m[g+1]|=u>>>8,m[g+2]|=u>>>16},d.H.e=function(m,p,u){return(m[p>>>3]|m[1+(p>>>3)]<<8)>>>(7&p)&(1<<u)-1},d.H.b=function(m,p,u){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16)>>>(7&p)&(1<<u)-1},d.H.Z=function(m,p){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16)>>>(7&p)},d.H.i=function(m,p){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16|m[3+(p>>>3)]<<24)>>>(7&p)},d.H.m=function(){const m=Uint16Array,p=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new m(65536),g:new m(32768)}}(),function(){const m=d.H.m;for(var p=0;p<32768;p++){let g=p;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,m.r[p]=(g>>>16|g<<16)>>>17}function u(g,y,_){for(;y--!=0;)g.push(0,_)}for(p=0;p<32;p++)m.q[p]=m.S[p]<<3|m.T[p],m.c[p]=m.p[p]<<4|m.z[p];u(m._,144,8),u(m._,112,9),u(m._,24,7),u(m._,8,8),d.H.n(m._,9),d.H.A(m._,9,m.J),d.H.l(m._,9),u(m.$,32,5),d.H.n(m.$,5),d.H.A(m.$,5,m.h),d.H.l(m.$,5),u(m.Q,19,0),u(m.C,286,0),u(m.D,30,0),u(m.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,m,p,u,g){let y=i(m);const _=Math.ceil(u*y/8);let x,v;y=Math.ceil(y/8);let C=d[p],N=0;if(C>1&&(d[p]=[0,0,1][C-2]),C==3)for(N=y;N<_;N++)d[N+1]=d[N+1]+(d[N+1-y]>>>1)&255;for(let E=0;E<g;E++)if(x=p+E*_,v=x+E+1,C=d[v-1],N=0,C==0)for(;N<_;N++)d[x+N]=d[v+N];else if(C==1){for(;N<y;N++)d[x+N]=d[v+N];for(;N<_;N++)d[x+N]=d[v+N]+d[x+N-y]}else if(C==2)for(;N<_;N++)d[x+N]=d[v+N]+d[x+N-_];else if(C==3){for(;N<y;N++)d[x+N]=d[v+N]+(d[x+N-_]>>>1);for(;N<_;N++)d[x+N]=d[v+N]+(d[x+N-_]+d[x+N-y]>>>1)}else{for(;N<y;N++)d[x+N]=d[v+N]+l(0,d[x+N-_],0);for(;N<_;N++)d[x+N]=d[v+N]+l(d[x+N-y],d[x+N-_],d[x+N-y-_])}return d}function l(d,m,p){const u=d+m-p,g=u-d,y=u-m,_=u-p;return g*g<=y*y&&g*g<=_*_?d:y*y<=_*_?m:p}function c(d,m,p){p.width=e.readUint(d,m),m+=4,p.height=e.readUint(d,m),m+=4,p.depth=d[m],m++,p.ctype=d[m],m++,p.compress=d[m],m++,p.filter=d[m],m++,p.interlace=d[m],m++}function h(d,m,p,u,g,y,_,x,v){const C=Math.min(m,g),N=Math.min(p,y);let E=0,S=0;for(let M=0;M<N;M++)for(let P=0;P<C;P++)if(_>=0&&x>=0?(E=M*m+P<<2,S=(x+M)*g+_+P<<2):(E=(-x+M)*m-_+P<<2,S=M*g+P<<2),v==0)u[S]=d[E],u[S+1]=d[E+1],u[S+2]=d[E+2],u[S+3]=d[E+3];else if(v==1){var b=d[E+3]*.00392156862745098,A=d[E]*b,j=d[E+1]*b,z=d[E+2]*b,$=u[S+3]*(1/255),w=u[S]*$,R=u[S+1]*$,D=u[S+2]*$;const k=1-b,I=b+$*k,F=I==0?0:1/I;u[S+3]=255*I,u[S+0]=(A+w*k)*F,u[S+1]=(j+R*k)*F,u[S+2]=(z+D*k)*F}else if(v==2)b=d[E+3],A=d[E],j=d[E+1],z=d[E+2],$=u[S+3],w=u[S],R=u[S+1],D=u[S+2],b==$&&A==w&&j==R&&z==D?(u[S]=0,u[S+1]=0,u[S+2]=0,u[S+3]=0):(u[S]=A,u[S+1]=j,u[S+2]=z,u[S+3]=b);else if(v==3){if(b=d[E+3],A=d[E],j=d[E+1],z=d[E+2],$=u[S+3],w=u[S],R=u[S+1],D=u[S+2],b==$&&A==w&&j==R&&z==D)continue;if(b<220&&$>20)return!1}return!0}return{decode:function(m){const p=new Uint8Array(m);let u=8;const g=e,y=g.readUshort,_=g.readUint,x={tabs:{},frames:[]},v=new Uint8Array(p.length);let C,N=0,E=0;const S=[137,80,78,71,13,10,26,10];for(var b=0;b<8;b++)if(p[b]!=S[b])throw"The input is not a PNG file!";for(;u<p.length;){const M=g.readUint(p,u);u+=4;const P=g.readASCII(p,u,4);if(u+=4,P=="IHDR")c(p,u,x);else if(P=="iCCP"){for(var A=u;p[A]!=0;)A++;g.readASCII(p,u,A-u),p[A+1];const k=p.slice(A+2,u+M);let I=null;try{I=a(k)}catch{I=n(k)}x.tabs[P]=I}else if(P=="CgBI")x.tabs[P]=p.slice(u,u+4);else if(P=="IDAT"){for(b=0;b<M;b++)v[N+b]=p[u+b];N+=M}else if(P=="acTL")x.tabs[P]={num_frames:_(p,u),num_plays:_(p,u+4)},C=new Uint8Array(p.length);else if(P=="fcTL"){E!=0&&((D=x.frames[x.frames.length-1]).data=r(x,C.slice(0,E),D.rect.width,D.rect.height),E=0);const k={x:_(p,u+12),y:_(p,u+16),width:_(p,u+4),height:_(p,u+8)};let I=y(p,u+22);I=y(p,u+20)/(I==0?100:I);const F={rect:k,delay:Math.round(1e3*I),dispose:p[u+24],blend:p[u+25]};x.frames.push(F)}else if(P=="fdAT"){for(b=0;b<M-4;b++)C[E+b]=p[u+b+4];E+=M-4}else if(P=="pHYs")x.tabs[P]=[g.readUint(p,u),g.readUint(p,u+4),p[u+8]];else if(P=="cHRM")for(x.tabs[P]=[],b=0;b<8;b++)x.tabs[P].push(g.readUint(p,u+4*b));else if(P=="tEXt"||P=="zTXt"){x.tabs[P]==null&&(x.tabs[P]={});var j=g.nextZero(p,u),z=g.readASCII(p,u,j-u),$=u+M-j-1;if(P=="tEXt")R=g.readASCII(p,j+1,$);else{var w=a(p.slice(j+2,j+2+$));R=g.readUTF8(w,0,w.length)}x.tabs[P][z]=R}else if(P=="iTXt"){x.tabs[P]==null&&(x.tabs[P]={}),j=0,A=u,j=g.nextZero(p,A),z=g.readASCII(p,A,j-A);const k=p[A=j+1];var R;p[A+1],A+=2,j=g.nextZero(p,A),g.readASCII(p,A,j-A),A=j+1,j=g.nextZero(p,A),g.readUTF8(p,A,j-A),$=M-((A=j+1)-u),k==0?R=g.readUTF8(p,A,$):(w=a(p.slice(A,A+$)),R=g.readUTF8(w,0,w.length)),x.tabs[P][z]=R}else if(P=="PLTE")x.tabs[P]=g.readBytes(p,u,M);else if(P=="hIST"){const k=x.tabs.PLTE.length/3;for(x.tabs[P]=[],b=0;b<k;b++)x.tabs[P].push(y(p,u+2*b))}else if(P=="tRNS")x.ctype==3?x.tabs[P]=g.readBytes(p,u,M):x.ctype==0?x.tabs[P]=y(p,u):x.ctype==2&&(x.tabs[P]=[y(p,u),y(p,u+2),y(p,u+4)]);else if(P=="gAMA")x.tabs[P]=g.readUint(p,u)/1e5;else if(P=="sRGB")x.tabs[P]=p[u];else if(P=="bKGD")x.ctype==0||x.ctype==4?x.tabs[P]=[y(p,u)]:x.ctype==2||x.ctype==6?x.tabs[P]=[y(p,u),y(p,u+2),y(p,u+4)]:x.ctype==3&&(x.tabs[P]=p[u]);else if(P=="IEND")break;u+=M,g.readUint(p,u),u+=4}var D;return E!=0&&((D=x.frames[x.frames.length-1]).data=r(x,C.slice(0,E),D.rect.width,D.rect.height)),x.data=r(x,v,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(m){const p=m.width,u=m.height;if(m.tabs.acTL==null)return[s(m.data,p,u,m).buffer];const g=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const y=p*u*4,_=new Uint8Array(y),x=new Uint8Array(y),v=new Uint8Array(y);for(let N=0;N<m.frames.length;N++){const E=m.frames[N],S=E.rect.x,b=E.rect.y,A=E.rect.width,j=E.rect.height,z=s(E.data,A,j,m);if(N!=0)for(var C=0;C<y;C++)v[C]=_[C];if(E.blend==0?h(z,A,j,_,p,u,S,b,0):E.blend==1&&h(z,A,j,_,p,u,S,b,1),g.push(_.buffer.slice(0)),E.dispose!=0){if(E.dispose==1)h(x,A,j,_,p,u,S,b,0);else if(E.dispose==2)for(C=0;C<y;C++)_[C]=v[C]}}return g},_paeth:l,_copyTile:h,_bin:e}}();(function(){const{_copyTile:e}=Sr,{_bin:s}=Sr,r=Sr._paeth;var a={table:function(){const A=new Uint32Array(256);for(let j=0;j<256;j++){let z=j;for(let $=0;$<8;$++)1&z?z=3988292384^z>>>1:z>>>=1;A[j]=z}return A}(),update(A,j,z,$){for(let w=0;w<$;w++)A=a.table[255&(A^j[z+w])]^A>>>8;return A},crc:(A,j,z)=>4294967295^a.update(4294967295,A,j,z)};function n(A,j,z,$){j[z]+=A[0]*$>>4,j[z+1]+=A[1]*$>>4,j[z+2]+=A[2]*$>>4,j[z+3]+=A[3]*$>>4}function i(A){return Math.max(0,Math.min(255,A))}function o(A,j){const z=A[0]-j[0],$=A[1]-j[1],w=A[2]-j[2],R=A[3]-j[3];return z*z+$*$+w*w+R*R}function l(A,j,z,$,w,R,D){D==null&&(D=1);const M=$.length,P=[];for(var k=0;k<M;k++){const W=$[k];P.push([W>>>0&255,W>>>8&255,W>>>16&255,W>>>24&255])}for(k=0;k<M;k++){let W=4294967295;for(var I=0,F=0;F<M;F++){var O=o(P[k],P[F]);F!=k&&O<W&&(W=O,I=F)}}const B=new Uint32Array(w.buffer),H=new Int16Array(j*z*4),U=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<U.length;k++)U[k]=255*((U[k]+.5)/16-.5);for(let W=0;W<z;W++)for(let G=0;G<j;G++){var q;k=4*(W*j+G),D!=2?q=[i(A[k]+H[k]),i(A[k+1]+H[k+1]),i(A[k+2]+H[k+2]),i(A[k+3]+H[k+3])]:(O=U[4*(3&W)+(3&G)],q=[i(A[k]+O),i(A[k+1]+O),i(A[k+2]+O),i(A[k+3]+O)]),I=0;let re=16777215;for(F=0;F<M;F++){const Q=o(q,P[F]);Q<re&&(re=Q,I=F)}const V=P[I],L=[q[0]-V[0],q[1]-V[1],q[2]-V[2],q[3]-V[3]];D==1&&(G!=j-1&&n(L,H,k+4,7),W!=z-1&&(G!=0&&n(L,H,k+4*j-4,3),n(L,H,k+4*j,5),G!=j-1&&n(L,H,k+4*j+4,1))),R[k>>2]=I,B[k>>2]=$[I]}}function c(A,j,z,$,w){w==null&&(w={});const{crc:R}=a,D=s.writeUint,M=s.writeUshort,P=s.writeASCII;let k=8;const I=A.frames.length>1;let F,O=!1,B=33+(I?20:0);if(w.sRGB!=null&&(B+=13),w.pHYs!=null&&(B+=21),w.iCCP!=null&&(F=pako.deflate(w.iCCP),B+=21+F.length+4),A.ctype==3){for(var H=A.plte.length,U=0;U<H;U++)A.plte[U]>>>24!=255&&(O=!0);B+=8+3*H+4+(O?8+1*H+4:0)}for(var q=0;q<A.frames.length;q++)I&&(B+=38),B+=(V=A.frames[q]).cimg.length+12,q!=0&&(B+=4);B+=12;const W=new Uint8Array(B),G=[137,80,78,71,13,10,26,10];for(U=0;U<8;U++)W[U]=G[U];if(D(W,k,13),k+=4,P(W,k,"IHDR"),k+=4,D(W,k,j),k+=4,D(W,k,z),k+=4,W[k]=A.depth,k++,W[k]=A.ctype,k++,W[k]=0,k++,W[k]=0,k++,W[k]=0,k++,D(W,k,R(W,k-17,17)),k+=4,w.sRGB!=null&&(D(W,k,1),k+=4,P(W,k,"sRGB"),k+=4,W[k]=w.sRGB,k++,D(W,k,R(W,k-5,5)),k+=4),w.iCCP!=null){const L=13+F.length;D(W,k,L),k+=4,P(W,k,"iCCP"),k+=4,P(W,k,"ICC profile"),k+=11,k+=2,W.set(F,k),k+=F.length,D(W,k,R(W,k-(L+4),L+4)),k+=4}if(w.pHYs!=null&&(D(W,k,9),k+=4,P(W,k,"pHYs"),k+=4,D(W,k,w.pHYs[0]),k+=4,D(W,k,w.pHYs[1]),k+=4,W[k]=w.pHYs[2],k++,D(W,k,R(W,k-13,13)),k+=4),I&&(D(W,k,8),k+=4,P(W,k,"acTL"),k+=4,D(W,k,A.frames.length),k+=4,D(W,k,w.loop!=null?w.loop:0),k+=4,D(W,k,R(W,k-12,12)),k+=4),A.ctype==3){for(D(W,k,3*(H=A.plte.length)),k+=4,P(W,k,"PLTE"),k+=4,U=0;U<H;U++){const L=3*U,Q=A.plte[U],J=255&Q,ue=Q>>>8&255,te=Q>>>16&255;W[k+L+0]=J,W[k+L+1]=ue,W[k+L+2]=te}if(k+=3*H,D(W,k,R(W,k-3*H-4,3*H+4)),k+=4,O){for(D(W,k,H),k+=4,P(W,k,"tRNS"),k+=4,U=0;U<H;U++)W[k+U]=A.plte[U]>>>24&255;k+=H,D(W,k,R(W,k-H-4,H+4)),k+=4}}let re=0;for(q=0;q<A.frames.length;q++){var V=A.frames[q];I&&(D(W,k,26),k+=4,P(W,k,"fcTL"),k+=4,D(W,k,re++),k+=4,D(W,k,V.rect.width),k+=4,D(W,k,V.rect.height),k+=4,D(W,k,V.rect.x),k+=4,D(W,k,V.rect.y),k+=4,M(W,k,$[q]),k+=2,M(W,k,1e3),k+=2,W[k]=V.dispose,k++,W[k]=V.blend,k++,D(W,k,R(W,k-30,30)),k+=4);const L=V.cimg;D(W,k,(H=L.length)+(q==0?0:4)),k+=4;const Q=k;P(W,k,q==0?"IDAT":"fdAT"),k+=4,q!=0&&(D(W,k,re++),k+=4),W.set(L,k),k+=H,D(W,k,R(W,Q,k-Q)),k+=4}return D(W,k,0),k+=4,P(W,k,"IEND"),k+=4,D(W,k,R(W,k-4,4)),k+=4,W.buffer}function h(A,j,z){for(let $=0;$<A.frames.length;$++){const w=A.frames[$];w.rect.width;const R=w.rect.height,D=new Uint8Array(R*w.bpl+R);w.cimg=u(w.img,R,w.bpp,w.bpl,D,j,z)}}function d(A,j,z,$,w){const R=w[0],D=w[1],M=w[2],P=w[3],k=w[4],I=w[5];let F=6,O=8,B=255;for(var H=0;H<A.length;H++){const Se=new Uint8Array(A[H]);for(var U=Se.length,q=0;q<U;q+=4)B&=Se[q+3]}const W=B!=255,G=function(oe,Z,ee,ge,ne,le){const Y=[];for(var ie=0;ie<oe.length;ie++){const ke=new Uint8Array(oe[ie]),$e=new Uint32Array(ke.buffer);var de;let it=0,mt=0,At=Z,Mt=ee,Jt=ge?1:0;if(ie!=0){const fs=le||ge||ie==1||Y[ie-2].dispose!=0?1:2;let is=0,hs=1e9;for(let We=0;We<fs;We++){var he=new Uint8Array(oe[ie-1-We]);const T=new Uint32Array(oe[ie-1-We]);let K=Z,X=ee,ae=-1,me=-1;for(let _e=0;_e<ee;_e++)for(let Ae=0;Ae<Z;Ae++)$e[Te=_e*Z+Ae]!=T[Te]&&(Ae<K&&(K=Ae),Ae>ae&&(ae=Ae),_e<X&&(X=_e),_e>me&&(me=_e));ae==-1&&(K=X=ae=me=0),ne&&((1&K)==1&&K--,(1&X)==1&&X--);const je=(ae-K+1)*(me-X+1);je<hs&&(hs=je,is=We,it=K,mt=X,At=ae-K+1,Mt=me-X+1)}he=new Uint8Array(oe[ie-1-is]),is==1&&(Y[ie-1].dispose=2),de=new Uint8Array(At*Mt*4),e(he,Z,ee,de,At,Mt,-it,-mt,0),Jt=e(ke,Z,ee,de,At,Mt,-it,-mt,3)?1:0,Jt==1?p(ke,Z,ee,de,{x:it,y:mt,width:At,height:Mt}):e(ke,Z,ee,de,At,Mt,-it,-mt,0)}else de=ke.slice(0);Y.push({rect:{x:it,y:mt,width:At,height:Mt},img:de,blend:Jt,dispose:0})}if(ge)for(ie=0;ie<Y.length;ie++){if((Ke=Y[ie]).blend==1)continue;const ke=Ke.rect,$e=Y[ie-1].rect,it=Math.min(ke.x,$e.x),mt=Math.min(ke.y,$e.y),At={x:it,y:mt,width:Math.max(ke.x+ke.width,$e.x+$e.width)-it,height:Math.max(ke.y+ke.height,$e.y+$e.height)-mt};Y[ie-1].dispose=1,ie-1!=0&&m(oe,Z,ee,Y,ie-1,At,ne),m(oe,Z,ee,Y,ie,At,ne)}let Pe=0;if(oe.length!=1)for(var Te=0;Te<Y.length;Te++){var Ke;Pe+=(Ke=Y[Te]).rect.width*Ke.rect.height}return Y}(A,j,z,R,D,M),re={},V=[],L=[];if($!=0){const Se=[];for(q=0;q<G.length;q++)Se.push(G[q].img.buffer);const oe=function(ne){let le=0;for(var Y=0;Y<ne.length;Y++)le+=ne[Y].byteLength;const ie=new Uint8Array(le);let de=0;for(Y=0;Y<ne.length;Y++){const he=new Uint8Array(ne[Y]),Pe=he.length;for(let Te=0;Te<Pe;Te+=4){let Ke=he[Te],ke=he[Te+1],$e=he[Te+2];const it=he[Te+3];it==0&&(Ke=ke=$e=0),ie[de+Te]=Ke,ie[de+Te+1]=ke,ie[de+Te+2]=$e,ie[de+Te+3]=it}de+=Pe}return ie.buffer}(Se),Z=y(oe,$);for(q=0;q<Z.plte.length;q++)V.push(Z.plte[q].est.rgba);let ee=0;for(q=0;q<G.length;q++){const ge=(J=G[q]).img.length;var Q=new Uint8Array(Z.inds.buffer,ee>>2,ge>>2);L.push(Q);const ne=new Uint8Array(Z.abuf,ee,ge);I&&l(J.img,J.rect.width,J.rect.height,V,ne,Q),J.img.set(ne),ee+=ge}}else for(H=0;H<G.length;H++){var J=G[H];const Se=new Uint32Array(J.img.buffer);var ue=J.rect.width;for(U=Se.length,Q=new Uint8Array(U),L.push(Q),q=0;q<U;q++){const oe=Se[q];if(q!=0&&oe==Se[q-1])Q[q]=Q[q-1];else if(q>ue&&oe==Se[q-ue])Q[q]=Q[q-ue];else{let Z=re[oe];if(Z==null&&(re[oe]=Z=V.length,V.push(oe),V.length>=300))break;Q[q]=Z}}}const te=V.length;for(te<=256&&k==0&&(O=te<=2?1:te<=4?2:te<=16?4:8,O=Math.max(O,P)),H=0;H<G.length;H++){(J=G[H]).rect.x,J.rect.y,ue=J.rect.width;const Se=J.rect.height;let oe=J.img;new Uint32Array(oe.buffer);let Z=4*ue,ee=4;if(te<=256&&k==0){Z=Math.ceil(O*ue/8);var pe=new Uint8Array(Z*Se);const ge=L[H];for(let ne=0;ne<Se;ne++){q=ne*Z;const le=ne*ue;if(O==8)for(var ye=0;ye<ue;ye++)pe[q+ye]=ge[le+ye];else if(O==4)for(ye=0;ye<ue;ye++)pe[q+(ye>>1)]|=ge[le+ye]<<4-4*(1&ye);else if(O==2)for(ye=0;ye<ue;ye++)pe[q+(ye>>2)]|=ge[le+ye]<<6-2*(3&ye);else if(O==1)for(ye=0;ye<ue;ye++)pe[q+(ye>>3)]|=ge[le+ye]<<7-1*(7&ye)}oe=pe,F=3,ee=1}else if(W==0&&G.length==1){pe=new Uint8Array(ue*Se*3);const ge=ue*Se;for(q=0;q<ge;q++){const ne=3*q,le=4*q;pe[ne]=oe[le],pe[ne+1]=oe[le+1],pe[ne+2]=oe[le+2]}oe=pe,F=2,ee=3,Z=3*ue}J.img=oe,J.bpl=Z,J.bpp=ee}return{ctype:F,depth:O,plte:V,frames:G}}function m(A,j,z,$,w,R,D){const M=Uint8Array,P=Uint32Array,k=new M(A[w-1]),I=new P(A[w-1]),F=w+1<A.length?new M(A[w+1]):null,O=new M(A[w]),B=new P(O.buffer);let H=j,U=z,q=-1,W=-1;for(let re=0;re<R.height;re++)for(let V=0;V<R.width;V++){const L=R.x+V,Q=R.y+re,J=Q*j+L,ue=B[J];ue==0||$[w-1].dispose==0&&I[J]==ue&&(F==null||F[4*J+3]!=0)||(L<H&&(H=L),L>q&&(q=L),Q<U&&(U=Q),Q>W&&(W=Q))}q==-1&&(H=U=q=W=0),D&&((1&H)==1&&H--,(1&U)==1&&U--),R={x:H,y:U,width:q-H+1,height:W-U+1};const G=$[w];G.rect=R,G.blend=1,G.img=new Uint8Array(R.width*R.height*4),$[w-1].dispose==0?(e(k,j,z,G.img,R.width,R.height,-R.x,-R.y,0),p(O,j,z,G.img,R)):e(O,j,z,G.img,R.width,R.height,-R.x,-R.y,0)}function p(A,j,z,$,w){e(A,j,z,$,w.width,w.height,-w.x,-w.y,2)}function u(A,j,z,$,w,R,D){const M=[];let P,k=[0,1,2,3,4];R!=-1?k=[R]:(j*$>5e5||z==1)&&(k=[0]),D&&(P={level:0});const I=RT;for(var F=0;F<k.length;F++){for(let H=0;H<j;H++)g(w,A,H,$,z,k[F]);M.push(I.deflate(w,P))}let O,B=1e9;for(F=0;F<M.length;F++)M[F].length<B&&(O=F,B=M[F].length);return M[O]}function g(A,j,z,$,w,R){const D=z*$;let M=D+z;if(A[M]=R,M++,R==0)if($<500)for(var P=0;P<$;P++)A[M+P]=j[D+P];else A.set(new Uint8Array(j.buffer,D,$),M);else if(R==1){for(P=0;P<w;P++)A[M+P]=j[D+P];for(P=w;P<$;P++)A[M+P]=j[D+P]-j[D+P-w]+256&255}else if(z==0){for(P=0;P<w;P++)A[M+P]=j[D+P];if(R==2)for(P=w;P<$;P++)A[M+P]=j[D+P];if(R==3)for(P=w;P<$;P++)A[M+P]=j[D+P]-(j[D+P-w]>>1)+256&255;if(R==4)for(P=w;P<$;P++)A[M+P]=j[D+P]-r(j[D+P-w],0,0)+256&255}else{if(R==2)for(P=0;P<$;P++)A[M+P]=j[D+P]+256-j[D+P-$]&255;if(R==3){for(P=0;P<w;P++)A[M+P]=j[D+P]+256-(j[D+P-$]>>1)&255;for(P=w;P<$;P++)A[M+P]=j[D+P]+256-(j[D+P-$]+j[D+P-w]>>1)&255}if(R==4){for(P=0;P<w;P++)A[M+P]=j[D+P]+256-r(0,j[D+P-$],0)&255;for(P=w;P<$;P++)A[M+P]=j[D+P]+256-r(j[D+P-w],j[D+P-$],j[D+P-w-$])&255}}}function y(A,j){const z=new Uint8Array(A),$=z.slice(0),w=new Uint32Array($.buffer),R=_($,j),D=R[0],M=R[1],P=z.length,k=new Uint8Array(P>>2);let I;if(z.length<2e7)for(var F=0;F<P;F+=4)I=x(D,O=z[F]*(1/255),B=z[F+1]*(1/255),H=z[F+2]*(1/255),U=z[F+3]*(1/255)),k[F>>2]=I.ind,w[F>>2]=I.est.rgba;else for(F=0;F<P;F+=4){var O=z[F]*.00392156862745098,B=z[F+1]*(1/255),H=z[F+2]*(1/255),U=z[F+3]*(1/255);for(I=D;I.left;)I=v(I.est,O,B,H,U)<=0?I.left:I.right;k[F>>2]=I.ind,w[F>>2]=I.est.rgba}return{abuf:$.buffer,inds:k,plte:M}}function _(A,j,z){z==null&&(z=1e-4);const $=new Uint32Array(A.buffer),w={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=E(A,w.i0,w.i1),w.est=S(w.bst);const R=[w];for(;R.length<j;){let M=0,P=0;for(var D=0;D<R.length;D++)R[D].est.L>M&&(M=R[D].est.L,P=D);if(M<z)break;const k=R[P],I=C(A,$,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=I||k.i1<=I){k.est.L=0;continue}const F={i0:k.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};F.bst=E(A,F.i0,F.i1),F.est=S(F.bst);const O={i0:I,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:k.bst.N-F.bst.N},D=0;D<16;D++)O.bst.R[D]=k.bst.R[D]-F.bst.R[D];for(D=0;D<4;D++)O.bst.m[D]=k.bst.m[D]-F.bst.m[D];O.est=S(O.bst),k.left=F,k.right=O,R[P]=F,R.push(O)}for(R.sort((M,P)=>P.bst.N-M.bst.N),D=0;D<R.length;D++)R[D].ind=D;return[w,R]}function x(A,j,z,$,w){if(A.left==null)return A.tdst=function(F,O,B,H,U){const q=O-F[0],W=B-F[1],G=H-F[2],re=U-F[3];return q*q+W*W+G*G+re*re}(A.est.q,j,z,$,w),A;const R=v(A.est,j,z,$,w);let D=A.left,M=A.right;R>0&&(D=A.right,M=A.left);const P=x(D,j,z,$,w);if(P.tdst<=R*R)return P;const k=x(M,j,z,$,w);return k.tdst<P.tdst?k:P}function v(A,j,z,$,w){const{e:R}=A;return R[0]*j+R[1]*z+R[2]*$+R[3]*w-A.eMq}function C(A,j,z,$,w,R){for($-=4;z<$;){for(;N(A,z,w)<=R;)z+=4;for(;N(A,$,w)>R;)$-=4;if(z>=$)break;const D=j[z>>2];j[z>>2]=j[$>>2],j[$>>2]=D,z+=4,$-=4}for(;N(A,z,w)>R;)z-=4;return z+4}function N(A,j,z){return A[j]*z[0]+A[j+1]*z[1]+A[j+2]*z[2]+A[j+3]*z[3]}function E(A,j,z){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],R=z-j>>2;for(let D=j;D<z;D+=4){const M=A[D]*.00392156862745098,P=A[D+1]*(1/255),k=A[D+2]*(1/255),I=A[D+3]*(1/255);w[0]+=M,w[1]+=P,w[2]+=k,w[3]+=I,$[0]+=M*M,$[1]+=M*P,$[2]+=M*k,$[3]+=M*I,$[5]+=P*P,$[6]+=P*k,$[7]+=P*I,$[10]+=k*k,$[11]+=k*I,$[15]+=I*I}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:w,N:R}}function S(A){const{R:j}=A,{m:z}=A,{N:$}=A,w=z[0],R=z[1],D=z[2],M=z[3],P=$==0?0:1/$,k=[j[0]-w*w*P,j[1]-w*R*P,j[2]-w*D*P,j[3]-w*M*P,j[4]-R*w*P,j[5]-R*R*P,j[6]-R*D*P,j[7]-R*M*P,j[8]-D*w*P,j[9]-D*R*P,j[10]-D*D*P,j[11]-D*M*P,j[12]-M*w*P,j[13]-M*R*P,j[14]-M*D*P,j[15]-M*M*P],I=k,F=b;let O=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,H=0;if($!=0)for(let q=0;q<16&&(O=F.multVec(I,O),H=Math.sqrt(F.dot(O,O)),O=F.sml(1/H,O),!(q!=0&&Math.abs(H-B)<1e-9));q++)B=H;const U=[w*P,R*P,D*P,M*P];return{Cov:k,q:U,e:O,L:B,eMq255:F.dot(F.sml(255,U),O),eMq:F.dot(O,U),rgba:(Math.round(255*U[3])<<24|Math.round(255*U[2])<<16|Math.round(255*U[1])<<8|Math.round(255*U[0])<<0)>>>0}}var b={multVec:(A,j)=>[A[0]*j[0]+A[1]*j[1]+A[2]*j[2]+A[3]*j[3],A[4]*j[0]+A[5]*j[1]+A[6]*j[2]+A[7]*j[3],A[8]*j[0]+A[9]*j[1]+A[10]*j[2]+A[11]*j[3],A[12]*j[0]+A[13]*j[1]+A[14]*j[2]+A[15]*j[3]],dot:(A,j)=>A[0]*j[0]+A[1]*j[1]+A[2]*j[2]+A[3]*j[3],sml:(A,j)=>[A*j[0],A*j[1],A*j[2],A*j[3]]};Sr.encode=function(j,z,$,w,R,D,M){w==null&&(w=0),M==null&&(M=!1);const P=d(j,z,$,w,[!1,!1,!1,0,M,!1]);return h(P,-1),c(P,z,$,R,D)},Sr.encodeLL=function(j,z,$,w,R,D,M,P){const k={ctype:0+(w==1?0:2)+(R==0?0:4),depth:D,frames:[]},I=(w+R)*D,F=I*z;for(let O=0;O<j.length;O++)k.frames.push({rect:{x:0,y:0,width:z,height:$},img:new Uint8Array(j[O]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(F/8)});return h(k,0,!0),c(k,z,$,M,P)},Sr.encode.compress=d,Sr.encode.dither=l,Sr.quantize=y,Sr.quantize.getKDtree=_,Sr.quantize.getNearest=x})();const i1={toArrayBuffer(e,s){const r=e.width,a=e.height,n=r<<2,i=e.getContext("2d").getImageData(0,0,r,a),o=new Uint32Array(i.data.buffer),l=(32*r+31)/32<<2,c=l*a,h=122+c,d=new ArrayBuffer(h),m=new DataView(d),p=1<<20;let u,g,y,_,x=p,v=0,C=0,N=0;function E(A){m.setUint16(C,A,!0),C+=2}function S(A){m.setUint32(C,A,!0),C+=4}function b(A){C+=A}E(19778),S(h),b(4),S(122),S(108),S(r),S(-a>>>0),E(1),E(32),S(3),S(c),S(2835),S(2835),b(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function A(){for(;v<a&&x>0;){for(_=122+v*l,u=0;u<n;)x--,g=o[N++],y=g>>>24,m.setUint32(_+u,g<<8|y),u+=4;v++}N<o.length?(x=p,setTimeout(A,i1._dly)):s(d)}()},toBlob(e,s){this.toArrayBuffer(e,r=>{s(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Ls={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},FT={[Ls.CHROME]:16384,[Ls.FIREFOX]:11180,[Ls.DESKTOP_SAFARI]:16384,[Ls.IE]:8192,[Ls.IOS]:4096,[Ls.ETC]:8192};const Th=typeof window<"u",o1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ud=Th&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),DT=(Th||o1)&&(ud&&ud.getOriginalSymbol(window,"File")||typeof File<"u"&&File),l1=(Th||o1)&&(ud&&ud.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function zh(e,s,r=Date.now()){return new Promise(a=>{const n=e.split(","),i=n[0].match(/:(.*?);/)[1],o=globalThis.atob(n[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const h=new Blob([c],{type:i});h.name=s,h.lastModified=r,a(h)})}function c1(e){return new Promise((s,r)=>{const a=new l1;a.onload=()=>s(a.result),a.onerror=n=>r(n),a.readAsDataURL(e)})}function d1(e){return new Promise((s,r)=>{const a=new Image;a.onload=()=>s(a),a.onerror=n=>r(n),a.src=e})}function mn(){if(mn.cachedResult!==void 0)return mn.cachedResult;let e=Ls.ETC;const{userAgent:s}=navigator;return/Chrom(e|ium)/i.test(s)?e=Ls.CHROME:/iP(ad|od|hone)/i.test(s)&&/WebKit/i.test(s)?e=Ls.IOS:/Safari/i.test(s)?e=Ls.DESKTOP_SAFARI:/Firefox/i.test(s)?e=Ls.FIREFOX:(/MSIE/i.test(s)||document.documentMode)&&(e=Ls.IE),mn.cachedResult=e,mn.cachedResult}function u1(e,s){const r=mn(),a=FT[r];let n=e,i=s,o=n*i;const l=n>i?i/n:n/i;for(;o>a*a;){const c=(a+n)/2,h=(a+i)/2;c<h?(i=h,n=h*l):(i=c*l,n=c),o=n*i}return{width:n,height:i}}function Au(e,s){let r,a;try{if(r=new OffscreenCanvas(e,s),a=r.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),a=r.getContext("2d")}return r.width=e,r.height=s,[r,a]}function m1(e,s){const{width:r,height:a}=u1(e.width,e.height),[n,i]=Au(r,a);return s&&/jpe?g/.test(s)&&(i.fillStyle="white",i.fillRect(0,0,n.width,n.height)),i.drawImage(e,0,0,n.width,n.height),n}function jc(){return jc.cachedResult!==void 0||(jc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),jc.cachedResult}function md(e,s={}){return new Promise(function(r,a){let n,i;var o=function(){try{return i=m1(n,s.fileType||e.type),r([n,i])}catch(c){return a(c)}},l=function(c){try{var h=function(d){try{throw d}catch(m){return a(m)}};try{let d;return c1(e).then(function(m){try{return d=m,d1(d).then(function(p){try{return n=p,function(){try{return o()}catch(u){return a(u)}}()}catch(u){return h(u)}},h)}catch(p){return h(p)}},h)}catch(d){h(d)}}catch(d){return a(d)}};try{if(jc()||[Ls.DESKTOP_SAFARI,Ls.MOBILE_SAFARI].includes(mn()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return n=c,o()}catch{return l()}},l)}catch{l()}})}function pd(e,s,r,a,n=1){return new Promise(function(i,o){let l;if(s==="image/png"){let m,p,u;return m=e.getContext("2d"),{data:p}=m.getImageData(0,0,e.width,e.height),u=Sr.encode([p.buffer],e.width,e.height,4096*n),l=new Blob([u],{type:s}),l.name=r,l.lastModified=a,c.call(this)}{let m=function(){return c.call(this)};var h=m;if(s==="image/bmp")return new Promise(p=>i1.toBlob(e,p)).then((function(p){try{return l=p,l.name=r,l.lastModified=a,m.call(this)}catch(u){return o(u)}}).bind(this),o);{let p=function(){return m.call(this)};var d=p;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:s,quality:n}).then((function(u){try{return l=u,l.name=r,l.lastModified=a,p.call(this)}catch(g){return o(g)}}).bind(this),o);{let u;return u=e.toDataURL(s,n),zh(u,r,a).then((function(g){try{return l=g,p.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function c(){return i(l)}})}function Kr(e){e.width=0,e.height=0}function ei(){return new Promise(function(e,s){let r,a,n,i;return ei.cachedResult!==void 0?e(ei.cachedResult):zh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return r=o,md(r).then(function(l){try{return a=l[1],pd(a,r.type,r.name,r.lastModified).then(function(c){try{return n=c,Kr(a),md(n).then(function(h){try{return i=h[0],ei.cachedResult=i.width===1&&i.height===2,e(ei.cachedResult)}catch(d){return s(d)}},s)}catch(h){return s(h)}},s)}catch(c){return s(c)}},s)}catch(l){return s(l)}},s)})}function p1(e){return new Promise((s,r)=>{const a=new l1;a.onload=n=>{const i=new DataView(n.target.result);if(i.getUint16(0,!1)!=65496)return s(-2);const o=i.byteLength;let l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return s(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return s(-1);const h=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,h);const d=i.getUint16(l,h);l+=2;for(let m=0;m<d;m++)if(i.getUint16(l+12*m,h)==274)return s(i.getUint16(l+12*m+8,h))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return s(-1)},a.onerror=n=>r(n),a.readAsArrayBuffer(e)})}function f1(e,s){const{width:r}=e,{height:a}=e,{maxWidthOrHeight:n}=s;let i,o=e;return isFinite(n)&&(r>n||a>n)&&([o,i]=Au(r,a),r>a?(o.width=n,o.height=a/r*n):(o.width=r/a*n,o.height=n),i.drawImage(e,0,0,o.width,o.height),Kr(e)),o}function h1(e,s){const{width:r}=e,{height:a}=e,[n,i]=Au(r,a);switch(s>4&&s<9?(n.width=a,n.height=r):(n.width=r,n.height=a),s){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,a);break;case 4:i.transform(1,0,0,-1,0,a);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,a,0);break;case 7:i.transform(0,-1,-1,0,a,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,a),Kr(e),n}function D0(e,s,r=0){return new Promise(function(a,n){let i,o,l,c,h,d,m,p,u,g,y,_,x,v,C,N,E,S,b,A;function j($=5){if(s.signal&&s.signal.aborted)throw s.signal.reason;i+=$,s.onProgress(Math.min(i,100))}function z($){if(s.signal&&s.signal.aborted)throw s.signal.reason;i=Math.min(Math.max($,i),100),s.onProgress(i)}return i=r,o=s.maxIteration||10,l=1024*s.maxSizeMB*1024,j(),md(e,s).then((function($){try{return[,c]=$,j(),h=f1(c,s),j(),new Promise(function(w,R){var D;if(!(D=s.exifOrientation))return p1(e).then((function(P){try{return D=P,M.call(this)}catch(k){return R(k)}}).bind(this),R);function M(){return w(D)}return M.call(this)}).then((function(w){try{return d=w,j(),ei().then((function(R){try{return m=R?h:h1(h,d),j(),p=s.initialQuality||1,u=s.fileType||e.type,pd(m,u,e.name,e.lastModified,p).then((function(D){try{{let I=function(){if(o--&&(C>l||C>x)){let O,B;return O=A?.95*b.width:b.width,B=A?.95*b.height:b.height,[E,S]=Au(O,B),S.drawImage(b,0,0,O,B),p*=u==="image/png"?.85:.95,pd(E,u,e.name,e.lastModified,p).then(function(H){try{return N=H,Kr(b),b=E,C=N.size,z(Math.min(99,Math.floor((v-C)/(v-l)*100))),I}catch(U){return n(U)}},n)}return[1]},F=function(){return Kr(b),Kr(E),Kr(h),Kr(m),Kr(c),z(100),a(N)};var P=I,k=F;if(g=D,j(),y=g.size>l,_=g.size>e.size,!y&&!_)return z(100),a(g);var M;return x=e.size,v=g.size,C=v,b=m,A=!s.alwaysKeepResolution&&y,(M=(function(O){for(;O;){if(O.then)return void O.then(M,n);try{if(O.pop){if(O.length)return O.pop()?F.call(this):O;O=I}else O=O.call(this)}catch(B){return n(B)}}}).bind(this))(I)}}catch(I){return n(I)}}).bind(this),n)}catch(D){return n(D)}}).bind(this),n)}catch(R){return n(R)}}).bind(this),n)}catch(w){return n(w)}}).bind(this),n)})}const $T=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let bm;function MT(e,s){return new Promise((r,a)=>{bm||(bm=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}($T));const n=new Worker(bm);n.addEventListener("message",function(o){if(s.signal&&s.signal.aborted)n.terminate();else if(o.data.progress===void 0){if(o.data.error)return a(new Error(o.data.error)),void n.terminate();r(o.data.file),n.terminate()}else s.onProgress(o.data.progress)}),n.addEventListener("error",a),s.signal&&s.signal.addEventListener("abort",()=>{a(s.signal.reason),n.terminate()}),n.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})})}function vs(e,s){return new Promise(function(r,a){let n,i,o,l,c,h;if(n={...s},o=0,{onProgress:l}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=u=>{o=u,typeof l=="function"&&l(o)},!(e instanceof Blob||e instanceof DT))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||h)return D0(e,n).then((function(u){try{return i=u,p.call(this)}catch(g){return a(g)}}).bind(this),a);var d=(function(){try{return p.call(this)}catch(u){return a(u)}}).bind(this),m=function(u){try{return D0(e,n).then(function(g){try{return i=g,d()}catch(y){return a(y)}},a)}catch(g){return a(g)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",MT(e,n).then(function(u){try{return i=u,d()}catch{return m()}},m)}catch{m()}function p(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{n.preserveExif&&e.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===e.type)&&(i=n1(e,i))}catch{}return r(i)}})}vs.getDataUrlFromFile=c1,vs.getFilefromDataUrl=zh,vs.loadImage=d1,vs.drawImageInCanvas=m1,vs.drawFileInCanvas=md,vs.canvasToFile=pd,vs.getExifOrientation=p1,vs.handleMaxWidthOrHeight=f1,vs.followExifOrientation=h1,vs.cleanupCanvasMemory=Kr,vs.isAutoOrientationInBrowser=ei,vs.approximateBelowMaximumCanvasSizeOfBrowser=u1,vs.copyExifWithoutOrientation=n1,vs.getBrowserName=mn,vs.version="2.0.2";const LT=()=>{var We;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[m,p]=f.useState([]),[u,g]=f.useState([]),[y,_]=f.useState([]),[x,v]=f.useState(!0),[C,N]=f.useState(!1),[E,S]=f.useState(!1),[b,A]=f.useState(!1),[j,z]=f.useState(!1),[$,w]=f.useState("inventory"),[R,D]=f.useState(!1),[M,P]=f.useState({key:null,direction:"asc"}),[k,I]=f.useState(""),[F,O]=f.useState("all"),[B,H]=f.useState({acc_id:"",category_id:"",sub_category_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),[U,q]=f.useState({}),[W,G]=f.useState(!1),[re,V]=f.useState(!1),[L,Q]=f.useState(null),[J,ue]=f.useState(!1),[te,pe]=f.useState(new Map),[ye,Se]=f.useState(null);f.useEffect(()=>{he()},[]),f.useEffect(()=>{Ke()},[$]),f.useEffect(()=>{if($==="batches"||i.length>0)return;(async()=>{try{let K=te;K.size===0&&(K=await he());const X={};k&&(X.search=k);const ae=await Ue.getCodeBatches(X);let me=[];ae.data?me=ae.data||[]:ae.batches?me=ae.batches||[]:me=Array.isArray(ae)?ae:[];const je=await Te(me,K);o(je)}catch(K){console.error("Failed to load batches:",K)}})()},[k]),f.useEffect(()=>{R&&oe()},[R]),f.useEffect(()=>(s("Certificate Codes"),r("Manage your certificate code inventory and purchases"),e(t.jsxs("button",{onClick:$e,className:"header-create-btn",children:[t.jsx(_p,{size:20}),"Purchase Codes"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const oe=async()=>{try{const K=((await Ue.getAuthorizationStatus()).authorizations||[]).filter(me=>me.status==="approved"),X=new Map;K.forEach(me=>{var _e,Ae;const je=me.acc_id||((_e=me.acc)==null?void 0:_e.id);if(je){const xe=typeof je=="string"?parseInt(je):je;X.has(xe)||X.set(xe,{id:xe,name:((Ae=me.acc)==null?void 0:Ae.name)||`ACC ${xe}`})}});const ae=Array.from(X.values());console.log("Approved ACCs:",ae),d(ae),p([]),g([]),c([])}catch(T){console.error("Failed to load form data:",T),d([]),c([])}},Z=async T=>{try{S(!0),console.log(`Loading categories for ACC ${T}`);const K=await Ue.getCategoriesForACC(T),X=K.categories||K.data||K||[];p(X),console.log(`Loaded ${X.length} categories for ACC ${T}`)}catch(K){console.error("Failed to load categories:",K),p([])}finally{S(!1)}},ee=async T=>{try{A(!0),console.log(`Loading sub-categories for category ${T}`);const K=await Ue.getSubCategoriesForCategory(T),X=K.sub_categories||K.data||K||[];g(X),console.log(`Loaded ${X.length} sub-categories for category ${T}`)}catch(K){console.error("Failed to load sub-categories:",K),g([])}finally{A(!1)}},ge=async(T,K)=>{if(!T||!K){c([]);return}N(!0);try{const X=typeof T=="string"?parseInt(T):T;console.log(`Loading courses for ACC ${X} and sub-category ${K}`);const ae=await Ue.getCoursesForACC(X,{sub_category_id:K}),me=ae.courses||ae.data||ae||[];console.log(`Loaded ${me.length} courses for sub-category ${K}`),c(me)}catch(X){console.error("Failed to load courses:",X),c([])}finally{N(!1)}},ne=async T=>{H({...B,acc_id:T,category_id:"",sub_category_id:"",course_id:"",discount_code:"",payment_amount:""}),p([]),g([]),c([]),_([]),Se(null),Q(null),T&&Z(T)},le=async T=>{B.acc_id,H(K=>({...K,category_id:T,sub_category_id:"",course_id:"",discount_code:"",payment_amount:""})),g([]),c([]),_([]),T&&ee(T)},Y=async T=>{const K=B.acc_id;H(X=>({...X,sub_category_id:T,course_id:"",discount_code:"",payment_amount:""})),c([]),_([]),!(!T||!K)&&ge(K,T)},ie=async(T,K)=>{var X,ae,me,je;if(!T||!K){_([]);return}z(!0);try{const _e=typeof T=="string"?parseInt(T):T,Ae=typeof K=="string"?parseInt(K):K,xe=Cp(),we="https://aeroenix.com/v1/api";console.log(`Loading discount codes for ACC ${_e} and Course ${Ae}`);const ve=[`${we}/training-center/accs/${_e}/courses/${Ae}/discount-codes`,`${we}/training-center/discount-codes?acc_id=${_e}&course_id=${Ae}`,`${we}/acc/${_e}/discount-codes?course_id=${Ae}`,`${we}/training-center/discount-codes?acc_id=${_e}`,`${we}/acc/${_e}/discount-codes`];let ze=[],Je=null;for(const Re of ve)try{console.log(`Trying endpoint: ${Re}`);const Ie=await kt.get(Re,{headers:{Authorization:`Bearer ${xe}`,Accept:"application/json"}});console.log(`Response from ${Re}:`,Ie.data);const tt=Ie.data;if(ze=tt.discount_codes||tt.discountCodes||tt.codes||tt.data||tt||[],Array.isArray(ze)||(ze=[]),console.log(`Raw codes list (${ze.length} items):`,ze),ze.length>0&&(ze=ze.filter(se=>{const Fe=!(se.status!==void 0)||se.status==="active"||se.is_active===!0||se.status!=="inactive",rt=!(se.expires_at!==void 0&&se.expires_at!==null)||new Date(se.expires_at)>new Date,gs=!(se.max_uses!==void 0&&se.max_uses!==null)||(se.used_count||0)<se.max_uses,Ir=Fe&&rt&&gs;return console.log(`Code ${se.code||se.discount_code||se.id}: active=${Fe}, notExpired=${rt}, hasUsesLeft=${gs}, isValid=${Ir}`),Ir}),console.log(`Filtered codes list (${ze.length} items):`,ze)),ze.length>0){console.log(`Successfully loaded ${ze.length} discount codes from ${Re}`);break}else if(ze.length===0&&Array.isArray(tt.discount_codes||tt.discountCodes||tt.codes||tt.data||tt)){console.log(`No discount codes available from ${Re}`);break}}catch(Ie){console.log(`Endpoint ${Re} failed:`,(X=Ie.response)==null?void 0:X.status,((ae=Ie.response)==null?void 0:ae.data)||Ie.message),Je=Ie;continue}console.log(`Final discount codes for ACC ${_e} and Course ${Ae}:`,ze),_(ze),ze.length===0&&Je&&console.warn("No discount codes found. All endpoints failed or returned empty results.")}catch(_e){console.error("Failed to load discount codes:",_e),console.error("Error details:",(me=_e.response)==null?void 0:me.status,(je=_e.response)==null?void 0:je.data),_([])}finally{z(!1)}},de=async T=>{if(H({...B,course_id:T,discount_code:"",payment_amount:""}),B.acc_id&&T){if(ie(B.acc_id,T),B.payment_method==="manual_payment"&&B.quantity)try{const K={acc_id:parseInt(B.acc_id,10),course_id:parseInt(T,10),quantity:parseInt(B.quantity,10)},X=await Ue.createPaymentIntent(K);X.manual_payment_info&&(Se(X.manual_payment_info),H(ae=>({...ae,payment_amount:X.final_amount||X.total_amount||""})))}catch(K){console.error("Failed to load manual payment info:",K)}}else _([])},he=async()=>{try{const T=await Ue.listACCs(),K=Array.isArray(T)?T:T.accs||T.data||[],X=new Map;return K.forEach(ae=>{const me=ae.id||ae.acc_id;me&&(X.set(me,ae),X.set(String(me),ae))}),pe(X),console.log("Loaded ACCs map:",X.size,"ACCs"),X}catch(T){return console.error("Failed to load ACCs:",T),new Map}},Pe=async T=>{var K,X;if(!T)return null;try{const ae=Cp(),me="https://aeroenix.com/v1/api",je=[`${me}/training-center/accs/${T}`,`${me}/admin/accs/${T}`];for(const _e of je)try{const Ae=await kt.get(_e,{headers:{Authorization:`Bearer ${ae}`,Accept:"application/json"}}),xe=((K=Ae.data)==null?void 0:K.acc)||((X=Ae.data)==null?void 0:X.data)||Ae.data;if(xe&&(xe.id||xe.acc_id)){const we=new Map(te),ve=xe.id||xe.acc_id;return we.set(ve,xe),we.set(String(ve),xe),pe(we),xe}}catch{continue}}catch(ae){console.error(`Failed to fetch ACC details for ID ${T}:`,ae)}return null},Te=async(T,K)=>{var ae,me;const X=[];for(const je of T){const _e=je.acc_id||(typeof je.acc=="object"?(ae=je.acc)==null?void 0:ae.id:null)||(je.acc&&typeof je.acc=="number"?je.acc:null)||(je.acc&&typeof je.acc=="string"&&!isNaN(je.acc)?parseInt(je.acc):null);if(typeof je.acc=="object"&&((me=je.acc)!=null&&me.name)&&je.acc.name!=="Unknown ACC"){X.push(je);continue}if(_e){let Ae=K.get(_e)||K.get(String(_e));Ae||(Ae=await Pe(_e),Ae&&(K=new Map(K),K.set(_e,Ae),K.set(String(_e),Ae))),Ae?X.push({...je,acc:{id:Ae.id||Ae.acc_id||_e,name:Ae.name||Ae.acc_name||`ACC ${_e}`,...Ae}}):X.push({...je,acc:{id:_e,name:`ACC ${_e}`}})}else X.push(je)}return X},Ke=async()=>{try{v(!0);let T=te;T.size===0&&(T=await he());const K={};if($==="inventory"){const X=await Ue.getCodeInventory({});let ae=[];X.data?ae=X.data||[]:X.codes?ae=X.codes||[]:ae=Array.isArray(X)?X:[];const me=await Te(ae,T);n(me)}else{const X=await Ue.getCodeBatches({});let ae=[];X.data?ae=X.data||[]:X.batches?ae=X.batches||[]:ae=Array.isArray(X)?X:[];const me=await Te(ae,T);o(me)}}catch(T){console.error("Failed to load data:",T),$==="inventory"?n([]):o([])}finally{v(!1)}},ke=f.useMemo(()=>{let T=[...a];if(k){const K=k.toLowerCase();T=T.filter(X=>{var xe,we;const ae=X.code||"",me=typeof X.acc=="object"?((xe=X.acc)==null?void 0:xe.name)||"":X.acc||"",je=typeof X.course=="object"?((we=X.course)==null?void 0:we.name)||"":X.course||"",_e=X.status||"";return[ae,me,je,_e].filter(Boolean).join(" ").toLowerCase().includes(K)})}return F!=="all"&&(T=T.filter(K=>K.status===F)),M.key&&T.sort((K,X)=>{var je,_e;let ae,me;return typeof K[M.key]=="object"&&K[M.key]!==null?ae=((je=K[M.key])==null?void 0:je.name)||"":ae=K[M.key]||"",typeof X[M.key]=="object"&&X[M.key]!==null?me=((_e=X[M.key])==null?void 0:_e.name)||"":me=X[M.key]||"",typeof ae=="string"&&(ae=ae.toLowerCase()),typeof me=="string"&&(me=me.toLowerCase()),ae<me?M.direction==="asc"?-1:1:ae>me?M.direction==="asc"?1:-1:0}),T},[a,k,F,M]),$e=()=>{H({acc_id:"",category_id:"",sub_category_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),q({}),Q(null),Se(null),p([]),g([]),c([]),_([]),D(!0)},it=async()=>{var ae,me,je,_e;if(!B.acc_id){q({general:"Please select an ACC"});return}if(!B.course_id){q({general:"Please select a course"});return}if(!B.quantity||parseInt(B.quantity)<=0){q({general:"Please enter a valid quantity"});return}const T=parseInt(B.acc_id,10),K=parseInt(B.course_id,10),X=parseInt(B.quantity,10);if(isNaN(T)||isNaN(K)||isNaN(X)||X<1){q({general:"Invalid data. Please check your selections and try again."});return}V(!0),q({}),Q(null),Se(null);try{const Ae={acc_id:parseInt(T,10),course_id:parseInt(K,10),quantity:parseInt(X,10)};if(Ae.quantity<1){q({general:"Quantity must be at least 1."}),V(!1);return}B.discount_code&&B.discount_code.trim()&&(Ae.discount_code=B.discount_code.trim());const xe=await Ue.createPaymentIntent(Ae);xe.manual_payment_info&&Se(xe.manual_payment_info),B.payment_method==="credit_card"&&(xe.success&&xe.client_secret&&xe.payment_intent_id?(Q({...xe,commission_amount:xe.commission_amount,provider_amount:xe.provider_amount,payment_type:xe.payment_type||"standard"}),H(we=>({...we,payment_intent_id:xe.payment_intent_id})),ue(!0)):q({general:"Failed to create payment intent. Invalid response from server."}))}catch(Ae){if(console.error("Failed to create payment intent:",Ae),((ae=Ae.response)==null?void 0:ae.status)===422){const xe=Ae.response.data;if(xe.errors){const we={};Object.keys(xe.errors).forEach(ve=>{we[ve]=Array.isArray(xe.errors[ve])?xe.errors[ve][0]:xe.errors[ve]}),q(we)}else xe.message?q({general:xe.message}):q({general:"Validation failed. Please check your input."})}else if(((me=Ae.response)==null?void 0:me.status)===400){const xe=Ae.response.data;q({general:(xe==null?void 0:xe.message)||"Payment service unavailable. Please contact support."})}else if(((je=Ae.response)==null?void 0:je.status)===500){const xe=Ae.response.data;q({general:(xe==null?void 0:xe.message)||"Failed to create payment intent. Please try again later."})}else if((_e=Ae.response)!=null&&_e.data){const xe=Ae.response.data;if(xe.errors){const we={};Object.keys(xe.errors).forEach(ve=>{we[ve]=Array.isArray(xe.errors[ve])?xe.errors[ve][0]:xe.errors[ve]}),q(we)}else xe.message?q({general:xe.message}):q({general:"Failed to create payment intent. Please try again."})}else Ae.message?q({general:Ae.message}):q({general:"Failed to create payment intent. Please try again."})}finally{V(!1)}},mt=async T=>{T.preventDefault(),B.payment_method==="manual_payment"?await At():await it()},At=async()=>{var me,je,_e;if(!B.acc_id){q({general:"Please select an ACC"});return}if(!B.course_id){q({general:"Please select a course"});return}if(!B.quantity||parseInt(B.quantity)<=0){q({general:"Please enter a valid quantity"});return}if(!B.payment_receipt){q({payment_receipt:"Please upload payment receipt"});return}if(!B.payment_amount||parseFloat(B.payment_amount)<=0){q({payment_amount:"Please enter a valid payment amount"});return}const T=parseInt(B.acc_id,10),K=parseInt(B.course_id,10),X=parseInt(B.quantity,10),ae=parseFloat(B.payment_amount);if(isNaN(T)||isNaN(K)||isNaN(X)||X<1||isNaN(ae)||ae<=0){q({general:"Invalid data. Please check your input."});return}G(!0),q({});try{const Ae={acc_id:T,course_id:K,quantity:X};B.discount_code&&B.discount_code.trim()&&(Ae.discount_code=B.discount_code.trim());const xe=await Ue.createPaymentIntent(Ae),we=parseFloat(xe.final_amount||xe.total_amount||0);if(Math.abs(ae-we)>.01){q({payment_amount:`Payment amount must match the calculated total amount: $${we.toFixed(2)}`}),G(!1);return}const ve=new FormData;ve.append("acc_id",T),ve.append("course_id",K),ve.append("quantity",X),ve.append("payment_method","manual_payment"),ve.append("payment_amount",ae),ve.append("payment_receipt",B.payment_receipt),B.discount_code&&B.discount_code.trim()&&ve.append("discount_code",B.discount_code.trim()),console.log(" FormData Contents for Code Purchase:"),console.log(" FormData object:",ve);for(const[Je,Re]of ve.entries())Re instanceof File?console.log(`  ${Je}: File(${Re.name}, ${Re.size} bytes, ${Re.type})`):console.log(`  ${Je}:`,Re);console.log(" Sending POST request to /training-center/codes/purchase (FormData - Content-Type will be set automatically by browser)");const ze=await Ue.purchaseCodes(ve);await Ke(),D(!1),H({acc_id:"",category_id:"",sub_category_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),Q(null),Se(null),p([]),g([]),c([]),alert("Payment request submitted successfully. Waiting for approval.")}catch(Ae){if(console.error("Failed to submit manual payment:",Ae),((me=Ae.response)==null?void 0:me.status)===422){const xe=Ae.response.data;if(xe.errors){const we={};Object.keys(xe.errors).forEach(ve=>{we[ve]=Array.isArray(xe.errors[ve])?xe.errors[ve][0]:xe.errors[ve]}),q(we)}else xe.message?q({general:xe.message}):q({general:"Validation failed. Please check your input."})}else if(((je=Ae.response)==null?void 0:je.status)===400){const xe=Ae.response.data;q({general:(xe==null?void 0:xe.message)||"Invalid payment amount or receipt."})}else if((_e=Ae.response)!=null&&_e.data){const xe=Ae.response.data;if(xe.errors){const we={};Object.keys(xe.errors).forEach(ve=>{we[ve]=Array.isArray(xe.errors[ve])?xe.errors[ve][0]:xe.errors[ve]}),q(we)}else xe.message?q({general:xe.message}):q({general:"Failed to submit payment request. Please try again."})}else q({general:"Failed to submit payment request. Please try again."})}finally{G(!1)}},Mt=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(T,K)=>{var X;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Qe,{className:"batch-acc-icon"}),typeof K.acc=="object"?((X=K.acc)==null?void 0:X.name)||"N/A":K.acc||"N/A"]})}},{header:"Course",accessor:"course",sortable:!0,render:(T,K)=>{var X;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(zs,{className:"batch-course-icon"}),typeof K.course=="object"?((X=K.course)==null?void 0:X.name)||"N/A":K.course||"N/A"]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:(T,K)=>t.jsx("span",{className:"batch-quantity",children:K.quantity||0})},{header:"Amount",accessor:"total_amount",sortable:!0,render:(T,K)=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Ot,{className:"batch-amount-icon"}),parseFloat(K.total_amount||0).toFixed(2)]})},{header:"Purchase Date",accessor:"purchase_date",sortable:!0,render:(T,K)=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(ot,{className:"batch-date-icon"}),K.purchase_date?new Date(K.purchase_date).toLocaleDateString():"N/A"]})},{header:"Payment Method",accessor:"payment_method",sortable:!0,render:(T,K)=>t.jsx("span",{className:"batch-payment-method",children:K.payment_method?K.payment_method.replace("_"," "):"N/A"})}],[]),Jt=f.useMemo(()=>i.map(T=>{var me,je;const K=typeof T.acc=="object"?((me=T.acc)==null?void 0:me.name)||"":T.acc||"",X=typeof T.course=="object"?((je=T.course)==null?void 0:je.name)||"":T.course||"",ae=[K,X,T.quantity||"",T.total_amount||"",T.purchase_date?new Date(T.purchase_date).toLocaleDateString():"",T.payment_method||""].filter(Boolean).join(" ").toLowerCase();return{...T,_searchText:ae}}),[i]),fs=T=>{const K=new Map;return T.forEach(X=>{var we,ve,ze,Je;let ae=X.acc_id||(typeof X.acc=="object"?(we=X.acc)==null?void 0:we.id:null)||(X.acc&&typeof X.acc=="number"?X.acc:null)||(X.acc&&typeof X.acc=="string"&&!isNaN(X.acc)?parseInt(X.acc):null),me="Unknown ACC";if(typeof X.acc=="object"&&((ve=X.acc)!=null&&ve.name)&&X.acc.name!=="Unknown ACC")me=X.acc.name;else if(typeof X.acc=="string"&&X.acc!=="Unknown ACC"&&X.acc)me=X.acc;else if(ae){const Re=te.get(ae)||te.get(String(ae));Re?me=Re.name||Re.acc_name||`ACC ${ae}`:me=`ACC ${ae}`}const je=typeof X.course=="object"?(ze=X.course)==null?void 0:ze.id:X.course,_e=typeof X.course=="object"?(Je=X.course)==null?void 0:Je.name:X.course||"Unknown Course",Ae=`${ae||"unknown"}_${je||"unknown"}`;K.has(Ae)||K.set(Ae,{accId:ae,accName:me,courseId:je,courseName:_e,codes:[],total:0,available:0,used:0});const xe=K.get(Ae);xe.codes.push(X),xe.total++,X.status==="available"&&xe.available++,X.status==="used"&&xe.used++}),Array.from(K.values())},is=(T,K)=>`${T||"unknown"}_${K||"unknown"}`,hs=$==="inventory"?ke:Jt;return t.jsxs("div",{children:[t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs-wrapper",children:[t.jsxs("button",{onClick:()=>{w("inventory")},className:`tab-button ${$==="inventory"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(fc,{size:20,className:$==="inventory"?"tab-icon-active":"tab-icon-inactive"}),"Inventory (",a.length,")"]}),t.jsxs("button",{onClick:()=>{w("batches")},className:`tab-button ${$==="batches"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(_p,{size:20,className:$==="batches"?"tab-icon-active":"tab-icon-inactive"}),"Purchase History (",i.length,")"]})]})}),$==="inventory"&&t.jsx("div",{className:"search-filter-container",children:t.jsxs("div",{className:"search-filter-wrapper",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(vi,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code, ACC, course, or status...",value:k,onChange:T=>{I(T.target.value)},className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(wn,{className:"filter-icon",size:20}),t.jsxs("select",{value:F,onChange:T=>{O(T.target.value)},className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"used",children:"Used"})]})]})]})}),$==="inventory"?x?t.jsx(Si,{}):hs.length===0?t.jsx("div",{className:"empty-state-container",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(fc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No codes in inventory"}),t.jsx("p",{className:"empty-state-subtitle",children:k||F!=="all"?"Try adjusting your filters":"Purchase codes to get started!"})]})}):t.jsx("div",{className:"stats-cards-grid",children:fs(hs).map((T,K)=>{const X=is(T.accId,T.courseId);return t.jsx("div",{className:"stats-card",style:{"--animation-delay":`${K*.05}s`},children:t.jsxs("div",{className:"stats-card-content",children:[t.jsxs("div",{className:"stats-card-header",children:[t.jsx("div",{className:"stats-card-icon-container",children:t.jsx(Qe,{className:"stats-card-icon"})}),t.jsxs("div",{className:"stats-card-title-section",children:[t.jsx("h3",{className:"stats-card-title",children:T.accName}),t.jsxs("div",{className:"stats-card-subtitle",children:[t.jsx(zs,{className:"stats-card-subtitle-icon"}),t.jsx("p",{className:"stats-card-subtitle-text",children:T.courseName})]})]})]}),t.jsxs("div",{className:"stats-card-stats",children:[t.jsxs("div",{className:"stats-item stats-item-total",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx("div",{className:"stats-item-dot"}),t.jsx("span",{className:"stats-item-label-text",children:"Total Codes"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-total",children:T.total})]}),t.jsxs("div",{className:"stats-item stats-item-available",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx($_,{className:"stats-item-icon stats-item-icon-available"}),t.jsx("span",{className:"stats-item-label-text",children:"Available"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-available",children:T.available})]}),t.jsxs("div",{className:"stats-item stats-item-used",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(nt,{className:"stats-item-icon stats-item-icon-used"}),t.jsx("span",{className:"stats-item-label-text",children:"Used"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-used",children:T.used})]})]})]})},X)})}):t.jsx("div",{className:"datatable-container",children:t.jsx(pt,{columns:Mt,data:Jt,isLoading:x,emptyMessage:i.length===0&&!x?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(fc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No purchase history found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Your purchase history will appear here"})]}):"No purchase history found matching your filters",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, course, quantity, amount, date, or payment method...",sortable:!0})}),t.jsx(Le,{isOpen:R,onClose:()=>{D(!1),H({acc_id:"",category_id:"",sub_category_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),q({}),Q(null),Se(null),p([]),g([]),c([]),_([])},title:"Purchase Certificate Codes",size:"lg",children:t.jsxs("form",{onSubmit:mt,className:"modal-form",children:[U.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:U.general})}),t.jsx(fe,{label:"ACC",name:"acc_id",type:"select",value:B.acc_id,onChange:T=>ne(T.target.value),required:!0,disabled:h.length===0,options:h.length>0?h.map(T=>({value:T.id,label:T.name||`ACC ${T.id}`})):[{value:"",label:"No approved ACCs available. Please get approval from an ACC first."}],error:U.acc_id}),h.length===0&&t.jsx("p",{className:"form-warning-text",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:B.category_id,onChange:T=>le(T.target.value),required:!0,disabled:!B.acc_id||E,error:U.category_id,options:[{value:"",label:B.acc_id?E?"Loading categories...":"Select a category...":"Please select ACC first"},...m.filter(T=>T.id!=null&&T.id!=="").map(T=>({value:T.id,label:T.name||T.name_ar||`Category ${T.id}`}))]}),t.jsx(fe,{label:"Sub-Category",name:"sub_category_id",type:"select",value:B.sub_category_id,onChange:T=>Y(T.target.value),required:!0,disabled:!B.acc_id||!B.category_id||b,error:U.sub_category_id,options:[{value:"",label:B.acc_id?B.category_id?b?"Loading sub-categories...":"Select a sub-category...":"Please select Category first":"Please select ACC first"},...u.filter(T=>T.id!=null&&T.id!=="").map(T=>({value:T.id,label:T.name||T.name_ar||`Sub-Category ${T.id}`}))]}),t.jsxs("div",{children:[t.jsx(fe,{label:"Course",name:"course_id",type:"select",value:B.course_id,onChange:T=>de(T.target.value),required:!0,disabled:!B.acc_id||!B.category_id||!B.sub_category_id||l.length===0||C,options:[{value:"",label:B.acc_id?B.category_id?B.sub_category_id?C?"Loading courses...":"Select a course...":"Please select Sub-Category first":"Please select Category first":"Please select ACC first"},...l.map(T=>{const K=T.id&&typeof T.id=="string"?parseInt(T.id):T.id;return{value:K,label:T.name||T.code||`Course ${K}`}})],error:U.course_id}),!B.acc_id&&t.jsx("p",{className:"form-info-text",children:"Please select an ACC first to see available courses."}),B.acc_id&&!B.category_id&&t.jsx("p",{className:"form-info-text",children:"Please select a Category first to see available courses."}),B.acc_id&&B.category_id&&!B.sub_category_id&&t.jsx("p",{className:"form-info-text",children:"Please select a Sub-Category first to see available courses."}),B.acc_id&&B.category_id&&B.sub_category_id&&l.length===0&&!C&&t.jsx("p",{className:"form-warning-text",children:"No courses available for the selected sub-category."})]}),t.jsx(fe,{label:"Quantity",name:"quantity",type:"number",value:B.quantity,onChange:async T=>{const K=T.target.value;if(H({...B,quantity:K,payment_amount:""}),B.payment_method==="manual_payment"&&B.acc_id&&B.course_id&&K)try{const X={acc_id:parseInt(B.acc_id,10),course_id:parseInt(B.course_id,10),quantity:parseInt(K,10)};B.discount_code&&B.discount_code.trim()&&(X.discount_code=B.discount_code.trim());const ae=await Ue.createPaymentIntent(X);ae.manual_payment_info&&(Se(ae.manual_payment_info),Q(ae),H(me=>({...me,payment_amount:ae.final_amount||ae.total_amount||""})))}catch(X){console.error("Failed to load manual payment info:",X)}},required:!0,min:"1",error:U.quantity}),t.jsxs("div",{children:[y.length>0?t.jsx(fe,{label:"Discount Code (Optional)",name:"discount_code",type:"select",value:B.discount_code,onChange:T=>H({...B,discount_code:T.target.value}),disabled:j,options:[{value:"",label:"No discount code"},...y.map(T=>({value:T.code||T.discount_code||T.id,label:`${T.code||T.discount_code||`Code ${T.id}`}${T.discount_percentage?` - ${T.discount_percentage}% off`:""}${T.discount_amount?` - $${T.discount_amount} off`:""}`}))],error:U.discount_code,helpText:`${y.length} discount code${y.length>1?"s":""} available for this course`}):t.jsx(fe,{label:"Discount Code (Optional)",name:"discount_code",type:"text",value:B.discount_code,onChange:T=>H({...B,discount_code:T.target.value}),placeholder:"Enter discount code manually",disabled:j,error:U.discount_code,helpText:j?"Loading discount codes...":B.course_id?"No discount codes available. You can enter a code manually if you have one.":"Select a course first to see available discount codes"}),y.length>0&&t.jsxs("div",{className:"discount-codes-container",children:[t.jsx("p",{className:"discount-codes-title",children:"Available Discount Codes:"}),t.jsx("div",{className:"discount-codes-list",children:y.map((T,K)=>t.jsxs("div",{className:"discount-code-item",children:[t.jsx("span",{className:"discount-code-value",children:T.code||T.discount_code}),t.jsxs("div",{className:"discount-code-details",children:[T.discount_percentage&&t.jsxs("span",{className:"discount-code-percentage",children:[T.discount_percentage,"% off"]}),T.discount_amount&&t.jsxs("span",{className:"discount-code-amount",children:["$",T.discount_amount," off"]}),T.expires_at&&t.jsxs("span",{className:"discount-code-expiry",children:["Expires: ",new Date(T.expires_at).toLocaleDateString()]})]})]},T.id||K))})]})]}),t.jsx(fe,{label:"Payment Method",name:"payment_method",type:"select",value:B.payment_method,onChange:async T=>{const K=T.target.value;if(H({...B,payment_method:K,payment_intent_id:"",payment_amount:"",payment_receipt:null}),Q(null),Se(null),q({}),K==="manual_payment"&&B.acc_id&&B.course_id&&B.quantity)try{const X={acc_id:parseInt(B.acc_id,10),course_id:parseInt(B.course_id,10),quantity:parseInt(B.quantity,10)};B.discount_code&&B.discount_code.trim()&&(X.discount_code=B.discount_code.trim());const ae=await Ue.createPaymentIntent(X);ae.manual_payment_info&&(Se(ae.manual_payment_info),H(me=>({...me,payment_amount:ae.final_amount||ae.total_amount||""})))}catch(X){console.error("Failed to load manual payment info:",X)}},options:[{value:"credit_card",label:"Credit Card"},{value:"manual_payment",label:"Manual Payment (Upload Invoice)"}],error:U.payment_method}),B.payment_method==="manual_payment"&&t.jsxs(t.Fragment,{children:[ye&&t.jsxs("div",{className:"payment-info-container",style:{marginBottom:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("p",{className:"payment-info-title",style:{fontWeight:"600",marginBottom:"8px"},children:"Manual Payment Information"}),t.jsxs("p",{className:"payment-info-text",style:{fontSize:"14px",color:"#666",marginBottom:"4px"},children:["Final Amount: $",(L==null?void 0:L.final_amount)||(L==null?void 0:L.total_amount)||"0.00"]}),ye.requires_receipt&&t.jsxs("p",{className:"payment-info-text",style:{fontSize:"12px",color:"#888"},children:["Supported formats: ",((We=ye.receipt_formats)==null?void 0:We.join(", ").toUpperCase())||"PDF, JPG, PNG","(Max: ",ye.max_receipt_size_mb||10," MB)"]})]}),t.jsx(fe,{label:"Payment Amount",name:"payment_amount",type:"number",value:B.payment_amount,onChange:T=>H({...B,payment_amount:T.target.value}),required:!0,min:"0",step:"0.01",error:U.payment_amount,helpText:ye!=null&&ye.final_amount?`Enter the amount you paid (should match: $${ye.final_amount})`:"Enter the payment amount"}),t.jsxs("div",{className:"form-input-group",children:[t.jsxs("label",{className:"form-input-label",children:["Payment Receipt ",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:async T=>{const K=T.target.files[0];if(K){const X=(ye==null?void 0:ye.receipt_formats)||["pdf","jpg","jpeg","png"],ae=K.name.split(".").pop().toLowerCase();if(!X.includes(ae)){q({payment_receipt:`File type not supported. Allowed: ${X.join(", ").toUpperCase()}`});return}try{let me=K;if(["jpg","jpeg","png"].includes(ae)){const _e={maxSizeMB:(ye==null?void 0:ye.max_receipt_size_mb)||10,maxWidthOrHeight:4096,useWebWorker:!0,fileType:K.type,initialQuality:.95};me=await vs(K,_e);const Ae=K.name.substring(0,K.name.lastIndexOf("."))+"."+ae;me=new File([me],Ae,{type:K.type})}const je=((ye==null?void 0:ye.max_receipt_size_mb)||10)*1024*1024;if(me.size>je){q({payment_receipt:`File size must be less than ${(ye==null?void 0:ye.max_receipt_size_mb)||10} MB`});return}H({...B,payment_receipt:me}),q({...U,payment_receipt:null})}catch(me){console.error("Error processing file:",me),q({payment_receipt:"Failed to process file. Please try again."})}}},className:"form-input form-input-file"}),U.payment_receipt&&t.jsx("span",{className:"form-input-error",children:U.payment_receipt}),B.payment_receipt&&t.jsxs("p",{className:"form-input-help",style:{marginTop:"4px",fontSize:"12px",color:"#666"},children:["Selected: ",B.payment_receipt.name," (",(B.payment_receipt.size/1024/1024).toFixed(2)," MB)"]})]})]}),B.payment_method==="credit_card"&&t.jsxs("div",{className:"payment-info-container",children:[t.jsx("p",{className:"payment-info-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-info-text",children:'Payment will be processed securely through Stripe. The total amount will be calculated including any discounts. Click "Purchase Codes" below to enter your card details.'})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{D(!1),q({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:re||W||!B.acc_id||!B.course_id||!B.quantity,className:"form-btn form-btn-submit",children:re||W?"Processing...":"Purchase Codes"})]})]})}),t.jsx(cd,{isOpen:J,onClose:()=>{ue(!1)},clientSecret:L==null?void 0:L.client_secret,paymentIntentId:L==null?void 0:L.payment_intent_id,amount:(L==null?void 0:L.final_amount)||0,currency:(L==null?void 0:L.currency)||"USD",paymentSummary:L,onPaymentSuccess:async(T,K)=>{var X,ae,me,je,_e,Ae;try{if(!T){q({general:"Payment intent not found. Please try again."}),ue(!1);return}if(T.status!=="succeeded"){q({general:`Payment not completed. Status: ${T.status}. Please complete the payment and try again.`}),ue(!1);return}const xe=parseInt(B.acc_id,10),we=parseInt(B.course_id,10),ve=parseInt(B.quantity,10);if(isNaN(xe)||isNaN(we)||isNaN(ve)||ve<1)throw q({general:"Invalid data. Please check your selections and try again."}),new Error("Invalid data");const ze=T.id||K;if(!ze){q({general:"Payment intent ID not found. Please try again."}),ue(!1);return}const Je={acc_id:xe,course_id:we,quantity:ve,payment_method:"credit_card",payment_intent_id:ze};B.discount_code&&B.discount_code.trim()&&(Je.discount_code=B.discount_code.trim()),console.log(" Purchase request data:",Je),console.log(" Payment Intent:",{id:T.id,status:T.status,paymentIntentId:K}),await Ue.purchaseCodes(Je),await Ke(),D(!1),ue(!1),Q(null),alert("Codes purchased successfully!")}catch(xe){if(console.error("Failed to purchase codes:",xe),((X=xe.response)==null?void 0:X.status)===400){const we=xe.response.data;q({general:(we==null?void 0:we.message)||"Payment verification failed. Please contact support."})}else if(((ae=xe.response)==null?void 0:ae.status)===402){const we=xe.response.data;q({general:(we==null?void 0:we.message)||"Insufficient wallet balance. Please add funds to your wallet or use a different payment method."})}else if(((me=xe.response)==null?void 0:me.status)===403){const we=xe.response.data;q({general:(we==null?void 0:we.message)||"You do not have authorization from this ACC or the ACC is not active."})}else if(((je=xe.response)==null?void 0:je.status)===422){const we=xe.response.data;if(we.errors){const ve={};Object.keys(we.errors).forEach(ze=>{ve[ze]=Array.isArray(we.errors[ze])?we.errors[ze][0]:we.errors[ze]}),q(ve)}else we.message?q({general:we.message}):q({general:"Validation failed. Please check your input."})}else if(((_e=xe.response)==null?void 0:_e.status)===500){const we=xe.response.data;console.error("Server error details:",we),q({general:(we==null?void 0:we.message)||"Server error occurred. Please contact support or try again later."})}else if((Ae=xe.response)!=null&&Ae.data){const we=xe.response.data;if(we.errors){const ve={};Object.keys(we.errors).forEach(ze=>{ve[ze]=Array.isArray(we.errors[ze])?we.errors[ze][0]:we.errors[ze]}),q(ve)}else we.message?q({general:we.message}):q({general:"Payment succeeded but failed to complete purchase. Please contact support."})}else q({general:"Payment succeeded but failed to complete purchase. Please contact support."});throw xe}},onPaymentError:T=>{q({general:T})}})]})},IT=()=>{var B;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[m,p]=f.useState(!0),[u,g]=f.useState(!1),[y,_]=f.useState(!1),[x,v]=f.useState(null),[C,N]=f.useState("all"),[E,S]=f.useState({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:""}),[b,A]=f.useState({}),[j,z]=f.useState(!1);f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Certificates"),r("Manage and generate training certificates"),e(t.jsxs("button",{onClick:w,className:"header-create-btn",children:[t.jsx(Gs,{size:20}),"Generate Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const $=async()=>{try{p(!0);const[H,U,q]=await Promise.all([Ue.listCertificates({per_page:1e3}),Ue.listClasses(),Ue.getCodeInventory({status:"available"})]);let W=[];H.data?W=H.data||[]:H.certificates?W=H.certificates||[]:W=Array.isArray(H)?H:[],n(W),o(U.classes||[]),c(q.codes||[])}catch(H){console.error("Failed to load data:",H),n([])}finally{p(!1)}},w=()=>{S({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),A({}),g(!0)},R=()=>{g(!1),S({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),A({}),d([])},D=H=>{var W;const{name:U,value:q}=H.target;if(U==="training_class_id"){const G=i.find(re=>re.id===parseInt(q));if(G){const re=typeof G.course=="object"?(W=G.course)==null?void 0:W.id:G.course,V=l.filter(L=>{var J;const Q=typeof L.course=="object"?(J=L.course)==null?void 0:J.id:L.course;return Q===re||Q==re});d(V),S({...E,training_class_id:q,code_id:""})}else d([]),S({...E,training_class_id:q,code_id:""})}else S({...E,[U]:q});b[H.target.name]&&A(G=>{const re={...G};return delete re[H.target.name],re})};f.useEffect(()=>{var H;if(u&&E.training_class_id){const U=i.find(q=>q.id===parseInt(E.training_class_id));if(U){const q=typeof U.course=="object"?(H=U.course)==null?void 0:H.id:U.course,W=l.filter(G=>{var V;const re=typeof G.course=="object"?(V=G.course)==null?void 0:V.id:G.course;return re===q||re==q});d(W)}}else u&&!E.training_class_id&&d([])},[u,l,i]);const M=async H=>{var U;H.preventDefault(),z(!0),A({});try{const q={training_class_id:parseInt(E.training_class_id),code_id:parseInt(E.code_id),trainee_name:E.trainee_name.trim(),trainee_id_number:E.trainee_id_number.trim(),issue_date:E.issue_date||new Date().toISOString().split("T")[0]};await Ue.generateCertificate(q),await $(),R(),alert("Certificate generated successfully!")}catch(q){if(console.error("Failed to generate certificate:",q),(U=q.response)!=null&&U.data){const W=q.response.data;if(W.errors){const G={};Object.keys(W.errors).forEach(re=>{G[re]=Array.isArray(W.errors[re])?W.errors[re][0]:W.errors[re]}),A(G)}else W.message?A({general:W.message}):A(W)}else q.message?A({general:q.message}):A({general:"Failed to generate certificate. Please try again."})}finally{z(!1)}},P=async H=>{try{const U=await Ue.getCertificateDetails(H.id);v(U.certificate||H),_(!0)}catch(U){console.error("Failed to load certificate details:",U),v(H),_(!0)}},k=H=>{H.certificate_pdf_url?window.open(H.certificate_pdf_url,"_blank"):alert("Certificate PDF not available")},I=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(H,U)=>t.jsxs("div",{className:"certificate-number-container",children:[t.jsx("div",{className:"certificate-number-icon-container",children:t.jsx(Ze,{className:"certificate-number-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"certificate-number-text",children:U.certificate_number||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:(H,U)=>t.jsxs("div",{className:"trainee-container",children:[t.jsx(ms,{className:"trainee-icon"}),U.trainee_name||"N/A"]})},{header:"Course",accessor:"course",sortable:!0,render:(H,U)=>{var q;return t.jsxs("div",{className:"course-container",children:[t.jsx(zs,{className:"course-icon"}),typeof U.course=="object"?((q=U.course)==null?void 0:q.name)||"N/A":U.course||"N/A"]})}},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:(H,U)=>t.jsxs("div",{className:"date-container",children:[t.jsx(ot,{className:"date-icon"}),U.issue_date?new Date(U.issue_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(H,U)=>{const q=U.status==="valid",W=q?Me:nt;return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${q?"valid":"expired"}`,children:[t.jsx(W,{size:14,className:"status-icon"}),U.status?U.status.charAt(0).toUpperCase()+U.status.slice(1):"N/A"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(H,U)=>t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:q=>{q.stopPropagation(),P(U)},className:"action-btn action-btn-view",title:"View Details",children:t.jsx(as,{size:18})}),U.certificate_pdf_url?t.jsx("button",{onClick:q=>{q.stopPropagation(),k(U)},className:"action-btn action-btn-download",title:"Download PDF",children:t.jsx(Yc,{size:18})}):t.jsx("button",{onClick:q=>{q.stopPropagation(),P(U)},className:"action-btn action-btn-download",title:"View Info",children:t.jsx(Ze,{size:18})})]})}],[P,k]),F=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:H=>H.status==="valid"},{value:"expired",label:"Expired",filterFn:H=>H.status==="expired"}],[]),O=f.useMemo(()=>a.map(H=>{var W;const U=typeof H.course=="object"?((W=H.course)==null?void 0:W.name)||"":H.course||"",q=[H.certificate_number||"",H.trainee_name||"",U,H.verification_code||"",H.status||""].filter(Boolean).join(" ").toLowerCase();return{...H,_searchText:q}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(pt,{columns:I,data:O,onRowClick:P,isLoading:m,emptyMessage:a.length===0&&!m?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ze,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No certificates found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Generate your first certificate!"})]}):"No certificates found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by certificate number, trainee name, course, or verification code...",filterOptions:F,sortable:!0,defaultFilter:C})}),t.jsx(Le,{isOpen:u,onClose:R,title:"Generate Certificate",size:"lg",children:t.jsxs("form",{onSubmit:M,className:"modal-form",children:[b.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:b.general})}),t.jsx(fe,{label:"Training Class",name:"training_class_id",type:"select",value:E.training_class_id,onChange:D,required:!0,options:i.length>0?i.map(H=>{var U;return{value:H.id,label:`${typeof H.course=="object"?(U=H.course)==null?void 0:U.name:H.course} - ${new Date(H.start_date).toLocaleDateString()}`}}):[{value:"",label:"No classes available"}],error:b.training_class_id}),t.jsx(fe,{label:"Certificate Code",name:"code_id",type:"select",value:E.code_id,onChange:D,required:!0,disabled:!E.training_class_id||h.length===0,options:E.training_class_id?h.length>0?h.map(H=>{var U;return{value:H.id,label:`${H.code} - ${typeof H.course=="object"?(U=H.course)==null?void 0:U.name:H.course} (${H.status})`}}):[{value:"",label:"No available codes for this class"}]:[{value:"",label:"Please select a training class first"}],error:b.code_id,helpText:E.training_class_id&&h.length===0?"No available codes match the selected training class":""}),t.jsxs("div",{className:"form-grid",children:[t.jsx(fe,{label:"Trainee Name",name:"trainee_name",value:E.trainee_name,onChange:D,required:!0,error:b.trainee_name}),t.jsx(fe,{label:"Trainee ID Number",name:"trainee_id_number",value:E.trainee_id_number,onChange:D,required:!0,error:b.trainee_id_number})]}),t.jsx(fe,{label:"Issue Date",name:"issue_date",type:"date",value:E.issue_date,onChange:D,required:!0,error:b.issue_date}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:R,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"form-btn form-btn-submit",children:j?"Generating...":"Generate Certificate"})]})]})}),t.jsx(Le,{isOpen:y,onClose:()=>{_(!1),v(null)},title:"Certificate Details",size:"lg",children:x&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Certificate Number"}),t.jsx("p",{className:"detail-modal-value",children:x.certificate_number})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Verification Code"}),t.jsx("p",{className:"detail-modal-value detail-modal-value-mono",children:x.verification_code||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Trainee Name"}),t.jsx("p",{className:"detail-modal-value",children:x.trainee_name})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Course"}),t.jsx("p",{className:"detail-modal-value",children:typeof x.course=="object"?(B=x.course)==null?void 0:B.name:x.course})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Issue Date"}),t.jsx("p",{className:"detail-modal-value",children:x.issue_date?new Date(x.issue_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Expiry Date"}),t.jsx("p",{className:"detail-modal-value",children:x.expiry_date?new Date(x.expiry_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${x.status==="valid"?"valid":"expired"}`,children:x.status})]})]}),x.certificate_pdf_url&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>k(x),className:"detail-modal-action-btn",children:[t.jsx(Yc,{size:20,className:"detail-modal-action-icon"}),"Download PDF"]})})]})})]})},OT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});f.useEffect(()=>{c()},[]),f.useEffect(()=>(e("Payment Transactions"),s("View all your payment transactions history"),()=>{e(null),s(null)}),[e,s]);const c=async()=>{try{i(!0);const u=(await Ue.getWalletTransactions()).transactions||[];a(u)}catch(p){console.error("Failed to load data:",p),a([])}finally{i(!1)}},h=p=>{l(u=>({...u,currentPage:p}))},d=p=>{l(u=>({...u,perPage:p,currentPage:1}))};f.useEffect(()=>{const p=r.length,u=Math.ceil(p/o.perPage)||1,g=o.currentPage>u?Math.max(1,u):o.currentPage;l(y=>({...y,totalItems:p,totalPages:u,currentPage:g}))},[r.length,o.perPage]);const m=f.useMemo(()=>{const p=(o.currentPage-1)*o.perPage,u=p+o.perPage;return r.slice(p,u)},[r,o.currentPage,o.perPage]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):m.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ze,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your transaction history will appear here"})]})})}):m.map((p,u)=>{const g={completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ge},failed:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:nt},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:nt}},y=g[p.status]||g.pending,_=y.icon,x=p.type==="deposit";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${u*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${x?"from-green-100 to-green-200":"from-red-100 to-red-200"}`,children:t.jsx(Ot,{className:`h-5 w-5 ${x?"text-green-600":"text-red-600"}`})}),t.jsx("div",{children:t.jsx("div",{className:`text-sm font-semibold group-hover:text-primary-700 transition-colors capitalize ${x?"text-green-700":"text-red-700"}`,children:p.type})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`text-lg font-bold ${x?"text-green-600":"text-red-600"}`,children:[x?"+":"-","$",parseFloat(p.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${y.bg} ${y.text} border ${y.border}`,children:[t.jsx(_,{size:14,className:"mr-1"}),p.status?p.status.charAt(0).toUpperCase()+p.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[t.jsx(ot,{className:"h-4 w-4 mr-2 text-gray-400"}),p.created_at?new Date(p.created_at).toLocaleDateString():"N/A"]})})]},p.id||u)})})]})}),!n&&o.totalItems>0&&t.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:t.jsx(Eh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:h,onPerPageChange:d})})]})})},UT=()=>{const[e,s]=f.useState([]),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState("marketplace"),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(null),[g,y]=f.useState(!1);f.useEffect(()=>{_()},[o]);const _=async()=>{try{if(o==="marketplace"){const b=await Ue.browseMaterials();s(b.materials||[])}else{const b=await Ue.getLibrary();a(b.library||[])}}catch(b){console.error("Failed to load data:",b)}finally{i(!1)}},x=b=>{u(b),h(!0)},v=b=>{u(b),m(!0)},C=async()=>{y(!0);try{await Ue.purchaseFromMarketplace({purchase_type:"material",item_id:p.id,acc_id:p.acc_id,payment_method:"credit_card"}),await _(),m(!1),alert("Purchase successful!")}catch(b){alert("Failed to purchase: "+(b.message||"Unknown error"))}finally{y(!1)}},N=b=>{var A;(A=b.item)!=null&&A.file_url?window.open(b.item.file_url,"_blank"):alert("File not available")},E=[{header:"Material",accessor:"name",render:(b,A)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ze,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:b}),t.jsx("div",{className:"text-sm text-gray-500",children:A.material_type})]})]})},{header:"ACC",accessor:"acc",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Course",accessor:"course",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Price",accessor:"price",render:b=>`$${parseFloat(b||0).toFixed(2)}`},{header:"Status",accessor:"status",render:b=>t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b})}],S=[{header:"Item",accessor:"item",render:(b,A)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(fc,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),t.jsx("div",{className:"text-sm text-gray-500",children:A.purchase_type})]})]})},{header:"Type",accessor:"purchase_type",render:b=>b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"},{header:"Purchased Date",accessor:"purchased_at",render:b=>b?new Date(b).toLocaleDateString():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Browse and purchase course materials"})]}),t.jsxs("div",{className:"mb-6 flex space-x-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{l("marketplace"),i(!0),_()},className:`px-4 py-2 font-medium ${o==="marketplace"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["Marketplace (",e.length,")"]}),t.jsxs("button",{onClick:()=>{l("library"),i(!0),_()},className:`px-4 py-2 font-medium ${o==="library"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["My Library (",r.length,")"]})]}),o==="marketplace"?t.jsx(pt,{columns:E,data:e,onView:x,onRowClick:x,isLoading:n,emptyMessage:"No materials available in marketplace."}):t.jsx(pt,{columns:S,data:r,onView:b=>N(b),onRowClick:b=>N(b),isLoading:n,emptyMessage:"No purchased items in library."}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Material Details",size:"lg",children:p&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.material_type})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ACC"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.acc})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(p.price||0).toFixed(2)]})]})]}),p.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:p.description})]}),p.preview_url&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("a",{href:p.preview_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[t.jsx(as,{size:16,className:"mr-2"}),"View Preview"]})}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{h(!1),v(p)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(_p,{size:20,className:"mr-2"}),"Purchase"]})})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),u(null)},title:"Confirm Purchase",size:"md",children:p&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to purchase ",t.jsx("strong",{children:p.name}),"?"]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(p.price||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{m(!1),u(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:C,disabled:g,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Processing...":"Confirm Purchase"})]})]})})]})},BT=()=>{var O,B,H,U,q,W,G,re;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[m,p]=f.useState(null),[u,g]=f.useState({payment_method:"credit_card",payment_intent_id:""}),[y,_]=f.useState({}),[x,v]=f.useState(!1),[C,N]=f.useState(null),[E,S]=f.useState(!1),[b,A]=f.useState(!1),[j,z]=f.useState("all");f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Instructor Authorizations"),r("View and pay for instructor authorization requests"),e(t.jsxs("button",{onClick:$,disabled:i,className:"header-refresh-btn",title:"Refresh data",children:[t.jsx($v,{size:18,className:i?"animate-spin":""}),"Refresh"]})),()=>{e(null),s(null),r(null)}),[e,s,r,i]),f.useEffect(()=>{a.length>0?console.log("Authorizations loaded:",a):i||console.log("No authorizations found. Make sure you have requested authorization for instructors.")},[a,i]);const $=async()=>{var V,L,Q,J;try{o(!0);const ue={per_page:1e3};try{const te=await Ue.getInstructorAuthorizations(ue);console.log("Instructor Authorizations API Response:",te);let pe=[],ye=0,Se=1;te!=null&&te.authorizations?pe=te.authorizations:(V=te==null?void 0:te.data)!=null&&V.authorizations?pe=te.data.authorizations:Array.isArray(te==null?void 0:te.data)?pe=te.data:Array.isArray(te)&&(pe=te),console.log("Processed authorizations:",pe),n(pe);return}catch(te){if(((L=te.response)==null?void 0:L.status)===404){console.warn("Main endpoint not found, trying alternative endpoint...");try{const pe=await Ue.getAuthorizationStatus(ue);console.log("Alternative API Response:",pe);const Se=((pe==null?void 0:pe.authorizations)||(pe==null?void 0:pe.data)||[]).filter(oe=>oe.instructor_id||oe.instructor||oe.type==="instructor");if(Se.length>0){n(Se);return}}catch(pe){console.warn("Alternative endpoint also failed:",pe)}}throw te}}catch(ue){console.error("Failed to load authorizations:",ue),console.error("Error details:",{status:(Q=ue.response)==null?void 0:Q.status,data:(J=ue.response)==null?void 0:J.data,message:ue.message}),n([])}finally{o(!1)}},w=V=>{if(V.status!=="approved"||V.group_admin_status!=="commission_set"){alert("This authorization is not ready for payment. Please wait for Group Admin approval.");return}if(V.payment_status==="paid"){alert("This authorization has already been paid.");return}p(V),g({payment_method:"credit_card",payment_intent_id:""}),_({}),N(null),c(!0)},R=async(V,L)=>{var Q,J,ue;if(!m){_({general:"No authorization selected"});return}try{const te={payment_method:"credit_card",payment_intent_id:L||V.id};if(V&&V.status!=="succeeded"){_({general:`Payment not completed. Status: ${V.status}`});return}await Ue.payInstructorAuthorization(m.id,te),await $(),c(!1),A(!1),p(null),N(null),alert("Payment successful. Instructor is now officially authorized.")}catch(te){if(console.error("Failed to complete authorization payment:",te),((Q=te.response)==null?void 0:Q.status)===400){const pe=te.response.data;_({general:(pe==null?void 0:pe.message)||"Payment verification failed. Please contact support."})}else if(((J=te.response)==null?void 0:J.status)===422){const pe=te.response.data;if(pe.errors){const ye={};Object.keys(pe.errors).forEach(Se=>{ye[Se]=Array.isArray(pe.errors[Se])?pe.errors[Se][0]:pe.errors[Se]}),_(ye)}else _({general:(pe==null?void 0:pe.message)||"Validation failed. Please check your input."})}else if((ue=te.response)!=null&&ue.data){const pe=te.response.data;pe.message?_({general:pe.message}):_({general:"Payment succeeded but failed to complete authorization. Please contact support."})}else _({general:"Payment succeeded but failed to complete authorization. Please contact support."});throw te}},D=async()=>{var L,Q,J,ue;if(!m){_({general:"No authorization selected"});return}const V=parseFloat(m.authorization_price||0);if(isNaN(V)||V<=0){_({general:"Invalid authorization price. Please contact support."});return}S(!0),_({}),N(null);try{const te=await Ue.createInstructorAuthorizationPaymentIntent(m.id,{authorization_price:V});te.success&&te.client_secret&&te.payment_intent_id?(N({...te,commission_amount:te.commission_amount,provider_amount:te.provider_amount,payment_type:te.payment_type||"standard"}),g(pe=>({...pe,payment_intent_id:te.payment_intent_id})),A(!0)):_({general:"Failed to create payment intent. Invalid response from server."})}catch(te){if(console.error("Failed to create payment intent:",te),((L=te.response)==null?void 0:L.status)===422){const pe=te.response.data;if(pe.errors){const ye={};Object.keys(pe.errors).forEach(Se=>{ye[Se]=Array.isArray(pe.errors[Se])?pe.errors[Se][0]:pe.errors[Se]}),_(ye)}else pe.message?_({general:pe.message}):_({general:"Validation failed. Please check your input."})}else if(((Q=te.response)==null?void 0:Q.status)===400){const pe=te.response.data;_({general:(pe==null?void 0:pe.message)||"Payment service unavailable. Please contact support."})}else if(((J=te.response)==null?void 0:J.status)===500){const pe=te.response.data;_({general:(pe==null?void 0:pe.message)||"Failed to create payment intent. Please try again later."})}else if((ue=te.response)!=null&&ue.data){const pe=te.response.data;if(pe.errors){const ye={};Object.keys(pe.errors).forEach(Se=>{ye[Se]=Array.isArray(pe.errors[Se])?pe.errors[Se][0]:pe.errors[Se]}),_(ye)}else pe.message?_({general:pe.message}):_({general:"Failed to create payment intent. Please try again."})}else te.message?_({general:te.message}):_({general:"Failed to create payment intent. Please try again."})}finally{S(!1)}},M=async V=>{V.preventDefault(),m&&await D()},P=V=>{p(V),d(!0)},k=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:(V,L)=>{var Q,J,ue;return t.jsxs("div",{className:"instructor-container",children:[t.jsx("div",{className:"instructor-icon-container",children:t.jsx(ft,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructor-name",children:[(Q=L.instructor)==null?void 0:Q.first_name," ",(J=L.instructor)==null?void 0:J.last_name]}),((ue=L.instructor)==null?void 0:ue.email)&&t.jsx("div",{className:"instructor-email",children:L.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:(V,L)=>{var Q;return t.jsxs("div",{className:"acc-container",children:[t.jsx(Qe,{className:"acc-icon"}),((Q=L.acc)==null?void 0:Q.name)||"N/A"]})}},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:(V,L)=>t.jsxs("div",{className:"price-container",children:[t.jsx(Ot,{className:"price-icon"}),parseFloat(L.authorization_price||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!0,render:(V,L)=>{const Q=L.status==="approved"?"approved":L.status==="rejected"?"rejected":L.status==="returned"?"returned":"pending";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${Q}`,children:[L.status==="pending"&&t.jsx(Ge,{size:12,className:"status-icon"}),L.status==="approved"&&t.jsx(Me,{size:12,className:"status-icon"}),L.status?L.status.charAt(0).toUpperCase()+L.status.slice(1):"N/A"]})})}},{header:"Payment Status",accessor:"payment_status",sortable:!0,render:(V,L)=>{const Q=L.payment_status==="paid"?"paid":L.payment_status==="failed"?"failed":"pending";return t.jsx("div",{className:"payment-status-container",children:t.jsxs("span",{className:`payment-status-badge ${Q}`,children:[L.payment_status==="pending"&&t.jsx(Ge,{size:12,className:"payment-status-icon"}),L.payment_status==="paid"&&t.jsx(Me,{size:12,className:"payment-status-icon"}),L.payment_status==="failed"&&t.jsx(hr,{size:12,className:"payment-status-icon"}),L.payment_status?L.payment_status.charAt(0).toUpperCase()+L.payment_status.slice(1):"Pending"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(V,L)=>{const Q=L.status==="approved"&&L.group_admin_status==="commission_set"&&L.payment_status==="pending";return t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:J=>{J.stopPropagation(),P(L)},className:"action-btn-view",title:"View Details",children:t.jsx(as,{size:16})}),Q&&t.jsx("button",{onClick:J=>{J.stopPropagation(),w(L)},className:"action-btn-pay",title:"Pay Authorization",children:t.jsx(Er,{size:16})})]})}}],[w,P]),I=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"pending",label:"Pending",filterFn:V=>V.status==="pending"},{value:"approved",label:"Approved",filterFn:V=>V.status==="approved"},{value:"rejected",label:"Rejected",filterFn:V=>V.status==="rejected"},{value:"returned",label:"Returned",filterFn:V=>V.status==="returned"}],[]),F=f.useMemo(()=>a.map(V=>{var ye,Se,oe,Z,ee,ge,ne;const L=`${((ye=V.instructor)==null?void 0:ye.first_name)||""} ${((Se=V.instructor)==null?void 0:Se.last_name)||""}`.trim(),Q=((oe=V.instructor)==null?void 0:oe.email)||"",J=((Z=V.acc)==null?void 0:Z.name)||"",ue=((ee=V.training_center)==null?void 0:ee.name)||"",te=V.courses&&Array.isArray(V.courses)?V.courses.map(le=>typeof le=="object"?(le==null?void 0:le.name)||(le==null?void 0:le.course_name)||"":le||"").join(" "):V.course?typeof V.course=="object"?((ge=V.course)==null?void 0:ge.name)||((ne=V.course)==null?void 0:ne.course_name)||"":V.course||"":"",pe=[L,Q,J,ue,te,V.authorization_price||"",V.status||"",V.payment_status||""].filter(Boolean).join(" ").toLowerCase();return{...V,_searchText:pe}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(pt,{columns:k,data:F,onRowClick:P,isLoading:i,emptyMessage:a.length===0&&!i?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(ft,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No authorization requests found"}),t.jsx("p",{className:"empty-state-subtitle",children:"To see authorizations here, you need to request authorization for an instructor first"}),t.jsxs("div",{className:"empty-state-help",children:[t.jsx("p",{className:"empty-state-help-title",children:" How to get started:"}),t.jsxs("ol",{className:"empty-state-help-list",children:[t.jsxs("li",{children:["Go to ",t.jsx("strong",{children:"Instructors"})," page and create/add an instructor"]}),t.jsxs("li",{children:["Click ",t.jsx("strong",{children:"Request Authorization"})," button for that instructor"]}),t.jsx("li",{children:"Select an ACC and courses for authorization"}),t.jsx("li",{children:"Wait for ACC Admin to approve and set authorization price"}),t.jsx("li",{children:"Wait for Group Admin approval"}),t.jsx("li",{children:"Then come back here to complete payment!"})]}),t.jsx("div",{className:"empty-state-help-note",children:t.jsxs("p",{className:"empty-state-help-note-text",children:[t.jsx("strong",{children:"Note:"})," Authorizations will only appear here after you've submitted a request and it's been approved by ACC Admin."]})})]})]}):"No authorizations found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by instructor name, ACC, course, or training center...",filterOptions:I,sortable:!0,defaultFilter:j})}),t.jsx(Le,{isOpen:l,onClose:()=>{c(!1),p(null),_({})},title:"Pay Instructor Authorization",size:"md",children:t.jsxs("form",{onSubmit:M,className:"payment-modal-form",children:[y.general&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"payment-error-text",children:y.general})}),m&&t.jsxs("div",{className:"payment-info-container",children:[t.jsxs("p",{className:"payment-info-text",children:["Instructor: ",t.jsxs("span",{className:"payment-info-value",children:[(O=m.instructor)==null?void 0:O.first_name," ",(B=m.instructor)==null?void 0:B.last_name]})]}),t.jsxs("p",{className:"payment-info-text",children:["ACC: ",t.jsx("span",{className:"payment-info-value",children:(H=m.acc)==null?void 0:H.name})]}),t.jsxs("p",{className:"payment-info-text",children:["Authorization Price: ",t.jsxs("span",{className:"payment-info-value",children:["$",parseFloat(m.authorization_price||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-method-info",children:[t.jsx("p",{className:"payment-method-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-method-text",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'}),t.jsxs("p",{className:"payment-method-price",children:[t.jsx("strong",{children:"Authorization Price:"})," $",parseFloat((m==null?void 0:m.authorization_price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"payment-modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),p(null),_({})},className:"payment-modal-btn payment-modal-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:E||x||!m,className:"payment-modal-btn payment-modal-btn-submit",children:E||x?"Processing...":"Pay Now"})]})]})}),t.jsx(Le,{isOpen:h,onClose:()=>{d(!1),p(null)},title:"Authorization Details",size:"lg",children:m&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Instructor"}),t.jsxs("p",{className:"detail-modal-value",children:[(U=m.instructor)==null?void 0:U.first_name," ",(q=m.instructor)==null?void 0:q.last_name]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"ACC"}),t.jsx("p",{className:"detail-modal-value",children:((W=m.acc)==null?void 0:W.name)||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Courses"}),t.jsx("div",{className:"detail-modal-courses-list",children:m.courses&&Array.isArray(m.courses)&&m.courses.length>0?m.courses.map((V,L)=>t.jsx("p",{className:"detail-modal-value",children:typeof V=="object"?(V==null?void 0:V.name)||(V==null?void 0:V.course_name)||"N/A":V||"N/A"},L)):m.course?t.jsx("p",{className:"detail-modal-value",children:typeof m.course=="object"?((G=m.course)==null?void 0:G.name)||((re=m.course)==null?void 0:re.course_name)||"N/A":m.course||"N/A"}):t.jsx("p",{className:"detail-modal-value",children:"N/A"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Authorization Price"}),t.jsxs("p",{className:"detail-modal-value",children:["$",parseFloat(m.authorization_price||0).toFixed(2)]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${m.status==="approved"?"approved":m.status==="rejected"?"rejected":m.status==="returned"?"returned":"pending"}`,children:m.status})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Payment Status"}),t.jsx("span",{className:`detail-modal-badge ${m.payment_status==="paid"?"paid":m.payment_status==="failed"?"failed":"pending"}`,children:m.payment_status||"pending"})]})]}),m.group_admin_status&&t.jsxs("div",{className:"detail-modal-group-admin",children:[t.jsx("p",{className:"detail-modal-group-admin-title",children:"Group Admin Status"}),t.jsxs("p",{className:"detail-modal-group-admin-text",children:[m.group_admin_status==="pending"&&"Waiting for Group Admin approval",m.group_admin_status==="commission_set"&&"Ready for payment",m.group_admin_status==="completed"&&"Authorization completed"]})]}),m.status==="approved"&&m.group_admin_status==="commission_set"&&m.payment_status==="pending"&&t.jsx("div",{className:"detail-modal-pay-section",children:t.jsxs("button",{onClick:()=>{d(!1),w(m)},className:"detail-modal-pay-btn",children:[t.jsx(Er,{size:20,className:"detail-modal-pay-icon"}),"Pay Authorization"]})})]})}),t.jsx(cd,{isOpen:b,onClose:()=>{A(!1)},clientSecret:C==null?void 0:C.client_secret,paymentIntentId:C==null?void 0:C.payment_intent_id,amount:(C==null?void 0:C.amount)||(m==null?void 0:m.authorization_price)||0,currency:(C==null?void 0:C.currency)||"USD",paymentSummary:C,onPaymentSuccess:R,onPaymentError:V=>{_({general:V})}})]})},qT=()=>{var M,P,k,I;const{setHeaderTitle:e,setHeaderSubtitle:s}=dt(),[r,a]=f.useState([]),[n,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,m]=f.useState(null),[p,u]=f.useState(""),[g,y]=f.useState("all"),[_,x]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{v()},[]);const v=async()=>{var F,O;l(!0);try{const B=await Ue.getPaymentTransactions({}),H=(B==null?void 0:B.data)||B||[],U=(B==null?void 0:B.summary)||null;a(Array.isArray(H)?H:(H==null?void 0:H.data)||[]),i(U)}catch(B){console.error("Failed to load transactions:",B),(O=(F=B==null?void 0:B.response)==null?void 0:F.data)!=null&&O.message||B!=null&&B.message,console.error("Error details:",B),a([]),i(null)}finally{l(!1)}},C=F=>{m(F),h(!0)},N=f.useMemo(()=>r.map(F=>{var V,L;const O=F.transaction_type||"",B=String(F.amount||""),H=F.currency||"",U=F.status||"",q=F.description||"",W=((V=F.payer)==null?void 0:V.name)||"",G=((L=F.payee)==null?void 0:L.name)||"",re=[O,B,H,U,q,W,G].filter(Boolean).join(" ").toLowerCase();return{...F,_searchText:re}}),[r]),E=f.useMemo(()=>{let F=[...N];if(g!=="all"&&(F=F.filter(O=>O.transaction_type===g)),_!=="all"&&(F=F.filter(O=>O.status===_)),p){const O=p.toLowerCase();F=F.filter(B=>B._searchText?B._searchText.includes(O):!0)}return F},[N,g,_,p]),S=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(F,O)=>{const B=$(O);return t.jsxs("div",{className:"type-column",children:[t.jsx("div",{className:`type-icon-container ${B?"received":"sent"}`,children:B?t.jsx(wp,{className:"type-icon received",size:20}):t.jsx(Qc,{className:"type-icon sent",size:20})}),t.jsx("div",{children:t.jsx("div",{className:"type-label",children:z(O.transaction_type)})})]})}},{header:"Payer",accessor:"payer",sortable:!0,render:(F,O)=>O.payer?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payer",children:O.payer.type==="acc"||O.payer.type==="training_center"?t.jsx(Qe,{className:"payer-payee-icon payer",size:16}):t.jsx(ms,{className:"payer-payee-icon payer",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:O.payer.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:O.payer.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:(F,O)=>O.payee?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payee",children:O.payee.type==="acc"||O.payee.type==="training_center"?t.jsx(Qe,{className:"payer-payee-icon payee",size:16}):t.jsx(ms,{className:"payer-payee-icon payee",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:O.payee.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:O.payee.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(F,O)=>t.jsxs("div",{className:`amount-column ${$(O)?"received":"sent"}`,children:[$(O)?"+":"-"," ",b(O.amount,O.currency)]})},{header:"Status",accessor:"status",sortable:!0,render:(F,O)=>{var U,q;const B=O.status||"",H=B==="completed"?"completed":B==="pending"?"pending":B==="failed"?"failed":"refunded";return t.jsx("span",{className:`status-badge ${H}`,children:((U=O.status)==null?void 0:U.charAt(0).toUpperCase())+((q=O.status)==null?void 0:q.slice(1))||"N/A"})}},{header:"Date",accessor:"created_at",sortable:!0,render:(F,O)=>t.jsxs("div",{className:"date-column",children:[t.jsx(ot,{className:"date-icon",size:16}),A(O.created_at)]})}],[]),b=(F,O="USD")=>`${parseFloat(F||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${O}`,A=F=>F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",j=F=>F?new Date(F).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",z=F=>(F==null?void 0:F.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "))||"N/A",$=F=>F.payee&&F.payee.type==="training_center",w=["transaction_type","status","amount","currency","payment_method","description","created_at","completed_at","payment_gateway_transaction_id","payer","payee","reference"],R=F=>!F||typeof F!="object"?!1:["name","email","type","id"].some(B=>F.hasOwnProperty(B)),D=(F,O="")=>{if(!F||typeof F!="object")return t.jsx("span",{className:"info-section-value",children:"N/A"});if(Array.isArray(F))return t.jsx("div",{className:"reference-details-list",children:F.map((H,U)=>t.jsx("div",{className:"reference-details-item",children:D(H,`${O}[${U}]`)},U))});const B=Object.entries(F).filter(([H])=>{if(w.includes(H))return!1;const U=F[H];return!(typeof U=="object"&&U!==null&&!Array.isArray(U)&&R(U)&&Object.keys(U).every(q=>["name","email","type","id"].includes(q)))});return B.length===0?t.jsx("span",{className:"info-section-value",children:"No additional details"}):t.jsx("div",{className:"reference-details-grid",children:B.map(([H,U])=>{const q=H.split("_").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" ");let W=U;if(U==null)W="N/A";else if(typeof U=="boolean")W=U?"Yes":"No";else{if(typeof U=="object")return Array.isArray(U)?t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[q,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:D(U,H)})]},H):R(U)&&Object.keys(U).every(G=>["name","email","type","id"].includes(G))?null:t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[q,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:D(U,H)})]},H);typeof U=="string"&&U.match(/^\d{4}-\d{2}-\d{2}/)&&(W=j(U))}return t.jsxs("div",{className:"reference-details-row",children:[t.jsxs("span",{className:"reference-details-label",children:[q,":"]}),t.jsx("span",{className:"reference-details-value",children:String(W)})]},H)}).filter(Boolean)})};return t.jsxs("div",{className:"payment-transactions-container",children:[n&&t.jsxs("div",{className:"summary-cards-grid",children:[t.jsx(Ve,{name:"Total Transactions",value:n.total_transactions||0,icon:Zr,colorType:"indigo"}),t.jsx(Ve,{name:"Total Spent",value:b(n.total_spent||0),icon:Qc,colorType:"red"})]}),t.jsx("div",{className:"search-filters-section",children:t.jsxs("div",{className:"search-filters-container",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(vi,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by type, amount, status, payer, payee...",value:p,onChange:F=>u(F.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(wn,{className:"filter-icon",size:20}),t.jsxs("select",{value:g,onChange:F=>y(F.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"instructor_authorization",children:"Instructor Authorization"})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(wn,{className:"filter-icon",size:20}),t.jsxs("select",{value:_,onChange:F=>x(F.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),t.jsx("div",{className:"datatable-container",children:t.jsx(pt,{columns:S,data:E,onView:C,onRowClick:C,isLoading:o,emptyMessage:r.length===0&&!o?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsx(Zr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-text",children:"No transactions found"}),t.jsx("p",{className:"empty-state-subtext",children:"No transactions available"})]}):"No transactions found matching your filters",searchable:!1,filterable:!1,sortable:!0})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),m(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value",children:z(d.transaction_type)})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${d.status==="completed"?"completed":d.status==="pending"?"pending":d.status==="failed"?"failed":"refunded"}`,children:((M=d.status)==null?void 0:M.charAt(0).toUpperCase())+((P=d.status)==null?void 0:P.slice(1))||"N/A"})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Amount"}),t.jsxs("p",{className:`modal-amount ${$(d)?"received":"sent"}`,children:[$(d)?"+":"-"," ",b(d.amount,d.currency)]})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Payment Method"}),t.jsx("p",{className:"modal-value capitalize",children:((k=d.payment_method)==null?void 0:k.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"payer-info-section",children:[t.jsx("p",{className:"info-section-title payer",children:"Payer Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Qe,{className:"info-section-icon payer",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payer.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"payee-info-section",children:[t.jsx("p",{className:"info-section-title payee",children:"Payee Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Qe,{className:"info-section-icon payee",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payee.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"description-section",children:[t.jsx("p",{className:"modal-label",children:"Description"}),t.jsx("p",{className:"description-text",children:d.description})]}),d.reference&&t.jsxs("div",{className:"reference-section",children:[t.jsx("p",{className:"reference-title",children:"Reference Information"}),t.jsxs("div",{className:"reference-content",children:[t.jsxs("div",{className:"reference-type-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",style:{marginLeft:"0.5rem"},children:((I=d.reference.type)==null?void 0:I.split("_").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" "))||"N/A"})]}),d.reference.details&&t.jsxs("div",{className:"reference-details-box",children:[t.jsx("p",{className:"reference-details-title",children:"Details:"}),D(d.reference.details)]})]})]}),t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Created At"}),t.jsx("p",{className:"modal-value",children:j(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Completed At"}),t.jsx("p",{className:"modal-value",children:j(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"payment-gateway-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"modal-value modal-mono",children:d.payment_gateway_transaction_id})]})]})})]})},WT=()=>{var R,D,M;const[e]=Td(),s=e.get("status"),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[c,h]=f.useState(!1),[d,m]=f.useState(!1),[p,u]=f.useState(null),[g,y]=f.useState({completion_rate_percentage:"",notes:""}),_=()=>s?s==="scheduled"?"scheduled":s==="completed"?"completed":"all":"all",[x,v]=f.useState(()=>_());f.useEffect(()=>{C()},[o.currentPage,o.perPage]),f.useEffect(()=>{const P=_();v(P)},[s]);const C=async()=>{i(!0);try{const P={page:o.currentPage,per_page:o.perPage},k=await Es.listClasses(P);let I=[];k.data?(I=k.data||[],l(F=>({...F,totalPages:k.last_page||k.total_pages||1,totalItems:k.total||0}))):k.classes?(I=k.classes||[],l(F=>{var O;return{...F,totalPages:1,totalItems:((O=k.classes)==null?void 0:O.length)||0}})):(I=Array.isArray(k)?k:[],l(F=>({...F,totalPages:1,totalItems:I.length}))),a(I)}catch(P){console.error("Failed to load classes:",P),a([])}finally{i(!1)}},N=P=>{l(k=>({...k,currentPage:P}))},E=P=>{l(k=>({...k,perPage:P,currentPage:1}))},S=async P=>{try{const k=await Es.getClassDetails(P.id);u(k.class),h(!0)}catch(k){console.error("Failed to load class details:",k),u(P),h(!0)}},b=P=>{u(P),y({completion_rate_percentage:"",notes:""}),m(!0)},A=async()=>{if(!g.completion_rate_percentage){alert("Please enter completion rate percentage");return}try{await Es.markClassComplete(p.id,g),await C(),m(!1),u(null),y({completion_rate_percentage:"",notes:""}),l(P=>({...P,currentPage:1})),alert("Class marked as complete!")}catch(P){alert("Failed to mark complete: "+(P.message||"Unknown error"))}},j=P=>P==="completed"?"status-completed":P==="scheduled"?"status-scheduled":"status-default",z=P=>P==="completed"?"modal-status-completed":P==="scheduled"?"modal-status-scheduled":"modal-status-default",$=[{header:"Course",accessor:"course",render:(P,k)=>{var F;const I=typeof P=="string"?P:(P==null?void 0:P.name)||((F=k.course)==null?void 0:F.name)||"N/A";return t.jsxs("div",{className:"course-cell",children:[t.jsx(Ns,{className:"course-icon"}),t.jsx("span",{className:"course-name",children:I})]})}},{header:"Training Center",accessor:"training_center",render:P=>typeof P=="string"?P:(P==null?void 0:P.name)||"N/A"},{header:"Start Date",accessor:"start_date",render:P=>P?new Date(P).toLocaleDateString():"N/A"},{header:"End Date",accessor:"end_date",render:P=>P?new Date(P).toLocaleDateString():"N/A"},{header:"Exam Date",accessor:"exam_date",render:P=>P?new Date(P).toLocaleDateString():"Not set"},{header:"Exam Score",accessor:"exam_score",render:P=>P!=null?`${parseFloat(P).toFixed(2)}%`:"N/A"},{header:"Status",accessor:"status",render:P=>t.jsx("span",{className:`status-badge ${j(P)}`,children:P})},{header:"Enrolled",accessor:"enrolled_count",render:(P,k)=>{var I;return`${P||0}/${((I=k.course)==null?void 0:I.max_capacity)||"N/A"}`}}],w=[{value:"all",label:"All Classes"},{value:"scheduled",label:"Scheduled",filterFn:P=>P.status==="scheduled"},{value:"completed",label:"Completed",filterFn:P=>P.status==="completed"}];return t.jsxs("div",{children:[t.jsx(pt,{columns:$,data:r,onView:S,onRowClick:S,isLoading:n,emptyMessage:"No classes assigned yet.",searchable:!0,filterable:!0,filterOptions:w,sortable:!0,searchPlaceholder:"Search classes...",defaultFilter:x}),!n&&o.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Eh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:N,onPerPageChange:E})}),t.jsx(Le,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Class Details",size:"lg",children:p&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(Ns,{size:16,className:"modal-field-label-icon"}),"Course"]}),t.jsx("p",{className:"modal-field-value",children:typeof p.course=="string"?p.course:((R=p.course)==null?void 0:R.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Training Center"}),t.jsx("p",{className:"modal-field-value",children:typeof p.training_center=="string"?p.training_center:((D=p.training_center)==null?void 0:D.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(ot,{size:16,className:"modal-field-label-icon"}),"Start Date"]}),t.jsx("p",{className:"modal-field-value",children:p.start_date?new Date(p.start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(ot,{size:16,className:"modal-field-label-icon"}),"End Date"]}),t.jsx("p",{className:"modal-field-value",children:p.end_date?new Date(p.end_date).toLocaleDateString():"N/A"})]}),p.exam_date&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsxs("p",{className:"modal-field-label",style:{color:"#9333ea"},children:[t.jsx(ot,{size:16,className:"modal-field-label-icon"}),"Exam Date"]}),t.jsx("p",{className:"modal-field-value",style:{color:"#7e22ce"},children:new Date(p.exam_date).toLocaleDateString()})]}),p.exam_score!==null&&p.exam_score!==void 0&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"modal-field-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"modal-field-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(p.exam_score).toFixed(2),"%"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(ft,{size:16,className:"modal-field-label-icon"}),"Enrollment"]}),t.jsxs("p",{className:"modal-field-value",children:[p.enrolled_count||0," / ",((M=p.course)==null?void 0:M.max_capacity)||"N/A"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Status"}),t.jsx("span",{className:`modal-status-badge ${z(p.status)}`,children:p.status})]})]}),p.location_details&&t.jsxs("div",{className:"location-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(Dt,{size:16,className:"modal-field-label-icon"}),"Location"]}),t.jsx("p",{className:"modal-field-value",children:p.location_details})]}),p.materials&&p.materials.length>0&&t.jsxs("div",{className:"materials-section",children:[t.jsx("h3",{className:"materials-title",children:"Course Materials"}),t.jsx("div",{className:"materials-list",children:p.materials.map((P,k)=>t.jsxs("div",{className:"material-item",children:[t.jsx("p",{className:"material-name",children:P.name}),P.file_url&&t.jsx("a",{href:P.file_url,target:"_blank",rel:"noopener noreferrer",className:"material-link",children:"Download"})]},k))})]}),p.status!=="completed"&&t.jsx("div",{className:"modal-actions",children:t.jsxs("button",{onClick:()=>{h(!1),b(p)},className:"complete-button",children:[t.jsx(Me,{size:20,className:"complete-button-icon"}),"Mark as Complete"]})})]})}),t.jsx(Le,{isOpen:d,onClose:()=>{m(!1),u(null),y({completion_rate_percentage:"",notes:""})},title:"Mark Class as Complete",size:"md",children:t.jsxs("div",{className:"complete-modal-content",children:[t.jsx(fe,{label:"Completion Rate (%)",name:"completion_rate_percentage",type:"number",value:g.completion_rate_percentage,onChange:P=>y({...g,completion_rate_percentage:P.target.value}),required:!0,min:"0",max:"100",placeholder:"e.g., 95"}),t.jsx(fe,{label:"Notes (Optional)",name:"notes",value:g.notes,onChange:P=>y({...g,notes:P.target.value}),textarea:!0,rows:4,placeholder:"Add any notes about the class completion..."}),t.jsxs("div",{className:"complete-modal-actions",children:[t.jsx("button",{onClick:()=>{m(!1),u(null),y({completion_rate_percentage:"",notes:""})},className:"cancel-button",children:"Cancel"}),t.jsx("button",{onClick:A,className:"confirm-button",children:"Mark Complete"})]})]})})]})},VT=()=>{var p;const[e,s]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await Es.getAvailableMaterials();s(u.materials||[])}catch(u){console.error("Failed to load materials:",u)}finally{a(!1)}},h=u=>{l(u),i(!0)},d=u=>{u.file_url?window.open(u.file_url,"_blank"):alert("File not available")},m=[{header:"Material",accessor:"name",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ze,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:u}),t.jsx("div",{className:"text-sm text-gray-500",children:g.material_type})]})]})},{header:"Course",accessor:"course",render:u=>typeof u=="string"?u:(u==null?void 0:u.name)||"N/A"},{header:"Type",accessor:"material_type",render:u=>u?u.toUpperCase():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Access course materials for your classes"})]}),t.jsx(pt,{columns:m,data:e,onView:h,onRowClick:h,isLoading:r,emptyMessage:"No materials available."}),t.jsx(Le,{isOpen:n,onClose:()=>{i(!1),l(null)},title:"Material Details",size:"md",children:o&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.course})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((p=o.material_type)==null?void 0:p.toUpperCase())||"N/A"})]}),o.file_url&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>d(o),className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(Yc,{size:20,className:"mr-2"}),"Download"]})})]})})]})},HT=()=>{const[e,s]=f.useState([]),[r,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null);f.useEffect(()=>{d()},[]);const d=async()=>{try{const u=await Es.getEarnings();s(u.earnings||[]),a(u.summary)}catch(u){console.error("Failed to load earnings:",u)}finally{i(!1)}},m=u=>{h(u),l(!0)},p=[{header:"Certificate",accessor:"certificate",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ot,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:u})]})},{header:"Amount",accessor:"amount",render:u=>`$${parseFloat(u||0).toFixed(2)}`},{header:"Commission %",accessor:"commission_percentage",render:u=>`${u||0}%`},{header:"Status",accessor:"status",render:u=>{const g={paid:{bg:"bg-green-100",text:"text-green-800",icon:Me},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ge}},y=g[u]||g.pending,_=y.icon;return t.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${y.bg} ${y.text}`,children:[t.jsx(_,{size:12,className:"mr-1"}),u]})}},{header:"Paid Date",accessor:"paid_at",render:u=>u?new Date(u).toLocaleDateString():"-"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View your earnings and payment history"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Ot,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-green-100 mb-2",children:"Total Earnings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Ge,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-yellow-100 mb-2",children:"Pending"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.pending||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Me,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-blue-100 mb-2",children:"Paid"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.paid||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsx(pt,{columns:p,data:e,onView:m,onRowClick:m,isLoading:n,emptyMessage:"No earnings found."}),t.jsx(Le,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Earning Details",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Certificate"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.certificate})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(c.amount||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.commission_percentage||0,"%"]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${c.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),c.paid_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Paid Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(c.paid_at).toLocaleDateString()})]})]})})]})},GT="modulepreload",KT=function(e){return"/"+e},$0={},QT=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=KT(c),c in $0)return;$0[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":GT,h||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((p,u)=>{m.addEventListener("load",p),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},g1=()=>{const{user:e}=jr(),{setHeaderTitle:s,setHeaderSubtitle:r}=dt(),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState(null),[m,p]=f.useState(!1),[u,g]=f.useState(!1),[y,_]=f.useState(null),[x,v]=f.useState(null),[C,N]=f.useState([]),[E,S]=f.useState([]),[b,A]=f.useState(!1),[j,z]=f.useState(!1),[$,w]=f.useState([]),[R,D]=f.useState([]),[M,P]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[]}),[k,I]=f.useState({current_password:"",password:"",password_confirmation:""}),[F,O]=f.useState({}),[B,H]=f.useState("");f.useEffect(()=>(s("Profile"),r("Manage your account settings and preferences"),()=>{s(null),r(null)}),[s,r]),f.useEffect(()=>{q()},[]),f.useEffect(()=>{C.length>0&&U()},[C.length]),f.useEffect(()=>{M.country?W(M.country):(S([]),P(Z=>({...Z,city:""})))},[M.country]),f.useEffect(()=>{E.length>0&&(l!=null&&l.city)&&!M.city&&E.some(ee=>ee.name===l.city)&&P(ee=>({...ee,city:l.city}))},[E.length,l==null?void 0:l.city]);const U=async()=>{n(!0);try{const Z=await Es.getProfile(),ee=Z.profile||Z.instructor||Z;c(ee);let ge=ee.country||"";if(ge&&C.length>0){const le=C.find(Y=>Y.name===ge||Y.code===ge);le&&(ge=le.code)}const ne=ee.city||"";P({first_name:ee.first_name||"",last_name:ee.last_name||"",email:ee.email||(e==null?void 0:e.email)||"",phone:ee.phone||"",country:ge,city:ne,id_number:ee.id_number||"",specializations:ee.specializations||[]}),w(ee.certificates||[]),ge&&await W(ge),(ee.cv_url||ee.cv)&&d(ee.cv_url||ee.cv),ee.photo_url||ee.photo?v(ee.photo_url||ee.photo):v(null)}catch(Z){console.error("Failed to load profile:",Z)}finally{n(!1)}},q=async()=>{A(!0);try{const Z=await Rr.getCountries();N(Z.countries||[])}catch(Z){console.error("Failed to load countries:",Z),N([])}finally{A(!1)}},W=async Z=>{var ee;if(!Z){S([]);return}z(!0);try{const ge=await Rr.getCities(Z);let ne=ge.cities||((ee=ge.data)==null?void 0:ee.cities)||ge.data||ge||[];!Array.isArray(ne)&&typeof ne=="object"&&(ne=Object.values(ne)),S(Array.isArray(ne)?ne:[])}catch(ge){console.error("Failed to load cities:",ge),S([])}finally{z(!1)}},G=Z=>{const{name:ee,value:ge}=Z.target;P({...M,[ee]:ge,...ee==="country"&&{city:""}}),O({}),H("")},re=Z=>{I({...k,[Z.target.name]:Z.target.value}),O({}),H("")},V=async Z=>{var ee,ge,ne,le;Z.preventDefault(),o(!0),O({}),H("");try{let Y;const ie=R.length>0,de=y instanceof File;if(ie||de){const he=new FormData;M.first_name&&he.append("first_name",M.first_name),M.last_name&&he.append("last_name",M.last_name),M.phone&&he.append("phone",M.phone),M.country&&he.append("country",M.country),M.city&&he.append("city",M.city),M.id_number&&he.append("id_number",M.id_number),M.specializations&&M.specializations.length>0&&M.specializations.forEach(Te=>{he.append("specializations[]",Te)}),de&&he.append("photo",y),R.forEach((Te,Ke)=>{he.append(`certificates[${Ke}][name]`,Te.name),he.append(`certificates[${Ke}][issue_date]`,Te.issue_date),Te.file&&he.append(`certificates[${Ke}][certificate_file]`,Te.file)}),console.log(" FormData Contents:"),console.log(" FormData object:",he);for(const[Te,Ke]of he.entries())Ke instanceof File?console.log(`  ${Te}: File(${Ke.name}, ${Ke.size} bytes, ${Ke.type})`):console.log(`  ${Te}:`,Ke);console.log(" Sending POST request to /instructor/profile");const Pe=await Es.updateProfile(he);Y=Pe.profile||Pe.instructor||Pe,c(Y),w(Y.certificates||[]),D([]),de&&(Y.photo_url||Y.photo)&&(v(Y.photo_url||Y.photo),_(null)),H("Profile updated successfully!")}else{const he={first_name:M.first_name,last_name:M.last_name,phone:M.phone||null,country:M.country||null,city:M.city||null,id_number:M.id_number||null,specializations:M.specializations||[]};console.log(" JSON Update Payload:"),console.log(JSON.stringify(he,null,2)),console.log(" Sending POST request to /instructor/profile");const Pe=await Es.updateProfile(he);Y=Pe.profile||Pe.instructor||Pe,c(Y),H("Profile updated successfully!")}P(he=>({...he,first_name:Y.first_name||he.first_name,last_name:Y.last_name||he.last_name,email:Y.email||he.email,phone:Y.phone||he.phone||"",country:Y.country||he.country||"",city:Y.city||he.city||"",id_number:Y.id_number||he.id_number||"",specializations:Y.specializations||he.specializations||[]})),(Y.cv_url||Y.cv)&&d(Y.cv_url||Y.cv),(Y.photo_url||Y.photo)&&v(Y.photo_url||Y.photo),await U(),g(!1)}catch(Y){(ge=(ee=Y.response)==null?void 0:ee.data)!=null&&ge.errors?O(Y.response.data.errors):Y.errors?O(Y.errors):O({general:((le=(ne=Y.response)==null?void 0:ne.data)==null?void 0:le.message)||Y.message||"Failed to update profile"})}finally{o(!1)}},L=async Z=>{Z.preventDefault(),o(!0),O({}),H("");try{const{authAPI:ee}=await QT(async()=>{const{authAPI:ge}=await Promise.resolve().then(()=>w_);return{authAPI:ge}},void 0);await ee.changePassword(k),H("Password changed successfully!"),I({current_password:"",password:"",password_confirmation:""})}catch(ee){ee.errors?O(ee.errors):O({password:ee.message||"Failed to change password"})}finally{o(!1)}},Q=async Z=>{var ge,ne,le,Y;const ee=Z.target.files[0];if(ee){if(ee.type!=="application/pdf"){O({cv:"Only PDF files are allowed"}),Z.target.value="";return}if(ee.size>10*1024*1024){O({cv:"File size must be less than 10MB"}),Z.target.value="";return}O({}),H(""),p(!0);try{const ie=new FormData;ie.append("cv",ee);const de=await Es.updateProfile(ie),he=de.profile||de.instructor||de;if(he.cv_url||he.cv)d(he.cv_url||he.cv),c(he),H("CV uploaded successfully!");else throw new Error("CV upload failed - no CV URL returned");Z.target.value=""}catch(ie){console.error("Failed to upload CV:",ie),(ne=(ge=ie.response)==null?void 0:ge.data)!=null&&ne.message?O({cv:ie.response.data.message}):(Y=(le=ie.response)==null?void 0:le.data)!=null&&Y.errors?O(ie.response.data.errors):O({cv:ie.message||"Failed to upload CV"})}finally{p(!1)}}},J=async()=>{var Z,ee;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){p(!0),O({}),H("");try{const ge=new FormData;ge.append("cv","");const ne=await Es.updateProfile(ge),le=ne.profile||ne.instructor||ne;c(le),d(null),H("CV removed successfully!")}catch(ge){console.error("Failed to remove CV:",ge),(ee=(Z=ge.response)==null?void 0:Z.data)!=null&&ee.message?O({cv:ge.response.data.message}):O({cv:ge.message||"Failed to remove CV"})}finally{p(!1)}}},ue=(Z,ee=800,ge=800)=>new Promise((ne,le)=>{const Y=new FileReader;Y.onload=ie=>{const de=new Image;de.onload=()=>{const he=document.createElement("canvas");let Pe=de.width,Te=de.height;(Pe>ee||Te>ge)&&(Pe>Te?Pe>ee&&(Te=Te*ee/Pe,Pe=ee):Te>ge&&(Pe=Pe*ge/Te,Te=ge)),he.width=Pe,he.height=Te,he.getContext("2d").drawImage(de,0,0,Pe,Te),he.toBlob(ke=>{ke?ne(ke):le(new Error("Failed to resize image"))},Z.type||"image/jpeg",1)},de.onerror=le,de.src=ie.target.result},Y.onerror=le,Y.readAsDataURL(Z)}),te=async Z=>{const ee=Z.target.files[0];if(!ee)return;O({...F,photo:void 0});const ge=["image/jpeg","image/jpg","image/png"],ne=ee.type.toLowerCase();if(!ge.includes(ne)){O({...F,photo:"Please select a valid image file (JPG, JPEG, or PNG only)"}),Z.target.value="";return}try{const le=await ue(ee),Y=new File([le],ee.name,{type:ee.type});_(Y);const ie=new FileReader;ie.onloadend=()=>{v(ie.result)},ie.onerror=()=>{O({...F,photo:"Failed to load image preview"})},ie.readAsDataURL(Y)}catch(le){console.error("Failed to resize image:",le),O({...F,photo:"Failed to process image"}),Z.target.value=""}Z.target.value=""},pe=()=>{D([...R,{name:"",issue_date:"",file:null}])},ye=(Z,ee,ge)=>{const ne=[...R];ne[Z]={...ne[Z],[ee]:ge},D(ne)},Se=Z=>{D(R.filter((ee,ge)=>ge!==Z))},oe=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return a?t.jsx("div",{className:"instructor-profile-loading",children:t.jsx("div",{className:"instructor-profile-spinner"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[B&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(Me,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:B})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(ms,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),!u&&t.jsx(et,{type:"button",variant:"primary",onClick:()=>g(!0),icon:t.jsx(Rs,{size:18}),children:"Edit Profile"})]}),t.jsxs("form",{onSubmit:V,className:"space-y-5",children:[t.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Photo"}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:x?t.jsx("img",{src:x,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx(ms,{className:"text-gray-400",size:40})}),i&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent"})})]}),u&&t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:te,disabled:i,className:"hidden"}),t.jsx(Os,{className:"h-4 w-4 text-gray-600 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:y?"Change Photo":"Select Photo"})]})})]}),u&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"JPG, JPEG, PNG only, max 5MB"}),F.photo&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:F.photo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:M.first_name,onChange:G,required:!0,disabled:!u,error:F.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:M.last_name,onChange:G,required:!0,disabled:!u,error:F.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:M.email,onChange:G,required:!0,disabled:!0,error:F.email,helpText:"Email cannot be changed"}),t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:M.phone,onChange:G,disabled:!u,error:F.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:M.country,onChange:G,className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all ${u?"":"no-dropdown-arrow"}`,disabled:!u||b,children:[t.jsx("option",{value:"",children:"Select Country"}),C.map(Z=>t.jsx("option",{value:Z.code,children:Z.name},Z.code))]})]}),F.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:M.city,onChange:G,className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all ${u?"":"no-dropdown-arrow"}`,disabled:!u||!M.country||j,children:[t.jsx("option",{value:"",children:"Select City"}),E.map((Z,ee)=>t.jsx("option",{value:Z.name,children:Z.name},ee))]})]}),F.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.city})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"ID Number",name:"id_number",value:M.id_number,onChange:G,disabled:!u,error:F.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50",children:l!=null&&l.is_assessor?t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Assessor"}):t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 border border-gray-200",children:"Instructor"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field is managed by your Training Center"})]})]}),t.jsx(_u,{label:"Specializations",value:M.specializations,onChange:Z=>{P({...M,specializations:Z}),O({})},error:F.specializations,disabled:!u}),t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-lg flex items-center justify-center",children:t.jsx(Ze,{className:"text-indigo-600",size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[h&&!u&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsx("div",{className:"flex items-start justify-between gap-3",children:t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ze,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ze,{size:16}),h.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]})})}),!h&&!m&&!u&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ze,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click Edit Profile to upload your CV"})]})]})}),u&&t.jsxs("div",{className:"space-y-3",children:[h&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ze,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ze,{size:16}),h.split("/").pop().split("?")[0]||"View CV"]})]})]}),t.jsx("button",{onClick:J,disabled:m,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(_s,{size:18})})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h?"Update CV":"Upload CV"}),t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:Q,disabled:m,className:"hidden"}),t.jsx("div",{className:"text-center",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary-600 border-t-transparent mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Uploading CV..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Os,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:h?"Click to update CV":"Click to upload CV"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF only, maximum 10MB"})]})})]}),F.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:F.cv})]})]})]})]}),F.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:F.general})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(rr,{className:"text-purple-600",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificates"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage your professional certificates"})]}),u&&t.jsx(et,{type:"button",variant:"secondary",onClick:pe,icon:t.jsx(rr,{size:18}),children:"Add Certificate"})]}),t.jsxs("div",{className:"space-y-4",children:[$.length>0&&t.jsx("div",{className:"space-y-3",children:$.map((Z,ee)=>t.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Name"}),t.jsx("p",{className:"text-sm text-gray-900",children:Z.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),t.jsx("p",{className:"text-sm text-gray-900",children:oe(Z.issue_date)})]})]}),Z.url&&t.jsx("div",{className:"mt-3 flex items-center gap-2",children:t.jsxs("a",{href:Z.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-700 underline flex items-center gap-1",children:[t.jsx(as,{size:16}),"View Certificate"]})})]})})},ee))}),R.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"New Certificates to Add"}),R.map((Z,ee)=>t.jsx("div",{className:"p-4 border-2 border-dashed border-primary-300 rounded-lg bg-primary-50",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsx(fe,{label:"Certificate Name",value:Z.name,onChange:ge=>ye(ee,"name",ge.target.value),required:!0,error:F[`new_certificates.${ee}.name`]}),t.jsx(fe,{label:"Issue Date",type:"date",value:Z.issue_date,onChange:ge=>ye(ee,"issue_date",ge.target.value),required:!0,error:F[`new_certificates.${ee}.issue_date`]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate File (PDF) *"}),t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:ge=>{const ne=ge.target.files[0];if(ne){if(ne.type!=="application/pdf"){O({[`new_certificates.${ee}.file`]:"Only PDF files are allowed"});return}if(ne.size>10*1024*1024){O({[`new_certificates.${ee}.file`]:"File size must be less than 10MB"});return}ye(ee,"file",ne)}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",required:!0}),Z.file&&t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Selected: ",Z.file.name]})]})]}),t.jsx("button",{type:"button",onClick:()=>Se(ee),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove",children:t.jsx(Hs,{size:18})})]})},ee))]}),$.length===0&&R.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(rr,{size:48,className:"mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No certificates added yet"})]}),u&&t.jsxs("div",{className:"pt-4 border-t border-gray-200 flex gap-3 mt-4",children:[t.jsx(et,{type:"button",variant:"secondary",onClick:()=>{g(!1),O({}),D([]),U()},disabled:i,fullWidth:!0,children:"Cancel"}),t.jsx(et,{type:"button",variant:"primary",onClick:V,fullWidth:!0,disabled:i,loading:i,icon:t.jsx(Xo,{size:20}),children:"Save Changes"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Xf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:L,className:"space-y-5",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:k.current_password,onChange:re,required:!0,error:F.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:k.password,onChange:re,required:!0,error:F.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:k.password_confirmation,onChange:re,required:!0,error:F.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(et,{type:"submit",variant:"danger",disabled:i,loading:i,icon:t.jsx(Id,{size:20}),fullWidth:!0,children:"Change Password"})})]})]})]})]})},YT=()=>{const{user:e,updateUser:s}=jr(),{setHeaderTitle:r,setHeaderSubtitle:a}=dt(),[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=(e==null?void 0:e.role)==="instructor",h=(e==null?void 0:e.role)==="training_center_admin",[d,m]=f.useState(null),[p,u]=f.useState(null),[g,y]=f.useState(null),[_,x]=f.useState(!1),[v,C]=f.useState(null),[N,E]=f.useState(null),[S,b]=f.useState(!1),[A,j]=f.useState([]),[z,$]=f.useState([]),[w,R]=f.useState(!1),[D,M]=f.useState(!1),[P,k]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[],name:"",legal_name:"",registration_number:"",address:"",state:"",postal_code:"",website:"",description:""}),[I,F]=f.useState({current_password:"",password:"",password_confirmation:""}),[O,B]=f.useState({}),[H,U]=f.useState("");f.useEffect(()=>{V()},[]);const q=f.useRef(!1),W=f.useRef(e==null?void 0:e.role);f.useEffect(()=>{const Z=e==null?void 0:e.role;Z!==W.current&&(q.current=!1,W.current=Z),q.current||(h||c?A.length>0&&(q.current=!0,re()):(q.current=!0,re()))},[A.length,e==null?void 0:e.role]);const G=f.useRef(null);f.useEffect(()=>{h&&P.country&&P.country!==G.current?(G.current=P.country,L(P.country)):h&&!P.country&&(G.current=null,$([]))},[P.country,h]),f.useEffect(()=>{c&&P.country&&P.country!==G.current?(G.current=P.country,L(P.country)):c&&!P.country&&(G.current=null,$([]),k(Z=>({...Z,city:""})))},[P.country,c]),f.useEffect(()=>(r("Profile"),a("Manage your account settings and preferences"),()=>{r(null),a(null)}),[r,a]);const re=async()=>{i(!0);try{if(c){const Z=await Es.getProfile(),ee=Z.profile||Z.instructor||Z;m(ee);let ge=ee.country||"";if(ge&&A.length>0){const le=A.find(Y=>Y.name===ge||Y.code===ge);le&&(ge=le.code)}const ne=ee.city||"";k({first_name:ee.first_name||"",last_name:ee.last_name||"",email:ee.email||(e==null?void 0:e.email)||"",phone:ee.phone||"",country:ge,city:ne,id_number:ee.id_number||"",specializations:ee.specializations||[]}),(ee.cv_url||ee.cv||ee.resume_url||ee.resume)&&y(ee.cv_url||ee.cv||ee.resume_url||ee.resume)}else if(h){const Z=await Ue.getProfile(),ee=Z.profile||Z.training_center||Z;let ge=ee.country||"";if(ge&&A.length>0){const ne=A.find(le=>le.name===ge||le.code===ge);ne&&(ge=ne.code)}k({name:ee.name||ee.training_center_name||"",legal_name:ee.legal_name||"",registration_number:ee.registration_number||"",email:ee.email||(e==null?void 0:e.email)||"",phone:ee.phone||ee.phone_number||"",address:ee.address||"",city:ee.city||"",state:ee.state||ee.province||"",country:ge,postal_code:ee.postal_code||ee.zip_code||"",website:ee.website||ee.website_url||"",description:ee.description||ee.bio||""}),(ee.logo_url||ee.logo||ee.avatar)&&E(ee.logo_url||ee.logo||ee.avatar)}else{const Z=await dr.getProfile();k({first_name:"",last_name:"",name:Z.user.name||"",email:Z.user.email||"",phone:"",country:"",city:""}),s(Z.user)}}catch(Z){console.error("Failed to load profile:",Z)}finally{i(!1)}},V=async()=>{R(!0);try{const Z=await Rr.getCountries();j(Z.countries||[])}catch(Z){console.error("Failed to load countries:",Z),j([])}finally{R(!1)}},L=async Z=>{var ee;if(!Z){$([]);return}M(!0);try{const ge=await Rr.getCities(Z);let ne=ge.cities||((ee=ge.data)==null?void 0:ee.cities)||ge.data||ge||[];!Array.isArray(ne)&&typeof ne=="object"&&(ne=Object.values(ne)),$(Array.isArray(ne)?ne:[])}catch(ge){console.error("Failed to load cities:",ge),$([])}finally{M(!1)}},Q=Z=>{const{name:ee,value:ge}=Z.target;k({...P,[ee]:ge,...ee==="country"&&{city:""}}),B({}),U("")},J=Z=>{const ee=Z.target.files[0];if(ee){B({...O,logo:void 0});const ge=["image/jpeg","image/jpg","image/png"],ne=ee.type.toLowerCase();if(!ge.includes(ne)){B({...O,logo:"Please select a valid image file (JPG, JPEG, or PNG only)"});return}const le=5*1024*1024;if(ee.size>le){B({...O,logo:"Image size must be less than 5MB"});return}C(ee);const Y=new FileReader;Y.onloadend=()=>{E(Y.result)},Y.onerror=()=>{B({...O,logo:"Failed to load image preview"})},Y.readAsDataURL(ee)}},ue=Z=>{F({...I,[Z.target.name]:Z.target.value}),B({}),U("")},te=async Z=>{var ee,ge,ne,le;Z.preventDefault(),l(!0),B({}),U("");try{if(c){const Y={first_name:P.first_name,last_name:P.last_name,email:P.email,phone:P.phone||null,country:P.country||null,city:P.city||null,id_number:P.id_number||null,specializations:P.specializations||[]},ie=await Es.updateProfile(Y),de=ie.profile||ie.instructor||ie;m(de),U("Profile updated successfully!"),k(he=>({...he,first_name:de.first_name||he.first_name,last_name:de.last_name||he.last_name,email:de.email||he.email,phone:de.phone||he.phone||"",country:de.country||he.country||"",city:de.city||he.city||"",id_number:de.id_number||he.id_number||"",specializations:de.specializations||he.specializations||[]})),(de.cv_url||de.cv)&&y(de.cv_url||de.cv)}else if(h)if(v instanceof File){const ie=new FormData;P.name&&ie.append("name",P.name),P.legal_name&&ie.append("legal_name",P.legal_name),P.registration_number&&ie.append("registration_number",P.registration_number),P.email&&ie.append("email",P.email),P.phone&&ie.append("phone",P.phone),P.address&&ie.append("address",P.address),P.country&&ie.append("country",P.country),P.city&&ie.append("city",P.city),P.website&&ie.append("website",P.website),ie.append("logo",v);const de=await Ue.updateProfile(ie),he=de.profile||de.training_center||de;(he.logo_url||he.logo)&&E(he.logo_url||he.logo),C(null),b(!1),U(de.message||"Profile updated successfully!")}else{const ie=new FormData;P.name&&ie.append("name",P.name),P.legal_name&&ie.append("legal_name",P.legal_name),P.registration_number&&ie.append("registration_number",P.registration_number),P.email&&ie.append("email",P.email),P.phone&&ie.append("phone",P.phone),P.address&&ie.append("address",P.address),P.country&&ie.append("country",P.country),P.city&&ie.append("city",P.city),P.website&&ie.append("website",P.website);const de=await Ue.updateProfile(ie),he=de.profile||de.training_center||de;b(!1),U(de.message||"Profile updated successfully!")}else{const Y=await dr.updateProfile(P);s(Y.user),U("Profile updated successfully!")}}catch(Y){(ge=(ee=Y.response)==null?void 0:ee.data)!=null&&ge.errors?B(Y.response.data.errors):Y.errors?B(Y.errors):B({general:((le=(ne=Y.response)==null?void 0:ne.data)==null?void 0:le.message)||Y.message||"Failed to update profile"})}finally{l(!1)}},pe=async Z=>{Z.preventDefault(),l(!0),B({}),U("");try{await dr.changePassword(I),U("Password changed successfully!"),F({current_password:"",password:"",password_confirmation:""})}catch(ee){ee.errors?B(ee.errors):B({password:ee.message||"Failed to change password"})}finally{l(!1)}},ye=Z=>{const ee=Z.target.files[0];if(ee){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(ee.type)){B({cv:"Please upload a PDF or Word document"});return}if(ee.size>5*1024*1024){B({cv:"File size must be less than 5MB"});return}u(ee),B({})}},Se=async()=>{var Z,ee,ge,ne;if(p){x(!0),B({}),U("");try{const le=new FormData;le.append("cv",p);const Y=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),de=await kt.put("https://aeroenix.com/v1/api/instructor/profile",le,{headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}}),he=de.data.profile||de.data.instructor||de.data;(he.cv_url||he.cv)&&y(he.cv_url||he.cv),m(he),k(Pe=>({...Pe,first_name:he.first_name||Pe.first_name,last_name:he.last_name||Pe.last_name,email:he.email||Pe.email,phone:he.phone||Pe.phone,country:he.country||Pe.country,city:he.city||Pe.city,id_number:he.id_number||Pe.id_number,specializations:he.specializations||Pe.specializations})),u(null),U("CV uploaded successfully!")}catch(le){console.error("Failed to upload CV:",le),(ee=(Z=le.response)==null?void 0:Z.data)!=null&&ee.errors?B(le.response.data.errors):B({cv:((ne=(ge=le.response)==null?void 0:ge.data)==null?void 0:ne.message)||le.message||"Failed to upload CV"})}finally{x(!1)}}},oe=async()=>{var Z,ee,ge,ne;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){x(!0),B({}),U("");try{const le=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),Y="https://aeroenix.com/v1/api",ie=new FormData;ie.append("cv","");const de=await kt.put(`${Y}/instructor/profile`,ie,{headers:{Authorization:`Bearer ${le}`,Accept:"application/json"}}),he=de.data.profile||de.data.instructor||de.data;m(he),y(null),u(null),U("CV removed successfully!"),k(Pe=>({...Pe,first_name:he.first_name||Pe.first_name,last_name:he.last_name||Pe.last_name,email:he.email||Pe.email,phone:he.phone||Pe.phone,country:he.country||Pe.country,city:he.city||Pe.city,id_number:he.id_number||Pe.id_number,specializations:he.specializations||Pe.specializations}))}catch(le){console.error("Failed to remove CV:",le),(ee=(Z=le.response)==null?void 0:Z.data)!=null&&ee.errors?B(le.response.data.errors):B({cv:((ne=(ge=le.response)==null?void 0:ge.data)==null?void 0:ne.message)||le.message||"Failed to remove CV"})}finally{x(!1)}}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[H&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(Me,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:H})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(ms,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:te,className:"space-y-5",children:[h?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b border-gray-200",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:N?t.jsx("img",{src:N,alt:"Logo",className:"w-full h-full object-cover"}):t.jsx(Qe,{className:"text-gray-400",size:40})}),S&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[t.jsx(Os,{size:16}),t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:J,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Center Logo"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your training center logo"}),!S&&t.jsxs("button",{type:"button",onClick:()=>b(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[t.jsx(Rs,{size:16}),"Edit Profile"]}),O.logo&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.logo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Training Center Name",name:"name",value:P.name,onChange:Q,required:!0,disabled:!S,error:O.name}),t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:P.email,onChange:Q,required:!0,disabled:!S,error:O.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Legal Name",name:"legal_name",value:P.legal_name,onChange:Q,disabled:!S,error:O.legal_name,placeholder:"Official legal name of the training center"}),t.jsx(fe,{label:"Registration Number",name:"registration_number",value:P.registration_number,onChange:Q,disabled:!S,error:O.registration_number,placeholder:"Unique registration number"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:P.phone,onChange:Q,disabled:!S,error:O.phone}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:P.website,onChange:Q,disabled:!S,error:O.website,placeholder:"https://example.com"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5",children:t.jsx(fe,{label:"Address",name:"address",value:P.address,onChange:Q,disabled:!S,error:O.address})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:P.country,onChange:Q,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!S||w,children:[t.jsx("option",{value:"",children:"Select Country"}),A.map(Z=>t.jsx("option",{value:Z.code,children:Z.name},Z.code))]})]}),O.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:P.city,onChange:Q,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!S||!P.country||D,children:[t.jsx("option",{value:"",children:"Select City"}),z.map((Z,ee)=>t.jsx("option",{value:Z.name,children:Z.name},ee))]})]}),O.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.city})]}),t.jsx(fe,{label:"State/Province",name:"state",value:P.state,onChange:Q,disabled:!S,error:O.state})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(fe,{label:"Postal Code",name:"postal_code",value:P.postal_code,onChange:Q,disabled:!S,error:O.postal_code})}),t.jsx(fe,{label:"Description",name:"description",textarea:!0,rows:6,value:P.description,onChange:Q,disabled:!S,error:O.description,placeholder:"Tell us about your training center..."}),S&&t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(et,{type:"button",variant:"secondary",onClick:()=>{b(!1),C(null),re()},disabled:o,children:"Cancel"}),t.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(Xo,{size:20}),children:"Save Changes"})]})]}):c?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:P.first_name,onChange:Q,required:!0,error:O.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:P.last_name,onChange:Q,required:!0,error:O.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:P.email,onChange:Q,required:!0,error:O.email}),t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:P.phone,onChange:Q,error:O.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:P.country,onChange:Q,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:w,children:[t.jsx("option",{value:"",children:"Select Country"}),A.map(Z=>t.jsx("option",{value:Z.code,children:Z.name},Z.code))]})]}),O.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:P.city,onChange:Q,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:!P.country||D,children:[t.jsx("option",{value:"",children:"Select City"}),z.map((Z,ee)=>t.jsx("option",{value:Z.name,children:Z.name},ee))]})]}),O.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.city})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(fe,{label:"ID Number",name:"id_number",value:P.id_number,onChange:Q,error:O.id_number})}),t.jsx(_u,{label:"Languages",value:P.specializations,onChange:Z=>{k({...P,specializations:Z}),B({})},error:O.specializations})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Full Name",name:"name",value:P.name,onChange:Q,required:!0,error:O.name}),t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:P.email,onChange:Q,required:!0,error:O.email})]}),O.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:O.general})}),!h&&t.jsx("div",{className:"pt-2",children:t.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(Xo,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Xf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:pe,className:"space-y-5",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:I.current_password,onChange:ue,required:!0,error:O.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:I.password,onChange:ue,required:!0,error:O.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:I.password_confirmation,onChange:ue,required:!0,error:O.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(et,{type:"submit",variant:"danger",disabled:o,loading:o,icon:t.jsx(Id,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Ze,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"space-y-4",children:[g&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ze,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ze,{size:16}),g.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]}),t.jsx("button",{onClick:oe,disabled:_,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(_s,{size:18})})]})}),!g&&!p&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ze,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your CV below to get started"})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g?"Update CV":"Upload CV"}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:ye,className:"hidden"}),t.jsx("div",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Os,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:p?p.name:"Click to select PDF or Word document"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max size: 5MB"})]})})]})}),O.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.cv})]}),p&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(et,{onClick:Se,disabled:_,loading:_,icon:t.jsx(Os,{size:18}),children:_?"Uploading...":"Upload CV"}),t.jsx(et,{onClick:()=>u(null),variant:"secondary",disabled:_,children:"Cancel"})]})]})]})]})]})})]})},JT=()=>{const{user:e}=jr();return t.jsx(In,{children:(e==null?void 0:e.role)==="acc_admin"?t.jsx(cT,{}):(e==null?void 0:e.role)==="instructor"?t.jsx(g1,{}):t.jsx(YT,{})})};function XT(){return t.jsx(__,{children:t.jsx(S_,{children:t.jsx(k_,{children:t.jsx(q2,{children:t.jsxs(Gi,{children:[t.jsx(Ye,{path:"/login",element:t.jsx(_0,{})}),t.jsx(Ye,{path:"/register",element:t.jsx(_0,{})}),t.jsx(Ye,{path:"/reset-password",element:t.jsx(pE,{})}),t.jsx(Ye,{path:"/pending-account",element:t.jsx(Ja,{allowPending:!0,children:t.jsx(mE,{})})}),t.jsx(Ye,{path:"/unauthorized",element:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700",children:"Go to Dashboard"})]})})}),t.jsx(Ye,{path:"/dashboard",element:t.jsx(Ja,{children:t.jsx(In,{children:t.jsx(gE,{})})})}),t.jsx(Ye,{path:"/admin/*",element:t.jsx(Ja,{allowedRoles:["group_admin"],children:t.jsx(In,{children:t.jsxs(Gi,{children:[t.jsx(Ye,{path:"accs",element:t.jsx(xE,{})}),t.jsx(Ye,{path:"training-center-applications",element:t.jsx(yE,{})}),t.jsx(Ye,{path:"all-accs",element:t.jsx(bE,{})}),t.jsx(Ye,{path:"all-training-centers",element:t.jsx(vE,{})}),t.jsx(Ye,{path:"all-instructors",element:t.jsx(jE,{})}),t.jsx(Ye,{path:"all-courses",element:t.jsx(NE,{})}),t.jsx(Ye,{path:"categories",element:t.jsx(CE,{})}),t.jsx(Ye,{path:"financial",element:t.jsx(wE,{})}),t.jsx(Ye,{path:"payment-transactions",element:t.jsx(_E,{})}),t.jsx(Ye,{path:"reports",element:t.jsx(SE,{})}),t.jsx(Ye,{path:"instructor-authorizations",element:t.jsx(AE,{})}),t.jsx(Ye,{path:"stripe-settings",element:t.jsx(kE,{})}),t.jsx(Ye,{path:"pending-payments",element:t.jsx(PE,{})})]})})})}),t.jsx(Ye,{path:"/acc/*",element:t.jsx(Ja,{allowedRoles:["acc_admin"],children:t.jsx(In,{children:t.jsxs(Gi,{children:[t.jsx(Ye,{path:"dashboard",element:t.jsx(Vj,{})}),t.jsx(Ye,{path:"subscription",element:t.jsx(lT,{})}),t.jsx(Ye,{path:"training-centers",element:t.jsx(dT,{})}),t.jsx(Ye,{path:"instructors",element:t.jsx(uT,{})}),t.jsx(Ye,{path:"courses",element:t.jsx(hT,{})}),t.jsx(Ye,{path:"certificates",element:t.jsx(gT,{})}),t.jsx(Ye,{path:"materials",element:t.jsx(xT,{})}),t.jsx(Ye,{path:"discount-codes",element:t.jsx(yT,{})}),t.jsx(Ye,{path:"categories",element:t.jsx(bT,{})}),t.jsx(Ye,{path:"classes",element:t.jsx(jT,{})}),t.jsx(Ye,{path:"payment-transactions",element:t.jsx(vT,{})}),t.jsx(Ye,{path:"pending-payments",element:t.jsx(NT,{})})]})})})}),t.jsx(Ye,{path:"/training-center/*",element:t.jsx(Ja,{allowedRoles:["training_center_admin"],children:t.jsx(In,{children:t.jsxs(Gi,{children:[t.jsx(Ye,{path:"dashboard",element:t.jsx(Hj,{})}),t.jsx(Ye,{path:"accs",element:t.jsx(ST,{})}),t.jsx(Ye,{path:"instructors",element:t.jsx(AT,{})}),t.jsx(Ye,{path:"trainees",element:t.jsx(kT,{})}),t.jsx(Ye,{path:"classes",element:t.jsx(PT,{})}),t.jsx(Ye,{path:"codes",element:t.jsx(LT,{})}),t.jsx(Ye,{path:"certificates",element:t.jsx(IT,{})}),t.jsx(Ye,{path:"wallet",element:t.jsx(OT,{})}),t.jsx(Ye,{path:"marketplace",element:t.jsx(UT,{})}),t.jsx(Ye,{path:"instructor-authorizations",element:t.jsx(BT,{})}),t.jsx(Ye,{path:"payment-transactions",element:t.jsx(qT,{})})]})})})}),t.jsx(Ye,{path:"/instructor/*",element:t.jsx(Ja,{allowedRoles:["instructor"],children:t.jsx(In,{children:t.jsxs(Gi,{children:[t.jsx(Ye,{path:"dashboard",element:t.jsx(Gj,{})}),t.jsx(Ye,{path:"classes",element:t.jsx(WT,{})}),t.jsx(Ye,{path:"materials",element:t.jsx(VT,{})}),t.jsx(Ye,{path:"earnings",element:t.jsx(HT,{})}),t.jsx(Ye,{path:"profile",element:t.jsx(g1,{})})]})})})}),t.jsx(Ye,{path:"/profile",element:t.jsx(Ja,{children:t.jsx(JT,{})})}),t.jsx(Ye,{path:"/",element:t.jsx(dc,{to:"/dashboard",replace:!0})})]})})})})})}vm.createRoot(document.getElementById("root")).render(t.jsx(lt.StrictMode,{children:t.jsx(XT,{})}));
