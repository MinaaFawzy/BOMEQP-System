var Dj=Object.defineProperty;var Fj=(e,s,r)=>s in e?Dj(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var wi=(e,s,r)=>Fj(e,typeof s!="symbol"?s+"":s,r);function Ij(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p0={exports:{}},Xc={},f0={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=Symbol.for("react.element"),Lj=Symbol.for("react.portal"),Mj=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),Bj=Symbol.for("react.provider"),qj=Symbol.for("react.context"),Vj=Symbol.for("react.forward_ref"),Wj=Symbol.for("react.suspense"),Hj=Symbol.for("react.memo"),Kj=Symbol.for("react.lazy"),lh=Symbol.iterator;function Gj(e){return e===null||typeof e!="object"?null:(e=lh&&e[lh]||e["@@iterator"],typeof e=="function"?e:null)}var h0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g0=Object.assign,x0={};function fi(e,s,r){this.props=e,this.context=s,this.refs=x0,this.updater=r||h0}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=fi.prototype;function jp(e,s,r){this.props=e,this.context=s,this.refs=x0,this.updater=r||h0}var Np=jp.prototype=new y0;Np.constructor=jp;g0(Np,fi.prototype);Np.isPureReactComponent=!0;var ch=Array.isArray,b0=Object.prototype.hasOwnProperty,wp={current:null},v0={key:!0,ref:!0,__self:!0,__source:!0};function j0(e,s,r){var a,n={},i=null,o=null;if(s!=null)for(a in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)b0.call(s,a)&&!v0.hasOwnProperty(a)&&(n[a]=s[a]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:Ho,type:e,key:i,ref:o,props:n,_owner:wp.current}}function Yj(e,s){return{$$typeof:Ho,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Cp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ho}function Qj(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var dh=/\/+/g;function lu(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Qj(""+e.key):s.toString(36)}function Ll(e,s,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ho:case Lj:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+lu(o,0):a,ch(n)?(r="",e!=null&&(r=e.replace(dh,"$&/")+"/"),Ll(n,s,r,"",function(p){return p})):n!=null&&(Cp(n)&&(n=Yj(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(dh,"$&/")+"/")+e)),s.push(n)),1;if(o=0,a=a===""?".":a+":",ch(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+lu(i,l);o+=Ll(i,s,r,c,n)}else if(c=Gj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+lu(i,l++),o+=Ll(i,s,r,c,n);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function dl(e,s,r){if(e==null)return e;var a=[],n=0;return Ll(e,a,"","",function(i){return s.call(r,i,n++)}),a}function Xj(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Ns={current:null},Ml={transition:null},Jj={ReactCurrentDispatcher:Ns,ReactCurrentBatchConfig:Ml,ReactCurrentOwner:wp};function N0(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:dl,forEach:function(e,s,r){dl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return dl(e,function(){s++}),s},toArray:function(e){return dl(e,function(s){return s})||[]},only:function(e){if(!Cp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=fi;st.Fragment=Mj;st.Profiler=Uj;st.PureComponent=jp;st.StrictMode=Oj;st.Suspense=Wj;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;st.act=N0;st.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g0({},e.props),n=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=wp.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)b0.call(s,c)&&!v0.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];a.children=l}return{$$typeof:Ho,type:e.type,key:n,ref:i,props:a,_owner:o}};st.createContext=function(e){return e={$$typeof:qj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bj,_context:e},e.Consumer=e};st.createElement=j0;st.createFactory=function(e){var s=j0.bind(null,e);return s.type=e,s};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:Vj,render:e}};st.isValidElement=Cp;st.lazy=function(e){return{$$typeof:Kj,_payload:{_status:-1,_result:e},_init:Xj}};st.memo=function(e,s){return{$$typeof:Hj,type:e,compare:s===void 0?null:s}};st.startTransition=function(e){var s=Ml.transition;Ml.transition={};try{e()}finally{Ml.transition=s}};st.unstable_act=N0;st.useCallback=function(e,s){return Ns.current.useCallback(e,s)};st.useContext=function(e){return Ns.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Ns.current.useDeferredValue(e)};st.useEffect=function(e,s){return Ns.current.useEffect(e,s)};st.useId=function(){return Ns.current.useId()};st.useImperativeHandle=function(e,s,r){return Ns.current.useImperativeHandle(e,s,r)};st.useInsertionEffect=function(e,s){return Ns.current.useInsertionEffect(e,s)};st.useLayoutEffect=function(e,s){return Ns.current.useLayoutEffect(e,s)};st.useMemo=function(e,s){return Ns.current.useMemo(e,s)};st.useReducer=function(e,s,r){return Ns.current.useReducer(e,s,r)};st.useRef=function(e){return Ns.current.useRef(e)};st.useState=function(e){return Ns.current.useState(e)};st.useSyncExternalStore=function(e,s,r){return Ns.current.useSyncExternalStore(e,s,r)};st.useTransition=function(){return Ns.current.useTransition()};st.version="18.3.1";f0.exports=st;var d=f0.exports;const tt=vp(d),lc=Ij({__proto__:null,default:tt},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=d,eN=Symbol.for("react.element"),tN=Symbol.for("react.fragment"),sN=Object.prototype.hasOwnProperty,rN=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aN={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,s,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(a in s)sN.call(s,a)&&!aN.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:eN,type:e,key:i,ref:o,props:n,_owner:rN.current}}Xc.Fragment=tN;Xc.jsx=w0;Xc.jsxs=w0;p0.exports=Xc;var t=p0.exports,Xu={},C0={exports:{}},Gs={},_0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(D,I){var U=D.length;D.push(I);e:for(;0<U;){var Y=U-1>>>1,V=D[Y];if(0<n(V,I))D[Y]=I,D[U]=V,U=Y;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var I=D[0],U=D.pop();if(U!==I){D[0]=U;e:for(var Y=0,V=D.length,R=V>>>1;Y<R;){var O=2*(Y+1)-1,W=D[O],K=O+1,H=D[K];if(0>n(W,U))K<V&&0>n(H,W)?(D[Y]=H,D[K]=U,Y=K):(D[Y]=W,D[O]=U,Y=O);else if(K<V&&0>n(H,U))D[Y]=H,D[K]=U,Y=K;else break e}}return I}function n(D,I){var U=D.sortIndex-I.sortIndex;return U!==0?U:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],p=[],u=1,f=null,y=3,m=!1,x=!1,h=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var I=r(p);I!==null;){if(I.callback===null)a(p);else if(I.startTime<=D)a(p),I.sortIndex=I.expirationTime,s(c,I);else break;I=r(p)}}function v(D){if(h=!1,j(D),!x)if(r(c)!==null)x=!0,S(A);else{var I=r(p);I!==null&&P(v,I.startTime-D)}}function A(D,I){x=!1,h&&(h=!1,b(z),z=-1),m=!0;var U=y;try{for(j(I),f=r(c);f!==null&&(!(f.expirationTime>I)||D&&!q());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,y=f.priorityLevel;var V=Y(f.expirationTime<=I);I=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&a(c),j(I)}else a(c);f=r(c)}if(f!==null)var R=!0;else{var O=r(p);O!==null&&P(v,O.startTime-I),R=!1}return R}finally{f=null,y=U,m=!1}}var E=!1,C=null,z=-1,k=5,M=-1;function q(){return!(e.unstable_now()-M<k)}function w(){if(C!==null){var D=e.unstable_now();M=D;var I=!0;try{I=C(!0,D)}finally{I?$():(E=!1,C=null)}}else E=!1}var $;if(typeof g=="function")$=function(){g(w)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,_=F.port2;F.port1.onmessage=w,$=function(){_.postMessage(null)}}else $=function(){N(w,0)};function S(D){C=D,E||(E=!0,$())}function P(D,I){z=N(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,S(A))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var U=y;y=I;try{return D()}finally{y=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=y;y=D;try{return I()}finally{y=U}},e.unstable_scheduleCallback=function(D,I,U){var Y=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,D={id:u++,callback:I,priorityLevel:D,startTime:U,expirationTime:V,sortIndex:-1},U>Y?(D.sortIndex=U,s(p,D),r(c)===null&&D===r(p)&&(h?(b(z),z=-1):h=!0,P(v,U-Y))):(D.sortIndex=V,s(c,D),x||m||(x=!0,S(A))),D},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(D){var I=y;return function(){var U=y;y=I;try{return D.apply(this,arguments)}finally{y=U}}}})(S0);_0.exports=S0;var nN=_0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN=d,Ks=nN;function Se(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,yo={};function hn(e,s){ei(e,s),ei(e+"Capture",s)}function ei(e,s){for(yo[e]=s,e=0;e<s.length;e++)k0.add(s[e])}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=Object.prototype.hasOwnProperty,oN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uh={},mh={};function lN(e){return Ju.call(mh,e)?!0:Ju.call(uh,e)?!1:oN.test(e)?mh[e]=!0:(uh[e]=!0,!1)}function cN(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dN(e,s,r,a){if(s===null||typeof s>"u"||cN(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function ws(e,s,r,a,n,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){os[e]=new ws(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];os[s]=new ws(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){os[e]=new ws(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){os[e]=new ws(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){os[e]=new ws(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){os[e]=new ws(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){os[e]=new ws(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){os[e]=new ws(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){os[e]=new ws(e,5,!1,e.toLowerCase(),null,!1,!1)});var _p=/[\-:]([a-z])/g;function Sp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(_p,Sp);os[s]=new ws(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(_p,Sp);os[s]=new ws(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(_p,Sp);os[s]=new ws(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){os[e]=new ws(e,1,!1,e.toLowerCase(),null,!1,!1)});os.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){os[e]=new ws(e,1,!1,e.toLowerCase(),null,!0,!0)});function kp(e,s,r,a){var n=os.hasOwnProperty(s)?os[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(dN(s,r,n,a)&&(r=null),a||n===null?lN(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var ca=iN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),Zu=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),E0=Symbol.for("react.offscreen"),ph=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,cu;function Wi(e){if(cu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);cu=s&&s[1]||""}return`
`+cu+e}var du=!1;function uu(e,s){if(!e||du)return"";du=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(p){var a=p}Reflect.construct(e,[],s)}else{try{s.call()}catch(p){a=p}e.call(s.prototype)}else{try{throw Error()}catch(p){a=p}e()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var n=p.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{du=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wi(e):""}function uN(e){switch(e.tag){case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 2:case 15:return e=uu(e.type,!1),e;case 11:return e=uu(e.type.render,!1),e;case 1:return e=uu(e.type,!0),e;default:return""}}function sm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tn:return"Fragment";case zn:return"Portal";case Zu:return"Profiler";case Ap:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P0:return(e.displayName||"Context")+".Consumer";case A0:return(e._context.displayName||"Context")+".Provider";case Pp:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ep:return s=e.displayName||null,s!==null?s:sm(e.type)||"Memo";case ma:s=e._payload,e=e._init;try{return sm(e(s))}catch{}}return null}function mN(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sm(s);case 8:return s===Ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z0(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pN(e){var s=z0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ml(e){e._valueTracker||(e._valueTracker=pN(e))}function T0(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=z0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rm(e,s){var r=s.checked;return It({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fh(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=Ra(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function R0(e,s){s=s.checked,s!=null&&kp(e,"checked",s,!1)}function am(e,s){R0(e,s);var r=Ra(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?nm(e,s.type,r):s.hasOwnProperty("defaultValue")&&nm(e,s.type,Ra(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function hh(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nm(e,s,r){(s!=="number"||cc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hi=Array.isArray;function Wn(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Ra(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function im(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Se(91));return It({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gh(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Se(92));if(Hi(r)){if(1<r.length)throw Error(Se(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Ra(r)}}function $0(e,s){var r=Ra(s.value),a=Ra(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function xh(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function D0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?D0(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pl,F0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function bo(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fN=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){fN.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),Zi[s]=Zi[e]})});function I0(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+s).trim():s+"px"}function L0(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=I0(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var hN=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(e,s){if(s){if(hN[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Se(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Se(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Se(62))}}function cm(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function zp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var um=null,Hn=null,Kn=null;function yh(e){if(e=Yo(e)){if(typeof um!="function")throw Error(Se(280));var s=e.stateNode;s&&(s=sd(s),um(e.stateNode,e.type,s))}}function M0(e){Hn?Kn?Kn.push(e):Kn=[e]:Hn=e}function O0(){if(Hn){var e=Hn,s=Kn;if(Kn=Hn=null,yh(e),s)for(e=0;e<s.length;e++)yh(s[e])}}function U0(e,s){return e(s)}function B0(){}var mu=!1;function q0(e,s,r){if(mu)return e(s,r);mu=!0;try{return U0(e,s,r)}finally{mu=!1,(Hn!==null||Kn!==null)&&(B0(),O0())}}function vo(e,s){var r=e.stateNode;if(r===null)return null;var a=sd(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,s,typeof r));return r}var mm=!1;if(ea)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){mm=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{mm=!1}function gN(e,s,r,a,n,i,o,l,c){var p=Array.prototype.slice.call(arguments,3);try{s.apply(r,p)}catch(u){this.onError(u)}}var eo=!1,dc=null,uc=!1,pm=null,xN={onError:function(e){eo=!0,dc=e}};function yN(e,s,r,a,n,i,o,l,c){eo=!1,dc=null,gN.apply(xN,arguments)}function bN(e,s,r,a,n,i,o,l,c){if(yN.apply(this,arguments),eo){if(eo){var p=dc;eo=!1,dc=null}else throw Error(Se(198));uc||(uc=!0,pm=p)}}function gn(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function V0(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function bh(e){if(gn(e)!==e)throw Error(Se(188))}function vN(e){var s=e.alternate;if(!s){if(s=gn(e),s===null)throw Error(Se(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return bh(n),e;if(i===a)return bh(n),s;i=i.sibling}throw Error(Se(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(Se(189))}}if(r.alternate!==a)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:s}function W0(e){return e=vN(e),e!==null?H0(e):null}function H0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=H0(e);if(s!==null)return s;e=e.sibling}return null}var K0=Ks.unstable_scheduleCallback,vh=Ks.unstable_cancelCallback,jN=Ks.unstable_shouldYield,NN=Ks.unstable_requestPaint,Bt=Ks.unstable_now,wN=Ks.unstable_getCurrentPriorityLevel,Tp=Ks.unstable_ImmediatePriority,G0=Ks.unstable_UserBlockingPriority,mc=Ks.unstable_NormalPriority,CN=Ks.unstable_LowPriority,Y0=Ks.unstable_IdlePriority,Jc=null,Fr=null;function _N(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:AN,SN=Math.log,kN=Math.LN2;function AN(e){return e>>>=0,e===0?32:31-(SN(e)/kN|0)|0}var fl=64,hl=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pc(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?a=Ki(l):(i&=o,i!==0&&(a=Ki(i)))}else o=r&~n,o!==0?a=Ki(o):i!==0&&(a=Ki(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-gr(s),n=1<<r,a|=e[r],s&=~n;return a}function PN(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EN(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gr(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&a)&&(n[o]=PN(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function fm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q0(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function pu(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Ko(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-gr(s),e[s]=r}function zN(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-gr(r),i=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function Rp(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-gr(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var jt=0;function X0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J0,$p,Z0,ey,ty,hm=!1,gl=[],Na=null,wa=null,Ca=null,jo=new Map,No=new Map,ha=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jh(e,s){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(s.pointerId)}}function Si(e,s,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=Yo(s),s!==null&&$p(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function RN(e,s,r,a,n){switch(s){case"focusin":return Na=Si(Na,e,s,r,a,n),!0;case"dragenter":return wa=Si(wa,e,s,r,a,n),!0;case"mouseover":return Ca=Si(Ca,e,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return jo.set(i,Si(jo.get(i)||null,e,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,No.set(i,Si(No.get(i)||null,e,s,r,a,n)),!0}return!1}function sy(e){var s=Qa(e.target);if(s!==null){var r=gn(s);if(r!==null){if(s=r.tag,s===13){if(s=V0(r),s!==null){e.blockedOn=s,ty(e.priority,function(){Z0(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=gm(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);dm=a,r.target.dispatchEvent(a),dm=null}else return s=Yo(r),s!==null&&$p(s),e.blockedOn=r,!1;s.shift()}return!0}function Nh(e,s,r){Ol(e)&&r.delete(s)}function $N(){hm=!1,Na!==null&&Ol(Na)&&(Na=null),wa!==null&&Ol(wa)&&(wa=null),Ca!==null&&Ol(Ca)&&(Ca=null),jo.forEach(Nh),No.forEach(Nh)}function ki(e,s){e.blockedOn===s&&(e.blockedOn=null,hm||(hm=!0,Ks.unstable_scheduleCallback(Ks.unstable_NormalPriority,$N)))}function wo(e){function s(n){return ki(n,e)}if(0<gl.length){ki(gl[0],e);for(var r=1;r<gl.length;r++){var a=gl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Na!==null&&ki(Na,e),wa!==null&&ki(wa,e),Ca!==null&&ki(Ca,e),jo.forEach(s),No.forEach(s),r=0;r<ha.length;r++)a=ha[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<ha.length&&(r=ha[0],r.blockedOn===null);)sy(r),r.blockedOn===null&&ha.shift()}var Gn=ca.ReactCurrentBatchConfig,fc=!0;function DN(e,s,r,a){var n=jt,i=Gn.transition;Gn.transition=null;try{jt=1,Dp(e,s,r,a)}finally{jt=n,Gn.transition=i}}function FN(e,s,r,a){var n=jt,i=Gn.transition;Gn.transition=null;try{jt=4,Dp(e,s,r,a)}finally{jt=n,Gn.transition=i}}function Dp(e,s,r,a){if(fc){var n=gm(e,s,r,a);if(n===null)wu(e,s,a,hc,r),jh(e,a);else if(RN(n,e,s,r,a))a.stopPropagation();else if(jh(e,a),s&4&&-1<TN.indexOf(e)){for(;n!==null;){var i=Yo(n);if(i!==null&&J0(i),i=gm(e,s,r,a),i===null&&wu(e,s,a,hc,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else wu(e,s,a,null,r)}}var hc=null;function gm(e,s,r,a){if(hc=null,e=zp(a),e=Qa(e),e!==null)if(s=gn(e),s===null)e=null;else if(r=s.tag,r===13){if(e=V0(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return hc=e,null}function ry(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wN()){case Tp:return 1;case G0:return 4;case mc:case CN:return 16;case Y0:return 536870912;default:return 16}default:return 16}}var xa=null,Fp=null,Ul=null;function ay(){if(Ul)return Ul;var e,s=Fp,r=s.length,a,n="value"in xa?xa.value:xa.textContent,i=n.length;for(e=0;e<r&&s[e]===n[e];e++);var o=r-e;for(a=1;a<=o&&s[r-a]===n[i-a];a++);return Ul=n.slice(e,1<a?1-a:void 0)}function Bl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function wh(){return!1}function Ys(e){function s(r,a,n,i,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xl:wh,this.isPropagationStopped=wh,this}return It(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Ys(hi),Go=It({},hi,{view:0,detail:0}),IN=Ys(Go),fu,hu,Ai,Zc=It({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(fu=e.screenX-Ai.screenX,hu=e.screenY-Ai.screenY):hu=fu=0,Ai=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),Ch=Ys(Zc),LN=It({},Zc,{dataTransfer:0}),MN=Ys(LN),ON=It({},Go,{relatedTarget:0}),gu=Ys(ON),UN=It({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),BN=Ys(UN),qN=It({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VN=Ys(qN),WN=It({},hi,{data:0}),_h=Ys(WN),HN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YN(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=GN[e])?!!s[e]:!1}function Lp(){return YN}var QN=It({},Go,{key:function(e){if(e.key){var s=HN[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XN=Ys(QN),JN=It({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=Ys(JN),ZN=It({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),e1=Ys(ZN),t1=It({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=Ys(t1),r1=It({},Zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=Ys(r1),n1=[9,13,27,32],Mp=ea&&"CompositionEvent"in window,to=null;ea&&"documentMode"in document&&(to=document.documentMode);var i1=ea&&"TextEvent"in window&&!to,ny=ea&&(!Mp||to&&8<to&&11>=to),kh=" ",Ah=!1;function iy(e,s){switch(e){case"keyup":return n1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function o1(e,s){switch(e){case"compositionend":return oy(s);case"keypress":return s.which!==32?null:(Ah=!0,kh);case"textInput":return e=s.data,e===kh&&Ah?null:e;default:return null}}function l1(e,s){if(Rn)return e==="compositionend"||!Mp&&iy(e,s)?(e=ay(),Ul=Fp=xa=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ny&&s.locale!=="ko"?null:s.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!c1[e.type]:s==="textarea"}function ly(e,s,r,a){M0(a),s=gc(s,"onChange"),0<s.length&&(r=new Ip("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var so=null,Co=null;function d1(e){by(e,0)}function ed(e){var s=Fn(e);if(T0(s))return e}function u1(e,s){if(e==="change")return s}var cy=!1;if(ea){var xu;if(ea){var yu="oninput"in document;if(!yu){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),yu=typeof Eh.oninput=="function"}xu=yu}else xu=!1;cy=xu&&(!document.documentMode||9<document.documentMode)}function zh(){so&&(so.detachEvent("onpropertychange",dy),Co=so=null)}function dy(e){if(e.propertyName==="value"&&ed(Co)){var s=[];ly(s,Co,e,zp(e)),q0(d1,s)}}function m1(e,s,r){e==="focusin"?(zh(),so=s,Co=r,so.attachEvent("onpropertychange",dy)):e==="focusout"&&zh()}function p1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ed(Co)}function f1(e,s){if(e==="click")return ed(s)}function h1(e,s){if(e==="input"||e==="change")return ed(s)}function g1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var br=typeof Object.is=="function"?Object.is:g1;function _o(e,s){if(br(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Ju.call(s,n)||!br(e[n],s[n]))return!1}return!0}function Th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rh(e,s){var r=Th(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Th(r)}}function uy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?uy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function my(){for(var e=window,s=cc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=cc(e.document)}return s}function Op(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function x1(e){var s=my(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&uy(r.ownerDocument.documentElement,r)){if(a!==null&&Op(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Rh(r,i);var o=Rh(r,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y1=ea&&"documentMode"in document&&11>=document.documentMode,$n=null,xm=null,ro=null,ym=!1;function $h(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ym||$n==null||$n!==cc(a)||(a=$n,"selectionStart"in a&&Op(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ro&&_o(ro,a)||(ro=a,a=gc(xm,"onSelect"),0<a.length&&(s=new Ip("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=$n)))}function yl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var Dn={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},bu={},py={};ea&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function td(e){if(bu[e])return bu[e];if(!Dn[e])return e;var s=Dn[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in py)return bu[e]=s[r];return e}var fy=td("animationend"),hy=td("animationiteration"),gy=td("animationstart"),xy=td("transitionend"),yy=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,s){yy.set(e,s),hn(s,[e])}for(var vu=0;vu<Dh.length;vu++){var ju=Dh[vu],b1=ju.toLowerCase(),v1=ju[0].toUpperCase()+ju.slice(1);Fa(b1,"on"+v1)}Fa(fy,"onAnimationEnd");Fa(hy,"onAnimationIteration");Fa(gy,"onAnimationStart");Fa("dblclick","onDoubleClick");Fa("focusin","onFocus");Fa("focusout","onBlur");Fa(xy,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function Fh(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,bN(a,s,void 0,e),e.currentTarget=null}function by(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,p=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;Fh(n,l,p),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,p=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;Fh(n,l,p),i=c}}}if(uc)throw e=pm,uc=!1,pm=null,e}function Et(e,s){var r=s[wm];r===void 0&&(r=s[wm]=new Set);var a=e+"__bubble";r.has(a)||(vy(s,e,2,!1),r.add(a))}function Nu(e,s,r){var a=0;s&&(a|=4),vy(r,e,a,s)}var bl="_reactListening"+Math.random().toString(36).slice(2);function So(e){if(!e[bl]){e[bl]=!0,k0.forEach(function(r){r!=="selectionchange"&&(j1.has(r)||Nu(r,!1,e),Nu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[bl]||(s[bl]=!0,Nu("selectionchange",!1,s))}}function vy(e,s,r,a){switch(ry(s)){case 1:var n=DN;break;case 4:n=FN;break;default:n=Dp}r=n.bind(null,s,r,e),n=void 0,!mm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function wu(e,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=Qa(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}q0(function(){var p=i,u=zp(r),f=[];e:{var y=yy.get(e);if(y!==void 0){var m=Ip,x=e;switch(e){case"keypress":if(Bl(r)===0)break e;case"keydown":case"keyup":m=XN;break;case"focusin":x="focus",m=gu;break;case"focusout":x="blur",m=gu;break;case"beforeblur":case"afterblur":m=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e1;break;case fy:case hy:case gy:m=BN;break;case xy:m=s1;break;case"scroll":m=IN;break;case"wheel":m=a1;break;case"copy":case"cut":case"paste":m=VN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sh}var h=(s&4)!==0,N=!h&&e==="scroll",b=h?y!==null?y+"Capture":null:y;h=[];for(var g=p,j;g!==null;){j=g;var v=j.stateNode;if(j.tag===5&&v!==null&&(j=v,b!==null&&(v=vo(g,b),v!=null&&h.push(ko(g,v,j)))),N)break;g=g.return}0<h.length&&(y=new m(y,x,null,r,u),f.push({event:y,listeners:h}))}}if(!(s&7)){e:{if(y=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",y&&r!==dm&&(x=r.relatedTarget||r.fromElement)&&(Qa(x)||x[ta]))break e;if((m||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=p,x=x?Qa(x):null,x!==null&&(N=gn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=p),m!==x)){if(h=Ch,v="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(h=Sh,v="onPointerLeave",b="onPointerEnter",g="pointer"),N=m==null?y:Fn(m),j=x==null?y:Fn(x),y=new h(v,g+"leave",m,r,u),y.target=N,y.relatedTarget=j,v=null,Qa(u)===p&&(h=new h(b,g+"enter",x,r,u),h.target=j,h.relatedTarget=N,v=h),N=v,m&&x)t:{for(h=m,b=x,g=0,j=h;j;j=jn(j))g++;for(j=0,v=b;v;v=jn(v))j++;for(;0<g-j;)h=jn(h),g--;for(;0<j-g;)b=jn(b),j--;for(;g--;){if(h===b||b!==null&&h===b.alternate)break t;h=jn(h),b=jn(b)}h=null}else h=null;m!==null&&Ih(f,y,m,h,!1),x!==null&&N!==null&&Ih(f,N,x,h,!0)}}e:{if(y=p?Fn(p):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var A=u1;else if(Ph(y))if(cy)A=h1;else{A=p1;var E=m1}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(A=f1);if(A&&(A=A(e,p))){ly(f,A,r,u);break e}E&&E(e,y,p),e==="focusout"&&(E=y._wrapperState)&&E.controlled&&y.type==="number"&&nm(y,"number",y.value)}switch(E=p?Fn(p):window,e){case"focusin":(Ph(E)||E.contentEditable==="true")&&($n=E,xm=p,ro=null);break;case"focusout":ro=xm=$n=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,$h(f,r,u);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":$h(f,r,u)}var C;if(Mp)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Rn?iy(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(ny&&r.locale!=="ko"&&(Rn||z!=="onCompositionStart"?z==="onCompositionEnd"&&Rn&&(C=ay()):(xa=u,Fp="value"in xa?xa.value:xa.textContent,Rn=!0)),E=gc(p,z),0<E.length&&(z=new _h(z,e,null,r,u),f.push({event:z,listeners:E}),C?z.data=C:(C=oy(r),C!==null&&(z.data=C)))),(C=i1?o1(e,r):l1(e,r))&&(p=gc(p,"onBeforeInput"),0<p.length&&(u=new _h("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:p}),u.data=C))}by(f,s)})}function ko(e,s,r){return{instance:e,listener:s,currentTarget:r}}function gc(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=vo(e,r),i!=null&&a.unshift(ko(e,i,n)),i=vo(e,s),i!=null&&a.push(ko(e,i,n))),e=e.return}return a}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ih(e,s,r,a,n){for(var i=s._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,p=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&p!==null&&(l=p,n?(c=vo(r,i),c!=null&&o.unshift(ko(r,c,l))):n||(c=vo(r,i),c!=null&&o.push(ko(r,c,l)))),r=r.return}o.length!==0&&e.push({event:s,listeners:o})}var N1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Lh(e){return(typeof e=="string"?e:""+e).replace(N1,`
`).replace(w1,"")}function vl(e,s,r){if(s=Lh(s),Lh(e)!==s&&r)throw Error(Se(425))}function xc(){}var bm=null,vm=null;function jm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(S1)}:Nm;function S1(e){setTimeout(function(){throw e})}function Cu(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),wo(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);wo(s)}function _a(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Oh(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Rr="__reactFiber$"+gi,Ao="__reactProps$"+gi,ta="__reactContainer$"+gi,wm="__reactEvents$"+gi,k1="__reactListeners$"+gi,A1="__reactHandles$"+gi;function Qa(e){var s=e[Rr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ta]||r[Rr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Oh(e);e!==null;){if(r=e[Rr])return r;e=Oh(e)}return s}e=r,r=e.parentNode}return null}function Yo(e){return e=e[Rr]||e[ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function sd(e){return e[Ao]||null}var Cm=[],In=-1;function Ia(e){return{current:e}}function zt(e){0>In||(e.current=Cm[In],Cm[In]=null,In--)}function At(e,s){In++,Cm[In]=e.current,e.current=s}var $a={},gs=Ia($a),ks=Ia(!1),on=$a;function ti(e,s){var r=e.type.contextTypes;if(!r)return $a;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function As(e){return e=e.childContextTypes,e!=null}function yc(){zt(ks),zt(gs)}function Uh(e,s,r){if(gs.current!==$a)throw Error(Se(168));At(gs,s),At(ks,r)}function jy(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(Se(108,mN(e)||"Unknown",n));return It({},r,a)}function bc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,on=gs.current,At(gs,e),At(ks,ks.current),!0}function Bh(e,s,r){var a=e.stateNode;if(!a)throw Error(Se(169));r?(e=jy(e,s,on),a.__reactInternalMemoizedMergedChildContext=e,zt(ks),zt(gs),At(gs,e)):zt(ks),At(ks,r)}var Gr=null,rd=!1,_u=!1;function Ny(e){Gr===null?Gr=[e]:Gr.push(e)}function P1(e){rd=!0,Ny(e)}function La(){if(!_u&&Gr!==null){_u=!0;var e=0,s=jt;try{var r=Gr;for(jt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Gr=null,rd=!1}catch(n){throw Gr!==null&&(Gr=Gr.slice(e+1)),K0(Tp,La),n}finally{jt=s,_u=!1}}return null}var Ln=[],Mn=0,vc=null,jc=0,Js=[],Zs=0,ln=null,Qr=1,Xr="";function Ha(e,s){Ln[Mn++]=jc,Ln[Mn++]=vc,vc=e,jc=s}function wy(e,s,r){Js[Zs++]=Qr,Js[Zs++]=Xr,Js[Zs++]=ln,ln=e;var a=Qr;e=Xr;var n=32-gr(a)-1;a&=~(1<<n),r+=1;var i=32-gr(s)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Qr=1<<32-gr(s)+n|r<<n|a,Xr=i+e}else Qr=1<<i|r<<n|a,Xr=e}function Up(e){e.return!==null&&(Ha(e,1),wy(e,1,0))}function Bp(e){for(;e===vc;)vc=Ln[--Mn],Ln[Mn]=null,jc=Ln[--Mn],Ln[Mn]=null;for(;e===ln;)ln=Js[--Zs],Js[Zs]=null,Xr=Js[--Zs],Js[Zs]=null,Qr=Js[--Zs],Js[Zs]=null}var qs=null,Bs=null,Rt=!1,fr=null;function Cy(e,s){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function qh(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,qs=e,Bs=_a(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,qs=e,Bs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=ln!==null?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,qs=e,Bs=null,!0):!1;default:return!1}}function _m(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sm(e){if(Rt){var s=Bs;if(s){var r=s;if(!qh(e,s)){if(_m(e))throw Error(Se(418));s=_a(r.nextSibling);var a=qs;s&&qh(e,s)?Cy(a,r):(e.flags=e.flags&-4097|2,Rt=!1,qs=e)}}else{if(_m(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Rt=!1,qs=e}}}function Vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function jl(e){if(e!==qs)return!1;if(!Rt)return Vh(e),Rt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!jm(e.type,e.memoizedProps)),s&&(s=Bs)){if(_m(e))throw _y(),Error(Se(418));for(;s;)Cy(e,s),s=_a(s.nextSibling)}if(Vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Bs=_a(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Bs=null}}else Bs=qs?_a(e.stateNode.nextSibling):null;return!0}function _y(){for(var e=Bs;e;)e=_a(e.nextSibling)}function si(){Bs=qs=null,Rt=!1}function qp(e){fr===null?fr=[e]:fr.push(e)}var E1=ca.ReactCurrentBatchConfig;function Pi(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var a=r.stateNode}if(!a)throw Error(Se(147,e));var n=a,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Nl(e,s){throw e=Object.prototype.toString.call(s),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Wh(e){var s=e._init;return s(e._payload)}function Sy(e){function s(b,g){if(e){var j=b.deletions;j===null?(b.deletions=[g],b.flags|=16):j.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)s(b,g),g=g.sibling;return null}function a(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function n(b,g){return b=Pa(b,g),b.index=0,b.sibling=null,b}function i(b,g,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<g?(b.flags|=2,g):j):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,j,v){return g===null||g.tag!==6?(g=Tu(j,b.mode,v),g.return=b,g):(g=n(g,j),g.return=b,g)}function c(b,g,j,v){var A=j.type;return A===Tn?u(b,g,j.props.children,v,j.key):g!==null&&(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ma&&Wh(A)===g.type)?(v=n(g,j.props),v.ref=Pi(b,g,j),v.return=b,v):(v=Yl(j.type,j.key,j.props,null,b.mode,v),v.ref=Pi(b,g,j),v.return=b,v)}function p(b,g,j,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=Ru(j,b.mode,v),g.return=b,g):(g=n(g,j.children||[]),g.return=b,g)}function u(b,g,j,v,A){return g===null||g.tag!==7?(g=rn(j,b.mode,v,A),g.return=b,g):(g=n(g,j),g.return=b,g)}function f(b,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tu(""+g,b.mode,j),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return j=Yl(g.type,g.key,g.props,null,b.mode,j),j.ref=Pi(b,null,g),j.return=b,j;case zn:return g=Ru(g,b.mode,j),g.return=b,g;case ma:var v=g._init;return f(b,v(g._payload),j)}if(Hi(g)||Ci(g))return g=rn(g,b.mode,j,null),g.return=b,g;Nl(b,g)}return null}function y(b,g,j,v){var A=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return A!==null?null:l(b,g,""+j,v);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ul:return j.key===A?c(b,g,j,v):null;case zn:return j.key===A?p(b,g,j,v):null;case ma:return A=j._init,y(b,g,A(j._payload),v)}if(Hi(j)||Ci(j))return A!==null?null:u(b,g,j,v,null);Nl(b,j)}return null}function m(b,g,j,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return b=b.get(j)||null,l(g,b,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ul:return b=b.get(v.key===null?j:v.key)||null,c(g,b,v,A);case zn:return b=b.get(v.key===null?j:v.key)||null,p(g,b,v,A);case ma:var E=v._init;return m(b,g,j,E(v._payload),A)}if(Hi(v)||Ci(v))return b=b.get(j)||null,u(g,b,v,A,null);Nl(g,v)}return null}function x(b,g,j,v){for(var A=null,E=null,C=g,z=g=0,k=null;C!==null&&z<j.length;z++){C.index>z?(k=C,C=null):k=C.sibling;var M=y(b,C,j[z],v);if(M===null){C===null&&(C=k);break}e&&C&&M.alternate===null&&s(b,C),g=i(M,g,z),E===null?A=M:E.sibling=M,E=M,C=k}if(z===j.length)return r(b,C),Rt&&Ha(b,z),A;if(C===null){for(;z<j.length;z++)C=f(b,j[z],v),C!==null&&(g=i(C,g,z),E===null?A=C:E.sibling=C,E=C);return Rt&&Ha(b,z),A}for(C=a(b,C);z<j.length;z++)k=m(C,b,z,j[z],v),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?z:k.key),g=i(k,g,z),E===null?A=k:E.sibling=k,E=k);return e&&C.forEach(function(q){return s(b,q)}),Rt&&Ha(b,z),A}function h(b,g,j,v){var A=Ci(j);if(typeof A!="function")throw Error(Se(150));if(j=A.call(j),j==null)throw Error(Se(151));for(var E=A=null,C=g,z=g=0,k=null,M=j.next();C!==null&&!M.done;z++,M=j.next()){C.index>z?(k=C,C=null):k=C.sibling;var q=y(b,C,M.value,v);if(q===null){C===null&&(C=k);break}e&&C&&q.alternate===null&&s(b,C),g=i(q,g,z),E===null?A=q:E.sibling=q,E=q,C=k}if(M.done)return r(b,C),Rt&&Ha(b,z),A;if(C===null){for(;!M.done;z++,M=j.next())M=f(b,M.value,v),M!==null&&(g=i(M,g,z),E===null?A=M:E.sibling=M,E=M);return Rt&&Ha(b,z),A}for(C=a(b,C);!M.done;z++,M=j.next())M=m(C,b,z,M.value,v),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?z:M.key),g=i(M,g,z),E===null?A=M:E.sibling=M,E=M);return e&&C.forEach(function(w){return s(b,w)}),Rt&&Ha(b,z),A}function N(b,g,j,v){if(typeof j=="object"&&j!==null&&j.type===Tn&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ul:e:{for(var A=j.key,E=g;E!==null;){if(E.key===A){if(A=j.type,A===Tn){if(E.tag===7){r(b,E.sibling),g=n(E,j.props.children),g.return=b,b=g;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ma&&Wh(A)===E.type){r(b,E.sibling),g=n(E,j.props),g.ref=Pi(b,E,j),g.return=b,b=g;break e}r(b,E);break}else s(b,E);E=E.sibling}j.type===Tn?(g=rn(j.props.children,b.mode,v,j.key),g.return=b,b=g):(v=Yl(j.type,j.key,j.props,null,b.mode,v),v.ref=Pi(b,g,j),v.return=b,b=v)}return o(b);case zn:e:{for(E=j.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){r(b,g.sibling),g=n(g,j.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else s(b,g);g=g.sibling}g=Ru(j,b.mode,v),g.return=b,b=g}return o(b);case ma:return E=j._init,N(b,g,E(j._payload),v)}if(Hi(j))return x(b,g,j,v);if(Ci(j))return h(b,g,j,v);Nl(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,g!==null&&g.tag===6?(r(b,g.sibling),g=n(g,j),g.return=b,b=g):(r(b,g),g=Tu(j,b.mode,v),g.return=b,b=g),o(b)):r(b,g)}return N}var ri=Sy(!0),ky=Sy(!1),Nc=Ia(null),wc=null,On=null,Vp=null;function Wp(){Vp=On=wc=null}function Hp(e){var s=Nc.current;zt(Nc),e._currentValue=s}function km(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function Yn(e,s){wc=e,Vp=On=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(_s=!0),e.firstContext=null)}function nr(e){var s=e._currentValue;if(Vp!==e)if(e={context:e,memoizedValue:s,next:null},On===null){if(wc===null)throw Error(Se(308));On=e,wc.dependencies={lanes:0,firstContext:e}}else On=On.next=e;return s}var Xa=null;function Kp(e){Xa===null?Xa=[e]:Xa.push(e)}function Ay(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,Kp(s)):(r.next=n.next,n.next=r),s.interleaved=r,sa(e,a)}function sa(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pa=!1;function Gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Py(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function Sa(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,lt&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,sa(e,r)}return n=a.interleaved,n===null?(s.next=s,Kp(a)):(s.next=n.next,n.next=s),a.interleaved=s,sa(e,r)}function ql(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Rp(e,r)}}function Hh(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Cc(e,s,r,a){var n=e.updateQueue;pa=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,p=c.next;c.next=null,o===null?i=p:o.next=p,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=p:l.next=p,u.lastBaseUpdate=c))}if(i!==null){var f=n.baseState;o=0,u=p=c=null,l=i;do{var y=l.lane,m=l.eventTime;if((a&y)===y){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,h=l;switch(y=s,m=r,h.tag){case 1:if(x=h.payload,typeof x=="function"){f=x.call(m,f,y);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,y=typeof x=="function"?x.call(m,f,y):x,y==null)break e;f=It({},f,y);break e;case 2:pa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=n.effects,y===null?n.effects=[l]:y.push(l))}else m={eventTime:m,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(p=u=m,c=f):u=u.next=m,o|=y;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;y=l,l=y.next,y.next=null,n.lastBaseUpdate=y,n.shared.pending=null}}while(!0);if(u===null&&(c=f),n.baseState=c,n.firstBaseUpdate=p,n.lastBaseUpdate=u,s=n.shared.interleaved,s!==null){n=s;do o|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);dn|=o,e.lanes=o,e.memoizedState=f}}function Kh(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(Se(191,n));n.call(a)}}}var Qo={},Ir=Ia(Qo),Po=Ia(Qo),Eo=Ia(Qo);function Ja(e){if(e===Qo)throw Error(Se(174));return e}function Yp(e,s){switch(At(Eo,s),At(Po,e),At(Ir,Qo),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:om(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=om(s,e)}zt(Ir),At(Ir,s)}function ai(){zt(Ir),zt(Po),zt(Eo)}function Ey(e){Ja(Eo.current);var s=Ja(Ir.current),r=om(s,e.type);s!==r&&(At(Po,e),At(Ir,r))}function Qp(e){Po.current===e&&(zt(Ir),zt(Po))}var Dt=Ia(0);function _c(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Su=[];function Xp(){for(var e=0;e<Su.length;e++)Su[e]._workInProgressVersionPrimary=null;Su.length=0}var Vl=ca.ReactCurrentDispatcher,ku=ca.ReactCurrentBatchConfig,cn=0,Ft=null,Gt=null,Jt=null,Sc=!1,ao=!1,zo=0,z1=0;function ls(){throw Error(Se(321))}function Jp(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!br(e[r],s[r]))return!1;return!0}function Zp(e,s,r,a,n,i){if(cn=i,Ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Vl.current=e===null||e.memoizedState===null?D1:F1,e=r(a,n),ao){i=0;do{if(ao=!1,zo=0,25<=i)throw Error(Se(301));i+=1,Jt=Gt=null,s.updateQueue=null,Vl.current=I1,e=r(a,n)}while(ao)}if(Vl.current=kc,s=Gt!==null&&Gt.next!==null,cn=0,Jt=Gt=Ft=null,Sc=!1,s)throw Error(Se(300));return e}function ef(){var e=zo!==0;return zo=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ft.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function ir(){if(Gt===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var s=Jt===null?Ft.memoizedState:Jt.next;if(s!==null)Jt=s,Gt=e;else{if(e===null)throw Error(Se(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Jt===null?Ft.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function To(e,s){return typeof s=="function"?s(e):s}function Au(e){var s=ir(),r=s.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var a=Gt,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,p=i;do{var u=p.lane;if((cn&u)===u)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:e(a,p.action);else{var f={lane:u,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(l=c=f,o=a):c=c.next=f,Ft.lanes|=u,dn|=u}p=p.next}while(p!==null&&p!==i);c===null?o=a:c.next=l,br(a,s.memoizedState)||(_s=!0),s.memoizedState=a,s.baseState=o,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Ft.lanes|=i,dn|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Pu(e){var s=ir(),r=s.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);br(i,s.memoizedState)||(_s=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function zy(){}function Ty(e,s){var r=Ft,a=ir(),n=s(),i=!br(a.memoizedState,n);if(i&&(a.memoizedState=n,_s=!0),a=a.queue,tf(Dy.bind(null,r,a,e),[e]),a.getSnapshot!==s||i||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,Ro(9,$y.bind(null,r,a,n,s),void 0,null),es===null)throw Error(Se(349));cn&30||Ry(r,s,n)}return n}function Ry(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function $y(e,s,r,a){s.value=r,s.getSnapshot=a,Fy(s)&&Iy(e)}function Dy(e,s,r){return r(function(){Fy(s)&&Iy(e)})}function Fy(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!br(e,r)}catch{return!0}}function Iy(e){var s=sa(e,1);s!==null&&xr(s,e,1,-1)}function Gh(e){var s=Ar();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},s.queue=e,e=e.dispatch=$1.bind(null,Ft,e),[s.memoizedState,e]}function Ro(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=Ft.updateQueue,s===null?(s={lastEffect:null,stores:null},Ft.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function Ly(){return ir().memoizedState}function Wl(e,s,r,a){var n=Ar();Ft.flags|=e,n.memoizedState=Ro(1|s,r,void 0,a===void 0?null:a)}function ad(e,s,r,a){var n=ir();a=a===void 0?null:a;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,a!==null&&Jp(a,o.deps)){n.memoizedState=Ro(s,r,i,a);return}}Ft.flags|=e,n.memoizedState=Ro(1|s,r,i,a)}function Yh(e,s){return Wl(8390656,8,e,s)}function tf(e,s){return ad(2048,8,e,s)}function My(e,s){return ad(4,2,e,s)}function Oy(e,s){return ad(4,4,e,s)}function Uy(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function By(e,s,r){return r=r!=null?r.concat([e]):null,ad(4,4,Uy.bind(null,s,e),r)}function sf(){}function qy(e,s){var r=ir();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Jp(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function Vy(e,s){var r=ir();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Jp(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function Wy(e,s,r){return cn&21?(br(r,s)||(r=Q0(),Ft.lanes|=r,dn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=r)}function T1(e,s){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var a=ku.transition;ku.transition={};try{e(!1),s()}finally{jt=r,ku.transition=a}}function Hy(){return ir().memoizedState}function R1(e,s,r){var a=Aa(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ky(e))Gy(s,r);else if(r=Ay(e,s,r,a),r!==null){var n=bs();xr(r,e,a,n),Yy(r,s,a)}}function $1(e,s,r){var a=Aa(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ky(e))Gy(s,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,br(l,o)){var c=s.interleaved;c===null?(n.next=n,Kp(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=Ay(e,s,n,a),r!==null&&(n=bs(),xr(r,e,a,n),Yy(r,s,a))}}function Ky(e){var s=e.alternate;return e===Ft||s!==null&&s===Ft}function Gy(e,s){ao=Sc=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Yy(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Rp(e,r)}}var kc={readContext:nr,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},D1={readContext:nr,useCallback:function(e,s){return Ar().memoizedState=[e,s===void 0?null:s],e},useContext:nr,useEffect:Yh,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Wl(4194308,4,Uy.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Wl(4194308,4,e,s)},useInsertionEffect:function(e,s){return Wl(4,2,e,s)},useMemo:function(e,s){var r=Ar();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Ar();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=R1.bind(null,Ft,e),[a.memoizedState,e]},useRef:function(e){var s=Ar();return e={current:e},s.memoizedState=e},useState:Gh,useDebugValue:sf,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=Gh(!1),s=e[0];return e=T1.bind(null,e[1]),Ar().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=Ft,n=Ar();if(Rt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=s(),es===null)throw Error(Se(349));cn&30||Ry(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,Yh(Dy.bind(null,a,i,e),[e]),a.flags|=2048,Ro(9,$y.bind(null,a,i,r,s),void 0,null),r},useId:function(){var e=Ar(),s=es.identifierPrefix;if(Rt){var r=Xr,a=Qr;r=(a&~(1<<32-gr(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=zo++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=z1++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},F1={readContext:nr,useCallback:qy,useContext:nr,useEffect:tf,useImperativeHandle:By,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:Vy,useReducer:Au,useRef:Ly,useState:function(){return Au(To)},useDebugValue:sf,useDeferredValue:function(e){var s=ir();return Wy(s,Gt.memoizedState,e)},useTransition:function(){var e=Au(To)[0],s=ir().memoizedState;return[e,s]},useMutableSource:zy,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1},I1={readContext:nr,useCallback:qy,useContext:nr,useEffect:tf,useImperativeHandle:By,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:Vy,useReducer:Pu,useRef:Ly,useState:function(){return Pu(To)},useDebugValue:sf,useDeferredValue:function(e){var s=ir();return Gt===null?s.memoizedState=e:Wy(s,Gt.memoizedState,e)},useTransition:function(){var e=Pu(To)[0],s=ir().memoizedState;return[e,s]},useMutableSource:zy,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1};function mr(e,s){if(e&&e.defaultProps){s=It({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Am(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:It({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nd={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=bs(),n=Aa(e),i=Zr(a,n);i.payload=s,r!=null&&(i.callback=r),s=Sa(e,i,n),s!==null&&(xr(s,e,n,a),ql(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=bs(),n=Aa(e),i=Zr(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Sa(e,i,n),s!==null&&(xr(s,e,n,a),ql(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=bs(),a=Aa(e),n=Zr(r,a);n.tag=2,s!=null&&(n.callback=s),s=Sa(e,n,a),s!==null&&(xr(s,e,a,r),ql(s,e,a))}};function Qh(e,s,r,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):s.prototype&&s.prototype.isPureReactComponent?!_o(r,a)||!_o(n,i):!0}function Qy(e,s,r){var a=!1,n=$a,i=s.contextType;return typeof i=="object"&&i!==null?i=nr(i):(n=As(s)?on:gs.current,a=s.contextTypes,i=(a=a!=null)?ti(e,n):$a),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nd,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),s}function Xh(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&nd.enqueueReplaceState(s,s.state,null)}function Pm(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Gp(e);var i=s.contextType;typeof i=="object"&&i!==null?n.context=nr(i):(i=As(s)?on:gs.current,n.context=ti(e,i)),n.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Am(e,s,i,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&nd.enqueueReplaceState(n,n.state,null),Cc(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,s){try{var r="",a=s;do r+=uN(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:n,digest:null}}function Eu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function Em(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var L1=typeof WeakMap=="function"?WeakMap:Map;function Xy(e,s,r){r=Zr(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Pc||(Pc=!0,Om=a),Em(e,s)},r}function Jy(e,s,r){r=Zr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Em(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Em(e,s),typeof a!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function Jh(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new L1;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=J1.bind(null,e,s,r),s.then(e,e))}function Zh(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function eg(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Zr(-1,1),s.tag=2,Sa(r,s,1))),r.lanes|=1),e)}var M1=ca.ReactCurrentOwner,_s=!1;function ys(e,s,r,a){s.child=e===null?ky(s,null,r,a):ri(s,e.child,r,a)}function tg(e,s,r,a,n){r=r.render;var i=s.ref;return Yn(s,n),a=Zp(e,s,r,a,i,n),r=ef(),e!==null&&!_s?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,ra(e,s,n)):(Rt&&r&&Up(s),s.flags|=1,ys(e,s,a,n),s.child)}function sg(e,s,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!uf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,Zy(e,s,i,a,n)):(e=Yl(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_o,r(o,a)&&e.ref===s.ref)return ra(e,s,n)}return s.flags|=1,e=Pa(i,a),e.ref=s.ref,e.return=s,s.child=e}function Zy(e,s,r,a,n){if(e!==null){var i=e.memoizedProps;if(_o(i,a)&&e.ref===s.ref)if(_s=!1,s.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(_s=!0);else return s.lanes=e.lanes,ra(e,s,n)}return zm(e,s,r,a,n)}function eb(e,s,r){var a=s.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Bn,Ms),Ms|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,At(Bn,Ms),Ms|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,At(Bn,Ms),Ms|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,At(Bn,Ms),Ms|=a;return ys(e,s,n,r),s.child}function tb(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function zm(e,s,r,a,n){var i=As(r)?on:gs.current;return i=ti(s,i),Yn(s,n),r=Zp(e,s,r,a,i,n),a=ef(),e!==null&&!_s?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,ra(e,s,n)):(Rt&&a&&Up(s),s.flags|=1,ys(e,s,r,n),s.child)}function rg(e,s,r,a,n){if(As(r)){var i=!0;bc(s)}else i=!1;if(Yn(s,n),s.stateNode===null)Hl(e,s),Qy(s,r,a),Pm(s,r,a,n),a=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,p=r.contextType;typeof p=="object"&&p!==null?p=nr(p):(p=As(r)?on:gs.current,p=ti(s,p));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==p)&&Xh(s,o,a,p),pa=!1;var y=s.memoizedState;o.state=y,Cc(s,a,o,n),c=s.memoizedState,l!==a||y!==c||ks.current||pa?(typeof u=="function"&&(Am(s,r,u,a),c=s.memoizedState),(l=pa||Qh(s,r,l,a,y,c,p))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),o.props=a,o.state=c,o.context=p,a=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{o=s.stateNode,Py(e,s),l=s.memoizedProps,p=s.type===s.elementType?l:mr(s.type,l),o.props=p,f=s.pendingProps,y=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nr(c):(c=As(r)?on:gs.current,c=ti(s,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||y!==c)&&Xh(s,o,a,c),pa=!1,y=s.memoizedState,o.state=y,Cc(s,a,o,n);var x=s.memoizedState;l!==f||y!==x||ks.current||pa?(typeof m=="function"&&(Am(s,r,m,a),x=s.memoizedState),(p=pa||Qh(s,r,p,a,y,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,x,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=x),o.props=a,o.state=x,o.context=c,a=p):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),a=!1)}return Tm(e,s,r,a,i,n)}function Tm(e,s,r,a,n,i){tb(e,s);var o=(s.flags&128)!==0;if(!a&&!o)return n&&Bh(s,r,!1),ra(e,s,i);a=s.stateNode,M1.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&o?(s.child=ri(s,e.child,null,i),s.child=ri(s,null,l,i)):ys(e,s,l,i),s.memoizedState=a.state,n&&Bh(s,r,!0),s.child}function sb(e){var s=e.stateNode;s.pendingContext?Uh(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Uh(e,s.context,!1),Yp(e,s.containerInfo)}function ag(e,s,r,a,n){return si(),qp(n),s.flags|=256,ys(e,s,r,a),s.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function $m(e){return{baseLanes:e,cachePool:null,transitions:null}}function rb(e,s,r){var a=s.pendingProps,n=Dt.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),At(Dt,n&1),e===null)return Sm(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=a.children,e=a.fallback,i?(a=s.mode,i=s.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ld(o,a,0,null),e=rn(e,a,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=$m(r),s.memoizedState=Rm,e):rf(s,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return O1(e,s,o,a,l,n,r);if(i){i=a.fallback,o=s.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=Pa(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Pa(l,i):(i=rn(i,o,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,o=e.child.memoizedState,o=o===null?$m(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,s.memoizedState=Rm,a}return i=e.child,e=i.sibling,a=Pa(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function rf(e,s){return s=ld({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function wl(e,s,r,a){return a!==null&&qp(a),ri(s,e.child,null,r),e=rf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function O1(e,s,r,a,n,i,o){if(r)return s.flags&256?(s.flags&=-257,a=Eu(Error(Se(422))),wl(e,s,o,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=ld({mode:"visible",children:a.children},n,0,null),i=rn(i,n,o,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&ri(s,e.child,null,o),s.child.memoizedState=$m(o),s.memoizedState=Rm,i);if(!(s.mode&1))return wl(e,s,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(Se(419)),a=Eu(i,a,void 0),wl(e,s,o,a)}if(l=(o&e.childLanes)!==0,_s||l){if(a=es,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,sa(e,n),xr(a,e,n,-1))}return df(),a=Eu(Error(Se(421))),wl(e,s,o,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=Z1.bind(null,e),n._reactRetry=s,null):(e=i.treeContext,Bs=_a(n.nextSibling),qs=s,Rt=!0,fr=null,e!==null&&(Js[Zs++]=Qr,Js[Zs++]=Xr,Js[Zs++]=ln,Qr=e.id,Xr=e.overflow,ln=s),s=rf(s,a.children),s.flags|=4096,s)}function ng(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),km(e.return,s,r)}function zu(e,s,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function ab(e,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(ys(e,s,a.children,r),a=Dt.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,r,s);else if(e.tag===19)ng(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(At(Dt,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&_c(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),zu(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&_c(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}zu(s,!0,r,null,i);break;case"together":zu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hl(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function ra(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),dn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(Se(153));if(s.child!==null){for(e=s.child,r=Pa(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Pa(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function U1(e,s,r){switch(s.tag){case 3:sb(s),si();break;case 5:Ey(s);break;case 1:As(s.type)&&bc(s);break;case 4:Yp(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;At(Nc,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(At(Dt,Dt.current&1),s.flags|=128,null):r&s.child.childLanes?rb(e,s,r):(At(Dt,Dt.current&1),e=ra(e,s,r),e!==null?e.sibling:null);At(Dt,Dt.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return ab(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),At(Dt,Dt.current),a)break;return null;case 22:case 23:return s.lanes=0,eb(e,s,r)}return ra(e,s,r)}var nb,Dm,ib,ob;nb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dm=function(){};ib=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,Ja(Ir.current);var i=null;switch(r){case"input":n=rm(e,n),a=rm(e,a),i=[];break;case"select":n=It({},n,{value:void 0}),a=It({},a,{value:void 0}),i=[];break;case"textarea":n=im(e,n),a=im(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=xc)}lm(r,a);var o;r=null;for(p in n)if(!a.hasOwnProperty(p)&&n.hasOwnProperty(p)&&n[p]!=null)if(p==="style"){var l=n[p];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(yo.hasOwnProperty(p)?i||(i=[]):(i=i||[]).push(p,null));for(p in a){var c=a[p];if(l=n!=null?n[p]:void 0,a.hasOwnProperty(p)&&c!==l&&(c!=null||l!=null))if(p==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(yo.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&Et("scroll",e),i||l===c||(i=[])):(i=i||[]).push(p,c))}r&&(i=i||[]).push("style",r);var p=i;(s.updateQueue=p)&&(s.flags|=4)}};ob=function(e,s,r,a){r!==a&&(s.flags|=4)};function Ei(e,s){if(!Rt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function cs(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function B1(e,s,r){var a=s.pendingProps;switch(Bp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(s),null;case 1:return As(s.type)&&yc(),cs(s),null;case 3:return a=s.stateNode,ai(),zt(ks),zt(gs),Xp(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fr!==null&&(qm(fr),fr=null))),Dm(e,s),cs(s),null;case 5:Qp(s);var n=Ja(Eo.current);if(r=s.type,e!==null&&s.stateNode!=null)ib(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(Se(166));return cs(s),null}if(e=Ja(Ir.current),jl(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[Rr]=s,a[Ao]=i,e=(s.mode&1)!==0,r){case"dialog":Et("cancel",a),Et("close",a);break;case"iframe":case"object":case"embed":Et("load",a);break;case"video":case"audio":for(n=0;n<Gi.length;n++)Et(Gi[n],a);break;case"source":Et("error",a);break;case"img":case"image":case"link":Et("error",a),Et("load",a);break;case"details":Et("toggle",a);break;case"input":fh(a,i),Et("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Et("invalid",a);break;case"textarea":gh(a,i),Et("invalid",a)}lm(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&vl(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vl(a.textContent,l,e),n=["children",""+l]):yo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Et("scroll",a)}switch(r){case"input":ml(a),hh(a,i,!0);break;case"textarea":ml(a),xh(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=xc)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Rr]=s,e[Ao]=a,nb(e,s,!1,!1),s.stateNode=e;e:{switch(o=cm(r,a),r){case"dialog":Et("cancel",e),Et("close",e),n=a;break;case"iframe":case"object":case"embed":Et("load",e),n=a;break;case"video":case"audio":for(n=0;n<Gi.length;n++)Et(Gi[n],e);n=a;break;case"source":Et("error",e),n=a;break;case"img":case"image":case"link":Et("error",e),Et("load",e),n=a;break;case"details":Et("toggle",e),n=a;break;case"input":fh(e,a),n=rm(e,a),Et("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=It({},a,{value:void 0}),Et("invalid",e);break;case"textarea":gh(e,a),n=im(e,a),Et("invalid",e);break;default:n=a}lm(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?L0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bo(e,c):typeof c=="number"&&bo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Et("scroll",e):c!=null&&kp(e,i,c,o))}switch(r){case"input":ml(e),hh(e,a,!1);break;case"textarea":ml(e),xh(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ra(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Wn(e,!!a.multiple,i,!1):a.defaultValue!=null&&Wn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=xc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return cs(s),null;case 6:if(e&&s.stateNode!=null)ob(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(Se(166));if(r=Ja(Eo.current),Ja(Ir.current),jl(s)){if(a=s.stateNode,r=s.memoizedProps,a[Rr]=s,(i=a.nodeValue!==r)&&(e=qs,e!==null))switch(e.tag){case 3:vl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vl(a.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Rr]=s,s.stateNode=a}return cs(s),null;case 13:if(zt(Dt),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&Bs!==null&&s.mode&1&&!(s.flags&128))_y(),si(),s.flags|=98560,i=!1;else if(i=jl(s),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[Rr]=s}else si(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;cs(s),i=!1}else fr!==null&&(qm(fr),fr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||Dt.current&1?Qt===0&&(Qt=3):df())),s.updateQueue!==null&&(s.flags|=4),cs(s),null);case 4:return ai(),Dm(e,s),e===null&&So(s.stateNode.containerInfo),cs(s),null;case 10:return Hp(s.type._context),cs(s),null;case 17:return As(s.type)&&yc(),cs(s),null;case 19:if(zt(Dt),i=s.memoizedState,i===null)return cs(s),null;if(a=(s.flags&128)!==0,o=i.rendering,o===null)if(a)Ei(i,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=_c(e),o!==null){for(s.flags|=128,Ei(i,!1),a=o.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(Dt,Dt.current&1|2),s.child}e=e.sibling}i.tail!==null&&Bt()>ii&&(s.flags|=128,a=!0,Ei(i,!1),s.lanes=4194304)}else{if(!a)if(e=_c(o),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Rt)return cs(s),null}else 2*Bt()-i.renderingStartTime>ii&&r!==1073741824&&(s.flags|=128,a=!0,Ei(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Bt(),s.sibling=null,r=Dt.current,At(Dt,a?r&1|2:r&1),s):(cs(s),null);case 22:case 23:return cf(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Ms&1073741824&&(cs(s),s.subtreeFlags&6&&(s.flags|=8192)):cs(s),null;case 24:return null;case 25:return null}throw Error(Se(156,s.tag))}function q1(e,s){switch(Bp(s),s.tag){case 1:return As(s.type)&&yc(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ai(),zt(ks),zt(gs),Xp(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Qp(s),null;case 13:if(zt(Dt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(Se(340));si()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return zt(Dt),null;case 4:return ai(),null;case 10:return Hp(s.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var Cl=!1,ms=!1,V1=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Un(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ot(e,s,a)}else r.current=null}function Fm(e,s,r){try{r()}catch(a){Ot(e,s,a)}}var ig=!1;function W1(e,s){if(bm=fc,e=my(),Op(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,p=0,u=0,f=e,y=null;t:for(;;){for(var m;f!==r||n!==0&&f.nodeType!==3||(l=o+n),f!==i||a!==0&&f.nodeType!==3||(c=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)y=f,f=m;for(;;){if(f===e)break t;if(y===r&&++p===n&&(l=o),y===i&&++u===a&&(c=o),(m=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vm={focusedElem:e,selectionRange:r},fc=!1,Te=s;Te!==null;)if(s=Te,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Te=e;else for(;Te!==null;){s=Te;try{var x=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,N=x.memoizedState,b=s.stateNode,g=b.getSnapshotBeforeUpdate(s.elementType===s.type?h:mr(s.type,h),N);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(v){Ot(s,s.return,v)}if(e=s.sibling,e!==null){e.return=s.return,Te=e;break}Te=s.return}return x=ig,ig=!1,x}function no(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Fm(s,r,i)}n=n.next}while(n!==a)}}function id(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function Im(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function lb(e){var s=e.alternate;s!==null&&(e.alternate=null,lb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Rr],delete s[Ao],delete s[wm],delete s[k1],delete s[A1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cb(e){return e.tag===5||e.tag===3||e.tag===4}function og(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lm(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=xc));else if(a!==4&&(e=e.child,e!==null))for(Lm(e,s,r),e=e.sibling;e!==null;)Lm(e,s,r),e=e.sibling}function Mm(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Mm(e,s,r),e=e.sibling;e!==null;)Mm(e,s,r),e=e.sibling}var as=null,pr=!1;function da(e,s,r){for(r=r.child;r!==null;)db(e,s,r),r=r.sibling}function db(e,s,r){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Jc,r)}catch{}switch(r.tag){case 5:ms||Un(r,s);case 6:var a=as,n=pr;as=null,da(e,s,r),as=a,pr=n,as!==null&&(pr?(e=as,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):as.removeChild(r.stateNode));break;case 18:as!==null&&(pr?(e=as,r=r.stateNode,e.nodeType===8?Cu(e.parentNode,r):e.nodeType===1&&Cu(e,r),wo(e)):Cu(as,r.stateNode));break;case 4:a=as,n=pr,as=r.stateNode.containerInfo,pr=!0,da(e,s,r),as=a,pr=n;break;case 0:case 11:case 14:case 15:if(!ms&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fm(r,s,o),n=n.next}while(n!==a)}da(e,s,r);break;case 1:if(!ms&&(Un(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Ot(r,s,l)}da(e,s,r);break;case 21:da(e,s,r);break;case 22:r.mode&1?(ms=(a=ms)||r.memoizedState!==null,da(e,s,r),ms=a):da(e,s,r);break;default:da(e,s,r)}}function lg(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new V1),s.forEach(function(a){var n=ew.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function dr(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:as=l.stateNode,pr=!1;break e;case 3:as=l.stateNode.containerInfo,pr=!0;break e;case 4:as=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(as===null)throw Error(Se(160));db(i,o,n),as=null,pr=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(p){Ot(n,s,p)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ub(s,e),s=s.sibling}function ub(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dr(s,e),Cr(e),a&4){try{no(3,e,e.return),id(3,e)}catch(h){Ot(e,e.return,h)}try{no(5,e,e.return)}catch(h){Ot(e,e.return,h)}}break;case 1:dr(s,e),Cr(e),a&512&&r!==null&&Un(r,r.return);break;case 5:if(dr(s,e),Cr(e),a&512&&r!==null&&Un(r,r.return),e.flags&32){var n=e.stateNode;try{bo(n,"")}catch(h){Ot(e,e.return,h)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&R0(n,i),cm(l,o);var p=cm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?L0(n,f):u==="dangerouslySetInnerHTML"?F0(n,f):u==="children"?bo(n,f):kp(n,u,f,p)}switch(l){case"input":am(n,i);break;case"textarea":$0(n,i);break;case"select":var y=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Wn(n,!!i.multiple,m,!1):y!==!!i.multiple&&(i.defaultValue!=null?Wn(n,!!i.multiple,i.defaultValue,!0):Wn(n,!!i.multiple,i.multiple?[]:"",!1))}n[Ao]=i}catch(h){Ot(e,e.return,h)}}break;case 6:if(dr(s,e),Cr(e),a&4){if(e.stateNode===null)throw Error(Se(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(h){Ot(e,e.return,h)}}break;case 3:if(dr(s,e),Cr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{wo(s.containerInfo)}catch(h){Ot(e,e.return,h)}break;case 4:dr(s,e),Cr(e);break;case 13:dr(s,e),Cr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(of=Bt())),a&4&&lg(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ms=(p=ms)||u,dr(s,e),ms=p):dr(s,e),Cr(e),a&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!u&&e.mode&1)for(Te=e,u=e.child;u!==null;){for(f=Te=u;Te!==null;){switch(y=Te,m=y.child,y.tag){case 0:case 11:case 14:case 15:no(4,y,y.return);break;case 1:Un(y,y.return);var x=y.stateNode;if(typeof x.componentWillUnmount=="function"){a=y,r=y.return;try{s=a,x.props=s.memoizedProps,x.state=s.memoizedState,x.componentWillUnmount()}catch(h){Ot(a,r,h)}}break;case 5:Un(y,y.return);break;case 22:if(y.memoizedState!==null){dg(f);continue}}m!==null?(m.return=y,Te=m):dg(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{n=f.stateNode,p?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I0("display",o))}catch(h){Ot(e,e.return,h)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=p?"":f.memoizedProps}catch(h){Ot(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dr(s,e),Cr(e),a&4&&lg(e);break;case 21:break;default:dr(s,e),Cr(e)}}function Cr(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(cb(r)){var a=r;break e}r=r.return}throw Error(Se(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(bo(n,""),a.flags&=-33);var i=og(e);Mm(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=og(e);Lm(e,l,o);break;default:throw Error(Se(161))}}catch(c){Ot(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function H1(e,s,r){Te=e,mb(e)}function mb(e,s,r){for(var a=(e.mode&1)!==0;Te!==null;){var n=Te,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Cl;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||ms;l=Cl;var p=ms;if(Cl=o,(ms=c)&&!p)for(Te=n;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?ug(n):c!==null?(c.return=o,Te=c):ug(n);for(;i!==null;)Te=i,mb(i),i=i.sibling;Te=n,Cl=l,ms=p}cg(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,Te=i):cg(e)}}function cg(e){for(;Te!==null;){var s=Te;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:ms||id(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!ms)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:mr(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Kh(s,i,a);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Kh(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var p=s.alternate;if(p!==null){var u=p.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}ms||s.flags&512&&Im(s)}catch(y){Ot(s,s.return,y)}}if(s===e){Te=null;break}if(r=s.sibling,r!==null){r.return=s.return,Te=r;break}Te=s.return}}function dg(e){for(;Te!==null;){var s=Te;if(s===e){Te=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Te=r;break}Te=s.return}}function ug(e){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{id(4,s)}catch(c){Ot(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){Ot(s,n,c)}}var i=s.return;try{Im(s)}catch(c){Ot(s,i,c)}break;case 5:var o=s.return;try{Im(s)}catch(c){Ot(s,o,c)}}}catch(c){Ot(s,s.return,c)}if(s===e){Te=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Te=l;break}Te=s.return}}var K1=Math.ceil,Ac=ca.ReactCurrentDispatcher,af=ca.ReactCurrentOwner,rr=ca.ReactCurrentBatchConfig,lt=0,es=null,Ht=null,is=0,Ms=0,Bn=Ia(0),Qt=0,$o=null,dn=0,od=0,nf=0,io=null,Cs=null,of=0,ii=1/0,Kr=null,Pc=!1,Om=null,ka=null,_l=!1,ya=null,Ec=0,oo=0,Um=null,Kl=-1,Gl=0;function bs(){return lt&6?Bt():Kl!==-1?Kl:Kl=Bt()}function Aa(e){return e.mode&1?lt&2&&is!==0?is&-is:E1.transition!==null?(Gl===0&&(Gl=Q0()),Gl):(e=jt,e!==0||(e=window.event,e=e===void 0?16:ry(e.type)),e):1}function xr(e,s,r,a){if(50<oo)throw oo=0,Um=null,Error(Se(185));Ko(e,r,a),(!(lt&2)||e!==es)&&(e===es&&(!(lt&2)&&(od|=r),Qt===4&&ga(e,is)),Ps(e,a),r===1&&lt===0&&!(s.mode&1)&&(ii=Bt()+500,rd&&La()))}function Ps(e,s){var r=e.callbackNode;EN(e,s);var a=pc(e,e===es?is:0);if(a===0)r!==null&&vh(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&vh(r),s===1)e.tag===0?P1(mg.bind(null,e)):Ny(mg.bind(null,e)),_1(function(){!(lt&6)&&La()}),r=null;else{switch(X0(a)){case 1:r=Tp;break;case 4:r=G0;break;case 16:r=mc;break;case 536870912:r=Y0;break;default:r=mc}r=vb(r,pb.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function pb(e,s){if(Kl=-1,Gl=0,lt&6)throw Error(Se(327));var r=e.callbackNode;if(Qn()&&e.callbackNode!==r)return null;var a=pc(e,e===es?is:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=zc(e,a);else{s=a;var n=lt;lt|=2;var i=hb();(es!==e||is!==s)&&(Kr=null,ii=Bt()+500,sn(e,s));do try{Q1();break}catch(l){fb(e,l)}while(!0);Wp(),Ac.current=i,lt=n,Ht!==null?s=0:(es=null,is=0,s=Qt)}if(s!==0){if(s===2&&(n=fm(e),n!==0&&(a=n,s=Bm(e,n))),s===1)throw r=$o,sn(e,0),ga(e,a),Ps(e,Bt()),r;if(s===6)ga(e,a);else{if(n=e.current.alternate,!(a&30)&&!G1(n)&&(s=zc(e,a),s===2&&(i=fm(e),i!==0&&(a=i,s=Bm(e,i))),s===1))throw r=$o,sn(e,0),ga(e,a),Ps(e,Bt()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(Se(345));case 2:Ka(e,Cs,Kr);break;case 3:if(ga(e,a),(a&130023424)===a&&(s=of+500-Bt(),10<s)){if(pc(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){bs(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Nm(Ka.bind(null,e,Cs,Kr),s);break}Ka(e,Cs,Kr);break;case 4:if(ga(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var o=31-gr(a);i=1<<o,o=s[o],o>n&&(n=o),a&=~i}if(a=n,a=Bt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*K1(a/1960))-a,10<a){e.timeoutHandle=Nm(Ka.bind(null,e,Cs,Kr),a);break}Ka(e,Cs,Kr);break;case 5:Ka(e,Cs,Kr);break;default:throw Error(Se(329))}}}return Ps(e,Bt()),e.callbackNode===r?pb.bind(null,e):null}function Bm(e,s){var r=io;return e.current.memoizedState.isDehydrated&&(sn(e,s).flags|=256),e=zc(e,s),e!==2&&(s=Cs,Cs=r,s!==null&&qm(s)),e}function qm(e){Cs===null?Cs=e:Cs.push.apply(Cs,e)}function G1(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!br(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ga(e,s){for(s&=~nf,s&=~od,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-gr(s),a=1<<r;e[r]=-1,s&=~a}}function mg(e){if(lt&6)throw Error(Se(327));Qn();var s=pc(e,0);if(!(s&1))return Ps(e,Bt()),null;var r=zc(e,s);if(e.tag!==0&&r===2){var a=fm(e);a!==0&&(s=a,r=Bm(e,a))}if(r===1)throw r=$o,sn(e,0),ga(e,s),Ps(e,Bt()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Ka(e,Cs,Kr),Ps(e,Bt()),null}function lf(e,s){var r=lt;lt|=1;try{return e(s)}finally{lt=r,lt===0&&(ii=Bt()+500,rd&&La())}}function un(e){ya!==null&&ya.tag===0&&!(lt&6)&&Qn();var s=lt;lt|=1;var r=rr.transition,a=jt;try{if(rr.transition=null,jt=1,e)return e()}finally{jt=a,rr.transition=r,lt=s,!(lt&6)&&La()}}function cf(){Ms=Bn.current,zt(Bn)}function sn(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,C1(r)),Ht!==null)for(r=Ht.return;r!==null;){var a=r;switch(Bp(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&yc();break;case 3:ai(),zt(ks),zt(gs),Xp();break;case 5:Qp(a);break;case 4:ai();break;case 13:zt(Dt);break;case 19:zt(Dt);break;case 10:Hp(a.type._context);break;case 22:case 23:cf()}r=r.return}if(es=e,Ht=e=Pa(e.current,null),is=Ms=s,Qt=0,$o=null,nf=od=dn=0,Cs=io=null,Xa!==null){for(s=0;s<Xa.length;s++)if(r=Xa[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}r.pending=a}Xa=null}return e}function fb(e,s){do{var r=Ht;try{if(Wp(),Vl.current=kc,Sc){for(var a=Ft.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Sc=!1}if(cn=0,Jt=Gt=Ft=null,ao=!1,zo=0,af.current=null,r===null||r.return===null){Qt=1,$o=s,Ht=null;break}e:{var i=e,o=r.return,l=r,c=s;if(s=is,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Zh(o);if(m!==null){m.flags&=-257,eg(m,o,l,i,s),m.mode&1&&Jh(i,p,s),s=m,c=p;var x=s.updateQueue;if(x===null){var h=new Set;h.add(c),s.updateQueue=h}else x.add(c);break e}else{if(!(s&1)){Jh(i,p,s),df();break e}c=Error(Se(426))}}else if(Rt&&l.mode&1){var N=Zh(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),eg(N,o,l,i,s),qp(ni(c,l));break e}}i=c=ni(c,l),Qt!==4&&(Qt=2),io===null?io=[i]:io.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var b=Xy(i,c,s);Hh(i,b);break e;case 1:l=c;var g=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ka===null||!ka.has(j)))){i.flags|=65536,s&=-s,i.lanes|=s;var v=Jy(i,l,s);Hh(i,v);break e}}i=i.return}while(i!==null)}xb(r)}catch(A){s=A,Ht===r&&r!==null&&(Ht=r=r.return);continue}break}while(!0)}function hb(){var e=Ac.current;return Ac.current=kc,e===null?kc:e}function df(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),es===null||!(dn&268435455)&&!(od&268435455)||ga(es,is)}function zc(e,s){var r=lt;lt|=2;var a=hb();(es!==e||is!==s)&&(Kr=null,sn(e,s));do try{Y1();break}catch(n){fb(e,n)}while(!0);if(Wp(),lt=r,Ac.current=a,Ht!==null)throw Error(Se(261));return es=null,is=0,Qt}function Y1(){for(;Ht!==null;)gb(Ht)}function Q1(){for(;Ht!==null&&!jN();)gb(Ht)}function gb(e){var s=bb(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,s===null?xb(e):Ht=s,af.current=null}function xb(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=q1(r,s),r!==null){r.flags&=32767,Ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Ht=null;return}}else if(r=B1(r,s,Ms),r!==null){Ht=r;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=e}while(s!==null);Qt===0&&(Qt=5)}function Ka(e,s,r){var a=jt,n=rr.transition;try{rr.transition=null,jt=1,X1(e,s,r,a)}finally{rr.transition=n,jt=a}return null}function X1(e,s,r,a){do Qn();while(ya!==null);if(lt&6)throw Error(Se(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zN(e,i),e===es&&(Ht=es=null,is=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_l||(_l=!0,vb(mc,function(){return Qn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rr.transition,rr.transition=null;var o=jt;jt=1;var l=lt;lt|=4,af.current=null,W1(e,r),ub(r,e),x1(vm),fc=!!bm,vm=bm=null,e.current=r,H1(r),NN(),lt=l,jt=o,rr.transition=i}else e.current=r;if(_l&&(_l=!1,ya=e,Ec=n),i=e.pendingLanes,i===0&&(ka=null),_N(r.stateNode),Ps(e,Bt()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Pc)throw Pc=!1,e=Om,Om=null,e;return Ec&1&&e.tag!==0&&Qn(),i=e.pendingLanes,i&1?e===Um?oo++:(oo=0,Um=e):oo=0,La(),null}function Qn(){if(ya!==null){var e=X0(Ec),s=rr.transition,r=jt;try{if(rr.transition=null,jt=16>e?16:e,ya===null)var a=!1;else{if(e=ya,ya=null,Ec=0,lt&6)throw Error(Se(331));var n=lt;for(lt|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var p=l[c];for(Te=p;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:no(8,u,i)}var f=u.child;if(f!==null)f.return=u,Te=f;else for(;Te!==null;){u=Te;var y=u.sibling,m=u.return;if(lb(u),u===p){Te=null;break}if(y!==null){y.return=m,Te=y;break}Te=m}}}var x=i.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var N=h.sibling;h.sibling=null,h=N}while(h!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:no(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Te=b;break e}Te=i.return}}var g=e.current;for(Te=g;Te!==null;){o=Te;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Te=j;else e:for(o=g;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:id(9,l)}}catch(A){Ot(l,l.return,A)}if(l===o){Te=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,Te=v;break e}Te=l.return}}if(lt=n,La(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Jc,e)}catch{}a=!0}return a}finally{jt=r,rr.transition=s}}return!1}function pg(e,s,r){s=ni(r,s),s=Xy(e,s,1),e=Sa(e,s,1),s=bs(),e!==null&&(Ko(e,1,s),Ps(e,s))}function Ot(e,s,r){if(e.tag===3)pg(e,e,r);else for(;s!==null;){if(s.tag===3){pg(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ka===null||!ka.has(a))){e=ni(r,e),e=Jy(s,e,1),s=Sa(s,e,1),e=bs(),s!==null&&(Ko(s,1,e),Ps(s,e));break}}s=s.return}}function J1(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=bs(),e.pingedLanes|=e.suspendedLanes&r,es===e&&(is&r)===r&&(Qt===4||Qt===3&&(is&130023424)===is&&500>Bt()-of?sn(e,0):nf|=r),Ps(e,s)}function yb(e,s){s===0&&(e.mode&1?(s=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):s=1);var r=bs();e=sa(e,s),e!==null&&(Ko(e,s,r),Ps(e,r))}function Z1(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),yb(e,r)}function ew(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Se(314))}a!==null&&a.delete(s),yb(e,r)}var bb;bb=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||ks.current)_s=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return _s=!1,U1(e,s,r);_s=!!(e.flags&131072)}else _s=!1,Rt&&s.flags&1048576&&wy(s,jc,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Hl(e,s),e=s.pendingProps;var n=ti(s,gs.current);Yn(s,r),n=Zp(null,s,a,e,n,r);var i=ef();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,As(a)?(i=!0,bc(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Gp(s),n.updater=nd,s.stateNode=n,n._reactInternals=s,Pm(s,a,e,r),s=Tm(null,s,a,!0,i,r)):(s.tag=0,Rt&&i&&Up(s),ys(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Hl(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=sw(a),e=mr(a,e),n){case 0:s=zm(null,s,a,e,r);break e;case 1:s=rg(null,s,a,e,r);break e;case 11:s=tg(null,s,a,e,r);break e;case 14:s=sg(null,s,a,mr(a.type,e),r);break e}throw Error(Se(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:mr(a,n),zm(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:mr(a,n),rg(e,s,a,n,r);case 3:e:{if(sb(s),e===null)throw Error(Se(387));a=s.pendingProps,i=s.memoizedState,n=i.element,Py(e,s),Cc(s,a,null,r);var o=s.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=ni(Error(Se(423)),s),s=ag(e,s,a,r,n);break e}else if(a!==n){n=ni(Error(Se(424)),s),s=ag(e,s,a,r,n);break e}else for(Bs=_a(s.stateNode.containerInfo.firstChild),qs=s,Rt=!0,fr=null,r=ky(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(si(),a===n){s=ra(e,s,r);break e}ys(e,s,a,r)}s=s.child}return s;case 5:return Ey(s),e===null&&Sm(s),a=s.type,n=s.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,jm(a,n)?o=null:i!==null&&jm(a,i)&&(s.flags|=32),tb(e,s),ys(e,s,o,r),s.child;case 6:return e===null&&Sm(s),null;case 13:return rb(e,s,r);case 4:return Yp(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=ri(s,null,a,r):ys(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:mr(a,n),tg(e,s,a,n,r);case 7:return ys(e,s,s.pendingProps,r),s.child;case 8:return ys(e,s,s.pendingProps.children,r),s.child;case 12:return ys(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,o=n.value,At(Nc,a._currentValue),a._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===n.children&&!ks.current){s=ra(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Zr(-1,r&-r),c.tag=2;var p=i.updateQueue;if(p!==null){p=p.shared;var u=p.pending;u===null?c.next=c:(c.next=u.next,u.next=c),p.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),km(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),km(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ys(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,Yn(s,r),n=nr(n),a=a(n),s.flags|=1,ys(e,s,a,r),s.child;case 14:return a=s.type,n=mr(a,s.pendingProps),n=mr(a.type,n),sg(e,s,a,n,r);case 15:return Zy(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:mr(a,n),Hl(e,s),s.tag=1,As(a)?(e=!0,bc(s)):e=!1,Yn(s,r),Qy(s,a,n),Pm(s,a,n,r),Tm(null,s,a,!0,e,r);case 19:return ab(e,s,r);case 22:return eb(e,s,r)}throw Error(Se(156,s.tag))};function vb(e,s){return K0(e,s)}function tw(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,s,r,a){return new tw(e,s,r,a)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sw(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pp)return 11;if(e===Ep)return 14}return 2}function Pa(e,s){var r=e.alternate;return r===null?(r=sr(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,s,r,a,n,i){var o=2;if(a=e,typeof e=="function")uf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tn:return rn(r.children,n,i,s);case Ap:o=8,n|=8;break;case Zu:return e=sr(12,r,s,n|2),e.elementType=Zu,e.lanes=i,e;case em:return e=sr(13,r,s,n),e.elementType=em,e.lanes=i,e;case tm:return e=sr(19,r,s,n),e.elementType=tm,e.lanes=i,e;case E0:return ld(r,n,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A0:o=10;break e;case P0:o=9;break e;case Pp:o=11;break e;case Ep:o=14;break e;case ma:o=16,a=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return s=sr(o,r,s,n),s.elementType=e,s.type=a,s.lanes=i,s}function rn(e,s,r,a){return e=sr(7,e,a,s),e.lanes=r,e}function ld(e,s,r,a){return e=sr(22,e,a,s),e.elementType=E0,e.lanes=r,e.stateNode={isHidden:!1},e}function Tu(e,s,r){return e=sr(6,e,null,s),e.lanes=r,e}function Ru(e,s,r){return s=sr(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function rw(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function mf(e,s,r,a,n,i,o,l,c){return e=new rw(e,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=sr(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(i),e}function aw(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function jb(e){if(!e)return $a;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(Se(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(As(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(As(r))return jy(e,r,s)}return s}function Nb(e,s,r,a,n,i,o,l,c){return e=mf(r,a,!0,e,n,i,o,l,c),e.context=jb(null),r=e.current,a=bs(),n=Aa(r),i=Zr(a,n),i.callback=s??null,Sa(r,i,n),e.current.lanes=n,Ko(e,n,a),Ps(e,a),e}function cd(e,s,r,a){var n=s.current,i=bs(),o=Aa(n);return r=jb(r),s.context===null?s.context=r:s.pendingContext=r,s=Zr(i,o),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=Sa(n,s,o),e!==null&&(xr(e,n,o,i),ql(e,n,o)),o}function Tc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fg(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function pf(e,s){fg(e,s),(e=e.alternate)&&fg(e,s)}function nw(){return null}var wb=typeof reportError=="function"?reportError:function(e){console.error(e)};function ff(e){this._internalRoot=e}dd.prototype.render=ff.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(Se(409));cd(e,s,null,null)};dd.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;un(function(){cd(null,e,null,null)}),s[ta]=null}};function dd(e){this._internalRoot=e}dd.prototype.unstable_scheduleHydration=function(e){if(e){var s=ey();e={blockedOn:null,target:e,priority:s};for(var r=0;r<ha.length&&s!==0&&s<ha[r].priority;r++);ha.splice(r,0,e),r===0&&sy(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hg(){}function iw(e,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var p=Tc(o);i.call(p)}}var o=Nb(s,a,e,0,null,!1,!1,"",hg);return e._reactRootContainer=o,e[ta]=o.current,So(e.nodeType===8?e.parentNode:e),un(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var p=Tc(c);l.call(p)}}var c=mf(e,0,!1,null,null,!1,!1,"",hg);return e._reactRootContainer=c,e[ta]=c.current,So(e.nodeType===8?e.parentNode:e),un(function(){cd(s,c,r,a)}),c}function md(e,s,r,a,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=Tc(o);l.call(c)}}cd(s,o,e,n)}else o=iw(r,s,e,n,a);return Tc(o)}J0=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=Ki(s.pendingLanes);r!==0&&(Rp(s,r|1),Ps(s,Bt()),!(lt&6)&&(ii=Bt()+500,La()))}break;case 13:un(function(){var a=sa(e,1);if(a!==null){var n=bs();xr(a,e,1,n)}}),pf(e,1)}};$p=function(e){if(e.tag===13){var s=sa(e,134217728);if(s!==null){var r=bs();xr(s,e,134217728,r)}pf(e,134217728)}};Z0=function(e){if(e.tag===13){var s=Aa(e),r=sa(e,s);if(r!==null){var a=bs();xr(r,e,s,a)}pf(e,s)}};ey=function(){return jt};ty=function(e,s){var r=jt;try{return jt=e,s()}finally{jt=r}};um=function(e,s,r){switch(s){case"input":if(am(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=sd(a);if(!n)throw Error(Se(90));T0(a),am(a,n)}}}break;case"textarea":$0(e,r);break;case"select":s=r.value,s!=null&&Wn(e,!!r.multiple,s,!1)}};U0=lf;B0=un;var ow={usingClientEntryPoint:!1,Events:[Yo,Fn,sd,M0,O0,lf]},zi={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lw={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||nw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Jc=Sl.inject(lw),Fr=Sl}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;Gs.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(s))throw Error(Se(200));return aw(e,s,null,r)};Gs.createRoot=function(e,s){if(!hf(e))throw Error(Se(299));var r=!1,a="",n=wb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=mf(e,1,!1,null,null,r,!1,a,n),e[ta]=s.current,So(e.nodeType===8?e.parentNode:e),new ff(s)};Gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=W0(s),e=e===null?null:e.stateNode,e};Gs.flushSync=function(e){return un(e)};Gs.hydrate=function(e,s,r){if(!ud(s))throw Error(Se(200));return md(null,e,s,!0,r)};Gs.hydrateRoot=function(e,s,r){if(!hf(e))throw Error(Se(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",o=wb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=Nb(s,null,e,1,r??null,n,!1,i,o),e[ta]=s.current,So(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new dd(s)};Gs.render=function(e,s,r){if(!ud(s))throw Error(Se(200));return md(null,e,s,!1,r)};Gs.unmountComponentAtNode=function(e){if(!ud(e))throw Error(Se(40));return e._reactRootContainer?(un(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[ta]=null})}),!0):!1};Gs.unstable_batchedUpdates=lf;Gs.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!ud(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return md(e,s,r,!1,a)};Gs.version="18.3.1-next-f1338f8080-20240426";function Cb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cb)}catch(e){console.error(e)}}Cb(),C0.exports=Gs;var gf=C0.exports;const kl=vp(gf);var gg=gf;Xu.createRoot=gg.createRoot,Xu.hydrateRoot=gg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Do.apply(this,arguments)}var ba;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ba||(ba={}));const xg="popstate";function cw(e){e===void 0&&(e={});function s(a,n){let{pathname:i,search:o,hash:l}=a.location;return Vm("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Rc(n)}return uw(s,r,null,e)}function qt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function xf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function dw(){return Math.random().toString(36).substr(2,8)}function yg(e,s){return{usr:e.state,key:e.key,idx:s}}function Vm(e,s,r,a){return r===void 0&&(r=null),Do({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?xi(s):s,{state:r,key:s&&s.key||a||dw()})}function Rc(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function xi(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function uw(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=ba.Pop,c=null,p=u();p==null&&(p=0,o.replaceState(Do({},o.state,{idx:p}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ba.Pop;let N=u(),b=N==null?null:N-p;p=N,c&&c({action:l,location:h.location,delta:b})}function y(N,b){l=ba.Push;let g=Vm(h.location,N,b);p=u()+1;let j=yg(g,p),v=h.createHref(g);try{o.pushState(j,"",v)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(v)}i&&c&&c({action:l,location:h.location,delta:1})}function m(N,b){l=ba.Replace;let g=Vm(h.location,N,b);p=u();let j=yg(g,p),v=h.createHref(g);o.replaceState(j,"",v),i&&c&&c({action:l,location:h.location,delta:0})}function x(N){let b=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof N=="string"?N:Rc(N);return g=g.replace(/ $/,"%20"),qt(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let h={get action(){return l},get location(){return e(n,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(xg,f),c=N,()=>{n.removeEventListener(xg,f),c=null}},createHref(N){return s(n,N)},createURL:x,encodeLocation(N){let b=x(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:m,go(N){return o.go(N)}};return h}var bg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bg||(bg={}));function mw(e,s,r){return r===void 0&&(r="/"),pw(e,s,r)}function pw(e,s,r,a){let n=typeof s=="string"?xi(s):s,i=yf(n.pathname||"/",r);if(i==null)return null;let o=_b(e);fw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let p=Sw(i);l=ww(o[c],p)}return l}function _b(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(qt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let p=Ea([a,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),_b(i.children,s,u,p)),!(i.path==null&&!i.index)&&s.push({path:p,score:jw(p,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of Sb(i.path))n(i,o,c)}),s}function Sb(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Sb(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fw(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Nw(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const hw=/^:[\w-]+$/,gw=3,xw=2,yw=1,bw=10,vw=-2,vg=e=>e==="*";function jw(e,s){let r=e.split("/"),a=r.length;return r.some(vg)&&(a+=vw),s&&(a+=xw),r.filter(n=>!vg(n)).reduce((n,i)=>n+(hw.test(i)?gw:i===""?yw:bw),a)}function Nw(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function ww(e,s,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],p=l===a.length-1,u=i==="/"?s:s.slice(i.length)||"/",f=Cw({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},u),y=c.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Ea([i,f.pathname]),pathnameBase:zw(Ea([i,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(i=Ea([i,f.pathnameBase]))}return o}function Cw(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=_w(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((p,u,f)=>{let{paramName:y,isOptional:m}=u;if(y==="*"){let h=l[f]||"";o=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:o,pattern:e}}function _w(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Sw(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function yf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=e=>kw.test(e);function Pw(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?xi(e):e,i;if(r)if(Aw(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),xf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=jg(r.substring(1),"/"):i=jg(r,s)}else i=s;return{pathname:i,search:Tw(a),hash:Rw(n)}}function jg(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function $u(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ew(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function bf(e,s){let r=Ew(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function vf(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=xi(e):(n=Do({},e),qt(!n.pathname||!n.pathname.includes("?"),$u("?","pathname","search",n)),qt(!n.pathname||!n.pathname.includes("#"),$u("#","pathname","hash",n)),qt(!n.search||!n.search.includes("#"),$u("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let f=s.length-1;if(!a&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),f-=1;n.pathname=y.join("/")}l=f>=0?s[f]:"/"}let c=Pw(n,l),p=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||u)&&(c.pathname+="/"),c}const Ea=e=>e.join("/").replace(/\/\/+/g,"/"),zw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $w(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kb=["post","put","patch","delete"];new Set(kb);const Dw=["get",...kb];new Set(Dw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fo.apply(this,arguments)}const jf=d.createContext(null),Fw=d.createContext(null),Ma=d.createContext(null),pd=d.createContext(null),Oa=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Ab=d.createContext(null);function Iw(e,s){let{relative:r}=s===void 0?{}:s;yi()||qt(!1);let{basename:a,navigator:n}=d.useContext(Ma),{hash:i,pathname:o,search:l}=Eb(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:Ea([a,o])),n.createHref({pathname:c,search:l,hash:i})}function yi(){return d.useContext(pd)!=null}function Ua(){return yi()||qt(!1),d.useContext(pd).location}function Pb(e){d.useContext(Ma).static||d.useLayoutEffect(e)}function jr(){let{isDataRoute:e}=d.useContext(Oa);return e?Qw():Lw()}function Lw(){yi()||qt(!1);let e=d.useContext(jf),{basename:s,future:r,navigator:a}=d.useContext(Ma),{matches:n}=d.useContext(Oa),{pathname:i}=Ua(),o=JSON.stringify(bf(n,r.v7_relativeSplatPath)),l=d.useRef(!1);return Pb(()=>{l.current=!0}),d.useCallback(function(p,u){if(u===void 0&&(u={}),!l.current)return;if(typeof p=="number"){a.go(p);return}let f=vf(p,JSON.parse(o),i,u.relative==="path");e==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:Ea([s,f.pathname])),(u.replace?a.replace:a.push)(f,u.state,u)},[s,a,o,i,e])}function Eb(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=d.useContext(Ma),{matches:n}=d.useContext(Oa),{pathname:i}=Ua(),o=JSON.stringify(bf(n,a.v7_relativeSplatPath));return d.useMemo(()=>vf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Mw(e,s){return Ow(e,s)}function Ow(e,s,r,a){yi()||qt(!1);let{navigator:n}=d.useContext(Ma),{matches:i}=d.useContext(Oa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let p=Ua(),u;if(s){var f;let N=typeof s=="string"?xi(s):s;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||qt(!1),u=N}else u=p;let y=u.pathname||"/",m=y;if(c!=="/"){let N=c.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=mw(e,{pathname:m}),h=Ww(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ea([c,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Ea([c,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,a);return s&&h?d.createElement(pd.Provider,{value:{location:Fo({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ba.Pop}},h):h}function Uw(){let e=Yw(),s=$w(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),r?d.createElement("pre",{style:n},r):null,null)}const Bw=d.createElement(Uw,null);class qw extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?d.createElement(Oa.Provider,{value:this.props.routeContext},d.createElement(Ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vw(e){let{routeContext:s,match:r,children:a}=e,n=d.useContext(jf);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(Oa.Provider,{value:s},a)}function Ww(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||qt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,p=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(p=u),f.route.id){let{loaderData:y,errors:m}=r,x=f.route.loader&&y[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((u,f,y)=>{let m,x=!1,h=null,N=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,h=f.route.errorElement||Bw,c&&(p<0&&y===0?(Xw("route-fallback"),x=!0,N=null):p===y&&(x=!0,N=f.route.hydrateFallbackElement||null)));let b=s.concat(o.slice(0,y+1)),g=()=>{let j;return m?j=h:x?j=N:f.route.Component?j=d.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,d.createElement(Vw,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?d.createElement(qw,{location:r.location,revalidation:r.revalidation,component:h,error:m,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var zb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zb||{}),Tb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tb||{});function Hw(e){let s=d.useContext(jf);return s||qt(!1),s}function Kw(e){let s=d.useContext(Fw);return s||qt(!1),s}function Gw(e){let s=d.useContext(Oa);return s||qt(!1),s}function Rb(e){let s=Gw(),r=s.matches[s.matches.length-1];return r.route.id||qt(!1),r.route.id}function Yw(){var e;let s=d.useContext(Ab),r=Kw(),a=Rb();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function Qw(){let{router:e}=Hw(zb.UseNavigateStable),s=Rb(Tb.UseNavigateStable),r=d.useRef(!1);return Pb(()=>{r.current=!0}),d.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Fo({fromRouteId:s},i)))},[e,s])}const Ng={};function Xw(e,s,r){Ng[e]||(Ng[e]=!0)}function Jw(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ql(e){let{to:s,replace:r,state:a,relative:n}=e;yi()||qt(!1);let{future:i,static:o}=d.useContext(Ma),{matches:l}=d.useContext(Oa),{pathname:c}=Ua(),p=jr(),u=vf(s,bf(l,i.v7_relativeSplatPath),c,n==="path"),f=JSON.stringify(u);return d.useEffect(()=>p(JSON.parse(f),{replace:r,state:a,relative:n}),[p,f,n,r,a]),null}function Oe(e){qt(!1)}function Zw(e){let{basename:s="/",children:r=null,location:a,navigationType:n=ba.Pop,navigator:i,static:o=!1,future:l}=e;yi()&&qt(!1);let c=s.replace(/^\/*/,"/"),p=d.useMemo(()=>({basename:c,navigator:i,static:o,future:Fo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=xi(a));let{pathname:u="/",search:f="",hash:y="",state:m=null,key:x="default"}=a,h=d.useMemo(()=>{let N=yf(u,c);return N==null?null:{location:{pathname:N,search:f,hash:y,state:m,key:x},navigationType:n}},[c,u,f,y,m,x,n]);return h==null?null:d.createElement(Ma.Provider,{value:p},d.createElement(pd.Provider,{children:r,value:h}))}function Ti(e){let{children:s,location:r}=e;return Mw(Wm(s),r)}new Promise(()=>{});function Wm(e,s){s===void 0&&(s=[]);let r=[];return d.Children.forEach(e,(a,n)=>{if(!d.isValidElement(a))return;let i=[...s,n];if(a.type===d.Fragment){r.push.apply(r,Wm(a.props.children,i));return}a.type!==Oe&&qt(!1),!a.props.index||!a.props.children||qt(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Wm(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hm.apply(this,arguments)}function eC(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function tC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sC(e,s){return e.button===0&&(!s||s==="_self")&&!tC(e)}function Km(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function rC(e,s){let r=Km(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const aC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nC="6";try{window.__reactRouterVersion=nC}catch{}const iC="startTransition",wg=lc[iC];function oC(e){let{basename:s,children:r,future:a,window:n}=e,i=d.useRef();i.current==null&&(i.current=cw({window:n,v5Compat:!0}));let o=i.current,[l,c]=d.useState({action:o.action,location:o.location}),{v7_startTransition:p}=a||{},u=d.useCallback(f=>{p&&wg?wg(()=>c(f)):c(f)},[c,p]);return d.useLayoutEffect(()=>o.listen(u),[o,u]),d.useEffect(()=>Jw(a),[a]),d.createElement(Zw,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Al=d.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:p,preventScrollReset:u,viewTransition:f}=s,y=eC(s,aC),{basename:m}=d.useContext(Ma),x,h=!1;if(typeof p=="string"&&cC.test(p)&&(x=p,lC))try{let j=new URL(window.location.href),v=p.startsWith("//")?new URL(j.protocol+p):new URL(p),A=yf(v.pathname,m);v.origin===j.origin&&A!=null?p=A+v.search+v.hash:h=!0}catch{}let N=Iw(p,{relative:n}),b=dC(p,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:f});function g(j){a&&a(j),j.defaultPrevented||b(j)}return d.createElement("a",Hm({},y,{href:x||N,onClick:h||i?a:g,ref:r,target:c}))});var Cg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cg||(Cg={}));var _g;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_g||(_g={}));function dC(e,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=jr(),p=Ua(),u=Eb(e,{relative:o});return d.useCallback(f=>{if(sC(f,r)){f.preventDefault();let y=a!==void 0?a:Rc(p)===Rc(u);c(e,{replace:y,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[p,c,u,a,n,r,e,i,o,l])}function fd(e){let s=d.useRef(Km(e)),r=d.useRef(!1),a=Ua(),n=d.useMemo(()=>rC(a.search,r.current?null:s.current),[a.search]),i=jr(),o=d.useCallback((l,c)=>{const p=Km(typeof l=="function"?l(n):l);r.current=!0,i("?"+p,c)},[i,n]);return[n,o]}function $b(e,s){return function(){return e.apply(s,arguments)}}const{toString:uC}=Object.prototype,{getPrototypeOf:Nf}=Object,{iterator:hd,toStringTag:Db}=Symbol,gd=(e=>s=>{const r=uC.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=e=>(e=e.toLowerCase(),s=>gd(s)===e),xd=e=>s=>typeof s===e,{isArray:bi}=Array,oi=xd("undefined");function Xo(e){return e!==null&&!oi(e)&&e.constructor!==null&&!oi(e.constructor)&&Es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fb=Nr("ArrayBuffer");function mC(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Fb(e.buffer),s}const pC=xd("string"),Es=xd("function"),Ib=xd("number"),Jo=e=>e!==null&&typeof e=="object",fC=e=>e===!0||e===!1,Xl=e=>{if(gd(e)!=="object")return!1;const s=Nf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Db in e)&&!(hd in e)},hC=e=>{if(!Jo(e)||Xo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gC=Nr("Date"),xC=Nr("File"),yC=Nr("Blob"),bC=Nr("FileList"),vC=e=>Jo(e)&&Es(e.pipe),jC=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Es(e.append)&&((s=gd(e))==="formdata"||s==="object"&&Es(e.toString)&&e.toString()==="[object FormData]"))},NC=Nr("URLSearchParams"),[wC,CC,_C,SC]=["ReadableStream","Request","Response","Headers"].map(Nr),kC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zo(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),bi(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(Xo(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],s.call(null,e[l],l,e)}}function Lb(e,s){if(Xo(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mb=e=>!oi(e)&&e!==Za;function Gm(){const{caseless:e,skipUndefined:s}=Mb(this)&&this||{},r={},a=(n,i)=>{const o=e&&Lb(r,i)||i;Xl(r[o])&&Xl(n)?r[o]=Gm(r[o],n):Xl(n)?r[o]=Gm({},n):bi(n)?r[o]=n.slice():(!s||!oi(n))&&(r[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Zo(arguments[n],a);return r}const AC=(e,s,r,{allOwnKeys:a}={})=>(Zo(s,(n,i)=>{r&&Es(n)?e[i]=$b(n,r):e[i]=n},{allOwnKeys:a}),e),PC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),EC=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},zC=(e,s,r,a)=>{let n,i,o;const l={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,s))&&!l[o]&&(s[o]=e[o],l[o]=!0);e=r!==!1&&Nf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},TC=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},RC=e=>{if(!e)return null;if(bi(e))return e;let s=e.length;if(!Ib(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},$C=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Nf(Uint8Array)),DC=(e,s)=>{const a=(e&&e[hd]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(e,i[0],i[1])}},FC=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},IC=Nr("HTMLFormElement"),LC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Sg=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),MC=Nr("RegExp"),Ob=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Zo(r,(n,i)=>{let o;(o=s(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},OC=e=>{Ob(e,(s,r)=>{if(Es(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Es(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},UC=(e,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return bi(e)?a(e):a(String(e).split(s)),r},BC=()=>{},qC=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function VC(e){return!!(e&&Es(e.append)&&e[Db]==="FormData"&&e[hd])}const WC=e=>{const s=new Array(10),r=(a,n)=>{if(Jo(a)){if(s.indexOf(a)>=0)return;if(Xo(a))return a;if(!("toJSON"in a)){s[n]=a;const i=bi(a)?[]:{};return Zo(a,(o,l)=>{const c=r(o,n+1);!oi(c)&&(i[l]=c)}),s[n]=void 0,i}}return a};return r(e,0)},HC=Nr("AsyncFunction"),KC=e=>e&&(Jo(e)||Es(e))&&Es(e.then)&&Es(e.catch),Ub=((e,s)=>e?setImmediate:s?((r,a)=>(Za.addEventListener("message",({source:n,data:i})=>{n===Za&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Za.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(Za.postMessage)),GC=typeof queueMicrotask<"u"?queueMicrotask.bind(Za):typeof process<"u"&&process.nextTick||Ub,YC=e=>e!=null&&Es(e[hd]),ge={isArray:bi,isArrayBuffer:Fb,isBuffer:Xo,isFormData:jC,isArrayBufferView:mC,isString:pC,isNumber:Ib,isBoolean:fC,isObject:Jo,isPlainObject:Xl,isEmptyObject:hC,isReadableStream:wC,isRequest:CC,isResponse:_C,isHeaders:SC,isUndefined:oi,isDate:gC,isFile:xC,isBlob:yC,isRegExp:MC,isFunction:Es,isStream:vC,isURLSearchParams:NC,isTypedArray:$C,isFileList:bC,forEach:Zo,merge:Gm,extend:AC,trim:kC,stripBOM:PC,inherits:EC,toFlatObject:zC,kindOf:gd,kindOfTest:Nr,endsWith:TC,toArray:RC,forEachEntry:DC,matchAll:FC,isHTMLForm:IC,hasOwnProperty:Sg,hasOwnProp:Sg,reduceDescriptors:Ob,freezeMethods:OC,toObjectSet:UC,toCamelCase:LC,noop:BC,toFiniteNumber:qC,findKey:Lb,global:Za,isContextDefined:Mb,isSpecCompliantForm:VC,toJSONObject:WC,isAsyncFn:HC,isThenable:KC,setImmediate:Ub,asap:GC,isIterable:YC};function Je(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ge.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const Bb=Je.prototype,qb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qb[e]={value:e}});Object.defineProperties(Je,qb);Object.defineProperty(Bb,"isAxiosError",{value:!0});Je.from=(e,s,r,a,n,i)=>{const o=Object.create(Bb);ge.toFlatObject(e,o,function(u){return u!==Error.prototype},p=>p!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return Je.call(o,l,c,r,a,n),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const QC=null;function Ym(e){return ge.isPlainObject(e)||ge.isArray(e)}function Vb(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function kg(e,s,r){return e?e.concat(s).map(function(n,i){return n=Vb(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function XC(e){return ge.isArray(e)&&!e.some(Ym)}const JC=ge.toFlatObject(ge,{},null,function(s){return/^is[A-Z]/.test(s)});function yd(e,s,r){if(!ge.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=ge.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,N){return!ge.isUndefined(N[h])});const a=r.metaTokens,n=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(s);if(!ge.isFunction(n))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(ge.isDate(x))return x.toISOString();if(ge.isBoolean(x))return x.toString();if(!c&&ge.isBlob(x))throw new Je("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(x)||ge.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,h,N){let b=x;if(x&&!N&&typeof x=="object"){if(ge.endsWith(h,"{}"))h=a?h:h.slice(0,-2),x=JSON.stringify(x);else if(ge.isArray(x)&&XC(x)||(ge.isFileList(x)||ge.endsWith(h,"[]"))&&(b=ge.toArray(x)))return h=Vb(h),b.forEach(function(j,v){!(ge.isUndefined(j)||j===null)&&s.append(o===!0?kg([h],v,i):o===null?h:h+"[]",p(j))}),!1}return Ym(x)?!0:(s.append(kg(N,h,i),p(x)),!1)}const f=[],y=Object.assign(JC,{defaultVisitor:u,convertValue:p,isVisitable:Ym});function m(x,h){if(!ge.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(x),ge.forEach(x,function(b,g){(!(ge.isUndefined(b)||b===null)&&n.call(s,b,ge.isString(g)?g.trim():g,h,y))===!0&&m(b,h?h.concat(g):[g])}),f.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return m(e),s}function Ag(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function wf(e,s){this._pairs=[],e&&yd(e,this,s)}const Wb=wf.prototype;Wb.append=function(s,r){this._pairs.push([s,r])};Wb.toString=function(s){const r=s?function(a){return s.call(this,a,Ag)}:Ag;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function ZC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Hb(e,s,r){if(!s)return e;const a=r&&r.encode||ZC;ge.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=ge.isURLSearchParams(s)?s.toString():new wf(s,r).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Pg{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){ge.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Kb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e2=typeof URLSearchParams<"u"?URLSearchParams:wf,t2=typeof FormData<"u"?FormData:null,s2=typeof Blob<"u"?Blob:null,r2={isBrowser:!0,classes:{URLSearchParams:e2,FormData:t2,Blob:s2},protocols:["http","https","file","blob","url","data"]},Cf=typeof window<"u"&&typeof document<"u",Qm=typeof navigator=="object"&&navigator||void 0,a2=Cf&&(!Qm||["ReactNative","NativeScript","NS"].indexOf(Qm.product)<0),n2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i2=Cf&&window.location.href||"http://localhost",o2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cf,hasStandardBrowserEnv:a2,hasStandardBrowserWebWorkerEnv:n2,navigator:Qm,origin:i2},Symbol.toStringTag,{value:"Module"})),ps={...o2,...r2};function l2(e,s){return yd(e,new ps.classes.URLSearchParams,{visitor:function(r,a,n,i){return ps.isNode&&ge.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function c2(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function d2(e){const s={},r=Object.keys(e);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=e[i];return s}function Gb(e){function s(r,a,n,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&ge.isArray(n)?n.length:o,c?(ge.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!ge.isObject(n[o]))&&(n[o]=[]),s(r,a,n[o],i)&&ge.isArray(n[o])&&(n[o]=d2(n[o])),!l)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const r={};return ge.forEachEntry(e,(a,n)=>{s(c2(a),n,r,0)}),r}return null}function u2(e,s,r){if(ge.isString(e))try{return(s||JSON.parse)(e),ge.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const el={transitional:Kb,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=ge.isObject(s);if(i&&ge.isHTMLForm(s)&&(s=new FormData(s)),ge.isFormData(s))return n?JSON.stringify(Gb(s)):s;if(ge.isArrayBuffer(s)||ge.isBuffer(s)||ge.isStream(s)||ge.isFile(s)||ge.isBlob(s)||ge.isReadableStream(s))return s;if(ge.isArrayBufferView(s))return s.buffer;if(ge.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return l2(s,this.formSerializer).toString();if((l=ge.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yd(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),u2(s)):s}],transformResponse:[function(s){const r=this.transitional||el.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(ge.isResponse(s)||ge.isReadableStream(s))return s;if(s&&ge.isString(s)&&(a&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Je.from(l,Je.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ps.classes.FormData,Blob:ps.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{el.headers[e]={}});const m2=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p2=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!r||s[r]&&m2[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Eg=Symbol("internals");function Ri(e){return e&&String(e).trim().toLowerCase()}function Jl(e){return e===!1||e==null?e:ge.isArray(e)?e.map(Jl):String(e)}function f2(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const h2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Du(e,s,r,a,n){if(ge.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!ge.isString(s)){if(ge.isString(a))return s.indexOf(a)!==-1;if(ge.isRegExp(a))return a.test(s)}}function g2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function x2(e,s){const r=ge.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,i,o){return this[a].call(this,s,n,i,o)},configurable:!0})})}let zs=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(l,c,p){const u=Ri(c);if(!u)throw new Error("header name must be a non-empty string");const f=ge.findKey(n,u);(!f||n[f]===void 0||p===!0||p===void 0&&n[f]!==!1)&&(n[f||c]=Jl(l))}const o=(l,c)=>ge.forEach(l,(p,u)=>i(p,u,c));if(ge.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(ge.isString(s)&&(s=s.trim())&&!h2(s))o(p2(s),r);else if(ge.isObject(s)&&ge.isIterable(s)){let l={},c,p;for(const u of s){if(!ge.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[p=u[0]]=(c=l[p])?ge.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=Ri(s),s){const a=ge.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return f2(n);if(ge.isFunction(r))return r.call(this,n,a);if(ge.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ri(s),s){const a=ge.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Du(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(o){if(o=Ri(o),o){const l=ge.findKey(a,o);l&&(!r||Du(a,a[l],l,r))&&(delete a[l],n=!0)}}return ge.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||Du(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return ge.forEach(this,(n,i)=>{const o=ge.findKey(a,i);if(o){r[o]=Jl(n),delete r[i];return}const l=s?g2(i):String(i).trim();l!==i&&delete r[i],r[l]=Jl(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return ge.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&ge.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Eg]=this[Eg]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Ri(o);a[l]||(x2(n,o),a[l]=!0)}return ge.isArray(s)?s.forEach(i):i(s),this}};zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(zs.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});ge.freezeMethods(zs);function Fu(e,s){const r=this||el,a=s||r,n=zs.from(a.headers);let i=a.data;return ge.forEach(e,function(l){i=l.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Yb(e){return!!(e&&e.__CANCEL__)}function vi(e,s,r){Je.call(this,e??"canceled",Je.ERR_CANCELED,s,r),this.name="CanceledError"}ge.inherits(vi,Je,{__CANCEL__:!0});function Qb(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new Je("Request failed with status code "+r.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function y2(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function b2(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const p=Date.now(),u=a[i];o||(o=p),r[n]=c,a[n]=p;let f=i,y=0;for(;f!==n;)y+=r[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),p-o<s)return;const m=u&&p-u;return m?Math.round(y*1e3/m):void 0}}function v2(e,s){let r=0,a=1e3/s,n,i;const o=(p,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const u=Date.now(),f=u-r;f>=a?o(p,u):(n=p,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const $c=(e,s,r=3)=>{let a=0;const n=b2(50,250);return v2(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,p=n(c),u=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:p||void 0,estimated:p&&l&&u?(l-o)/p:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(f)},r)},zg=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},Tg=e=>(...s)=>ge.asap(()=>e(...s)),j2=ps.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,ps.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(ps.origin),ps.navigator&&/(msie|trident)/i.test(ps.navigator.userAgent)):()=>!0,N2=ps.hasStandardBrowserEnv?{write(e,s,r,a,n,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(s)}`];ge.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ge.isString(a)&&l.push(`path=${a}`),ge.isString(n)&&l.push(`domain=${n}`),i===!0&&l.push("secure"),ge.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function w2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function C2(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Xb(e,s,r){let a=!w2(s);return e&&(a||r==!1)?C2(e,s):s}const Rg=e=>e instanceof zs?{...e}:e;function mn(e,s){s=s||{};const r={};function a(p,u,f,y){return ge.isPlainObject(p)&&ge.isPlainObject(u)?ge.merge.call({caseless:y},p,u):ge.isPlainObject(u)?ge.merge({},u):ge.isArray(u)?u.slice():u}function n(p,u,f,y){if(ge.isUndefined(u)){if(!ge.isUndefined(p))return a(void 0,p,f,y)}else return a(p,u,f,y)}function i(p,u){if(!ge.isUndefined(u))return a(void 0,u)}function o(p,u){if(ge.isUndefined(u)){if(!ge.isUndefined(p))return a(void 0,p)}else return a(void 0,u)}function l(p,u,f){if(f in s)return a(p,u);if(f in e)return a(void 0,p)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(p,u,f)=>n(Rg(p),Rg(u),f,!0)};return ge.forEach(Object.keys({...e,...s}),function(u){const f=c[u]||n,y=f(e[u],s[u],u);ge.isUndefined(y)&&f!==l||(r[u]=y)}),r}const Jb=e=>{const s=mn({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=zs.from(o),s.url=Hb(Xb(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ge.isFormData(r)){if(ps.hasStandardBrowserEnv||ps.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ge.isFunction(r.getHeaders)){const c=r.getHeaders(),p=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{p.includes(u.toLowerCase())&&o.set(u,f)})}}if(ps.hasStandardBrowserEnv&&(a&&ge.isFunction(a)&&(a=a(s)),a||a!==!1&&j2(s.url))){const c=n&&i&&N2.read(i);c&&o.set(n,c)}return s},_2=typeof XMLHttpRequest<"u",S2=_2&&function(e){return new Promise(function(r,a){const n=Jb(e);let i=n.data;const o=zs.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:p}=n,u,f,y,m,x;function h(){m&&m(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function b(){if(!N)return;const j=zs.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:e,request:N};Qb(function(C){r(C),h()},function(C){a(C),h()},A),N=null}"onloadend"in N?N.onloadend=b:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(b)},N.onabort=function(){N&&(a(new Je("Request aborted",Je.ECONNABORTED,e,N)),N=null)},N.onerror=function(v){const A=v&&v.message?v.message:"Network Error",E=new Je(A,Je.ERR_NETWORK,e,N);E.event=v||null,a(E),N=null},N.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||Kb;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),a(new Je(v,A.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,e,N)),N=null},i===void 0&&o.setContentType(null),"setRequestHeader"in N&&ge.forEach(o.toJSON(),function(v,A){N.setRequestHeader(A,v)}),ge.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),l&&l!=="json"&&(N.responseType=n.responseType),p&&([y,x]=$c(p,!0),N.addEventListener("progress",y)),c&&N.upload&&([f,m]=$c(c),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=j=>{N&&(a(!j||j.type?new vi(null,e,N):j),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const g=y2(n.url);if(g&&ps.protocols.indexOf(g)===-1){a(new Je("Unsupported protocol "+g+":",Je.ERR_BAD_REQUEST,e));return}N.send(i||null)})},k2=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(p){if(!n){n=!0,l();const u=p instanceof Error?p:this.reason;a.abort(u instanceof Je?u:new vi(u instanceof Error?u.message:u))}};let o=s&&setTimeout(()=>{o=null,i(new Je(`timeout ${s} of ms exceeded`,Je.ETIMEDOUT))},s);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>ge.asap(l),c}},A2=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},P2=async function*(e,s){for await(const r of E2(e))yield*A2(r,s)},E2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},$g=(e,s,r,a)=>{const n=P2(e,s);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:p,value:u}=await n.next();if(p){l(),c.close();return}let f=u.byteLength;if(r){let y=i+=f;r(y)}c.enqueue(new Uint8Array(u))}catch(p){throw l(p),p}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},Dg=64*1024,{isFunction:Pl}=ge,z2=(({Request:e,Response:s})=>({Request:e,Response:s}))(ge.global),{ReadableStream:Fg,TextEncoder:Ig}=ge.global,Lg=(e,...s)=>{try{return!!e(...s)}catch{return!1}},T2=e=>{e=ge.merge.call({skipUndefined:!0},z2,e);const{fetch:s,Request:r,Response:a}=e,n=s?Pl(s):typeof fetch=="function",i=Pl(r),o=Pl(a);if(!n)return!1;const l=n&&Pl(Fg),c=n&&(typeof Ig=="function"?(x=>h=>x.encode(h))(new Ig):async x=>new Uint8Array(await new r(x).arrayBuffer())),p=i&&l&&Lg(()=>{let x=!1;const h=new r(ps.origin,{body:new Fg,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!h}),u=o&&l&&Lg(()=>ge.isReadableStream(new a("").body)),f={stream:u&&(x=>x.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(h,N)=>{let b=h&&h[x];if(b)return b.call(h);throw new Je(`Response type '${x}' is not supported`,Je.ERR_NOT_SUPPORT,N)})});const y=async x=>{if(x==null)return 0;if(ge.isBlob(x))return x.size;if(ge.isSpecCompliantForm(x))return(await new r(ps.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(x)||ge.isArrayBuffer(x))return x.byteLength;if(ge.isURLSearchParams(x)&&(x=x+""),ge.isString(x))return(await c(x)).byteLength},m=async(x,h)=>{const N=ge.toFiniteNumber(x.getContentLength());return N??y(h)};return async x=>{let{url:h,method:N,data:b,signal:g,cancelToken:j,timeout:v,onDownloadProgress:A,onUploadProgress:E,responseType:C,headers:z,withCredentials:k="same-origin",fetchOptions:M}=Jb(x),q=s||fetch;C=C?(C+"").toLowerCase():"text";let w=k2([g,j&&j.toAbortSignal()],v),$=null;const F=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(E&&p&&N!=="get"&&N!=="head"&&(_=await m(z,b))!==0){let Y=new r(h,{method:"POST",body:b,duplex:"half"}),V;if(ge.isFormData(b)&&(V=Y.headers.get("content-type"))&&z.setContentType(V),Y.body){const[R,O]=zg(_,$c(Tg(E)));b=$g(Y.body,Dg,R,O)}}ge.isString(k)||(k=k?"include":"omit");const S=i&&"credentials"in r.prototype,P={...M,signal:w,method:N.toUpperCase(),headers:z.normalize().toJSON(),body:b,duplex:"half",credentials:S?k:void 0};$=i&&new r(h,P);let D=await(i?q($,M):q(h,P));const I=u&&(C==="stream"||C==="response");if(u&&(A||I&&F)){const Y={};["status","statusText","headers"].forEach(W=>{Y[W]=D[W]});const V=ge.toFiniteNumber(D.headers.get("content-length")),[R,O]=A&&zg(V,$c(Tg(A),!0))||[];D=new a($g(D.body,Dg,R,()=>{O&&O(),F&&F()}),Y)}C=C||"text";let U=await f[ge.findKey(f,C)||"text"](D,x);return!I&&F&&F(),await new Promise((Y,V)=>{Qb(Y,V,{data:U,headers:zs.from(D.headers),status:D.status,statusText:D.statusText,config:x,request:$})})}catch(S){throw F&&F(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,x,$),{cause:S.cause||S}):Je.from(S,S&&S.code,x,$)}}},R2=new Map,Zb=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let o=i.length,l=o,c,p,u=R2;for(;l--;)c=i[l],p=u.get(c),p===void 0&&u.set(c,p=l?new Map:T2(s)),u=p;return p};Zb();const _f={http:QC,xhr:S2,fetch:{get:Zb}};ge.forEach(_f,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Mg=e=>`- ${e}`,$2=e=>ge.isFunction(e)||e===null||e===!1;function D2(e,s){e=ge.isArray(e)?e:[e];const{length:r}=e;let a,n;const i={};for(let o=0;o<r;o++){a=e[o];let l;if(n=a,!$2(a)&&(n=_f[(l=String(a)).toLowerCase()],n===void 0))throw new Je(`Unknown adapter '${l}'`);if(n&&(ge.isFunction(n)||(n=n.get(s))))break;i[l||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Mg).join(`
`):" "+Mg(o[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const ev={getAdapter:D2,adapters:_f};function Iu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vi(null,e)}function Og(e){return Iu(e),e.headers=zs.from(e.headers),e.data=Fu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ev.getAdapter(e.adapter||el.adapter,e)(e).then(function(a){return Iu(e),a.data=Fu.call(e,e.transformResponse,a),a.headers=zs.from(a.headers),a},function(a){return Yb(a)||(Iu(e),a&&a.response&&(a.response.data=Fu.call(e,e.transformResponse,a.response),a.response.headers=zs.from(a.response.headers))),Promise.reject(a)})}const tv="1.13.2",bd={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{bd[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const Ug={};bd.transitional=function(s,r,a){function n(i,o){return"[Axios v"+tv+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(s===!1)throw new Je(n(o," has been removed"+(r?" in "+r:"")),Je.ERR_DEPRECATED);return r&&!Ug[o]&&(Ug[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};bd.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function F2(e,s,r){if(typeof e!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=s[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Je("option "+i+" must be "+c,Je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Je("Unknown option "+i,Je.ERR_BAD_OPTION)}}const Zl={assertOptions:F2,validators:bd},_r=Zl.validators;let an=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Pg,response:new Pg}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=mn(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Zl.assertOptions(a,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),n!=null&&(ge.isFunction(n)?r.paramsSerializer={serialize:n}:Zl.assertOptions(n,{encode:_r.function,serialize:_r.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zl.assertOptions(r,{baseUrl:_r.spelling("baseURL"),withXsrfToken:_r.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ge.merge(i.common,i[r.method]);i&&ge.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=zs.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(c=c&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const p=[];this.interceptors.response.forEach(function(h){p.push(h.fulfilled,h.rejected)});let u,f=0,y;if(!c){const x=[Og.bind(this),void 0];for(x.unshift(...l),x.push(...p),y=x.length,u=Promise.resolve(r);f<y;)u=u.then(x[f++],x[f++]);return u}y=l.length;let m=r;for(;f<y;){const x=l[f++],h=l[f++];try{m=x(m)}catch(N){h.call(this,N);break}}try{u=Og.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,y=p.length;f<y;)u=u.then(p[f++],p[f++]);return u}getUri(s){s=mn(this.defaults,s);const r=Xb(s.baseURL,s.url,s.allowAbsoluteUrls);return Hb(r,s.params,s.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(s){an.prototype[s]=function(r,a){return this.request(mn(a||{},{method:s,url:r,data:(a||{}).data}))}});ge.forEach(["post","put","patch"],function(s){function r(a){return function(i,o,l){return this.request(mn(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}an.prototype[s]=r(),an.prototype[s+"Form"]=r(!0)});let I2=class sv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},s(function(i,o,l){a.reason||(a.reason=new vi(i,o,l),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new sv(function(n){s=n}),cancel:s}}};function L2(e){return function(r){return e.apply(null,r)}}function M2(e){return ge.isObject(e)&&e.isAxiosError===!0}const Xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xm).forEach(([e,s])=>{Xm[s]=e});function rv(e){const s=new an(e),r=$b(an.prototype.request,s);return ge.extend(r,an.prototype,s,{allOwnKeys:!0}),ge.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return rv(mn(e,n))},r}const rt=rv(el);rt.Axios=an;rt.CanceledError=vi;rt.CancelToken=I2;rt.isCancel=Yb;rt.VERSION=tv;rt.toFormData=yd;rt.AxiosError=Je;rt.Cancel=rt.CanceledError;rt.all=function(s){return Promise.all(s)};rt.spread=L2;rt.isAxiosError=M2;rt.mergeConfig=mn;rt.AxiosHeaders=zs;rt.formToJSON=e=>Gb(ge.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=ev.getAdapter;rt.HttpStatusCode=Xm;rt.default=rt;const{Axios:mz,AxiosError:pz,CanceledError:fz,isCancel:hz,CancelToken:gz,VERSION:xz,all:yz,Cancel:bz,isAxiosError:vz,spread:jz,toFormData:Nz,AxiosHeaders:wz,HttpStatusCode:Cz,formToJSON:_z,getAdapter:Sz,mergeConfig:kz}=rt,Pr="https://aeroenix.com/v1/api",fa=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),$i=new Map,O2=(e,s,r)=>{const a=(e==null?void 0:e.toUpperCase())||"GET",n=r?JSON.stringify(r):"";return`${a}:${s}:${n}`},ne=rt.create({baseURL:Pr,headers:{"Content-Type":"application/json",Accept:"application/json"}}),U2=ne.get.bind(ne);ne.post.bind(ne);ne.put.bind(ne);ne.delete.bind(ne);ne.get=function(e,s={}){const r=O2("GET",e,s.params);if($i.has(r))return console.log(" Deduplicating request:",r),$i.get(r);const a=U2(e,s).then(n=>($i.delete(r),n)).catch(n=>{throw $i.delete(r),n});return $i.set(r,a),a};ne.interceptors.request.use(e=>{var r;const s=fa();return s&&(e.headers.Authorization=`Bearer ${s}`),console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:`${e.baseURL}${e.url}`,headers:e.headers,data:e.data,params:e.params}),e},e=>Promise.reject(e));ne.interceptors.response.use(e=>{var s;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:(s=e.config)==null?void 0:s.url,data:e.data}),e.data},e=>{var s,r,a,n,i;return console.error(" API Error:",{status:(s=e.response)==null?void 0:s.status,statusText:(r=e.response)==null?void 0:r.statusText,url:(a=e.config)==null?void 0:a.url,data:(n=e.response)==null?void 0:n.data,message:e.message}),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token")),Promise.reject(e)});const Le={getACCApplications:e=>ne.get("/admin/accs/applications",{params:e}),getACCApplication:e=>ne.get(`/admin/accs/applications/${e}`),approveACCApplication:e=>ne.put(`/admin/accs/applications/${e}/approve`),rejectACCApplication:(e,s)=>ne.put(`/admin/accs/applications/${e}/reject`,s),createACCSpace:e=>ne.post(`/admin/accs/${e}/create-space`),generateACCCredentials:e=>ne.post(`/admin/accs/${e}/generate-credentials`),listACCs:e=>ne.get("/admin/accs",{params:e}),getACCDetails:e=>ne.get(`/admin/accs/${e}`),updateACC:(e,s)=>ne.put(`/admin/accs/${e}`,s),setCommissionPercentage:(e,s)=>ne.put(`/admin/accs/${e}/commission-percentage`,s),getACCTransactions:(e,s)=>ne.get(`/admin/accs/${e}/transactions`,{params:s}),assignCategoryToACC:(e,s)=>ne.post(`/admin/accs/${e}/assign-category`,s),removeCategoryFromACC:(e,s)=>ne.delete(`/admin/accs/${e}/remove-category`,{data:s}),getACCCategories:e=>ne.get(`/admin/accs/${e}/categories`),listTrainingCenters:e=>ne.get("/admin/training-centers",{params:e}),getTrainingCenterDetails:e=>ne.get(`/admin/training-centers/${e}`),updateTrainingCenter:(e,s)=>ne.put(`/admin/training-centers/${e}`,s),getTrainingCenterApplications:e=>ne.get("/admin/training-centers/applications",{params:e}),approveTrainingCenterApplication:e=>ne.put(`/admin/training-centers/applications/${e}/approve`),rejectTrainingCenterApplication:(e,s)=>ne.put(`/admin/training-centers/applications/${e}/reject`,s),listInstructors:e=>ne.get("/admin/instructors",{params:e}),getInstructorDetails:e=>ne.get(`/admin/instructors/${e}`),updateInstructor:(e,s)=>ne.put(`/admin/instructors/${e}`,s),getPendingCommissionRequests:e=>ne.get("/admin/instructor-authorizations/pending-commission",{params:e}),setInstructorAuthorizationCommission:(e,s)=>ne.put(`/admin/instructor-authorizations/${e}/set-commission`,s),createCategory:e=>ne.post("/admin/categories",e),listCategories:e=>ne.get("/admin/categories",{params:e}),updateCategory:(e,s)=>ne.put(`/admin/categories/${e}`,s),deleteCategory:e=>ne.delete(`/admin/categories/${e}`),createSubCategory:e=>ne.post("/admin/sub-categories",e),listSubCategories:e=>ne.get("/admin/sub-categories",{params:e}),updateSubCategory:(e,s)=>ne.put(`/admin/sub-categories/${e}`,s),deleteSubCategory:e=>ne.delete(`/admin/sub-categories/${e}`),listCourses:e=>ne.get("/admin/courses",{params:e}),getCourseDetails:e=>ne.get(`/admin/courses/${e}`),createClass:e=>ne.post("/admin/classes",e),listClasses:e=>ne.get("/admin/classes",{params:e}),updateClass:(e,s)=>ne.put(`/admin/classes/${e}`,s),deleteClass:e=>ne.delete(`/admin/classes/${e}`),getDashboard:()=>ne.get("/admin/dashboard"),getFinancialDashboard:()=>ne.get("/admin/financial/dashboard"),getFinancialTransactions:e=>ne.get("/admin/financial/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/admin/financial/transactions",{params:e}),getSettlements:e=>ne.get("/admin/financial/settlements",{params:e}),requestPayment:e=>ne.post(`/admin/financial/settlements/${e}/request-payment`),getRevenueReport:e=>ne.get("/admin/reports/revenue",{params:e}),getACCsReport:e=>ne.get("/admin/reports/accs",{params:e}),getTrainingCentersReport:e=>ne.get("/admin/reports/training-centers",{params:e}),getCertificatesReport:e=>ne.get("/admin/reports/certificates",{params:e}),listStripeSettings:e=>ne.get("/admin/stripe-settings",{params:e}),getActiveStripeSetting:()=>ne.get("/admin/stripe-settings/active"),createStripeSetting:e=>ne.post("/admin/stripe-settings",e),updateStripeSetting:(e,s)=>ne.put(`/admin/stripe-settings/${e}`,s),deleteStripeSetting:e=>ne.delete(`/admin/stripe-settings/${e}`)},He={getDashboard:()=>ne.get("/acc/dashboard"),getProfile:()=>ne.get("/acc/profile"),updateProfile:e=>ne.put("/acc/profile",e),verifyStripeAccount:e=>ne.post("/acc/profile/verify-stripe-account",{stripe_account_id:e}),getSubscription:()=>ne.get("/acc/subscription"),createSubscriptionPaymentIntent:e=>ne.post("/acc/subscription/payment-intent",e),createRenewalPaymentIntent:e=>ne.post("/acc/subscription/renew-payment-intent",e),paySubscription:e=>ne.post("/acc/subscription/payment",e),renewSubscription:e=>ne.put("/acc/subscription/renew",e),getTrainingCenterRequests:e=>ne.get("/acc/training-centers/requests",{params:e}),approveTrainingCenterRequest:e=>ne.put(`/acc/training-centers/requests/${e}/approve`),rejectTrainingCenterRequest:(e,s)=>ne.put(`/acc/training-centers/requests/${e}/reject`,s),returnTrainingCenterRequest:(e,s)=>ne.put(`/acc/training-centers/requests/${e}/return`,s),listAuthorizedTrainingCenters:e=>ne.get("/acc/training-centers",{params:e}),getInstructorRequests:e=>ne.get("/acc/instructors/requests",{params:e}),approveInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/approve`,s),rejectInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/reject`,s),returnInstructorRequest:(e,s)=>ne.put(`/acc/instructors/requests/${e}/return`,s),listAuthorizedInstructors:e=>ne.get("/acc/instructors",{params:e}),createCourse:e=>ne.post("/acc/courses",e),listCourses:e=>ne.get("/acc/courses",{params:e}),getCourseDetails:e=>ne.get(`/acc/courses/${e}`),updateCourse:(e,s)=>ne.put(`/acc/courses/${e}`,s),deleteCourse:e=>ne.delete(`/acc/courses/${e}`),setCoursePricing:(e,s)=>ne.post(`/acc/courses/${e}/pricing`,s),updateCoursePricing:(e,s)=>ne.put(`/acc/courses/${e}/pricing`,s),createCertificateTemplate:e=>ne.post("/acc/certificate-templates",e),listCertificateTemplates:e=>ne.get("/acc/certificate-templates",{params:e}),getTemplateDetails:e=>ne.get(`/acc/certificate-templates/${e}`),updateTemplate:(e,s)=>ne.put(`/acc/certificate-templates/${e}`,s),deleteTemplate:e=>ne.delete(`/acc/certificate-templates/${e}`),previewTemplate:(e,s)=>ne.post(`/acc/certificate-templates/${e}/preview`,s),createDiscountCode:e=>ne.post("/acc/discount-codes",e),listDiscountCodes:e=>ne.get("/acc/discount-codes",{params:e}),getDiscountCodeDetails:e=>ne.get(`/acc/discount-codes/${e}`),updateDiscountCode:(e,s)=>ne.put(`/acc/discount-codes/${e}`,s),deleteDiscountCode:e=>ne.delete(`/acc/discount-codes/${e}`),validateDiscountCode:e=>ne.post("/acc/discount-codes/validate",e),createMaterial:e=>ne.post("/acc/materials",e),listMaterials:e=>ne.get("/acc/materials",{params:e}),getMaterialDetails:e=>ne.get(`/acc/materials/${e}`),updateMaterial:(e,s)=>ne.put(`/acc/materials/${e}`,s),deleteMaterial:e=>ne.delete(`/acc/materials/${e}`),listCertificates:e=>ne.get("/acc/certificates",{params:e}),createCertificate:e=>ne.post("/acc/certificates",e),listClasses:e=>ne.get("/acc/classes",{params:e}),getClassDetails:e=>ne.get(`/acc/classes/${e}`),getFinancialTransactions:e=>ne.get("/acc/financial/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/acc/financial/transactions",{params:e}),getSettlements:e=>ne.get("/acc/financial/settlements",{params:e}),listCategories:e=>ne.get("/acc/categories",{params:e}),getCategory:e=>ne.get(`/acc/categories/${e}`),createCategory:e=>ne.post("/acc/categories",e),updateCategory:(e,s)=>ne.put(`/acc/categories/${e}`,s),deleteCategory:e=>ne.delete(`/acc/categories/${e}`),listSubCategories:e=>ne.get("/acc/sub-categories",{params:e}),getSubCategory:e=>ne.get(`/acc/sub-categories/${e}`),createSubCategory:e=>ne.post("/acc/sub-categories",e),updateSubCategory:(e,s)=>ne.put(`/acc/sub-categories/${e}`,s),deleteSubCategory:e=>ne.delete(`/acc/sub-categories/${e}`)},Ue={getDashboard:()=>ne.get("/training-center/dashboard"),getProfile:()=>ne.get("/training-center/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${fa()}`,Accept:"application/json"};return rt.post(`${Pr}/training-center/profile?_method=PUT`,e,{headers:r}).then(a=>a.data)}return ne.put("/training-center/profile",e)},listACCs:e=>ne.get("/training-center/accs",{params:e}),requestAuthorization:(e,s)=>{const r=fa(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),rt.post(`${Pr}/training-center/accs/${e}/request-authorization`,s,{headers:a}).then(n=>n.data)},getAuthorizationStatus:e=>ne.get("/training-center/authorizations",{params:e}),createInstructor:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${fa()}`,Accept:"application/json"};return rt.post(`${Pr}/training-center/instructors`,e,{headers:r}).then(a=>a.data)}return ne.post("/training-center/instructors",e)},listInstructors:e=>ne.get("/training-center/instructors",e?{params:e}:{}),getInstructorDetails:e=>ne.get(`/training-center/instructors/${e}`),updateInstructor:(e,s)=>{if(s instanceof FormData){const a={Authorization:`Bearer ${fa()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const n=[];for(let i of s.entries())i[1]instanceof File?n.push(`${i[0]}: [File] ${i[1].name} (${i[1].size} bytes, type: ${i[1].type})`):n.push(`${i[0]}: ${i[1]} (type: ${typeof i[1]})`);return console.log(n),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${Pr}/training-center/instructors/${e}?_method=PUT`,headers:{...a,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),rt.post(`${Pr}/training-center/instructors/${e}?_method=PUT`,s,{headers:a}).then(i=>(console.log(" API Response:",{status:i.status,statusText:i.statusText,url:`/training-center/instructors/${e}`,data:i.data}),i.data)).catch(i=>{var o,l,c;throw console.error(" API Error:",{status:(o=i.response)==null?void 0:o.status,statusText:(l=i.response)==null?void 0:l.statusText,url:`/training-center/instructors/${e}`,data:(c=i.response)==null?void 0:c.data,message:i.message}),i})}return ne.put(`/training-center/instructors/${e}`,s)},deleteInstructor:e=>ne.delete(`/training-center/instructors/${e}`),requestInstructorAuthorization:(e,s)=>ne.post(`/training-center/instructors/${e}/request-authorization`,s),getSubCategoriesForACC:e=>ne.get(`/training-center/accs/${e}/sub-categories`),getCoursesForACC:(e,s)=>ne.get(`/training-center/accs/${e}/courses`,{params:s}),getInstructorAuthorizations:e=>ne.get("/training-center/instructors/authorizations",{params:e}),createInstructorAuthorizationPaymentIntent:(e,s)=>ne.post(`/training-center/instructors/authorizations/${e}/payment-intent`,s),payInstructorAuthorization:(e,s)=>ne.post(`/training-center/instructors/authorizations/${e}/pay`,s),createPaymentIntent:e=>ne.post("/training-center/codes/payment-intent",e),purchaseCodes:e=>ne.post("/training-center/codes/purchase",e),getCodeInventory:e=>ne.get("/training-center/codes/inventory",{params:e}),getCodeBatches:e=>ne.get("/training-center/codes/batches",{params:e}),addFunds:e=>ne.post("/training-center/wallet/add-funds",e),getWalletBalance:()=>ne.get("/training-center/wallet/balance"),getWalletTransactions:e=>ne.get("/training-center/wallet/transactions",{params:e}),getPaymentTransactions:e=>ne.get("/training-center/financial/transactions",{params:e}),createClass:e=>ne.post("/training-center/classes",e),listClasses:e=>ne.get("/training-center/classes",{params:e}),getClassDetails:e=>ne.get(`/training-center/classes/${e}`),updateClass:(e,s)=>ne.put(`/training-center/classes/${e}`,s),deleteClass:e=>ne.delete(`/training-center/classes/${e}`),markClassComplete:e=>ne.put(`/training-center/classes/${e}/complete`),generateCertificate:e=>ne.post("/training-center/certificates/generate",e),listCertificates:e=>ne.get("/training-center/certificates",{params:e}),getCertificateDetails:e=>ne.get(`/training-center/certificates/${e}`),browseMaterials:e=>ne.get("/training-center/marketplace/materials",{params:e}),getMaterialDetails:e=>ne.get(`/training-center/marketplace/materials/${e}`),purchaseFromMarketplace:e=>ne.post("/training-center/marketplace/purchase",e),getLibrary:e=>ne.get("/training-center/library",{params:e}),createTrainee:e=>{const s=fa(),r={Accept:"application/json"};return s&&(r.Authorization=`Bearer ${s}`),rt.post(`${Pr}/training-center/trainees`,e,{headers:r}).then(a=>a.data)},listTrainees:e=>ne.get("/training-center/trainees",{params:e}),getTraineeDetails:e=>ne.get(`/training-center/trainees/${e}`),updateTrainee:(e,s)=>{const r=fa(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),rt.put(`${Pr}/training-center/trainees/${e}`,s,{headers:a}).then(n=>n.data)},deleteTrainee:e=>ne.delete(`/training-center/trainees/${e}`)},Ss={getDashboard:()=>ne.get("/instructor/dashboard"),getProfile:()=>ne.get("/instructor/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${fa()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const a=[];for(let n of e.entries())n[1]instanceof File?a.push(`${n[0]}: [File] ${n[1].name} (${n[1].size} bytes, type: ${n[1].type})`):a.push(`${n[0]}: ${n[1]} (type: ${typeof n[1]})`);return console.log(a),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${Pr}/instructor/profile?_method=PUT`,headers:{...r,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),rt.post(`${Pr}/instructor/profile?_method=PUT`,e,{headers:r}).then(n=>(console.log(" API Response:",{status:n.status,statusText:n.statusText,url:"/instructor/profile",data:n.data}),n.data)).catch(n=>{var i,o,l;throw console.error(" API Error:",{status:(i=n.response)==null?void 0:i.status,statusText:(o=n.response)==null?void 0:o.statusText,url:"/instructor/profile",data:(l=n.response)==null?void 0:l.data,message:n.message}),n})}return ne.put("/instructor/profile",e)},listClasses:e=>ne.get("/instructor/classes",{params:e}),getClassDetails:e=>ne.get(`/instructor/classes/${e}`),markClassComplete:(e,s)=>ne.put(`/instructor/classes/${e}/mark-complete`,s),getTrainingCenters:()=>ne.get("/instructor/training-centers"),getACCs:()=>ne.get("/instructor/accs"),getAvailableMaterials:e=>ne.get("/instructor/materials",{params:e}),getEarnings:e=>ne.get("/instructor/earnings",{params:e})},Io={getCountries:()=>ne.get("/countries"),getCities:e=>ne.get("/cities",{params:e?{country:e}:{}}),verifyCertificate:e=>ne.get(`/certificates/verify/${e}`)},av={getConfig:()=>ne.get("/stripe/config"),createPaymentIntent:e=>ne.post("/stripe/payment-intent",e),confirmPayment:e=>ne.post("/stripe/confirm",e)},Os={login:e=>ne.post("/auth/login",e),register:e=>ne.post("/auth/register",e),logout:()=>ne.post("/auth/logout"),getProfile:()=>ne.get("/auth/profile"),updateProfile:e=>ne.put("/auth/profile",e),changePassword:e=>ne.put("/auth/change-password",e),forgotPassword:e=>ne.post("/auth/forgot-password",e),resetPassword:e=>ne.post("/auth/reset-password",e)},ua={getNotifications:e=>ne.get("/notifications",{params:e}),getUnreadCount:()=>ne.get("/notifications/unread-count"),getNotification:e=>ne.get(`/notifications/${e}`),markAsRead:e=>ne.put(`/notifications/${e}/read`),markAsUnread:e=>ne.put(`/notifications/${e}/unread`),markAllAsRead:()=>ne.post("/notifications/mark-all-read"),deleteNotification:e=>ne.delete(`/notifications/${e}`),deleteAllRead:()=>ne.delete("/notifications/read")},B2=Object.freeze(Object.defineProperty({__proto__:null,accAPI:He,adminAPI:Le,authAPI:Os,instructorAPI:Ss,notificationsAPI:ua,publicAPI:Io,stripeAPI:av,trainingCenterAPI:Ue},Symbol.toStringTag,{value:"Module"})),Nn=e=>{e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},ec=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),nv=d.createContext(null),or=()=>{const e=d.useContext(nv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},q2=({children:e})=>{const[s,r]=d.useState(null),[a,n]=d.useState(!0),[i,o]=d.useState(!1),l=d.useRef(!1),c=d.useRef(!1);d.useEffect(()=>{c.current||(c.current=!0,p())},[]);const p=async()=>{var g;if(l.current){console.log(" Auth check already in progress, skipping duplicate request");return}l.current=!0;try{if(n(!0),ec())try{const v=await Os.getProfile();v.user?(r(v.user),o(!0)):(Nn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1))}catch(v){((g=v.response)==null?void 0:g.status)===401?(Nn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1)):(console.error("Profile fetch error:",v),r(null),o(!1))}else r(null),o(!1)}catch(j){console.error("Auth check failed:",j),r(null),o(!1)}finally{n(!1),l.current=!1}},u=async(g,j)=>{var v,A,E,C,z,k,M,q,w,$,F;try{const _=await Os.login({email:g,password:j});return _.token?(((v=_.user)==null?void 0:v.role)==="acc_admin"&&(((A=_.user)==null?void 0:A.status)==="pending"||((E=_.user)==null?void 0:E.status)==="inactive")?(sessionStorage.setItem("auth_token",_.token),sessionStorage.setItem("token",_.token)):Nn(_.token),r(_.user),o(!0),{success:!0,data:_,isActive:((C=_.user)==null?void 0:C.status)==="active",userStatus:(z=_.user)==null?void 0:z.status}):{success:!1,error:"Login failed. Please try again."}}catch(_){console.error("Login error:",_);let S="Login failed. Please try again.";if((M=(k=_.response)==null?void 0:k.data)!=null&&M.message)S=_.response.data.message;else if((w=(q=_.response)==null?void 0:q.data)!=null&&w.error)S=_.response.data.error;else if((F=($=_.response)==null?void 0:$.data)!=null&&F.errors){const P=_.response.data.errors,D=Object.values(P)[0];S=Array.isArray(D)?D[0]:D}else _.message&&(S=_.message);return{success:!1,error:S}}},f=async(g,j,v,A,E)=>{var C,z,k,M,q,w,$,F;try{const _=await Os.register({name:g,email:j,password:v,password_confirmation:A,role:E});return _.token?(Nn(_.token),r(_.user),o(!0),{success:!0,data:_,isActive:((C=_.user)==null?void 0:C.status)==="active",userStatus:(z=_.user)==null?void 0:z.status}):{success:!1,error:"Registration failed. Please try again."}}catch(_){console.error("Register error:",_);let S="Registration failed. Please try again.";if((M=(k=_.response)==null?void 0:k.data)!=null&&M.message)S=_.response.data.message;else if((w=(q=_.response)==null?void 0:q.data)!=null&&w.error)S=_.response.data.error;else if((F=($=_.response)==null?void 0:$.data)!=null&&F.errors){const P=_.response.data.errors,D=Object.values(P)[0];S=Array.isArray(D)?D[0]:D}else _.message&&(S=_.message);return{success:!1,error:S}}},y=async()=>{try{if((s==null?void 0:s.role)==="acc_admin"&&((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="inactive")){sessionStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("token"),Nn(null),r(null),o(!1);return}await Os.logout()}catch(g){console.error("Logout error:",g)}finally{Nn(null),r(null),o(!1),localStorage.removeItem("sidebarOpen"),localStorage.removeItem("sidebarCollapsed")}},m=g=>{r(g)},x=async g=>{var j,v;try{return{success:!0,data:await Os.forgotPassword({email:g})}}catch(A){let E="Failed to send reset email. Please try again.";return(v=(j=A.response)==null?void 0:j.data)!=null&&v.message&&(E=A.response.data.message),{success:!1,error:E}}},h=async(g,j,v,A)=>{var E,C,z,k,M,q;try{return{success:!0,data:await Os.resetPassword({token:g,email:j,password:v,password_confirmation:A})}}catch(w){let $="Failed to reset password. Please try again.";if((C=(E=w.response)==null?void 0:E.data)!=null&&C.message)$=w.response.data.message;else if((k=(z=w.response)==null?void 0:z.data)!=null&&k.error)$=w.response.data.error;else if((q=(M=w.response)==null?void 0:M.data)!=null&&q.errors){const F=w.response.data.errors,_=Object.values(F)[0];$=Array.isArray(_)?_[0]:_}return{success:!1,error:$}}},N=async()=>{try{const g=await Os.getProfile();g.user&&(r(g.user),o(!0))}catch(g){console.error("Failed to refresh user:",g)}},b=d.useMemo(()=>({user:s,loading:a,isAuthenticated:i,login:u,register:f,logout:y,updateUser:m,checkAuth:p,forgotPassword:x,resetPassword:h,refreshUser:N}),[s,a,i]);return t.jsx(nv.Provider,{value:b,children:e})},iv=d.createContext(null),it=()=>{const e=d.useContext(iv);return e||{setHeaderActions:()=>{},setHeaderTitle:()=>{},setHeaderSubtitle:()=>{},headerActions:null,headerTitle:null,headerSubtitle:null}},V2=({children:e})=>{const[s,r]=d.useState(null),[a,n]=d.useState(null),[i,o]=d.useState(null),l=d.useCallback(f=>{r(f)},[]),c=d.useCallback(f=>{n(f)},[]),p=d.useCallback(f=>{o(f)},[]),u=d.useMemo(()=>({headerActions:s,headerTitle:a,headerSubtitle:i,setHeaderActions:l,setHeaderTitle:c,setHeaderSubtitle:p}),[s,a,i]);return t.jsx(iv.Provider,{value:u,children:e})},ov=d.createContext(null),W2=()=>{const e=d.useContext(ov);if(!e)throw new Error("useNotificationsContext must be used within a NotificationsProvider");return e},H2=({children:e})=>{const[s,r]=d.useState([]),[a,n]=d.useState(0),[i,o]=d.useState(!1),[l,c]=d.useState(null),[p,u]=d.useState({currentPage:1,lastPage:1,perPage:15,total:0}),f=d.useRef(!1),y=d.useRef(!1),m=d.useCallback(async(A={},E=1,C=15)=>{if(y.current){console.log(" Notifications fetch already in progress, skipping duplicate request");return}y.current=!0,o(!0),c(null);try{const z={...A,page:E,per_page:C},k=await ua.getNotifications(z);if(k.success){const M=k.notifications||[];r(M),n(k.unread_count||0),k.pagination&&u({currentPage:k.pagination.current_page||E,lastPage:k.pagination.last_page||1,perPage:k.pagination.per_page||C,total:k.pagination.total||0})}}catch(z){console.error("Failed to fetch notifications:",z),c(z.message||"Failed to fetch notifications")}finally{o(!1),y.current=!1}},[]),x=d.useCallback(async()=>{try{const A=await ua.getUnreadCount();A.success&&n(A.unread_count||0)}catch{}},[]),h=d.useCallback(async A=>{try{const E=await ua.markAsRead(A);E.success&&(r(C=>C.map(z=>{var k;return z.id===A?{...z,is_read:!0,read_at:((k=E.notification)==null?void 0:k.read_at)||new Date().toISOString()}:z})),n(C=>Math.max(0,C-1)))}catch(E){throw console.error("Failed to mark as read:",E),E}},[]),N=d.useCallback(async A=>{try{(await ua.markAsUnread(A)).success&&(r(C=>C.map(z=>z.id===A?{...z,is_read:!1,read_at:null}:z)),n(C=>C+1))}catch(E){throw console.error("Failed to mark as unread:",E),E}},[]),b=d.useCallback(async()=>{try{(await ua.markAllAsRead()).success&&(r(E=>E.map(C=>({...C,is_read:!0}))),n(0))}catch(A){throw console.error("Failed to mark all as read:",A),A}},[]),g=d.useCallback(async A=>{try{(await ua.deleteNotification(A)).success&&r(C=>{const z=C.find(q=>q.id===A),k=z&&!z.is_read,M=C.filter(q=>q.id!==A);return k&&n(q=>Math.max(0,q-1)),M})}catch(E){throw console.error("Failed to delete notification:",E),E}},[]),j=d.useCallback(async()=>{try{(await ua.deleteAllRead()).success&&r(E=>E.filter(C=>!C.is_read))}catch(A){throw console.error("Failed to delete all read notifications:",A),A}},[]);d.useEffect(()=>{f.current||(f.current=!0,m({},1,15))},[m]);const v={notifications:s,unreadCount:a,loading:i,error:l,pagination:p,fetchNotifications:m,fetchUnreadCount:x,markAsRead:h,markAsUnread:N,markAllAsRead:b,deleteNotification:g,deleteAllRead:j,refresh:()=>m({},p.currentPage,p.perPage)};return t.jsx(ov.Provider,{value:v,children:e})},Ba=({children:e,allowedRoles:s=[],allowPending:r=!1})=>{const{isAuthenticated:a,user:n,loading:i}=or();return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?!r&&((n==null?void 0:n.role)==="acc_admin"||(n==null?void 0:n.role)==="training_center_admin")&&(n==null?void 0:n.status)!=="active"?t.jsx(Ql,{to:"/pending-account",replace:!0}):s.length>0&&!s.includes(n==null?void 0:n.role)?t.jsx(Ql,{to:"/unauthorized",replace:!0}):e:t.jsx(Ql,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(e,s)=>{const r=d.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...p},u)=>d.createElement("svg",{ref:u,...K2,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${G2(e)}`,l].join(" "),...p},[...s.map(([f,y])=>d.createElement(f,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Ee("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ee("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ee("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ee("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Ee("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Ee("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ee("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Ee("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ee("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ee("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Ee("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Ee("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ee("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yg=()=>{const[e,s]=d.useState(!1),[r,a]=d.useState({top:0,right:0}),n=d.useRef(null),i=d.useRef(null),{notifications:o,unreadCount:l,loading:c,markAsRead:p,markAllAsRead:u,deleteNotification:f,deleteAllRead:y,fetchNotifications:m}=W2();d.useEffect(()=>{if(e&&n.current){const A=n.current.getBoundingClientRect(),E=400,C=window.innerWidth-32,z=Math.min(E,C);let k=window.innerWidth-A.right;k+z>window.innerWidth-16&&(k=16),a({top:A.bottom+12,right:k}),c||m({},1,15)}},[e]),d.useEffect(()=>{const A=E=>{n.current&&!n.current.contains(E.target)&&i.current&&!i.current.contains(E.target)&&s(!1)};return e&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[e]);const x=async A=>{if(!A.is_read)try{await p(A.id)}catch(E){console.error("Failed to mark notification as read:",E)}},h=async()=>{try{await u()}catch(A){console.error("Failed to mark all as read:",A)}},N=async(A,E)=>{A.stopPropagation();try{await f(E)}catch(C){console.error("Failed to delete notification:",C)}},b=async()=>{try{await y()}catch(A){console.error("Failed to delete all read notifications:",A)}},g=A=>{const E=new Date(A),z=Math.floor((new Date-E)/1e3);return z<60?"Just now":z<3600?`${Math.floor(z/60)}m ago`:z<86400?`${Math.floor(z/3600)}h ago`:z<604800?`${Math.floor(z/86400)}d ago`:E.toLocaleDateString()},j=o.filter(A=>!A.is_read),v=o.filter(A=>A.is_read);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"notification-bell-container",ref:n,children:t.jsxs("button",{onClick:()=>s(!e),className:"notification-bell-button","aria-label":"Notifications",children:[t.jsx(Bg,{size:20}),l>0&&t.jsx("span",{className:"notification-badge",children:l>99?"99+":l})]})}),e&&t.jsxs("div",{className:"notification-dropdown",ref:i,style:{top:`${r.top}px`,right:`${r.right}px`},children:[t.jsxs("div",{className:"notification-header",children:[t.jsx("h3",{className:"notification-title",children:"Notifications"}),t.jsxs("div",{className:"notification-actions",children:[l>0&&t.jsx("button",{onClick:h,className:"notification-action-btn",title:"Mark all as read",children:t.jsx(Z2,{size:16})}),v.length>0&&t.jsx("button",{onClick:b,className:"notification-action-btn",title:"Delete all read",children:t.jsx(ar,{size:16})}),t.jsx("button",{onClick:()=>s(!1),className:"notification-action-btn",title:"Close",children:t.jsx(Vs,{size:16})})]})]}),t.jsx("div",{className:"notification-list",children:c&&o.length===0?t.jsx("div",{className:"notification-empty",children:t.jsx("div",{className:"notification-loading",children:"Loading notifications..."})}):o.length===0?t.jsxs("div",{className:"notification-empty",children:[t.jsx(Bg,{size:48,className:"notification-empty-icon"}),t.jsx("p",{className:"notification-empty-text",children:"No notifications"})]}):t.jsxs(t.Fragment,{children:[j.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Unread"}),j.map(A=>t.jsxs("div",{className:"notification-item unread",onClick:()=>x(A),children:[t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:A.title}),t.jsx("button",{onClick:E=>N(E,A.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(Vs,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:A.message}),t.jsxs("div",{className:"notification-item-footer",children:[t.jsx("span",{className:"notification-item-time",children:g(A.created_at)}),t.jsx("div",{className:"notification-item-actions",children:t.jsx("button",{onClick:E=>{E.stopPropagation(),p(A.id)},className:"notification-item-action",title:"Mark as read",children:t.jsx(t_,{size:14})})})]})]}),t.jsx("div",{className:"notification-indicator"})]},A.id))]}),v.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Read"}),v.map(A=>t.jsx("div",{className:"notification-item",onClick:()=>x(A),children:t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:A.title}),t.jsx("button",{onClick:E=>N(E,A.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(Vs,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:A.message}),t.jsx("div",{className:"notification-item-footer",children:t.jsx("span",{className:"notification-item-time",children:g(A.created_at)})})]})},A.id))]})]})})]})]})},Pn=({children:e})=>{var z;const{user:s,logout:r}=or(),{headerActions:a,headerTitle:n,headerSubtitle:i}=it(),o=jr(),l=Ua(),[c,p]=d.useState(null),[u,f]=d.useState(!1);d.useEffect(()=>{(async()=>{var M;if((s==null?void 0:s.role)==="instructor")try{const q=await Ss.getDashboard(),w=((M=q==null?void 0:q.profile)==null?void 0:M.is_assessor)||(q==null?void 0:q.is_assessor)||!1;f(w===!0||w==="true"||w===1)}catch(q){console.error("Failed to load instructor assessor status:",q),f((s==null?void 0:s.is_assessor)===!0||(s==null?void 0:s.is_assessor)==="true"||(s==null?void 0:s.is_assessor)===1)}else f(!1)})()},[s]);const[y,m]=d.useState(()=>{const k=localStorage.getItem("sidebarOpen");return k!==null?JSON.parse(k):!0}),[x,h]=d.useState(()=>{const k=localStorage.getItem("sidebarCollapsed");return k!==null?JSON.parse(k):!1}),[N,b]=d.useState(()=>{const k=localStorage.getItem("expandedGroups");return k?JSON.parse(k):{}});d.useEffect(()=>{localStorage.setItem("expandedGroups",JSON.stringify(N))},[N]);const g=k=>{b(M=>({...M,[k]:!M[k]}))};if(d.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(y))},[y]),d.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(x))},[x]),d.useEffect(()=>{s&&(async()=>{if((s==null?void 0:s.role)==="acc_admin")try{const q=(await He.getSubscription()).subscription;if(q&&q.subscription_end_date){const w=new Date(q.subscription_end_date);p(w>new Date)}else p(!1)}catch(M){console.error("Failed to load subscription:",M),p(!1)}else p(!0)})()},[s]),l.pathname==="/pending-account")return e;d.useEffect(()=>{(s==null?void 0:s.role)==="acc_admin"&&c===!1&&(["/acc/subscription","/profile"].some(M=>l.pathname.startsWith(M))||o("/acc/subscription"))},[s,c,l.pathname,o]);const j=async()=>{await r(),o("/login")},A=(()=>{const k=[{type:"single",path:"/dashboard",icon:o_,label:"Dashboard"}];switch(s==null?void 0:s.role){case"group_admin":return[...k,{type:"group",key:"acc-management",icon:Ie,label:"ACC Management",items:[{path:"/admin/accs",icon:qg,label:"ACC Applications"},{path:"/admin/training-center-applications",icon:qg,label:"TC Applications"},{path:"/admin/all-accs",icon:Ie,label:"Accreditation Bodies"}]},{type:"group",key:"training-management",icon:nt,label:"Training & Instructors",items:[{path:"/admin/all-training-centers",icon:Lo,label:"Training Centers"},{path:"/admin/all-instructors",icon:nt,label:"Instructors"},{path:"/admin/instructor-authorizations",icon:co,label:"Instructor Commissions"}]},{type:"group",key:"courses-management",icon:Zt,label:"Courses & Categories",items:[{path:"/admin/all-courses",icon:Zt,label:"Courses"},{path:"/admin/categories",icon:Wg,label:"Course Categories"}]},{type:"group",key:"financial-settings",icon:tr,label:"Financial & Settings",items:[{path:"/admin/financial",icon:tr,label:"Financial"},{path:"/admin/payment-transactions",icon:yr,label:"Payment Transactions"},{path:"/admin/stripe-settings",icon:m_,label:"Stripe Settings"}]}];case"acc_admin":return c===!1?[{type:"single",path:"/acc/subscription",icon:tr,label:"Subscription"}]:[...k,{type:"single",path:"/acc/subscription",icon:tr,label:"Subscription"},{type:"group",key:"management",icon:nt,label:"Management",items:[{path:"/acc/training-centers",icon:Ie,label:"Training Centers"},{path:"/acc/instructors",icon:nt,label:"Instructors"}]},{type:"group",key:"courses-content",icon:Zt,label:"Courses & Content",items:[{path:"/acc/courses",icon:Zt,label:"Courses"},{path:"/acc/classes",icon:Lo,label:"Classes"},{path:"/acc/certificates",icon:Mr,label:"Certificates"},{path:"/acc/discount-codes",icon:Mo,label:"Discount Codes"},{path:"/acc/categories",icon:Wg,label:"Course Categories"}]},{type:"group",key:"financial",icon:tr,label:"Financial",items:[{path:"/acc/payment-transactions",icon:yr,label:"Payment Transactions"}]}];case"training_center_admin":return[...k,{type:"single",path:"/training-center/accs",icon:Ie,label:"Accreditation Bodies"},{type:"group",key:"people-management",icon:nt,label:"People Management",items:[{path:"/training-center/instructors",icon:nt,label:"Instructors"},{path:"/training-center/trainees",icon:co,label:"Trainees"},{path:"/training-center/instructor-authorizations",icon:co,label:"Instructor Auth"}]},{type:"group",key:"courses-classes",icon:Zt,label:"Courses & Classes",items:[{path:"/training-center/classes",icon:Zt,label:"Classes"},{path:"/training-center/certificates",icon:Mr,label:"Certificates"}]},{type:"group",key:"financial",icon:p_,label:"Financial",items:[{path:"/training-center/codes",icon:Mo,label:"Codes"},{path:"/training-center/payment-transactions",icon:yr,label:"Payment Transactions"}]}];case"instructor":return[...k,{type:"single",path:"/instructor/classes",icon:Zt,label:"Classes"}];default:return k}})(),E=()=>{if(n)return n;const k=l.pathname;if(k==="/dashboard")return"Dashboard";if(k==="/admin/accs")return"ACC Applications";if(k==="/admin/training-center-applications")return"TC Applications";if(k==="/admin/all-accs")return"Accreditation Bodies";if(k==="/admin/all-training-centers")return"Training Centers";if(k==="/admin/all-instructors")return"Instructors";if(k==="/admin/all-courses")return"Courses";if(k==="/admin/categories")return"Course Categories";if(k==="/admin/instructor-authorizations")return"Instructor Commissions";if(k==="/admin/financial")return"Financial";if(k==="/admin/payment-transactions")return"Payment Transactions";if(k==="/admin/stripe-settings")return"Stripe Settings";if(k==="/acc/dashboard")return"Dashboard";if(k==="/acc/subscription")return"Subscription Management";if(k==="/acc/training-centers")return"Training Centers";if(k==="/acc/instructors")return"Instructors";if(k==="/acc/courses")return"Courses";if(k==="/acc/certificates")return"Certificates";if(k==="/acc/materials")return"Materials";if(k==="/acc/discount-codes")return"Discount Codes";if(k==="/acc/categories")return"Course Categories";if(k==="/acc/classes")return"Classes";if(k==="/acc/payment-transactions")return"Payment Transactions";if(k==="/training-center/dashboard")return"Dashboard";if(k==="/training-center/accs")return"Accreditation Bodies";if(k==="/training-center/instructors")return"Instructors";if(k==="/training-center/trainees")return"Trainees";if(k==="/training-center/classes")return"Classes";if(k==="/training-center/codes")return"Codes";if(k==="/training-center/certificates")return"Certificates";if(k==="/training-center/instructor-authorizations")return"Instructor Authorizations";if(k==="/training-center/payment-transactions"||k==="/training-center/wallet")return"Payment Transactions";if(k==="/training-center/marketplace")return"Marketplace";if(k==="/instructor/dashboard")return"Dashboard";if(k==="/instructor/classes")return"Classes";if(k==="/instructor/materials")return"Materials";if(k==="/instructor/earnings")return"Earnings";if(k==="/profile")return"Profile";const M=k.split("/").filter(Boolean);return M.length>0?M[M.length-1].split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "):"Dashboard"},C=()=>{if(i)return i;const k=l.pathname;return k==="/dashboard"||k==="/acc/dashboard"||k==="/training-center/dashboard"||k==="/instructor/dashboard"?"Welcome back! Here's your overview":k==="/profile"?"Manage your account settings and preferences":"Manage and view your information"};return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-sm shadow-lg px-4 py-3 flex items-center justify-between layout-gradient-primary",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Yg,{}),t.jsx("button",{onClick:()=>m(!y),className:"p-2 rounded-lg text-white/80 sidebar-hover transition-all duration-200 hover:scale-110",children:y?t.jsx(Vs,{size:24}):t.jsx(l_,{size:24})})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 border-r shadow-xl lg:shadow-none transform transition-all duration-300 ease-out layout-gradient-sidebar ${y?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${x?"w-16":"w-64"}`,style:{overflow:"visible"},children:t.jsxs("div",{className:"flex flex-col h-full max-h-screen overflow-visible",children:[t.jsx("div",{className:`flex-shrink-0 border-b animate-slide-down layout-section-bg ${x?"p-3":"p-4"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[!x&&t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsx("p",{className:"text-xs text-primary-100 mt-1 font-medium truncate",children:(s==null?void 0:s.name)||"User"}),t.jsx("p",{className:"text-xs text-primary-200 mt-0.5 capitalize",children:(s==null?void 0:s.role)==="instructor"?u?"Assessor":"Instructor":((z=s==null?void 0:s.role)==null?void 0:z.replace("_"," "))||""})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>h(!x),className:`p-1.5 rounded-lg text-white/70 sidebar-hover transition-all duration-200 hover:scale-110 ${x?"w-full flex justify-center":""}`,title:x?"Expand sidebar":"Collapse sidebar",children:x?t.jsx(cv,{size:16}):t.jsx(lv,{size:16})})})]})}),t.jsx("nav",{className:`flex-1 min-h-0 ${x?"p-2 overflow-visible":"p-4 overflow-y-auto custom-scrollbar"}`,style:x?{overflowX:"visible",overflowY:"visible"}:{overflowX:"visible"},children:t.jsx("ul",{className:"space-y-1.5",style:{overflow:"visible"},children:A.map((k,M)=>{if(k.type==="single"){const q=k.icon,w=l.pathname===k.path;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${M*.03}s`,overflow:"visible"},children:x?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx(Al,{to:k.path,onClick:()=>{m(!1),h(!1)},className:`flex items-center rounded-xl transition-all duration-200 ease-out relative px-2 py-2 justify-center w-full group-hover-trigger ${w?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:bg-white/10"}`,children:q&&t.jsx(q,{size:20,className:`transition-all duration-200 flex-shrink-0 ${w?"scale-110":"group-hover:scale-110"}`})}),t.jsx("div",{className:"sidebar-tooltip",children:k.label})]}):t.jsxs(Al,{to:k.path,onClick:()=>m(!1),className:`flex items-center rounded-xl transition-all duration-200 ease-out relative group px-4 py-3 min-w-0 ${w?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:scale-105 hover:shadow-md"}`,children:[q&&t.jsx(q,{size:20,className:`transition-all duration-200 flex-shrink-0 mr-3 ${w?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:k.label}),w&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"}),!w&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white/50 rounded-r-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},`${k.path}-${M}`)}else if(k.type==="group"){const q=k.icon,w=k.items.some(F=>l.pathname===F.path),$=N[k.key]!==!1;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${M*.03}s`,overflow:"visible"},children:x?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx("button",{onClick:()=>h(!1),className:"px-2 py-2 flex justify-center w-full rounded-xl transition-all duration-200 hover:bg-white/10 nav-item-hover group-hover-trigger",children:t.jsx(q,{size:20,className:"text-white/80"})}),t.jsx("div",{className:"sidebar-tooltip",children:k.label})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>g(k.key),className:`w-full flex items-center px-3 py-2 rounded-xl transition-all duration-200 ease-out relative group ${w?"bg-white/10 backdrop-blur-sm":"text-white/80 nav-item-hover hover:bg-white/5"}`,children:[q&&t.jsx(q,{size:20,className:"transition-all duration-200 flex-shrink-0 mr-3 group-hover:scale-110 text-white/80"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap flex-1 min-w-0 text-left text-white/80",children:k.label}),$?t.jsx(ht,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"}):t.jsx(ft,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"})]}),$&&t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 pl-3 border-l-2 border-white/10",children:k.items.map((F,_)=>{const S=F.icon,P=l.pathname===F.path;return t.jsx("li",{children:t.jsxs(Al,{to:F.path,onClick:()=>m(!1),className:`flex items-center px-2 py-1.5 rounded-lg transition-all duration-200 ease-out relative group ${P?"text-[var(--tertiary-color)]":"text-white/70 nav-item-hover hover:bg-white/10 hover:text-white"}`,children:[S&&t.jsx(S,{size:18,className:"transition-all duration-200 flex-shrink-0 mr-2.5 group-hover:scale-110"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:F.label}),P&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"})]})},`${F.path}-${_}`)})})]})},k.key)}return null})})}),t.jsxs("div",{className:"flex-shrink-0 p-3 border-t animate-slide-up layout-section-bg",children:[t.jsxs(Al,{to:"/profile",className:`flex items-center px-3 py-2 rounded-lg text-white/80 sidebar-hover mb-1.5 transition-all duration-200 hover:scale-105 group ${x?"justify-center":""}`,title:x?"Settings":"",children:[t.jsx(d_,{size:16,className:`transition-transform duration-200 group-hover:rotate-90 flex-shrink-0 ${x?"":"mr-2"}`}),!x&&t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),t.jsxs("button",{onClick:j,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-300 hover:bg-red-500/20 transition-all duration-200 hover:scale-105 group ${x?"justify-center":""}`,title:x?"Logout":"",children:[t.jsx(dv,{size:16,className:`transition-transform duration-200 group-hover:translate-x-1 flex-shrink-0 ${x?"":"mr-2"}`}),!x&&t.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300 overflow-y-auto h-screen lg:ml-0",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full px-8",children:t.jsxs("div",{className:"rounded-b-2xl shadow-xl p-4 lg:p-6 relative overflow-hidden screen-header-gradient",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 screen-pattern-overlay"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:E()}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:C()})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a&&t.jsx("div",{className:"flex items-center gap-2",children:a}),t.jsx(Yg,{})]})]})]})}),t.jsx("main",{className:"p-4 lg:p-9 animate-fade-in min-h-full",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),y&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden animate-fade-in",onClick:()=>m(!1)})]})},Oo={black:"#000",white:"#fff"},wn={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cn={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},_n={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Sn={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},kn={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Di={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},f_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function na(e,...s){const r=new URL(`https://mui.com/production-error/?code=${e}`);return s.forEach(a=>r.searchParams.append("args[]",a)),`Minified MUI error #${e}; visit ${r} for the full message.`}const jd="$$material";function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Mc.apply(null,arguments)}function h_(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]}function g_(e){var s=document.createElement("style");return s.setAttribute("data-emotion",e.key),e.nonce!==void 0&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var x_=function(){function e(r){var a=this;this._insertTag=function(n){var i;a.tags.length===0?a.insertionPoint?i=a.insertionPoint.nextSibling:a.prepend?i=a.container.firstChild:i=a.before:i=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(n,i),a.tags.push(n)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var s=e.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(g_(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=h_(n);try{i.insertRule(a,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var n;return(n=a.parentNode)==null?void 0:n.removeChild(a)}),this.tags=[],this.ctr=0},e}(),ds="-ms-",Oc="-moz-",dt="-webkit-",mv="comm",kf="rule",Af="decl",y_="@import",pv="@keyframes",b_="@layer",v_=Math.abs,Nd=String.fromCharCode,j_=Object.assign;function N_(e,s){return ns(e,0)^45?(((s<<2^ns(e,0))<<2^ns(e,1))<<2^ns(e,2))<<2^ns(e,3):0}function fv(e){return e.trim()}function w_(e,s){return(e=s.exec(e))?e[0]:e}function ut(e,s,r){return e.replace(s,r)}function ep(e,s){return e.indexOf(s)}function ns(e,s){return e.charCodeAt(s)|0}function Uo(e,s,r){return e.slice(s,r)}function Er(e){return e.length}function Pf(e){return e.length}function El(e,s){return s.push(e),e}function C_(e,s){return e.map(s).join("")}var wd=1,ci=1,hv=0,$s=0,Wt=0,ji="";function Cd(e,s,r,a,n,i,o){return{value:e,root:s,parent:r,type:a,props:n,children:i,line:wd,column:ci,length:o,return:""}}function Fi(e,s){return j_(Cd("",null,null,"",null,null,0),e,{length:-e.length},s)}function __(){return Wt}function S_(){return Wt=$s>0?ns(ji,--$s):0,ci--,Wt===10&&(ci=1,wd--),Wt}function Ws(){return Wt=$s<hv?ns(ji,$s++):0,ci++,Wt===10&&(ci=1,wd++),Wt}function Lr(){return ns(ji,$s)}function sc(){return $s}function tl(e,s){return Uo(ji,e,s)}function Bo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gv(e){return wd=ci=1,hv=Er(ji=e),$s=0,[]}function xv(e){return ji="",e}function rc(e){return fv(tl($s-1,tp(e===91?e+2:e===40?e+1:e)))}function k_(e){for(;(Wt=Lr())&&Wt<33;)Ws();return Bo(e)>2||Bo(Wt)>3?"":" "}function A_(e,s){for(;--s&&Ws()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return tl(e,sc()+(s<6&&Lr()==32&&Ws()==32))}function tp(e){for(;Ws();)switch(Wt){case e:return $s;case 34:case 39:e!==34&&e!==39&&tp(Wt);break;case 40:e===41&&tp(e);break;case 92:Ws();break}return $s}function P_(e,s){for(;Ws()&&e+Wt!==57;)if(e+Wt===84&&Lr()===47)break;return"/*"+tl(s,$s-1)+"*"+Nd(e===47?e:Ws())}function E_(e){for(;!Bo(Lr());)Ws();return tl(e,$s)}function z_(e){return xv(ac("",null,null,null,[""],e=gv(e),0,[0],e))}function ac(e,s,r,a,n,i,o,l,c){for(var p=0,u=0,f=o,y=0,m=0,x=0,h=1,N=1,b=1,g=0,j="",v=n,A=i,E=a,C=j;N;)switch(x=g,g=Ws()){case 40:if(x!=108&&ns(C,f-1)==58){ep(C+=ut(rc(g),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=rc(g);break;case 9:case 10:case 13:case 32:C+=k_(x);break;case 92:C+=A_(sc()-1,7);continue;case 47:switch(Lr()){case 42:case 47:El(T_(P_(Ws(),sc()),s,r),c);break;default:C+="/"}break;case 123*h:l[p++]=Er(C)*b;case 125*h:case 59:case 0:switch(g){case 0:case 125:N=0;case 59+u:b==-1&&(C=ut(C,/\f/g,"")),m>0&&Er(C)-f&&El(m>32?Xg(C+";",a,r,f-1):Xg(ut(C," ","")+";",a,r,f-2),c);break;case 59:C+=";";default:if(El(E=Qg(C,s,r,p,u,n,l,j,v=[],A=[],f),i),g===123)if(u===0)ac(C,s,E,E,v,i,f,l,A);else switch(y===99&&ns(C,3)===110?100:y){case 100:case 108:case 109:case 115:ac(e,E,E,a&&El(Qg(e,E,E,0,0,n,l,j,n,v=[],f),A),n,A,f,l,a?v:A);break;default:ac(C,E,E,E,[""],A,0,l,A)}}p=u=m=0,h=b=1,j=C="",f=o;break;case 58:f=1+Er(C),m=x;default:if(h<1){if(g==123)--h;else if(g==125&&h++==0&&S_()==125)continue}switch(C+=Nd(g),g*h){case 38:b=u>0?1:(C+="\f",-1);break;case 44:l[p++]=(Er(C)-1)*b,b=1;break;case 64:Lr()===45&&(C+=rc(Ws())),y=Lr(),u=f=Er(j=C+=E_(sc())),g++;break;case 45:x===45&&Er(C)==2&&(h=0)}}return i}function Qg(e,s,r,a,n,i,o,l,c,p,u){for(var f=n-1,y=n===0?i:[""],m=Pf(y),x=0,h=0,N=0;x<a;++x)for(var b=0,g=Uo(e,f+1,f=v_(h=o[x])),j=e;b<m;++b)(j=fv(h>0?y[b]+" "+g:ut(g,/&\f/g,y[b])))&&(c[N++]=j);return Cd(e,s,r,n===0?kf:l,c,p,u)}function T_(e,s,r){return Cd(e,s,r,mv,Nd(__()),Uo(e,2,-2),0)}function Xg(e,s,r,a){return Cd(e,s,r,Af,Uo(e,0,a),Uo(e,a+1,-1),a)}function Xn(e,s){for(var r="",a=Pf(e),n=0;n<a;n++)r+=s(e[n],n,e,s)||"";return r}function R_(e,s,r,a){switch(e.type){case b_:if(e.children.length)break;case y_:case Af:return e.return=e.return||e.value;case mv:return"";case pv:return e.return=e.value+"{"+Xn(e.children,a)+"}";case kf:e.value=e.props.join(",")}return Er(r=Xn(e.children,a))?e.return=e.value+"{"+r+"}":""}function $_(e){var s=Pf(e);return function(r,a,n,i){for(var o="",l=0;l<s;l++)o+=e[l](r,a,n,i)||"";return o}}function D_(e){return function(s){s.root||(s=s.return)&&e(s)}}function yv(e){var s=Object.create(null);return function(r){return s[r]===void 0&&(s[r]=e(r)),s[r]}}var F_=function(s,r,a){for(var n=0,i=0;n=i,i=Lr(),n===38&&i===12&&(r[a]=1),!Bo(i);)Ws();return tl(s,$s)},I_=function(s,r){var a=-1,n=44;do switch(Bo(n)){case 0:n===38&&Lr()===12&&(r[a]=1),s[a]+=F_($s-1,r,a);break;case 2:s[a]+=rc(n);break;case 4:if(n===44){s[++a]=Lr()===58?"&\f":"",r[a]=s[a].length;break}default:s[a]+=Nd(n)}while(n=Ws());return s},L_=function(s,r){return xv(I_(gv(s),r))},Jg=new WeakMap,M_=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var r=s.value,a=s.parent,n=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&r.charCodeAt(0)!==58&&!Jg.get(a))&&!n){Jg.set(s,!0);for(var i=[],o=L_(r,i),l=a.props,c=0,p=0;c<o.length;c++)for(var u=0;u<l.length;u++,p++)s.props[p]=i[c]?o[c].replace(/&\f/g,l[u]):l[u]+" "+o[c]}}},O_=function(s){if(s.type==="decl"){var r=s.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(s.return="",s.value="")}};function bv(e,s){switch(N_(e,s)){case 5103:return dt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+e+Oc+e+ds+e+e;case 6828:case 4268:return dt+e+ds+e+e;case 6165:return dt+e+ds+"flex-"+e+e;case 5187:return dt+e+ut(e,/(\w+).+(:[^]+)/,dt+"box-$1$2"+ds+"flex-$1$2")+e;case 5443:return dt+e+ds+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return dt+e+ds+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return dt+e+ds+ut(e,"shrink","negative")+e;case 5292:return dt+e+ds+ut(e,"basis","preferred-size")+e;case 6060:return dt+"box-"+ut(e,"-grow","")+dt+e+ds+ut(e,"grow","positive")+e;case 4554:return dt+ut(e,/([^-])(transform)/g,"$1"+dt+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,dt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Er(e)-1-s>6)switch(ns(e,s+1)){case 109:if(ns(e,s+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+Oc+(ns(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~ep(e,"stretch")?bv(ut(e,"stretch","fill-available"),s)+e:e}break;case 4949:if(ns(e,s+1)!==115)break;case 6444:switch(ns(e,Er(e)-3-(~ep(e,"!important")&&10))){case 107:return ut(e,":",":"+dt)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(ns(e,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+ds+"$2box$3")+e}break;case 5936:switch(ns(e,s+11)){case 114:return dt+e+ds+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return dt+e+ds+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return dt+e+ds+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return dt+e+ds+e+e}return e}var U_=function(s,r,a,n){if(s.length>-1&&!s.return)switch(s.type){case Af:s.return=bv(s.value,s.length);break;case pv:return Xn([Fi(s,{value:ut(s.value,"@","@"+dt)})],n);case kf:if(s.length)return C_(s.props,function(i){switch(w_(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xn([Fi(s,{props:[ut(i,/:(read-\w+)/,":"+Oc+"$1")]})],n);case"::placeholder":return Xn([Fi(s,{props:[ut(i,/:(plac\w+)/,":"+dt+"input-$1")]}),Fi(s,{props:[ut(i,/:(plac\w+)/,":"+Oc+"$1")]}),Fi(s,{props:[ut(i,/:(plac\w+)/,ds+"input-$1")]})],n)}return""})}},B_=[U_],q_=function(s){var r=s.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(h){var N=h.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var n=s.stylisPlugins||B_,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(h){for(var N=h.getAttribute("data-emotion").split(" "),b=1;b<N.length;b++)i[N[b]]=!0;l.push(h)});var c,p=[M_,O_];{var u,f=[R_,D_(function(h){u.insert(h)})],y=$_(p.concat(n,f)),m=function(N){return Xn(z_(N),y)};c=function(N,b,g,j){u=g,m(N?N+"{"+b.styles+"}":b.styles),j&&(x.inserted[b.name]=!0)}}var x={key:r,sheet:new x_({key:r,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return x.sheet.hydrate(l),x},vv={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=typeof Symbol=="function"&&Symbol.for,Ef=ss?Symbol.for("react.element"):60103,zf=ss?Symbol.for("react.portal"):60106,_d=ss?Symbol.for("react.fragment"):60107,Sd=ss?Symbol.for("react.strict_mode"):60108,kd=ss?Symbol.for("react.profiler"):60114,Ad=ss?Symbol.for("react.provider"):60109,Pd=ss?Symbol.for("react.context"):60110,Tf=ss?Symbol.for("react.async_mode"):60111,Ed=ss?Symbol.for("react.concurrent_mode"):60111,zd=ss?Symbol.for("react.forward_ref"):60112,Td=ss?Symbol.for("react.suspense"):60113,V_=ss?Symbol.for("react.suspense_list"):60120,Rd=ss?Symbol.for("react.memo"):60115,$d=ss?Symbol.for("react.lazy"):60116,W_=ss?Symbol.for("react.block"):60121,H_=ss?Symbol.for("react.fundamental"):60117,K_=ss?Symbol.for("react.responder"):60118,G_=ss?Symbol.for("react.scope"):60119;function Qs(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Ef:switch(e=e.type,e){case Tf:case Ed:case _d:case kd:case Sd:case Td:return e;default:switch(e=e&&e.$$typeof,e){case Pd:case zd:case $d:case Rd:case Ad:return e;default:return s}}case zf:return s}}}function jv(e){return Qs(e)===Ed}Nt.AsyncMode=Tf;Nt.ConcurrentMode=Ed;Nt.ContextConsumer=Pd;Nt.ContextProvider=Ad;Nt.Element=Ef;Nt.ForwardRef=zd;Nt.Fragment=_d;Nt.Lazy=$d;Nt.Memo=Rd;Nt.Portal=zf;Nt.Profiler=kd;Nt.StrictMode=Sd;Nt.Suspense=Td;Nt.isAsyncMode=function(e){return jv(e)||Qs(e)===Tf};Nt.isConcurrentMode=jv;Nt.isContextConsumer=function(e){return Qs(e)===Pd};Nt.isContextProvider=function(e){return Qs(e)===Ad};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ef};Nt.isForwardRef=function(e){return Qs(e)===zd};Nt.isFragment=function(e){return Qs(e)===_d};Nt.isLazy=function(e){return Qs(e)===$d};Nt.isMemo=function(e){return Qs(e)===Rd};Nt.isPortal=function(e){return Qs(e)===zf};Nt.isProfiler=function(e){return Qs(e)===kd};Nt.isStrictMode=function(e){return Qs(e)===Sd};Nt.isSuspense=function(e){return Qs(e)===Td};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_d||e===Ed||e===kd||e===Sd||e===Td||e===V_||typeof e=="object"&&e!==null&&(e.$$typeof===$d||e.$$typeof===Rd||e.$$typeof===Ad||e.$$typeof===Pd||e.$$typeof===zd||e.$$typeof===H_||e.$$typeof===K_||e.$$typeof===G_||e.$$typeof===W_)};Nt.typeOf=Qs;vv.exports=Nt;var Y_=vv.exports,Nv=Y_,Q_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wv={};wv[Nv.ForwardRef]=Q_;wv[Nv.Memo]=X_;var J_=!0;function Cv(e,s,r){var a="";return r.split(" ").forEach(function(n){e[n]!==void 0?s.push(e[n]+";"):n&&(a+=n+" ")}),a}var Rf=function(s,r,a){var n=s.key+"-"+r.name;(a===!1||J_===!1)&&s.registered[n]===void 0&&(s.registered[n]=r.styles)},$f=function(s,r,a){Rf(s,r,a);var n=s.key+"-"+r.name;if(s.inserted[r.name]===void 0){var i=r;do s.insert(r===i?"."+n:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function Z_(e){for(var s=0,r,a=0,n=e.length;n>=4;++a,n-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,s=(r&65535)*1540483477+((r>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(n){case 3:s^=(e.charCodeAt(a+2)&255)<<16;case 2:s^=(e.charCodeAt(a+1)&255)<<8;case 1:s^=e.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var eS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tS=/[A-Z]|^ms/g,sS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_v=function(s){return s.charCodeAt(1)===45},Zg=function(s){return s!=null&&typeof s!="boolean"},Lu=yv(function(e){return _v(e)?e:e.replace(tS,"-$&").toLowerCase()}),ex=function(s,r){switch(s){case"animation":case"animationName":if(typeof r=="string")return r.replace(sS,function(a,n,i){return zr={name:n,styles:i,next:zr},n})}return eS[s]!==1&&!_v(s)&&typeof r=="number"&&r!==0?r+"px":r};function qo(e,s,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var n=r;if(n.anim===1)return zr={name:n.name,styles:n.styles,next:zr},n.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)zr={name:o.name,styles:o.styles,next:zr},o=o.next;var l=i.styles+";";return l}return rS(e,s,r)}case"function":{if(e!==void 0){var c=zr,p=r(e);return zr=c,qo(e,s,p)}break}}var u=r;if(s==null)return u;var f=s[u];return f!==void 0?f:u}function rS(e,s,r){var a="";if(Array.isArray(r))for(var n=0;n<r.length;n++)a+=qo(e,s,r[n])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?a+=i+"{"+s[l]+"}":Zg(l)&&(a+=Lu(i)+":"+ex(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)Zg(o[c])&&(a+=Lu(i)+":"+ex(i,o[c])+";");else{var p=qo(e,s,o);switch(i){case"animation":case"animationName":{a+=Lu(i)+":"+p+";";break}default:a+=i+"{"+p+"}"}}}return a}var tx=/label:\s*([^\s;{]+)\s*(;|$)/g,zr;function sl(e,s,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,n="";zr=void 0;var i=e[0];if(i==null||i.raw===void 0)a=!1,n+=qo(r,s,i);else{var o=i;n+=o[0]}for(var l=1;l<e.length;l++)if(n+=qo(r,s,e[l]),a){var c=i;n+=c[l]}tx.lastIndex=0;for(var p="",u;(u=tx.exec(n))!==null;)p+="-"+u[1];var f=Z_(n)+p;return{name:f,styles:n,next:zr}}var aS=function(s){return s()},Sv=lc.useInsertionEffect?lc.useInsertionEffect:!1,kv=Sv||aS,sx=Sv||d.useLayoutEffect,Av=d.createContext(typeof HTMLElement<"u"?q_({key:"css"}):null);Av.Provider;var Df=function(s){return d.forwardRef(function(r,a){var n=d.useContext(Av);return s(r,n,a)})},Dd=d.createContext({}),Ff={}.hasOwnProperty,sp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nS=function(s,r){var a={};for(var n in r)Ff.call(r,n)&&(a[n]=r[n]);return a[sp]=s,a},iS=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Rf(r,a,n),kv(function(){return $f(r,a,n)}),null},oS=Df(function(e,s,r){var a=e.css;typeof a=="string"&&s.registered[a]!==void 0&&(a=s.registered[a]);var n=e[sp],i=[a],o="";typeof e.className=="string"?o=Cv(s.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=sl(i,void 0,d.useContext(Dd));o+=s.key+"-"+l.name;var c={};for(var p in e)Ff.call(e,p)&&p!=="css"&&p!==sp&&(c[p]=e[p]);return c.className=o,r&&(c.ref=r),d.createElement(d.Fragment,null,d.createElement(iS,{cache:s,serialized:l,isStringTag:typeof n=="string"}),d.createElement(n,c))}),lS=oS,rx=function(s,r){var a=arguments;if(r==null||!Ff.call(r,"css"))return d.createElement.apply(void 0,a);var n=a.length,i=new Array(n);i[0]=lS,i[1]=nS(s,r);for(var o=2;o<n;o++)i[o]=a[o];return d.createElement.apply(null,i)};(function(e){var s;s||(s=e.JSX||(e.JSX={}))})(rx||(rx={}));var cS=Df(function(e,s){var r=e.styles,a=sl([r],void 0,d.useContext(Dd)),n=d.useRef();return sx(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+a.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),n.current=[o,l],function(){o.flush()}},[s]),sx(function(){var i=n.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(a.next!==void 0&&$f(s,a.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",a,o,!1)},[s,a.name]),null});function If(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return sl(s)}function rl(){var e=If.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var dS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uS=yv(function(e){return dS.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),mS=uS,pS=function(s){return s!=="theme"},ax=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?mS:pS},nx=function(s,r,a){var n;if(r){var i=r.shouldForwardProp;n=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&a&&(n=s.__emotion_forwardProp),n},fS=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Rf(r,a,n),kv(function(){return $f(r,a,n)}),null},hS=function e(s,r){var a=s.__emotion_real===s,n=a&&s.__emotion_base||s,i,o;r!==void 0&&(i=r.label,o=r.target);var l=nx(s,r,a),c=l||ax(n),p=!c("as");return function(){var u=arguments,f=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var y=u[0];f.push(y[0]);for(var m=u.length,x=1;x<m;x++)f.push(u[x],y[x])}var h=Df(function(N,b,g){var j=p&&N.as||n,v="",A=[],E=N;if(N.theme==null){E={};for(var C in N)E[C]=N[C];E.theme=d.useContext(Dd)}typeof N.className=="string"?v=Cv(b.registered,A,N.className):N.className!=null&&(v=N.className+" ");var z=sl(f.concat(A),b.registered,E);v+=b.key+"-"+z.name,o!==void 0&&(v+=" "+o);var k=p&&l===void 0?ax(j):c,M={};for(var q in N)p&&q==="as"||k(q)&&(M[q]=N[q]);return M.className=v,g&&(M.ref=g),d.createElement(d.Fragment,null,d.createElement(fS,{cache:b,serialized:z,isStringTag:typeof j=="string"}),d.createElement(j,M))});return h.displayName=i!==void 0?i:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",h.defaultProps=s.defaultProps,h.__emotion_real=h,h.__emotion_base=n,h.__emotion_styles=f,h.__emotion_forwardProp=l,Object.defineProperty(h,"toString",{value:function(){return"."+o}}),h.withComponent=function(N,b){var g=e(N,Mc({},r,b,{shouldForwardProp:nx(h,b,!0)}));return g.apply(void 0,f)},h}},gS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rp=hS.bind(null);gS.forEach(function(e){rp[e]=rp(e)});var Pv={exports:{}},xS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yS=xS,bS=yS;function Ev(){}function zv(){}zv.resetWarningCache=Ev;var vS=function(){function e(a,n,i,o,l,c){if(c!==bS){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function s(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:zv,resetWarningCache:Ev};return r.PropTypes=r,r};Pv.exports=vS();var jS=Pv.exports;const _t=vp(jS);function NS(e){return e==null||Object.keys(e).length===0}function wS(e){const{styles:s,defaultTheme:r={}}=e,a=typeof s=="function"?n=>s(NS(n)?r:n):s;return t.jsx(cS,{styles:a})}function Tv(e,s){return rp(e,s)}function CS(e,s){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=s(e.__emotion_styles))}const ix=[];function Ta(e){return ix[0]=e,sl(ix)}var Rv={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=Symbol.for("react.transitional.element"),Mf=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),Id=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),Md=Symbol.for("react.consumer"),Od=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),Bd=Symbol.for("react.suspense"),qd=Symbol.for("react.suspense_list"),Vd=Symbol.for("react.memo"),Wd=Symbol.for("react.lazy"),_S=Symbol.for("react.view_transition"),SS=Symbol.for("react.client.reference");function lr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Lf:switch(e=e.type,e){case Fd:case Ld:case Id:case Bd:case qd:case _S:return e;default:switch(e=e&&e.$$typeof,e){case Od:case Ud:case Wd:case Vd:return e;case Md:return e;default:return s}}case Mf:return s}}}kt.ContextConsumer=Md;kt.ContextProvider=Od;kt.Element=Lf;kt.ForwardRef=Ud;kt.Fragment=Fd;kt.Lazy=Wd;kt.Memo=Vd;kt.Portal=Mf;kt.Profiler=Ld;kt.StrictMode=Id;kt.Suspense=Bd;kt.SuspenseList=qd;kt.isContextConsumer=function(e){return lr(e)===Md};kt.isContextProvider=function(e){return lr(e)===Od};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lf};kt.isForwardRef=function(e){return lr(e)===Ud};kt.isFragment=function(e){return lr(e)===Fd};kt.isLazy=function(e){return lr(e)===Wd};kt.isMemo=function(e){return lr(e)===Vd};kt.isPortal=function(e){return lr(e)===Mf};kt.isProfiler=function(e){return lr(e)===Ld};kt.isStrictMode=function(e){return lr(e)===Id};kt.isSuspense=function(e){return lr(e)===Bd};kt.isSuspenseList=function(e){return lr(e)===qd};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fd||e===Ld||e===Id||e===Bd||e===qd||typeof e=="object"&&e!==null&&(e.$$typeof===Wd||e.$$typeof===Vd||e.$$typeof===Od||e.$$typeof===Md||e.$$typeof===Ud||e.$$typeof===SS||e.getModuleId!==void 0)};kt.typeOf=lr;Rv.exports=kt;var $v=Rv.exports;function Dr(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Dv(e){if(d.isValidElement(e)||$v.isValidElementType(e)||!Dr(e))return e;const s={};return Object.keys(e).forEach(r=>{s[r]=Dv(e[r])}),s}function hs(e,s,r={clone:!0}){const a=r.clone?{...e}:e;return Dr(e)&&Dr(s)&&Object.keys(s).forEach(n=>{d.isValidElement(s[n])||$v.isValidElementType(s[n])?a[n]=s[n]:Dr(s[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Dr(e[n])?a[n]=hs(e[n],s[n],r):r.clone?a[n]=Dr(s[n])?Dv(s[n]):s[n]:a[n]=s[n]}),a}const kS=e=>{const s=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return s.sort((r,a)=>r.val-a.val),s.reduce((r,a)=>({...r,[a.key]:a.val}),{})};function AS(e){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:a=5,...n}=e,i=kS(s),o=Object.keys(i);function l(y){return`@media (min-width:${typeof s[y]=="number"?s[y]:y}${r})`}function c(y){return`@media (max-width:${(typeof s[y]=="number"?s[y]:y)-a/100}${r})`}function p(y,m){const x=o.indexOf(m);return`@media (min-width:${typeof s[y]=="number"?s[y]:y}${r}) and (max-width:${(x!==-1&&typeof s[o[x]]=="number"?s[o[x]]:m)-a/100}${r})`}function u(y){return o.indexOf(y)+1<o.length?p(y,o[o.indexOf(y)+1]):l(y)}function f(y){const m=o.indexOf(y);return m===0?l(o[1]):m===o.length-1?c(o[m]):p(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:p,only:u,not:f,unit:r,...n}}function ox(e,s){if(!e.containerQueries)return s;const r=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,n)=>{var o,l;const i=/min-width:\s*([0-9.]+)/;return+(((o=a.match(i))==null?void 0:o[1])||0)-+(((l=n.match(i))==null?void 0:l[1])||0)});return r.length?r.reduce((a,n)=>{const i=s[n];return delete a[n],a[n]=i,a},{...s}):s}function PS(e,s){return s==="@"||s.startsWith("@")&&(e.some(r=>s.startsWith(`@${r}`))||!!s.match(/^@\d/))}function ES(e,s){const r=s.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,a,n]=r,i=Number.isNaN(+a)?a||0:+a;return e.containerQueries(n).up(i)}function zS(e){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...l)=>s(e.breakpoints.up(...l),o),i.down=(...l)=>s(e.breakpoints.down(...l),o),i.between=(...l)=>s(e.breakpoints.between(...l),o),i.only=(...l)=>s(e.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(e.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const a={},n=i=>(r(a,i),a);return r(n),{...e,containerQueries:n}}const TS={borderRadius:4};function uo(e,s){return s?hs(e,s,{clone:!1}):e}const Hd={xs:0,sm:600,md:900,lg:1200,xl:1536},lx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Hd[e]}px)`},RS={containerQueries:e=>({up:s=>{let r=typeof s=="number"?s:Hd[s]||s;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function ia(e,s,r){const a=e.theme||{};if(Array.isArray(s)){const i=a.breakpoints||lx;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=r(s[c]),o),{})}if(typeof s=="object"){const i=a.breakpoints||lx;return Object.keys(s).reduce((o,l)=>{if(PS(i.keys,l)){const c=ES(a.containerQueries?a:RS,l);c&&(o[c]=r(s[l],l))}else if(Object.keys(i.values||Hd).includes(l)){const c=i.up(l);o[c]=r(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return r(s)}function $S(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((a,n)=>{const i=e.up(n);return a[i]={},a},{}))||{}}function cx(e,s){return e.reduce((r,a)=>{const n=r[a];return(!n||Object.keys(n).length===0)&&delete r[a],r},s)}function Fe(e){if(typeof e!="string")throw new Error(na(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Tr(e,s,r=!0){if(!s||typeof s!="string")return null;if(e&&e.vars&&r){const a=`vars.${s}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,e);if(a!=null)return a}return s.split(".").reduce((a,n)=>a&&a[n]!=null?a[n]:null,e)}function Uc(e,s,r,a=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||a:n=Tr(e,r)||a,s&&(n=s(n,a,e)),n}function Vt(e){const{prop:s,cssProperty:r=e.prop,themeKey:a,transform:n}=e,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,p=Tr(c,a)||{};return ia(o,l,f=>{let y=Uc(p,n,f);return f===y&&typeof f=="string"&&(y=Uc(p,n,`${s}${f==="default"?"":Fe(f)}`,f)),r===!1?y:{[r]:y}})};return i.propTypes={},i.filterProps=[s],i}function DS(e){const s={};return r=>(s[r]===void 0&&(s[r]=e(r)),s[r])}const FS={m:"margin",p:"padding"},IS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},LS=DS(e=>{if(e.length>2)if(dx[e])e=dx[e];else return[e];const[s,r]=e.split(""),a=FS[s],n=IS[r]||"";return Array.isArray(n)?n.map(i=>a+i):[a+n]}),Of=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Uf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Of,...Uf];function al(e,s,r,a){const n=Tr(e,s,!0)??r;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=n[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof n=="function"?n:()=>{}}function Bf(e){return al(e,"spacing",8)}function nl(e,s){return typeof s=="string"||s==null?s:e(s)}function MS(e,s){return r=>e.reduce((a,n)=>(a[n]=nl(s,r),a),{})}function OS(e,s,r,a){if(!s.includes(r))return null;const n=LS(r),i=MS(n,a),o=e[r];return ia(e,o,i)}function Fv(e,s){const r=Bf(e.theme);return Object.keys(e).map(a=>OS(e,s,a,r)).reduce(uo,{})}function Lt(e){return Fv(e,Of)}Lt.propTypes={};Lt.filterProps=Of;function Mt(e){return Fv(e,Uf)}Mt.propTypes={};Mt.filterProps=Uf;function Iv(e=8,s=Bf({spacing:e})){if(e.mui)return e;const r=(...a)=>(a.length===0?[1]:a).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function Kd(...e){const s=e.reduce((a,n)=>(n.filterProps.forEach(i=>{a[i]=n}),a),{}),r=a=>Object.keys(a).reduce((n,i)=>s[i]?uo(n,s[i](a)):n,{});return r.propTypes={},r.filterProps=e.reduce((a,n)=>a.concat(n.filterProps),[]),r}function er(e){return typeof e!="number"?e:`${e}px solid`}function cr(e,s){return Vt({prop:e,themeKey:"borders",transform:s})}const US=cr("border",er),BS=cr("borderTop",er),qS=cr("borderRight",er),VS=cr("borderBottom",er),WS=cr("borderLeft",er),HS=cr("borderColor"),KS=cr("borderTopColor"),GS=cr("borderRightColor"),YS=cr("borderBottomColor"),QS=cr("borderLeftColor"),XS=cr("outline",er),JS=cr("outlineColor"),Gd=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const s=al(e.theme,"shape.borderRadius",4),r=a=>({borderRadius:nl(s,a)});return ia(e,e.borderRadius,r)}return null};Gd.propTypes={};Gd.filterProps=["borderRadius"];Kd(US,BS,qS,VS,WS,HS,KS,GS,YS,QS,Gd,XS,JS);const Yd=e=>{if(e.gap!==void 0&&e.gap!==null){const s=al(e.theme,"spacing",8),r=a=>({gap:nl(s,a)});return ia(e,e.gap,r)}return null};Yd.propTypes={};Yd.filterProps=["gap"];const Qd=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const s=al(e.theme,"spacing",8),r=a=>({columnGap:nl(s,a)});return ia(e,e.columnGap,r)}return null};Qd.propTypes={};Qd.filterProps=["columnGap"];const Xd=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const s=al(e.theme,"spacing",8),r=a=>({rowGap:nl(s,a)});return ia(e,e.rowGap,r)}return null};Xd.propTypes={};Xd.filterProps=["rowGap"];const ZS=Vt({prop:"gridColumn"}),ek=Vt({prop:"gridRow"}),tk=Vt({prop:"gridAutoFlow"}),sk=Vt({prop:"gridAutoColumns"}),rk=Vt({prop:"gridAutoRows"}),ak=Vt({prop:"gridTemplateColumns"}),nk=Vt({prop:"gridTemplateRows"}),ik=Vt({prop:"gridTemplateAreas"}),ok=Vt({prop:"gridArea"});Kd(Yd,Qd,Xd,ZS,ek,tk,sk,rk,ak,nk,ik,ok);function Jn(e,s){return s==="grey"?s:e}const lk=Vt({prop:"color",themeKey:"palette",transform:Jn}),ck=Vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jn}),dk=Vt({prop:"backgroundColor",themeKey:"palette",transform:Jn});Kd(lk,ck,dk);function Us(e){return e<=1&&e!==0?`${e*100}%`:e}const uk=Vt({prop:"width",transform:Us}),qf=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const s=r=>{var n,i,o,l,c;const a=((o=(i=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:i.values)==null?void 0:o[r])||Hd[r];return a?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Us(r)}};return ia(e,e.maxWidth,s)}return null};qf.filterProps=["maxWidth"];const mk=Vt({prop:"minWidth",transform:Us}),pk=Vt({prop:"height",transform:Us}),fk=Vt({prop:"maxHeight",transform:Us}),hk=Vt({prop:"minHeight",transform:Us});Vt({prop:"size",cssProperty:"width",transform:Us});Vt({prop:"size",cssProperty:"height",transform:Us});const gk=Vt({prop:"boxSizing"});Kd(uk,qf,mk,pk,fk,hk,gk);const il={border:{themeKey:"borders",transform:er},borderTop:{themeKey:"borders",transform:er},borderRight:{themeKey:"borders",transform:er},borderBottom:{themeKey:"borders",transform:er},borderLeft:{themeKey:"borders",transform:er},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:er},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gd},color:{themeKey:"palette",transform:Jn},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jn},backgroundColor:{themeKey:"palette",transform:Jn},p:{style:Mt},pt:{style:Mt},pr:{style:Mt},pb:{style:Mt},pl:{style:Mt},px:{style:Mt},py:{style:Mt},padding:{style:Mt},paddingTop:{style:Mt},paddingRight:{style:Mt},paddingBottom:{style:Mt},paddingLeft:{style:Mt},paddingX:{style:Mt},paddingY:{style:Mt},paddingInline:{style:Mt},paddingInlineStart:{style:Mt},paddingInlineEnd:{style:Mt},paddingBlock:{style:Mt},paddingBlockStart:{style:Mt},paddingBlockEnd:{style:Mt},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Yd},rowGap:{style:Xd},columnGap:{style:Qd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Us},maxWidth:{style:qf},minWidth:{transform:Us},height:{transform:Us},maxHeight:{transform:Us},minHeight:{transform:Us},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xk(...e){const s=e.reduce((a,n)=>a.concat(Object.keys(n)),[]),r=new Set(s);return e.every(a=>r.size===Object.keys(a).length)}function yk(e,s){return typeof e=="function"?e(s):e}function bk(){function e(r,a,n,i){const o={[r]:a,theme:n},l=i[r];if(!l)return{[r]:a};const{cssProperty:c=r,themeKey:p,transform:u,style:f}=l;if(a==null)return null;if(p==="typography"&&a==="inherit")return{[r]:a};const y=Tr(n,p)||{};return f?f(o):ia(o,a,x=>{let h=Uc(y,u,x);return x===h&&typeof x=="string"&&(h=Uc(y,u,`${r}${x==="default"?"":Fe(x)}`,x)),c===!1?h:{[c]:h}})}function s(r){const{sx:a,theme:n={},nested:i}=r||{};if(!a)return null;const o=n.unstable_sxConfig??il;function l(c){let p=c;if(typeof c=="function")p=c(n);else if(typeof c!="object")return c;if(!p)return null;const u=$S(n.breakpoints),f=Object.keys(u);let y=u;return Object.keys(p).forEach(m=>{const x=yk(p[m],n);if(x!=null)if(typeof x=="object")if(o[m])y=uo(y,e(m,x,n,o));else{const h=ia({theme:n},x,N=>({[m]:N}));xk(h,x)?y[m]=s({sx:x,theme:n,nested:!0}):y=uo(y,h)}else y=uo(y,e(m,x,n,o))}),!i&&n.modularCssLayers?{"@layer sx":ox(n,cx(f,y))}:ox(n,cx(f,y))}return Array.isArray(a)?a.map(l):l(a)}return s}const pn=bk();pn.filterProps=["sx"];function vk(e,s){var a;const r=this;if(r.vars){if(!((a=r.colorSchemes)!=null&&a[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?s:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:s})}return r.palette.mode===e?s:{}}function Vf(e={},...s){const{breakpoints:r={},palette:a={},spacing:n,shape:i={},...o}=e,l=AS(r),c=Iv(n);let p=hs({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:c,shape:{...TS,...i}},o);return p=zS(p),p.applyStyles=vk,p=s.reduce((u,f)=>hs(u,f),p),p.unstable_sxConfig={...il,...o==null?void 0:o.unstable_sxConfig},p.unstable_sx=function(f){return pn({sx:f,theme:this})},p}function jk(e){return Object.keys(e).length===0}function Nk(e=null){const s=d.useContext(Dd);return!s||jk(s)?e:s}const wk=Vf();function Wf(e=wk){return Nk(e)}function Mu(e){const s=Ta(e);return e!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):e}function Ck({styles:e,themeId:s,defaultTheme:r={}}){const a=Wf(r),n=s&&a[s]||a;let i=typeof e=="function"?e(n):e;return n.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>Mu(typeof o=="function"?o(n):o)):i=Mu(i)),t.jsx(wS,{styles:i})}const _k=e=>{var a;const s={systemProps:{},otherProps:{}},r=((a=e==null?void 0:e.theme)==null?void 0:a.unstable_sxConfig)??il;return Object.keys(e).forEach(n=>{r[n]?s.systemProps[n]=e[n]:s.otherProps[n]=e[n]}),s};function Lv(e){const{sx:s,...r}=e,{systemProps:a,otherProps:n}=_k(r);let i;return Array.isArray(s)?i=[a,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Dr(l)?{...a,...l}:a}:i={...a,...s},{...n,sx:i}}const ux=e=>e,Sk=()=>{let e=ux;return{configure(s){e=s},generate(s){return e(s)},reset(){e=ux}}},Mv=Sk();function Ov(e){var s,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(r=Ov(e[s]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ke(){for(var e,s,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(s=Ov(e))&&(a&&(a+=" "),a+=s);return a}function kk(e={}){const{themeId:s,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:n}=e,i=Tv("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(pn);return d.forwardRef(function(c,p){const u=Wf(r),{className:f,component:y="div",...m}=Lv(c);return t.jsx(i,{as:y,ref:p,className:Ke(f,n?n(a):a),theme:s&&u[s]||u,...m})})}const Ak={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mt(e,s,r="Mui"){const a=Ak[s];return a?`${r}-${a}`:`${Mv.generate(e)}-${s}`}function ct(e,s,r="Mui"){const a={};return s.forEach(n=>{a[n]=mt(e,n,r)}),a}function Uv(e){const{variants:s,...r}=e,a={variants:s,style:Ta(r),isProcessed:!0};return a.style===r||s&&s.forEach(n=>{typeof n.style!="function"&&(n.style=Ta(n.style))}),a}const Pk=Vf();function Ou(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function en(e,s){return s&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${s}{${String(e.styles)}}`),e}function Ek(e){return e?(s,r)=>r[e]:null}function zk(e,s,r){e.theme=$k(e.theme)?r:e.theme[s]||e.theme}function nc(e,s,r){const a=typeof s=="function"?s(e):s;if(Array.isArray(a))return a.flatMap(n=>nc(e,n,r));if(Array.isArray(a==null?void 0:a.variants)){let n;if(a.isProcessed)n=r?en(a.style,r):a.style;else{const{variants:i,...o}=a;n=r?en(Ta(o),r):o}return Bv(e,a.variants,[n],r)}return a!=null&&a.isProcessed?r?en(Ta(a.style),r):a.style:r?en(Ta(a),r):a}function Bv(e,s,r=[],a=void 0){var i;let n;e:for(let o=0;o<s.length;o+=1){const l=s[o];if(typeof l.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(n))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a?en(Ta(l.style(n)),a):l.style(n))):r.push(a?en(Ta(l.style),a):l.style)}return r}function Tk(e={}){const{themeId:s,defaultTheme:r=Pk,rootShouldForwardProp:a=Ou,slotShouldForwardProp:n=Ou}=e;function i(l){zk(l,s,r)}return(l,c={})=>{CS(l,E=>E.filter(C=>C!==pn));const{name:p,slot:u,skipVariantsResolver:f,skipSx:y,overridesResolver:m=Ek(Fk(u)),...x}=c,h=p&&p.startsWith("Mui")||u?"components":"custom",N=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,b=y||!1;let g=Ou;u==="Root"||u==="root"?g=a:u?g=n:Dk(l)&&(g=void 0);const j=Tv(l,{shouldForwardProp:g,label:Rk(),...x}),v=E=>{if(E.__emotion_real===E)return E;if(typeof E=="function")return function(z){return nc(z,E,z.theme.modularCssLayers?h:void 0)};if(Dr(E)){const C=Uv(E);return function(k){return C.variants?nc(k,C,k.theme.modularCssLayers?h:void 0):k.theme.modularCssLayers?en(C.style,h):C.style}}return E},A=(...E)=>{const C=[],z=E.map(v),k=[];if(C.push(i),p&&m&&k.push(function($){var P,D;const _=(D=(P=$.theme.components)==null?void 0:P[p])==null?void 0:D.styleOverrides;if(!_)return null;const S={};for(const I in _)S[I]=nc($,_[I],$.theme.modularCssLayers?"theme":void 0);return m($,S)}),p&&!N&&k.push(function($){var S,P;const F=$.theme,_=(P=(S=F==null?void 0:F.components)==null?void 0:S[p])==null?void 0:P.variants;return _?Bv($,_,[],$.theme.modularCssLayers?"theme":void 0):null}),b||k.push(pn),Array.isArray(z[0])){const w=z.shift(),$=new Array(C.length).fill(""),F=new Array(k.length).fill("");let _;_=[...$,...w,...F],_.raw=[...$,...w.raw,...F],C.unshift(_)}const M=[...C,...z,...k],q=j(...M);return l.muiName&&(q.muiName=l.muiName),q};return j.withConfig&&(A.withConfig=j.withConfig),A}}function Rk(e,s){return void 0}function $k(e){for(const s in e)return!1;return!0}function Dk(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Fk(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Bc(e,s,r=!1){const a={...s};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")a[i]={...e[i],...a[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],l=s[i];if(!l)a[i]=o||{};else if(!o)a[i]=l;else{a[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const p=c;a[i][p]=Bc(o[p],l[p],r)}}}else i==="className"&&r&&s.className?a.className=Ke(e==null?void 0:e.className,s==null?void 0:s.className):i==="style"&&r&&s.style?a.style={...e==null?void 0:e.style,...s==null?void 0:s.style}:a[i]===void 0&&(a[i]=e[i])}return a}const fn=typeof window<"u"?d.useLayoutEffect:d.useEffect;function Ik(e,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(e,r))}function Hf(e,s=0,r=1){return Ik(e,s,r)}function Lk(e){e=e.slice(1);const s=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(s);return r&&r[0].length===1&&(r=r.map(a=>a+a)),r?`rgb${r.length===4?"a":""}(${r.map((a,n)=>n<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Da(e){if(e.type)return e;if(e.charAt(0)==="#")return Da(Lk(e));const s=e.indexOf("("),r=e.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(na(9,e));let a=e.substring(s+1,e.length-1),n;if(r==="color"){if(a=a.split(" "),n=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(na(10,n))}else a=a.split(",");return a=a.map(i=>parseFloat(i)),{type:r,values:a,colorSpace:n}}const Mk=e=>{const s=Da(e);return s.values.slice(0,3).map((r,a)=>s.type.includes("hsl")&&a!==0?`${r}%`:r).join(" ")},Yi=(e,s)=>{try{return Mk(e)}catch{return e}};function Jd(e){const{type:s,colorSpace:r}=e;let{values:a}=e;return s.includes("rgb")?a=a.map((n,i)=>i<3?parseInt(n,10):n):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${r} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function qv(e){e=Da(e);const{values:s}=e,r=s[0],a=s[1]/100,n=s[2]/100,i=a*Math.min(n,1-n),o=(p,u=(p+r/30)%12)=>n-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",c.push(s[3])),Jd({type:l,values:c})}function ap(e){e=Da(e);let s=e.type==="hsl"||e.type==="hsla"?Da(qv(e)).values:e.values;return s=s.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function Ok(e,s){const r=ap(e),a=ap(s);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}function Vo(e,s){return e=Da(e),s=Hf(s),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${s}`:e.values[3]=s,Jd(e)}function qa(e,s,r){try{return Vo(e,s)}catch{return e}}function Zd(e,s){if(e=Da(e),s=Hf(s),e.type.includes("hsl"))e.values[2]*=1-s;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-s;return Jd(e)}function yt(e,s,r){try{return Zd(e,s)}catch{return e}}function eu(e,s){if(e=Da(e),s=Hf(s),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*s;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*s;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*s;return Jd(e)}function bt(e,s,r){try{return eu(e,s)}catch{return e}}function Uk(e,s=.15){return ap(e)>.5?Zd(e,s):eu(e,s)}function zl(e,s,r){try{return Uk(e,s)}catch{return e}}const Bk=d.createContext(),qk=()=>d.useContext(Bk)??!1,Vk=d.createContext(void 0);function Wk(e){const{theme:s,name:r,props:a}=e;if(!s||!s.components||!s.components[r])return a;const n=s.components[r];return n.defaultProps?Bc(n.defaultProps,a,s.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?Bc(n,a,s.components.mergeClassNameAndStyle):a}function Hk({props:e,name:s}){const r=d.useContext(Vk);return Wk({props:e,name:s,theme:{components:r}})}let mx=0;function Kk(e){const[s,r]=d.useState(e),a=e||s;return d.useEffect(()=>{s==null&&(mx+=1,r(`mui-${mx}`))},[s]),a}const Gk={...lc},px=Gk.useId;function ol(e){if(px!==void 0){const s=px();return e??s}return Kk(e)}const fx={theme:void 0};function Yk(e){let s,r;return function(n){let i=s;return(i===void 0||n.theme!==r)&&(fx.theme=n.theme,i=Uv(e(fx)),s=i,r=n.theme),i}}function Qk(e=""){function s(...a){if(!a.length)return"";const n=a[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${s(...a.slice(1))})`:`, ${n}`}return(a,...n)=>`var(--${e?`${e}-`:""}${a}${s(...n)})`}const hx=(e,s,r,a=[])=>{let n=e;s.forEach((i,o)=>{o===s.length-1?Array.isArray(n)?n[Number(i)]=r:n&&typeof n=="object"&&(n[i]=r):n&&typeof n=="object"&&(n[i]||(n[i]=a.includes(i)?[]:{}),n=n[i])})},Xk=(e,s,r)=>{function a(n,i=[],o=[]){Object.entries(n).forEach(([l,c])=>{(!r||r&&!r([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?a(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}a(e)},Jk=(e,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>e.includes(a))||e[e.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function Uu(e,s){const{prefix:r,shouldSkipGeneratingVar:a}=s||{},n={},i={},o={};return Xk(e,(l,c,p)=>{if((typeof c=="string"||typeof c=="number")&&(!a||!a(l,c))){const u=`--${r?`${r}-`:""}${l.join("-")}`,f=Jk(l,c);Object.assign(n,{[u]:f}),hx(i,l,`var(${u})`,p),hx(o,l,`var(${u}, ${f})`,p)}},l=>l[0]==="vars"),{css:n,vars:i,varsWithDefaults:o}}function Zk(e,s={}){const{getSelector:r=b,disableCssColorScheme:a,colorSchemeSelector:n,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...p}=e,{vars:u,css:f,varsWithDefaults:y}=Uu(p,s);let m=y;const x={},{[c]:h,...N}=o;if(Object.entries(N||{}).forEach(([v,A])=>{const{vars:E,css:C,varsWithDefaults:z}=Uu(A,s);m=hs(m,z),x[v]={css:C,vars:E}}),h){const{css:v,vars:A,varsWithDefaults:E}=Uu(h,s);m=hs(m,E),x[c]={css:v,vars:A}}function b(v,A){var C,z;let E=n;if(n==="class"&&(E=".%s"),n==="data"&&(E="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(E=`[${n}="%s"]`),v){if(E==="media")return e.defaultColorScheme===v?":root":{[`@media (prefers-color-scheme: ${((z=(C=o[v])==null?void 0:C.palette)==null?void 0:z.mode)||v})`]:{":root":A}};if(E)return e.defaultColorScheme===v?`:root, ${E.replace("%s",String(v))}`:E.replace("%s",String(v))}return":root"}return{vars:m,generateThemeVars:()=>{let v={...u};return Object.entries(x).forEach(([,{vars:A}])=>{v=hs(v,A)}),v},generateStyleSheets:()=>{var k,M;const v=[],A=e.defaultColorScheme||"light";function E(q,w){Object.keys(w).length&&v.push(typeof q=="string"?{[q]:{...w}}:q)}E(r(void 0,{...f}),f);const{[A]:C,...z}=x;if(C){const{css:q}=C,w=(M=(k=o[A])==null?void 0:k.palette)==null?void 0:M.mode,$=!a&&w?{colorScheme:w,...q}:{...q};E(r(A,{...$}),$)}return Object.entries(z).forEach(([q,{css:w}])=>{var _,S;const $=(S=(_=o[q])==null?void 0:_.palette)==null?void 0:S.mode,F=!a&&$?{colorScheme:$,...w}:{...w};E(r(q,{...F}),F)}),i&&v.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),v}}}function e4(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function pt(e,s,r=void 0){const a={};for(const n in e){const i=e[n];let o="",l=!0;for(let c=0;c<i.length;c+=1){const p=i[c];p&&(o+=(l===!0?"":" ")+s(p),l=!1,r&&r[p]&&(o+=" "+r[p]))}a[n]=o}return a}function Bu(e,s){var r,a,n;return d.isValidElement(e)&&s.indexOf(e.type.muiName??((n=(a=(r=e.type)==null?void 0:r._payload)==null?void 0:a.value)==null?void 0:n.muiName))!==-1}function Vv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oo.white,default:Oo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Wv=Vv();function Hv(){return{text:{primary:Oo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const np=Hv();function gx(e,s,r,a){const n=a.light||a,i=a.dark||a*1.5;e[s]||(e.hasOwnProperty(r)?e[s]=e[r]:s==="light"?e.light=eu(e.main,n):s==="dark"&&(e.dark=Zd(e.main,i)))}function xx(e,s,r,a,n){const i=n.light||n,o=n.dark||n*1.5;s[r]||(s.hasOwnProperty(a)?s[r]=s[a]:r==="light"?s.light=`color-mix(in ${e}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(s.dark=`color-mix(in ${e}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function t4(e="light"){return e==="dark"?{main:_n[200],light:_n[50],dark:_n[400]}:{main:_n[700],light:_n[400],dark:_n[800]}}function s4(e="light"){return e==="dark"?{main:Cn[200],light:Cn[50],dark:Cn[400]}:{main:Cn[500],light:Cn[300],dark:Cn[700]}}function r4(e="light"){return e==="dark"?{main:wn[500],light:wn[300],dark:wn[700]}:{main:wn[700],light:wn[400],dark:wn[800]}}function a4(e="light"){return e==="dark"?{main:Sn[400],light:Sn[300],dark:Sn[700]}:{main:Sn[700],light:Sn[500],dark:Sn[900]}}function n4(e="light"){return e==="dark"?{main:kn[400],light:kn[300],dark:kn[700]}:{main:kn[800],light:kn[500],dark:kn[900]}}function i4(e="light"){return e==="dark"?{main:Di[400],light:Di[300],dark:Di[700]}:{main:"#ed6c02",light:Di[500],dark:Di[900]}}function o4(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function Kf(e){const{mode:s="light",contrastThreshold:r=3,tonalOffset:a=.2,colorSpace:n,...i}=e,o=e.primary||t4(s),l=e.secondary||s4(s),c=e.error||r4(s),p=e.info||a4(s),u=e.success||n4(s),f=e.warning||i4(s);function y(N){return n?o4(N):Ok(N,np.text.primary)>=r?np.text.primary:Wv.text.primary}const m=({color:N,name:b,mainShade:g=500,lightShade:j=300,darkShade:v=700})=>{if(N={...N},!N.main&&N[g]&&(N.main=N[g]),!N.hasOwnProperty("main"))throw new Error(na(11,b?` (${b})`:"",g));if(typeof N.main!="string")throw new Error(na(12,b?` (${b})`:"",JSON.stringify(N.main)));return n?(xx(n,N,"light",j,a),xx(n,N,"dark",v,a)):(gx(N,"light",j,a),gx(N,"dark",v,a)),N.contrastText||(N.contrastText=y(N.main)),N};let x;return s==="light"?x=Vv():s==="dark"&&(x=Hv()),hs({common:{...Oo},mode:s,primary:m({color:o,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:p,name:"info"}),success:m({color:u,name:"success"}),grey:f_,contrastThreshold:r,getContrastText:y,augmentColor:m,tonalOffset:a,...x},i)}function l4(e){const s={};return Object.entries(e).forEach(a=>{const[n,i]=a;typeof i=="object"&&(s[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function c4(e,s){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...s}}function d4(e){return Math.round(e*1e5)/1e5}const yx={textTransform:"uppercase"},bx='"Roboto", "Helvetica", "Arial", sans-serif';function u4(e,s){const{fontFamily:r=bx,fontSize:a=14,fontWeightLight:n=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:p,pxToRem:u,...f}=typeof s=="function"?s(e):s,y=a/14,m=u||(N=>`${N/c*y}rem`),x=(N,b,g,j,v)=>({fontFamily:r,fontWeight:N,fontSize:m(b),lineHeight:g,...r===bx?{letterSpacing:`${d4(j/b)}em`}:{},...v,...p}),h={h1:x(n,96,1.167,-1.5),h2:x(n,60,1.2,-.5),h3:x(i,48,1.167,0),h4:x(i,34,1.235,.25),h5:x(i,24,1.334,0),h6:x(o,20,1.6,.15),subtitle1:x(i,16,1.75,.15),subtitle2:x(o,14,1.57,.1),body1:x(i,16,1.5,.15),body2:x(i,14,1.43,.15),button:x(o,14,1.75,.4,yx),caption:x(i,12,1.66,.4),overline:x(i,12,2.66,1,yx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hs({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:a,fontWeightLight:n,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...h},f,{clone:!1})}const m4=.2,p4=.14,f4=.12;function Tt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${m4})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${p4})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${f4})`].join(",")}const h4=["none",Tt(0,2,1,-1,0,1,1,0,0,1,3,0),Tt(0,3,1,-2,0,2,2,0,0,1,5,0),Tt(0,3,3,-2,0,3,4,0,0,1,8,0),Tt(0,2,4,-1,0,4,5,0,0,1,10,0),Tt(0,3,5,-1,0,5,8,0,0,1,14,0),Tt(0,3,5,-1,0,6,10,0,0,1,18,0),Tt(0,4,5,-2,0,7,10,1,0,2,16,1),Tt(0,5,5,-3,0,8,10,1,0,3,14,2),Tt(0,5,6,-3,0,9,12,1,0,3,16,2),Tt(0,6,6,-3,0,10,14,1,0,4,18,3),Tt(0,6,7,-4,0,11,15,1,0,4,20,3),Tt(0,7,8,-4,0,12,17,2,0,5,22,4),Tt(0,7,8,-4,0,13,19,2,0,5,24,4),Tt(0,7,9,-4,0,14,21,2,0,5,26,4),Tt(0,8,9,-5,0,15,22,2,0,6,28,5),Tt(0,8,10,-5,0,16,24,2,0,6,30,5),Tt(0,8,11,-5,0,17,26,2,0,6,32,5),Tt(0,9,11,-5,0,18,28,2,0,7,34,6),Tt(0,9,12,-6,0,19,29,2,0,7,36,6),Tt(0,10,13,-6,0,20,31,3,0,8,38,7),Tt(0,10,13,-6,0,21,33,3,0,8,40,7),Tt(0,10,14,-6,0,22,35,3,0,8,42,7),Tt(0,11,14,-7,0,23,36,3,0,9,44,8),Tt(0,11,15,-7,0,24,38,3,0,9,46,8)],g4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},x4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vx(e){return`${Math.round(e)}ms`}function y4(e){if(!e)return 0;const s=e/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function b4(e){const s={...g4,...e.easing},r={...x4,...e.duration};return{getAutoHeightDuration:y4,create:(n=["all"],i={})=>{const{duration:o=r.standard,easing:l=s.easeInOut,delay:c=0,...p}=i;return(Array.isArray(n)?n:[n]).map(u=>`${u} ${typeof o=="string"?o:vx(o)} ${l} ${typeof c=="string"?c:vx(c)}`).join(",")},...e,easing:s,duration:r}}const v4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function j4(e){return Dr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Kv(e={}){const s={...e};function r(a){const n=Object.entries(a);for(let i=0;i<n.length;i++){const[o,l]=n[i];!j4(l)||o.startsWith("unstable_")?delete a[o]:Dr(l)&&(a[o]={...l},r(a[o]))}}return r(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function jx(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const N4=e=>{if(!Number.isNaN(+e))return+e;const s=e.match(/\d*\.?\d+/g);if(!s)return 0;let r=0;for(let a=0;a<s.length;a+=1)r+=+s[a];return r};function w4(e){Object.assign(e,{alpha(s,r){const a=this||e;return a.colorSpace?`oklch(from ${s} l c h / ${typeof r=="string"?`calc(${r})`:r})`:a.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Vo(s,N4(r))},lighten(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #fff ${jx(r)})`:eu(s,r)},darken(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #000 ${jx(r)})`:Zd(s,r)}})}function ip(e={},...s){const{breakpoints:r,mixins:a={},spacing:n,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:p,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(na(20));const f=Kf({...i,colorSpace:p}),y=Vf(e);let m=hs(y,{mixins:c4(y.breakpoints,a),palette:f,shadows:h4.slice(),typography:u4(f,l),transitions:b4(o),zIndex:{...v4}});return m=hs(m,u),m=s.reduce((x,h)=>hs(x,h),m),m.unstable_sxConfig={...il,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(h){return pn({sx:h,theme:this})},m.toRuntimeSource=Kv,w4(m),m}function op(e){let s;return e<1?s=5.11916*e**2:s=4.5*Math.log(e+1)+2,Math.round(s*10)/1e3}const C4=[...Array(25)].map((e,s)=>{if(s===0)return"none";const r=op(s);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function Gv(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Yv(e){return e==="dark"?C4:[]}function _4(e){const{palette:s={mode:"light"},opacity:r,overlays:a,colorSpace:n,...i}=e,o=Kf({...s,colorSpace:n});return{palette:o,opacity:{...Gv(o.mode),...r},overlays:a||Yv(o.mode),...i}}function S4(e){var s;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((s=e[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const k4=e=>[...[...Array(25)].map((s,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],A4=e=>(s,r)=>{const a=e.rootSelector||":root",n=e.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),e.defaultColorScheme===s){if(s==="dark"){const o={};return k4(e.cssVarPrefix).forEach(l=>{o[l]=r[l],delete r[l]}),i==="media"?{[a]:r,"@media (prefers-color-scheme: dark)":{[a]:o}}:i?{[i.replace("%s",s)]:o,[`${a}, ${i.replace("%s",s)}`]:r}:{[a]:{...r,...o}}}if(i&&i!=="media")return`${a}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:r}};if(i)return i.replace("%s",String(s))}return a};function P4(e,s){s.forEach(r=>{e[r]||(e[r]={})})}function be(e,s,r){!e[s]&&r&&(e[s]=r)}function Qi(e){return typeof e!="string"||!e.startsWith("hsl")?e:qv(e)}function Vr(e,s){`${s}Channel`in e||(e[`${s}Channel`]=Yi(Qi(e[s])))}function E4(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Sr=e=>{try{return e()}catch{}},z4=(e="mui")=>Qk(e);function qu(e,s,r,a,n){if(!r)return;r=r===!0?{}:r;const i=n==="dark"?"dark":"light";if(!a){s[n]=_4({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:o,...l}=ip({...a,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return s[n]={...r,palette:o,opacity:{...Gv(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||Yv(i)},l}function T4(e={},...s){const{colorSchemes:r={light:!0},defaultColorScheme:a,disableCssColorScheme:n=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=S4,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:p=":root",...u}=e,f=Object.keys(r)[0],y=a||(r.light&&f!=="light"?"light":f),m=z4(i),{[y]:x,light:h,dark:N,...b}=r,g={...b};let j=x;if((y==="dark"&&!("dark"in r)||y==="light"&&!("light"in r))&&(j=!0),!j)throw new Error(na(21,y));let v;o&&(v="oklch");const A=qu(v,g,j,u,y);h&&!g.light&&qu(v,g,h,void 0,"light"),N&&!g.dark&&qu(v,g,N,void 0,"dark");let E={defaultColorScheme:y,...A,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:p,getCssVar:m,colorSchemes:g,font:{...l4(A.typography),...A.font},spacing:E4(u.spacing)};Object.keys(E.colorSchemes).forEach(q=>{const w=E.colorSchemes[q].palette,$=_=>{const S=_.split("-"),P=S[1],D=S[2];return m(_,w[P][D])};w.mode==="light"&&(be(w.common,"background","#fff"),be(w.common,"onBackground","#000")),w.mode==="dark"&&(be(w.common,"background","#000"),be(w.common,"onBackground","#fff"));function F(_,S,P){if(v){let D;return _===qa&&(D=`transparent ${((1-P)*100).toFixed(0)}%`),_===yt&&(D=`#000 ${(P*100).toFixed(0)}%`),_===bt&&(D=`#fff ${(P*100).toFixed(0)}%`),`color-mix(in ${v}, ${S}, ${D})`}return _(S,P)}if(P4(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){be(w.Alert,"errorColor",F(yt,w.error.light,.6)),be(w.Alert,"infoColor",F(yt,w.info.light,.6)),be(w.Alert,"successColor",F(yt,w.success.light,.6)),be(w.Alert,"warningColor",F(yt,w.warning.light,.6)),be(w.Alert,"errorFilledBg",$("palette-error-main")),be(w.Alert,"infoFilledBg",$("palette-info-main")),be(w.Alert,"successFilledBg",$("palette-success-main")),be(w.Alert,"warningFilledBg",$("palette-warning-main")),be(w.Alert,"errorFilledColor",Sr(()=>w.getContrastText(w.error.main))),be(w.Alert,"infoFilledColor",Sr(()=>w.getContrastText(w.info.main))),be(w.Alert,"successFilledColor",Sr(()=>w.getContrastText(w.success.main))),be(w.Alert,"warningFilledColor",Sr(()=>w.getContrastText(w.warning.main))),be(w.Alert,"errorStandardBg",F(bt,w.error.light,.9)),be(w.Alert,"infoStandardBg",F(bt,w.info.light,.9)),be(w.Alert,"successStandardBg",F(bt,w.success.light,.9)),be(w.Alert,"warningStandardBg",F(bt,w.warning.light,.9)),be(w.Alert,"errorIconColor",$("palette-error-main")),be(w.Alert,"infoIconColor",$("palette-info-main")),be(w.Alert,"successIconColor",$("palette-success-main")),be(w.Alert,"warningIconColor",$("palette-warning-main")),be(w.AppBar,"defaultBg",$("palette-grey-100")),be(w.Avatar,"defaultBg",$("palette-grey-400")),be(w.Button,"inheritContainedBg",$("palette-grey-300")),be(w.Button,"inheritContainedHoverBg",$("palette-grey-A100")),be(w.Chip,"defaultBorder",$("palette-grey-400")),be(w.Chip,"defaultAvatarColor",$("palette-grey-700")),be(w.Chip,"defaultIconColor",$("palette-grey-700")),be(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),be(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),be(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),be(w.LinearProgress,"primaryBg",F(bt,w.primary.main,.62)),be(w.LinearProgress,"secondaryBg",F(bt,w.secondary.main,.62)),be(w.LinearProgress,"errorBg",F(bt,w.error.main,.62)),be(w.LinearProgress,"infoBg",F(bt,w.info.main,.62)),be(w.LinearProgress,"successBg",F(bt,w.success.main,.62)),be(w.LinearProgress,"warningBg",F(bt,w.warning.main,.62)),be(w.Skeleton,"bg",v?F(qa,w.text.primary,.11):`rgba(${$("palette-text-primaryChannel")} / 0.11)`),be(w.Slider,"primaryTrack",F(bt,w.primary.main,.62)),be(w.Slider,"secondaryTrack",F(bt,w.secondary.main,.62)),be(w.Slider,"errorTrack",F(bt,w.error.main,.62)),be(w.Slider,"infoTrack",F(bt,w.info.main,.62)),be(w.Slider,"successTrack",F(bt,w.success.main,.62)),be(w.Slider,"warningTrack",F(bt,w.warning.main,.62));const _=v?F(yt,w.background.default,.6825):zl(w.background.default,.8);be(w.SnackbarContent,"bg",_),be(w.SnackbarContent,"color",Sr(()=>v?np.text.primary:w.getContrastText(_))),be(w.SpeedDialAction,"fabHoverBg",zl(w.background.paper,.15)),be(w.StepConnector,"border",$("palette-grey-400")),be(w.StepContent,"border",$("palette-grey-400")),be(w.Switch,"defaultColor",$("palette-common-white")),be(w.Switch,"defaultDisabledColor",$("palette-grey-100")),be(w.Switch,"primaryDisabledColor",F(bt,w.primary.main,.62)),be(w.Switch,"secondaryDisabledColor",F(bt,w.secondary.main,.62)),be(w.Switch,"errorDisabledColor",F(bt,w.error.main,.62)),be(w.Switch,"infoDisabledColor",F(bt,w.info.main,.62)),be(w.Switch,"successDisabledColor",F(bt,w.success.main,.62)),be(w.Switch,"warningDisabledColor",F(bt,w.warning.main,.62)),be(w.TableCell,"border",F(bt,F(qa,w.divider,1),.88)),be(w.Tooltip,"bg",F(qa,w.grey[700],.92))}if(w.mode==="dark"){be(w.Alert,"errorColor",F(bt,w.error.light,.6)),be(w.Alert,"infoColor",F(bt,w.info.light,.6)),be(w.Alert,"successColor",F(bt,w.success.light,.6)),be(w.Alert,"warningColor",F(bt,w.warning.light,.6)),be(w.Alert,"errorFilledBg",$("palette-error-dark")),be(w.Alert,"infoFilledBg",$("palette-info-dark")),be(w.Alert,"successFilledBg",$("palette-success-dark")),be(w.Alert,"warningFilledBg",$("palette-warning-dark")),be(w.Alert,"errorFilledColor",Sr(()=>w.getContrastText(w.error.dark))),be(w.Alert,"infoFilledColor",Sr(()=>w.getContrastText(w.info.dark))),be(w.Alert,"successFilledColor",Sr(()=>w.getContrastText(w.success.dark))),be(w.Alert,"warningFilledColor",Sr(()=>w.getContrastText(w.warning.dark))),be(w.Alert,"errorStandardBg",F(yt,w.error.light,.9)),be(w.Alert,"infoStandardBg",F(yt,w.info.light,.9)),be(w.Alert,"successStandardBg",F(yt,w.success.light,.9)),be(w.Alert,"warningStandardBg",F(yt,w.warning.light,.9)),be(w.Alert,"errorIconColor",$("palette-error-main")),be(w.Alert,"infoIconColor",$("palette-info-main")),be(w.Alert,"successIconColor",$("palette-success-main")),be(w.Alert,"warningIconColor",$("palette-warning-main")),be(w.AppBar,"defaultBg",$("palette-grey-900")),be(w.AppBar,"darkBg",$("palette-background-paper")),be(w.AppBar,"darkColor",$("palette-text-primary")),be(w.Avatar,"defaultBg",$("palette-grey-600")),be(w.Button,"inheritContainedBg",$("palette-grey-800")),be(w.Button,"inheritContainedHoverBg",$("palette-grey-700")),be(w.Chip,"defaultBorder",$("palette-grey-700")),be(w.Chip,"defaultAvatarColor",$("palette-grey-300")),be(w.Chip,"defaultIconColor",$("palette-grey-300")),be(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),be(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),be(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),be(w.LinearProgress,"primaryBg",F(yt,w.primary.main,.5)),be(w.LinearProgress,"secondaryBg",F(yt,w.secondary.main,.5)),be(w.LinearProgress,"errorBg",F(yt,w.error.main,.5)),be(w.LinearProgress,"infoBg",F(yt,w.info.main,.5)),be(w.LinearProgress,"successBg",F(yt,w.success.main,.5)),be(w.LinearProgress,"warningBg",F(yt,w.warning.main,.5)),be(w.Skeleton,"bg",v?F(qa,w.text.primary,.13):`rgba(${$("palette-text-primaryChannel")} / 0.13)`),be(w.Slider,"primaryTrack",F(yt,w.primary.main,.5)),be(w.Slider,"secondaryTrack",F(yt,w.secondary.main,.5)),be(w.Slider,"errorTrack",F(yt,w.error.main,.5)),be(w.Slider,"infoTrack",F(yt,w.info.main,.5)),be(w.Slider,"successTrack",F(yt,w.success.main,.5)),be(w.Slider,"warningTrack",F(yt,w.warning.main,.5));const _=v?F(bt,w.background.default,.985):zl(w.background.default,.98);be(w.SnackbarContent,"bg",_),be(w.SnackbarContent,"color",Sr(()=>v?Wv.text.primary:w.getContrastText(_))),be(w.SpeedDialAction,"fabHoverBg",zl(w.background.paper,.15)),be(w.StepConnector,"border",$("palette-grey-600")),be(w.StepContent,"border",$("palette-grey-600")),be(w.Switch,"defaultColor",$("palette-grey-300")),be(w.Switch,"defaultDisabledColor",$("palette-grey-600")),be(w.Switch,"primaryDisabledColor",F(yt,w.primary.main,.55)),be(w.Switch,"secondaryDisabledColor",F(yt,w.secondary.main,.55)),be(w.Switch,"errorDisabledColor",F(yt,w.error.main,.55)),be(w.Switch,"infoDisabledColor",F(yt,w.info.main,.55)),be(w.Switch,"successDisabledColor",F(yt,w.success.main,.55)),be(w.Switch,"warningDisabledColor",F(yt,w.warning.main,.55)),be(w.TableCell,"border",F(yt,F(qa,w.divider,1),.68)),be(w.Tooltip,"bg",F(qa,w.grey[700],.92))}Vr(w.background,"default"),Vr(w.background,"paper"),Vr(w.common,"background"),Vr(w.common,"onBackground"),Vr(w,"divider"),Object.keys(w).forEach(_=>{const S=w[_];_!=="tonalOffset"&&S&&typeof S=="object"&&(S.main&&be(w[_],"mainChannel",Yi(Qi(S.main))),S.light&&be(w[_],"lightChannel",Yi(Qi(S.light))),S.dark&&be(w[_],"darkChannel",Yi(Qi(S.dark))),S.contrastText&&be(w[_],"contrastTextChannel",Yi(Qi(S.contrastText))),_==="text"&&(Vr(w[_],"primary"),Vr(w[_],"secondary")),_==="action"&&(S.active&&Vr(w[_],"active"),S.selected&&Vr(w[_],"selected")))})}),E=s.reduce((q,w)=>hs(q,w),E);const C={prefix:i,disableCssColorScheme:n,shouldSkipGeneratingVar:l,getSelector:A4(E),enableContrastVars:o},{vars:z,generateThemeVars:k,generateStyleSheets:M}=Zk(E,C);return E.vars=z,Object.entries(E.colorSchemes[E.defaultColorScheme]).forEach(([q,w])=>{E[q]=w}),E.generateThemeVars=k,E.generateStyleSheets=M,E.generateSpacing=function(){return Iv(u.spacing,Bf(this))},E.getColorSchemeSelector=e4(c),E.spacing=E.generateSpacing(),E.shouldSkipGeneratingVar=l,E.unstable_sxConfig={...il,...u==null?void 0:u.unstable_sxConfig},E.unstable_sx=function(w){return pn({sx:w,theme:this})},E.toRuntimeSource=Kv,E}function Nx(e,s,r){e.colorSchemes&&r&&(e.colorSchemes[s]={...r!==!0&&r,palette:Kf({...r===!0?{}:r.palette,mode:s})})}function Qv(e={},...s){const{palette:r,cssVariables:a=!1,colorSchemes:n=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...o}=e,l=i||"light",c=n==null?void 0:n[l],p={...n,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(a===!1){if(!("colorSchemes"in e))return ip(e,...s);let u=r;"palette"in e||p[l]&&(p[l]!==!0?u=p[l].palette:l==="dark"&&(u={mode:"dark"}));const f=ip({...e,palette:u},...s);return f.defaultColorScheme=l,f.colorSchemes=p,f.palette.mode==="light"&&(f.colorSchemes.light={...p.light!==!0&&p.light,palette:f.palette},Nx(f,"dark",p.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:f.palette},Nx(f,"light",p.light)),f}return!r&&!("light"in p)&&l==="light"&&(p.light=!0),T4({...o,colorSchemes:p,defaultColorScheme:l,...typeof a!="boolean"&&a},...s)}const Gf=Qv();function ll(){const e=Wf(Gf);return e[jd]||e}function Xv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const wr=e=>Xv(e)&&e!=="classes",Re=Tk({themeId:jd,defaultTheme:Gf,rootShouldForwardProp:wr});function wx(...e){return e.reduce((s,r)=>r==null?s:function(...n){s.apply(this,n),r.apply(this,n)},()=>{})}function R4(e){return t.jsx(Ck,{...e,defaultTheme:Gf,themeId:jd})}function $4(e){return function(r){return t.jsx(R4,{styles:typeof e=="function"?a=>e({theme:a,...r}):e})}}function D4(){return Lv}const wt=Yk;function xt(e){return Hk(e)}function F4(e){return mt("MuiSvgIcon",e)}ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const I4=e=>{const{color:s,fontSize:r,classes:a}=e,n={root:["root",s!=="inherit"&&`color${Fe(s)}`,`fontSize${Fe(r)}`]};return pt(n,F4,a)},L4=Re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color!=="inherit"&&s[`color${Fe(r.color)}`],s[`fontSize${Fe(r.fontSize)}`]]}})(wt(({theme:e})=>{var s,r,a,n,i,o,l,c,p,u,f,y,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(s=e.transitions)==null?void 0:s.create)==null?void 0:n.call(s,"fill",{duration:(a=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:a.shorter}),variants:[{props:h=>!h.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(p=e.typography)==null?void 0:p.pxToRem)==null?void 0:u.call(p,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,h])=>h&&h.main).map(([h])=>{var N,b;return{props:{color:h},style:{color:(b=(N=(e.vars??e).palette)==null?void 0:N[h])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(y=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(x=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),lp=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:p,inheritViewBox:u=!1,titleAccess:f,viewBox:y="0 0 24 24",...m}=a,x=d.isValidElement(n)&&n.type==="svg",h={...a,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:u,viewBox:y,hasSvgAsChild:x},N={};u||(N.viewBox=y);const b=I4(h);return t.jsxs(L4,{as:l,className:Ke(b.root,i),focusable:"false",color:p,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:r,...N,...m,...x&&n.props,ownerState:h,children:[x?n.props.children:n,f?t.jsx("title",{children:f}):null]})});lp.muiName="SvgIcon";function Fs(e,s){function r(a,n){return t.jsx(lp,{"data-testid":void 0,ref:n,...a,children:e})}return r.muiName=lp.muiName,d.memo(d.forwardRef(r))}function Jv(e,s=166){let r;function a(...n){const i=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(i,s)}return a.clear=()=>{clearTimeout(r)},a}function vr(e){return e&&e.ownerDocument||document}function oa(e){return vr(e).defaultView||window}function Cx(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function _x(e){const{controlled:s,default:r,name:a,state:n="value"}=e,{current:i}=d.useRef(s!==void 0),[o,l]=d.useState(r),c=i?s:o,p=d.useCallback(u=>{i||l(u)},[]);return[c,p]}function nn(e){const s=d.useRef(e);return fn(()=>{s.current=e}),d.useRef((...r)=>(0,s.current)(...r)).current}function Ds(...e){const s=d.useRef(void 0),r=d.useCallback(a=>{const n=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(a);return typeof l=="function"?l:()=>{o(null)}}return i.current=a,()=>{i.current=null}});return()=>{n.forEach(i=>i==null?void 0:i())}},e);return d.useMemo(()=>e.every(a=>a==null)?null:a=>{s.current&&(s.current(),s.current=void 0),a!=null&&(s.current=r(a))},e)}function M4(e,s){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof s=="function"}function O4(e,s){if(!e)return s;function r(o,l){const c={};return Object.keys(l).forEach(p=>{M4(p,l[p])&&typeof o[p]=="function"&&(c[p]=(...u)=>{o[p](...u),l[p](...u)})}),c}if(typeof e=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof e=="function"?e({...o,...l}):e,p=Ke(o==null?void 0:o.className,l==null?void 0:l.className,c==null?void 0:c.className),u=r(c,l);return{...l,...c,...u,...!!p&&{className:p},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const a=s,n=r(e,a),i=Ke(a==null?void 0:a.className,e==null?void 0:e.className);return{...s,...e,...n,...!!i&&{className:i},...(a==null?void 0:a.style)&&(e==null?void 0:e.style)&&{style:{...a.style,...e.style}},...(a==null?void 0:a.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Zv(e,s){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function cp(e,s){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cp(e,s)}function ej(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,cp(e,s)}const Sx={disabled:!1},qc=tt.createContext(null);var U4=function(s){return s.scrollTop},Xi="unmounted",Ga="exited",Ya="entering",En="entered",dp="exiting",Ur=function(e){ej(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=n,l=o&&!o.isMounting?a.enter:a.appear,c;return i.appearStatus=null,a.in?l?(c=Ga,i.appearStatus=Ya):c=En:a.unmountOnExit||a.mountOnEnter?c=Xi:c=Ga,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===Xi?{status:Ga}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==Ya&&o!==En&&(i=Ya):(o===Ya||o===En)&&(i=dp)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,o,l;return i=o=l=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,l=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:l}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===Ya){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:kl.findDOMNode(this);o&&U4(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ga&&this.setState({status:Xi})},r.performEnter=function(n){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:n,c=this.props.nodeRef?[l]:[kl.findDOMNode(this),l],p=c[0],u=c[1],f=this.getTimeouts(),y=l?f.appear:f.enter;if(!n&&!o||Sx.disabled){this.safeSetState({status:En},function(){i.props.onEntered(p)});return}this.props.onEnter(p,u),this.safeSetState({status:Ya},function(){i.props.onEntering(p,u),i.onTransitionEnd(y,function(){i.safeSetState({status:En},function(){i.props.onEntered(p,u)})})})},r.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:kl.findDOMNode(this);if(!i||Sx.disabled){this.safeSetState({status:Ga},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:dp},function(){n.props.onExiting(l),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Ga},function(){n.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,n(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:kl.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],p=c[0],u=c[1];this.props.addEndListener(p,u)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===Xi)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Zv(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tt.createElement(qc.Provider,{value:null},typeof o=="function"?o(n,l):tt.cloneElement(tt.Children.only(o),l))},s}(tt.Component);Ur.contextType=qc;Ur.propTypes={};function An(){}Ur.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:An,onEntering:An,onEntered:An,onExit:An,onExiting:An,onExited:An};Ur.UNMOUNTED=Xi;Ur.EXITED=Ga;Ur.ENTERING=Ya;Ur.ENTERED=En;Ur.EXITING=dp;function B4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yf(e,s){var r=function(i){return s&&d.isValidElement(i)?s(i):i},a=Object.create(null);return e&&d.Children.map(e,function(n){return n}).forEach(function(n){a[n.key]=r(n)}),a}function q4(e,s){e=e||{},s=s||{};function r(u){return u in s?s[u]:e[u]}var a=Object.create(null),n=[];for(var i in e)i in s?n.length&&(a[i]=n,n=[]):n.push(i);var o,l={};for(var c in s){if(a[c])for(o=0;o<a[c].length;o++){var p=a[c][o];l[a[c][o]]=r(p)}l[c]=r(c)}for(o=0;o<n.length;o++)l[n[o]]=r(n[o]);return l}function tn(e,s,r){return r[s]!=null?r[s]:e.props[s]}function V4(e,s){return Yf(e.children,function(r){return d.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:tn(r,"appear",e),enter:tn(r,"enter",e),exit:tn(r,"exit",e)})})}function W4(e,s,r){var a=Yf(e.children),n=q4(s,a);return Object.keys(n).forEach(function(i){var o=n[i];if(d.isValidElement(o)){var l=i in s,c=i in a,p=s[i],u=d.isValidElement(p)&&!p.props.in;c&&(!l||u)?n[i]=d.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:tn(o,"exit",e),enter:tn(o,"enter",e)}):!c&&l&&!u?n[i]=d.cloneElement(o,{in:!1}):c&&l&&d.isValidElement(p)&&(n[i]=d.cloneElement(o,{onExited:r.bind(null,o),in:p.props.in,exit:tn(o,"exit",e),enter:tn(o,"enter",e)}))}}),n}var H4=Object.values||function(e){return Object.keys(e).map(function(s){return e[s]})},K4={component:"div",childFactory:function(s){return s}},Qf=function(e){ej(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var o=i.handleExited.bind(B4(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?V4(n,l):W4(n,o,l),firstRender:!1}},r.handleExited=function(n,i){var o=Yf(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(l){var c=Mc({},l.children);return delete c[n.key],{children:c}}))},r.render=function(){var n=this.props,i=n.component,o=n.childFactory,l=Zv(n,["component","childFactory"]),c=this.state.contextValue,p=H4(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?tt.createElement(qc.Provider,{value:c},p):tt.createElement(qc.Provider,{value:c},tt.createElement(i,l,p))},s}(tt.Component);Qf.propTypes={};Qf.defaultProps=K4;const kx={};function tj(e,s){const r=d.useRef(kx);return r.current===kx&&(r.current=e(s)),r}const G4=[];function Y4(e){d.useEffect(e,G4)}class Xf{constructor(){wi(this,"currentId",null);wi(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});wi(this,"disposeEffect",()=>this.clear)}static create(){return new Xf}start(s,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},s)}}function sj(){const e=tj(Xf.create).current;return Y4(e.disposeEffect),e}const rj=e=>e.scrollTop;function Vc(e,s){const{timeout:r,easing:a,style:n={}}=e;return{duration:n.transitionDuration??(typeof r=="number"?r:r[s.mode]||0),easing:n.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:n.transitionDelay}}function Wc(e){return typeof e=="string"}function aj(e,s,r){return e===void 0||Wc(e)?s:{...s,ownerState:{...s.ownerState,...r}}}function nj(e,s,r){return typeof e=="function"?e(s,r):e}function ij(e,s=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!s.includes(a)).forEach(a=>{r[a]=e[a]}),r}function Ax(e){if(e===void 0)return{};const s={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{s[r]=e[r]}),s}function oj(e){const{getSlotProps:s,additionalProps:r,externalSlotProps:a,externalForwardedProps:n,className:i}=e;if(!s){const m=Ke(r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),x={...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},h={...r,...n,...a};return m.length>0&&(h.className=m),Object.keys(x).length>0&&(h.style=x),{props:h,internalRef:void 0}}const o=ij({...n,...a}),l=Ax(a),c=Ax(n),p=s(o),u=Ke(p==null?void 0:p.className,r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),f={...p==null?void 0:p.style,...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},y={...p,...r,...c,...l};return u.length>0&&(y.className=u),Object.keys(f).length>0&&(y.style=f),{props:y,internalRef:p.ref}}function St(e,s){const{className:r,elementType:a,ownerState:n,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:p,slots:u={[e]:void 0},slotProps:f={[e]:void 0},...y}=i,m=u[e]||a,x=nj(f[e],n),{props:{component:h,...N},internalRef:b}=oj({className:r,...c,externalForwardedProps:e==="root"?y:void 0,externalSlotProps:x}),g=Ds(b,x==null?void 0:x.ref,s.ref),j=e==="root"?h||p:h,v=aj(m,{...e==="root"&&!p&&!u[e]&&o,...e!=="root"&&!u[e]&&o,...N,...j&&!l&&{as:j},...j&&l&&{component:j},ref:g},n);return[m,v]}function Q4(e){return mt("MuiPaper",e)}ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const X4=e=>{const{square:s,elevation:r,variant:a,classes:n}=e,i={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${r}`]};return pt(i,Q4,n)},J4=Re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],!r.square&&s.rounded,r.variant==="elevation"&&s[`elevation${r.elevation}`]]}})(wt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),di=d.forwardRef(function(s,r){var m;const a=xt({props:s,name:"MuiPaper"}),n=ll(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:p="elevation",...u}=a,f={...a,component:o,elevation:l,square:c,variant:p},y=X4(f);return t.jsx(J4,{as:o,ownerState:f,className:Ke(y.root,i),ref:r,...u,style:{...p==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[l],...n.vars&&{"--Paper-overlay":(m=n.vars.overlays)==null?void 0:m[l]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vo("#fff",op(l))}, ${Vo("#fff",op(l))})`}},...u.style}})});function Hc(e){try{return e.matches(":focus-visible")}catch{}return!1}class Kc{constructor(){wi(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Kc}static use(){const s=tj(Kc.create).current,[r,a]=d.useState(!1);return s.shouldMount=r,s.setShouldMount=a,d.useEffect(s.mountEffect,[r]),s}mount(){return this.mounted||(this.mounted=e5(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...s)})}stop(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...s)})}pulsate(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...s)})}}function Z4(){return Kc.use()}function e5(){let e,s;const r=new Promise((a,n)=>{e=a,s=n});return r.resolve=e,r.reject=s,r}function t5(e){const{className:s,classes:r,pulsate:a=!1,rippleX:n,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:p}=e,[u,f]=d.useState(!1),y=Ke(s,r.ripple,r.rippleVisible,a&&r.ripplePulsate),m={width:o,height:o,top:-(o/2)+i,left:-(o/2)+n},x=Ke(r.child,u&&r.childLeaving,a&&r.childPulsate);return!l&&!u&&f(!0),d.useEffect(()=>{if(!l&&c!=null){const h=setTimeout(c,p);return()=>{clearTimeout(h)}}},[c,l,p]),t.jsx("span",{className:y,style:m,children:t.jsx("span",{className:x})})}const Xs=ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),up=550,s5=80,r5=rl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,a5=rl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,n5=rl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,i5=Re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),o5=Re(t5,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Xs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${r5};
    animation-duration: ${up}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Xs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Xs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Xs.childLeaving} {
    opacity: 0;
    animation-name: ${a5};
    animation-duration: ${up}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Xs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${n5};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,l5=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...l}=a,[c,p]=d.useState([]),u=d.useRef(0),f=d.useRef(null);d.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const y=d.useRef(!1),m=sj(),x=d.useRef(null),h=d.useRef(null),N=d.useCallback(v=>{const{pulsate:A,rippleX:E,rippleY:C,rippleSize:z,cb:k}=v;p(M=>[...M,t.jsx(o5,{classes:{ripple:Ke(i.ripple,Xs.ripple),rippleVisible:Ke(i.rippleVisible,Xs.rippleVisible),ripplePulsate:Ke(i.ripplePulsate,Xs.ripplePulsate),child:Ke(i.child,Xs.child),childLeaving:Ke(i.childLeaving,Xs.childLeaving),childPulsate:Ke(i.childPulsate,Xs.childPulsate)},timeout:up,pulsate:A,rippleX:E,rippleY:C,rippleSize:z},u.current)]),u.current+=1,f.current=k},[i]),b=d.useCallback((v={},A={},E=()=>{})=>{const{pulsate:C=!1,center:z=n||A.pulsate,fakeElement:k=!1}=A;if((v==null?void 0:v.type)==="mousedown"&&y.current){y.current=!1;return}(v==null?void 0:v.type)==="touchstart"&&(y.current=!0);const M=k?null:h.current,q=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let w,$,F;if(z||v===void 0||v.clientX===0&&v.clientY===0||!v.clientX&&!v.touches)w=Math.round(q.width/2),$=Math.round(q.height/2);else{const{clientX:_,clientY:S}=v.touches&&v.touches.length>0?v.touches[0]:v;w=Math.round(_-q.left),$=Math.round(S-q.top)}if(z)F=Math.sqrt((2*q.width**2+q.height**2)/3),F%2===0&&(F+=1);else{const _=Math.max(Math.abs((M?M.clientWidth:0)-w),w)*2+2,S=Math.max(Math.abs((M?M.clientHeight:0)-$),$)*2+2;F=Math.sqrt(_**2+S**2)}v!=null&&v.touches?x.current===null&&(x.current=()=>{N({pulsate:C,rippleX:w,rippleY:$,rippleSize:F,cb:E})},m.start(s5,()=>{x.current&&(x.current(),x.current=null)})):N({pulsate:C,rippleX:w,rippleY:$,rippleSize:F,cb:E})},[n,N,m]),g=d.useCallback(()=>{b({},{pulsate:!0})},[b]),j=d.useCallback((v,A)=>{if(m.clear(),(v==null?void 0:v.type)==="touchend"&&x.current){x.current(),x.current=null,m.start(0,()=>{j(v,A)});return}x.current=null,p(E=>E.length>0?E.slice(1):E),f.current=A},[m]);return d.useImperativeHandle(r,()=>({pulsate:g,start:b,stop:j}),[g,b,j]),t.jsx(i5,{className:Ke(Xs.root,i.root,o),ref:h,...l,children:t.jsx(Qf,{component:null,exit:!0,children:c})})});function c5(e){return mt("MuiButtonBase",e)}const d5=ct("MuiButtonBase",["root","disabled","focusVisible"]),u5=e=>{const{disabled:s,focusVisible:r,focusVisibleClassName:a,classes:n}=e,o=pt({root:["root",s&&"disabled",r&&"focusVisible"]},c5,n);return r&&a&&(o.root+=` ${a}`),o},m5=Re("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${d5.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),lj=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:p=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:y=!1,focusVisibleClassName:m,LinkComponent:x="a",onBlur:h,onClick:N,onContextMenu:b,onDragLeave:g,onFocus:j,onFocusVisible:v,onKeyDown:A,onKeyUp:E,onMouseDown:C,onMouseLeave:z,onMouseUp:k,onTouchEnd:M,onTouchMove:q,onTouchStart:w,tabIndex:$=0,TouchRippleProps:F,touchRippleRef:_,type:S,...P}=a,D=d.useRef(null),I=Z4(),U=Ds(I.ref,_),[Y,V]=d.useState(!1);p&&Y&&V(!1),d.useImperativeHandle(n,()=>({focusVisible:()=>{V(!0),D.current.focus()}}),[]);const R=I.shouldMount&&!u&&!p;d.useEffect(()=>{Y&&y&&!u&&I.pulsate()},[u,y,Y,I]);const O=Wr(I,"start",C,f),W=Wr(I,"stop",b,f),K=Wr(I,"stop",g,f),H=Wr(I,"stop",k,f),T=Wr(I,"stop",te=>{Y&&te.preventDefault(),z&&z(te)},f),L=Wr(I,"start",w,f),ie=Wr(I,"stop",M,f),re=Wr(I,"stop",q,f),le=Wr(I,"stop",te=>{Hc(te.target)||V(!1),h&&h(te)},!1),pe=nn(te=>{D.current||(D.current=te.currentTarget),Hc(te.target)&&(V(!0),v&&v(te)),j&&j(te)}),oe=()=>{const te=D.current;return c&&c!=="button"&&!(te.tagName==="A"&&te.href)},de=nn(te=>{y&&!te.repeat&&Y&&te.key===" "&&I.stop(te,()=>{I.start(te)}),te.target===te.currentTarget&&oe()&&te.key===" "&&te.preventDefault(),A&&A(te),te.target===te.currentTarget&&oe()&&te.key==="Enter"&&!p&&(te.preventDefault(),N&&N(te))}),ue=nn(te=>{y&&te.key===" "&&Y&&!te.defaultPrevented&&I.stop(te,()=>{I.pulsate(te)}),E&&E(te),N&&te.target===te.currentTarget&&oe()&&te.key===" "&&!te.defaultPrevented&&N(te)});let Z=c;Z==="button"&&(P.href||P.to)&&(Z=x);const me={};if(Z==="button"){const te=!!P.formAction;me.type=S===void 0&&!te?"button":S,me.disabled=p}else!P.href&&!P.to&&(me.role="button"),p&&(me["aria-disabled"]=p);const ve=Ds(r,D),Pe={...a,centerRipple:i,component:c,disabled:p,disableRipple:u,disableTouchRipple:f,focusRipple:y,tabIndex:$,focusVisible:Y},ke=u5(Pe);return t.jsxs(m5,{as:Z,className:Ke(ke.root,l),ownerState:Pe,onBlur:le,onClick:N,onContextMenu:W,onFocus:pe,onKeyDown:de,onKeyUp:ue,onMouseDown:O,onMouseLeave:T,onMouseUp:H,onDragLeave:K,onTouchEnd:ie,onTouchMove:re,onTouchStart:L,ref:ve,tabIndex:p?-1:$,type:S,...me,...P,children:[o,R?t.jsx(l5,{ref:U,center:i,...F}):null]})});function Wr(e,s,r,a=!1){return nn(n=>(r&&r(n),a||e[s](n),!0))}function p5(e){return typeof e.main=="string"}function f5(e,s=[]){if(!p5(e))return!1;for(const r of s)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Hs(e=[]){return([,s])=>s&&f5(s,e)}function h5(e){return mt("MuiAlert",e)}const Px=ct("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function g5(e){return mt("MuiCircularProgress",e)}ct("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ur=44,mp=rl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,pp=rl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,x5=typeof mp!="string"?If`
        animation: ${mp} 1.4s linear infinite;
      `:null,y5=typeof pp!="string"?If`
        animation: ${pp} 1.4s ease-in-out infinite;
      `:null,b5=e=>{const{classes:s,variant:r,color:a,disableShrink:n}=e,i={root:["root",r,`color${Fe(a)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Fe(r)}`,n&&"circleDisableShrink"]};return pt(i,g5,s)},v5=Re("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`color${Fe(r.color)}`]]}})(wt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:x5||{animation:`${mp} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Hs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}}))]}))),j5=Re("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),N5=Re("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.circle,s[`circle${Fe(r.variant)}`],r.disableShrink&&s.circleDisableShrink]}})(wt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:y5||{animation:`${pp} 1.4s ease-in-out infinite`}}]}))),w5=Re("circle",{name:"MuiCircularProgress",slot:"Track"})(wt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),ui=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,enableTrackSlot:l=!1,size:c=40,style:p,thickness:u=3.6,value:f=0,variant:y="indeterminate",...m}=a,x={...a,color:i,disableShrink:o,size:c,thickness:u,value:f,variant:y,enableTrackSlot:l},h=b5(x),N={},b={},g={};if(y==="determinate"){const j=2*Math.PI*((ur-u)/2);N.strokeDasharray=j.toFixed(3),g["aria-valuenow"]=Math.round(f),N.strokeDashoffset=`${((100-f)/100*j).toFixed(3)}px`,b.transform="rotate(-90deg)"}return t.jsx(v5,{className:Ke(h.root,n),style:{width:c,height:c,...b,...p},ownerState:x,ref:r,role:"progressbar",...g,...m,children:t.jsxs(j5,{className:h.svg,ownerState:x,viewBox:`${ur/2} ${ur/2} ${ur} ${ur}`,children:[l?t.jsx(w5,{className:h.track,ownerState:x,cx:ur,cy:ur,r:(ur-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,t.jsx(N5,{className:h.circle,style:N,ownerState:x,cx:ur,cy:ur,r:(ur-u)/2,fill:"none",strokeWidth:u})]})})});function C5(e){return mt("MuiIconButton",e)}const Ex=ct("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),_5=e=>{const{classes:s,disabled:r,color:a,edge:n,size:i,loading:o}=e,l={root:["root",o&&"loading",r&&"disabled",a!=="default"&&`color${Fe(a)}`,n&&`edge${Fe(n)}`,`size${Fe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return pt(l,C5,s)},S5=Re(lj,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.loading&&s.loading,r.color!=="default"&&s[`color${Fe(r.color)}`],r.edge&&s[`edge${Fe(r.edge)}`],s[`size${Fe(r.size)}`]]}})(wt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),wt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Hs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(Hs()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Ex.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Ex.loading}`]:{color:"transparent"}}))),k5=Re("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Zn=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:p=!1,size:u="medium",id:f,loading:y=null,loadingIndicator:m,...x}=a,h=ol(f),N=m??t.jsx(ui,{"aria-labelledby":h,color:"inherit",size:16}),b={...a,edge:n,color:l,disabled:c,disableFocusRipple:p,loading:y,loadingIndicator:N,size:u},g=_5(b);return t.jsxs(S5,{id:y?h:f,className:Ke(g.root,o),centerRipple:!0,focusRipple:!p,disabled:c||y,ref:r,...x,ownerState:b,children:[typeof y=="boolean"&&t.jsx("span",{className:g.loadingWrapper,style:{display:"contents"},children:t.jsx(k5,{className:g.loadingIndicator,ownerState:b,children:y&&N})}),i]})}),A5=Fs(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),P5=Fs(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),E5=Fs(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),z5=Fs(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),T5=Fs(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),R5=e=>{const{variant:s,color:r,severity:a,classes:n}=e,i={root:["root",`color${Fe(r||a)}`,`${s}${Fe(r||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return pt(i,h5,n)},$5=Re(di,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${Fe(r.color||r.severity)}`]]}})(wt(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Hs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${Px.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Hs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${Px.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Hs(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}}}))]}})),D5=Re("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),F5=Re("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),I5=Re("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),zx={success:t.jsx(A5,{fontSize:"inherit"}),warning:t.jsx(P5,{fontSize:"inherit"}),error:t.jsx(E5,{fontSize:"inherit"}),info:t.jsx(z5,{fontSize:"inherit"})},mo=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiAlert"}),{action:n,children:i,className:o,closeText:l="Close",color:c,components:p={},componentsProps:u={},icon:f,iconMapping:y=zx,onClose:m,role:x="alert",severity:h="success",slotProps:N={},slots:b={},variant:g="standard",...j}=a,v={...a,color:c,severity:h,variant:g,colorSeverity:c||h},A=R5(v),E={slots:{closeButton:p.CloseButton,closeIcon:p.CloseIcon,...b},slotProps:{...u,...N}},[C,z]=St("root",{ref:r,shouldForwardComponentProp:!0,className:Ke(A.root,o),elementType:$5,externalForwardedProps:{...E,...j},ownerState:v,additionalProps:{role:x,elevation:0}}),[k,M]=St("icon",{className:A.icon,elementType:D5,externalForwardedProps:E,ownerState:v}),[q,w]=St("message",{className:A.message,elementType:F5,externalForwardedProps:E,ownerState:v}),[$,F]=St("action",{className:A.action,elementType:I5,externalForwardedProps:E,ownerState:v}),[_,S]=St("closeButton",{elementType:Zn,externalForwardedProps:E,ownerState:v}),[P,D]=St("closeIcon",{elementType:T5,externalForwardedProps:E,ownerState:v});return t.jsxs(C,{...z,children:[f!==!1?t.jsx(k,{...M,children:f||y[h]||zx[h]}):null,t.jsx(q,{...w,children:i}),n!=null?t.jsx($,{...F,children:n}):null,n==null&&m?t.jsx($,{...F,children:t.jsx(_,{size:"small","aria-label":l,title:l,color:"inherit",onClick:m,...S,children:t.jsx(P,{fontSize:"small",...D})})}):null]})});function L5(e){return mt("MuiTypography",e)}ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const M5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},O5=D4(),U5=e=>{const{align:s,gutterBottom:r,noWrap:a,paragraph:n,variant:i,classes:o}=e,l={root:["root",i,e.align!=="inherit"&&`align${Fe(s)}`,r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return pt(l,L5,o)},B5=Re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.variant&&s[r.variant],r.align!=="inherit"&&s[`align${Fe(r.align)}`],r.noWrap&&s.noWrap,r.gutterBottom&&s.gutterBottom,r.paragraph&&s.paragraph]}})(wt(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,a])=>r!=="inherit"&&a&&typeof a=="object").map(([r,a])=>({props:{variant:r},style:a})),...Object.entries(e.palette).filter(Hs()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Fe(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),Tx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},us=d.forwardRef(function(s,r){const{color:a,...n}=xt({props:s,name:"MuiTypography"}),i=!M5[a],o=O5({...n,...i&&{color:a}}),{align:l="inherit",className:c,component:p,gutterBottom:u=!1,noWrap:f=!1,paragraph:y=!1,variant:m="body1",variantMapping:x=Tx,...h}=o,N={...o,align:l,color:a,className:c,component:p,gutterBottom:u,noWrap:f,paragraph:y,variant:m,variantMapping:x},b=p||(y?"p":x[m]||Tx[m])||"span",g=U5(N);return t.jsx(B5,{as:b,ref:r,className:Ke(g.root,c),...h,ownerState:N,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...h.style}})});function q5(e){var f;const{elementType:s,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:n=!1,...i}=e,o=n?{}:nj(r,a),{props:l,internalRef:c}=oj({...i,externalSlotProps:o}),p=Ds(c,o==null?void 0:o.ref,(f=e.additionalProps)==null?void 0:f.ref);return aj(s,{...l,ref:p},a)}function cl(e){var s;return parseInt(d.version,10)>=19?((s=e==null?void 0:e.props)==null?void 0:s.ref)||null:(e==null?void 0:e.ref)||null}function V5(e){return typeof e=="function"?e():e}const W5=d.forwardRef(function(s,r){const{children:a,container:n,disablePortal:i=!1}=s,[o,l]=d.useState(null),c=Ds(d.isValidElement(a)?cl(a):null,r);if(fn(()=>{i||l(V5(n)||document.body)},[n,i]),fn(()=>{if(o&&!i)return Cx(r,o),()=>{Cx(r,null)}},[r,o,i]),i){if(d.isValidElement(a)){const p={ref:c};return d.cloneElement(a,p)}return a}return o&&gf.createPortal(a,o)});function Tl(e){return parseInt(e,10)||0}const H5={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function K5(e){for(const s in e)return!1;return!0}function Rx(e){return K5(e)||e.outerHeightStyle===0&&!e.overflowing}const G5=d.forwardRef(function(s,r){const{onChange:a,maxRows:n,minRows:i=1,style:o,value:l,...c}=s,{current:p}=d.useRef(l!=null),u=d.useRef(null),f=Ds(r,u),y=d.useRef(null),m=d.useRef(null),x=d.useCallback(()=>{const j=u.current,v=m.current;if(!j||!v)return;const E=oa(j).getComputedStyle(j);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};v.style.width=E.width,v.value=j.value||s.placeholder||"x",v.value.slice(-1)===`
`&&(v.value+=" ");const C=E.boxSizing,z=Tl(E.paddingBottom)+Tl(E.paddingTop),k=Tl(E.borderBottomWidth)+Tl(E.borderTopWidth),M=v.scrollHeight;v.value="x";const q=v.scrollHeight;let w=M;i&&(w=Math.max(Number(i)*q,w)),n&&(w=Math.min(Number(n)*q,w)),w=Math.max(w,q);const $=w+(C==="border-box"?z+k:0),F=Math.abs(w-M)<=1;return{outerHeightStyle:$,overflowing:F}},[n,i,s.placeholder]),h=nn(()=>{const j=u.current,v=x();if(!j||!v||Rx(v))return!1;const A=v.outerHeightStyle;return y.current!=null&&y.current!==A}),N=d.useCallback(()=>{const j=u.current,v=x();if(!j||!v||Rx(v))return;const A=v.outerHeightStyle;y.current!==A&&(y.current=A,j.style.height=`${A}px`),j.style.overflow=v.overflowing?"hidden":""},[x]),b=d.useRef(-1);fn(()=>{const j=Jv(N),v=u==null?void 0:u.current;if(!v)return;const A=oa(v);A.addEventListener("resize",j);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(()=>{h()&&(E.unobserve(v),cancelAnimationFrame(b.current),N(),b.current=requestAnimationFrame(()=>{E.observe(v)}))}),E.observe(v)),()=>{j.clear(),cancelAnimationFrame(b.current),A.removeEventListener("resize",j),E&&E.disconnect()}},[x,N,h]),fn(()=>{N()});const g=j=>{p||N();const v=j.target,A=v.value.length,E=v.value.endsWith(`
`),C=v.selectionStart===A;E&&C&&v.setSelectionRange(A,A),a&&a(j)};return t.jsxs(d.Fragment,{children:[t.jsx("textarea",{value:l,onChange:g,ref:f,rows:i,style:o,...c}),t.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:m,tabIndex:-1,style:{...H5.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Ni({props:e,states:s,muiFormControl:r}){return s.reduce((a,n)=>(a[n]=e[n],r&&typeof e[n]>"u"&&(a[n]=r[n]),a),{})}const tu=d.createContext(void 0);function xn(){return d.useContext(tu)}function $x(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Gc(e,s=!1){return e&&($x(e.value)&&e.value!==""||s&&$x(e.defaultValue)&&e.defaultValue!=="")}function Y5(e){return e.startAdornment}function Q5(e){return mt("MuiInputBase",e)}const mi=ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Dx;const su=(e,s)=>{const{ownerState:r}=e;return[s.root,r.formControl&&s.formControl,r.startAdornment&&s.adornedStart,r.endAdornment&&s.adornedEnd,r.error&&s.error,r.size==="small"&&s.sizeSmall,r.multiline&&s.multiline,r.color&&s[`color${Fe(r.color)}`],r.fullWidth&&s.fullWidth,r.hiddenLabel&&s.hiddenLabel]},ru=(e,s)=>{const{ownerState:r}=e;return[s.input,r.size==="small"&&s.inputSizeSmall,r.multiline&&s.inputMultiline,r.type==="search"&&s.inputTypeSearch,r.startAdornment&&s.inputAdornedStart,r.endAdornment&&s.inputAdornedEnd,r.hiddenLabel&&s.inputHiddenLabel]},X5=e=>{const{classes:s,color:r,disabled:a,error:n,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:p,multiline:u,readOnly:f,size:y,startAdornment:m,type:x}=e,h={root:["root",`color${Fe(r)}`,a&&"disabled",n&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",y&&y!=="medium"&&`size${Fe(y)}`,u&&"multiline",m&&"adornedStart",i&&"adornedEnd",p&&"hiddenLabel",f&&"readOnly"],input:["input",a&&"disabled",x==="search"&&"inputTypeSearch",u&&"inputMultiline",y==="small"&&"inputSizeSmall",p&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return pt(h,Q5,s)},au=Re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:su})(wt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mi.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),nu=Re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ru})(wt(({theme:e})=>{const s=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},a={opacity:"0 !important"},n=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mi.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${mi.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Fx=$4({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Jf=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:l,color:c,components:p={},componentsProps:u={},defaultValue:f,disabled:y,disableInjectingGlobalStyles:m,endAdornment:x,error:h,fullWidth:N=!1,id:b,inputComponent:g="input",inputProps:j={},inputRef:v,margin:A,maxRows:E,minRows:C,multiline:z=!1,name:k,onBlur:M,onChange:q,onClick:w,onFocus:$,onKeyDown:F,onKeyUp:_,placeholder:S,readOnly:P,renderSuffix:D,rows:I,size:U,slotProps:Y={},slots:V={},startAdornment:R,type:O="text",value:W,...K}=a,H=j.value!=null?j.value:W,{current:T}=d.useRef(H!=null),L=d.useRef(),ie=d.useCallback(G=>{},[]),re=Ds(L,v,j.ref,ie),[le,pe]=d.useState(!1),oe=xn(),de=Ni({props:a,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});de.focused=oe?oe.focused:le,d.useEffect(()=>{!oe&&y&&le&&(pe(!1),M&&M())},[oe,y,le,M]);const ue=oe&&oe.onFilled,Z=oe&&oe.onEmpty,me=d.useCallback(G=>{Gc(G)?ue&&ue():Z&&Z()},[ue,Z]);fn(()=>{T&&me({value:H})},[H,me,T]);const ve=G=>{$&&$(G),j.onFocus&&j.onFocus(G),oe&&oe.onFocus?oe.onFocus(G):pe(!0)},Pe=G=>{M&&M(G),j.onBlur&&j.onBlur(G),oe&&oe.onBlur?oe.onBlur(G):pe(!1)},ke=(G,...B)=>{if(!T){const X=G.target||L.current;if(X==null)throw new Error(na(1));me({value:X.value})}j.onChange&&j.onChange(G,...B),q&&q(G,...B)};d.useEffect(()=>{me(L.current)},[]);const te=G=>{L.current&&G.currentTarget===G.target&&L.current.focus(),w&&w(G)};let ae=g,ce=j;z&&ae==="input"&&(I?ce={type:void 0,minRows:I,maxRows:I,...ce}:ce={type:void 0,maxRows:E,minRows:C,...ce},ae=G5);const se=G=>{me(G.animationName==="mui-auto-fill-cancel"?L.current:{value:"x"})};d.useEffect(()=>{oe&&oe.setAdornedStart(!!R)},[oe,R]);const J={...a,color:de.color||"primary",disabled:de.disabled,endAdornment:x,error:de.error,focused:de.focused,formControl:oe,fullWidth:N,hiddenLabel:de.hiddenLabel,multiline:z,size:de.size,startAdornment:R,type:O},ee=X5(J),xe=V.root||p.Root||au,je=Y.root||u.root||{},Ne=V.input||p.Input||nu;return ce={...ce,...Y.input??u.input},t.jsxs(d.Fragment,{children:[!m&&typeof Fx=="function"&&(Dx||(Dx=t.jsx(Fx,{}))),t.jsxs(xe,{...je,ref:r,onClick:te,...K,...!Wc(xe)&&{ownerState:{...J,...je.ownerState}},className:Ke(ee.root,je.className,l,P&&"MuiInputBase-readOnly"),children:[R,t.jsx(tu.Provider,{value:null,children:t.jsx(Ne,{"aria-invalid":de.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:f,disabled:de.disabled,id:b,onAnimationStart:se,name:k,placeholder:S,readOnly:P,required:de.required,rows:I,value:H,onKeyDown:F,onKeyUp:_,type:O,...ce,...!Wc(Ne)&&{as:ae,ownerState:{...J,...ce.ownerState}},ref:re,className:Ke(ee.input,ce.className,P&&"MuiInputBase-readOnly"),onBlur:Pe,onChange:ke,onFocus:ve})}),x,D?D({...de,startAdornment:R}):null]})]})});function J5(e){return mt("MuiInput",e)}const Ii={...mi,...ct("MuiInput",["root","underline","input"])};function Z5(e){return mt("MuiOutlinedInput",e)}const kr={...mi,...ct("MuiOutlinedInput",["root","notchedOutline","input"])};function eA(e){return mt("MuiFilledInput",e)}const Va={...mi,...ct("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},tA=Fs(t.jsx("path",{d:"M7 10l5 5 5-5z"})),sA={entering:{opacity:1},entered:{opacity:1}},fp=d.forwardRef(function(s,r){const a=ll(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:p,onEnter:u,onEntered:f,onEntering:y,onExit:m,onExited:x,onExiting:h,style:N,timeout:b=n,TransitionComponent:g=Ur,...j}=s,v=d.useRef(null),A=Ds(v,cl(l),r),E=F=>_=>{if(F){const S=v.current;_===void 0?F(S):F(S,_)}},C=E(y),z=E((F,_)=>{rj(F);const S=Vc({style:N,timeout:b,easing:c},{mode:"enter"});F.style.webkitTransition=a.transitions.create("opacity",S),F.style.transition=a.transitions.create("opacity",S),u&&u(F,_)}),k=E(f),M=E(h),q=E(F=>{const _=Vc({style:N,timeout:b,easing:c},{mode:"exit"});F.style.webkitTransition=a.transitions.create("opacity",_),F.style.transition=a.transitions.create("opacity",_),m&&m(F)}),w=E(x),$=F=>{i&&i(v.current,F)};return t.jsx(g,{appear:o,in:p,nodeRef:v,onEnter:z,onEntered:k,onEntering:C,onExit:q,onExited:w,onExiting:M,addEndListener:$,timeout:b,...j,children:(F,{ownerState:_,...S})=>d.cloneElement(l,{style:{opacity:0,visibility:F==="exited"&&!p?"hidden":void 0,...sA[F],...N,...l.props.style},ref:A,...S})})});function rA(e){return mt("MuiBackdrop",e)}ct("MuiBackdrop",["root","invisible"]);const aA=e=>{const{classes:s,invisible:r}=e;return pt({root:["root",r&&"invisible"]},rA,s)},nA=Re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),cj=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:l=!1,open:c,components:p={},componentsProps:u={},slotProps:f={},slots:y={},TransitionComponent:m,transitionDuration:x,...h}=a,N={...a,component:o,invisible:l},b=aA(N),g={transition:m,root:p.Root,...y},j={...u,...f},v={component:o,slots:g,slotProps:j},[A,E]=St("root",{elementType:nA,externalForwardedProps:v,className:Ke(b.root,i),ownerState:N}),[C,z]=St("transition",{elementType:fp,externalForwardedProps:v,ownerState:N});return t.jsx(C,{in:c,timeout:x,...h,...z,children:t.jsx(A,{"aria-hidden":!0,...E,classes:b,ref:r,children:n})})}),iA=ct("MuiBox",["root"]),oA=Qv(),Hr=kk({themeId:jd,defaultTheme:oA,defaultClassName:iA.root,generateClassName:Mv.generate});function lA(e){return mt("MuiButton",e)}const Wa=ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),cA=d.createContext({}),dA=d.createContext(void 0),uA=e=>{const{color:s,disableElevation:r,fullWidth:a,size:n,variant:i,loading:o,loadingPosition:l,classes:c}=e,p={root:["root",o&&"loading",i,`${i}${Fe(s)}`,`size${Fe(n)}`,`${i}Size${Fe(n)}`,`color${Fe(s)}`,r&&"disableElevation",a&&"fullWidth",o&&`loadingPosition${Fe(l)}`],startIcon:["icon","startIcon",`iconSize${Fe(n)}`],endIcon:["icon","endIcon",`iconSize${Fe(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=pt(p,lA,c);return{...c,...u}},dj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],mA=Re(lj,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${Fe(r.color)}`],s[`size${Fe(r.size)}`],s[`${r.variant}Size${Fe(r.size)}`],r.color==="inherit"&&s.colorInherit,r.disableElevation&&s.disableElevation,r.fullWidth&&s.fullWidth,r.loading&&s.loading]}})(wt(({theme:e})=>{const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Wa.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Wa.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Wa.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Wa.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Hs()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(e.vars||e).palette[a].main,"--variant-outlinedColor":(e.vars||e).palette[a].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[a].main,.5),"--variant-containedColor":(e.vars||e).palette[a].contrastText,"--variant-containedBg":(e.vars||e).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[a].dark,"--variant-textBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[a].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wa.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Wa.loading}`]:{color:"transparent"}}}]}})),pA=Re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.startIcon,r.loading&&s.startIconLoadingStart,s[`iconSize${Fe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...dj]})),fA=Re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.endIcon,r.loading&&s.endIconLoadingEnd,s[`iconSize${Fe(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...dj]})),hA=Re("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Ix=Re("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Lx=d.forwardRef(function(s,r){const a=d.useContext(cA),n=d.useContext(dA),i=Bc(a,s),o=xt({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:p="button",className:u,disabled:f=!1,disableElevation:y=!1,disableFocusRipple:m=!1,endIcon:x,focusVisibleClassName:h,fullWidth:N=!1,id:b,loading:g=null,loadingIndicator:j,loadingPosition:v="center",size:A="medium",startIcon:E,type:C,variant:z="text",...k}=o,M=ol(b),q=j??t.jsx(ui,{"aria-labelledby":M,color:"inherit",size:16}),w={...o,color:c,component:p,disabled:f,disableElevation:y,disableFocusRipple:m,fullWidth:N,loading:g,loadingIndicator:q,loadingPosition:v,size:A,type:C,variant:z},$=uA(w),F=(E||g&&v==="start")&&t.jsx(pA,{className:$.startIcon,ownerState:w,children:E||t.jsx(Ix,{className:$.loadingIconPlaceholder,ownerState:w})}),_=(x||g&&v==="end")&&t.jsx(fA,{className:$.endIcon,ownerState:w,children:x||t.jsx(Ix,{className:$.loadingIconPlaceholder,ownerState:w})}),S=n||"",P=typeof g=="boolean"?t.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:g&&t.jsx(hA,{className:$.loadingIndicator,ownerState:w,children:q})}):null;return t.jsxs(mA,{ownerState:w,className:Ke(a.className,$.root,u,S),component:p,disabled:f||g,focusRipple:!m,focusVisibleClassName:Ke($.focusVisible,h),ref:r,type:C,id:g?M:b,...k,classes:$,children:[F,v!=="end"&&P,l,v==="end"&&P,_]})});function uj(e=window){const s=e.document.documentElement.clientWidth;return e.innerWidth-s}function gA(e){const s=vr(e);return s.body===e?oa(e).innerWidth>s.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function po(e,s){s?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Mx(e){return parseInt(oa(e).getComputedStyle(e).paddingRight,10)||0}function xA(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),a=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||a}function Ox(e,s,r,a,n){const i=[s,r,...a];[].forEach.call(e.children,o=>{const l=!i.includes(o),c=!xA(o);l&&c&&po(o,n)})}function Vu(e,s){let r=-1;return e.some((a,n)=>s(a)?(r=n,!0):!1),r}function yA(e,s){const r=[],a=e.container;if(!s.disableScrollLock){if(gA(a)){const o=uj(oa(a));r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${Mx(a)+o}px`;const l=vr(a).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Mx(c)+o}px`})}let i;if(a.parentNode instanceof DocumentFragment)i=vr(a).body;else{const o=a.parentElement,l=oa(a);i=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:a}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function bA(e){const s=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&s.push(r)}),s}class vA{constructor(){this.modals=[],this.containers=[]}add(s,r){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&po(s.modalRef,!1);const n=bA(r);Ox(r,s.mount,s.modalRef,n,!0);const i=Vu(this.containers,o=>o.container===r);return i!==-1?(this.containers[i].modals.push(s),a):(this.containers.push({modals:[s],container:r,restore:null,hiddenSiblings:n}),a)}mount(s,r){const a=Vu(this.containers,i=>i.modals.includes(s)),n=this.containers[a];n.restore||(n.restore=yA(n,r))}remove(s,r=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const n=Vu(this.containers,o=>o.modals.includes(s)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(a,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&po(s.modalRef,r),Ox(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&po(o.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function Ji(e){var r;let s=e.activeElement;for(;((r=s==null?void 0:s.shadowRoot)==null?void 0:r.activeElement)!=null;)s=s.shadowRoot.activeElement;return s}const jA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function NA(e){const s=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(s)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:s}function wA(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const s=a=>e.ownerDocument.querySelector(`input[type="radio"]${a}`);let r=s(`[name="${e.name}"]:checked`);return r||(r=s(`[name="${e.name}"]`)),r!==e}function CA(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||wA(e))}function _A(e){const s=[],r=[];return Array.from(e.querySelectorAll(jA)).forEach((a,n)=>{const i=NA(a);i===-1||!CA(a)||(i===0?s.push(a):r.push({documentOrder:n,tabIndex:i,node:a}))}),r.sort((a,n)=>a.tabIndex===n.tabIndex?a.documentOrder-n.documentOrder:a.tabIndex-n.tabIndex).map(a=>a.node).concat(s)}function SA(){return!0}function kA(e){const{children:s,disableAutoFocus:r=!1,disableEnforceFocus:a=!1,disableRestoreFocus:n=!1,getTabbable:i=_A,isEnabled:o=SA,open:l}=e,c=d.useRef(!1),p=d.useRef(null),u=d.useRef(null),f=d.useRef(null),y=d.useRef(null),m=d.useRef(!1),x=d.useRef(null),h=Ds(cl(s),x),N=d.useRef(null);d.useEffect(()=>{!l||!x.current||(m.current=!r)},[r,l]),d.useEffect(()=>{if(!l||!x.current)return;const j=vr(x.current),v=Ji(j);return x.current.contains(v)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),m.current&&x.current.focus()),()=>{n||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[l]),d.useEffect(()=>{if(!l||!x.current)return;const j=vr(x.current),v=Ji(j),A=z=>{N.current=z,!(a||!o()||z.key!=="Tab")&&v===x.current&&z.shiftKey&&(c.current=!0,u.current&&u.current.focus())},E=()=>{var q,w;const z=x.current;if(z===null)return;const k=Ji(j);if(!j.hasFocus()||!o()||c.current){c.current=!1;return}if(z.contains(k)||a&&k!==p.current&&k!==u.current)return;if(k!==y.current)y.current=null;else if(y.current!==null)return;if(!m.current)return;let M=[];if((k===p.current||k===u.current)&&(M=i(x.current)),M.length>0){const $=!!((q=N.current)!=null&&q.shiftKey&&((w=N.current)==null?void 0:w.key)==="Tab"),F=M[0],_=M[M.length-1];typeof F!="string"&&typeof _!="string"&&($?_.focus():F.focus())}else z.focus()};j.addEventListener("focusin",E),j.addEventListener("keydown",A,!0);const C=setInterval(()=>{const z=Ji(j);z&&z.tagName==="BODY"&&E()},50);return()=>{clearInterval(C),j.removeEventListener("focusin",E),j.removeEventListener("keydown",A,!0)}},[r,a,n,o,l,i]);const b=j=>{f.current===null&&(f.current=j.relatedTarget),m.current=!0,y.current=j.target;const v=s.props.onFocus;v&&v(j)},g=j=>{f.current===null&&(f.current=j.relatedTarget),m.current=!0};return t.jsxs(d.Fragment,{children:[t.jsx("div",{tabIndex:l?0:-1,onFocus:g,ref:p,"data-testid":"sentinelStart"}),d.cloneElement(s,{ref:h,onFocus:b}),t.jsx("div",{tabIndex:l?0:-1,onFocus:g,ref:u,"data-testid":"sentinelEnd"})]})}function AA(e){return typeof e=="function"?e():e}function PA(e){return e?e.props.hasOwnProperty("in"):!1}const Ux=()=>{},Rl=new vA;function EA(e){const{container:s,disableEscapeKeyDown:r=!1,disableScrollLock:a=!1,closeAfterTransition:n=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:p,rootRef:u}=e,f=d.useRef({}),y=d.useRef(null),m=d.useRef(null),x=Ds(m,u),[h,N]=d.useState(!p),b=PA(l);let g=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(g=!1);const j=()=>vr(y.current),v=()=>(f.current.modalRef=m.current,f.current.mount=y.current,f.current),A=()=>{Rl.mount(v(),{disableScrollLock:a}),m.current&&(m.current.scrollTop=0)},E=nn(()=>{const _=AA(s)||j().body;Rl.add(v(),_),m.current&&A()}),C=()=>Rl.isTopModal(v()),z=nn(_=>{y.current=_,_&&(p&&C()?A():m.current&&po(m.current,g))}),k=d.useCallback(()=>{Rl.remove(v(),g)},[g]);d.useEffect(()=>()=>{k()},[k]),d.useEffect(()=>{p?E():(!b||!n)&&k()},[p,k,b,n,E]);const M=_=>S=>{var P;(P=_.onKeyDown)==null||P.call(_,S),!(S.key!=="Escape"||S.which===229||!C())&&(r||(S.stopPropagation(),c&&c(S,"escapeKeyDown")))},q=_=>S=>{var P;(P=_.onClick)==null||P.call(_,S),S.target===S.currentTarget&&c&&c(S,"backdropClick")};return{getRootProps:(_={})=>{const S=ij(e);delete S.onTransitionEnter,delete S.onTransitionExited;const P={...S,..._};return{role:"presentation",...P,onKeyDown:M(P),ref:x}},getBackdropProps:(_={})=>{const S=_;return{"aria-hidden":!0,...S,onClick:q(S),open:p}},getTransitionProps:()=>{const _=()=>{N(!1),i&&i()},S=()=>{N(!0),o&&o(),n&&k()};return{onEnter:wx(_,(l==null?void 0:l.props.onEnter)??Ux),onExited:wx(S,(l==null?void 0:l.props.onExited)??Ux)}},rootRef:x,portalRef:z,isTopModal:C,exited:h,hasTransition:b}}function zA(e){return mt("MuiModal",e)}ct("MuiModal",["root","hidden","backdrop"]);const TA=e=>{const{open:s,exited:r,classes:a}=e;return pt({root:["root",!s&&r&&"hidden"],backdrop:["backdrop"]},zA,a)},RA=Re("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.open&&r.exited&&s.hidden]}})(wt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),$A=Re(cj,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),mj=d.forwardRef(function(s,r){const a=xt({name:"MuiModal",props:s}),{BackdropComponent:n=$A,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:p,container:u,component:f,components:y={},componentsProps:m={},disableAutoFocus:x=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:N=!1,disablePortal:b=!1,disableRestoreFocus:g=!1,disableScrollLock:j=!1,hideBackdrop:v=!1,keepMounted:A=!1,onClose:E,onTransitionEnter:C,onTransitionExited:z,open:k,slotProps:M={},slots:q={},theme:w,...$}=a,F={...a,closeAfterTransition:c,disableAutoFocus:x,disableEnforceFocus:h,disableEscapeKeyDown:N,disablePortal:b,disableRestoreFocus:g,disableScrollLock:j,hideBackdrop:v,keepMounted:A},{getRootProps:_,getBackdropProps:S,getTransitionProps:P,portalRef:D,isTopModal:I,exited:U,hasTransition:Y}=EA({...F,rootRef:r}),V={...F,exited:U},R=TA(V),O={};if(p.props.tabIndex===void 0&&(O.tabIndex="-1"),Y){const{onEnter:ie,onExited:re}=P();O.onEnter=ie,O.onExited=re}const W={slots:{root:y.Root,backdrop:y.Backdrop,...q},slotProps:{...m,...M}},[K,H]=St("root",{ref:r,elementType:RA,externalForwardedProps:{...W,...$,component:f},getSlotProps:_,ownerState:V,className:Ke(l,R==null?void 0:R.root,!V.open&&V.exited&&(R==null?void 0:R.hidden))}),[T,L]=St("backdrop",{ref:i==null?void 0:i.ref,elementType:n,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:ie=>S({...ie,onClick:re=>{ie!=null&&ie.onClick&&ie.onClick(re)}}),className:Ke(i==null?void 0:i.className,R==null?void 0:R.backdrop),ownerState:V});return!A&&!k&&(!Y||U)?null:t.jsx(W5,{ref:D,container:u,disablePortal:b,children:t.jsxs(K,{...H,children:[!v&&n?t.jsx(T,{...L}):null,t.jsx(kA,{disableEnforceFocus:h,disableAutoFocus:x,disableRestoreFocus:g,isEnabled:I,open:k,children:d.cloneElement(p,O)})]})})});function DA(e){return mt("MuiDialog",e)}const Wu=ct("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),pj=d.createContext({}),FA=Re(cj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,s)=>s.backdrop})({zIndex:-1}),IA=e=>{const{classes:s,scroll:r,maxWidth:a,fullWidth:n,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${Fe(r)}`],paper:["paper",`paperScroll${Fe(r)}`,`paperWidth${Fe(String(a))}`,n&&"paperFullWidth",i&&"paperFullScreen"]};return pt(o,DA,s)},LA=Re(mj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),MA=Re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.container,s[`scroll${Fe(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),OA=Re(di,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.paper,s[`scrollPaper${Fe(r.scroll)}`],s[`paperWidth${Fe(String(r.maxWidth))}`],r.fullWidth&&s.paperFullWidth,r.fullScreen&&s.paperFullScreen]}})(wt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Wu.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${e.breakpoints.values[s]}${e.breakpoints.unit}`,[`&.${Wu.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Wu.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),UA=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiDialog"}),n=ll(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:p,BackdropProps:u,children:f,className:y,disableEscapeKeyDown:m=!1,fullScreen:x=!1,fullWidth:h=!1,maxWidth:N="sm",onClick:b,onClose:g,open:j,PaperComponent:v=di,PaperProps:A={},scroll:E="paper",slots:C={},slotProps:z={},TransitionComponent:k=fp,transitionDuration:M=i,TransitionProps:q,...w}=a,$={...a,disableEscapeKeyDown:m,fullScreen:x,fullWidth:h,maxWidth:N,scroll:E},F=IA($),_=d.useRef(),S=pe=>{_.current=pe.target===pe.currentTarget},P=pe=>{b&&b(pe),_.current&&(_.current=null,g&&g(pe,"backdropClick"))},D=ol(l),I=d.useMemo(()=>({titleId:D}),[D]),U={transition:k,...C},Y={transition:q,paper:A,backdrop:u,...z},V={slots:U,slotProps:Y},[R,O]=St("root",{elementType:LA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:$,className:Ke(F.root,y),ref:r}),[W,K]=St("backdrop",{elementType:FA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:$}),[H,T]=St("paper",{elementType:OA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:$,className:Ke(F.paper,A.className)}),[L,ie]=St("container",{elementType:MA,externalForwardedProps:V,ownerState:$,className:F.container}),[re,le]=St("transition",{elementType:fp,externalForwardedProps:V,ownerState:$,additionalProps:{appear:!0,in:j,timeout:M,role:"presentation"}});return t.jsx(R,{closeAfterTransition:!0,slots:{backdrop:W},slotProps:{backdrop:{transitionDuration:M,as:p,...K}},disableEscapeKeyDown:m,onClose:g,open:j,onClick:P,...O,...w,children:t.jsx(re,{...le,children:t.jsx(L,{onMouseDown:S,...ie,children:t.jsx(H,{as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":D,"aria-modal":c,...T,children:t.jsx(pj.Provider,{value:I,children:f})})})})})});function BA(e){return mt("MuiDialogActions",e)}ct("MuiDialogActions",["root","spacing"]);const qA=e=>{const{classes:s,disableSpacing:r}=e;return pt({root:["root",!r&&"spacing"]},BA,s)},VA=Re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),WA=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1,...o}=a,l={...a,disableSpacing:i},c=qA(l);return t.jsx(VA,{className:Ke(c.root,n),ownerState:l,ref:r,...o})});function HA(e){return mt("MuiDialogContent",e)}ct("MuiDialogContent",["root","dividers"]);function KA(e){return mt("MuiDialogTitle",e)}const GA=ct("MuiDialogTitle",["root"]),YA=e=>{const{classes:s,dividers:r}=e;return pt({root:["root",r&&"dividers"]},HA,s)},QA=Re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.dividers&&s.dividers]}})(wt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${GA.root} + &`]:{paddingTop:0}}}]}))),XA=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiDialogContent"}),{className:n,dividers:i=!1,...o}=a,l={...a,dividers:i},c=YA(l);return t.jsx(QA,{className:Ke(c.root,n),ownerState:l,ref:r,...o})}),JA=e=>{const{classes:s}=e;return pt({root:["root"]},KA,s)},ZA=Re(us,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),eP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiDialogTitle"}),{className:n,id:i,...o}=a,l=a,c=JA(l),{titleId:p=i}=d.useContext(pj);return t.jsx(ZA,{component:"h2",className:Ke(c.root,n),ownerState:l,ref:r,variant:"h6",id:i??p,...o})}),tP=e=>{const{classes:s,disableUnderline:r,startAdornment:a,endAdornment:n,size:i,hiddenLabel:o,multiline:l}=e,c={root:["root",!r&&"underline",a&&"adornedStart",n&&"adornedEnd",i==="small"&&`size${Fe(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},p=pt(c,eA,s);return{...s,...p}},sP=Re(au,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...su(e,s),!r.disableUnderline&&s.underline]}})(wt(({theme:e})=>{const s=e.palette.mode==="light",r=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Va.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Va.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Va.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Va.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Va.disabled}, .${Va.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Va.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Hs()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),rP=Re(nu,{name:"MuiFilledInput",slot:"Input",overridesResolver:ru})(wt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Zf=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:p="input",multiline:u=!1,slotProps:f,slots:y={},type:m="text",...x}=a,h={...a,disableUnderline:n,fullWidth:l,inputComponent:p,multiline:u,type:m},N=tP(a),b={root:{ownerState:h},input:{ownerState:h}},g=f??o?hs(b,f??o):b,j=y.root??i.Root??sP,v=y.input??i.Input??rP;return t.jsx(Jf,{slots:{root:j,input:v},slotProps:g,fullWidth:l,inputComponent:p,multiline:u,ref:r,type:m,...x,classes:N})});Zf.muiName="Input";function aP(e){return mt("MuiFormControl",e)}ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const nP=e=>{const{classes:s,margin:r,fullWidth:a}=e,n={root:["root",r!=="none"&&`margin${Fe(r)}`,a&&"fullWidth"]};return pt(n,aP,s)},iP=Re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`margin${Fe(r.margin)}`],r.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),oP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:l="div",disabled:c=!1,error:p=!1,focused:u,fullWidth:f=!1,hiddenLabel:y=!1,margin:m="none",required:x=!1,size:h="medium",variant:N="outlined",...b}=a,g={...a,color:o,component:l,disabled:c,error:p,fullWidth:f,hiddenLabel:y,margin:m,required:x,size:h,variant:N},j=nP(g),[v,A]=d.useState(()=>{let _=!1;return n&&d.Children.forEach(n,S=>{if(!Bu(S,["Input","Select"]))return;const P=Bu(S,["Select"])?S.props.input:S;P&&Y5(P.props)&&(_=!0)}),_}),[E,C]=d.useState(()=>{let _=!1;return n&&d.Children.forEach(n,S=>{Bu(S,["Input","Select"])&&(Gc(S.props,!0)||Gc(S.props.inputProps,!0))&&(_=!0)}),_}),[z,k]=d.useState(!1);c&&z&&k(!1);const M=u!==void 0&&!c?u:z;let q;d.useRef(!1);const w=d.useCallback(()=>{C(!0)},[]),$=d.useCallback(()=>{C(!1)},[]),F=d.useMemo(()=>({adornedStart:v,setAdornedStart:A,color:o,disabled:c,error:p,filled:E,focused:M,fullWidth:f,hiddenLabel:y,size:h,onBlur:()=>{k(!1)},onFocus:()=>{k(!0)},onEmpty:$,onFilled:w,registerEffect:q,required:x,variant:N}),[v,o,c,p,E,M,f,y,q,$,w,x,h,N]);return t.jsx(tu.Provider,{value:F,children:t.jsx(iP,{as:l,ownerState:g,className:Ke(j.root,i),ref:r,...b,children:n})})});function lP(e){return mt("MuiFormHelperText",e)}const Bx=ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var qx;const cP=e=>{const{classes:s,contained:r,size:a,disabled:n,error:i,filled:o,focused:l,required:c}=e,p={root:["root",n&&"disabled",i&&"error",a&&`size${Fe(a)}`,r&&"contained",l&&"focused",o&&"filled",c&&"required"]};return pt(p,lP,s)},dP=Re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s[`size${Fe(r.size)}`],r.contained&&s.contained,r.filled&&s.filled]}})(wt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Bx.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Bx.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),uP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiFormHelperText"}),{children:n,className:i,component:o="p",disabled:l,error:c,filled:p,focused:u,margin:f,required:y,variant:m,...x}=a,h=xn(),N=Ni({props:a,muiFormControl:h,states:["variant","size","disabled","error","filled","focused","required"]}),b={...a,component:o,contained:N.variant==="filled"||N.variant==="outlined",variant:N.variant,size:N.size,disabled:N.disabled,error:N.error,filled:N.filled,focused:N.focused,required:N.required};delete b.ownerState;const g=cP(b);return t.jsx(dP,{as:o,className:Ke(g.root,i),ref:r,...x,ownerState:b,children:n===" "?qx||(qx=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function mP(e){return mt("MuiFormLabel",e)}const fo=ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pP=e=>{const{classes:s,color:r,focused:a,disabled:n,error:i,filled:o,required:l}=e,c={root:["root",`color${Fe(r)}`,n&&"disabled",i&&"error",o&&"filled",a&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return pt(c,mP,s)},fP=Re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color==="secondary"&&s.colorSecondary,r.filled&&s.filled]}})(wt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Hs()).map(([s])=>({props:{color:s},style:{[`&.${fo.focused}`]:{color:(e.vars||e).palette[s].main}}})),{props:{},style:{[`&.${fo.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fo.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),hP=Re("span",{name:"MuiFormLabel",slot:"Asterisk"})(wt(({theme:e})=>({[`&.${fo.error}`]:{color:(e.vars||e).palette.error.main}}))),gP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:l="label",disabled:c,error:p,filled:u,focused:f,required:y,...m}=a,x=xn(),h=Ni({props:a,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),N={...a,color:h.color||"primary",component:l,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required},b=pP(N);return t.jsxs(fP,{as:l,ownerState:N,className:Ke(b.root,i),ref:r,...m,children:[n,h.required&&t.jsxs(hP,{ownerState:N,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})});function hp(e){return`scale(${e}, ${e**2})`}const xP={entering:{opacity:1,transform:hp(1)},entered:{opacity:1,transform:"none"}},Hu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gp=d.forwardRef(function(s,r){const{addEndListener:a,appear:n=!0,children:i,easing:o,in:l,onEnter:c,onEntered:p,onEntering:u,onExit:f,onExited:y,onExiting:m,style:x,timeout:h="auto",TransitionComponent:N=Ur,...b}=s,g=sj(),j=d.useRef(),v=ll(),A=d.useRef(null),E=Ds(A,cl(i),r),C=_=>S=>{if(_){const P=A.current;S===void 0?_(P):_(P,S)}},z=C(u),k=C((_,S)=>{rj(_);const{duration:P,delay:D,easing:I}=Vc({style:x,timeout:h,easing:o},{mode:"enter"});let U;h==="auto"?(U=v.transitions.getAutoHeightDuration(_.clientHeight),j.current=U):U=P,_.style.transition=[v.transitions.create("opacity",{duration:U,delay:D}),v.transitions.create("transform",{duration:Hu?U:U*.666,delay:D,easing:I})].join(","),c&&c(_,S)}),M=C(p),q=C(m),w=C(_=>{const{duration:S,delay:P,easing:D}=Vc({style:x,timeout:h,easing:o},{mode:"exit"});let I;h==="auto"?(I=v.transitions.getAutoHeightDuration(_.clientHeight),j.current=I):I=S,_.style.transition=[v.transitions.create("opacity",{duration:I,delay:P}),v.transitions.create("transform",{duration:Hu?I:I*.666,delay:Hu?P:P||I*.333,easing:D})].join(","),_.style.opacity=0,_.style.transform=hp(.75),f&&f(_)}),$=C(y),F=_=>{h==="auto"&&g.start(j.current||0,_),a&&a(A.current,_)};return t.jsx(N,{appear:n,in:l,nodeRef:A,onEnter:k,onEntered:M,onEntering:z,onExit:w,onExited:$,onExiting:q,addEndListener:F,timeout:h==="auto"?null:h,...b,children:(_,{ownerState:S,...P})=>d.cloneElement(i,{style:{opacity:0,transform:hp(.75),visibility:_==="exited"&&!l?"hidden":void 0,...xP[_],...x,...i.props.style},ref:E,...P})})});gp&&(gp.muiSupportAuto=!0);const yP=e=>{const{classes:s,disableUnderline:r}=e,n=pt({root:["root",!r&&"underline"],input:["input"]},J5,s);return{...s,...n}},bP=Re(au,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...su(e,s),!r.disableUnderline&&s.underline]}})(wt(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ii.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ii.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ii.disabled}, .${Ii.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ii.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Hs()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}}))]}})),vP=Re(nu,{name:"MuiInput",slot:"Input",overridesResolver:ru})({}),eh=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:p=!1,slotProps:u,slots:f={},type:y="text",...m}=a,x=yP(a),N={root:{ownerState:{disableUnderline:n}}},b=u??o?hs(u??o,N):N,g=f.root??i.Root??bP,j=f.input??i.Input??vP;return t.jsx(Jf,{slots:{root:g,input:j},slotProps:b,fullWidth:l,inputComponent:c,multiline:p,ref:r,type:y,...m,classes:x})});eh.muiName="Input";function jP(e){return mt("MuiInputAdornment",e)}const Vx=ct("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Wx;const NP=(e,s)=>{const{ownerState:r}=e;return[s.root,s[`position${Fe(r.position)}`],r.disablePointerEvents===!0&&s.disablePointerEvents,s[r.variant]]},wP=e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:a,position:n,size:i,variant:o}=e,l={root:["root",r&&"disablePointerEvents",n&&`position${Fe(n)}`,o,a&&"hiddenLabel",i&&`size${Fe(i)}`]};return pt(l,jP,s)},CP=Re("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:NP})(wt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Vx.positionStart}&:not(.${Vx.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Hx=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiInputAdornment"}),{children:n,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:p,variant:u,...f}=a,y=xn()||{};let m=u;u&&y.variant,y&&!m&&(m=y.variant);const x={...a,hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:l,position:p,variant:m},h=wP(x);return t.jsx(tu.Provider,{value:null,children:t.jsx(CP,{as:o,ownerState:x,className:Ke(h.root,i),ref:r,...f,children:typeof n=="string"&&!c?t.jsx(us,{color:"textSecondary",children:n}):t.jsxs(d.Fragment,{children:[p==="start"?Wx||(Wx=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,n]})})})});function _P(e){return mt("MuiInputLabel",e)}ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SP=e=>{const{classes:s,formControl:r,size:a,shrink:n,disableAnimation:i,variant:o,required:l}=e,c={root:["root",r&&"formControl",!i&&"animated",n&&"shrink",a&&a!=="medium"&&`size${Fe(a)}`,o],asterisk:[l&&"asterisk"]},p=pt(c,_P,s);return{...s,...p}},kP=Re(gP,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${fo.asterisk}`]:s.asterisk},s.root,r.formControl&&s.formControl,r.size==="small"&&s.sizeSmall,r.shrink&&s.shrink,!r.disableAnimation&&s.animated,r.focused&&s.focused,s[r.variant]]}})(wt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:r,size:a})=>s==="filled"&&r.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),AP=d.forwardRef(function(s,r){const a=xt({name:"MuiInputLabel",props:s}),{disableAnimation:n=!1,margin:i,shrink:o,variant:l,className:c,...p}=a,u=xn();let f=o;typeof f>"u"&&u&&(f=u.filled||u.focused||u.adornedStart);const y=Ni({props:a,muiFormControl:u,states:["size","variant","required","focused"]}),m={...a,disableAnimation:n,formControl:u,shrink:f,size:y.size,variant:y.variant,required:y.required,focused:y.focused},x=SP(m);return t.jsx(kP,{"data-shrink":f,ref:r,className:Ke(x.root,c),...p,ownerState:m,classes:x})});function PP(e){return mt("MuiLink",e)}const EP=ct("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),zP=({theme:e,ownerState:s})=>{const r=s.color;if("colorSpace"in e&&e.colorSpace){const i=Tr(e,`palette.${r}.main`)||Tr(e,`palette.${r}`)||s.color;return e.alpha(i,.4)}const a=Tr(e,`palette.${r}.main`,!1)||Tr(e,`palette.${r}`,!1)||s.color,n=Tr(e,`palette.${r}.mainChannel`)||Tr(e,`palette.${r}Channel`);return"vars"in e&&n?`rgba(${n} / 0.4)`:Vo(a,.4)},Kx={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},TP=e=>{const{classes:s,component:r,focusVisible:a,underline:n}=e,i={root:["root",`underline${Fe(n)}`,r==="button"&&"button",a&&"focusVisible"]};return pt(i,PP,s)},RP=Re(us,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`underline${Fe(r.underline)}`],r.component==="button"&&s.button]}})(wt(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(Hs()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EP.focusVisible}`]:{outline:"auto"}}}]}))),ic=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiLink"}),n=ll(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:p,TypographyClasses:u,underline:f="always",variant:y="inherit",sx:m,...x}=a,[h,N]=d.useState(!1),b=A=>{Hc(A.target)||N(!1),c&&c(A)},g=A=>{Hc(A.target)&&N(!0),p&&p(A)},j={...a,color:o,component:l,focusVisible:h,underline:f,variant:y},v=TP(j);return t.jsx(RP,{color:o,className:Ke(v.root,i),classes:u,component:l,onBlur:b,onFocus:g,ref:r,ownerState:j,variant:y,...x,sx:[...Kx[o]===void 0?[{color:o}]:[],...Array.isArray(m)?m:[m]],style:{...x.style,...f==="always"&&o!=="inherit"&&!Kx[o]&&{"--Link-underlineColor":zP({theme:n,ownerState:j})}}})}),$P=d.createContext({});function DP(e){return mt("MuiList",e)}ct("MuiList",["root","padding","dense","subheader"]);const FP=e=>{const{classes:s,disablePadding:r,dense:a,subheader:n}=e;return pt({root:["root",!r&&"padding",a&&"dense",n&&"subheader"]},DP,s)},IP=Re("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disablePadding&&s.padding,r.dense&&s.dense,r.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),LP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:p,...u}=a,f=d.useMemo(()=>({dense:l}),[l]),y={...a,component:o,dense:l,disablePadding:c},m=FP(y);return t.jsx($P.Provider,{value:f,children:t.jsxs(IP,{as:o,className:Ke(m.root,i),ref:r,ownerState:y,...u,children:[p,n]})})});function Ku(e,s,r){return e===s?e.firstChild:s&&s.nextElementSibling?s.nextElementSibling:r?null:e.firstChild}function Gx(e,s,r){return e===s?r?e.firstChild:e.lastChild:s&&s.previousElementSibling?s.previousElementSibling:r?null:e.lastChild}function fj(e,s){if(s===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:s.repeating?r[0]===s.keys[0]:r.startsWith(s.keys.join(""))}function Li(e,s,r,a,n,i){let o=!1,l=n(e,s,s?r:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const c=a?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!fj(l,i)||c)l=n(e,l,r);else return l.focus(),!0}return!1}const MP=d.forwardRef(function(s,r){const{actions:a,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:p=!1,onKeyDown:u,variant:f="selectedMenu",...y}=s,m=d.useRef(null),x=d.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fn(()=>{n&&m.current.focus()},[n]),d.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(j,{direction:v})=>{const A=!m.current.style.width;if(j.clientHeight<m.current.clientHeight&&A){const E=`${uj(oa(j))}px`;m.current.style[v==="rtl"?"paddingLeft":"paddingRight"]=E,m.current.style.width=`calc(100% + ${E})`}return m.current}}),[]);const h=j=>{const v=m.current,A=j.key;if(j.ctrlKey||j.metaKey||j.altKey){u&&u(j);return}const C=Ji(vr(v));if(A==="ArrowDown")j.preventDefault(),Li(v,C,p,c,Ku);else if(A==="ArrowUp")j.preventDefault(),Li(v,C,p,c,Gx);else if(A==="Home")j.preventDefault(),Li(v,null,p,c,Ku);else if(A==="End")j.preventDefault(),Li(v,null,p,c,Gx);else if(A.length===1){const z=x.current,k=A.toLowerCase(),M=performance.now();z.keys.length>0&&(M-z.lastTime>500?(z.keys=[],z.repeating=!0,z.previousKeyMatched=!0):z.repeating&&k!==z.keys[0]&&(z.repeating=!1)),z.lastTime=M,z.keys.push(k);const q=C&&!z.repeating&&fj(C,z);z.previousKeyMatched&&(q||Li(v,C,!1,c,Ku,z))?j.preventDefault():z.previousKeyMatched=!1}u&&u(j)},N=Ds(m,r);let b=-1;d.Children.forEach(o,(j,v)=>{if(!d.isValidElement(j)){b===v&&(b+=1,b>=o.length&&(b=-1));return}j.props.disabled||(f==="selectedMenu"&&j.props.selected||b===-1)&&(b=v),b===v&&(j.props.disabled||j.props.muiSkipListHighlight||j.type.muiSkipListHighlight)&&(b+=1,b>=o.length&&(b=-1))});const g=d.Children.map(o,(j,v)=>{if(v===b){const A={};return i&&(A.autoFocus=!0),j.props.tabIndex===void 0&&f==="selectedMenu"&&(A.tabIndex=0),d.cloneElement(j,A)}return j});return t.jsx(LP,{role:"menu",ref:N,className:l,onKeyDown:h,tabIndex:n?0:-1,...y,children:g})});function OP(e){return mt("MuiPopover",e)}ct("MuiPopover",["root","paper"]);function Yx(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.height/2:s==="bottom"&&(r=e.height),r}function Qx(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.width/2:s==="right"&&(r=e.width),r}function Xx(e){return[e.horizontal,e.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function $l(e){return typeof e=="function"?e():e}const UP=e=>{const{classes:s}=e;return pt({root:["root"],paper:["paper"]},OP,s)},BP=Re(mj,{name:"MuiPopover",slot:"Root"})({}),hj=Re(di,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:p,className:u,container:f,elevation:y=8,marginThreshold:m=16,open:x,PaperProps:h={},slots:N={},slotProps:b={},transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:j,transitionDuration:v="auto",TransitionProps:A={},disableScrollLock:E=!1,...C}=a,z=d.useRef(),k={...a,anchorOrigin:o,anchorReference:c,elevation:y,marginThreshold:m,transformOrigin:g,TransitionComponent:j,transitionDuration:v,TransitionProps:A},M=UP(k),q=d.useCallback(()=>{if(c==="anchorPosition")return l;const ie=$l(i),le=(ie&&ie.nodeType===1?ie:vr(z.current).body).getBoundingClientRect();return{top:le.top+Yx(le,o.vertical),left:le.left+Qx(le,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),w=d.useCallback(ie=>({vertical:Yx(ie,g.vertical),horizontal:Qx(ie,g.horizontal)}),[g.horizontal,g.vertical]),$=d.useCallback(ie=>{const re={width:ie.offsetWidth,height:ie.offsetHeight},le=w(re);if(c==="none")return{top:null,left:null,transformOrigin:Xx(le)};const pe=q();let oe=pe.top-le.vertical,de=pe.left-le.horizontal;const ue=oe+re.height,Z=de+re.width,me=oa($l(i)),ve=me.innerHeight-m,Pe=me.innerWidth-m;if(m!==null&&oe<m){const ke=oe-m;oe-=ke,le.vertical+=ke}else if(m!==null&&ue>ve){const ke=ue-ve;oe-=ke,le.vertical+=ke}if(m!==null&&de<m){const ke=de-m;de-=ke,le.horizontal+=ke}else if(Z>Pe){const ke=Z-Pe;de-=ke,le.horizontal+=ke}return{top:`${Math.round(oe)}px`,left:`${Math.round(de)}px`,transformOrigin:Xx(le)}},[i,c,q,w,m]),[F,_]=d.useState(x),S=d.useCallback(()=>{const ie=z.current;if(!ie)return;const re=$(ie);re.top!==null&&ie.style.setProperty("top",re.top),re.left!==null&&(ie.style.left=re.left),ie.style.transformOrigin=re.transformOrigin,_(!0)},[$]);d.useEffect(()=>(E&&window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)),[i,E,S]);const P=()=>{S()},D=()=>{_(!1)};d.useEffect(()=>{x&&S()}),d.useImperativeHandle(n,()=>x?{updatePosition:()=>{S()}}:null,[x,S]),d.useEffect(()=>{if(!x)return;const ie=Jv(()=>{S()}),re=oa($l(i));return re.addEventListener("resize",ie),()=>{ie.clear(),re.removeEventListener("resize",ie)}},[i,x,S]);let I=v;const U={slots:{transition:j,...N},slotProps:{transition:A,paper:h,...b}},[Y,V]=St("transition",{elementType:gp,externalForwardedProps:U,ownerState:k,getSlotProps:ie=>({...ie,onEntering:(re,le)=>{var pe;(pe=ie.onEntering)==null||pe.call(ie,re,le),P()},onExited:re=>{var le;(le=ie.onExited)==null||le.call(ie,re),D()}}),additionalProps:{appear:!0,in:x}});v==="auto"&&!Y.muiSupportAuto&&(I=void 0);const R=f||(i?vr($l(i)).body:void 0),[O,{slots:W,slotProps:K,...H}]=St("root",{ref:r,elementType:BP,externalForwardedProps:{...U,...C},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:N.backdrop},slotProps:{backdrop:O4(typeof b.backdrop=="function"?b.backdrop(k):b.backdrop,{invisible:!0})},container:R,open:x},ownerState:k,className:Ke(M.root,u)}),[T,L]=St("paper",{ref:z,className:M.paper,elementType:hj,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:F?void 0:{opacity:0}},ownerState:k});return t.jsx(O,{...H,...!Wc(O)&&{slots:W,slotProps:K,disableScrollLock:E},children:t.jsx(Y,{...V,timeout:I,children:t.jsx(T,{...L,children:p})})})});function VP(e){return mt("MuiMenu",e)}ct("MuiMenu",["root","paper","list"]);const WP={vertical:"top",horizontal:"right"},HP={vertical:"top",horizontal:"left"},KP=e=>{const{classes:s}=e;return pt({root:["root"],paper:["paper"],list:["list"]},VP,s)},GP=Re(qP,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),YP=Re(hj,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QP=Re(MP,{name:"MuiMenu",slot:"List"})({outline:0}),XP=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:p,open:u,PaperProps:f={},PopoverClasses:y,transitionDuration:m="auto",TransitionProps:{onEntering:x,...h}={},variant:N="selectedMenu",slots:b={},slotProps:g={},...j}=a,v=qk(),A={...a,autoFocus:n,disableAutoFocusItem:l,MenuListProps:c,onEntering:x,PaperProps:f,transitionDuration:m,TransitionProps:h,variant:N},E=KP(A),C=n&&!l&&u,z=d.useRef(null),k=(I,U)=>{z.current&&z.current.adjustStyleForScrollbar(I,{direction:v?"rtl":"ltr"}),x&&x(I,U)},M=I=>{I.key==="Tab"&&(I.preventDefault(),p&&p(I,"tabKeyDown"))};let q=-1;d.Children.map(i,(I,U)=>{d.isValidElement(I)&&(I.props.disabled||(N==="selectedMenu"&&I.props.selected||q===-1)&&(q=U))});const w={slots:b,slotProps:{list:c,transition:h,paper:f,...g}},$=q5({elementType:b.root,externalSlotProps:g.root,ownerState:A,className:[E.root,o]}),[F,_]=St("paper",{className:E.paper,elementType:YP,externalForwardedProps:w,shouldForwardComponentProp:!0,ownerState:A}),[S,P]=St("list",{className:Ke(E.list,c.className),elementType:QP,shouldForwardComponentProp:!0,externalForwardedProps:w,getSlotProps:I=>({...I,onKeyDown:U=>{var Y;M(U),(Y=I.onKeyDown)==null||Y.call(I,U)}}),ownerState:A}),D=typeof w.slotProps.transition=="function"?w.slotProps.transition(A):w.slotProps.transition;return t.jsx(GP,{onClose:p,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?WP:HP,slots:{root:b.root,paper:F,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:$,paper:_,backdrop:typeof g.backdrop=="function"?g.backdrop(A):g.backdrop,transition:{...D,onEntering:(...I)=>{var U;k(...I),(U=D==null?void 0:D.onEntering)==null||U.call(D,...I)}}},open:u,ref:r,transitionDuration:m,ownerState:A,...j,classes:y,children:t.jsx(S,{actions:z,autoFocus:n&&(q===-1||l),autoFocusItem:C,variant:N,...P,children:i})})});function JP(e){return mt("MuiNativeSelect",e)}const th=ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ZP=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${Fe(r)}`,i&&"iconOpen",a&&"disabled"]};return pt(l,JP,s)},gj=Re("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${th.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),e3=Re(gj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:wr,overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.select,s[r.variant],r.error&&s.error,{[`&.${th.multiple}`]:s.multiple}]}})({}),xj=Re("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${th.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),t3=Re(xj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${Fe(r.variant)}`],r.open&&s.iconOpen]}})({}),s3=d.forwardRef(function(s,r){const{className:a,disabled:n,error:i,IconComponent:o,inputRef:l,variant:c="standard",...p}=s,u={...s,disabled:n,variant:c,error:i},f=ZP(u);return t.jsxs(d.Fragment,{children:[t.jsx(e3,{ownerState:u,className:Ke(f.select,a),disabled:n,ref:l||r,...p}),s.multiple?null:t.jsx(t3,{as:o,ownerState:u,className:f.icon})]})});var Jx;const r3=Re("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:wr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),a3=Re("legend",{name:"MuiNotchedOutlined",shouldForwardProp:wr})(wt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function n3(e){const{children:s,classes:r,className:a,label:n,notched:i,...o}=e,l=n!=null&&n!=="",c={...e,notched:i,withLabel:l};return t.jsx(r3,{"aria-hidden":!0,className:a,ownerState:c,...o,children:t.jsx(a3,{ownerState:c,children:l?t.jsx("span",{children:n}):Jx||(Jx=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const i3=e=>{const{classes:s}=e,a=pt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Z5,s);return{...s,...a}},o3=Re(au,{shouldForwardProp:e=>wr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:su})(wt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${kr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${kr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}},[`&.${kr.focused} .${kr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Hs()).map(([r])=>({props:{color:r},style:{[`&.${kr.focused} .${kr.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${kr.error} .${kr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${kr.disabled} .${kr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:a})=>r.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),l3=Re(n3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(wt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}})),c3=Re(nu,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ru})(wt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),sh=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:p,slots:u={},slotProps:f={},type:y="text",...m}=a,x=i3(a),h=xn(),N=Ni({props:a,muiFormControl:h,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...a,color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:h,fullWidth:i,hiddenLabel:N.hiddenLabel,multiline:c,size:N.size,type:y},g=u.root??n.Root??o3,j=u.input??n.Input??c3,[v,A]=St("notchedOutline",{elementType:l3,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:b,externalForwardedProps:{slots:u,slotProps:f},additionalProps:{label:l!=null&&l!==""&&N.required?t.jsxs(d.Fragment,{children:[l,"","*"]}):l}});return t.jsx(Jf,{slots:{root:g,input:j},slotProps:f,renderSuffix:E=>t.jsx(v,{...A,notched:typeof p<"u"?p:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:r,type:y,...m,classes:{...x,notchedOutline:null}})});sh.muiName="Input";function yj(e){return mt("MuiSelect",e)}const Mi=ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Zx;const d3=Re(gj,{name:"MuiSelect",slot:"Select",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`&.${Mi.select}`]:s.select},{[`&.${Mi.select}`]:s[r.variant]},{[`&.${Mi.error}`]:s.error},{[`&.${Mi.multiple}`]:s.multiple}]}})({[`&.${Mi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),u3=Re(xj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${Fe(r.variant)}`],r.open&&s.iconOpen]}})({}),m3=Re("input",{shouldForwardProp:e=>Xv(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function e0(e,s){return typeof s=="object"&&s!==null?e===s:String(e)===String(s)}function p3(e){return e==null||typeof e=="string"&&!e.trim()}const f3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:o}=e,l={select:["select",r,a&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${Fe(r)}`,i&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return pt(l,yj,s)},h3=d.forwardRef(function(s,r){var ze,We,Ge,Ae;const{"aria-describedby":a,"aria-label":n,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:p,defaultValue:u,disabled:f,displayEmpty:y,error:m=!1,IconComponent:x,inputRef:h,labelId:N,MenuProps:b={},multiple:g,name:j,onBlur:v,onChange:A,onClose:E,onFocus:C,onKeyDown:z,onMouseDown:k,onOpen:M,open:q,readOnly:w,renderValue:$,required:F,SelectDisplayProps:_={},tabIndex:S,type:P,value:D,variant:I="standard",...U}=s,[Y,V]=_x({controlled:D,default:u,name:"Select"}),[R,O]=_x({controlled:q,default:p,name:"Select"}),W=d.useRef(null),K=d.useRef(null),[H,T]=d.useState(null),{current:L}=d.useRef(q!=null),[ie,re]=d.useState(),le=Ds(r,h),pe=d.useCallback(Ce=>{K.current=Ce,Ce&&T(Ce)},[]),oe=H==null?void 0:H.parentNode;d.useImperativeHandle(le,()=>({focus:()=>{K.current.focus()},node:W.current,value:Y}),[Y]),d.useEffect(()=>{p&&R&&H&&!L&&(re(o?null:oe.clientWidth),K.current.focus())},[H,o]),d.useEffect(()=>{i&&K.current.focus()},[i]),d.useEffect(()=>{if(!N)return;const Ce=vr(K.current).getElementById(N);if(Ce){const Ye=()=>{getSelection().isCollapsed&&K.current.focus()};return Ce.addEventListener("click",Ye),()=>{Ce.removeEventListener("click",Ye)}}},[N]);const de=(Ce,Ye)=>{Ce?M&&M(Ye):E&&E(Ye),L||(re(o?null:oe.clientWidth),O(Ce))},ue=Ce=>{k==null||k(Ce),Ce.button===0&&(Ce.preventDefault(),K.current.focus(),de(!0,Ce))},Z=Ce=>{de(!1,Ce)},me=d.Children.toArray(l),ve=Ce=>{const Ye=me.find(Qe=>Qe.props.value===Ce.target.value);Ye!==void 0&&(V(Ye.props.value),A&&A(Ce,Ye))},Pe=Ce=>Ye=>{let Qe;if(Ye.currentTarget.hasAttribute("tabindex")){if(g){Qe=Array.isArray(Y)?Y.slice():[];const ye=Y.indexOf(Ce.props.value);ye===-1?Qe.push(Ce.props.value):Qe.splice(ye,1)}else Qe=Ce.props.value;if(Ce.props.onClick&&Ce.props.onClick(Ye),Y!==Qe&&(V(Qe),A)){const ye=Ye.nativeEvent||Ye,_e=new ye.constructor(ye.type,ye);Object.defineProperty(_e,"target",{writable:!0,value:{value:Qe,name:j}}),A(_e,Ce)}g||de(!1,Ye)}},ke=Ce=>{w||([" ","ArrowUp","ArrowDown","Enter"].includes(Ce.key)&&(Ce.preventDefault(),de(!0,Ce)),z==null||z(Ce))},te=H!==null&&R,ae=Ce=>{!te&&v&&(Object.defineProperty(Ce,"target",{writable:!0,value:{value:Y,name:j}}),v(Ce))};delete U["aria-invalid"];let ce,se;const J=[];let ee=!1;(Gc({value:Y})||y)&&($?ce=$(Y):ee=!0);const xe=me.map(Ce=>{if(!d.isValidElement(Ce))return null;let Ye;if(g){if(!Array.isArray(Y))throw new Error(na(2));Ye=Y.some(Qe=>e0(Qe,Ce.props.value)),Ye&&ee&&J.push(Ce.props.children)}else Ye=e0(Y,Ce.props.value),Ye&&ee&&(se=Ce.props.children);return d.cloneElement(Ce,{"aria-selected":Ye?"true":"false",onClick:Pe(Ce),onKeyUp:Qe=>{Qe.key===" "&&Qe.preventDefault(),Ce.props.onKeyUp&&Ce.props.onKeyUp(Qe)},role:"option",selected:Ye,value:void 0,"data-value":Ce.props.value})});ee&&(g?J.length===0?ce=null:ce=J.reduce((Ce,Ye,Qe)=>(Ce.push(Ye),Qe<J.length-1&&Ce.push(", "),Ce),[]):ce=se);let je=ie;!o&&L&&H&&(je=oe.clientWidth);let Ne;typeof S<"u"?Ne=S:Ne=f?null:0;const G=_.id||(j?`mui-component-select-${j}`:void 0),B={...s,variant:I,value:Y,open:te,error:m},X=f3(B),Q={...b.PaperProps,...typeof((ze=b.slotProps)==null?void 0:ze.paper)=="function"?b.slotProps.paper(B):(We=b.slotProps)==null?void 0:We.paper},he={...b.MenuListProps,...typeof((Ge=b.slotProps)==null?void 0:Ge.list)=="function"?b.slotProps.list(B):(Ae=b.slotProps)==null?void 0:Ae.list},we=ol();return t.jsxs(d.Fragment,{children:[t.jsx(d3,{as:"div",ref:pe,tabIndex:Ne,role:"combobox","aria-controls":te?we:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[N,G].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":F?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:ke,onMouseDown:f||w?null:ue,onBlur:ae,onFocus:C,..._,ownerState:B,className:Ke(_.className,X.select,c),id:G,children:p3(ce)?Zx||(Zx=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ce}),t.jsx(m3,{"aria-invalid":m,value:Array.isArray(Y)?Y.join(","):Y,name:j,ref:W,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:f,className:X.nativeInput,autoFocus:i,required:F,...U,ownerState:B}),t.jsx(u3,{as:x,className:X.icon,ownerState:B}),t.jsx(XP,{id:`menu-${j||""}`,anchorEl:oe,open:te,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":N,role:"listbox","aria-multiselectable":g?"true":void 0,disableListWrap:!0,id:we,...he},paper:{...Q,style:{minWidth:je,...Q!=null?Q.style:null}}},children:xe})]})}),g3=e=>{const{classes:s}=e,a=pt({root:["root"]},yj,s);return{...s,...a}},rh={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>wr(e)&&e!=="variant"},x3=Re(eh,rh)(""),y3=Re(sh,rh)(""),b3=Re(Zf,rh)(""),bj=d.forwardRef(function(s,r){const a=xt({name:"MuiSelect",props:s}),{autoWidth:n=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:p=!1,IconComponent:u=tA,id:f,input:y,inputProps:m,label:x,labelId:h,MenuProps:N,multiple:b=!1,native:g=!1,onClose:j,onOpen:v,open:A,renderValue:E,SelectDisplayProps:C,variant:z="outlined",...k}=a,M=g?s3:h3,q=xn(),w=Ni({props:a,muiFormControl:q,states:["variant","error"]}),$=w.variant||z,F={...a,variant:$,classes:o},_=g3(F),{root:S,...P}=_,D=y||{standard:t.jsx(x3,{ownerState:F}),outlined:t.jsx(y3,{label:x,ownerState:F}),filled:t.jsx(b3,{ownerState:F})}[$],I=Ds(r,cl(D));return t.jsx(d.Fragment,{children:d.cloneElement(D,{inputComponent:M,inputProps:{children:i,error:w.error,IconComponent:u,variant:$,type:void 0,multiple:b,...g?{id:f}:{autoWidth:n,defaultOpen:c,displayEmpty:p,labelId:h,MenuProps:N,onClose:j,onOpen:v,open:A,renderValue:E,SelectDisplayProps:{id:f,...C}},...m,classes:m?hs(P,m.classes):P,...y?y.props.inputProps:{}},...(b&&g||p)&&$==="outlined"?{notched:!0}:{},ref:I,className:Ke(D.props.className,l,_.root),...!y&&{variant:$},...k})})});bj.muiName="Select";function v3(e){return mt("MuiTextField",e)}ct("MuiTextField",["root"]);const j3={standard:eh,filled:Zf,outlined:sh},N3=e=>{const{classes:s}=e;return pt({root:["root"]},v3,s)},w3=Re(oP,{name:"MuiTextField",slot:"Root"})({}),C3=d.forwardRef(function(s,r){const a=xt({props:s,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:p,disabled:u=!1,error:f=!1,FormHelperTextProps:y,fullWidth:m=!1,helperText:x,id:h,InputLabelProps:N,inputProps:b,InputProps:g,inputRef:j,label:v,maxRows:A,minRows:E,multiline:C=!1,name:z,onBlur:k,onChange:M,onFocus:q,placeholder:w,required:$=!1,rows:F,select:_=!1,SelectProps:S,slots:P={},slotProps:D={},type:I,value:U,variant:Y="outlined",...V}=a,R={...a,autoFocus:i,color:c,disabled:u,error:f,fullWidth:m,multiline:C,required:$,select:_,variant:Y},O=N3(R),W=ol(h),K=x&&W?`${W}-helper-text`:void 0,H=v&&W?`${W}-label`:void 0,T=j3[Y],L={slots:P,slotProps:{input:g,inputLabel:N,htmlInput:b,formHelperText:y,select:S,...D}},ie={},re=L.slotProps.inputLabel;Y==="outlined"&&(re&&typeof re.shrink<"u"&&(ie.notched=re.shrink),ie.label=v),_&&((!S||!S.native)&&(ie.id=void 0),ie["aria-describedby"]=void 0);const[le,pe]=St("root",{elementType:w3,shouldForwardComponentProp:!0,externalForwardedProps:{...L,...V},ownerState:R,className:Ke(O.root,l),ref:r,additionalProps:{disabled:u,error:f,fullWidth:m,required:$,color:c,variant:Y}}),[oe,de]=St("input",{elementType:T,externalForwardedProps:L,additionalProps:ie,ownerState:R}),[ue,Z]=St("inputLabel",{elementType:AP,externalForwardedProps:L,ownerState:R}),[me,ve]=St("htmlInput",{elementType:"input",externalForwardedProps:L,ownerState:R}),[Pe,ke]=St("formHelperText",{elementType:uP,externalForwardedProps:L,ownerState:R}),[te,ae]=St("select",{elementType:bj,externalForwardedProps:L,ownerState:R}),ce=t.jsx(oe,{"aria-describedby":K,autoComplete:n,autoFocus:i,defaultValue:p,fullWidth:m,multiline:C,name:z,rows:F,maxRows:A,minRows:E,type:I,value:U,id:W,inputRef:j,onBlur:k,onChange:M,onFocus:q,placeholder:w,inputProps:ve,slots:{input:P.htmlInput?me:void 0},...de});return t.jsxs(le,{...pe,children:[v!=null&&v!==""&&t.jsx(ue,{htmlFor:W,id:H,...Z,children:v}),_?t.jsx(te,{"aria-describedby":K,id:W,labelId:H,value:U,input:ce,...ae,children:o}):ce,x&&t.jsx(Pe,{id:K,...ke,children:x})]})}),_3=Fs(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),xp=Fs(t.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),ho=Fs(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),S3=Fs(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),k3=Fs(t.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),A3=Fs(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),go=Fs(t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),xo=Fs(t.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Yr=({placeholder:e,name:s,type:r="text",value:a,onChange:n,required:i=!1,startIcon:o,endIcon:l,error:c,helperText:p,InputProps:u,...f})=>{const y=d.useRef(null);d.useEffect(()=>{var v;if(r==="password"&&y.current){const A=()=>{var F,_;const $=(F=y.current)==null?void 0:F.querySelector('input[type="password"]');if($){const S=$.closest(".MuiOutlinedInput-root");S&&([...S.querySelectorAll("button"),...((_=S.parentElement)==null?void 0:_.querySelectorAll("button"))||[]].forEach(I=>{if(!(I.closest(".MuiInputAdornment-root")!==null)){I.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important; position: absolute !important; left: -9999px !important;";try{I.remove()}catch{}}}),S.querySelectorAll("*").forEach(I=>{if((I.tagName==="BUTTON"||I.getAttribute("role")==="button"||I.tagName==="SPAN")&&!(I.closest(".MuiInputAdornment-root")!==null)){const Y=I.getBoundingClientRect(),V=$.getBoundingClientRect();if(Y.width<50&&Y.height<50&&Math.abs(Y.right-V.right)<50||I.className&&(I.className.indexOf("reveal")!==-1||I.className.indexOf("password")!==-1)){I.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; position: absolute !important; left: -9999px !important;";try{I.remove()}catch{if(I.parentNode)try{I.parentNode.removeChild(I)}catch{}}}}}),$.parentElement&&Array.from($.parentElement.children).forEach(U=>{if(U!==$&&U!==S&&!(U.closest(".MuiInputAdornment-root")!==null)){const V=U.getBoundingClientRect(),R=$.getBoundingClientRect();if(V.width<30&&V.height<30&&Math.abs(V.right-R.right)<40&&Math.abs(V.top-R.top)<20){U.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important;";try{U.remove()}catch{if(U.parentNode)try{U.parentNode.removeChild(U)}catch{}}}}}))}},E="hide-browser-password-button";let C=document.getElementById(E);C||(C=document.createElement("style"),C.id=E,C.textContent=`
          input[type="password"]::-webkit-credentials-auto-fill-button,
          input[type="password"]::-webkit-strong-password-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-credentials-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            appearance: none !important;
            -webkit-appearance: none !important;
          }
          /* Internet Explorer specific */
          input[type="password"]::-ms-reveal,
          .custom-input-field input[type="password"]::-ms-reveal,
          .custom-input-field .MuiOutlinedInput-input[type="password"]::-ms-reveal {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
          }
        `,document.head.appendChild(C)),A();const z=[];for(let $=0;$<20;$++)z.push(setTimeout(A,$*50));const k=(v=y.current)==null?void 0:v.querySelector('input[type="password"]'),M=k==null?void 0:k.closest(".MuiOutlinedInput-root");let q=null;M&&typeof MutationObserver<"u"&&(q=new MutationObserver(()=>{A()}),q.observe(M,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}));const w=setInterval(A,100);if(k){const $=["input","focus","click","keydown","keyup","paste","change","blur","mousedown","mouseup"];return $.forEach(F=>{k.addEventListener(F,A,{capture:!0,passive:!0}),M==null||M.addEventListener(F,A,{capture:!0,passive:!0})}),()=>{z.forEach(F=>clearTimeout(F)),clearInterval(w),q&&q.disconnect(),$.forEach(F=>{k.removeEventListener(F,A,{capture:!0}),M==null||M.removeEventListener(F,A,{capture:!0})})}}return()=>{z.forEach($=>clearTimeout($)),clearInterval(w),q&&q.disconnect()}}},[r,a,l]);let m=null;o?m=t.jsx(Hx,{position:"start",className:"custom-input-icon",children:o}):u!=null&&u.startAdornment&&(m=u.startAdornment);let x=null;l?x=t.jsx(Hx,{position:"end",children:l}):u!=null&&u.endAdornment&&(x=u.endAdornment);const h={...u,startAdornment:m,endAdornment:x},{InputProps:N,inputProps:b,...g}=f,j={autoComplete:r==="password"?"new-password":"off",...b};return t.jsx("div",{ref:y,className:"custom-input-wrapper",children:t.jsx(C3,{className:"custom-input-field",placeholder:e,name:s,type:r,value:a,onChange:n,required:i,error:c,helperText:p,fullWidth:!0,variant:"outlined",InputProps:h,inputProps:j,...g})})},P3=({open:e,onClose:s})=>{const[r,a]=d.useState(""),[n,i]=d.useState(!1),[o,l]=d.useState(!1),[c,p]=d.useState(""),{forgotPassword:u}=or(),f=async m=>{m.preventDefault(),i(!0),p("");try{const x=await u(r);x.success?l(!0):p(x.error||"Failed to send reset email. Please try again.")}catch{p("Failed to send reset email. Please try again.")}finally{i(!1)}},y=()=>{a(""),l(!1),p(""),s()};return t.jsxs(UA,{open:e,onClose:y,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",padding:"8px"}},children:[t.jsx(eP,{sx:{fontWeight:600,textAlign:"center"},children:"Reset Password"}),t.jsx(XA,{children:o?t.jsx(mo,{severity:"success",sx:{mt:1},children:"Password reset link has been sent to your email address."}):t.jsxs(t.Fragment,{children:[t.jsx(us,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:f,children:[t.jsx(Yr,{placeholder:"Email",name:"email",type:"email",value:r,onChange:m=>a(m.target.value),required:!0,startIcon:t.jsx(xp,{})}),c&&t.jsx(mo,{severity:"error",sx:{mt:1,mb:2},children:c})]})]})}),t.jsxs(WA,{sx:{padding:"16px 24px",gap:1},children:[t.jsx(Lx,{onClick:y,color:"inherit",children:o?"Close":"Cancel"}),!o&&t.jsx(Lx,{onClick:f,variant:"contained",disabled:n||!r,sx:{backgroundColor:"var(--primary-color, #1a2c49)","&:hover":{backgroundColor:"var(--secondary-color, #2c4a5f)"}},children:n?t.jsx(ui,{size:20,color:"inherit"}):"Send Reset Link"})]})]})},Yc="/assets/logo-circle-GKaFD2GP.png";function t0(){const e=jr(),s=Ua(),{login:r,register:a,isAuthenticated:n,loading:i}=or(),o=s.pathname==="/register",[l,c]=d.useState(o);d.useEffect(()=>{c(s.pathname==="/register")},[s.pathname]),d.useEffect(()=>{!i&&n&&s.pathname!=="/dashboard"&&e("/dashboard",{replace:!0})},[n,i,e,s.pathname]);const[p,u]=d.useState({email:"",password:""}),[f,y]=d.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"training_center_admin"}),[m,x]=d.useState(!1),[h,N]=d.useState(!1),[b,g]=d.useState(""),[j,v]=d.useState(""),[A,E]=d.useState(!1),[C,z]=d.useState(!1),[k,M]=d.useState(!1),q=()=>x(!m),w=()=>N(!h),$=D=>{u({...p,[D.target.name]:D.target.value}),g("")},F=D=>{y({...f,[D.target.name]:D.target.value}),v("")},_=async D=>{D.preventDefault(),g(""),E(!0);try{const I=await r(p.email,p.password);I.success?I.userStatus==="pending"||I.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):g(I.error||"Invalid email or password.")}catch(I){console.error("Login error:",I),g("An error occurred. Please try again.")}finally{E(!1)}},S=async D=>{if(D.preventDefault(),v(""),f.password!==f.confirmPassword){v("Passwords do not match.");return}if(f.password.length<8){v("Password must be at least 8 characters long.");return}z(!0);try{const I=await a(f.fullName,f.email,f.password,f.confirmPassword,f.role);I.success?I.userStatus==="pending"||I.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):v(I.error||"Registration failed. Please try again.")}catch(I){console.error("Registration error:",I),v("An error occurred. Please try again.")}finally{z(!1)}},P=D=>{c(D),e(D?"/register":"/login",{replace:!0})};return t.jsxs("div",{className:"auth-page",children:[t.jsxs("div",{className:`auth-container container ${l?"right-panel-active":""}`,id:"container",children:[t.jsx("div",{className:"form-container sign-up-container",children:t.jsxs("form",{onSubmit:S,children:[t.jsx(us,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Register"}),t.jsx(Yr,{placeholder:"Name",name:"fullName",value:f.fullName,onChange:F,required:!0,startIcon:t.jsx(S3,{})}),t.jsx(Yr,{placeholder:"Email",name:"email",type:"email",value:f.email,onChange:F,required:!0,startIcon:t.jsx(xp,{})}),t.jsx(Yr,{placeholder:"Password",name:"password",type:m?"text":"password",value:f.password,onChange:F,required:!0,startIcon:t.jsx(ho,{}),endIcon:t.jsx(Zn,{onClick:q,edge:"end",size:"small",children:m?t.jsx(xo,{}):t.jsx(go,{})})}),t.jsx(Yr,{placeholder:"Confirm Password",name:"confirmPassword",type:h?"text":"password",value:f.confirmPassword,onChange:F,required:!0,startIcon:t.jsx(ho,{}),endIcon:t.jsx(Zn,{onClick:w,edge:"end",size:"small",children:h?t.jsx(xo,{}):t.jsx(go,{})})}),t.jsxs(Hr,{sx:{mb:2,display:"flex",flexDirection:"row",gap:1,width:"100%"},children:[t.jsx(Hr,{sx:{flex:1},children:t.jsx(di,{onClick:()=>y({...f,role:"training_center_admin"}),elevation:f.role==="training_center_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:f.role==="training_center_admin"?"var(--primary-color)":"divider",backgroundColor:f.role==="training_center_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:f.role==="training_center_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Hr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Hr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:f.role==="training_center_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(k3,{sx:{fontSize:22,color:f.role==="training_center_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Hr,{sx:{textAlign:"center"},children:t.jsx(us,{variant:"caption",sx:{fontWeight:f.role==="training_center_admin"?600:500,fontSize:"0.75rem",color:f.role==="training_center_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Training Center"})})]})})}),t.jsx(Hr,{sx:{flex:1},children:t.jsx(di,{onClick:()=>y({...f,role:"acc_admin"}),elevation:f.role==="acc_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:f.role==="acc_admin"?"var(--primary-color)":"divider",backgroundColor:f.role==="acc_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:f.role==="acc_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Hr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Hr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:f.role==="acc_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(A3,{sx:{fontSize:22,color:f.role==="acc_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Hr,{sx:{textAlign:"center"},children:t.jsx(us,{variant:"caption",sx:{fontWeight:f.role==="acc_admin"?600:500,fontSize:"0.75rem",color:f.role==="acc_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Accreditation"})})]})})})]}),j&&t.jsx(us,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:j}),t.jsx("button",{type:"submit",disabled:C,children:C?t.jsx(ui,{size:20,color:"inherit"}):"Register"})]})}),t.jsx("div",{className:"form-container sign-in-container",children:t.jsxs("form",{onSubmit:_,children:[t.jsx(us,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Login"}),t.jsx(Yr,{placeholder:"Email",name:"email",value:p.email,onChange:$,required:!0,startIcon:t.jsx(xp,{})}),t.jsx(Yr,{placeholder:"Password",name:"password",type:m?"text":"password",value:p.password,onChange:$,required:!0,startIcon:t.jsx(ho,{}),endIcon:t.jsx(Zn,{onClick:q,edge:"end",size:"small",children:m?t.jsx(xo,{}):t.jsx(go,{})})}),b&&t.jsx(us,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:b}),t.jsx(ic,{href:"#",underline:"hover",sx:{mt:1,mb:2,cursor:"pointer"},onClick:D=>{D.preventDefault(),M(!0)},children:"Forgot your password?"}),t.jsx("button",{type:"submit",disabled:A,children:A?t.jsx(ui,{size:20,color:"inherit"}):"Login"})]})}),t.jsx("div",{className:"overlay-container",children:t.jsxs("div",{className:"overlay",children:[t.jsxs("div",{className:"overlay-panel overlay-left",children:[t.jsx("img",{src:Yc,alt:"Logo",className:"overlay-logo"}),t.jsx(us,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Welcome Back!"}),t.jsx("p",{children:"To keep connected with us please login with your personal info as Training Center Admin"}),t.jsx("button",{className:"ghost",id:"signIn",onClick:()=>P(!1),children:"Login"})]}),t.jsxs("div",{className:"overlay-panel overlay-right",children:[t.jsx("img",{src:Yc,alt:"Logo",className:"overlay-logo"}),t.jsx(us,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Hello, Friend!"}),t.jsx("p",{children:"Enter your personal details and start journey with us"}),t.jsx("button",{className:"ghost",id:"signUp",onClick:()=>P(!0),children:"Register"})]})]})})]}),t.jsx(P3,{open:k,onClose:()=>M(!1)})]})}const E3=()=>{const{logout:e,user:s,refreshUser:r}=or(),a=jr(),[n,i]=d.useState(null);d.useEffect(()=>{(s==null?void 0:s.status)==="active"&&a("/dashboard",{replace:!0})},[s,a]),d.useEffect(()=>{const c=setInterval(()=>{r()},3e4);return()=>clearInterval(c)},[r]);const o=async()=>{await e(),a("/login")},l=(s==null?void 0:s.role)==="training_center_admin";return s==null||s.role,t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ve,{className:"text-red-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Rejected"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Your ",l?"Training Center":"ACC"," application has been rejected."]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:n})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l?t.jsx(Ie,{className:"text-amber-600",size:40}):t.jsx(u_,{className:"text-amber-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:l?"Training Center Application Pending":"Account Pending Approval"}),t.jsx("p",{className:"text-gray-600 mb-4",children:l?"Your Training Center application has been submitted and is pending approval from a Group Admin.":"Your account is currently pending approval. Please wait for an administrator to review and approve your account."}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l?"A Group Admin will review your application shortly. You will receive a notification once your application is approved or rejected.":"You will be notified once your account has been approved."}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Status: Pending Review"}),t.jsx("p",{className:"text-xs text-blue-700",children:l?"Waiting for Group Admin approval":"Waiting for administrator approval"})]})]}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-800 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:[t.jsx(dv,{size:18}),"Logout"]})]})})},z3=()=>{const e=jr(),[s]=fd(),{resetPassword:r,isAuthenticated:a}=or(),n=s.get("token"),i=s.get("email")?decodeURIComponent(s.get("email")):null,[o,l]=d.useState({password:"",confirmPassword:""}),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(""),[N,b]=d.useState(!1),[g,j]=d.useState(!0);d.useEffect(()=>{(!n||!i)&&j(!1),a&&e("/dashboard",{replace:!0})},[n,i,a,e]);const v=E=>{l({...o,[E.target.name]:E.target.value}),h("")},A=async E=>{if(E.preventDefault(),h(""),o.password!==o.confirmPassword){h("Passwords do not match.");return}if(o.password.length<8){h("Password must be at least 8 characters long.");return}m(!0);try{const C=await r(n,i,o.password,o.confirmPassword);C.success?(b(!0),setTimeout(()=>{e("/login",{replace:!0})},3e3)):h(C.error||"Failed to reset password. Please try again.")}catch(C){console.error("Reset password error:",C),h("An error occurred. Please try again.")}finally{m(!1)}};return g?N?t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("div",{className:"success-icon-wrapper",children:t.jsx(_3,{className:"success-icon"})}),t.jsx(us,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Password Reset Successful!"}),t.jsx(mo,{severity:"success",sx:{mb:2},children:"Your password has been successfully reset. Redirecting to login page..."}),t.jsx(ic,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login Now"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:Yc,alt:"Logo",className:"reset-password-logo"}),t.jsx(us,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Reset Password"}),t.jsx(us,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your new password below. Please make sure it's at least 8 characters long."}),t.jsxs("form",{onSubmit:A,children:[t.jsx(Yr,{placeholder:"New Password",name:"password",type:c?"text":"password",value:o.password,onChange:v,required:!0,startIcon:t.jsx(ho,{}),endIcon:t.jsx(Zn,{onClick:()=>p(!c),edge:"end",size:"small",children:c?t.jsx(xo,{}):t.jsx(go,{})})}),t.jsx(Yr,{placeholder:"Confirm New Password",name:"confirmPassword",type:u?"text":"password",value:o.confirmPassword,onChange:v,required:!0,startIcon:t.jsx(ho,{}),endIcon:t.jsx(Zn,{onClick:()=>f(!u),edge:"end",size:"small",children:u?t.jsx(xo,{}):t.jsx(go,{})})}),x&&t.jsx(mo,{severity:"error",sx:{mt:1,mb:2},children:x}),t.jsx("button",{type:"submit",disabled:y,className:"reset-password-submit-button",children:y?t.jsx(ui,{size:20,color:"inherit"}):"Reset Password"})]}),t.jsx(ic,{href:"/login",underline:"hover",sx:{mt:2,cursor:"pointer",color:"var(--primary-color)"},children:"Back to Login"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:Yc,alt:"Logo",className:"reset-password-logo"}),t.jsx(us,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Invalid Reset Link"}),t.jsx(mo,{severity:"error",sx:{mb:2},children:"The password reset link is invalid or has expired. Please request a new one."}),t.jsx(ic,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login"})]})})})},T3=()=>{var c,p,u;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),r=jr(),[a,n]=d.useState(null),[i,o]=d.useState(!0);d.useEffect(()=>{l()},[]),d.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const l=async()=>{try{const f=await Le.getDashboard();n({accreditation_bodies:f.accreditation_bodies||0,training_centers:f.training_centers||0,instructors:f.instructors||0,revenue:f.revenue||{monthly:0,total:0}})}catch(f){console.error("Failed to load dashboard:",f),n({accreditation_bodies:0,training_centers:0,instructors:0,revenue:{monthly:0,total:0}})}finally{o(!1)}};return i?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:a&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>r("/admin/all-accs"),className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-4 border border-green-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Ie,{className:"text-white w-6 h-6"})}),t.jsx(qn,{className:"text-green-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Accreditation Bodies"}),t.jsx("p",{className:"text-2xl font-bold text-green-900 mb-1",children:a.accreditation_bodies||0}),t.jsx("p",{className:"text-xs text-green-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/all-training-centers"),className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-4 border border-purple-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Lo,{className:"text-white w-6 h-6"})}),t.jsx(qn,{className:"text-purple-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:"Training Centers"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900 mb-1",children:a.training_centers||0}),t.jsx("p",{className:"text-xs text-purple-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/all-instructors"),className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-4 border border-yellow-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(nt,{className:"text-white w-6 h-6"})}),t.jsx(qn,{className:"text-yellow-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-yellow-700 mb-1",children:"Instructors"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900 mb-1",children:a.instructors||0}),t.jsx("p",{className:"text-xs text-yellow-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/financial"),className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl shadow-lg p-4 border border-amber-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Yt,{className:"text-white w-6 h-6"})}),t.jsx(qn,{className:"text-amber-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-amber-700 mb-1",children:" Commission Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-900 mb-1",children:["$",(((c=a.revenue)==null?void 0:c.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-amber-600",children:"Total commission received"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Monthly Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((p=a.revenue)==null?void 0:p.monthly)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Commission this month"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Total Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((u=a.revenue)==null?void 0:u.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total commission received"})]})]})]})]})})},ja=({icon:e,colorType:s,label:r,value:a,hint:n,onClick:i})=>t.jsxs("div",{onClick:i,className:`dashboard-card dashboard-card-${s}`,children:[t.jsxs("div",{className:"dashboard-card-header",children:[t.jsx("div",{className:`dashboard-card-icon-wrapper-${s}`,children:t.jsx(e,{className:"dashboard-card-icon"})}),t.jsx(qn,{className:`dashboard-card-arrow-${s}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:`dashboard-card-label-${s}`,children:r}),t.jsx("p",{className:`dashboard-card-value-${s}`,children:a}),t.jsx("p",{className:`dashboard-card-hint-${s}`,children:n})]})]}),vj=()=>{var o,l;const e=jr(),[s,r]=d.useState(null),[a,n]=d.useState(!0);d.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await He.getDashboard();r(c)}catch(c){console.error("Failed to load dashboard:",c)}finally{n(!1)}};return a?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(ja,{icon:Yt,colorType:"acc",label:"Total Revenue",value:`$${(((o=s.revenue)==null?void 0:o.total)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hint:"Click to view details",onClick:()=>e("/acc/payment-transactions")}),t.jsx(ja,{icon:Ve,colorType:"classes",label:"Pending Requests",value:s.pending_requests||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=pending")}),t.jsx(ja,{icon:Ie,colorType:"instructors",label:"Active Training Centers",value:s.active_training_centers||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=active")}),t.jsx(ja,{icon:nt,colorType:"certificates",label:"Active Instructors",value:s.active_instructors||0,hint:"Click to view details",onClick:()=>e("/acc/instructors?filter=active")})]}),s.revenue&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((l=s.revenue)==null?void 0:l.monthly)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]})})},Wo=({size:e="md",className:s=""})=>{const r={sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"};return t.jsx("div",{className:`loading-spinner-container ${s}`,children:t.jsx("div",{className:`loading-spinner ${r[e]}`})})},R3=({title:e,titleIcon:s,children:r})=>t.jsxs("div",{className:"state-section",children:[t.jsxs("h2",{className:"state-section-title",children:[s&&t.jsx(s,{className:"state-section-title-icon"}),e]}),t.jsx("div",{className:"state-section-grid",children:r})]}),Gu=({icon:e,iconColorType:s,label:r,value:a,capitalize:n=!1})=>t.jsx("div",{className:"state-item",children:t.jsxs("div",{className:"state-item-content",children:[t.jsx("div",{className:`state-icon-wrapper state-icon-wrapper-${s}`,children:t.jsx(e,{className:`state-icon state-icon-${s}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"state-label",children:r}),t.jsx("p",{className:`state-value ${n?"state-value-capitalize":""}`,children:a})]})]})}),jj=()=>{var c,p,u;const e=jr(),[s,r]=d.useState(null),[a,n]=d.useState({accs:0,classes:0,instructors:0,certificates:0}),[i,o]=d.useState(!0);d.useEffect(()=>{l()},[]);const l=async()=>{try{const f=await Ue.getDashboard();r(f),n({accs:f.authorized_accreditations||0,classes:f.classes||0,instructors:f.instructors||0,certificates:f.certificates||0})}catch(f){console.error("Failed to load dashboard:",f),r(null),n({accs:0,classes:0,instructors:0,certificates:0})}finally{o(!1)}};return i?t.jsx(Wo,{}):t.jsx("div",{className:"dashboard-container",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx(ja,{icon:Mr,colorType:"certificates",label:"Certificates",value:a.certificates,hint:"Click to view details",onClick:()=>e("/training-center/certificates")}),t.jsx(ja,{icon:Ie,colorType:"acc",label:"Authorized Accreditation",value:a.accs,hint:"Click to view details",onClick:()=>e("/training-center/accs")}),t.jsx(ja,{icon:Xt,colorType:"classes",label:"Classes",value:a.classes,hint:"Click to view details",onClick:()=>e("/training-center/classes")}),t.jsx(ja,{icon:nt,colorType:"instructors",label:"Instructors",value:a.instructors,hint:"Click to view details",onClick:()=>e("/training-center/instructors")})]}),t.jsxs(R3,{title:"Training Center State",titleIcon:Ie,children:[t.jsx(Gu,{icon:De,iconColorType:"green",label:"Status",value:((c=s.training_center_state)==null?void 0:c.status)||"N/A",capitalize:!0}),t.jsx(Gu,{icon:et,iconColorType:"blue",label:"Registration Date",value:((p=s.training_center_state)==null?void 0:p.registration_date)||"N/A"}),t.jsx(Gu,{icon:Mr,iconColorType:"purple",label:"Accreditation Status",value:((u=s.training_center_state)==null?void 0:u.accreditation_status)||"Not Verified"})]})]})})},Nj=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),r=jr(),[a,n]=d.useState(null),[i,o]=d.useState(!0),l=d.useRef(!1),c=d.useRef(!1),p=d.useCallback(async()=>{if(c.current){console.log(" Dashboard load already in progress, skipping duplicate request");return}c.current=!0;try{const C=await Ss.getDashboard();n(C||{})}catch(C){console.error("Failed to load dashboard:",C),n(null)}finally{o(!1),c.current=!1}},[]);d.useEffect(()=>{l.current||(l.current=!0,p())},[p]),d.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const u=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",f=C=>{switch(C){case"scheduled":return"status-scheduled";case"in_progress":return"status-in-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}},y=C=>C==="active"?"training-item-status-active":"training-item-status-inactive";if(i)return t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})});if(!a)return t.jsx("div",{className:"error-container",children:t.jsx("div",{className:"error-text",children:t.jsx("p",{children:"Failed to load dashboard data"})})});const m=(a==null?void 0:a.statistics)||{},x=(a==null?void 0:a.recent_classes)||[],h=(a==null?void 0:a.training_centers)||[],N=(a==null?void 0:a.accs)||[],b=(a==null?void 0:a.profile)||{};a!=null&&a.unread_notifications_count;const g=Number((m==null?void 0:m.total_classes)||0),j=Number((m==null?void 0:m.upcoming_classes)||(m==null?void 0:m.scheduled)||0),v=Number((m==null?void 0:m.completed)||0),A=Array.isArray(h)?h.length:0,E=Array.isArray(N)?N.length:0;return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"stats-grid",children:[t.jsx("div",{onClick:()=>r("/instructor/classes"),className:"stat-card stat-card-blue",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Total Classes"}),t.jsx("p",{className:"stat-value",children:g}),t.jsx("p",{className:"stat-description",children:"Click to view all"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(Xt,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=scheduled"),className:"stat-card stat-card-purple",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Scheduled"}),t.jsx("p",{className:"stat-value",children:j}),t.jsx("p",{className:"stat-description",children:"Scheduled classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(et,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=completed"),className:"stat-card stat-card-green",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("p",{className:"stat-value",children:v}),t.jsx("p",{className:"stat-description",children:"Finished classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(De,{className:"stat-icon"})})]})})]}),t.jsxs("div",{className:"main-grid",children:[t.jsxs("div",{className:"card recent-classes-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Xt,{className:"card-title-icon",size:24}),"Recent Classes"]}),t.jsxs("button",{onClick:()=>r("/instructor/classes"),className:"card-button",children:["View All",t.jsx(qn,{size:16,className:"card-button-icon"})]})]})}),t.jsx("div",{className:"table-container",children:x&&x.length>0?t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Course"}),t.jsx("th",{children:"Training Center"}),t.jsx("th",{children:"Dates"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Students"})]})}),t.jsx("tbody",{children:x.slice(0,3).map((C,z)=>{var w,$,F,_;const k=C.max_capacity??((w=C.course)==null?void 0:w.max_capacity),M=C.enrolled_count||0,q=k!==void 0?Math.min(100,M/k*100):0;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:(($=C.course)==null?void 0:$.name)||"N/A"}),((F=C.course)==null?void 0:F.code)&&t.jsxs("div",{className:"table-cell-secondary",children:["Code: ",C.course.code]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((_=C.training_center)==null?void 0:_.name)||"N/A"}),C.location_details&&t.jsxs("div",{className:"table-cell-secondary",children:[t.jsx(vt,{size:12,className:"table-cell-icon"}),C.location==="physical"?C.location_details:"Online"]})]})}),t.jsx("td",{children:C.start_date?t.jsxs("div",{className:"table-cell-date",children:[t.jsx("div",{className:"table-cell-date-main",children:u(C.start_date)}),C.end_date&&t.jsxs("div",{className:"table-cell-date-sub",children:["to ",u(C.end_date)]})]}):t.jsx("span",{className:"table-cell-na",children:"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${f(C.status)}`,children:C.status?C.status.replace("_"," "):"N/A"})}),t.jsx("td",{children:t.jsxs("div",{className:"students-cell",children:[t.jsxs("div",{className:"students-count",children:[M," / ",k??"N/A"]}),k!==void 0&&t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${q}%`}})})]})})]},C.id)})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(Xt,{className:"empty-state-icon",size:48}),t.jsx("p",{className:"empty-state-text",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtext",children:"You don't have any classes yet"})]})})]}),t.jsxs("div",{className:"card profile-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h2",{className:"card-title",children:[t.jsx(Ts,{className:"card-title-icon",size:24}),"Profile Summary"]})}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-field",children:[t.jsx("p",{className:"profile-label",children:"Name"}),t.jsx("p",{className:"profile-value",children:(b==null?void 0:b.name)||"N/A"})]}),t.jsxs("div",{className:"profile-field",children:[t.jsxs("p",{className:"profile-label",children:[t.jsx(Pt,{size:14,className:"profile-label-icon"}),"Email"]}),t.jsx("p",{className:"profile-value",children:(b==null?void 0:b.email)||"N/A"})]}),t.jsx("button",{onClick:()=>r("/profile"),className:"profile-button",children:"View Full Profile"})]})]})]}),t.jsxs("div",{className:"training-grid",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Ie,{className:"card-title-icon",size:24}),"Training Centers"]}),A>0&&t.jsx("span",{className:"badge",children:A})]})}),t.jsx("div",{className:"profile-content",children:A>0?t.jsxs("div",{className:"training-list",children:[h.slice(0,3).map(C=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:C.name}),C.city&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(vt,{size:12,className:"training-item-location-icon"}),C.city,", ",C.country]}),C.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[C.classes_count," ",C.classes_count===1?"class":"classes"]})]}),C.status&&t.jsx("span",{className:`training-item-status ${y(C.status)}`,children:C.status})]})},C.id)),A>3&&t.jsxs("button",{onClick:()=>r("/instructor/training-centers"),className:"training-view-all",children:["View All (",A,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Ie,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No training centers found"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Mr,{className:"card-title-icon",size:24}),"Accreditation Bodies"]}),E>0&&t.jsx("span",{className:"badge",children:E})]})}),t.jsx("div",{className:"profile-content",children:E>0?t.jsxs("div",{className:"training-list",children:[N.slice(0,3).map(C=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:C.name}),C.country&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(vt,{size:12,className:"training-item-location-icon"}),C.country]}),C.is_authorized&&t.jsxs("div",{className:"authorized-badge",children:[t.jsx(De,{size:14,className:"authorized-icon"}),t.jsx("span",{className:"authorized-text",children:"Authorized"}),C.authorization_date&&t.jsx("span",{className:"authorized-date",children:u(C.authorization_date)})]}),C.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[C.classes_count," ",C.classes_count===1?"class":"classes"]})]}),C.status&&t.jsx("span",{className:`training-item-status ${y(C.status)}`,children:C.status})]})},C.id)),E>3&&t.jsxs("button",{onClick:()=>r("/instructor/accs"),className:"training-view-all",children:["View All (",E,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Mr,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No ACCs found"})]})})]})]})]})},$3=()=>{const{user:e,loading:s}=or();if(s)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})});switch(e==null?void 0:e.role){case"group_admin":return t.jsx(T3,{});case"acc_admin":return t.jsx(vj,{});case"training_center_admin":return t.jsx(jj,{});case"instructor":return t.jsx(Nj,{});default:return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome!"}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})]})})}},$e=({isOpen:e,onClose:s,title:r,children:a,size:n="md"})=>{if(d.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${i[n]} max-h-[90vh] overflow-y-auto animate-scale-in`,children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10 backdrop-blur-sm bg-white/95",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-2 rounded-lg hover:bg-gray-100 hover:rotate-90 transform",children:t.jsx(Vs,{size:24})})]}),t.jsx("div",{className:"p-6 animate-fade-in",children:a})]})})},Ze=d.forwardRef(({children:e,variant:s="primary",size:r="md",className:a="",disabled:n=!1,loading:i=!1,icon:o,iconPosition:l="left",fullWidth:c=!1,type:p="button",onClick:u,...f},y)=>{const m="btn-base",x={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"},h={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},N=`
    ${m}
    ${x[s]}
    ${h[r]}
    ${c?"btn-full-width":""}
    ${n||i?"btn-disabled":""}
    ${a}
  `.trim().replace(/\s+/g," "),b=o&&t.jsx("span",{className:`btn-icon ${l==="right"?"btn-icon-right":""}`,children:o});return t.jsxs("button",{ref:y,type:p,className:N,disabled:n||i,onClick:u,...f,children:[i&&t.jsx("span",{className:"btn-spinner",children:t.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!i&&l==="left"&&b,!i&&t.jsx("span",{className:"btn-content",children:e}),!i&&l==="right"&&b]})});Ze.displayName="Button";const la=({isOpen:e,onClose:s,onConfirm:r,title:a,message:n,confirmText:i="Delete",cancelText:o="Cancel",variant:l="danger"})=>{if(!e)return null;const c=l==="danger"?"danger":l==="warning"?"warning":"primary";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4 animate-slide-down",children:[t.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-100":l==="warning"?"bg-yellow-100":"bg-primary-100"} mr-4 animate-pulse`,children:t.jsx(Y2,{className:`${l==="danger"?"text-red-600":l==="warning"?"text-yellow-600":"text-primary-600"}`,size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),t.jsx("p",{className:"text-gray-600 mb-6 ml-16 animate-fade-in",children:n}),t.jsxs("div",{className:"flex justify-end space-x-3 animate-slide-up",children:[t.jsx(Ze,{variant:"outline",onClick:s,children:o}),t.jsx(Ze,{variant:c,onClick:()=>{r(),s()},children:i})]})]})})})},fe=({label:e,type:s="text",name:r,value:a,onChange:n,placeholder:i,required:o=!1,error:l,helpText:c,options:p=null,textarea:u=!1,rows:f=4,className:y="",disabled:m=!1,min:x,max:h,step:N})=>t.jsxs("div",{className:y,children:[e&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u?t.jsx("textarea",{name:r,value:a,onChange:n,placeholder:i,required:o,rows:f,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}):s==="select"?t.jsxs("select",{name:r,value:a,onChange:n,required:o,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsxs("option",{value:"",children:["Select ",e]}),p==null?void 0:p.map(b=>t.jsx("option",{value:b.value,children:b.label},b.value))]}):t.jsx("input",{type:s,name:r,value:a,onChange:n,placeholder:i,required:o,disabled:m,min:x,max:h,step:N,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${m?"opacity-50 cursor-not-allowed bg-gray-50":""}`}),l&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),c&&!l&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),D3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState(null),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(""),[x,h]=d.useState(""),[N,b]=d.useState("all"),[g,j]=d.useState({key:null,direction:"asc"});d.useEffect(()=>{v()},[]),d.useEffect(()=>(e("ACC Applications"),s("Review and manage ACC registration applications"),()=>{e(null),s(null)}),[e,s]);const v=async()=>{try{const _=await Le.getACCApplications();a(_.applications||[])}catch(_){console.error("Failed to load applications:",_)}finally{i(!1)}},A=async _=>{try{await Le.approveACCApplication(_),await v()}catch(S){alert("Failed to approve application: "+(S.message||"Unknown error"))}},E=async _=>{try{const S=await Le.getACCApplication(_.id);l(S.application),p(!0)}catch(S){console.error("Failed to load application details:",S),l(_),p(!0)}},C=_=>{l(_),m(""),f(!0)},z=async()=>{if(!y.trim()){alert("Please provide a rejection reason");return}try{await Le.rejectACCApplication(o.id,{rejection_reason:y}),await v(),f(!1),l(null),m("")}catch(_){alert("Failed to reject application: "+(_.message||"Unknown error"))}},k=_=>{let S="asc";g.key===_&&g.direction==="asc"&&(S="desc"),j({key:_,direction:S})},M=d.useMemo(()=>{let _=[...r];if(x){const S=x.toLowerCase();_=_.filter(P=>{const D=P.name||"",I=P.email||"",U=P.legal_name||"";return D.toLowerCase().includes(S)||I.toLowerCase().includes(S)||U.toLowerCase().includes(S)})}return N!=="all"&&(_=_.filter(S=>S.status===N)),g.key&&_.sort((S,P)=>{let D,I;return g.key==="name"?(D=(S.name||"").toLowerCase(),I=(P.name||"").toLowerCase()):g.key==="created_at"?(D=new Date(S.created_at||0).getTime(),I=new Date(P.created_at||0).getTime()):(D=S[g.key]||"",I=P[g.key]||""),typeof D=="string"&&(D=D.toLowerCase(),I=I.toLowerCase()),D<I?g.direction==="asc"?-1:1:D>I?g.direction==="asc"?1:-1:0}),_},[r,x,N,g]),q=r.length,w=r.filter(_=>_.status==="pending").length,$=r.filter(_=>_.status==="rejected").length,F=_=>g.key===_?g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}):null;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>b("all"),className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:q})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Fc,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>b("pending"),className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:w})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>b("rejected"),className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="rejected"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Rejected"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:$})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ot,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by organization name, email, or legal name...",value:x,onChange:_=>h(_.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:_=>b(_.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Organization",F("name")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",F("email")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",F("status")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",F("created_at")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Fc,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-lg font-medium",children:"No applications found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):M.map(_=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>E(_),children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ie,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:_.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:_.legal_name||""})]})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),_.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${_.status==="approved"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":_.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[_.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),_.status==="approved"&&t.jsx(De,{size:12,className:"mr-1"}),_.status==="rejected"&&t.jsx(ot,{size:12,className:"mr-1"}),_.status?_.status.charAt(0).toUpperCase()+_.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:_.created_at?new Date(_.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",onClick:S=>S.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>E(_),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),_.status==="pending"?t.jsx("button",{onClick:()=>A(_.id),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(De,{size:16})}):t.jsx("button",{onClick:S=>{S.stopPropagation(),E(_)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Info",children:t.jsx(Ut,{size:16})})]})})]},_.id))})]})})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),l(null)},title:"ACC Application Details",size:"lg",children:o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Organization Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.legal_name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.email})]}),o.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.phone})]}),o.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:16,className:"mr-2"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.country})]}),o.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Address"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.address})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.registration_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${o.status==="approved"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":o.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[o.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),o.status==="approved"&&t.jsx(De,{size:12,className:"mr-1"}),o.status==="rejected"&&t.jsx(ot,{size:12,className:"mr-1"}),o.status?o.status.charAt(0).toUpperCase()+o.status.slice(1):"N/A"]})]})]}),o.documents&&o.documents.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{size:20,className:"mr-2"}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:o.documents.map((_,S)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:_.document_type}),t.jsx("p",{className:"text-sm text-gray-500",children:_.verified?"Verified":"Not Verified"})]}),_.document_url&&t.jsx("a",{href:_.document_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:"View Document"})]},S))})]}),o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"success",fullWidth:!0,icon:t.jsx(De,{size:20}),onClick:async()=>{await A(o.id),p(!1)},children:"Approve Application"}),t.jsx(Ze,{variant:"danger",fullWidth:!0,icon:t.jsx(ot,{size:20}),onClick:()=>{p(!1),C(o)},children:"Reject Application"})]})]})}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),l(null),m("")},title:"Reject ACC Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:y,onChange:_=>m(_.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{f(!1),l(null),m("")},children:"Cancel"}),t.jsx(Ze,{variant:"danger",fullWidth:!0,onClick:z,children:"Reject Application"})]})]})})]})},F3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState(null),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(""),[x,h]=d.useState(""),[N,b]=d.useState("all"),[g,j]=d.useState({key:null,direction:"asc"});d.useEffect(()=>{v()},[]),d.useEffect(()=>(e("Training Center Applications"),s("Review and manage Training Center registration applications"),()=>{e(null),s(null)}),[e,s]);const v=async()=>{try{i(!0);const _=await Le.getTrainingCenterApplications();a(_.applications||[])}catch(_){console.error("Failed to load applications:",_),alert("Failed to load applications: "+(_.message||"Unknown error"))}finally{i(!1)}},A=async _=>{if(confirm("Are you sure you want to approve this Training Center application?"))try{await Le.approveTrainingCenterApplication(_),alert("Training Center application approved successfully!"),await v()}catch(S){alert("Failed to approve application: "+(S.message||"Unknown error"))}},E=_=>{l(_),p(!0)},C=_=>{l(_),m(""),f(!0)},z=async()=>{if(!y.trim()){alert("Please provide a rejection reason");return}try{await Le.rejectTrainingCenterApplication(o.id,{rejection_reason:y}),alert("Training Center application rejected"),await v(),f(!1),l(null),m("")}catch(_){alert("Failed to reject application: "+(_.message||"Unknown error"))}},k=_=>{let S="asc";g.key===_&&g.direction==="asc"&&(S="desc"),j({key:_,direction:S})},M=d.useMemo(()=>{let _=[...r];if(x){const S=x.toLowerCase();_=_.filter(P=>{const D=P.name||"",I=P.email||"",U=P.legal_name||"";return D.toLowerCase().includes(S)||I.toLowerCase().includes(S)||U.toLowerCase().includes(S)})}return N!=="all"&&(_=_.filter(S=>S.status===N)),g.key&&_.sort((S,P)=>{let D,I;return g.key==="name"?(D=(S.name||"").toLowerCase(),I=(P.name||"").toLowerCase()):g.key==="created_at"?(D=new Date(S.created_at||0).getTime(),I=new Date(P.created_at||0).getTime()):(D=S[g.key]||"",I=P[g.key]||""),typeof D=="string"&&(D=D.toLowerCase(),I=I.toLowerCase()),D<I?g.direction==="asc"?-1:1:D>I?g.direction==="asc"?1:-1:0}),_},[r,x,N,g]),q=r.length,w=r.filter(_=>_.status==="pending").length,$=r.filter(_=>_.status==="inactive"||_.status==="rejected").length,F=_=>g.key===_?g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}):null;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>b("all"),className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:q})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Fc,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>b("pending"),className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:w})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>b("rejected"),className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${N==="rejected"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Rejected"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:$})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ot,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by training center name, email, or legal name...",value:x,onChange:_=>h(_.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:_=>b(_.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",F("name")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",F("email")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",F("status")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",F("created_at")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Fc,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-lg font-medium",children:"No applications found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):M.map(_=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>E(_),children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ie,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:_.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:_.legal_name||""})]})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),_.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${_.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":_.status==="inactive"||_.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[_.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),_.status==="active"&&t.jsx(De,{size:12,className:"mr-1"}),(_.status==="inactive"||_.status==="rejected")&&t.jsx(ot,{size:12,className:"mr-1"}),_.status?_.status.charAt(0).toUpperCase()+_.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:_.created_at?new Date(_.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",onClick:S=>S.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>E(_),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),_.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>A(_.id),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(De,{size:16})}),t.jsx("button",{onClick:()=>C(_),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Reject",children:t.jsx(ot,{size:16})})]})]})})]},_.id))})]})})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),l(null)},title:"Training Center Application Details",size:"lg",children:o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),o.legal_name&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.legal_name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.email})]}),o.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.phone})]}),o.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:16,className:"mr-2"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.country})]}),o.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:16,className:"mr-2"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.city})]}),o.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Address"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.address})]}),o.registration_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.registration_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${o.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":o.status==="inactive"||o.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[o.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),o.status==="active"&&t.jsx(De,{size:12,className:"mr-1"}),(o.status==="inactive"||o.status==="rejected")&&t.jsx(ot,{size:12,className:"mr-1"}),o.status?o.status.charAt(0).toUpperCase()+o.status.slice(1):"N/A"]})]})]}),o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"success",fullWidth:!0,icon:t.jsx(De,{size:20}),onClick:async()=>{await A(o.id),p(!1)},children:"Approve Application"}),t.jsx(Ze,{variant:"danger",fullWidth:!0,icon:t.jsx(ot,{size:20}),onClick:()=>{p(!1),C(o)},children:"Reject Application"})]})]})}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),l(null),m("")},title:"Reject Training Center Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:y,onChange:_=>m(_.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{f(!1),l(null),m("")},children:"Cancel"}),t.jsx(Ze,{variant:"danger",fullWidth:!0,onClick:z,children:"Reject Application"})]})]})})]})},Or=({currentPage:e=1,totalPages:s=1,totalItems:r=0,perPage:a=10,onPageChange:n,onPerPageChange:i,showPerPageSelector:o=!0,perPageOptions:l=[10,25,50,100],className:c=""})=>{if(s<=1&&!o)return null;const p=r===0?0:(e-1)*a+1,u=Math.min(e*a,r),f=m=>{m>=1&&m<=s&&m!==e&&n(m)},y=()=>{const m=[];if(s<=5)for(let h=1;h<=s;h++)m.push(h);else if(m.push(1),e<=3){for(let h=2;h<=4;h++)m.push(h);m.push("..."),m.push(s)}else if(e>=s-2){m.push("...");for(let h=s-3;h<=s;h++)m.push(h)}else{m.push("...");for(let h=e-1;h<=e+1;h++)m.push(h);m.push("..."),m.push(s)}return m};return t.jsx("div",{className:`pagination-container ${c}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("span",{className:"font-semibold text-gray-900",children:p})," to"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:u})," of"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:r})," results"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[o&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsx("select",{value:a,onChange:m=>i(Number(m.target.value)),className:"pagination-select px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm cursor-pointer bg-white hover:border-gray-400 transition-colors",children:l.map(m=>t.jsx("option",{value:m,children:m},m))})]}),s>1&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>f(1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"First page",children:t.jsx(s_,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>f(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Previous page",children:t.jsx(lv,{size:16,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center gap-1",children:y().map((m,x)=>m==="..."?t.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${x}`):t.jsx("button",{onClick:()=>f(m),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===m?"bg-primary-600 text-white border border-primary-600 shadow-sm":"border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}`,children:m},m))}),t.jsx("button",{onClick:()=>f(e+1),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Next page",children:t.jsx(cv,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>f(s),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Last page",children:t.jsx(r_,{size:16,className:"text-gray-600"})})]})]})]})})},I3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(!1),[N,b]=d.useState(!1),[g,j]=d.useState(null),[v,A]=d.useState(""),[E,C]=d.useState(!1),[z,k]=d.useState([]),[M,q]=d.useState(""),[w,$]=d.useState({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),[F,_]=d.useState({}),[S,P]=d.useState({key:null,direction:"asc"}),[D,I]=d.useState(""),[U,Y]=d.useState("all"),[V,R]=d.useState("all"),[O,W]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});d.useEffect(()=>{H(D===""&&U==="all"),K()},[O.currentPage,O.perPage,D,U]);const K=async()=>{try{const te=await Le.listCategories();k(te.categories||[])}catch(te){console.error("Failed to load categories:",te)}},H=async(te=!1)=>{p(!0);try{const ae={page:te?1:O.currentPage,per_page:te?1e3:O.perPage};D&&(ae.search=D),U!=="all"&&V==="all"&&(ae.status=U);const ce=await Le.listACCs(ae);let se=[];ce.data?(se=ce.data||[],te||W(J=>({...J,totalPages:ce.last_page||ce.total_pages||1,totalItems:ce.total||0}))):ce.accs?(se=ce.accs||[],te||W(J=>{var ee;return{...J,totalPages:1,totalItems:((ee=ce.accs)==null?void 0:ee.length)||0}})):(se=Array.isArray(ce)?ce:[],te||W(J=>({...J,totalPages:1,totalItems:se.length}))),a(se),i(se),l(se)}catch(ae){console.error("Failed to load ACCs:",ae),a([]),i([]),l([])}finally{p(!1)}},T=te=>{let ae="asc";S.key===te&&S.direction==="asc"&&(ae="desc"),P({key:te,direction:ae})};d.useEffect(()=>{if((D===""&&U==="all"||V!=="all")&&n.length>0){let ae=[...n];V!=="all"&&(ae=ae.filter(Ne=>Ne.status===V)),S.key&&ae.sort((Ne,G)=>{let B=Ne[S.key],X=G[S.key];return S.key==="created_at"?(B=new Date(B),X=new Date(X)):typeof B=="string"&&(B=B.toLowerCase(),X=X.toLowerCase()),B<X?S.direction==="asc"?-1:1:B>X?S.direction==="asc"?1:-1:0});const ce=ae.length,se=Math.ceil(ce/O.perPage),J=O.currentPage>se?Math.max(1,se):O.currentPage,ee=(J-1)*O.perPage,xe=ee+O.perPage,je=ae.slice(ee,xe);l(je),W(Ne=>({...Ne,totalItems:ce,totalPages:se||1,currentPage:J}))}else{let ae=[...r];S.key&&ae.sort((ce,se)=>{let J=ce[S.key],ee=se[S.key];return S.key==="created_at"?(J=new Date(J),ee=new Date(ee)):typeof J=="string"&&(J=J.toLowerCase(),ee=ee.toLowerCase()),J<ee?S.direction==="asc"?-1:1:J>ee?S.direction==="asc"?1:-1:0}),l(ae)}},[S,r,n,V,O.perPage,O.currentPage,D,U]);const L=te=>{W(ae=>({...ae,currentPage:te}))},ie=te=>{W(ae=>({...ae,perPage:te,currentPage:1}))},re=async te=>{try{const ae=await Le.getACCDetails(te.id),ce={...ae.acc,categories:ae.acc.categories||[]};j(ce),f(!0)}catch(ae){console.error("Failed to load ACC details:",ae);const ce={...te,categories:te.categories||[]};j(ce),f(!0)}},le=async()=>{if(!v||isNaN(v)){alert("Please enter a valid commission percentage");return}const te=parseFloat(v);if(te<0||te>100){alert("Commission percentage must be between 0 and 100");return}C(!0);try{await Le.setCommissionPercentage(g.id,{commission_percentage:te}),await H(),W(ae=>({...ae,currentPage:1})),m(!1),j(null),A(""),alert("Commission percentage set successfully!")}catch(ae){alert("Failed to set commission: "+(ae.message||"Unknown error"))}finally{C(!1)}},pe=async te=>{try{const ce=(await Le.getACCDetails(te.id)).acc;j(ce),$({name:ce.name||"",legal_name:ce.legal_name||"",registration_number:ce.registration_number||"",country:ce.country||"",address:ce.address||"",phone:ce.phone||"",email:ce.email||"",website:ce.website||"",logo_url:ce.logo_url||"",status:ce.status||"active",registration_fee_paid:ce.registration_fee_paid||!1,registration_fee_amount:ce.registration_fee_amount||"",commission_percentage:ce.commission_percentage||""}),_({}),h(!0)}catch(ae){console.error("Failed to load ACC details:",ae),alert("Failed to load ACC details")}},oe=te=>{const{name:ae,value:ce,type:se,checked:J}=te.target;$({...w,[ae]:se==="checkbox"?J:ce}),_({})},de=async te=>{var ae,ce,se,J;te.preventDefault(),C(!0),_({});try{await Le.updateACC(g.id,w),await H(),h(!1),j(null),alert("ACC updated successfully!")}catch(ee){(ce=(ae=ee.response)==null?void 0:ae.data)!=null&&ce.errors?_(ee.response.data.errors):_({general:((J=(se=ee.response)==null?void 0:se.data)==null?void 0:J.message)||ee.message||"Failed to update ACC"})}finally{C(!1)}},ue=async te=>{try{const ae=await Le.getACCCategories(te.id),ce={...ae.acc,categories:ae.categories||[]};j(ce),b(!0)}catch(ae){console.error("Failed to load ACC categories:",ae);try{const ce=await Le.getACCDetails(te.id),se={...ce.acc,categories:ce.acc.categories||[]};j(se),b(!0)}catch(ce){console.error("Failed to load ACC details:",ce);const se={...te,categories:te.categories||[]};j(se),b(!0)}}},Z=async()=>{var te,ae;if(!M){alert("Please select a category");return}C(!0);try{await Le.assignCategoryToACC(g.id,{category_id:parseInt(M)});const ce=await Le.getACCCategories(g.id),se={...ce.acc,categories:ce.categories||[]};j(se),q(""),await K(),alert("Category assigned successfully!")}catch(ce){const se=((ae=(te=ce.response)==null?void 0:te.data)==null?void 0:ae.message)||ce.message||"Unknown error";alert("Failed to assign category: "+se)}finally{C(!1)}},me=async te=>{var ae,ce;if(confirm("Are you sure you want to remove this category?")){C(!0);try{await Le.removeCategoryFromACC(g.id,{category_id:te});const se=await Le.getACCCategories(g.id),J={...se.acc,categories:se.categories||[]};j(J),await K(),alert("Category removed successfully!")}catch(se){const J=((ce=(ae=se.response)==null?void 0:ae.data)==null?void 0:ce.message)||se.message||"Unknown error";alert("Failed to remove category: "+J)}finally{C(!1)}}},ve=n.length,Pe=n.filter(te=>te.status==="active").length,ke=n.filter(te=>te.status==="pending").length;return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>{R("all"),W(te=>({...te,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${V==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:ve})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ie,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{R("active"),W(te=>({...te,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${V==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:Pe})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(De,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{R("pending"),W(te=>({...te,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${V==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:ke})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:D,onChange:te=>{I(te.target.value),R("all"),W(ae=>({...ae,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:U,onChange:te=>{Y(te.target.value),R("all"),W(ae=>({...ae,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>T("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["ACC Name",S.key==="name"&&(S.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>T("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",S.key==="email"&&(S.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>T("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",S.key==="status"&&(S.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>T("commission_percentage"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Commission %",S.key==="commission_percentage"&&(S.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>T("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Created",S.key==="created_at"&&(S.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ie,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No ACCs found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No ACCs available"})]})})}):o.map((te,ae)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>re(te),style:{"--animation-delay":`${ae*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Ie,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:te.name})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),te.email]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${te.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":te.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:te.commission_percentage?`${te.commission_percentage}%`:t.jsx("span",{className:"text-gray-400",children:"Not Set"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:te.created_at?new Date(te.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:ce=>ce.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>re(te),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),t.jsx("button",{onClick:ce=>{ce.stopPropagation(),pe(te)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit ACC",children:t.jsx(ts,{size:16})})]})})]},te.id))})]})}),!c&&O.totalItems>0&&t.jsx(Or,{currentPage:O.currentPage,totalPages:O.totalPages,totalItems:O.totalItems,perPage:O.perPage,onPageChange:L,onPerPageChange:ie})]}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),j(null)},title:"ACC Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.email})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${g.status==="active"?"bg-green-100 text-green-800":g.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:g.status})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.commission_percentage?`${g.commission_percentage}%`:"Not Set"})]}),g.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.created_at).toLocaleDateString()})]})]}),g.subscriptions&&g.subscriptions.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subscriptions"}),t.jsx("div",{className:"space-y-2",children:g.subscriptions.map((te,ae)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[te.subscription_start_date," - ",te.subscription_end_date]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",te.payment_status]})]},ae))})]}),g.categories&&Array.isArray(g.categories)&&g.categories.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assigned Categories"}),t.jsx("div",{className:"space-y-2",children:g.categories.map(te=>{const ae=typeof te=="object"?te.id:te,ce=typeof te=="object"?te.name:`Category ${ae}`;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:t.jsx("span",{className:"font-medium text-gray-900",children:ce})},ae)})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,icon:t.jsx(ts,{size:20}),onClick:()=>{f(!1),pe(g)},children:"Edit ACC"}),t.jsx(Ze,{variant:"primary",fullWidth:!0,icon:t.jsx(Mo,{size:20}),onClick:()=>{f(!1),ue(g)},children:"Manage Categories"})]})]})}),t.jsx($e,{isOpen:y,onClose:()=>{m(!1),j(null),A("")},title:`Set Commission for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(fe,{label:"Commission Percentage (0-100)",name:"commission_percentage",type:"number",value:v,onChange:te=>A(te.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"e.g., 15.5"}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),j(null),A("")},children:"Cancel"}),t.jsx(Ze,{variant:"primary",fullWidth:!0,onClick:le,disabled:E,loading:E,children:"Save Commission"})]})]})}),t.jsx($e,{isOpen:x,onClose:()=>{h(!1),j(null),$({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),_({})},title:`Edit ACC: ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("form",{onSubmit:de,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Name",name:"name",value:w.name,onChange:oe,error:F.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",value:w.legal_name,onChange:oe,error:F.legal_name}),t.jsx(fe,{label:"Registration Number",name:"registration_number",value:w.registration_number,onChange:oe,error:F.registration_number}),t.jsx(fe,{label:"Country",name:"country",value:w.country,onChange:oe,error:F.country}),t.jsx(fe,{label:"Address",name:"address",value:w.address,onChange:oe,textarea:!0,rows:2,error:F.address}),t.jsx(fe,{label:"Phone",name:"phone",value:w.phone,onChange:oe,error:F.phone}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:w.email,onChange:oe,error:F.email}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:w.website,onChange:oe,error:F.website}),t.jsx(fe,{label:"Logo URL",name:"logo_url",type:"url",value:w.logo_url,onChange:oe,error:F.logo_url}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:w.status,onChange:oe,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"},{value:"rejected",label:"Rejected"}],error:F.status}),t.jsx(fe,{label:"Registration Fee Amount",name:"registration_fee_amount",type:"number",value:w.registration_fee_amount,onChange:oe,min:"0",step:"0.01",error:F.registration_fee_amount}),t.jsx(fe,{label:"Commission Percentage",name:"commission_percentage",type:"number",value:w.commission_percentage,onChange:oe,min:"0",max:"100",step:"0.1",error:F.commission_percentage}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registration_fee_paid",checked:w.registration_fee_paid,onChange:oe,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Registration Fee Paid"})]})]}),F.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:F.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),j(null),_({})},children:"Cancel"}),t.jsx(Ze,{variant:"primary",fullWidth:!0,type:"submit",disabled:E,loading:E,children:"Save Changes"})]})]})}),t.jsx($e,{isOpen:N,onClose:()=>{b(!1),j(null),q("")},title:`Manage Categories for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assign Category"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:M,onChange:te=>q(te.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer category-select",children:[t.jsx("option",{value:"",children:"Select a category..."}),z.filter(te=>!(g!=null&&g.categories)||g.categories.length===0?!0:!g.categories.some(ae=>{const ce=typeof ae=="object"?ae.id:ae,se=typeof te=="object"?te.id:te;return ce===se})).map(te=>t.jsx("option",{value:te.id,children:te.name},te.id))]}),t.jsx(Ze,{onClick:Z,disabled:!M||E,loading:E,icon:t.jsx(Rs,{size:20}),children:"Assign"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Assigned Categories ",(g==null?void 0:g.categories)&&Array.isArray(g.categories)&&g.categories.length>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",g.categories.length,")"]})]}),g!=null&&g.categories&&Array.isArray(g.categories)&&g.categories.length>0?t.jsx("div",{className:"space-y-3",children:g.categories.map(te=>{const ae=te.id,ce=te.sub_categories||[],se=te.pivot;return te.created_by,t.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:te.name}),te.name_ar&&t.jsxs("span",{className:"text-sm text-gray-500",children:["(",te.name_ar,")"]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:te.status})]}),te.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:te.description}),ce.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Sub Categories (",ce.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:ce.map(J=>t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded",children:J.name},J.id))})]}),se&&t.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Assigned on: ",new Date(se.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>me(ae),disabled:E,className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-4",title:"Remove Category",children:t.jsx(Vs,{size:16})})]})},ae)})}):t.jsxs("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[t.jsx(Mo,{className:"mx-auto text-gray-400 mb-2",size:32}),t.jsx("p",{className:"text-gray-500",children:"No categories assigned"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign categories to this ACC to get started"})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{b(!1),j(null),q("")},children:"Close"})})]})})]})},L3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(null),[N,b]=d.useState("all"),[g,j]=d.useState("all"),[v,A]=d.useState({key:null,direction:"asc"}),[E,C]=d.useState(""),[z,k]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[M,q]=d.useState(!1),[w,$]=d.useState({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),[F,_]=d.useState({});d.useEffect(()=>{S(E===""&&N==="all")},[z.currentPage,z.perPage,E,N]);const S=async(H=!1)=>{p(!0);try{const T={page:H?1:z.currentPage,per_page:H?1e3:z.perPage};E&&(T.search=E),N!=="all"&&g==="all"&&(T.status=N);const L=await Le.listTrainingCenters(T);let ie=[];L.data?(ie=L.data||[],H||k(re=>({...re,totalPages:L.last_page||L.total_pages||1,totalItems:L.total||0}))):L.training_centers?(ie=L.training_centers||[],H||k(re=>{var le;return{...re,totalPages:1,totalItems:((le=L.training_centers)==null?void 0:le.length)||0}})):(ie=Array.isArray(L)?L:[],H||k(re=>({...re,totalPages:1,totalItems:ie.length}))),a(ie),i(ie),l(ie)}catch(T){console.error("Failed to load training centers:",T),a([]),i([]),l([])}finally{p(!1)}},P=H=>{k(T=>({...T,currentPage:H}))},D=H=>{k(T=>({...T,perPage:H,currentPage:1}))},I=H=>{let T="asc";v.key===H&&v.direction==="asc"&&(T="desc"),A({key:H,direction:T})};d.useEffect(()=>{if((E===""&&N==="all"||g!=="all")&&n.length>0){let T=[...n];g!=="all"&&(T=T.filter(de=>de.status===g)),v.key&&T.sort((de,ue)=>{let Z=de[v.key],me=ue[v.key];return v.key==="created_at"?(Z=new Date(Z),me=new Date(me)):typeof Z=="string"&&(Z=Z.toLowerCase(),me=me.toLowerCase()),Z<me?v.direction==="asc"?-1:1:Z>me?v.direction==="asc"?1:-1:0});const L=T.length,ie=Math.ceil(L/z.perPage),re=z.currentPage>ie?Math.max(1,ie):z.currentPage,le=(re-1)*z.perPage,pe=le+z.perPage,oe=T.slice(le,pe);l(oe),k(de=>({...de,totalItems:L,totalPages:ie||1,currentPage:re}))}else{let T=[...r];v.key&&T.sort((L,ie)=>{let re=L[v.key],le=ie[v.key];return v.key==="created_at"?(re=new Date(re),le=new Date(le)):typeof re=="string"&&(re=re.toLowerCase(),le=le.toLowerCase()),re<le?v.direction==="asc"?-1:1:re>le?v.direction==="asc"?1:-1:0}),l(T)}},[v,r,n,g,z.perPage,z.currentPage,E,N]);const U=async H=>{try{const T=await Le.getTrainingCenterDetails(H.id);h(T.training_center),f(!0)}catch(T){console.error("Failed to load training center details:",T),h(H),f(!0)}},Y=async H=>{try{const L=(await Le.getTrainingCenterDetails(H.id)).training_center;h(L),$({name:L.name||"",legal_name:L.legal_name||"",registration_number:L.registration_number||"",country:L.country||"",city:L.city||"",address:L.address||"",phone:L.phone||"",email:L.email||"",website:L.website||"",logo_url:L.logo_url||"",referred_by_group:L.referred_by_group||!1,status:L.status||"active"}),_({}),m(!0)}catch(T){console.error("Failed to load training center details:",T),alert("Failed to load training center details")}},V=H=>{const{name:T,value:L,type:ie,checked:re}=H.target;$({...w,[T]:ie==="checkbox"?re:L}),_({})},R=async H=>{var T,L,ie,re;H.preventDefault(),q(!0),_({});try{await Le.updateTrainingCenter(x.id,w),await S(),m(!1),h(null),alert("Training center updated successfully!")}catch(le){(L=(T=le.response)==null?void 0:T.data)!=null&&L.errors?_(le.response.data.errors):_({general:((re=(ie=le.response)==null?void 0:ie.data)==null?void 0:re.message)||le.message||"Failed to update training center"})}finally{q(!1)}},O=n.length,W=n.filter(H=>H.status==="active").length,K=n.filter(H=>H.status==="pending").length;return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>{j("all"),k(H=>({...H,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${g==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:O})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ie,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{j("active"),k(H=>({...H,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${g==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:W})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(De,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{j("pending"),k(H=>({...H,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${g==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:K})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:E,onChange:H=>{C(H.target.value),j("all"),k(T=>({...T,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:H=>{b(H.target.value),j("all"),k(T=>({...T,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",v.key==="name"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",v.key==="email"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",v.key==="status"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("country"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Country",v.key==="country"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Created",v.key==="created_at"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Lo,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No training centers found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No training centers match your search criteria"})]})})}):o.map((H,T)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>U(H),style:{"--animation-delay":`${T*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Lo,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:H.name||"N/A"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),H.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${H.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":H.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:H.status?H.status.charAt(0).toUpperCase()+H.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(vt,{className:"h-4 w-4 mr-2 text-gray-400"}),H.country||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:H.created_at?new Date(H.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:L=>L.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>U(H),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),t.jsx("button",{onClick:L=>{L.stopPropagation(),Y(H)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit Training Center",children:t.jsx(ts,{size:16})})]})})]},H.id||T))})]})}),!c&&z.totalItems>0&&t.jsx(Or,{currentPage:z.currentPage,totalPages:z.totalPages,totalItems:z.totalItems,perPage:z.perPage,onPageChange:P,onPerPageChange:D})]}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),h(null)},title:"Training Center Details",size:"lg",children:x&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${x.status==="active"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status||"N/A"})]}),x.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Country"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.country})]}),x.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(x.created_at).toLocaleDateString()})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ze,{variant:"outline",fullWidth:!0,icon:t.jsx(ts,{size:20}),onClick:()=>{f(!1),Y(x)},children:"Edit Training Center"})})]})}),t.jsx($e,{isOpen:y,onClose:()=>{m(!1),h(null),$({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),_({})},title:`Edit Training Center: ${x==null?void 0:x.name}`,size:"lg",children:t.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Name",name:"name",value:w.name,onChange:V,error:F.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",value:w.legal_name,onChange:V,error:F.legal_name}),t.jsx(fe,{label:"Registration Number",name:"registration_number",value:w.registration_number,onChange:V,error:F.registration_number}),t.jsx(fe,{label:"Country",name:"country",value:w.country,onChange:V,error:F.country}),t.jsx(fe,{label:"City",name:"city",value:w.city,onChange:V,error:F.city}),t.jsx(fe,{label:"Address",name:"address",value:w.address,onChange:V,textarea:!0,rows:2,error:F.address}),t.jsx(fe,{label:"Phone",name:"phone",value:w.phone,onChange:V,error:F.phone}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:w.email,onChange:V,error:F.email}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:w.website,onChange:V,error:F.website}),t.jsx(fe,{label:"Logo URL",name:"logo_url",type:"url",value:w.logo_url,onChange:V,error:F.logo_url}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:w.status,onChange:V,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:F.status}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"referred_by_group",checked:w.referred_by_group,onChange:V,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Referred by Group"})]})]}),F.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:F.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),h(null),_({})},children:"Cancel"}),t.jsx(Ze,{variant:"primary",fullWidth:!0,type:"submit",disabled:M,loading:M,children:"Save Changes"})]})]})})]})},M3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(null),[N,b]=d.useState(!1),[g,j]=d.useState({key:null,direction:"asc"}),[v,A]=d.useState(""),[E,C]=d.useState("all"),[z,k]=d.useState("all"),[M,q]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[w,$]=d.useState(!1),[F,_]=d.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv_url:"",certificates_json:[],specializations:[],status:"active"}),[S,P]=d.useState({});d.useEffect(()=>{D(v===""&&E==="all")},[M.currentPage,M.perPage,v,E]),d.useEffect(()=>(e("Instructors"),s("View and manage all instructors across all ACCs"),()=>{e(null),s(null)}),[e,s]);const D=async(re=!1)=>{p(!0);try{const le={page:re?1:M.currentPage,per_page:re?1e3:M.perPage};v&&(le.search=v),E!=="all"&&z==="all"&&(le.status=E);const pe=await Le.listInstructors(le);let oe=[];pe.data?(oe=pe.data||[],re||q(de=>({...de,totalPages:pe.last_page||pe.total_pages||1,totalItems:pe.total||0}))):pe.instructors?(oe=pe.instructors||[],re||q(de=>{var ue;return{...de,totalPages:1,totalItems:((ue=pe.instructors)==null?void 0:ue.length)||0}})):(oe=Array.isArray(pe)?pe:[],re||q(de=>({...de,totalPages:1,totalItems:oe.length}))),a(oe),i(oe),l(oe)}catch(le){console.error("Failed to load instructors:",le),a([]),i([]),l([])}finally{p(!1)}},I=re=>{q(le=>({...le,currentPage:re}))},U=re=>{q(le=>({...le,perPage:re,currentPage:1}))},Y=re=>{let le="asc";g.key===re&&g.direction==="asc"&&(le="desc"),j({key:re,direction:le})};d.useEffect(()=>{if((v===""&&E==="all"||z!=="all")&&n.length>0){let le=[...n];z!=="all"&&(le=le.filter(ve=>ve.status===z)),g.key&&le.sort((ve,Pe)=>{let ke,te;if(g.key==="name")ke=`${ve.first_name||""} ${ve.last_name||""}`.trim().toLowerCase(),te=`${Pe.first_name||""} ${Pe.last_name||""}`.trim().toLowerCase();else if(g.key==="training_center"){const ae=ve.training_center,ce=Pe.training_center;ke=typeof ae=="string"?ae:((ae==null?void 0:ae.name)||"").toLowerCase(),te=typeof ce=="string"?ce:((ce==null?void 0:ce.name)||"").toLowerCase()}else ke=ve[g.key]||"",te=Pe[g.key]||"";return typeof ke=="string"&&(ke=ke.toLowerCase(),te=te.toLowerCase()),ke<te?g.direction==="asc"?-1:1:ke>te?g.direction==="asc"?1:-1:0});const pe=le.length,oe=Math.ceil(pe/M.perPage),de=M.currentPage>oe?Math.max(1,oe):M.currentPage,ue=(de-1)*M.perPage,Z=ue+M.perPage,me=le.slice(ue,Z);l(me),q(ve=>({...ve,totalItems:pe,totalPages:oe||1,currentPage:de}))}else{let le=[...r];g.key&&le.sort((pe,oe)=>{let de,ue;if(g.key==="name")de=`${pe.first_name||""} ${pe.last_name||""}`.trim().toLowerCase(),ue=`${oe.first_name||""} ${oe.last_name||""}`.trim().toLowerCase();else if(g.key==="training_center"){const Z=pe.training_center,me=oe.training_center;de=typeof Z=="string"?Z:((Z==null?void 0:Z.name)||"").toLowerCase(),ue=typeof me=="string"?me:((me==null?void 0:me.name)||"").toLowerCase()}else de=pe[g.key]||"",ue=oe[g.key]||"";return typeof de=="string"&&(de=de.toLowerCase(),ue=ue.toLowerCase()),de<ue?g.direction==="asc"?-1:1:de>ue?g.direction==="asc"?1:-1:0}),l(le)}},[g,r,n,z,M.perPage,M.currentPage,v,E]);const V=async re=>{var le;b(!0),f(!0);try{const pe=await Le.getInstructorDetails(re.id);h(pe.instructor)}catch(pe){console.error("Failed to load instructor details:",pe),h(re),((le=pe.response)==null?void 0:le.status)===404&&alert("Instructor not found")}finally{b(!1)}},R=async re=>{try{const pe=(await Le.getInstructorDetails(re.id)).instructor;h(pe),_({first_name:pe.first_name||"",last_name:pe.last_name||"",email:pe.email||"",phone:pe.phone||"",id_number:pe.id_number||"",cv_url:pe.cv_url||"",certificates_json:pe.certificates_json||[],specializations:pe.specializations||[],status:pe.status||"active"}),P({}),m(!0)}catch(le){console.error("Failed to load instructor details:",le),alert("Failed to load instructor details")}},O=re=>{const{name:le,value:pe}=re.target;_({...F,[le]:pe}),P({})},W=re=>{const pe=re.target.value.split(",").map(oe=>oe.trim()).filter(oe=>oe);_({...F,specializations:pe})},K=async re=>{var le,pe,oe,de;re.preventDefault(),$(!0),P({});try{await Le.updateInstructor(x.id,F),await D(),m(!1),h(null),alert("Instructor updated successfully!")}catch(ue){(pe=(le=ue.response)==null?void 0:le.data)!=null&&pe.errors?P(ue.response.data.errors):P({general:((de=(oe=ue.response)==null?void 0:oe.data)==null?void 0:de.message)||ue.message||"Failed to update instructor"})}finally{$(!1)}},H=n.length,T=n.filter(re=>re.status==="active").length,L=n.filter(re=>re.status==="pending").length,ie=n.filter(re=>re.status==="suspended").length;return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{onClick:()=>{k("all"),q(re=>({...re,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:H})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("active"),q(re=>({...re,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:T})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(De,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("pending"),q(re=>({...re,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:L})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("suspended"),q(re=>({...re,currentPage:1}))},className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="suspended"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Suspended"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:ie})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ot,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:v,onChange:re=>{A(re.target.value),k("all"),q(le=>({...le,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:E,onChange:re=>{C(re.target.value),k("all"),q(le=>({...le,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Instructor",g.key==="name"&&(g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",g.key==="email"&&(g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("phone"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Phone",g.key==="phone"&&(g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("training_center"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",g.key==="training_center"&&(g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",g.key==="status"&&(g.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(nt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No instructors found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No instructors match your search criteria"})]})})}):o.map((re,le)=>{const pe={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:De},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ve},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ot},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:Ve}},oe=pe[re.status]||pe.inactive,de=oe.icon,ue=re.training_center?typeof re.training_center=="string"?re.training_center:re.training_center.name:"N/A";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>V(re),style:{"--animation-delay":`${le*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(nt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:[re.first_name," ",re.last_name]}),re.id_number&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",re.id_number]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),re.email]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:re.phone?t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(vs,{className:"h-4 w-4 mr-2 text-gray-400"}),re.phone]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ie,{className:"h-4 w-4 mr-2 text-gray-400"}),ue]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${oe.bg} ${oe.text} border ${oe.border}`,children:[t.jsx(de,{size:14,className:"mr-1"}),re.status.charAt(0).toUpperCase()+re.status.slice(1)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:Z=>Z.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>V(re),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),t.jsx("button",{onClick:Z=>{Z.stopPropagation(),R(re)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit Instructor",children:t.jsx(ts,{size:16})})]})})]},re.id||le)})})]})}),!c&&M.totalItems>0&&t.jsx(Or,{currentPage:M.currentPage,totalPages:M.totalPages,totalItems:M.totalItems,perPage:M.perPage,onPageChange:I,onPerPageChange:U})]}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),h(null)},title:"Instructor Details",size:"lg",children:N?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.phone||"N/A"})]}),x.id_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.id_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${x.status==="active"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":x.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:x.status})]})]}),x.specializations&&x.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specializations"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:x.specializations.map((re,le)=>t.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:re},le))})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ze,{variant:"outline",fullWidth:!0,icon:t.jsx(ts,{size:20}),onClick:()=>{f(!1),R(x)},children:"Edit Instructor"})})]}):null}),t.jsx($e,{isOpen:y,onClose:()=>{m(!1),h(null),_({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv_url:"",certificates_json:[],specializations:[],status:"active"}),P({})},title:`Edit Instructor: ${x==null?void 0:x.first_name} ${x==null?void 0:x.last_name}`,size:"lg",children:t.jsxs("form",{onSubmit:K,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:F.first_name,onChange:O,error:S.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:F.last_name,onChange:O,error:S.last_name}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:F.email,onChange:O,error:S.email}),t.jsx(fe,{label:"Phone",name:"phone",value:F.phone,onChange:O,error:S.phone}),t.jsx(fe,{label:"ID Number",name:"id_number",value:F.id_number,onChange:O,error:S.id_number}),t.jsx(fe,{label:"CV URL",name:"cv_url",type:"url",value:F.cv_url,onChange:O,error:S.cv_url}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:F.status,onChange:O,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:S.status}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),t.jsx("input",{type:"text",value:F.specializations.join(", "),onChange:W,placeholder:"e.g., Aviation Safety, Aircraft Maintenance",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),S.specializations&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.specializations})]})]}),S.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:S.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ze,{variant:"outline",fullWidth:!0,onClick:()=>{m(!1),h(null),P({})},children:"Cancel"}),t.jsx(Ze,{variant:"primary",fullWidth:!0,type:"submit",disabled:w,loading:w,children:"Save Changes"})]})]})})]})},O3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState([]),[u,f]=d.useState(0),[y,m]=d.useState(!0),[x,h]=d.useState(!1),[N,b]=d.useState(null),[g,j]=d.useState(!1),[v,A]=d.useState({key:null,direction:"asc"}),[E,C]=d.useState(""),[z,k]=d.useState("all"),[M,q]=d.useState("all"),[w,$]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});d.useEffect(()=>{F()},[w.currentPage,w.perPage]),d.useEffect(()=>(e("Courses"),s("View and manage all courses across all ACCs"),()=>{e(null),s(null)}),[e,s]);const F=async()=>{m(!0);try{const R={page:w.currentPage,per_page:w.perPage},O=await Le.listCourses(R);let W=[];O.data?(W=O.data||[],$(K=>({...K,totalPages:O.last_page||O.total_pages||1,totalItems:O.total||0}))):O.courses?(W=O.courses||[],$(K=>{var H;return{...K,totalPages:1,totalItems:((H=O.courses)==null?void 0:H.length)||0}})):(W=Array.isArray(O)?O:[],$(K=>({...K,totalPages:1,totalItems:W.length}))),a(W),l(W),i(W)}catch(R){console.error("Failed to load courses:",R),a([]),l([]),i([])}finally{m(!1)}},_=R=>{$(O=>({...O,currentPage:R}))},S=R=>{$(O=>({...O,perPage:R,currentPage:1}))},P=R=>{let O="asc";v.key===R&&v.direction==="asc"&&(O="desc"),A({key:R,direction:O})};d.useEffect(()=>{let R=[...r];if(z!=="all"&&(R=R.filter(O=>O.status===z)),M!=="all"&&(R=R.filter(O=>O.level===M)),E){const O=E.toLowerCase();R=R.filter(W=>{const K=(W.name||"").toLowerCase(),H=(W.code||"").toLowerCase();return K.includes(O)||H.includes(O)})}v.key&&R.sort((O,W)=>{let K,H;if(v.key==="name")K=(O.name||"").toLowerCase(),H=(W.name||"").toLowerCase();else if(v.key==="acc"){const T=O.acc,L=W.acc;K=typeof T=="object"&&T?(T.name||"").toLowerCase():"",H=typeof L=="object"&&L?(L.name||"").toLowerCase():""}else if(v.key==="sub_category"){const T=O.sub_category,L=W.sub_category;K=typeof T=="object"&&T?(T.name||"").toLowerCase():"",H=typeof L=="object"&&L?(L.name||"").toLowerCase():""}else v.key==="duration_hours"?(K=O.duration_hours||0,H=W.duration_hours||0):(K=O[v.key]||"",H=W[v.key]||"");return v.key==="duration_hours"||typeof K=="string"&&(K=K.toLowerCase(),H=H.toLowerCase()),K<H?v.direction==="asc"?-1:1:K>H?v.direction==="asc"?1:-1:0}),l(R),f(R.length)},[v,r,z,M,E]),d.useEffect(()=>{$(R=>R.currentPage!==1?{...R,currentPage:1}:R)},[z,M,E]),d.useEffect(()=>{const R=(w.currentPage-1)*w.perPage,O=R+w.perPage,W=o.slice(R,O);p(W)},[o,w.currentPage,w.perPage]);const D=async R=>{h(!0),j(!0);try{const O=await Le.getCourseDetails(R.id);b(O.course||R)}catch(O){console.error("Failed to load course details:",O),b(R)}finally{j(!1)}},I=n.length,U=n.filter(R=>R.status==="active").length,Y=n.filter(R=>R.status==="inactive").length,V=n.filter(R=>R.status==="archived").length;return y?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{onClick:()=>{k("all"),$(R=>({...R,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Courses"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:I})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Zt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("active"),$(R=>({...R,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:U})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(De,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("inactive"),$(R=>({...R,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="inactive"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Inactive"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:Y})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ve,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("archived"),$(R=>({...R,currentPage:1}))},className:`bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${z==="archived"?"ring-2 ring-gray-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Archived"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:V})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ot,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or code...",value:E,onChange:R=>{C(R.target.value),$(O=>({...O,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:M,onChange:R=>{q(R.target.value),$(O=>({...O,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Levels"}),t.jsx("option",{value:"beginner",children:"Beginner"}),t.jsx("option",{value:"intermediate",children:"Intermediate"}),t.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Course",v.key==="name"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("acc"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["ACC",v.key==="acc"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("sub_category"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Sub Category",v.key==="sub_category"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("level"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Level",v.key==="level"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("duration_hours"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Duration",v.key==="duration_hours"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>P("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",v.key==="status"&&(v.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Zt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No courses found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No courses match your search criteria"})]})})}):c.map((R,O)=>{const W=R.acc&&typeof R.acc=="object"?R.acc.name:"N/A",K=R.sub_category&&typeof R.sub_category=="object"?R.sub_category.name:"N/A";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>D(R),style:{"--animation-delay":`${O*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Zt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:R.name}),R.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:R.name_ar}),R.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",R.code]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ie,{className:"h-4 w-4 mr-2 text-gray-400"}),W]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-gray-600",children:[K,R.sub_category&&typeof R.sub_category=="object"&&R.sub_category.category&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R.sub_category.category.name})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:R.level||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2 text-gray-400"}),R.duration_hours?`${R.duration_hours} hrs`:"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${R.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":R.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:R.status?R.status.charAt(0).toUpperCase()+R.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",onClick:H=>H.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>D(R),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),t.jsx("button",{onClick:H=>{H.stopPropagation(),D(R)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Course Info",children:t.jsx(Be,{size:16})})]})})]},R.id||O)})})]})}),!y&&u>0&&t.jsx(Or,{currentPage:w.currentPage,totalPages:Math.ceil(u/w.perPage),totalItems:u,perPage:w.perPage,onPageChange:_,onPerPageChange:S})]}),t.jsx($e,{isOpen:x,onClose:()=>{h(!1),b(null)},title:"Course Details",size:"xl",children:g?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):N?t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N.name||"N/A"})]}),N.name_ar&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:N.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:16,className:"mr-2"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N.duration_hours?`${N.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${N.status==="active"?"bg-green-100 text-green-800":N.status==="inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status||"N/A"})]})]}),N.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:N.description})]}),N.acc&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Ie,{className:"h-5 w-5 text-purple-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Accreditation Body (ACC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.acc.name||"N/A"})]}),N.acc.legal_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.acc.legal_name})]}),N.acc.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.acc.email})]}),N.acc.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.acc.phone})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${N.acc.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.acc.status||"N/A"})]})]})]}),N.sub_category&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(hr,{className:"h-5 w-5 text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Sub Category"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Sub Category Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.sub_category.name||"N/A"}),N.sub_category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N.sub_category.name_ar})]}),N.sub_category.category&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Parent Category"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.sub_category.category.name||"N/A"}),N.sub_category.category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N.sub_category.category.name_ar})]})]})]}),N.certificate_pricing&&N.certificate_pricing.length>0&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Yt,{className:"h-5 w-5 text-yellow-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Certificate Pricing"})]}),t.jsx("div",{className:"space-y-3",children:N.certificate_pricing.map((R,O)=>t.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[parseFloat(R.base_price||0).toFixed(2)," ",R.currency||"USD"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[R.group_commission_percentage||"0","%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[R.training_center_commission_percentage||"0","%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[R.instructor_commission_percentage||"0","%"]})]}),R.effective_from&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective From"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(R.effective_from).toLocaleDateString()})]}),R.effective_to&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective To"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(R.effective_to).toLocaleDateString()})]})]})},O))})]}),N.classes&&N.classes.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Classes (",N.classes.length,")"]}),t.jsx("div",{className:"space-y-2",children:N.classes.map(R=>t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.name||`Class ${R.id}`}),t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${R.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.status||"N/A"})]},R.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[N.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(N.created_at).toLocaleString()})]}),N.updated_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(N.updated_at).toLocaleString()})]})]})]}):t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No course data available"})})]})},U3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState("categories"),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(null),[N,b]=d.useState({name:"",name_ar:"",description:"",status:"active"}),[g,j]=d.useState({}),[v,A]=d.useState(!1),[E,C]=d.useState({key:null,direction:"asc"}),[z,k]=d.useState(""),[M,q]=d.useState("all"),[w,$]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[F,_]=d.useState([]),[S,P]=d.useState([]),[D,I]=d.useState(!0),[U,Y]=d.useState(!1),[V,R]=d.useState(!1),[O,W]=d.useState(null),[K,H]=d.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[T,L]=d.useState({}),[ie,re]=d.useState(!1),[le,pe]=d.useState({key:null,direction:"asc"}),[oe,de]=d.useState(""),[ue,Z]=d.useState("all"),[me,ve]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});d.useEffect(()=>{Pe(),G()},[w.currentPage,w.perPage,z,M]),d.useEffect(()=>(e("Course Categories"),s("Manage global categories and sub-categories"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{r==="sub-categories"&&G()},[r,me.currentPage,me.perPage,oe,ue]);const Pe=async()=>{try{p(!0);const ye={page:w.currentPage,per_page:w.perPage};z&&(ye.search=z),M!=="all"&&(ye.status=M);const _e=await Le.listCategories(ye);let Me=[];_e!=null&&_e.data?(Me=Array.isArray(_e.data)?_e.data:[],$(Xe=>({...Xe,totalPages:_e.last_page||_e.total_pages||1,totalItems:_e.total||0}))):_e!=null&&_e.categories?(Me=Array.isArray(_e.categories)?_e.categories:[],$(Xe=>{var at;return{...Xe,totalPages:1,totalItems:((at=_e.categories)==null?void 0:at.length)||0}})):(Me=Array.isArray(_e)?_e:[],$(Xe=>({...Xe,totalPages:1,totalItems:Me.length}))),i(Me),l(Me)}catch(ye){console.error("Failed to load categories:",ye),i([]),l([])}finally{p(!1)}},ke=ye=>{$(_e=>({..._e,currentPage:ye}))},te=ye=>{$(_e=>({..._e,perPage:ye,currentPage:1}))},ae=ye=>{ve(_e=>({..._e,currentPage:ye}))},ce=ye=>{ve(_e=>({..._e,perPage:ye,currentPage:1}))},se=(ye=null)=>{ye?(h(ye),b({name:ye.name||"",name_ar:ye.name_ar||"",description:ye.description||"",status:ye.status||"active"})):(h(null),b({name:"",name_ar:"",description:"",status:"active"})),j({}),f(!0)},J=()=>{f(!1),h(null),b({name:"",name_ar:"",description:"",status:"active"}),j({})},ee=ye=>{b({...N,[ye.target.name]:ye.target.value}),j({})},xe=async ye=>{ye.preventDefault(),A(!0),j({});try{x?await Le.updateCategory(x.id,N):await Le.createCategory(N),await Pe(),J(),$(_e=>({..._e,currentPage:1}))}catch(_e){_e.errors?j(_e.errors):j({general:_e.message||"Failed to save category"})}finally{A(!1)}},je=ye=>{h(ye),m(!0)},Ne=async()=>{try{await Le.deleteCategory(x.id),await Pe(),$(ye=>({...ye,currentPage:1}))}catch(ye){alert("Failed to delete category: "+(ye.message||"Unknown error"))}m(!1),h(null)},G=async(ye=null)=>{I(!0);try{const _e={page:me.currentPage,per_page:me.perPage};ye&&(_e.category_id=ye),oe&&(_e.search=oe),ue!=="all"&&(_e.status=ue);const Me=await Le.listSubCategories(_e);let Xe=[];Me!=null&&Me.data?(Xe=Array.isArray(Me.data)?Me.data:[],ve(at=>({...at,totalPages:Me.last_page||Me.total_pages||1,totalItems:Me.total||0}))):Me!=null&&Me.sub_categories?(Xe=Array.isArray(Me.sub_categories)?Me.sub_categories:[],ve(at=>{var Kt;return{...at,totalPages:1,totalItems:((Kt=Me.sub_categories)==null?void 0:Kt.length)||0}})):(Xe=Array.isArray(Me)?Me:[],ve(at=>({...at,totalPages:1,totalItems:Xe.length}))),_(Xe),P(Xe)}catch(_e){console.error("Failed to load sub categories:",_e),_([]),P([])}finally{I(!1)}},B=ye=>{let _e="asc";E.key===ye&&E.direction==="asc"&&(_e="desc"),C({key:ye,direction:_e})},X=ye=>{let _e="asc";le.key===ye&&le.direction==="asc"&&(_e="desc"),pe({key:ye,direction:_e})};d.useEffect(()=>{if(r!=="categories")return;let ye=[...n];E.key&&ye.sort((_e,Me)=>{let Xe,at;return E.key==="name"?(Xe=(_e.name||"").toLowerCase(),at=(Me.name||"").toLowerCase()):(Xe=_e[E.key]||"",at=Me[E.key]||""),typeof Xe=="string"&&(Xe=Xe.toLowerCase(),at=at.toLowerCase()),Xe<at?E.direction==="asc"?-1:1:Xe>at?E.direction==="asc"?1:-1:0}),l(ye)},[E,n,r]),d.useEffect(()=>{if(r!=="sub-categories")return;let ye=[...F];le.key&&ye.sort((_e,Me)=>{let Xe,at;if(le.key==="name")Xe=(_e.name||"").toLowerCase(),at=(Me.name||"").toLowerCase();else if(le.key==="category_id"){const Kt=n.find(qr=>qr.id===_e.category_id),Br=n.find(qr=>qr.id===Me.category_id);Xe=Kt?(Kt.name||"").toLowerCase():"",at=Br?(Br.name||"").toLowerCase():""}else Xe=_e[le.key]||"",at=Me[le.key]||"";return typeof Xe=="string"&&(Xe=Xe.toLowerCase(),at=at.toLowerCase()),Xe<at?le.direction==="asc"?-1:1:Xe>at?le.direction==="asc"?1:-1:0}),P(ye)},[le,F,r,n]);const Q=(ye=null)=>{ye?(W(ye),H({category_id:ye.category_id||"",name:ye.name||"",name_ar:ye.name_ar||"",description:ye.description||"",status:ye.status||"active"})):(W(null),H({category_id:"",name:"",name_ar:"",description:"",status:"active"})),L({}),Y(!0)},he=()=>{Y(!1),W(null),H({category_id:"",name:"",name_ar:"",description:"",status:"active"}),L({})},we=ye=>{H({...K,[ye.target.name]:ye.target.value}),L({})},ze=async ye=>{var _e,Me,Xe,at;ye.preventDefault(),re(!0),L({});try{O?await Le.updateSubCategory(O.id,K):await Le.createSubCategory(K),await G(),he(),ve(Kt=>({...Kt,currentPage:1}))}catch(Kt){(Me=(_e=Kt.response)==null?void 0:_e.data)!=null&&Me.errors?L(Kt.response.data.errors):(at=(Xe=Kt.response)==null?void 0:Xe.data)!=null&&at.message?L({general:Kt.response.data.message}):L({general:Kt.message||"Failed to save sub category"})}finally{re(!1)}},We=ye=>{W(ye),R(!0)},Ge=async()=>{try{await Le.deleteSubCategory(O.id),await G(),ve(ye=>({...ye,currentPage:1}))}catch(ye){alert("Failed to delete sub category: "+(ye.message||"Unknown error"))}R(!1),W(null)},Ae=n.length,Ce=n.filter(ye=>ye.status==="active").length,Ye=F.length,Qe=F.filter(ye=>ye.status==="active").length;return c&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Categories"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:Ae})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Be,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active Categories"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:Ce})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Be,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Total Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:Ye})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(hr,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-6 border border-purple-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-2",children:"Active Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-purple-900",children:Qe})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(hr,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Be,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(hr,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsx(Ze,{onClick:()=>se(),icon:t.jsx(Rs,{size:20}),children:"Add Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:z,onChange:ye=>{k(ye.target.value),$(_e=>({..._e,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:M,onChange:ye=>{q(ye.target.value),$(_e=>({..._e,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>B("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",E.key==="name"&&(E.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>B("description"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Description",E.key==="description"&&(E.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>B("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",E.key==="status"&&(E.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Be,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No categories match your search criteria"})]})})}):o.map((ye,_e)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${_e*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:ye.name}),ye.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:ye.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:ye.description||"-"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${ye.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:ye.status.charAt(0).toUpperCase()+ye.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>se(ye),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:()=>je(ye),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(ar,{size:16})})]})})]},ye.id||_e))})]})}),!c&&r==="categories"&&w.totalItems>0&&t.jsx(Or,{currentPage:w.currentPage,totalPages:w.totalPages,totalItems:w.totalItems,perPage:w.perPage,onPageChange:ke,onPerPageChange:te})]})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Ze,{onClick:()=>Q(),icon:t.jsx(Rs,{size:20}),children:"Add Sub Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:oe,onChange:ye=>{de(ye.target.value),ve(_e=>({..._e,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:ue,onChange:ye=>{Z(ye.target.value),ve(_e=>({..._e,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),D?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>X("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Sub Category",le.key==="name"&&(le.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>X("category_id"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",le.key==="category_id"&&(le.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>X("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",le.key==="status"&&(le.direction==="asc"?t.jsx(ht,{size:16}):t.jsx(ft,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:S.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(hr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No sub categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No sub categories match your search criteria"})]})})}):S.map((ye,_e)=>{const Me=n.find(Xe=>Xe.id===ye.category_id);return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${_e*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:ye.name}),ye.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:ye.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:Me?Me.name:`Category ID: ${ye.category_id}`})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${ye.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:ye.status.charAt(0).toUpperCase()+ye.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Q(ye),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:()=>We(ye),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(ar,{size:16})})]})})]},ye.id||_e)})})]})}),!D&&r==="sub-categories"&&me.totalItems>0&&t.jsx(Or,{currentPage:me.currentPage,totalPages:me.totalPages,totalItems:me.totalItems,perPage:me.perPage,onPageChange:ae,onPerPageChange:ce})]})]}),t.jsx($e,{isOpen:u,onClose:J,title:x?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[t.jsx(fe,{label:"Category Name (English)",name:"name",value:N.name,onChange:ee,required:!0,error:g.name}),t.jsx(fe,{label:"Category Name (Arabic)",name:"name_ar",value:N.name_ar,onChange:ee,error:g.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:N.description,onChange:ee,textarea:!0,rows:3,error:g.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:N.status,onChange:ee,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:g.status}),g.general&&t.jsx("p",{className:"text-sm text-red-600",children:g.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:J,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Ze,{type:"submit",disabled:v,loading:v,fullWidth:!0,children:x?"Update":"Create"})]})]})}),t.jsx(la,{isOpen:y,onClose:()=>{m(!1),h(null)},onConfirm:Ne,title:"Delete Category",message:`Are you sure you want to delete "${x==null?void 0:x.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx($e,{isOpen:U,onClose:he,title:O?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:K.category_id,onChange:we,required:!0,options:n.map(ye=>({value:ye.id,label:ye.name||`Category ${ye.id}`})),error:T.category_id}),t.jsx(fe,{label:"Sub Category Name (English)",name:"name",value:K.name,onChange:we,required:!0,error:T.name}),t.jsx(fe,{label:"Sub Category Name (Arabic)",name:"name_ar",value:K.name_ar,onChange:we,error:T.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:K.description,onChange:we,textarea:!0,rows:3,error:T.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:K.status,onChange:we,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:T.status}),T.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:T.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:he,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Ze,{type:"submit",disabled:ie,loading:ie,fullWidth:!0,children:O?"Update":"Create"})]})]})}),t.jsx(la,{isOpen:V,onClose:()=>{R(!1),W(null)},onConfirm:Ge,title:"Delete Sub Category",message:`Are you sure you want to delete "${O==null?void 0:O.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},B3=()=>{var q;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState(null),[n,i]=d.useState([]),[o,l]=d.useState(null),[c,p]=d.useState([]),[u,f]=d.useState(!0),[y,m]=d.useState("overview"),[x,h]=d.useState(!1),[N,b]=d.useState(null),[g,j]=d.useState(""),[v,A]=d.useState("all");d.useEffect(()=>{E()},[y]),d.useEffect(()=>(e("Financial Overview"),s("View all financial transactions and settlements"),()=>{e(null),s(null)}),[e,s]);const E=async()=>{f(!0);try{if(y==="overview"){const[w,$]=await Promise.all([Le.getFinancialDashboard(),Le.getFinancialTransactions({page:1,per_page:10})]);a(w);const F=($==null?void 0:$.data)||($==null?void 0:$.transactions)||[];i(Array.isArray(F)?F:[]),l(($==null?void 0:$.summary)||null)}else{const w=await Le.getSettlements();p(w.settlements||[])}}catch(w){console.error("Failed to load data:",w)}finally{f(!1)}},C=w=>{b(w),h(!0)},z=d.useMemo(()=>{let w=[...n];if(g){const $=g.toLowerCase();w=w.filter(F=>{const _=F.transaction_type||"",S=String(F.amount||""),P=F.currency||"",D=F.status||"";return _.toLowerCase().includes($)||S.includes($)||P.toLowerCase().includes($)||D.toLowerCase().includes($)})}return v!=="all"&&(w=w.filter($=>$.status===v)),w},[n,g,v]),k=d.useMemo(()=>{let w=[...c];if(g){const $=g.toLowerCase();w=w.filter(F=>{const _=F.settlement_month||"",S=String(F.total_revenue||""),P=String(F.group_commission_amount||""),D=F.status||"";return _.toLowerCase().includes($)||S.includes($)||P.includes($)||D.toLowerCase().includes($)})}return v!=="all"&&(w=w.filter($=>$.status===v)),w},[c,g,v]),M=w=>{m(w),j(""),A("all")};return t.jsxs("div",{className:"space-y-4",children:[r&&y==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:" Commission Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-primary-900",children:["$",parseFloat(r.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Total commission received"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(lo,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" Monthly Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",parseFloat(r.monthly_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Commission this month"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Yt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending Settlements"}),t.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["$",parseFloat(r.pending_settlements||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(et,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Active ACCs"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.active_accs||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(lo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>M("overview"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${y==="overview"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(yr,{size:20,className:y==="overview"?"text-white":"text-gray-500"}),"Overview"]}),t.jsxs("button",{onClick:()=>M("settlements"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${y==="settlements"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Be,{size:20,className:y==="settlements"?"text-white":"text-gray-500"}),"Settlements"]})]})}),y==="overview"&&t.jsxs(t.Fragment,{children:[o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl shadow-lg p-6 border border-emerald-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-2",children:" Total Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-900 commission-amount",children:["$",parseFloat(o.total_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"From all transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Yt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl shadow-lg p-6 border border-teal-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-teal-700 mb-2",children:" Completed Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-teal-900 commission-amount",children:["$",parseFloat(o.completed_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"From completed transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(lo,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:g,onChange:w=>j(w.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:v,onChange:w=>A(w.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider commission-column",children:" Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Provider Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Currency"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(yr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g||v!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):z.map((w,$)=>{var F,_,S;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${$*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Yt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors capitalize",children:((F=w.transaction_type)==null?void 0:F.replace("_"," "))||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w.commission_amount?t.jsxs("div",{className:"text-sm font-semibold commission-cell highlight",children:[t.jsx("span",{className:"commission-icon",children:""}),t.jsxs("strong",{children:["$",parseFloat(w.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):t.jsx("span",{className:"text-sm text-gray-400 no-commission",children:"$0.00"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:w.provider_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["$",parseFloat(w.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600 uppercase",children:w.currency||"USD"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:((_=w.status)==null?void 0:_.charAt(0).toUpperCase())+((S=w.status)==null?void 0:S.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:w.created_at?new Date(w.created_at).toLocaleDateString():"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>C(w),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})})})})]},w.id||$)})})]})})})]}),y==="settlements"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search settlements...",value:g,onChange:w=>j(w.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:v,onChange:w=>A(w.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Settlement Month"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Request Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Be,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No settlements found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g||v!=="all"?"No settlements match your search criteria":"No settlements available"})]})})}):k.map((w,$)=>{var F,_;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${$*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(et,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:w.settlement_month||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(w.group_commission_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w.status==="paid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":w.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:((F=w.status)==null?void 0:F.charAt(0).toUpperCase())+((_=w.status)==null?void 0:_.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:w.request_date?new Date(w.request_date).toLocaleDateString():"N/A"})})]},w.id||$)})})]})})})]}),t.jsx($e,{isOpen:x,onClose:()=>{h(!1),b(null)},title:"Transaction Details",size:"md",children:N&&t.jsxs("div",{className:"modal-content-wrapper",children:[t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:(q=N.transaction_type)==null?void 0:q.replace("_"," ")})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Total Amount"}),t.jsxs("p",{className:"modal-amount",children:["$",parseFloat(N.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),N.commission_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#92400E"},children:"Platform Commission"}),t.jsxs("p",{className:"modal-amount",style:{color:"#92400E"},children:["$",parseFloat(N.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by platform"})]}),N.provider_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#065F46"},children:"Provider Amount"}),t.jsxs("p",{className:"modal-amount",style:{color:"#065F46"},children:["$",parseFloat(N.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by ACC/provider"})]}),N.payment_type&&t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:N.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Currency"}),t.jsx("p",{className:"modal-value modal-value-uppercase",children:N.currency||"USD"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${N.status==="completed"?"status-completed":"status-pending"}`,children:N.status})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Date"}),t.jsx("p",{className:"modal-value",children:N.created_at?new Date(N.created_at).toLocaleDateString():"N/A"})]})]})})]})},q3=()=>{var V,R,O;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(null),[o,l]=d.useState(!0),[c,p]=d.useState(!1),[u,f]=d.useState(null),[y,m]=d.useState(""),[x,h]=d.useState("all"),[N,b]=d.useState("all"),[g,j]=d.useState("all"),[v,A]=d.useState("all"),[E,C]=d.useState(""),[z,k]=d.useState(""),[M,q]=d.useState(1),[w,$]=d.useState(15);d.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{F()},[M,w,x,N,g,v,E,z]);const F=async()=>{var W,K;l(!0);try{const H={page:M,per_page:w};x!=="all"&&(H.type=x),N!=="all"&&(H.status=N),g!=="all"&&(H.payer_type=g),v!=="all"&&(H.payee_type=v),E&&(H.date_from=E),z&&(H.date_to=z);const T=await Le.getPaymentTransactions(H),L=(T==null?void 0:T.data)||T||[],ie=(T==null?void 0:T.summary)||null;a(Array.isArray(L)?L:(L==null?void 0:L.data)||[]),i(ie)}catch(H){console.error("Failed to load transactions:",H),(K=(W=H==null?void 0:H.response)==null?void 0:W.data)!=null&&K.message||H!=null&&H.message,console.error("Error details:",H),a([]),i(null)}finally{l(!1)}},_=W=>{f(W),p(!0)},S=d.useMemo(()=>{if(!y)return r;const W=y.toLowerCase();return r.filter(K=>{var oe,de;const H=K.transaction_type||"",T=String(K.amount||""),L=K.currency||"",ie=K.status||"",re=K.description||"",le=((oe=K.payer)==null?void 0:oe.name)||"",pe=((de=K.payee)==null?void 0:de.name)||"";return H.toLowerCase().includes(W)||T.includes(W)||L.toLowerCase().includes(W)||ie.toLowerCase().includes(W)||re.toLowerCase().includes(W)||le.toLowerCase().includes(W)||pe.toLowerCase().includes(W)})},[r,y]),P=(W,K="USD")=>`${parseFloat(W||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${K}`,D=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",I=W=>W?new Date(W).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",U=W=>{switch(W){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},Y=W=>(W==null?void 0:W.split("_").map(K=>K.charAt(0).toUpperCase()+K.slice(1)).join(" "))||"N/A";return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Transactions"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:n.total_transactions||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(yr,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Total Amount"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:P(n.total_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Yt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Completed"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:P(n.completed_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(lo,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:P(n.pending_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(et,{className:"text-white",size:32})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:y,onChange:W=>m(W.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:x,onChange:W=>{h(W.target.value),q(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"material_purchase",children:"Material Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"}),t.jsx("option",{value:"settlement",children:"Settlement"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:N,onChange:W=>{b(W.target.value),q(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:g,onChange:W=>{j(W.target.value),q(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Payers"}),t.jsx("option",{value:"acc",children:"ACC"}),t.jsx("option",{value:"training_center",children:"Training Center"}),t.jsx("option",{value:"group",children:"Group"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:v,onChange:W=>{A(W.target.value),q(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Payees"}),t.jsx("option",{value:"group",children:"Group"}),t.jsx("option",{value:"acc",children:"ACC"}),t.jsx("option",{value:"instructor",children:"Instructor"})]})]}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date From",value:E,onChange:W=>{C(W.target.value),q(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date To",value:z,onChange:W=>{k(W.target.value),q(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})})]})]}),o?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payer"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:S.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(yr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:y||x!=="all"||N!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):S.map((W,K)=>{var H,T;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${K*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(yr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:Y(W.transaction_type)})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:W.payer?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:W.payer.type==="acc"||W.payer.type==="training_center"?t.jsx(Ie,{className:"h-4 w-4 text-blue-600"}):t.jsx(Ts,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.payer.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:W.payer.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:W.payee?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:W.payee.type==="acc"||W.payee.type==="training_center"?t.jsx(Ie,{className:"h-4 w-4 text-green-600"}):t.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.payee.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:W.payee.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P(W.amount,W.currency)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${U(W.status)}`,children:((H=W.status)==null?void 0:H.charAt(0).toUpperCase())+((T=W.status)==null?void 0:T.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:D(W.created_at)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>_(W),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})})})})]},W.id||K)})})]})})}),n&&n.total>0&&t.jsx(Or,{currentPage:M||1,totalPages:Math.ceil((n.total||0)/w),totalItems:n.total||0,perPage:w,onPageChange:q,onPerPageChange:W=>{$(W),q(1)}})]}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),f(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:Y(u.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${U(u.status)}`,children:((V=u.status)==null?void 0:V.charAt(0).toUpperCase())+((R=u.status)==null?void 0:R.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P(u.amount,u.currency)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((O=u.payment_method)==null?void 0:O.replace("_"," "))||"N/A"})]})]}),u.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:u.description})]}),u.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:u.reference.type})]}),u.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(u.reference.details,null,2)})})]})]}),u.commission_ledgers&&u.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:u.commission_ledgers.map((W,K)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[W.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:W.acc.name})]}),W.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:W.training_center.name})]}),W.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[P(W.group_commission_amount)," (",W.group_commission_percentage,"%)"]})]}),W.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[P(W.acc_commission_amount)," (",W.acc_commission_percentage,"%)"]})]})]})},W.id||K))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:u.payment_gateway_transaction_id})]})]})})]})},$t=({columns:e,data:s,onEdit:r,onDelete:a,onView:n,onRowClick:i,isLoading:o=!1,emptyMessage:l="No data available",searchable:c=!0,filterable:p=!0,searchPlaceholder:u="Search...",filterOptions:f=null,sortable:y=!0,defaultFilter:m="all",customFilters:x=null})=>{var q;const[h,N]=d.useState(""),[b,g]=d.useState(m),[j,v]=d.useState(!1),[A,E]=d.useState({key:null,direction:"asc"}),C=d.useRef(null);d.useEffect(()=>{g(m)},[m]),d.useEffect(()=>{const w=$=>{C.current&&!C.current.contains($.target)&&v(!1)};return j&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[j]);const z=(w,$)=>{$.target.closest("button")||$.target.closest("a")||$.target.closest(".enrollment-clickable")||$.target.classList.contains("enrollment-clickable")||(i?i(w):n&&n(w))},k=w=>{if(!y||w.sortable===!1)return;let $="asc";A.key===w.accessor&&A.direction==="asc"&&($="desc"),E({key:w.accessor,direction:$})},M=d.useMemo(()=>{let w=[...s];if(c&&h){const $=h.toLowerCase().trim();w=w.filter(F=>F._searchText&&typeof F._searchText=="string"&&F._searchText.includes($)?!0:e.some(S=>{if(S.accessor==="actions"||S.accessor==="enrolled_count"||S.accessor==="max_capacity"||S.accessor==="capacity"||S.accessor==="duration_hours"||S.accessor==="base_price")return!1;const P=F[S.accessor];if(P==null||typeof P=="number")return!1;if(typeof P=="object"&&!Array.isArray(P)){const D=["name","code","email","first_name","last_name","title","name_ar"];return Object.keys(P).some(I=>{if(D.includes(I.toLowerCase())){const U=P[I];if(U&&typeof U=="string")return U.toLowerCase().includes($)}return!1})}return Array.isArray(P)?P.some(D=>String(D).toLowerCase().includes($)):typeof P=="string"?P.toLowerCase().includes($):!1}))}if(p&&f&&b!=="all"){const $=f.find(F=>F.value===b);$&&$.filterFn&&(w=w.filter($.filterFn))}return y&&A.key&&w.sort(($,F)=>{if(!e.find(D=>D.accessor===A.key))return 0;let S=$[A.key],P=F[A.key];return S&&typeof S=="object"&&!Array.isArray(S)&&(S=S.name||S.title||JSON.stringify(S)),P&&typeof P=="object"&&!Array.isArray(P)&&(P=P.name||P.title||JSON.stringify(P)),S&&P&&(A.key.includes("date")||A.key.includes("Date"))&&(S=new Date(S),P=new Date(P)),typeof S=="number"&&typeof P=="number"?A.direction==="asc"?S-P:P-S:(S=(S==null?void 0:S.toString().toLowerCase())||"",P=(P==null?void 0:P.toString().toLowerCase())||"",S<P?A.direction==="asc"?-1:1:S>P?A.direction==="asc"?1:-1:0)}),w},[s,h,b,A,e,c,p,f,y]);return t.jsxs(t.Fragment,{children:[(c||p&&f||x)&&t.jsxs("div",{className:"data-table-search-container",children:[t.jsxs("div",{className:"data-table-search-content",children:[c&&t.jsxs("div",{className:"data-table-search-input-wrapper",children:[t.jsx(js,{className:"data-table-search-icon",size:18}),t.jsx("input",{type:"text",placeholder:u,value:h,onChange:w=>N(w.target.value),className:"data-table-search-input"}),h&&t.jsx("button",{onClick:()=>N(""),className:"data-table-search-clear",children:t.jsx(Vs,{size:16})})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexShrink:0},children:[x&&t.jsx("div",{style:{flexShrink:0},children:x}),p&&f&&t.jsxs("div",{className:"data-table-filter-wrapper",ref:C,children:[t.jsxs("button",{onClick:()=>v(!j),className:`data-table-filter-button ${b!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(fs,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((q=f.find(w=>w.value===b))==null?void 0:q.label)||"All"})]}),j&&t.jsx("div",{className:"data-table-filter-dropdown",children:f.map(w=>t.jsx("button",{onClick:()=>{g(w.value),v(!1)},className:`data-table-filter-option ${b===w.value?"data-table-filter-option-active":""}`,children:w.label},w.value))})]})]})]}),h&&t.jsxs("div",{className:"data-table-search-results",children:["Showing ",M.length," of ",s.length," results"]})]}),t.jsx("div",{className:"data-table-container",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"data-table-header",children:t.jsxs("tr",{children:[e.map((w,$)=>{const F=y&&w.sortable!==!1,_=A.key===w.accessor;return t.jsx("th",{className:`data-table-th ${F?"data-table-th-sortable":""}`,onClick:()=>F&&k(w),children:t.jsxs("div",{className:"data-table-th-content",children:[t.jsx("span",{children:w.header}),F&&t.jsx("span",{className:"data-table-sort-icon",children:_?A.direction==="asc"?t.jsx(J2,{size:14}):t.jsx(Q2,{size:14}):t.jsx(X2,{size:14})})]})},$)}),(r||a||n)&&t.jsx("th",{className:"data-table-th",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):M.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center text-gray-500",children:h||b!=="all"?"No results found. Try adjusting your search or filters.":l})}):M.map((w,$)=>t.jsxs("tr",{className:`hover:bg-gray-50 transition-all duration-200 ease-out hover:shadow-sm ${i||n?"cursor-pointer":""} stagger-item`,onClick:F=>z(w,F),style:{"--animation-delay":`${$*.03}s`},children:[e.map((F,_)=>{const S=w[F.accessor];let P=S;return!F.render&&S&&typeof S=="object"&&!Array.isArray(S)&&(P=S.name||S.title||S.first_name||JSON.stringify(S)),t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900",children:F.render?F.render(S,w):P},_)}),(r||a||n)&&t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",onClick:F=>F.stopPropagation(),children:t.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const F=[];return r&&a?(F.push(t.jsx("button",{onClick:()=>r(w),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ts,{size:18})},"edit")),F.push(t.jsx("button",{onClick:()=>a(w),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(ar,{size:18})},"delete"))):n&&r?(F.push(t.jsx("button",{onClick:()=>n(w),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ut,{size:18})},"view")),F.push(t.jsx("button",{onClick:()=>r(w),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ts,{size:18})},"edit"))):n&&a?(F.push(t.jsx("button",{onClick:()=>n(w),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ut,{size:18})},"view")),F.push(t.jsx("button",{onClick:()=>a(w),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(ar,{size:18})},"delete"))):r?F.push(t.jsx("button",{onClick:()=>r(w),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(ts,{size:18})},"edit")):a?F.push(t.jsx("button",{onClick:()=>a(w),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(ar,{size:18})},"delete")):n&&F.push(t.jsx("button",{onClick:()=>n(w),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ut,{size:18})},"view")),F})()})})]},w.id||$))})]})})})]})},V3=()=>{const[e,s]=d.useState(null),[r,a]=d.useState(null),[n,i]=d.useState(null),[o,l]=d.useState(null),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(null),x=async N=>{p(!0);try{let b;switch(N){case"revenue":b=await Le.getRevenueReport({group_by:"month"}),s(b),m({type:"revenue",data:b});break;case"accs":b=await Le.getACCsReport(),a(b),m({type:"accs",data:b});break;case"certificates":b=await Le.getCertificatesReport(),i(b),m({type:"certificates",data:b});break;case"training-centers":b=await Le.getTrainingCentersReport(),l(b),m({type:"training-centers",data:b});break;default:break}f(!0)}catch(b){console.error("Failed to load report:",b),alert("Failed to load report: "+(b.message||"Unknown error"))}finally{p(!1)}},h=()=>{if(!y)return null;switch(y.type){case"revenue":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(y.data.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),y.data.revenue&&y.data.revenue.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Revenue by Period"}),t.jsx("div",{className:"space-y-2",children:y.data.revenue.map((N,b)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:N.period||"N/A"}),t.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(N.amount||0).toFixed(2)]})]},b))})]})]});case"accs":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.data.total_active||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:y.data.total_pending||0})]})]}),y.data.accs&&y.data.accs.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ACC Details"}),t.jsx($t,{columns:[{header:"Name",accessor:"name"},{header:"Status",accessor:"status",render:N=>t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N})}],data:y.data.accs,isLoading:!1,emptyMessage:"No ACCs found."})]})]});case"certificates":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Generated"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.data.total_generated||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Valid"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.data.valid||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Revoked"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.data.revoked||0})]})]})});case"training-centers":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.data.total||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.data.active||0})]})]})});default:return null}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View system reports and analytics"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>x("revenue"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Be,{className:"h-12 w-12 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"View revenue analytics and trends"})]}),t.jsxs("div",{onClick:()=>x("accs"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Ie,{className:"h-12 w-12 text-blue-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ACCs Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"ACC statistics and performance"})]}),t.jsxs("div",{onClick:()=>x("certificates"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Mr,{className:"h-12 w-12 text-green-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificates Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Certificate generation statistics"})]}),t.jsxs("div",{onClick:()=>x("training-centers"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(lo,{className:"h-12 w-12 text-purple-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Centers Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Training center statistics"})]})]}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),m(null)},title:(y==null?void 0:y.type)==="revenue"?"Revenue Report":(y==null?void 0:y.type)==="accs"?"ACCs Report":(y==null?void 0:y.type)==="certificates"?"Certificates Report":"Training Centers Report",size:"lg",children:c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):h()})]})},W3=()=>{var k,M,q,w,$,F;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState(!1),[c,p]=d.useState(!1),[u,f]=d.useState(null),[y,m]=d.useState(""),[x,h]=d.useState({}),[N,b]=d.useState(!1),[g,j]=d.useState("");d.useEffect(()=>{v()},[]),d.useEffect(()=>(e("Instructor Authorization Commissions"),s("Set commission percentages for instructor authorizations"),()=>{e(null),s(null)}),[e,s]);const v=async()=>{try{i(!0);const _=await Le.getPendingCommissionRequests();a(_.authorizations||[])}catch(_){console.error("Failed to load authorizations:",_),a([])}finally{i(!1)}},A=_=>{f(_),m(""),h({}),l(!0)},E=_=>{f(_),p(!0)},C=async _=>{var S;if(_.preventDefault(),!y||parseFloat(y)<0||parseFloat(y)>100){h({commission_percentage:"Please enter a valid commission percentage (0-100)"});return}b(!0),h({});try{await Le.setInstructorAuthorizationCommission(u.id,{commission_percentage:parseFloat(y)}),await v(),l(!1),f(null),m(""),alert("Commission percentage set successfully. Training Center can now complete payment.")}catch(P){if(console.error("Failed to set commission:",P),(S=P.response)!=null&&S.data){const D=P.response.data;D.errors?h(D.errors):D.message?h({general:D.message}):h(D)}else P.message?h({general:P.message}):h({general:"Failed to set commission percentage. Please try again."})}finally{b(!1)}},z=r.filter(_=>{var P,D,I,U;if(!g)return!0;const S=g.toLowerCase();return(((P=_.instructor)==null?void 0:P.first_name)||"").toLowerCase().includes(S)||(((D=_.instructor)==null?void 0:D.last_name)||"").toLowerCase().includes(S)||(((I=_.acc)==null?void 0:I.name)||"").toLowerCase().includes(S)||(((U=_.training_center)==null?void 0:U.name)||"").toLowerCase().includes(S)});return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by instructor name, ACC, or training center...",value:g,onChange:_=>j(_.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Instructor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"ACC"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Training Center"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Authorization Price"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):z.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(De,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:g?"No authorizations found matching your search":"No pending commission requests"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g?"Try adjusting your search terms":"All authorizations have commission percentages set"})]})})}):z.map((_,S)=>{var P,D,I,U,Y;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 table-row-animated cursor-pointer",style:{"--animation-delay":`${S*.03}s`},onClick:()=>E(_),children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(nt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(P=_.instructor)==null?void 0:P.first_name," ",(D=_.instructor)==null?void 0:D.last_name]}),((I=_.instructor)==null?void 0:I.email)&&t.jsx("div",{className:"text-xs text-gray-500",children:_.instructor.email})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ie,{className:"h-4 w-4 mr-2 text-gray-400"}),((U=_.acc)==null?void 0:U.name)||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:((Y=_.training_center)==null?void 0:Y.name)||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-green-600"}),parseFloat(_.authorization_price||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:"px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",children:[t.jsx(Ve,{size:12,className:"mr-1"}),"Pending Commission"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",onClick:V=>V.stopPropagation(),children:t.jsxs("button",{onClick:()=>A(_),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-sm hover:shadow-md font-medium flex items-center gap-2",children:[t.jsx(Gg,{size:16}),"Set Commission"]})})]},_.id)})})]})})}),t.jsx($e,{isOpen:o,onClose:()=>{l(!1),f(null),m(""),h({})},title:"Set Commission Percentage",size:"md",children:t.jsxs("form",{onSubmit:C,className:"space-y-4",children:[x.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:x.general})}),u&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[(k=u.instructor)==null?void 0:k.first_name," ",(M=u.instructor)==null?void 0:M.last_name]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ACC: ",t.jsx("span",{className:"font-semibold text-gray-900",children:(q=u.acc)==null?void 0:q.name})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Authorization Price: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(u.authorization_price||0).toFixed(2)]})]})]}),t.jsx(fe,{label:"Commission Percentage (%)",name:"commission_percentage",type:"number",value:y,onChange:_=>m(_.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"15.5",error:x.commission_percentage,helpText:"Enter the percentage that Group will receive from the authorization payment"}),u&&y&&!isNaN(parseFloat(y))&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Commission Breakdown:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price||0)*parseFloat(y)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price||0)*(100-parseFloat(y))/100).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),f(null),m(""),h({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:N?"Saving...":"Set Commission"})]})]})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),f(null)},title:"Instructor Details",size:"lg",children:u&&u.instructor&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(nt,{className:"mr-2",size:20}),"Basic Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"First Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"Last Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.phone||"N/A"})]}),u.instructor.id_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.id_number})]}),((w=u.training_center)==null?void 0:w.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"Training Center"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.training_center.name})]}),(($=u.acc)==null?void 0:$.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"ACC"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.acc.name})]}),u.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.request_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Yt,{size:14,className:"mr-1"}),"Authorization Price"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(u.authorization_price||0).toFixed(2)]})]})]})]}),u.instructor.specializations&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(aa,{className:"mr-2",size:20}),"Languages / Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const _=u.instructor.specializations,S=Array.isArray(_)?_:typeof _=="string"?_.split(",").map(P=>P.trim()).filter(P=>P):[];return S.length>0?S.map((P,D)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 border border-primary-200",children:[t.jsx(aa,{size:12,className:"mr-1"}),P]},D)):t.jsx("p",{className:"text-sm text-gray-500",children:"No specializations listed"})})()})]}),u.instructor.cv_url&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Be,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the instructor's CV"})]})]}),t.jsxs("a",{href:u.instructor.cv_url.startsWith("http")?u.instructor.cv_url:`https://aeroenix.com/v1/api${u.instructor.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Be,{size:18,className:"mr-2"}),"View CV"]})]})})]}),(u.sub_category_id||u.sub_category||u.courses||u.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Xt,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:u.sub_category_id||u.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var _,S;return(_=u.sub_category)!=null&&_.name?u.sub_category.name:u.sub_category_name?u.sub_category_name:typeof u.sub_category=="string"?u.sub_category:(S=u.sub_category)!=null&&S.name_ar?u.sub_category.name_ar:u.sub_category_id?`Sub-Category (ID: ${u.sub_category_id})`:"N/A"})()}),((F=u.sub_category)==null?void 0:F.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.sub_category.description}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const _=u.courses||u.requested_courses||[],S=Array.isArray(_)?_:[];return S.length>0?t.jsx("div",{className:"space-y-2",children:S.map((P,D)=>t.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.name||P.code||`Course ${P.id||D+1}`}),P.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Sub-Category: ",typeof P.sub_category=="object"&&(P.sub_category.name||P.sub_category.name_ar)||P.sub_category]})]},D))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),u.documents_json&&Array.isArray(u.documents_json)&&u.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:u.documents_json.map((_,S)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:_.type||_.document_type||`Document ${S+1}`}),_.description&&t.jsx("p",{className:"text-sm text-gray-500",children:_.description})]}),_.url&&t.jsx("a",{href:_.url.startsWith("http")?_.url:`https://aeroenix.com/v1/api${_.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},S))})]}),u.instructor.certificates_json&&Array.isArray(u.instructor.certificates_json)&&u.instructor.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Mr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:u.instructor.certificates_json.map((_,S)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:_.name||_.certificate_name||`Certificate ${S+1}`}),_.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",_.issued_by]}),_.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",_.year]}),_.url&&t.jsx("a",{href:_.url.startsWith("http")?_.url:`https://aeroenix.com/v1/api${_.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},S))})]}),u.commission_percentage!==null&&u.commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Gg,{className:"mr-2",size:20}),"Commission Information"]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[parseFloat(u.commission_percentage).toFixed(2),"%"]}),u.authorization_price&&t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price)*parseFloat(u.commission_percentage)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price)*(100-parseFloat(u.commission_percentage))/100).toFixed(2)]})]})]})]})]})]})})]})},H3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState(!0),[n,i]=d.useState(!1),[o,l]=d.useState(null),[c,p]=d.useState({publishable_key:"",secret_key:"",is_active:!0}),[u,f]=d.useState({}),[y,m]=d.useState(!1);d.useEffect(()=>{x()},[]),d.useEffect(()=>(e("Stripe Settings"),s("Configure Stripe publishable and secret keys used for online payments"),()=>{e(null),s(null)}),[e,s]);const x=async()=>{var b,g;a(!0),f({});try{let j=null;try{const v=await Le.getActiveStripeSetting();j=(v==null?void 0:v.stripe_setting)||(v==null?void 0:v.data)||v||null}catch{}if(!j){const v=await Le.listStripeSettings(),A=(v==null?void 0:v.stripe_settings)||(v==null?void 0:v.data)||[];j=A.length>0?A[0]:null}l(j),j&&p({publishable_key:j.publishable_key||j.public_key||j.stripe_key||"",secret_key:j.secret_key||j.secret||j.stripe_secret||"",is_active:typeof j.is_active=="boolean"?j.is_active:j.status?j.status==="active":!0})}catch(j){console.error("Failed to load Stripe settings:",j),f({general:((g=(b=j.response)==null?void 0:b.data)==null?void 0:g.message)||j.message||"Failed to load Stripe settings. Please try again."})}finally{a(!1)}},h=(b,g)=>{p(j=>({...j,[b]:g})),f({})},N=async b=>{var j;b.preventDefault(),i(!0),f({});const g={publishable_key:c.publishable_key.trim(),secret_key:c.secret_key.trim(),is_active:!!c.is_active};try{o!=null&&o.id?await Le.updateStripeSetting(o.id,g):await Le.createStripeSetting(g),await x(),alert("Stripe settings saved successfully!")}catch(v){console.error("Failed to save Stripe settings:",v);const A=(j=v.response)==null?void 0:j.data;A!=null&&A.errors?f(A.errors):A!=null&&A.message?f({general:A.message}):f({general:v.message||"Failed to save Stripe settings. Please try again."})}finally{i(!1)}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-primary-600"})}):t.jsx("div",{className:"stripe-settings-screen",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:t.jsx(tr,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Configuration"}),t.jsx("p",{className:"text-sm text-primary-100 mt-1",children:"Manage your Stripe API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`text-sm font-medium ${c.is_active?"text-green-300":"text-gray-300"}`,children:c.is_active?"Active":"Inactive"}),t.jsx("button",{type:"button",onClick:()=>h("is_active",!c.is_active),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white ${c.is_active?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gray-300"}`,children:t.jsx("span",{className:`absolute h-6 w-6 rounded-full bg-white shadow-lg transition-all duration-300 ease-in-out ${c.is_active?"left-[28px]":"left-[4px]"}`})})]})]})}),t.jsxs("div",{className:"p-8",children:[u.general&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 rounded-xl shadow-lg animate-fade-in",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(va,{className:"h-6 w-6 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:u.general})]})}),t.jsxs("form",{onSubmit:N,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg",children:t.jsx(i_,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Publishable Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public key for client-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fe,{name:"publishable_key",value:c.publishable_key,onChange:b=>h("publishable_key",b.target.value),placeholder:"pk_live_51ABC...",required:!0,error:u.publishable_key}),c.publishable_key&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(De,{className:"h-5 w-5 text-green-500"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx(Hg,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-blue-800",children:["Your Stripe publishable key starts with ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_live_"})," or ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_test_"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg",children:t.jsx(vd,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Secret Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private key for server-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(fe,{name:"secret_key",type:y?"text":"password",value:c.secret_key,onChange:b=>h("secret_key",b.target.value),placeholder:"sk_live_51ABC...",required:!0,error:u.secret_key}),t.jsx("button",{type:"button",onClick:()=>m(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:y?t.jsx(n_,{className:"h-5 w-5"}):t.jsx(Ut,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx(va,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Keep this secure!"})," Your secret key starts with ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_live_"})," or ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_test_"}),". Never share this key publicly."]})]})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-4 bg-gradient-to-r from-primary-600 via-primary-700 to-primary-600 text-white rounded-xl hover:from-primary-700 hover:via-primary-800 hover:to-primary-700 font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-2xl flex items-center justify-center gap-3 transform hover:scale-[1.02] active:scale-[0.98]",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Saving Settings..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(li,{className:"h-6 w-6"}),t.jsx("span",{children:"Save Stripe Settings"})]})})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 h-fit sticky top-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-blue-200",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(Hg,{className:"h-4 w-4 text-white"})}),t.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Quick Guide"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"1"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Get Your Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Log in to Stripe Dashboard and navigate to API keys."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-indigo-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"2"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Enter Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Copy and paste your keys into the form."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-purple-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Save"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Click Save Settings to complete setup."})]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:t.jsxs("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx("span",{children:"Visit Stripe Dashboard"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})]})})};var wj="clover",K3=function(s){return s===3?"v3":s},Cj="https://js.stripe.com",G3="".concat(Cj,"/").concat(wj,"/stripe.js"),Y3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Q3=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var X3=function(s){return Y3.test(s)||Q3.test(s)},J3=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Cj,'"]')),r=0;r<s.length;r++){var a=s[r];if(X3(a.src))return a}return null},s0=function(s){var r="",a=document.createElement("script");a.src="".concat(G3).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},Z3=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},Oi=null,Dl=null,Fl=null,eE=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},tE=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},sE=function(s){return Oi!==null?Oi:(Oi=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var n=J3();if(!(n&&s)){if(!n)n=s0(s);else if(n&&Fl!==null&&Dl!==null){var i;n.removeEventListener("load",Fl),n.removeEventListener("error",Dl),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=s0(s)}}Fl=tE(r,a),Dl=eE(a),n.addEventListener("load",Fl),n.addEventListener("error",Dl)}catch(o){a(o);return}}),Oi.catch(function(r){return Oi=null,Promise.reject(r)}))},rE=function(s,r,a){if(s===null)return null;var n=r[0],i=n.match(/^pk_test/),o=K3(s.version),l=wj;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return Z3(c,a),c},Ui,_j=!1,Sj=function(){return Ui||(Ui=sE(null).catch(function(s){return Ui=null,Promise.reject(s)}),Ui)};Promise.resolve().then(function(){return Sj()}).catch(function(e){_j||console.warn(e)});var aE=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];_j=!0;var n=Date.now();return Sj().then(function(i){return rE(i,r,n)})};function r0(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function a0(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?r0(Object(r),!0).forEach(function(a){kj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oc=function(s){return typeof s}:oc=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},oc(e)}function kj(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function nE(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function iE(e,s){if(e==null)return{};var r=nE(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Aj(e,s){return oE(e)||lE(e,s)||cE(e,s)||dE()}function oE(e){if(Array.isArray(e))return e}function lE(e,s){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var a=[],n=!0,i=!1,o,l;try{for(r=r.call(e);!(n=(o=r.next()).done)&&(a.push(o.value),!(s&&a.length===s));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw l}}return a}}function cE(e,s){if(e){if(typeof e=="string")return n0(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n0(e,s)}}function n0(e,s){(s==null||s>e.length)&&(s=e.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=e[r];return a}function dE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xs=function(s,r,a){var n=!!a,i=tt.useRef(a);tt.useEffect(function(){i.current=a},[a]),tt.useEffect(function(){if(!n||!s)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return s.on(r,o),function(){s.off(r,o)}},[n,r,s,i])},yp=function(s){var r=tt.useRef(s);return tt.useEffect(function(){r.current=s},[s]),r.current},pi=function(s){return s!==null&&oc(s)==="object"},uE=function(s){return pi(s)&&typeof s.then=="function"},mE=function(s){return pi(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},i0="[object Object]",pE=function e(s,r){if(!pi(s)||!pi(r))return s===r;var a=Array.isArray(s),n=Array.isArray(r);if(a!==n)return!1;var i=Object.prototype.toString.call(s)===i0,o=Object.prototype.toString.call(r)===i0;if(i!==o)return!1;if(!i&&!a)return s===r;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(var p={},u=0;u<l.length;u+=1)p[l[u]]=!0;for(var f=0;f<c.length;f+=1)p[c[f]]=!0;var y=Object.keys(p);if(y.length!==l.length)return!1;var m=s,x=r,h=function(b){return e(m[b],x[b])};return y.every(h)},Pj=function(s,r,a){return pi(s)?Object.keys(s).reduce(function(n,i){var o=!pi(r)||!pE(s[i],r[i]);return a.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):o?a0(a0({},n||{}),{},kj({},i,s[i])):n},null):null},Ej="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",o0=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ej;if(s===null||mE(s))return s;throw new Error(r)},fE=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ej;if(uE(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(n){return o0(n,r)})};var a=o0(s,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},hE=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},iu=tt.createContext(null);iu.displayName="ElementsContext";var zj=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Tj=function(s){var r=s.stripe,a=s.options,n=s.children,i=tt.useMemo(function(){return fE(r)},[r]),o=tt.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),l=Aj(o,2),c=l[0],p=l[1];tt.useEffect(function(){var y=!0,m=function(h){p(function(N){return N.stripe?N:{stripe:h,elements:h.elements(a)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&y&&m(x)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){y=!1}},[i,c,a]);var u=yp(r);tt.useEffect(function(){u!==null&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,r]);var f=yp(a);return tt.useEffect(function(){if(c.elements){var y=Pj(a,f,["clientSecret","fonts"]);y&&c.elements.update(y)}},[a,f,c.elements]),tt.useEffect(function(){hE(c.stripe)},[c.stripe]),tt.createElement(iu.Provider,{value:c},n)};Tj.propTypes={stripe:_t.any,options:_t.object};var gE=function(s){var r=tt.useContext(iu);return zj(r,s)},xE=function(){var s=gE("calls useElements()"),r=s.elements;return r};_t.func.isRequired;var Rj=tt.createContext(null);Rj.displayName="CheckoutContext";_t.any,_t.shape({clientSecret:_t.oneOfType([_t.string,_t.instanceOf(Promise)]).isRequired,elementsOptions:_t.object}).isRequired;var bp=function(s){var r=tt.useContext(Rj),a=tt.useContext(iu);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return zj(a,s)},yE=["mode"],bE=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Is=function(s,r){var a="".concat(bE(s),"Element"),n=function(c){var p=c.id,u=c.className,f=c.options,y=f===void 0?{}:f,m=c.onBlur,x=c.onFocus,h=c.onReady,N=c.onChange,b=c.onEscape,g=c.onClick,j=c.onLoadError,v=c.onLoaderStart,A=c.onNetworksChange,E=c.onConfirm,C=c.onCancel,z=c.onShippingAddressChange,k=c.onShippingRateChange,M=c.onSavedPaymentMethodRemove,q=c.onSavedPaymentMethodUpdate,w=bp("mounts <".concat(a,">")),$="elements"in w?w.elements:null,F="checkoutState"in w?w.checkoutState:null,_=(F==null?void 0:F.type)==="success"||(F==null?void 0:F.type)==="loading"?F.sdk:null,S=tt.useState(null),P=Aj(S,2),D=P[0],I=P[1],U=tt.useRef(null),Y=tt.useRef(null);xs(D,"blur",m),xs(D,"focus",x),xs(D,"escape",b),xs(D,"click",g),xs(D,"loaderror",j),xs(D,"loaderstart",v),xs(D,"networkschange",A),xs(D,"confirm",E),xs(D,"cancel",C),xs(D,"shippingaddresschange",z),xs(D,"shippingratechange",k),xs(D,"savedpaymentmethodremove",M),xs(D,"savedpaymentmethodupdate",q),xs(D,"change",N);var V;h&&(s==="expressCheckout"?V=h:V=function(){h(D)}),xs(D,"ready",V),tt.useLayoutEffect(function(){if(U.current===null&&Y.current!==null&&($||_)){var O=null;if(_)switch(s){case"paymentForm":O=_.createPaymentFormElement();break;case"payment":O=_.createPaymentElement(y);break;case"address":if("mode"in y){var W=y.mode,K=iE(y,yE);if(W==="shipping")O=_.createShippingAddressElement(K);else if(W==="billing")O=_.createBillingAddressElement(K);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":O=_.createExpressCheckoutElement(y);break;case"currencySelector":O=_.createCurrencySelectorElement();break;case"taxId":O=_.createTaxIdElement(y);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else $&&(O=$.create(s,y));U.current=O,I(O),O&&O.mount(Y.current)}},[$,_,y]);var R=yp(y);return tt.useEffect(function(){if(U.current){var O=Pj(y,R,["paymentRequest"]);O&&"update"in U.current&&U.current.update(O)}},[y,R]),tt.useLayoutEffect(function(){return function(){if(U.current&&typeof U.current.destroy=="function")try{U.current.destroy(),U.current=null}catch{}}},[]),tt.createElement("div",{id:p,className:u,ref:Y})},i=function(c){bp("mounts <".concat(a,">"));var p=c.id,u=c.className;return tt.createElement("div",{id:p,className:u})},o=r?i:n;return o.propTypes={id:_t.string,className:_t.string,onChange:_t.func,onBlur:_t.func,onFocus:_t.func,onReady:_t.func,onEscape:_t.func,onClick:_t.func,onLoadError:_t.func,onLoaderStart:_t.func,onNetworksChange:_t.func,onConfirm:_t.func,onCancel:_t.func,onShippingAddressChange:_t.func,onShippingRateChange:_t.func,onSavedPaymentMethodRemove:_t.func,onSavedPaymentMethodUpdate:_t.func,options:_t.object},o.displayName=a,o.__elementType=s,o},Ls=typeof window>"u",vE=tt.createContext(null);vE.displayName="EmbeddedCheckoutProviderContext";var jE=function(){var s=bp("calls useStripe()"),r=s.stripe;return r};Is("auBankAccount",Ls);var l0=Is("card",Ls);Is("cardNumber",Ls);Is("cardExpiry",Ls);Is("cardCvc",Ls);Is("iban",Ls);Is("payment",Ls);Is("expressCheckout",Ls);Is("paymentRequestButton",Ls);Is("linkAuthentication",Ls);Is("address",Ls);Is("shippingAddress",Ls);Is("paymentMethodMessaging",Ls);Is("taxId",Ls);let Bi=null,qi=!1,Il=!1;const NE=async()=>{if(qi&&Bi)return Bi;if(Il){for(;Il;)await new Promise(e=>setTimeout(e,100));return Bi}try{Il=!0;const e=await av.getConfig();return e.success&&e.publishable_key?(Bi=e.publishable_key,qi=!0,Bi):e.is_configured===!1?(console.warn("Stripe is not configured on the backend"),qi=!0,null):(console.warn("Stripe config response missing publishable_key"),qi=!0,null)}catch(e){return console.error("Failed to get Stripe config from backend:",e),qi=!0,null}finally{Il=!1}};let Vi=null,Vn=!1;const wE=async()=>{if(Vi)return Vi;if(Vn){for(;Vn;)await new Promise(e=>setTimeout(e,100));return Vi}try{Vn=!0;const e=await NE();return e?(Vi=aE(e),Vi):(console.warn("Stripe is not configured. Credit card payments will not be available."),null)}catch(e){return console.error("Failed to initialize Stripe:",e),null}finally{Vn=!1}},CE=({clientSecret:e,amount:s,currency:r,onPaymentSuccess:a,onPaymentError:n,onCancel:i,loading:o})=>{const l=jE(),c=xE(),[p,u]=d.useState(!1),[f,y]=d.useState(null),[m,x]=d.useState(!1),h=g=>{x(g.complete),y(g.error?g.error.message:null)},N=async g=>{if(g.preventDefault(),!l||!c){y("Stripe is not loaded. Please refresh the page.");return}const j=c.getElement(l0);if(!j){y("Card element not found.");return}if(!m){y("Please complete the card details.");return}u(!0),y(null);try{const{error:v,paymentIntent:A}=await l.confirmCardPayment(e,{payment_method:{card:j,billing_details:{}}});if(v){y(v.message),n&&n(v.message),u(!1);return}A&&A.status==="succeeded"&&(j&&j.clear(),a&&a(A))}catch(v){const A=v.message||"Payment failed. Please try again.";y(A),n&&n(A)}finally{u(!1)}},b=p||o;return t.jsxs("form",{onSubmit:N,className:"stripe-payment-form",children:[t.jsxs("div",{className:"payment-amount-display",children:[t.jsx("span",{className:"amount-label",children:"Amount:"}),t.jsxs("span",{className:"amount-value",children:[r||"USD"," ",parseFloat(s||0).toFixed(2)]})]}),t.jsx("div",{className:"card-element-container",children:t.jsx(l0,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:h})}),f&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"error-message",children:f})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{type:"button",onClick:i,disabled:b,className:"btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!l||!m||b,className:"btn-pay",children:b?"Processing...":"Pay Now"})]})]})},Qc=({isOpen:e,onClose:s,clientSecret:r,paymentIntentId:a,amount:n,currency:i="USD",paymentSummary:o=null,onPaymentSuccess:l,onPaymentError:c})=>{const{user:p}=or(),[u,f]=d.useState(!1),[y,m]=d.useState(null),[x,h]=d.useState(null),N=(p==null?void 0:p.role)==="training_center";d.useEffect(()=>{e&&!y&&wE().then(j=>{m(j),j||h("Stripe is not configured on the backend")}).catch(j=>{console.error("Failed to load Stripe config:",j),h("Failed to load Stripe configuration")})},[e,y]),d.useEffect(()=>{e||f(!1)},[e]);const b=async j=>{f(!0);try{l&&await l(j,a)}catch(v){c&&c(v.message||"Payment succeeded but failed to complete transaction.")}finally{f(!1)}},g=j=>{c&&c(j)};return x||!y&&!Vn?t.jsx($e,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Stripe Configuration Required"}),t.jsx("p",{className:"text-xs text-yellow-700",children:x||"Stripe is not configured on the backend. Please contact support to enable credit card payments."}),t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still proceed by entering the Payment Intent ID manually after completing payment on Stripe."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})}):Vn?t.jsx($e,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment form..."})]})}):r?t.jsxs($e,{isOpen:e,onClose:s,title:"Complete Payment",size:"md",children:[o&&t.jsxs("div",{className:"payment-summary mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-2",children:"Payment Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[o.total_amount&&t.jsxs("p",{children:[t.jsx("strong",{children:"Total Amount:"})," ",o.currency||i," ",parseFloat(o.total_amount||0).toFixed(2)]}),o.discount_amount&&parseFloat(o.discount_amount)>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," -",o.currency||i," ",parseFloat(o.discount_amount).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Final Amount:"})," ",o.currency||i," ",parseFloat(o.final_amount||n||0).toFixed(2)]}),o.quantity&&t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",o.quantity]}),o.unit_price&&t.jsxs("p",{children:[t.jsx("strong",{children:"Unit Price:"})," ",o.currency||i," ",parseFloat(o.unit_price).toFixed(2)]}),!N&&(o.commission_amount||o.provider_amount)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-green-300",children:[t.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Payment Breakdown:"}),o.provider_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Provider Receives:"})," ",o.currency||i," ",parseFloat(o.provider_amount).toFixed(2)]}),o.commission_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Platform Commission:"})," ",o.currency||i," ",parseFloat(o.commission_amount).toFixed(2)]})]})]})]}),t.jsx(Tj,{stripe:y,children:t.jsx(CE,{clientSecret:r,amount:n,currency:i,onPaymentSuccess:b,onPaymentError:g,onCancel:s,loading:u})})]}):t.jsx($e,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-800",children:"Payment intent not created. Please create payment intent first."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})})},_E=()=>{var Y,V;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState(null),[n,i]=d.useState(!0),[o,l]=d.useState(!1),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState({}),[x,h]=d.useState({amount:"",payment_method:"credit_card",payment_intent_id:""}),[N,b]=d.useState({amount:"",payment_method:"credit_card",payment_intent_id:"",auto_renew:!1}),[g,j]=d.useState(null),[v,A]=d.useState(null),[E,C]=d.useState(!1),[z,k]=d.useState(!1),[M,q]=d.useState(!1);d.useEffect(()=>{w()},[]),d.useEffect(()=>(e("Subscription Management"),s("Manage your ACC subscription and payment details"),()=>{e(null),s(null)}),[e,s]);const w=async()=>{try{i(!0);const R=await He.getSubscription();a(R.subscription||null)}catch(R){console.error("Failed to load subscription:",R),a(null)}finally{i(!1)}},$=()=>{h({amount:"",payment_method:"credit_card",payment_intent_id:""}),m({}),j(null),l(!0)},F=async(R,O)=>{var W,K,H;try{const T={amount:parseFloat(x.amount),payment_method:"credit_card",payment_intent_id:O||R.id};if(R&&R.status!=="succeeded"){m({general:`Payment not completed. Status: ${R.status}`});return}await He.paySubscription(T),await w(),l(!1),k(!1),j(null),alert("Subscription payment processed successfully!"),window.location.reload()}catch(T){if(console.error("Failed to complete subscription payment:",T),((W=T.response)==null?void 0:W.status)===400){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((K=T.response)==null?void 0:K.status)===422){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else m({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((H=T.response)!=null&&H.data){const L=T.response.data;L.message?m({general:L.message}):m({general:"Payment succeeded but failed to process subscription. Please contact support."})}else m({general:"Payment succeeded but failed to process subscription. Please contact support."});throw T}},_=async()=>{var O,W,K,H;const R=parseFloat(x.amount);if(!x.amount||isNaN(R)||R<=0){m({amount:"Please enter a valid amount greater than 0"});return}if(R<1){m({amount:"Amount must be at least $1.00"});return}C(!0),m({}),j(null);try{const T=await He.createSubscriptionPaymentIntent({amount:R});T.success&&T.client_secret&&T.payment_intent_id?(j(T),h(L=>({...L,payment_intent_id:T.payment_intent_id})),k(!0)):m({general:"Failed to create payment intent. Invalid response from server."})}catch(T){if(console.error("Failed to create payment intent:",T),((O=T.response)==null?void 0:O.status)===422){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else L.message?m({general:L.message}):m({general:"Validation failed. Please check your input."})}else if(((W=T.response)==null?void 0:W.status)===400){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((K=T.response)==null?void 0:K.status)===500){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((H=T.response)!=null&&H.data){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else L.message?m({general:L.message}):m({general:"Failed to create payment intent. Please try again."})}else T.message?m({general:T.message}):m({general:"Failed to create payment intent. Please try again."})}finally{C(!1)}},S=async R=>{R.preventDefault(),await _()},P=()=>{b({amount:r!=null&&r.amount?r.amount.toString():"",payment_method:"credit_card",payment_intent_id:"",auto_renew:(r==null?void 0:r.auto_renew)||!1}),m({}),A(null),p(!0)},D=async(R,O)=>{var W,K,H;try{const T={amount:parseFloat(N.amount),payment_method:"credit_card",payment_intent_id:O||R.id,auto_renew:N.auto_renew||!1};if(R&&R.status!=="succeeded"){m({general:`Payment not completed. Status: ${R.status}`});return}await He.renewSubscription(T),await w(),p(!1),q(!1),A(null),alert("Subscription renewed successfully!")}catch(T){if(console.error("Failed to complete subscription renewal:",T),((W=T.response)==null?void 0:W.status)===400){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Payment verification failed. Please contact support."})}else if(((K=T.response)==null?void 0:K.status)===422){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else m({general:(L==null?void 0:L.message)||"Validation failed. Please check your input."})}else if((H=T.response)!=null&&H.data){const L=T.response.data;L.message?m({general:L.message}):m({general:"Payment succeeded but failed to renew subscription. Please contact support."})}else m({general:"Payment succeeded but failed to renew subscription. Please contact support."});throw T}},I=async()=>{var O,W,K,H;const R=parseFloat(N.amount);if(!N.amount||isNaN(R)||R<=0){m({amount:"Please enter a valid amount greater than 0"});return}if(R<1){m({amount:"Amount must be at least $1.00"});return}C(!0),m({}),A(null);try{const T=await He.createRenewalPaymentIntent({amount:R});T.success&&T.client_secret&&T.payment_intent_id?(A(T),b(L=>({...L,payment_intent_id:T.payment_intent_id})),q(!0)):m({general:"Failed to create payment intent. Invalid response from server."})}catch(T){if(console.error("Failed to create payment intent:",T),((O=T.response)==null?void 0:O.status)===422){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else L.message?m({general:L.message}):m({general:"Validation failed. Please check your input."})}else if(((W=T.response)==null?void 0:W.status)===400){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Payment service unavailable. Please contact support."})}else if(((K=T.response)==null?void 0:K.status)===500){const L=T.response.data;m({general:(L==null?void 0:L.message)||"Failed to create payment intent. Please try again later."})}else if((H=T.response)!=null&&H.data){const L=T.response.data;if(L.errors){const ie={};Object.keys(L.errors).forEach(re=>{ie[re]=Array.isArray(L.errors[re])?L.errors[re][0]:L.errors[re]}),m(ie)}else L.message?m({general:L.message}):m({general:"Failed to create payment intent. Please try again."})}else T.message?m({general:T.message}):m({general:"Failed to create payment intent. Please try again."})}finally{C(!1)}},U=async R=>{R.preventDefault(),await I()};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[r?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Current Subscription"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription details"})]}),t.jsx("span",{className:`px-4 py-2 rounded-full font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((Y=r.payment_status)==null?void 0:Y.toUpperCase())||"PENDING"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(et,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Start Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_start_date?new Date(r.subscription_start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(et,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"End Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tr,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Amount"})]}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",((V=r.amount)==null?void 0:V.toLocaleString())||"0.00"]})]}),r.auto_renew!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(De,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Auto Renew"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.auto_renew?"Enabled":"Disabled"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[r.payment_status!=="paid"&&t.jsxs("button",{onClick:$,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(tr,{className:"inline-block mr-2",size:18}),"Pay Subscription"]}),t.jsx("button",{onClick:P,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:"Manage Renewal"})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-yellow-100 mb-6",children:t.jsx(va,{className:"h-10 w-10 text-yellow-600"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Active Subscription"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to subscribe to access all ACC features. Please complete your subscription payment to continue."}),t.jsxs("button",{onClick:$,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(tr,{className:"inline-block mr-2",size:20}),"Subscribe Now"]})]})}),t.jsx($e,{isOpen:o,onClose:()=>{l(!1),m({})},title:"Subscribe / Pay Subscription",size:"md",children:t.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:y.general})}),t.jsx(fe,{label:"Amount",name:"amount",type:"number",value:x.amount,onChange:R=>h({...x,amount:R.target.value}),required:!0,min:"1",step:"0.01",placeholder:"5000.00",error:y.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),m({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:E||u||!x.amount||parseFloat(x.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:E||u?"Processing...":"Pay Now"})]})]})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),m({})},title:"Manage Subscription Renewal",size:"md",children:t.jsxs("form",{onSubmit:U,className:"space-y-4",children:[y.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:y.general})}),t.jsx(fe,{label:"Amount",name:"amount",type:"number",value:N.amount,onChange:R=>b({...N,amount:R.target.value}),required:!0,min:"1",step:"0.01",placeholder:"10000.00",error:y.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Renew Subscription" below to enter your card details.'})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.auto_renew,onChange:R=>b({...N,auto_renew:R.target.checked}),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"Enable Auto-Renewal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When enabled, your subscription will automatically renew at the end of the current period."})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{p(!1),m({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:E||u||!N.amount||parseFloat(N.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:E||u?"Processing...":"Renew Subscription"})]})]})}),t.jsx(Qc,{isOpen:z,onClose:()=>{k(!1)},clientSecret:g==null?void 0:g.client_secret,paymentIntentId:g==null?void 0:g.payment_intent_id,amount:x.amount,currency:(g==null?void 0:g.currency)||"USD",onPaymentSuccess:F,onPaymentError:R=>{m({general:R})}}),t.jsx(Qc,{isOpen:M,onClose:()=>{q(!1)},clientSecret:v==null?void 0:v.client_secret,paymentIntentId:v==null?void 0:v.payment_intent_id,amount:N.amount,currency:(v==null?void 0:v.currency)||"USD",onPaymentSuccess:D,onPaymentError:R=>{m({general:R})}})]})},SE=()=>{const{user:e}=or(),{setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState({name:"",legal_name:"",email:"",phone:"",country:"",address:"",website:"",stripe_account_id:""}),[i,o]=d.useState(null),[l,c]=d.useState(!1),[p,u]=d.useState(!0),[f,y]=d.useState(!1),[m,x]=d.useState({}),[h,N]=d.useState(""),[b,g]=d.useState(!1),[j,v]=d.useState(null),[A,E]=d.useState({current_password:"",password:"",password_confirmation:""}),[C,z]=d.useState(!1);d.useEffect(()=>{k()},[]);const k=async()=>{try{u(!0);const P=await He.getProfile(),D=(P==null?void 0:P.profile)||(P==null?void 0:P.acc)||(P==null?void 0:P.data)||P||{};o(D),n({name:D.name||(e==null?void 0:e.name)||"",legal_name:D.legal_name||"",email:D.email||(e==null?void 0:e.email)||"",phone:D.phone||(e==null?void 0:e.phone)||"",country:D.country||"",address:D.address||(e==null?void 0:e.address)||"",website:D.website||"",stripe_account_id:D.stripe_account_id||D.stripe_connect_account_id||""})}catch(P){console.error("Failed to load profile:",P),e&&n({name:e.name||"",legal_name:"",email:e.email||"",phone:e.phone||"",country:"",address:e.address||"",website:"",stripe_account_id:""})}finally{u(!1)}};d.useEffect(()=>(s("Profile"),r("Manage your account information"),()=>{s(null),r(null)}),[s,r]);const M=P=>{const{name:D,value:I}=P.target;n({...a,[D]:I}),m[D]&&x(U=>{const Y={...U};return delete Y[D],Y}),D==="stripe_account_id"&&j&&v(null)},q=P=>!P||P.trim()===""?null:P.startsWith("acct_")?P.length<12?"Stripe account ID is too short":null:'Stripe account ID must start with "acct_"',w=async P=>{var D,I,U,Y,V,R;if(!P||P.trim()==="")return v(null),{valid:!0};try{g(!0);const O=await He.verifyStripeAccount(P.trim()),W=(O==null?void 0:O.data)||O;return W.valid?(v({valid:!0,message:W.message||"Stripe account is valid and connected",account:W.account}),{valid:!0,account:W.account}):(v({valid:!1,message:W.message||W.error||"Stripe account verification failed",error:W.error}),{valid:!1,error:W.error,message:W.message})}catch(O){console.error("Stripe account verification error:",O);const W=((I=(D=O.response)==null?void 0:D.data)==null?void 0:I.message)||((Y=(U=O.response)==null?void 0:U.data)==null?void 0:Y.error)||O.message||"Failed to verify Stripe account. Please check your connection and try again.";return v({valid:!1,message:W,error:((R=(V=O.response)==null?void 0:V.data)==null?void 0:R.error)||O.message}),{valid:!1,error:W}}finally{g(!1)}},$=async P=>{var I,U,Y,V,R,O,W,K;P.preventDefault(),c(!0),x({}),N(""),v(null);const D=q(a.stripe_account_id);if(D){x({stripe_account_id:D}),c(!1);return}if(a.stripe_account_id&&a.stripe_account_id.trim()!==""){const H=await w(a.stripe_account_id);if(!H.valid){x({stripe_account_id:H.message||H.error||"Invalid Stripe account. Please verify the account ID is correct and the account is properly connected to the platform."}),c(!1);return}}try{const H={...a,stripe_account_id:((I=a.stripe_account_id)==null?void 0:I.trim())||null},T=await He.updateProfile(H),L=(T==null?void 0:T.profile)||(T==null?void 0:T.data)||T;o(L),v(null),N("Profile updated successfully!"),y(!1),await k(),setTimeout(()=>N(""),3e3)}catch(H){if(console.error("Failed to update profile:",H),((Y=(U=H.response)==null?void 0:U.data)==null?void 0:Y.error_code)==="invalid_stripe_account")x({stripe_account_id:H.response.data.message||"The Stripe account is not valid. Payment will use standard flow."});else if(((V=H.response)==null?void 0:V.status)===422){const T=H.response.data;T.errors?x(T.errors):T.message?x({general:T.message}):x({general:"Validation failed. Please check your input."})}else(O=(R=H.response)==null?void 0:R.data)!=null&&O.errors?x(H.response.data.errors):(K=(W=H.response)==null?void 0:W.data)!=null&&K.message?x({general:H.response.data.message}):x({general:H.message||"Failed to update profile. Please try again."})}finally{c(!1)}},F=()=>{y(!1),x({}),v(null),i&&n({name:i.name||(e==null?void 0:e.name)||"",legal_name:i.legal_name||"",email:i.email||(e==null?void 0:e.email)||"",phone:i.phone||(e==null?void 0:e.phone)||"",country:i.country||"",address:i.address||(e==null?void 0:e.address)||"",website:i.website||"",stripe_account_id:i.stripe_account_id||i.stripe_connect_account_id||""})},_=P=>{const{name:D,value:I}=P.target;E({...A,[D]:I}),m[D]&&x(U=>{const Y={...U};return delete Y[D],Y})},S=async P=>{var D,I,U,Y;P.preventDefault(),z(!0),x({}),N("");try{await Os.changePassword(A),N("Password changed successfully!"),E({current_password:"",password:"",password_confirmation:""}),setTimeout(()=>N(""),3e3)}catch(V){console.error("Failed to change password:",V),(I=(D=V.response)==null?void 0:D.data)!=null&&I.errors?x(V.response.data.errors):(Y=(U=V.response)==null?void 0:U.data)!=null&&Y.message?x({password:V.response.data.message}):x({password:V.message||"Failed to change password. Please try again."})}finally{z(!1)}};return p?t.jsx("div",{className:"profile-loading-container",children:t.jsx("div",{className:"profile-loading-spinner"})}):t.jsxs("div",{className:"profile-container",children:[h&&t.jsxs("div",{className:"profile-success-message",children:[t.jsx(De,{size:20}),t.jsx("span",{children:h})]}),m.general&&t.jsxs("div",{className:"profile-error-message",children:[t.jsx(va,{size:20}),t.jsx("span",{children:m.general})]}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar-section",children:t.jsx("div",{className:"profile-avatar-container",children:t.jsx("div",{className:"profile-avatar-placeholder",children:t.jsx(Ie,{size:48})})})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-name",children:a.name||"ACC Admin"}),t.jsx("p",{className:"profile-email",children:a.email||"No email provided"}),!f&&t.jsxs("button",{onClick:()=>y(!0),className:"profile-edit-btn",children:[t.jsx(ts,{size:18}),"Edit Profile"]})]})]}),t.jsxs("form",{onSubmit:$,className:"profile-form",children:[t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Ts,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Basic Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your personal and contact details"})]})]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"Name",name:"name",type:"text",value:a.name,onChange:M,required:!0,disabled:!f,error:m.name}),t.jsx(fe,{label:"Legal Name",name:"legal_name",type:"text",value:a.legal_name,onChange:M,disabled:!f,error:m.legal_name,helpText:"Official legal name of your organization"}),t.jsx(fe,{label:"Email",name:"email",type:"email",value:a.email,onChange:M,required:!0,disabled:!f,error:m.email}),t.jsx(fe,{label:"Phone",name:"phone",type:"tel",value:a.phone,onChange:M,disabled:!f,error:m.phone}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:a.website,onChange:M,placeholder:"https://example.com",disabled:!f,error:m.website})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:t.jsx(vt,{className:"text-green-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Address Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your location and address details"})]})]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"Address",name:"address",type:"text",value:a.address,onChange:M,disabled:!f,error:m.address}),t.jsx(fe,{label:"Country",name:"country",type:"text",value:a.country,onChange:M,disabled:!f,error:m.country})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:t.jsx(tr,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Stripe Payment Settings"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure your payment gateway integration"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-4 border border-blue-200",children:[t.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[t.jsx("strong",{children:"Enable Destination Charges:"})," Enter your Stripe Connect Account ID to automatically receive payments directly to your Stripe account."]}),t.jsx("p",{className:"text-xs text-gray-600",children:"When configured, payments will be automatically split between your account and the platform commission. You'll receive payments directly in your Stripe account."})]}),t.jsx("div",{className:"mb-4 p-3 rounded-lg border",children:i!=null&&i.stripe_account_configured||a.stripe_account_id?t.jsxs("div",{className:"bg-green-50 border-green-200 border",children:[t.jsxs("p",{className:"text-sm text-green-800 flex items-center gap-2",children:[t.jsx(De,{size:16,className:"text-green-600"}),t.jsx("strong",{children:"Status: Configured"})]}),(i==null?void 0:i.stripe_account_configured)&&t.jsx("p",{className:"text-xs text-green-700 mt-1 ml-6",children:" Payments will be automatically split between your account and the platform."})]}):t.jsxs("div",{className:"bg-yellow-50 border-yellow-200 border",children:[t.jsxs("p",{className:"text-sm text-yellow-800 flex items-center gap-2",children:[t.jsx(va,{size:16,className:"text-yellow-600"}),t.jsx("strong",{children:"Status: Not Configured"})]}),t.jsx("p",{className:"text-xs text-yellow-700 mt-1 ml-6",children:"Configure your Stripe account to enable automatic payment splitting."})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(fe,{label:"Stripe Connect Account ID",name:"stripe_account_id",type:"text",value:a.stripe_account_id,onChange:M,placeholder:"acct_xxxxxxxxxxxxx",error:m.stripe_account_id,helpText:"Your Stripe Connect account ID (starts with 'acct_'). You can find this in your Stripe Dashboard under Settings  Connect  Accounts.",disabled:!f||b}),f&&a.stripe_account_id&&a.stripe_account_id.trim()!==""&&!q(a.stripe_account_id)&&t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:async()=>{await w(a.stripe_account_id)},disabled:b,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Verifying...":"Verify Account"})})]}),f&&a.stripe_account_id&&a.stripe_account_id.trim()!==""&&t.jsx("div",{className:"mt-2",children:q(a.stripe_account_id)?t.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-red-600 flex items-center gap-2",children:[t.jsx(va,{size:14}),q(a.stripe_account_id)]})}):t.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-2",children:[t.jsx(De,{size:14}),"Valid Stripe account ID format"]})})}),f&&b&&t.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800 flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Verifying Stripe account..."]})}),f&&j&&!b&&t.jsxs("div",{className:`mt-2 p-3 rounded-lg border ${j.valid?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[t.jsxs("p",{className:`text-xs flex items-center gap-2 ${j.valid?"text-green-800":"text-red-800"}`,children:[j.valid?t.jsx(De,{size:14,className:"text-green-600"}):t.jsx(va,{size:14,className:"text-red-600"}),t.jsx("strong",{children:j.valid?"Verified:":"Verification Failed:"}),j.message]}),j.valid&&j.account&&t.jsxs("div",{className:"mt-2 ml-6 text-xs text-green-700",children:[t.jsxs("p",{children:["Account Type: ",j.account.type||"N/A"]}),t.jsxs("p",{children:["Charges Enabled: ",j.account.charges_enabled?"Yes":"No"]}),t.jsxs("p",{children:["Payouts Enabled: ",j.account.payouts_enabled?"Yes":"No"]}),t.jsxs("p",{children:["Details Submitted: ",j.account.details_submitted?"Yes":"No"]})]})]}),f&&a.stripe_account_id&&!q(a.stripe_account_id)&&!j&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-xs text-blue-800 flex items-center gap-2",children:[t.jsx(Be,{size:14}),t.jsx("strong",{children:"Current Account ID:"})," ",a.stripe_account_id]}),t.jsx("p",{className:"text-xs text-blue-700 mt-1 ml-6",children:"This account will be verified when you save the profile."})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:t.jsx(Sf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:S,className:"space-y-4",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:A.current_password,onChange:_,required:!0,error:m.current_password}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:A.password,onChange:_,required:!0,error:m.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:A.password_confirmation,onChange:_,required:!0,error:m.password_confirmation})]}),t.jsx("div",{className:"flex justify-end pt-2",children:t.jsxs("button",{type:"submit",className:"profile-change-password-btn",disabled:C,children:[t.jsx(vd,{size:18}),C?"Changing...":"Change Password"]})})]})]}),f&&t.jsxs("div",{className:"profile-form-actions",children:[t.jsxs("button",{type:"button",onClick:F,className:"profile-cancel-btn",disabled:l,children:[t.jsx(Vs,{size:18}),"Cancel"]}),t.jsxs("button",{type:"submit",className:"profile-save-btn",disabled:l,children:[t.jsx(li,{size:18}),l?"Saving...":"Save Changes"]})]})]})]})]})},gt=({name:e,value:s,icon:r,colorType:a,isActive:n,onClick:i})=>t.jsx("div",{onClick:i,className:`tab-card tab-card-${a} ${n?"active":""}`,children:t.jsxs("div",{className:"tab-card-content",children:[t.jsxs("div",{children:[t.jsx("p",{className:`tab-card-label tab-card-label-${a}`,children:e}),t.jsx("p",{className:`tab-card-value tab-card-value-${a}`,children:s})]}),t.jsx("div",{className:`tab-card-icon-wrapper tab-card-icon-wrapper-${a}`,children:t.jsx(r,{className:"tab-card-icon",size:32})})]})}),yn=({children:e,columns:s={mobile:1,tablet:2,desktop:2}})=>t.jsx("div",{className:"tab-cards-grid",style:{"--columns-mobile":s.mobile,"--columns-tablet":s.tablet,"--columns-desktop":s.desktop},children:e}),kE=()=>{var U,Y,V,R,O,W,K,H,T,L,ie,re,le,pe,oe,de,ue,Z,me,ve,Pe,ke,te;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r]=fd(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState(!1),[f,y]=d.useState(!1),[m,x]=d.useState(null),[h,N]=d.useState(""),[b,g]=d.useState(""),[j,v]=d.useState("all"),A=d.useRef(!1);d.useEffect(()=>{const ae=r.get("filter");ae&&["pending","active","returned","all"].includes(ae)&&v(ae)},[r]),d.useEffect(()=>{A.current||(A.current=!0,E())},[j]),d.useEffect(()=>(e("Training Centers"),s("Manage training center authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const E=async()=>{o(!0);try{const ae={per_page:1e3},[ce,se,J]=await Promise.all([He.getTrainingCenterRequests({...ae,status:"pending"}),He.getTrainingCenterRequests({...ae,status:"returned"}),He.listAuthorizedTrainingCenters(ae)]),ee=(ce.requests||[]).filter(Ae=>Ae.status==="pending").map(Ae=>{var Ce,Ye;return{...Ae,_normalizedName:((Ce=Ae.training_center)==null?void 0:Ce.name)||Ae.name||"",_normalizedEmail:((Ye=Ae.training_center)==null?void 0:Ye.email)||Ae.email||"",_normalizedDate:Ae.request_date,_isRequest:!0}}),xe=(se.requests||[]).filter(Ae=>Ae.status==="returned").map(Ae=>{var Ce,Ye;return{...Ae,_normalizedName:((Ce=Ae.training_center)==null?void 0:Ce.name)||Ae.name||"",_normalizedEmail:((Ye=Ae.training_center)==null?void 0:Ye.email)||Ae.email||"",_normalizedDate:Ae.request_date,_isRequest:!0}}),je=(J.training_centers||[]).map(Ae=>({...Ae,_normalizedName:Ae.name||"",_normalizedEmail:Ae.email||"",_normalizedDate:Ae.authorized_at||Ae.created_at||Ae.updated_at,_isRequest:!1,status:Ae.status||"active"})),Ne=Ae=>{var Ce;return Ae._isRequest?((Ce=Ae.training_center)==null?void 0:Ce.id)||Ae.training_center_id||Ae.id:Ae.id||Ae.training_center_id},G=Ae=>{const Ce=new Set;return Ae.filter(Ye=>{const Qe=Ne(Ye);return Qe&&Ce.has(Qe)?!1:(Qe&&Ce.add(Qe),!0)})},B=G(ee),X=G(xe),Q=G(je),he=new Set;[...B,...X].forEach(Ae=>{const Ce=Ne(Ae);Ce&&he.add(Ce)});const we=Q.filter(Ae=>{const Ce=Ne(Ae);return!he.has(Ce)}),ze=[...B,...X,...we],We=new Set,Ge=ze.filter(Ae=>{const Ce=Ne(Ae);return Ce?We.has(Ce)?!1:(We.add(Ce),!0):!0});n(Ge)}catch(ae){console.error("Failed to load data:",ae),n([])}finally{o(!1)}},C=async ae=>{if(window.confirm("Approve this training center request?"))try{await He.approveTrainingCenterRequest(ae),await E(),alert("Training center request approved successfully!")}catch(ce){alert("Failed to approve: "+(ce.message||"Unknown error"))}},z=ae=>{x(ae),c(!0)},k=ae=>{z(ae)},M=d.useMemo(()=>[{header:"Training Center",accessor:"_normalizedName",sortable:!0,render:(ae,ce)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ie,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ae||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:ae=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),ae||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:ae=>t.jsx("span",{className:"text-sm text-gray-600",children:ae?new Date(ae).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(ae,ce)=>{const se={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:De},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:De},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:ot},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:$r},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},J=se[ae]||se.pending,ee=J.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${J.badgeClass}`,children:[t.jsx(ee,{size:12,className:"mr-1"}),ae?ae.charAt(0).toUpperCase()+ae.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(ae,ce)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:se=>se.stopPropagation(),children:[t.jsx("button",{onClick:()=>z(ce),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),(ce.status==="pending"||ce.status==="returned")&&t.jsx("button",{onClick:se=>{se.stopPropagation(),C(ce.id)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(De,{size:16})})]})}],[z,C]),q=d.useMemo(()=>{let ae=[...a];return j!=="all"&&(ae=ae.filter(ce=>j==="pending"?ce.status==="pending":j==="returned"?ce.status==="returned":j==="active"?ce.status==="active"||ce.status==="approved"||!ce._isRequest:!0)),ae=ae.map(ce=>{var se,J;return{...ce,_searchText:`${ce._normalizedName||""} ${ce._normalizedEmail||""} ${((se=ce.training_center)==null?void 0:se.name)||""} ${((J=ce.training_center)==null?void 0:J.email)||""} ${ce.name||""} ${ce.email||""} ${ce.legal_name||""} ${ce.registration_number||""} ${ce.country||""} ${ce.city||""} ${ce.status||""}`.toLowerCase()}}),ae},[a,j]),w=ae=>{x(ae),N(""),u(!0)},$=async()=>{if(!h.trim()){alert("Please provide a rejection reason");return}try{await He.rejectTrainingCenterRequest(m.id,{rejection_reason:h}),await E(),u(!1),x(null),N(""),alert("Training center request rejected")}catch(ae){alert("Failed to reject: "+(ae.message||"Unknown error"))}},F=ae=>{x(ae),g(""),y(!0)},_=async()=>{if(!b.trim()){alert("Please provide a return comment");return}try{await He.returnTrainingCenterRequest(m.id,{return_comment:b}),await E(),y(!1),x(null),g(""),alert("Request returned for revision")}catch(ae){alert("Failed to return request: "+(ae.message||"Unknown error"))}},S=a.filter(ae=>ae.status==="pending").length,P=a.filter(ae=>ae.status==="returned").length,D=a.filter(ae=>ae.status==="active"||ae.status==="approved"||!ae._isRequest).length,I=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(gt,{name:"Total",value:I,icon:Ie,colorType:"indigo",isActive:j==="all",onClick:()=>v("all")}),t.jsx(gt,{name:"Pending",value:S,icon:Ve,colorType:"yellow",isActive:j==="pending",onClick:()=>v("pending")}),t.jsx(gt,{name:"Active",value:D,icon:De,colorType:"green",isActive:j==="active",onClick:()=>v("active")}),t.jsx(gt,{name:"Returned",value:P,icon:$r,colorType:"blue",isActive:j==="returned",onClick:()=>v("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx($t,{columns:M,data:q,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No training centers found",onRowClick:ae=>k(ae)})}),t.jsx($e,{isOpen:l,onClose:()=>{c(!1),x(null)},title:m!=null&&m._isRequest?"Training Center Request Details":"Training Center Details",size:"lg",children:m&&t.jsxs("div",{className:"space-y-6",children:[m._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",m.id]})]}),m.training_center_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",m.training_center_id]})]}),m.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(m.request_date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),m.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(m.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),m.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(m.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),m.reviewed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Reviewed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(m.reviewed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${m.status==="approved"||m.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":m.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":m.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[m.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),m.status==="returned"&&t.jsx($r,{size:12,className:"mr-1"}),m.status==="approved"&&t.jsx(De,{size:12,className:"mr-1"}),m.status?m.status.charAt(0).toUpperCase()+m.status.slice(1):"N/A"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ie,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((U=m.training_center)==null?void 0:U.name)||m.name||m._normalizedName||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Y=m.training_center)==null?void 0:Y.email)||m.email||m._normalizedEmail||"N/A"})]}),(((V=m.training_center)==null?void 0:V.legal_name)||m.legal_name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((R=m.training_center)==null?void 0:R.legal_name)||m.legal_name})]}),(((O=m.training_center)==null?void 0:O.registration_number)||m.registration_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((W=m.training_center)==null?void 0:W.registration_number)||m.registration_number})]}),(((K=m.training_center)==null?void 0:K.phone)||m.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((H=m.training_center)==null?void 0:H.phone)||m.phone})]}),(((T=m.training_center)==null?void 0:T.website)||m.website)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(aa,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:(((L=m.training_center)==null?void 0:L.website)||m.website).startsWith("http")?((ie=m.training_center)==null?void 0:ie.website)||m.website:`https://${((re=m.training_center)==null?void 0:re.website)||m.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:((le=m.training_center)==null?void 0:le.website)||m.website})]}),(((pe=m.training_center)==null?void 0:pe.address)||m.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((oe=m.training_center)==null?void 0:oe.address)||m.address})]}),(((de=m.training_center)==null?void 0:de.city)||m.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ue=m.training_center)==null?void 0:ue.city)||m.city})]}),(((Z=m.training_center)==null?void 0:Z.country)||m.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((me=m.training_center)==null?void 0:me.country)||m.country})]}),(((ve=m.training_center)==null?void 0:ve.postal_code)||m.postal_code)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Postal Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Pe=m.training_center)==null?void 0:Pe.postal_code)||m.postal_code})]}),(((ke=m.training_center)==null?void 0:ke.description)||m.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:((te=m.training_center)==null?void 0:te.description)||m.description})]}),m.authorized_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Authorized At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(m.authorized_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),m._isRequest&&m.documents_json&&Array.isArray(m.documents_json)&&m.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:m.documents_json.map((ae,ce)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:ae.type||ae.document_type||`Document ${ce+1}`}),ae.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ae.description})]}),ae.url&&t.jsx("a",{href:ae.url.startsWith("http")?ae.url:`https://aeroenix.com/v1/api${ae.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},ce))})]}),m._isRequest&&m.rejection_reason&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ot,{className:"h-5 w-5 text-red-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Rejection Reason"})]}),t.jsx("p",{className:"text-base text-gray-900",children:m.rejection_reason})]}),m._isRequest&&m.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx($r,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:m.return_comment})]}),m._isRequest&&m.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{C(m.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(De,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),w(m)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ot,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),F(m)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx($r,{size:20,className:"mr-2"}),"Return"]})]}),m._isRequest&&m.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{C(m.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(De,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),w(m)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ot,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx($e,{isOpen:p,onClose:()=>{u(!1),x(null),N("")},title:"Reject Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:h,onChange:ae=>N(ae.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{u(!1),x(null),N("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:$,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx($e,{isOpen:f,onClose:()=>{y(!1),x(null),g("")},title:"Return Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(fe,{label:"Return Comment",name:"return_comment",value:b,onChange:ae=>g(ae.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{y(!1),x(null),g("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})})]})},AE=()=>{var K,H,T,L,ie,re,le,pe,oe,de,ue,Z,me,ve,Pe,ke,te,ae,ce,se,J,ee,xe,je,Ne,G,B,X;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r]=fd(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState(!1),[f,y]=d.useState(!1),[m,x]=d.useState(!1),[h,N]=d.useState(null),[b,g]=d.useState(""),[j,v]=d.useState(""),[A,E]=d.useState(""),[C,z]=d.useState("all"),[k,M]=d.useState({});d.useEffect(()=>{const Q=r.get("filter");Q&&["pending","active","returned","all"].includes(Q)&&z(Q)},[r]),d.useEffect(()=>{q()},[C]),d.useEffect(()=>(e("Instructors"),s("Manage instructor authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const q=async()=>{o(!0);try{const Q={per_page:1e3},[he,we]=await Promise.all([He.getInstructorRequests(Q),He.listAuthorizedTrainingCenters(Q)]),ze=(he==null?void 0:he.requests)||(he==null?void 0:he.data)||[],We={};((we==null?void 0:we.training_centers)||(we==null?void 0:we.data)||[]).forEach(qe=>{qe.id&&(We[qe.id]=qe.name||qe.legal_name||`TC ${qe.id}`)}),M(We);const Ae=qe=>{var Ct;return((Ct=qe.instructor)==null?void 0:Ct.id)||qe.instructor_id||qe.id},Ce=ze.map(qe=>{var ih,oh;const Ct=qe.instructor||qe,bn=qe.training_center_id||((ih=qe.training_center)==null?void 0:ih.id),vn=bn?We[bn]||((oh=qe.training_center)==null?void 0:oh.name)||`TC ${bn}`:"N/A";return{...qe,_normalizedName:`${Ct.first_name||""} ${Ct.last_name||""}`.trim(),_normalizedEmail:Ct.email||"",_normalizedDate:qe.request_date||qe.created_at||qe.updated_at,_normalizedTrainingCenter:vn,_trainingCenterId:bn,_isRequest:!0}}),Ye=Ce.filter(qe=>qe.status==="pending"),Qe=Ce.filter(qe=>qe.status==="returned"),ye=Ce.filter(qe=>qe.status==="approved"||qe.status==="active"),_e=qe=>{const Ct=new Set;return qe.filter(bn=>{const vn=Ae(bn);return vn&&Ct.has(vn)?!1:(vn&&Ct.add(vn),!0)})},Me=_e(Ye),Xe=_e(Qe),Kt=_e(ye).map(qe=>{const Ct=qe.instructor||qe;return{...qe,id:Ct.id||qe.id,first_name:Ct.first_name||qe.first_name,last_name:Ct.last_name||qe.last_name,email:Ct.email||qe.email,phone:Ct.phone||qe.phone,_normalizedName:`${Ct.first_name||""} ${Ct.last_name||""}`.trim(),_normalizedEmail:Ct.email||"",_normalizedDate:qe.request_date||qe.created_at||qe.updated_at,_normalizedTrainingCenter:qe._normalizedTrainingCenter||"N/A",_trainingCenterId:qe._trainingCenterId,_isRequest:!1,status:"active"}}),Br=new Set;[...Me,...Xe].forEach(qe=>{const Ct=Ae(qe);Ct&&Br.add(Ct)});const qr=Kt.filter(qe=>{const Ct=Ae(qe);return!Br.has(Ct)}),ou=[...Me,...Xe,...qr],nh=new Set,$j=ou.filter(qe=>{const Ct=Ae(qe);return Ct?nh.has(Ct)?!1:(nh.add(Ct),!0):!0});n($j)}catch(Q){console.error("Failed to load data:",Q),n([])}finally{o(!1)}},w=Q=>{N(Q),g(""),u(!0)},$=Q=>{N(Q),c(!0)},F=Q=>{$(Q)},_=d.useMemo(()=>[{header:"Instructor",accessor:"_normalizedName",sortable:!0,render:(Q,he)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(nt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Q||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:Q=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Pt,{className:"h-4 w-4 mr-2 text-gray-400"}),Q||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:Q=>t.jsx("span",{className:"text-sm text-gray-600",children:Q?new Date(Q).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(Q,he)=>{const we={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:De},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:De},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:ot},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:$r},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},ze=we[Q]||we.pending,We=ze.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ze.badgeClass}`,children:[t.jsx(We,{size:12,className:"mr-1"}),Q?Q.charAt(0).toUpperCase()+Q.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Q,he)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:we=>we.stopPropagation(),children:[t.jsx("button",{onClick:()=>$(he),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})}),(he.status==="pending"||he.status==="returned")&&t.jsx("button",{onClick:we=>{we.stopPropagation(),w(he)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(De,{size:16})})]})}],[$,w]),S=d.useMemo(()=>{let Q=[...a];return C!=="all"&&(Q=Q.filter(he=>C==="pending"?he.status==="pending":C==="returned"?he.status==="returned":C==="active"?he.status==="active"||he.status==="approved"||!he._isRequest&&(he.status==="active"||!he.status):!0)),Q=Q.map(he=>{var we,ze,We,Ge;return{...he,_searchText:`${he._normalizedName||""} ${he._normalizedEmail||""} ${((we=he.instructor)==null?void 0:we.first_name)||""} ${((ze=he.instructor)==null?void 0:ze.last_name)||""} ${((We=he.instructor)==null?void 0:We.email)||""} ${((Ge=he.training_center)==null?void 0:Ge.name)||""} ${he.name||""} ${he.email||""} ${he.status||""}`.toLowerCase()}}),Q},[a,C]),P=async()=>{if(!b||parseFloat(b)<=0){alert("Please enter a valid authorization price");return}try{await He.approveInstructorRequest(h.id,{authorization_price:parseFloat(b)}),await q(),u(!1),N(null),g(""),alert("Instructor approved successfully. Waiting for Group Admin to set commission percentage.")}catch(Q){alert("Failed to approve: "+(Q.message||"Unknown error"))}},D=Q=>{N(Q),v(""),y(!0)},I=async()=>{if(!j.trim()){alert("Please provide a rejection reason");return}try{await He.rejectInstructorRequest(h.id,{rejection_reason:j}),await q(),y(!1),N(null),v(""),alert("Instructor request rejected")}catch(Q){alert("Failed to reject: "+(Q.message||"Unknown error"))}},U=Q=>{N(Q),E(""),x(!0)},Y=async()=>{if(!A.trim()){alert("Please provide a return comment");return}try{await He.returnInstructorRequest(h.id,{return_comment:A}),await q(),x(!1),N(null),E(""),alert("Request returned for revision")}catch(Q){alert("Failed to return request: "+(Q.message||"Unknown error"))}},V=a.filter(Q=>Q.status==="pending").length,R=a.filter(Q=>Q.status==="returned").length,O=a.filter(Q=>Q.status==="active"||Q.status==="approved"||!Q._isRequest&&(Q.status==="active"||!Q.status)).length,W=a.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(gt,{name:"Total",value:W,icon:nt,colorType:"indigo",isActive:C==="all",onClick:()=>z("all")}),t.jsx(gt,{name:"Pending",value:V,icon:Ve,colorType:"yellow",isActive:C==="pending",onClick:()=>z("pending")}),t.jsx(gt,{name:"Active",value:O,icon:De,colorType:"green",isActive:C==="active",onClick:()=>z("active")}),t.jsx(gt,{name:"Returned",value:R,icon:$r,colorType:"blue",isActive:C==="returned",onClick:()=>z("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx($t,{columns:_,data:S,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",onRowClick:Q=>F(Q)})}),t.jsx($e,{isOpen:l,onClose:()=>{c(!1),N(null)},title:h!=null&&h._isRequest?"Instructor Request Details":"Instructor Details",size:"lg",children:h&&t.jsxs("div",{className:"space-y-6",children:[h._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",h.id]})]}),h.instructor_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(a_,{size:14,className:"mr-1"}),"Instructor ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",h.instructor_id]})]}),h.acc_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"ACC ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",h.acc_id]})]}),h.sub_category_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xt,{size:14,className:"mr-1"}),"Sub-Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",h.sub_category_id]})]}),h.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(h.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(h.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(nt,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"First Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((K=h.instructor)==null?void 0:K.first_name)||h.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"Last Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((H=h.instructor)==null?void 0:H.last_name)||h.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((T=h.instructor)==null?void 0:T.email)||h.email||h._normalizedEmail||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((L=h.instructor)==null?void 0:L.phone)||h.phone||"N/A"})]}),(((ie=h.instructor)==null?void 0:ie.id_number)||h.id_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((re=h.instructor)==null?void 0:re.id_number)||h.id_number})]}),((le=h.instructor)==null?void 0:le.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.instructor.country})]}),((pe=h.instructor)==null?void 0:pe.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.instructor.city})]}),h._normalizedDate&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(h._normalizedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${h.status==="approved"||h.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":h.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":h.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[h.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),h.status==="returned"&&t.jsx($r,{size:12,className:"mr-1"}),h.status==="approved"&&t.jsx(De,{size:12,className:"mr-1"}),h.status?h.status.charAt(0).toUpperCase()+h.status.slice(1):"N/A"]})]})]})]}),(h.training_center||h._normalizedTrainingCenter)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ie,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((oe=h.training_center)==null?void 0:oe.id)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",h.training_center.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ie,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((de=h.training_center)==null?void 0:de.name)||((ue=h.training_center)==null?void 0:ue.legal_name)||h._normalizedTrainingCenter||"N/A"})]}),((Z=h.training_center)==null?void 0:Z.email)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.training_center.email})]}),((me=h.training_center)==null?void 0:me.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.training_center.phone})]}),((ve=h.training_center)==null?void 0:ve.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.training_center.address})]}),((Pe=h.training_center)==null?void 0:Pe.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.training_center.city})]}),((ke=h.training_center)==null?void 0:ke.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.training_center.country})]})]})]}),(h.sub_category||h.sub_category_id)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Xt,{className:"mr-2",size:20}),"Sub-Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((te=h.sub_category)==null?void 0:te.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xt,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.sub_category.name})]}),((ae=h.sub_category)==null?void 0:ae.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:h.sub_category.description})]}),((ce=h.sub_category)==null?void 0:ce.courses)&&Array.isArray(h.sub_category.courses)&&h.sub_category.courses.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses"}),t.jsx("div",{className:"space-y-2",children:h.sub_category.courses.map((Q,he)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||he+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||he))})]})]})]}),(((se=h.instructor)==null?void 0:se.specializations)||h.specializations)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(aa,{className:"mr-2",size:20}),"Languages / Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{var we;const Q=((we=h.instructor)==null?void 0:we.specializations)||h.specializations,he=Array.isArray(Q)?Q:typeof Q=="string"?Q.split(",").map(ze=>ze.trim()).filter(ze=>ze):[];return he.length>0?he.map((ze,We)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 border border-primary-200",children:[t.jsx(aa,{size:12,className:"mr-1"}),ze]},We)):t.jsx("p",{className:"text-sm text-gray-500",children:"No specializations listed"})})()})]}),(((J=h.instructor)==null?void 0:J.cv_url)||h.cv_url)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Be,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the instructor's CV"})]})]}),t.jsxs("a",{href:(((ee=h.instructor)==null?void 0:ee.cv_url)||h.cv_url).startsWith("http")?((xe=h.instructor)==null?void 0:xe.cv_url)||h.cv_url:`https://aeroenix.com/v1/api${((je=h.instructor)==null?void 0:je.cv_url)||h.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Be,{size:18,className:"mr-2"}),"View CV"]})]})})]}),h._isRequest&&(h.sub_category_id||h.sub_category||h.courses||h.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Xt,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:h.sub_category_id||h.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var Q,he;return(Q=h.sub_category)!=null&&Q.name?h.sub_category.name:h.sub_category_name?h.sub_category_name:typeof h.sub_category=="string"?h.sub_category:(he=h.sub_category)!=null&&he.name_ar?h.sub_category.name_ar:h.sub_category_id?`Sub-Category (ID: ${h.sub_category_id})`:"N/A"})()}),((Ne=h.sub_category)==null?void 0:Ne.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.sub_category.description}),((G=h.sub_category)==null?void 0:G.courses)&&Array.isArray(h.sub_category.courses)&&h.sub_category.courses.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses in this Sub-Category:"}),t.jsx("div",{className:"space-y-2",children:h.sub_category.courses.map((Q,he)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||he+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||he))})]}),(!((B=h.sub_category)!=null&&B.courses)||h.sub_category.courses.length===0)&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const Q=h.courses||h.requested_courses||[],he=Array.isArray(Q)?Q:[];return he.length>0?t.jsx("div",{className:"space-y-2",children:he.map((we,ze)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:we.name||we.name_ar||we.code||`Course ${we.id||ze+1}`}),we.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",we.code]}),we.name_ar&&we.name&&we.name!==we.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:we.name_ar}),we.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sub-Category: ",typeof we.sub_category=="object"&&(we.sub_category.name||we.sub_category.name_ar)||we.sub_category]})]})})},we.id||ze))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),h._isRequest&&h.documents_json&&Array.isArray(h.documents_json)&&h.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Be,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:h.documents_json.map((Q,he)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.type||Q.document_type||`Document ${he+1}`}),Q.description&&t.jsx("p",{className:"text-sm text-gray-500",children:Q.description})]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},he))})]}),((X=h.instructor)==null?void 0:X.certificates_json)&&Array.isArray(h.instructor.certificates_json)&&h.instructor.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Mr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:h.instructor.certificates_json.map((Q,he)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.name||Q.certificate_name||`Certificate ${he+1}`}),Q.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",Q.issued_by]}),Q.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",Q.year]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},he))})]}),h.authorization_price&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authorization Details"}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Authorization Price"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",parseFloat(h.authorization_price).toFixed(2)]})]})]}),h.rejection_reason&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ot,{className:"mr-2 text-red-600",size:20}),"Rejection Reason"]}),t.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-base text-gray-900",children:h.rejection_reason})})]}),h._isRequest&&h.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx($r,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:h.return_comment})]}),h._isRequest&&h.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),w(h)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(De,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),D(h)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ot,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),U(h)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx($r,{size:20,className:"mr-2"}),"Return"]})]}),h._isRequest&&h.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),w(h)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(De,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),D(h)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ot,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx($e,{isOpen:f,onClose:()=>{y(!1),N(null),v("")},title:"Reject Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(fe,{label:"Rejection Reason",name:"rejection_reason",value:j,onChange:Q=>v(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{y(!1),N(null),v("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:I,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx($e,{isOpen:m,onClose:()=>{x(!1),N(null),E("")},title:"Return Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(fe,{label:"Return Comment",name:"return_comment",value:A,onChange:Q=>E(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{x(!1),N(null),E("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})}),t.jsx($e,{isOpen:p,onClose:()=>{u(!1),N(null),g("")},title:"Approve Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please set the authorization price for this instructor:"}),t.jsx(fe,{label:"Authorization Price",name:"authorization_price",type:"number",value:b,onChange:Q=>g(Q.target.value),required:!0,min:"0",step:"0.01",placeholder:"500.00"}),t.jsx("p",{className:"text-sm text-gray-500",children:"After approval, Group Admin will need to set the commission percentage before Training Center can pay."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{u(!1),N(null),g("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})})]})},PE=(e,s="This field")=>!e||typeof e=="string"&&e.trim()===""?`${s} is required`:"",EE=(e,s,r="This field")=>e&&e.length>s?`${r} must be at most ${s} characters`:"",zE=(e,s="This field",r=null,a=null)=>{if(e===""||e===null||e===void 0)return`${s} is required`;const n=Number(e);return isNaN(n)?`${s} must be a valid number`:r!==null&&n<r?`${s} must be at least ${r}`:a!==null&&n>a?`${s} must be at most ${a}`:""},c0=(e,s={})=>{const{required:r=!0,maxSize:a=10*1024*1024,allowedTypes:n=[],fieldName:i="File"}=s;if(r&&!e)return`${i} is required`;if(e){if(e.size>a){const o=(a/1048576).toFixed(2);return`${i} size must be less than ${o}MB`}if(n.length>0){const o="."+e.name.split(".").pop().toLowerCase(),l=n.map(c=>c.toLowerCase());if(!n.includes(e.type)&&!l.includes(o))return`${i} type is not allowed. Allowed types: ${n.join(", ")}`}}return""},TE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),a=d.useRef(null),[n,i]=d.useState([]),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(null),[N,b]=d.useState("all"),[g,j]=d.useState("all"),[v,A]=d.useState({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),[E,C]=d.useState({base_price:"",currency:"USD"}),[z,k]=d.useState({}),[M,q]=d.useState(!1);d.useEffect(()=>{F()},[]),d.useEffect(()=>{w()},[]),d.useEffect(()=>(s("Courses"),r("Manage and organize your course catalog"),e(t.jsxs("button",{onClick:()=>{a.current&&a.current()},className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Rs,{size:20,className:"mr-2"}),"Add Course"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const w=async()=>{p(!0);try{const T={per_page:1e3},L=await He.listCourses(T);let ie=[];L.data?ie=L.data||[]:L.courses?ie=L.courses||[]:ie=Array.isArray(L)?L:[],i(ie)}catch(T){console.error("Failed to load courses:",T),i([])}finally{p(!1)}},$=d.useMemo(()=>{let T=[...n];return N!=="all"&&(T=T.filter(L=>L.status===N)),g!=="all"&&(T=T.filter(L=>L.level===g)),T=T.map(L=>{var ie,re,le;return{...L,_searchText:`${L.name||""} ${L.code||""} ${L.name_ar||""} ${L.description||""} ${L.level||""} ${L.status||""} ${((ie=L.sub_category)==null?void 0:ie.name)||""} ${((le=(re=L.sub_category)==null?void 0:re.category)==null?void 0:le.name)||""}`.toLowerCase()}}),T},[n,N,g]),F=async()=>{try{const T=await He.listSubCategories();l(T.sub_categories||T||[])}catch(T){console.error("Failed to load sub categories:",T),l([])}},_=d.useCallback((T=null)=>{if(T){h(T),A({sub_category_id:T.sub_category_id||"",name:T.name||"",name_ar:T.name_ar||"",code:T.code||"",description:T.description||"",duration_hours:T.duration_hours||"",max_capacity:T.max_capacity||"",level:T.level||"beginner",status:T.status||"active",assessor_required:T.assessor_required||!1});const L=T.current_price||T.pricing||(T.certificate_pricing&&T.certificate_pricing.length>0?T.certificate_pricing[0]:null);C(L?{base_price:L.base_price||"",currency:L.currency||"USD"}:{base_price:"",currency:"USD"})}else h(null),A({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),C({base_price:"",currency:"USD"});k({}),f(!0)},[]);d.useEffect(()=>{a.current=()=>_()},[]);const S=()=>{f(!1),h(null),A({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",level:"beginner",status:"active",assessor_required:!1}),C({base_price:"",currency:"USD",group_commission_percentage:"",training_center_commission_percentage:"",instructor_commission_percentage:"",effective_from:"",effective_to:""}),k({})},P=T=>{A({...v,[T.target.name]:T.target.value}),k({})},D=T=>{C({...E,[T.target.name]:T.target.value}),k(L=>{const ie={...L};return delete ie[T.target.name],ie})},I=()=>{const T={};!v.name||v.name.trim()===""?T.name="Course name is required":v.name.length>255&&(T.name="Course name must be at most 255 characters"),v.name_ar&&v.name_ar.length>255&&(T.name_ar="Arabic name must be at most 255 characters"),!v.code||v.code.trim()===""?T.code="Course code is required":v.code.length>255&&(T.code="Course code must be at most 255 characters"),v.sub_category_id||(T.sub_category_id="Sub category is required");const L=PE(v.duration_hours,"Duration");if(L)T.duration_hours=L;else{const ie=parseInt(v.duration_hours);(isNaN(ie)||ie<1)&&(T.duration_hours="Duration must be at least 1 hour")}if(!v.max_capacity||v.max_capacity.toString().trim()==="")T.max_capacity="Max capacity is required";else{const ie=parseInt(v.max_capacity);(isNaN(ie)||ie<1)&&(T.max_capacity="Max capacity must be at least 1")}if(v.level?["beginner","intermediate","advanced"].includes(v.level)||(T.level="Invalid level selected"):T.level="Level is required",v.status?["active","inactive","archived"].includes(v.status)||(T.status="Invalid status selected"):T.status="Status is required",E.base_price){const ie=zE(E.base_price,"Base price",0);ie&&(T.base_price=ie),!E.currency||E.currency.trim()===""?T.currency="Currency is required when pricing is set":E.currency.length!==3&&(T.currency="Currency must be a 3-character code (e.g., USD)")}return T},U=async T=>{var ie,re,le,pe,oe,de,ue,Z;T.preventDefault(),q(!0),k({});const L=I();if(Object.keys(L).length>0){k(L),q(!1);return}try{const me={...v,sub_category_id:parseInt(v.sub_category_id),duration_hours:parseInt(v.duration_hours),max_capacity:parseInt(v.max_capacity)};if((!v.name_ar||v.name_ar.trim()==="")&&delete me.name_ar,(!v.description||v.description.trim()==="")&&delete me.description,E.base_price){const Pe={base_price:parseFloat(E.base_price),currency:E.currency};me.pricing=Pe}let ve;x?(ve=await He.updateCourse(x.id,me),console.log("Course updated:",ve)):(ve=await He.createCourse(me),console.log("Course created:",ve)),S(),await w(),alert(x?"Course updated successfully!":"Course created successfully!")}catch(me){if(console.error("Failed to save course:",me),console.error("Error response:",me.response),console.error("Error data:",(ie=me.response)==null?void 0:ie.data),console.error("Error status:",(re=me.response)==null?void 0:re.status),(pe=(le=me.response)==null?void 0:le.data)!=null&&pe.errors){const ve=me.response.data.errors,Pe={};Object.keys(ve).forEach(ke=>{ke.startsWith("pricing.")?Pe[ke.replace("pricing.","")]=ve[ke]:Pe[ke]=ve[ke]}),k(Pe)}else me.errors?k(me.errors):k({general:((de=(oe=me.response)==null?void 0:oe.data)==null?void 0:de.message)||me.message||"Failed to save course"});alert(`Error: ${((Z=(ue=me.response)==null?void 0:ue.data)==null?void 0:Z.message)||me.message||"Failed to save course"}`)}finally{q(!1)}},Y=d.useCallback(T=>{h(T),m(!0)},[]),V=async()=>{try{await He.deleteCourse(x.id),await w()}catch(T){alert("Failed to delete course: "+(T.message||"Unknown error"))}m(!1),h(null)},[R,O]=d.useState(!1),W=async T=>{try{const L=await He.getCourseDetails(T.id);h(L.course||L),O(!0)}catch(L){console.error("Failed to load course details:",L),h(T),O(!0)}},K=T=>{W(T)},H=d.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(T,L)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Zt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:T||"N/A"}),L.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",L.code]})]})]})},{header:"Level",accessor:"level",sortable:!0,render:T=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:T||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:T=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2 text-gray-400"}),T?`${T} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:T=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${T==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:T?T.charAt(0).toUpperCase()+T.slice(1):"N/A"})},{header:"Pricing",accessor:"pricing",sortable:!1,render:(T,L)=>{const ie=L.current_price||L.pricing||(L.certificate_pricing&&L.certificate_pricing.length>0?L.certificate_pricing[0]:null);return ie?t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-primary-600"}),parseFloat(ie.base_price||0).toFixed(2)," ",ie.currency||"USD"]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not set"})}},{header:"Assessor",accessor:"assessor_required",sortable:!0,render:T=>T?t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Required"}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not Required"})},{header:"Actions",accessor:"actions",sortable:!1,render:(T,L)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:ie=>ie.stopPropagation(),children:[t.jsx("button",{onClick:()=>_(L),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:()=>Y(L),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(ar,{size:16})})]})}],[_,Y]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx($t,{columns:H,data:$,isLoading:c,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or code...",emptyMessage:"No courses found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:T=>T.status==="active"},{value:"inactive",label:"Inactive",filterFn:T=>T.status==="inactive"}],defaultFilter:N,onRowClick:T=>K(T)})}),t.jsx($e,{isOpen:u,onClose:S,title:x?"Edit Course":"Add New Course",size:"lg",children:t.jsxs("form",{onSubmit:U,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Course Name (English)",name:"name",value:v.name,onChange:P,required:!0,error:z.name}),t.jsx(fe,{label:"Course Name (Arabic)",name:"name_ar",value:v.name_ar,onChange:P,error:z.name_ar})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Course Code",name:"code",value:v.code,onChange:P,required:!0,placeholder:"e.g., AST-101",error:z.code}),t.jsx(fe,{label:"Sub Category",name:"sub_category_id",type:"select",value:v.sub_category_id,onChange:P,required:!0,options:o.map(T=>({value:T.id,label:T.name||T.title||`Sub Category ${T.id}`})),error:z.sub_category_id})]}),t.jsx(fe,{label:"Description",name:"description",value:v.description,onChange:P,textarea:!0,rows:4,error:z.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Duration (Hours)",name:"duration_hours",type:"number",value:v.duration_hours,onChange:P,required:!0,min:"1",error:z.duration_hours}),t.jsx(fe,{label:"Max Capacity",name:"max_capacity",type:"number",value:v.max_capacity,onChange:P,required:!0,min:"1",placeholder:"Maximum number of trainees per class",error:z.max_capacity})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Level",name:"level",type:"select",value:v.level,onChange:P,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],error:z.level}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:v.status,onChange:P,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],error:z.status})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"assessor_required",name:"assessor_required",checked:v.assessor_required||!1,onChange:T=>A({...v,assessor_required:T.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("label",{htmlFor:"assessor_required",className:"text-sm font-medium text-gray-700",children:"Assessor Required"})]}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2 ml-6",children:"This course requires an assessor"}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Yt,{size:20,className:"text-primary-600"}),"Pricing Information (Optional)"]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optional: Set pricing at creation time. You can create a course without pricing and add it later if needed. Commission percentages are managed by Group Admins separately."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Base Price",name:"base_price",type:"number",value:E.base_price,onChange:D,placeholder:"0.00",step:"0.01",min:"0",error:z.base_price}),t.jsx(fe,{label:"Currency",name:"currency",type:"select",value:E.currency,onChange:D,options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"SAR",label:"SAR"}],error:z.currency})]})]}),z.general&&t.jsx("p",{className:"text-sm text-red-600",children:z.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:M,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Saving...":x?"Update Course":"Create Course"})]})]})}),t.jsx($e,{isOpen:R,onClose:()=>{O(!1),h(null)},title:"Course Details",size:"lg",children:x&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Zt,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Course ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",x.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.name||"N/A"})]}),x.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:x.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.duration_hours?`${x.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.max_capacity?`${x.max_capacity} trainees`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${x.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":x.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:x.status?x.status.charAt(0).toUpperCase()+x.status.slice(1):"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Assessor Required"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs font-medium rounded-full ${x.assessor_required?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:x.assessor_required?"Required":"Not Required"})]}),x.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(x.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),x.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(x.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),x.sub_category&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Xt,{className:"mr-2",size:20}),"Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.sub_category.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Sub Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",x.sub_category.id]})]}),x.sub_category.category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.sub_category.category.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:x.sub_category.name||"N/A"})]}),x.sub_category.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category Description"}),t.jsx("p",{className:"text-base text-gray-900",children:x.sub_category.description})]})]})]}),x.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:x.description})})]}),(()=>{const T=x.current_price||x.pricing||(x.certificate_pricing&&x.certificate_pricing.length>0?x.certificate_pricing[0]:null);return T?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Yt,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg border border-primary-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.id&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"Pricing ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",T.id]})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[parseFloat(T.base_price||0).toFixed(2)," ",T.currency||"USD"]})]}),T.group_commission_percentage!==void 0&&T.group_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(T.group_commission_percentage||0).toFixed(2),"%"]})]}),T.training_center_commission_percentage!==void 0&&T.training_center_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(T.training_center_commission_percentage||0).toFixed(2),"%"]})]}),T.instructor_commission_percentage!==void 0&&T.instructor_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(T.instructor_commission_percentage||0).toFixed(2),"%"]})]}),T.effective_from&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Effective From"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(T.effective_from).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),T.effective_to&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Effective To"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(T.effective_to).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),T.created_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(T.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),T.updated_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(T.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Commission percentages are managed by Group Admins. Pricing is effective immediately when set."})]})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Yt,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yt,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No pricing set"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can add pricing when editing the course"})]})]})})]})})()]})}),t.jsx(la,{isOpen:y,onClose:()=>{m(!1),h(null)},onConfirm:V,title:"Delete Course",message:`Are you sure you want to delete "${x==null?void 0:x.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},RE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState({trainee_name:"",course:"",issue_date:"",status:"valid"}),[f,y]=d.useState({}),[m,x]=d.useState(!1);d.useEffect(()=>{h()},[]),d.useEffect(()=>(s("Certificates"),r("View and manage all generated certificates"),e(t.jsxs("button",{onClick:N,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Rs,{size:20}),"Create New Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const h=async()=>{o(!0);try{const C={per_page:1e3},z=await He.listCertificates(C);let k=[];z.data?k=z.data||[]:z.certificates?k=z.certificates||[]:k=Array.isArray(z)?z:[],k=k.map(M=>({...M,_searchText:[M.certificate_number,M.trainee_name,M.course,M.status].filter(Boolean).join(" ").toLowerCase()})),n(k)}catch(C){console.error("Failed to load certificates:",C),n([])}finally{o(!1)}},N=()=>{u({trainee_name:"",course:"",issue_date:new Date().toISOString().split("T")[0],status:"valid"}),y({}),c(!0)},b=()=>{c(!1),u({trainee_name:"",course:"",issue_date:"",status:"valid"}),y({})},g=C=>{u({...p,[C.target.name]:C.target.value}),y({})},j=async C=>{C.preventDefault(),x(!0),y({});try{await He.createCertificate(p),await h(),b()}catch(z){z.errors?y(z.errors):y({general:z.message||"Failed to create certificate"})}finally{x(!1)}},v=C=>C?new Date(C).toLocaleDateString():"N/A",A=d.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(C,z)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Mr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:C=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C||"N/A"})},{header:"Course",accessor:"course",sortable:!0,render:C=>t.jsx("div",{className:"text-sm text-gray-700",children:C||"N/A"})},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:C=>t.jsx("div",{className:"text-sm text-gray-600",children:v(C)})},{header:"Status",accessor:"status",sortable:!0,render:C=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${C==="valid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300"}`,children:C?C.charAt(0).toUpperCase()+C.slice(1):"N/A"})}],[]),E=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:C=>C.status==="valid"},{value:"invalid",label:"Invalid",filterFn:C=>C.status==="invalid"}],[]);return t.jsxs("div",{children:[t.jsx($t,{columns:A,data:a,isLoading:i,searchable:!0,searchPlaceholder:"Search by number, trainee, or course...",filterable:!0,filterOptions:E,defaultFilter:"all",sortable:!0,emptyMessage:"No certificates found. Create your first certificate!"}),t.jsx($e,{isOpen:l,onClose:b,title:"Create New Certificate",size:"lg",children:t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Trainee Name",name:"trainee_name",value:p.trainee_name,onChange:g,required:!0,error:f.trainee_name}),t.jsx(fe,{label:"Course",name:"course",value:p.course,onChange:g,required:!0,error:f.course})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Issue Date",name:"issue_date",type:"date",value:p.issue_date,onChange:g,required:!0,error:f.issue_date}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:p.status,onChange:g,options:[{value:"valid",label:"Valid"},{value:"invalid",label:"Invalid"}],error:f.status})]}),f.general&&t.jsx("p",{className:"text-sm text-red-600",children:f.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating...":"Create Certificate"})]})]})})]})},$E=()=>{const[e,s]=d.useState([]),[r,a]=d.useState(!0),[n,i]=d.useState({currentPage:1,perPage:12,totalPages:1,totalItems:0});d.useEffect(()=>{o()},[n.currentPage,n.perPage]);const o=async()=>{a(!0);try{const p={page:n.currentPage,per_page:n.perPage},u=await He.listMaterials(p);let f=[];u.data?(f=u.data||[],i(y=>({...y,totalPages:u.last_page||u.total_pages||1,totalItems:u.total||0}))):u.materials?(f=u.materials||[],i(y=>{var m;return{...y,totalPages:1,totalItems:((m=u.materials)==null?void 0:m.length)||0}})):(f=Array.isArray(u)?u:[],i(y=>({...y,totalPages:1,totalItems:f.length}))),s(f)}catch(p){console.error("Failed to load materials:",p),s([])}finally{a(!1)}},l=p=>{i(u=>({...u,currentPage:p}))},c=p=>{i(u=>({...u,perPage:p,currentPage:1}))};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage course materials"})]}),t.jsxs("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[t.jsx(Rs,{size:20,className:"mr-2"}),"Add Material"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.length===0?t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(Be,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No materials found"})]}):e.map(p=>{var u;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[t.jsx(Be,{className:"h-8 w-8 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p.name}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:p.material_type}),t.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",(u=p.price)==null?void 0:u.toLocaleString()]})]},p.id)})}),!r&&n.totalItems>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:t.jsx(Or,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalItems,perPage:n.perPage,onPageChange:l,onPerPageChange:c,perPageOptions:[12,24,48,96]})})]})},DE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState([]),[l,c]=d.useState(!0),[p,u]=d.useState(!1),[f,y]=d.useState(!1),[m,x]=d.useState(null),[h,N]=d.useState({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),[b,g]=d.useState({}),[j,v]=d.useState(!1);d.useEffect(()=>{A(),E()},[]),d.useEffect(()=>(s("Discount Codes"),r("Manage and track all discount codes"),e(t.jsxs("button",{onClick:z,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Rs,{size:20}),"Add Code"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const A=async()=>{c(!0);try{const P={per_page:1e3},D=await He.listDiscountCodes(P);let I=[];D.data?I=D.data||[]:D.discount_codes?I=D.discount_codes||[]:I=Array.isArray(D)?D:[],I=I.map(U=>({...U,_searchText:[U.code,U.discount_type,U.status,...C(U)].filter(Boolean).join(" ").toLowerCase()})),n(I)}catch(P){console.error("Failed to load codes:",P),n([])}finally{c(!1)}},E=async()=>{try{const P=await He.listCourses();o(P.courses||[])}catch(P){console.error("Failed to load courses:",P)}},C=P=>{if(P.courses&&Array.isArray(P.courses)&&P.courses.length>0)return P.courses.map(I=>I.name||I.title||"Unknown Course");const D=P.applicable_course_ids||P.course_ids||[];return!Array.isArray(D)||D.length===0?[]:D.map(I=>{const U=i.find(Y=>Y.id===I);return U?U.name:null}).filter(I=>I!==null)},z=(P=null)=>{var D;if(g({}),x(null),P&&P.id){console.log("Opening modal for EDIT - code:",P),console.log("Code ID:",P.id),x(P);let I="";P.course_id?I=P.course_id.toString():P.applicable_course_ids&&P.applicable_course_ids.length>0?I=P.applicable_course_ids[0].toString():P.courses&&P.courses.length>0&&(I=((D=P.courses[0].id)==null?void 0:D.toString())||""),N({code:P.code||"",discount_percentage:P.discount_percentage||"",discount_type:P.discount_type||"time_limited",valid_from:P.start_date?P.start_date.split("T")[0]:"",valid_until:P.end_date?P.end_date.split("T")[0]:"",status:P.status||"active",course_id:I,total_quantity:P.total_quantity||""})}else console.log("Opening modal for CREATE - resetting all fields"),x(null),N({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""});u(!0)},k=()=>{u(!1),x(null),N({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),g({})},M=P=>{const{name:D,value:I}=P.target;N(U=>({...U,[D]:I})),b[D]&&g(U=>{const Y={...U};return delete Y[D],Y})},q=async P=>{var I,U,Y,V;P.preventDefault(),P.stopPropagation(),g({});const D={};if((!h.code||!h.code.trim())&&(D.code="Discount code is required"),(!h.discount_percentage||isNaN(h.discount_percentage)||parseFloat(h.discount_percentage)<=0)&&(D.discount_percentage="Valid discount percentage is required"),h.discount_type||(D.discount_type="Discount type is required"),h.course_id||(D.course_id="Course is required"),h.discount_type==="time_limited"?(h.valid_from||(D.valid_from="Valid from date is required"),h.valid_until||(D.valid_until="Valid until date is required"),h.valid_from&&h.valid_until&&new Date(h.valid_from)>=new Date(h.valid_until)&&(D.valid_until="Valid until date must be after valid from date")):h.discount_type==="quantity_based"&&(!h.total_quantity||isNaN(h.total_quantity)||parseInt(h.total_quantity)<=0)&&(D.total_quantity="Total quantity is required and must be greater than 0"),Object.keys(D).length>0){g(D);return}v(!0);try{const R={code:h.code.trim(),discount_type:h.discount_type,discount_percentage:parseFloat(h.discount_percentage),applicable_course_ids:[parseInt(h.course_id)],status:h.status};h.discount_type==="time_limited"?(R.start_date=h.valid_from,R.end_date=h.valid_until):h.discount_type==="quantity_based"&&(R.total_quantity=parseInt(h.total_quantity)),console.log("Submitting discount code:",JSON.stringify(R,null,2)),console.log("Selected code:",m),console.log("Is creating new code:",!m);let O;if(m&&(m.id||m.discount_code_id||(I=m.discount_code)!=null&&I.id)){const W=m.id||m.discount_code_id||((U=m.discount_code)==null?void 0:U.id);console.log("Updating discount code with ID:",W),O=await He.updateDiscountCode(W,R),console.log("Discount code updated:",O),alert("Discount code updated successfully!")}else m&&(console.warn("Warning: selectedCode exists but has no ID, treating as create"),x(null)),console.log("Creating new discount code via POST..."),O=await He.createDiscountCode(R),console.log("Discount code created:",O),alert("Discount code created successfully!");await A(),k()}catch(R){if(console.error("Failed to create discount code:",R),console.error("Error response:",R.response),console.error("Error data:",(Y=R.response)==null?void 0:Y.data),(V=R.response)!=null&&V.data){const O=R.response.data;if(O.errors){const W={};Object.keys(O.errors).forEach(K=>{W[K]=Array.isArray(O.errors[K])?O.errors[K][0]:O.errors[K]}),g(W)}else O.message?g({general:O.message}):g(O)}else R.message?g({general:R.message}):g({general:"Failed to create discount code. Please try again."})}finally{v(!1)}},w=P=>{x(P),y(!0)},$=async()=>{var P,D,I;try{const U=(m==null?void 0:m.id)||(m==null?void 0:m.discount_code_id)||((P=m==null?void 0:m.discount_code)==null?void 0:P.id);if(!U)throw new Error("Cannot delete: Discount code ID not found");console.log("Deleting discount code with ID:",U),await He.deleteDiscountCode(U),await A(),alert("Discount code deleted successfully!")}catch(U){console.error("Failed to delete discount code:",U),console.error("Selected code:",m),alert("Failed to delete discount code: "+(((I=(D=U.response)==null?void 0:D.data)==null?void 0:I.message)||U.message||"Unknown error"))}y(!1),x(null)},F=P=>P?new Date(P).toLocaleDateString():null,_=d.useMemo(()=>[{header:"Code",accessor:"code",sortable:!0,render:(P,D)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Mo,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:P||"N/A"})})]})},{header:"Discount",accessor:"discount_percentage",sortable:!0,render:P=>t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:[parseFloat(P)||0,"%"]})},{header:"Type",accessor:"discount_type",sortable:!0,render:P=>t.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 rounded-md text-xs font-medium capitalize",children:P?P.replace(/_/g," "):"N/A"})},{header:"Courses",accessor:"courses",sortable:!1,render:(P,D)=>{const I=C(D);return I.length===0?t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No courses assigned"}):t.jsx("div",{className:"flex flex-wrap gap-1.5",children:I.map((U,Y)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-xs font-medium border border-blue-200",title:U,children:[t.jsx(Xt,{size:12}),t.jsx("span",{className:"max-w-[150px] truncate",children:U})]},Y))})}},{header:"Status",accessor:"status",sortable:!0,render:P=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${P==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:P?P.charAt(0).toUpperCase()+P.slice(1):"N/A"})},{header:"Start Date",accessor:"start_date",sortable:!0,render:P=>P?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:F(P)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"End Date",accessor:"end_date",sortable:!0,render:P=>P?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:F(P)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"Quantity",accessor:"total_quantity",sortable:!0,render:(P,D)=>{if(D.discount_type==="quantity_based"){const I=D.used_quantity||0,U=P||0,Y=U>0?Math.round(I/U*100):0;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-primary-700",children:I}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:U})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all",style:{width:`${Y}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[Y,"%"]})]})]})}else return t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-600 border border-blue-200",children:"N/A"})}}],[i]),S=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:P=>P.status==="active"},{value:"inactive",label:"Inactive",filterFn:P=>P.status==="inactive"}],[]);return t.jsxs("div",{children:[t.jsx($t,{columns:_,data:a,isLoading:l,searchable:!0,searchPlaceholder:"Search by code or type...",filterable:!0,filterOptions:S,defaultFilter:"all",sortable:!0,emptyMessage:"No discount codes found. Create your first discount code!",onEdit:z,onDelete:w}),t.jsx($e,{isOpen:p,onClose:k,title:m&&(m.id||m.discount_code_id)?"Edit Discount Code":"Add New Discount Code",size:"lg",children:t.jsxs("form",{onSubmit:q,className:"space-y-4",children:[b.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:b.general})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Discount Code",name:"code",value:h.code,onChange:M,required:!0,placeholder:"e.g., SAVE20",error:b.code}),t.jsx(fe,{label:"Discount Percentage",name:"discount_percentage",type:"number",value:h.discount_percentage,onChange:M,required:!0,min:"0",max:"100",placeholder:"e.g., 20",error:b.discount_percentage})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"course_id",value:h.course_id,onChange:M,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${b.course_id?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"",children:"Select a course..."}),i.map(P=>t.jsxs("option",{value:P.id,children:[P.name," ",P.code?`(${P.code})`:""]},P.id))]}),b.course_id&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.course_id})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount Type ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"discount_type",value:h.discount_type,onChange:M,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${b.discount_type?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"time_limited",children:"Time Limited"}),t.jsx("option",{value:"quantity_based",children:"Quantity Based"})]}),b.discount_type&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.discount_type})]}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:h.status,onChange:M,required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:b.status})]}),h.discount_type==="time_limited"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(fe,{label:"Valid From",name:"valid_from",type:"date",value:h.valid_from,onChange:M,required:!0,error:b.valid_from}),t.jsx(fe,{label:"Valid Until",name:"valid_until",type:"date",value:h.valid_until,onChange:M,required:!0,error:b.valid_until})]}),h.discount_type==="quantity_based"&&t.jsx(fe,{label:"Total Quantity",name:"total_quantity",type:"number",value:h.total_quantity,onChange:M,required:!0,min:"1",placeholder:"e.g., 100",error:b.total_quantity}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?m&&(m.id||m.discount_code_id)?"Updating...":"Creating...":m&&(m.id||m.discount_code_id)?"Update Discount Code":"Create Discount Code"})]})]})}),t.jsx(la,{isOpen:f,onClose:()=>{y(!1),x(null)},onConfirm:$,title:"Delete Discount Code",message:`Are you sure you want to delete discount code "${m==null?void 0:m.code}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},FE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState("categories"),[n,i]=d.useState("categories"),[o,l]=d.useState([]),[c,p]=d.useState(!0),[u,f]=d.useState(!1),[y,m]=d.useState(!1),[x,h]=d.useState(null),[N,b]=d.useState({name:"",name_ar:"",description:"",status:"active"}),[g,j]=d.useState({}),[v,A]=d.useState(!1),[E,C]=d.useState([]),[z,k]=d.useState(!0),[M,q]=d.useState(!1),[w,$]=d.useState(!1),[F,_]=d.useState(null),[S,P]=d.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[D,I]=d.useState({}),[U,Y]=d.useState(!1);d.useEffect(()=>{V()},[]),d.useEffect(()=>(e("Categories"),s("View assigned categories and manage your own categories"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{r==="categories"&&n!=="categories"&&!c&&V(),i(r)},[r]);const V=async()=>{var J;try{p(!0);const ee={per_page:1e3},xe=await He.listCategories(ee);let je=[];xe!=null&&xe.data?je=Array.isArray(xe.data)?xe.data:[]:xe!=null&&xe.categories&&Array.isArray(xe.categories)?je=xe.categories:Array.isArray(xe)?je=xe:(console.warn("Unexpected API response structure:",xe),je=[]),je=je.map(G=>({...G,_searchText:[G.name,G.name_ar,G.description,G.status].filter(Boolean).join(" ").toLowerCase()})),l(je);const Ne=[];if(je.forEach(G=>{G.sub_categories&&Array.isArray(G.sub_categories)&&Ne.push(...G.sub_categories)}),je.length>0)await L();else if(Ne.length>0){const G=Ne.map(B=>({...B,_searchText:[B.name,B.name_ar,B.description,B.status].filter(Boolean).join(" ").toLowerCase()}));C(G),k(!1)}}catch(ee){console.error("Failed to load categories:",ee),console.error("Error details:",((J=ee.response)==null?void 0:J.data)||ee.message),l([])}finally{p(!1)}},R=(J=null)=>{J?(h(J),b({name:J.name||"",name_ar:J.name_ar||"",description:J.description||"",status:J.status||"active"})):(h(null),b({name:"",name_ar:"",description:"",status:"active"})),j({}),f(!0)},O=()=>{f(!1),h(null),b({name:"",name_ar:"",description:"",status:"active"}),j({})},W=J=>{b({...N,[J.target.name]:J.target.value}),j({})},K=async J=>{var ee,xe,je,Ne;J.preventDefault(),A(!0),j({});try{x?await He.updateCategory(x.id,N):await He.createCategory(N),await V(),O()}catch(G){(xe=(ee=G.response)==null?void 0:ee.data)!=null&&xe.errors?j(G.response.data.errors):(Ne=(je=G.response)==null?void 0:je.data)!=null&&Ne.message?j({general:G.response.data.message}):j({general:G.message||"Failed to save category"})}finally{A(!1)}},H=J=>{h(J),m(!0)},T=async()=>{var J,ee;try{await He.deleteCategory(x.id),await V()}catch(xe){alert("Failed to delete category: "+(((ee=(J=xe.response)==null?void 0:J.data)==null?void 0:ee.message)||xe.message||"Unknown error"))}m(!1),h(null)},L=async(J=null)=>{k(!0);try{const ee={per_page:1e3};J&&(ee.category_id=J);const xe=await He.listSubCategories(ee);let je=[];xe!=null&&xe.data?je=Array.isArray(xe.data)?xe.data:[]:xe!=null&&xe.sub_categories?je=Array.isArray(xe.sub_categories)?xe.sub_categories:[]:je=Array.isArray(xe)?xe:[],je=je.map(Ne=>{const G=o.find(B=>B.id===Ne.category_id);return{...Ne,_searchText:[Ne.name,Ne.name_ar,Ne.description,Ne.status,(G==null?void 0:G.name)||""].filter(Boolean).join(" ").toLowerCase()}}),C(je)}catch(ee){console.error("Failed to load sub categories:",ee),C([])}finally{k(!1)}};d.useEffect(()=>{r==="sub-categories"&&L()},[r]);const ie=(J=null)=>{J?(_(J),P({category_id:J.category_id||"",name:J.name||"",name_ar:J.name_ar||"",description:J.description||"",status:J.status||"active"})):(_(null),P({category_id:"",name:"",name_ar:"",description:"",status:"active"})),I({}),q(!0)},re=()=>{q(!1),_(null),P({category_id:"",name:"",name_ar:"",description:"",status:"active"}),I({})},le=J=>{P({...S,[J.target.name]:J.target.value}),I({})},pe=async J=>{var ee,xe,je,Ne;J.preventDefault(),Y(!0),I({});try{F?await He.updateSubCategory(F.id,S):await He.createSubCategory(S),await L(),re()}catch(G){(xe=(ee=G.response)==null?void 0:ee.data)!=null&&xe.errors?I(G.response.data.errors):(Ne=(je=G.response)==null?void 0:je.data)!=null&&Ne.message?I({general:G.response.data.message}):I({general:G.message||"Failed to save sub category"})}finally{Y(!1)}},oe=J=>{_(J),$(!0)},de=async()=>{var J,ee;try{await He.deleteSubCategory(F.id),await L()}catch(xe){alert("Failed to delete sub category: "+(((ee=(J=xe.response)==null?void 0:J.data)==null?void 0:ee.message)||xe.message||"Unknown error"))}$(!1),_(null)},ue=o.length,Z=o.filter(J=>J.status==="active").length,me=E.length,ve=E.filter(J=>J.status==="active").length,Pe=J=>J.created_by!=null&&J.created_by!==void 0&&J.created_by!==1,ke=J=>J.created_by!=null&&J.created_by!==void 0&&J.created_by!==1,te=d.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(J,ee)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:J||"N/A"}),ee.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:ee.name_ar})]})]})},{header:"Description",accessor:"description",sortable:!0,render:J=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:J||"-"})},{header:"Status",accessor:"status",sortable:!0,render:J=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${J==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:J?J.charAt(0).toUpperCase()+J.slice(1):"N/A"})},{header:"Type",accessor:"created_by",sortable:!1,render:(J,ee)=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Pe(ee)?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300"}`,children:Pe(ee)?"Created by Me":"Assigned by Admin"}),ee.sub_categories&&ee.sub_categories.length>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:[ee.sub_categories.length," sub-categor",ee.sub_categories.length===1?"y":"ies"]})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(J,ee)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:xe=>xe.stopPropagation(),children:[t.jsx("button",{onClick:()=>R(ee),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Pe(ee)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Pe(ee)?"Edit Category":"Cannot edit - Assigned by Admin",disabled:!Pe(ee),children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:()=>H(ee),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Pe(ee)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Pe(ee)?"Delete Category":"Cannot delete - Assigned by Admin",disabled:!Pe(ee),children:t.jsx(ar,{size:16})})]})}],[R,H]),ae=d.useMemo(()=>[{header:"Sub Category",accessor:"name",sortable:!0,render:(J,ee)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:J||"N/A"}),ee.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:ee.name_ar})]})]})},{header:"Category",accessor:"category_id",sortable:!0,render:(J,ee)=>{const xe=o.find(je=>je.id===J);return t.jsx("div",{className:"text-sm text-gray-600",children:xe?xe.name:`Category ID: ${J}`})}},{header:"Status",accessor:"status",sortable:!0,render:J=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${J==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:J?J.charAt(0).toUpperCase()+J.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(J,ee)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:xe=>xe.stopPropagation(),children:[t.jsx("button",{onClick:()=>ie(ee),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ke(ee)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ke(ee)?"Edit Sub Category":"Cannot edit - Created by Admin",disabled:!ke(ee),children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:()=>oe(ee),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ke(ee)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ke(ee)?"Delete Sub Category":"Cannot delete - Created by Admin",disabled:!ke(ee),children:t.jsx(ar,{size:16})})]})}],[o,ie,oe]),ce=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:J=>J.status==="active"},{value:"inactive",label:"Inactive",filterFn:J=>J.status==="inactive"}],[]),se=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:J=>J.status==="active"},{value:"inactive",label:"Inactive",filterFn:J=>J.status==="inactive"}],[]);return c&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:4},className:"mb-6",children:[t.jsx(gt,{name:"Total Categories",value:ue,icon:Be,colorType:"indigo",isActive:r==="categories",onClick:()=>a("categories")}),t.jsx(gt,{name:"Active Categories",value:Z,icon:Be,colorType:"green",isActive:r==="categories",onClick:()=>a("categories")}),t.jsx(gt,{name:"Sub Categories",value:me,icon:hr,colorType:"blue",isActive:r==="sub-categories",onClick:()=>a("sub-categories")}),t.jsx(gt,{name:"Active Sub Categories",value:ve,icon:hr,colorType:"purple",isActive:r==="sub-categories",onClick:()=>a("sub-categories")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Be,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(hr,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ze,{onClick:()=>V(),icon:t.jsx(uv,{size:20}),variant:"outline",disabled:c,loading:c,title:"Refresh categories list",children:"Refresh"}),t.jsx(Ze,{onClick:()=>R(),icon:t.jsx(Rs,{size:20}),children:"Add Category"})]})]}),t.jsx($t,{columns:te,data:o,isLoading:c,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:ce,defaultFilter:"all",sortable:!0,emptyMessage:"No categories found. Create your first category to get started!"})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Ze,{onClick:()=>ie(),icon:t.jsx(Rs,{size:20}),children:"Add Sub Category"})]}),t.jsx($t,{columns:ae,data:E,isLoading:z,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:se,defaultFilter:"all",sortable:!0,emptyMessage:"No sub categories found. Create your first sub category to get started!"})]}),t.jsx($e,{isOpen:u,onClose:O,title:x?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:K,className:"space-y-4",children:[t.jsx(fe,{label:"Category Name (English)",name:"name",value:N.name,onChange:W,required:!0,error:g.name}),t.jsx(fe,{label:"Category Name (Arabic)",name:"name_ar",value:N.name_ar,onChange:W,error:g.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:N.description,onChange:W,textarea:!0,rows:3,error:g.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:N.status,onChange:W,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:g.status}),g.general&&t.jsx("p",{className:"text-sm text-red-600",children:g.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Ze,{type:"submit",disabled:v,loading:v,fullWidth:!0,children:x?"Update":"Create"})]})]})}),t.jsx(la,{isOpen:y,onClose:()=>{m(!1),h(null)},onConfirm:T,title:"Delete Category",message:`Are you sure you want to delete "${x==null?void 0:x.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx($e,{isOpen:M,onClose:re,title:F?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[t.jsx(fe,{label:"Category",name:"category_id",type:"select",value:S.category_id,onChange:le,required:!0,options:o.filter(J=>J.id).map(J=>({value:J.id,label:J.name||`Category ${J.id}`})),error:D.category_id}),t.jsx(fe,{label:"Sub Category Name (English)",name:"name",value:S.name,onChange:le,required:!0,error:D.name}),t.jsx(fe,{label:"Sub Category Name (Arabic)",name:"name_ar",value:S.name_ar,onChange:le,error:D.name_ar}),t.jsx(fe,{label:"Description",name:"description",value:S.description,onChange:le,textarea:!0,rows:3,error:D.description}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:S.status,onChange:le,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:D.status}),D.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:D.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:re,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Ze,{type:"submit",disabled:U,loading:U,fullWidth:!0,children:F?"Update":"Create"})]})]})}),t.jsx(la,{isOpen:w,onClose:()=>{$(!1),_(null)},onConfirm:de,title:"Delete Sub Category",message:`Are you sure you want to delete "${F==null?void 0:F.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},IE=()=>{var $,F,_,S;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(null),[o,l]=d.useState(!0),[c,p]=d.useState(!1),[u,f]=d.useState(null),[y,m]=d.useState("all"),[x,h]=d.useState(!1),N=d.useRef(null);d.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{b()},[]),d.useEffect(()=>{const P=D=>{N.current&&!N.current.contains(D.target)&&h(!1)};return x&&document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[x]);const b=async()=>{var P,D;l(!0);try{const I={per_page:1e3},U=await He.getPaymentTransactions(I),Y=(U==null?void 0:U.data)||U||[],V=(U==null?void 0:U.summary)||null;let R=Array.isArray(Y)?Y:(Y==null?void 0:Y.data)||[];R=R.map(O=>{var W,K;return{...O,_searchText:[O.transaction_type,O.amount,O.currency,O.status,O.description,(W=O.payer)==null?void 0:W.name,(K=O.payee)==null?void 0:K.name].filter(Boolean).join(" ").toLowerCase()}}),a(R),i(V)}catch(I){console.error("Failed to load transactions:",I),(D=(P=I==null?void 0:I.response)==null?void 0:P.data)!=null&&D.message||I!=null&&I.message,console.error("Error details:",I),a([]),i(null)}finally{l(!1)}},g=P=>{f(P),p(!0)},j=(P,D="USD")=>`${parseFloat(P||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${D}`,v=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",A=P=>P?new Date(P).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",E=P=>{switch(P){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},C=P=>(P==null?void 0:P.split("_").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" "))||"N/A",z=P=>P.payee&&P.payee.type==="acc",k=d.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(P,D)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-3 ${z(D)?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:z(D)?t.jsx(Jm,{className:"h-5 w-5 text-green-600"}):t.jsx(Dc,{className:"h-5 w-5 text-red-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:C(P)})})]})},{header:"Payer",accessor:"payer",sortable:!0,render:P=>P?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:P.type==="acc"||P.type==="training_center"?t.jsx(Ie,{className:"h-4 w-4 text-blue-600"}):t.jsx(Ts,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:P.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:P=>P?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:P.type==="acc"||P.type==="training_center"?t.jsx(Ie,{className:"h-4 w-4 text-green-600"}):t.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:P.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Total Amount",accessor:"amount",sortable:!0,render:(P,D)=>t.jsxs("div",{className:`text-sm font-semibold ${z(D)?"text-green-700":"text-red-700"}`,children:[z(D)?"+":"-"," ",j(P,D.currency)]})},{header:"Received",accessor:"provider_amount",sortable:!0,render:(P,D)=>{const I=P||D.received_amount;return I?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["+ ",j(I,D.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}},{header:"Commission",accessor:"commission_amount",sortable:!0,render:(P,D)=>P?t.jsxs("div",{className:"text-sm font-semibold text-amber-700",children:["- ",j(P,D.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:P=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${E(P)}`,children:P?P.charAt(0).toUpperCase()+P.slice(1):"N/A"})},{header:"Date",accessor:"created_at",sortable:!0,render:P=>t.jsx("div",{className:"text-sm text-gray-600",children:v(P)})},{header:"Actions",accessor:"actions",sortable:!1,render:(P,D)=>t.jsx("div",{className:"flex items-center gap-2",onClick:I=>I.stopPropagation(),children:t.jsx("button",{onClick:()=>g(D),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})})})}],[]),M=d.useMemo(()=>y==="all"?r:r.filter(P=>P.transaction_type===y),[r,y]),q=d.useMemo(()=>[{value:"all",label:"All Types"},{value:"subscription",label:"Subscription"},{value:"code_purchase",label:"Code Purchase"},{value:"material_purchase",label:"Material Purchase"},{value:"course_purchase",label:"Course Purchase"},{value:"commission",label:"Commission"},{value:"settlement",label:"Settlement"}],[]),w=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"completed",label:"Completed",filterFn:P=>P.status==="completed"},{value:"pending",label:"Pending",filterFn:P=>P.status==="pending"},{value:"failed",label:"Failed",filterFn:P=>P.status==="failed"},{value:"refunded",label:"Refunded",filterFn:P=>P.status==="refunded"}],[]);return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:3},className:"mb-6",children:[t.jsx(gt,{name:"Total Transactions",value:n.total_transactions||0,icon:yr,colorType:"indigo"}),t.jsx(gt,{name:"Total Received",value:j(n.total_received||0),icon:Jm,colorType:"green"}),t.jsx(gt,{name:"Total Paid",value:j(n.total_paid||0),icon:Dc,colorType:"red"})]}),t.jsxs("div",{children:[t.jsx("style",{children:`
          .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
          }
          .payment-transactions-filters-wrapper .data-table-search-input-wrapper {
            flex: 1;
            min-width: 200px;
          }
          .payment-transactions-filters-wrapper .data-table-filter-wrapper {
            flex-shrink: 0;
          }
          @media (max-width: 640px) {
            .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
              flex-direction: column;
            }
            .payment-transactions-filters-wrapper .data-table-filter-wrapper {
              width: 100%;
            }
          }
        `}),t.jsx("div",{className:"payment-transactions-filters-wrapper",children:t.jsx($t,{columns:k,data:M,isLoading:o,searchable:!0,searchPlaceholder:"Search transactions...",filterable:!0,filterOptions:w,defaultFilter:"all",sortable:!0,emptyMessage:"No transactions found",onView:g,customFilters:t.jsxs("div",{className:"data-table-filter-wrapper",ref:N,children:[t.jsxs("button",{onClick:()=>h(!x),className:`data-table-filter-button ${y!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(fs,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:(($=q.find(P=>P.value===y))==null?void 0:$.label)||"All Types"})]}),x&&t.jsx("div",{className:"data-table-filter-dropdown",children:q.map(P=>t.jsx("button",{onClick:()=>{m(P.value),h(!1)},className:`data-table-filter-option ${y===P.value?"data-table-filter-option-active":""}`,children:P.label},P.value))})]})})})]}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),f(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:C(u.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${E(u.status)}`,children:((F=u.status)==null?void 0:F.charAt(0).toUpperCase())+((_=u.status)==null?void 0:_.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),t.jsxs("p",{className:`text-2xl font-bold ${z(u)?"text-green-700":"text-red-700"}`,children:[z(u)?"+":"-"," ",j(u.amount,u.currency)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((S=u.payment_method)==null?void 0:S.replace("_"," "))||"N/A"})]}),u.provider_amount||u.received_amount?t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount Received"}),t.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["+ ",j(u.provider_amount||u.received_amount,u.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount you received after commission"})]}):null,u.commission_amount?t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Platform Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["- ",j(u.commission_amount,u.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Commission deducted from total amount"})]}):null,u.payment_type&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:u.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]})]}),u.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ie,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:u.description})]}),u.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:u.reference.type})]}),u.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(u.reference.details,null,2)})})]})]}),u.commission_ledgers&&u.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:u.commission_ledgers.map((P,D)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[P.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:P.acc.name})]}),P.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:P.training_center.name})]}),P.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[j(P.group_commission_amount)," (",P.group_commission_percentage,"%)"]})]}),P.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[j(P.acc_commission_amount)," (",P.acc_commission_percentage,"%)"]})]})]})},P.id||D))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:A(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:A(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:u.payment_gateway_transaction_id})]})]})})]})},LE=()=>{var A,E;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState(!1),[c,p]=d.useState(null),[u,f]=d.useState("all");d.useEffect(()=>(e("Classes"),s("View all classes from authorized training centers"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{y()},[u]);const y=async()=>{i(!0);try{const C={per_page:1e3},z=await He.listClasses(C),k=(z==null?void 0:z.data)||z||[];a(Array.isArray(k)?k:(k==null?void 0:k.data)||[])}catch(C){console.error("Failed to load classes:",C),a([])}finally{i(!1)}},m=d.useCallback(async C=>{try{const z=await He.getClassDetails(C.id);p(z.class||z),l(!0)}catch(z){console.error("Failed to load class details:",z),p(C),l(!0)}},[]),x=d.useCallback(C=>{m(C)},[]),h=d.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(C,z)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Xt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(C==null?void 0:C.name)||"N/A"}),(C==null?void 0:C.code)&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",C.code]})]})]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:C=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Ie,{className:"h-4 w-4 text-blue-600"})}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(C==null?void 0:C.name)||"N/A"})]})},{header:"Instructor",accessor:"instructor",sortable:!0,render:C=>C?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${C.first_name||""} ${C.last_name||""}`.trim()||"N/A"}),C.email&&t.jsx("div",{className:"text-xs text-gray-500",children:C.email})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Schedule",accessor:"start_date",sortable:!0,render:(C,z)=>t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(et,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:b(C)})]}),z.end_date&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["to ",b(z.end_date)]})]})},{header:"Location",accessor:"location",sortable:!0,render:(C,z)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:v(C)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:C||"N/A"}),z.location_details&&t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:z.location_details})]})]})},{header:"Capacity",accessor:"enrolled_count",sortable:!0,render:(C,z)=>{var k,M;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[C||0," / ",((k=z.course)==null?void 0:k.max_capacity)||"N/A"]}),((M=z.course)==null?void 0:M.max_capacity)&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((C||0)/z.course.max_capacity*100),"% full"]})]})]})}},{header:"Status",accessor:"status",sortable:!0,render:C=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${j(C)}`,children:C?C.charAt(0).toUpperCase()+C.slice(1).replace("_"," "):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(C,z)=>t.jsx("div",{className:"flex items-center gap-2",onClick:k=>k.stopPropagation(),children:t.jsx("button",{onClick:()=>m(z),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ut,{size:16})})})}],[m]),N=d.useMemo(()=>{let C=[...r];return u!=="all"&&(C=C.filter(z=>z.status===u)),C=C.map(z=>{var k,M,q,w,$,F,_,S;return{...z,_searchText:`${((k=z.course)==null?void 0:k.name)||""} ${((M=z.course)==null?void 0:M.code)||""} ${((q=z.course)==null?void 0:q.name_ar)||""} ${((w=z.training_center)==null?void 0:w.name)||""} ${(($=z.training_center)==null?void 0:$.email)||""} ${((F=z.instructor)==null?void 0:F.first_name)||""} ${((_=z.instructor)==null?void 0:_.last_name)||""} ${((S=z.instructor)==null?void 0:S.email)||""} ${z.location||""} ${z.location_details||""} ${z.status||""}`.toLowerCase()}}),C},[r,u]),b=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",g=C=>C?new Date(C).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",j=C=>{switch(C){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"in_progress":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"scheduled":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"cancelled":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},v=C=>{switch(C){case"online":return"";case"hybrid":return"";default:return""}};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx($t,{columns:h,data:N,isLoading:n,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search classes...",emptyMessage:"No classes found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:C=>C.status==="scheduled"},{value:"in_progress",label:"In Progress",filterFn:C=>C.status==="in_progress"},{value:"completed",label:"Completed",filterFn:C=>C.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:C=>C.status==="cancelled"}],defaultFilter:u,onRowClick:C=>x(C)})}),t.jsx($e,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Class Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Zt,{className:"mr-2",size:20}),"Class Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${j(c.status)}`,children:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1).replace("_"," "):"N/A"})]}),c.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g(c.created_at)})]}),c.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g(c.updated_at)})]})]})]}),c.course&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Xt,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name||"N/A"})]}),c.course.code&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.code})]}),c.course.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name_ar})]}),c.course.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.duration_hours," hours"]})]}),c.course.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:c.course.level})]}),c.course.max_capacity&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.max_capacity," trainees"]})]}),c.course.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${c.course.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:c.course.status.charAt(0).toUpperCase()+c.course.status.slice(1)})]}),c.course.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:c.course.description})]}),c.course.sub_category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.sub_category.name||"N/A"}),c.course.sub_category.category&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",c.course.sub_category.category.name||"N/A"]})]})]})]}),c.training_center&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ie,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.name||"N/A"})]}),c.training_center.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.email})]}),c.training_center.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.phone})]}),c.training_center.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(aa,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:c.training_center.website.startsWith("http")?c.training_center.website:`https://${c.training_center.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:c.training_center.website})]}),c.training_center.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.address})]}),c.training_center.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.city})]}),c.training_center.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.country})]})]})]}),c.instructor&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ts,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.last_name||"N/A"})]}),c.instructor.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.email})]}),c.instructor.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.phone})]}),c.instructor.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.country})]}),c.instructor.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.city})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(et,{className:"mr-2",size:20}),"Schedule Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Start Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_date?g(c.start_date):"N/A"})]}),c.end_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"End Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g(c.end_date)})]}),c.start_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Start Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_time})]}),c.end_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"End Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.end_time})]})]}),c.schedule_json&&Object.keys(c.schedule_json).length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Weekly Schedule"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.schedule_json).map(([C,z])=>t.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[t.jsxs("span",{className:"font-semibold text-gray-900 capitalize",children:[C,":"]}),t.jsx("span",{className:"text-gray-700 ml-2",children:z})]},C))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location & Capacity"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(vt,{size:14}),"Location Type"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:c.location||"N/A"}),c.location_details&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location Details"}),t.jsx("p",{className:"text-sm text-gray-700",children:c.location_details})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(nt,{size:14}),"Capacity"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.enrolled_count||0," / ",((A=c.course)==null?void 0:A.max_capacity)||"N/A"]}),((E=c.course)==null?void 0:E.max_capacity)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all",style:{width:`${Math.min((c.enrolled_count||0)/c.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((c.enrolled_count||0)/c.course.max_capacity*100),"% full"]})]})]})]})]}),c.trainees&&Array.isArray(c.trainees)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(nt,{className:"mr-2",size:20}),"Trainees (",c.trainees.length,")"]}),c.trainees.length===0?t.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 text-center",children:[t.jsx(nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No trainees enrolled in this class"})]}):t.jsx("div",{className:"space-y-2",children:c.trainees.map((C,z)=>{const k=C.profile_image_url||C.avatar_url||C.id_image_url||null,M=k?k.startsWith("http")?k:`https://aeroenix.com/v1/api${k}`:null;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-gray-100 transition-all",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[M?t.jsx("img",{src:M,alt:`${C.first_name} ${C.last_name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200",onError:q=>{q.target.style.display="none",q.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-2 border-primary-200 ${M?"hidden":""}`,children:t.jsx(Ts,{className:"h-5 w-5 text-primary-600"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[C.first_name," ",C.last_name]}),C.id_number&&t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",C.id_number]})]})]})},C.id||z)})})]})]})})]})},ME=({onSubmit:e,onCancel:s,submitting:r=!1,initialData:a={documents:[],additional_info:""}})=>{const[n,i]=d.useState(a),[o,l]=d.useState({}),c=()=>{const b={};if(n.documents.length===0)return b.general="Please upload at least one document",b;if(n.documents.forEach((g,j)=>{if((!g.type||g.type.trim()==="")&&(b[`documents.${j}.type`]="Document type is required"),!g.file)b[`documents.${j}.file`]="Please upload a file";else{const v=c0(g.file,{required:!0,maxSize:10485760,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});v&&(b[`documents.${j}.file`]=v)}}),n.additional_info){const g=EE(n.additional_info,5e3,"Additional information");g&&(b.additional_info=g)}return b},p=async b=>{b.preventDefault();const g=c();if(Object.keys(g).length>0){l(g);return}e&&await e(n,l)},u=()=>{i({...n,documents:[...n.documents,{type:"",file:null}]})},f=b=>{i({...n,documents:n.documents.filter((j,v)=>v!==b)});const g={...o};Object.keys(g).forEach(j=>{j.startsWith(`documents.${b}.`)&&delete g[j]}),l(g)},y=(b,g,j)=>{const v=[...n.documents];if(v[b]={...v[b],[g]:j},i({...n,documents:v}),o[`documents.${b}.${g}`]){const A={...o};delete A[`documents.${b}.${g}`],l(A)}},m=(b,g)=>{if(!g)return;const j=c0(g,{required:!0,maxSize:10*1024*1024,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});if(j){l({...o,[`documents.${b}.file`]:j});return}const v=[...n.documents];if(v[b]={...v[b],file:g,fileName:g.name,fileSize:g.size,fileType:g.type},i({...n,documents:v}),o[`documents.${b}.file`]){const A={...o};delete A[`documents.${b}.file`],l(A)}},x=b=>{const g=[...n.documents];g[b]={...g[b],file:null,fileName:"",fileSize:null,fileType:null},i({...n,documents:g});const j=document.getElementById(`file-upload-${b}`);if(j&&(j.value=""),o[`documents.${b}.file`]){const v={...o};delete v[`documents.${b}.file`],l(v)}},h=b=>{if(i({...n,additional_info:b.target.value}),o.additional_info){const g={...o};delete g.additional_info,l(g)}},N=()=>{i(a),l({}),s&&s()};return t.jsxs("div",{className:"relative",children:[r&&t.jsx("div",{className:"authorization-request-form-overlay",children:t.jsxs("div",{className:"authorization-request-form-overlay-content",children:[t.jsx(Kg,{size:32,className:"authorization-request-form-spinner"}),t.jsx("p",{className:"authorization-request-form-overlay-text",children:"Uploading files and submitting request..."}),t.jsx("p",{className:"authorization-request-form-overlay-hint",children:"Please wait, this may take a moment"})]})}),t.jsxs("form",{onSubmit:p,className:"authorization-request-form",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"authorization-request-form-section-header",children:[t.jsxs("h3",{className:"authorization-request-form-section-title",children:[t.jsx(Be,{size:20,className:"authorization-request-form-section-title-icon"}),"Documents"]}),t.jsxs("button",{type:"button",onClick:u,disabled:r,className:"authorization-request-form-button-add",children:[t.jsx(Rs,{size:16,className:"authorization-request-form-button-add-icon"}),"Add Document"]})]}),n.documents.length===0?t.jsxs("div",{className:"authorization-request-form-warning-box",children:[t.jsx("p",{className:"authorization-request-form-warning-text",children:"No documents added"}),t.jsx("p",{className:"authorization-request-form-warning-hint",children:'At least one document is required. Click "Add Document" to add one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.documents.map((b,g)=>t.jsxs("div",{className:"authorization-request-form-document-item",children:[t.jsxs("div",{className:"authorization-request-form-document-header",children:[t.jsxs("span",{className:"authorization-request-form-document-number",children:["Document ",g+1]}),t.jsx("button",{type:"button",onClick:()=>f(g),disabled:r,className:"authorization-request-form-document-remove",title:"Remove document",children:t.jsx(ar,{size:16})})]}),t.jsxs("div",{className:"authorization-request-form-document-grid",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Document Type ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"})]}),t.jsxs("select",{value:b.type||"",onChange:j=>y(g,"type",j.target.value),required:!0,disabled:r,className:`authorization-request-form-select ${o[`documents.${g}.type`]?"error":""}`,children:[t.jsx("option",{value:"",children:"Select document type"}),t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"other",children:"Other"})]}),o[`documents.${g}.type`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${g}.type`]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Upload Document ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"}),t.jsx("span",{className:"authorization-request-form-label-hint",children:"(PDF, DOC, DOCX, JPG, JPEG, PNG - Max 10MB)"})]}),t.jsxs("div",{className:"authorization-request-form-file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/png",onChange:j=>{var A;const v=(A=j.target.files)==null?void 0:A[0];v&&m(g,v)},disabled:r,className:"authorization-request-form-file-upload-input",id:`file-upload-${g}`}),t.jsx("label",{htmlFor:`file-upload-${g}`,className:`authorization-request-form-file-upload-label ${r?"disabled":b.file?"has-file":"empty"}`,children:b.file?t.jsxs(t.Fragment,{children:[t.jsx(De,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-success",children:b.fileName||"File selected"}),b.fileSize&&t.jsxs("span",{className:"authorization-request-form-file-upload-size",children:["(",(b.fileSize/1024/1024).toFixed(2)," MB)"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Jr,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-default",children:"Click to upload file"})]})})]}),o[`documents.${g}.file`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${g}.file`]}),b.file&&t.jsx("div",{className:"authorization-request-form-file-remove",children:t.jsx("button",{type:"button",onClick:()=>x(g),disabled:r,className:"authorization-request-form-file-remove-button",children:"Remove File"})})]})]})]},g))})]}),t.jsx(fe,{label:"Additional Information",name:"additional_info",value:n.additional_info,onChange:h,textarea:!0,rows:4,placeholder:"Provide any additional information about your training center...",error:o.additional_info,disabled:r,helpText:"Maximum 5000 characters"}),o.general&&t.jsxs("div",{className:"authorization-request-form-error-box",children:[t.jsx("p",{className:"authorization-request-form-error-text",children:o.general}),o.hint&&t.jsx("p",{className:"authorization-request-form-error-hint",children:o.hint})]}),t.jsxs("div",{className:"authorization-request-form-actions",children:[t.jsx("button",{type:"button",onClick:N,disabled:r,className:"authorization-request-form-button authorization-request-form-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:r,className:"authorization-request-form-button authorization-request-form-button-submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx(Kg,{size:16,className:"authorization-request-form-button-spinner"}),"Uploading & Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lc,{size:16,className:"authorization-request-form-button-icon"}),"Submit Request"]})})]})]})]})},rs=({label:e,value:s,icon:r,fullWidth:a=!1,children:n})=>t.jsxs("div",{className:`detail-item ${a?"detail-item-full":""}`,children:[t.jsxs("p",{className:`detail-label ${r?"detail-label-with-icon":""}`,children:[r&&t.jsx(r,{size:16,className:"detail-label-icon"}),e]}),n||t.jsx("p",{className:"detail-value",children:s||"N/A"})]}),Yu=({children:e})=>t.jsx("div",{className:"detail-grid",children:e}),Qu=({title:e,content:s,icon:r,variant:a="blue",showHeader:n=!1})=>t.jsx("div",{className:`info-box info-box-${a}`,children:n&&r?t.jsxs("div",{className:"info-box-header",children:[t.jsx(r,{className:`info-box-icon info-box-icon-${a}`}),t.jsxs("div",{className:"info-box-content-wrapper",children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})}),OE=({document:e,index:s})=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-content",children:[t.jsx(Be,{size:20,className:"document-icon"}),t.jsxs("div",{className:"document-info",children:[t.jsx("p",{className:"document-name",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):`Document ${s+1}`}),e.file_name&&t.jsx("p",{className:"document-filename",children:e.file_name})]})]}),e.file_url&&t.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"document-download",title:"Download document",children:t.jsx(Ic,{size:18})})]}),UE=({documents:e,title:s="Documents"})=>!e||e.length===0?null:t.jsxs("div",{children:[t.jsxs("p",{className:"documents-header",children:[t.jsx(Be,{size:18,className:"documents-header-icon"}),s]}),t.jsx("div",{className:"documents-list",children:e.map((r,a)=>t.jsx(OE,{document:r,index:a},a))})]}),d0=({status:e,variant:s="detail"})=>{const r={active:{badgeClass:s==="detail"?"status-badge-detail-active":"status-badge-active",icon:De},approved:{badgeClass:s==="detail"?"status-badge-detail-approved":"status-badge-approved",icon:De},rejected:{badgeClass:s==="detail"?"status-badge-detail-rejected":"status-badge-rejected",icon:ot},pending:{badgeClass:s==="detail"?"status-badge-detail-pending":"status-badge-pending",icon:Ve},returned:{badgeClass:s==="detail"?"status-badge-detail-returned":"status-badge-returned",icon:Ve}},a=r[e]||r.pending,n=a.icon;return t.jsxs("span",{className:`status-badge ${a.badgeClass}`,children:[s==="detail"&&t.jsx(n,{size:14,className:"status-badge-icon"}),e?e.charAt(0).toUpperCase()+e.slice(1):"N/A"]})},BE=()=>{var R,O,W;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState([]),[o,l]=d.useState(!0),[c,p]=d.useState("available"),[u,f]=d.useState(0),[y,m]=d.useState(0),[x,h]=d.useState(!1),[N,b]=d.useState(!1),[g,j]=d.useState(null),[v,A]=d.useState(null),[E,C]=d.useState(!1),[z,k]=d.useState({documents:[],additional_info:""}),[M,q]=d.useState({}),[w,$]=d.useState(!1),F=d.useCallback(async()=>{try{l(!0);const K=await Ue.listACCs({per_page:1e3});let H=[];if(K!=null&&K.data?H=Array.isArray(K.data)?K.data:[]:K!=null&&K.accs?H=Array.isArray(K.accs)?K.accs:[]:Array.isArray(K)&&(H=K),a(H),K){const T=K.total||H.length;f(T)}}catch(K){console.error("Failed to load ACCs:",K)}finally{l(!1)}},[]),_=d.useCallback(async()=>{try{l(!0);const K=await Ue.getAuthorizationStatus({per_page:1e3});let H=[];if(K!=null&&K.data?H=Array.isArray(K.data)?K.data:[]:K!=null&&K.authorizations?H=Array.isArray(K.authorizations)?K.authorizations:[]:Array.isArray(K)&&(H=K),i(H),K){const T=K.total||H.length;m(T)}}catch(K){console.error("Failed to load authorizations:",K)}finally{l(!1)}},[]);d.useEffect(()=>{F(),_()},[F,_]),d.useEffect(()=>(e("Accreditation Bodies"),s("Browse and request authorization from Accreditation Bodies"),()=>{e(null),s(null)}),[e,s]);const S=K=>{p(K)},P=d.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(K,H)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Ie,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:K||"N/A"})})]})},{header:"Email",accessor:"email",sortable:!0,render:K=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Pt,{className:"accs-table-row-email-icon"}),K||"N/A"]})},{header:"Country",accessor:"country",sortable:!0,render:K=>t.jsx("span",{className:"accs-table-row-text",children:K||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:K=>t.jsx("span",{className:`accs-status-badge ${K==="active"?"accs-status-badge-active":"accs-status-badge-default"}`,children:K?K.charAt(0).toUpperCase()+K.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(K,H)=>t.jsxs("div",{className:"accs-action-buttons",onClick:T=>T.stopPropagation(),children:[t.jsx("button",{onClick:()=>Y(H),className:"accs-action-button accs-action-button-primary",title:"View Details",children:t.jsx(Ut,{size:16})}),H.status==="active"?t.jsx("button",{onClick:T=>{T.stopPropagation(),I(H)},className:"accs-action-button accs-action-button-green",title:"Request Authorization",children:t.jsx(Lc,{size:16})}):t.jsx("button",{onClick:T=>{T.stopPropagation(),Y(H)},className:"accs-action-button accs-action-button-blue",title:"View Info",children:t.jsx(Ut,{size:16})})]})}],[]),D=d.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:K=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Ie,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:(K==null?void 0:K.name)||"N/A"})})]})},{header:"Email",accessor:"acc",sortable:!0,render:K=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Pt,{className:"accs-table-row-email-icon"}),(K==null?void 0:K.email)||"N/A"]})},{header:"Country",accessor:"acc",sortable:!0,render:K=>t.jsx("span",{className:"accs-table-row-text",children:(K==null?void 0:K.country)||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:K=>{const H={approved:{badgeClass:"accs-status-badge-approved",icon:De},rejected:{badgeClass:"accs-status-badge-rejected",icon:ot},pending:{badgeClass:"accs-status-badge-pending",icon:Ve},returned:{badgeClass:"accs-status-badge-returned",icon:Ve}},T=H[K]||H.pending,L=T.icon;return t.jsxs("span",{className:`accs-status-badge ${T.badgeClass}`,children:[t.jsx(L,{size:14,className:"accs-status-badge-icon"}),K||"N/A"]})}},{header:"Request Date",accessor:"request_date",sortable:!0,render:K=>t.jsx("span",{className:"accs-table-row-text",children:K?new Date(K).toLocaleDateString():"N/A"})},{header:"Reviewed At",accessor:"reviewed_at",sortable:!0,render:K=>t.jsx("span",{className:"accs-table-row-text",children:K?new Date(K).toLocaleDateString():"Pending"})}],[]),I=K=>{j(K),k({documents:[],additional_info:""}),q({}),h(!0)},U=async(K,H)=>{var T,L,ie,re;$(!0),H&&H({});try{const le=new FormData;K.documents.forEach((oe,de)=>{le.append(`documents[${de}][type]`,oe.type),le.append(`documents[${de}][file]`,oe.file)}),K.additional_info&&le.append("additional_info",K.additional_info);const pe=await Ue.requestAuthorization(g.id,le);await Promise.all([F(),_()]),h(!1),k({documents:[],additional_info:""}),alert("Authorization request submitted successfully!")}catch(le){if(H)if(le.response){const pe=le.response.status,oe=le.response.data;pe===400&&((T=oe.message)!=null&&T.includes("already exists")||(L=oe.message)!=null&&L.includes("already been submitted"))?H({general:"An authorization request for this ACC already exists. Please check your existing authorizations."}):pe===422&&((ie=oe.message)!=null&&ie.includes("No valid documents")||(re=oe.message)!=null&&re.includes("documents uploaded"))?H({general:"No valid documents uploaded. Please ensure files are uploaded correctly.",hint:"Use FormData with structure: documents[0][type]=license&documents[0][file]=<file>"}):pe===422&&oe.errors?H(oe.errors):pe===422&&oe.message?H({general:oe.message}):pe===500?H({general:"Server error occurred. Please try again later or contact support if the problem persists."}):oe.message?H({general:oe.message}):H({general:"Failed to submit request. Please try again."})}else le.errors?H(le.errors):le.message?H({general:le.message||"Failed to submit request"}):H({general:"Failed to submit request. Please try again."})}finally{$(!1)}},Y=K=>{j(K),b(!0)},V=K=>{A(K),C(!0)};return o?t.jsx(Wo,{}):t.jsxs("div",{className:"accs-container",children:[t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:2},children:[t.jsx(gt,{name:"Available Accreditation",value:u,icon:Ie,colorType:"indigo",isActive:c==="available",onClick:()=>S("available")}),t.jsx(gt,{name:"My Authorizations",value:y,icon:De,colorType:"blue",isActive:c==="authorizations",onClick:()=>S("authorizations")})]}),o?t.jsx("div",{className:"accs-table-container",children:t.jsx(Wo,{})}):c==="available"?t.jsx("div",{className:"accs-table-container",children:t.jsx($t,{columns:P,data:r,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by name, email, or country...",emptyMessage:"No ACCs found",onRowClick:K=>Y(K)})}):t.jsx("div",{className:"accs-table-container",children:t.jsx($t,{columns:D,data:n,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by ACC name or status...",emptyMessage:"No authorization requests found",onView:K=>V(K),onRowClick:K=>V(K)})}),t.jsx($e,{isOpen:x,onClose:()=>{w||(h(!1),j(null),k({documents:[],additional_info:""}),q({}))},title:`Request Authorization from ${g==null?void 0:g.name}`,size:"lg",children:t.jsx(ME,{onSubmit:U,onCancel:()=>{h(!1),j(null),k({documents:[],additional_info:""}),q({})},submitting:w,initialData:z})}),t.jsx($e,{isOpen:N,onClose:()=>{b(!1),j(null)},title:"ACC Details",size:"lg",children:g&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(Yu,{children:[g.id&&t.jsx(rs,{label:"ID",value:g.id}),t.jsx(rs,{label:"Name",value:g.name}),t.jsx(rs,{label:"Email",value:g.email,icon:Pt}),g.phone&&t.jsx(rs,{label:"Phone",value:g.phone}),g.country&&t.jsx(rs,{label:"Country",value:g.country}),g.address&&t.jsx(rs,{label:"Address",value:g.address}),g.website&&t.jsx(rs,{label:"Website",children:t.jsx("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"accs-detail-link",children:g.website})}),t.jsx(rs,{label:"Status",children:t.jsx(d0,{status:g.status,variant:"detail"})}),g.description&&t.jsx(rs,{label:"Description",value:g.description,fullWidth:!0}),g.created_at&&t.jsx(rs,{label:"Created At",value:new Date(g.created_at).toLocaleString()}),g.updated_at&&t.jsx(rs,{label:"Updated At",value:new Date(g.updated_at).toLocaleString()})]}),g.status==="active"&&t.jsx("div",{className:"accs-detail-actions",children:t.jsxs("button",{onClick:()=>{b(!1),I(g)},className:"accs-detail-button",children:[t.jsx(Lc,{size:20,className:"accs-detail-button-icon"}),"Request Authorization"]})})]})}),t.jsx($e,{isOpen:E,onClose:()=>{C(!1),A(null)},title:"Authorization Request Details",size:"lg",children:v&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(Yu,{children:[t.jsx(rs,{label:"ACC Name",value:(R=v.acc)==null?void 0:R.name}),t.jsx(rs,{label:"Email",value:(O=v.acc)==null?void 0:O.email,icon:Pt}),((W=v.acc)==null?void 0:W.country)&&t.jsx(rs,{label:"Country",value:v.acc.country}),t.jsx(rs,{label:"Status",children:t.jsx(d0,{status:v.status,variant:"detail"})})]}),t.jsxs(Yu,{children:[t.jsx(rs,{label:"Request Date",value:v.request_date?new Date(v.request_date).toLocaleString():"N/A",icon:Ve}),v.reviewed_at&&t.jsx(rs,{label:"Reviewed At",value:new Date(v.reviewed_at).toLocaleString(),icon:De})]}),v.additional_info&&t.jsx(Qu,{title:"Additional Information",content:v.additional_info,variant:"blue"}),v.status==="returned"&&v.return_comment&&t.jsx(Qu,{title:"ACC Comment / Return Reason",content:v.return_comment,icon:c_,variant:"yellow",showHeader:!0}),v.status==="rejected"&&v.rejection_reason&&t.jsx(Qu,{title:"Rejection Reason",content:v.rejection_reason,icon:ot,variant:"red",showHeader:!0}),t.jsx(UE,{documents:v.documents,title:"Submitted Documents"})]})})]})},qE=["English","Arabic","French","Spanish","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Hindi","Turkish","Dutch","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Greek","Hebrew","Thai","Vietnamese","Indonesian","Malay","Tagalog","Urdu","Persian","Bengali","Punjabi","Tamil","Telugu","Marathi","Gujarati"],ah=({value:e=[],onChange:s,label:r="Languages",error:a,disabled:n=!1,placeholder:i="Select a language..."})=>{const[o,l]=d.useState(""),c=Array.isArray(e)?e:e?e.split(",").map(y=>y.trim()).filter(y=>y):[],p=qE.filter(y=>!c.includes(y)),u=y=>{const m=y.target.value;if(m&&!c.includes(m)){const x=[...c,m];s(x),l("")}},f=y=>{const m=c.filter(x=>x!==y);s(m)};return t.jsxs("div",{className:"language-selector-container",children:[t.jsx("label",{className:"language-selector-label",children:r}),t.jsx("div",{className:"language-selector-wrapper",children:t.jsxs("div",{className:"language-selector-input-wrapper",children:[t.jsx(aa,{className:"language-selector-icon",size:18}),t.jsxs("select",{value:o,onChange:u,disabled:n||p.length===0,className:"language-selector-select",children:[t.jsx("option",{value:"",children:i}),p.map(y=>t.jsx("option",{value:y,children:y},y))]})]})}),c.length>0&&t.jsx("div",{className:"language-selector-tags",children:c.map((y,m)=>t.jsxs("span",{className:"language-selector-tag",children:[t.jsx(aa,{size:12,className:"language-selector-tag-icon"}),y,!n&&t.jsx("button",{type:"button",onClick:()=>f(y),className:"language-selector-remove-btn",title:"Remove language",children:t.jsx(Vs,{size:12})})]},m))}),a&&t.jsx("p",{className:"language-selector-error",children:a})]})},u0="https://aeroenix.com/v1/api",VE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState(!1),[f,y]=d.useState(!1),[m,x]=d.useState(!1),[h,N]=d.useState(null),[b,g]=d.useState([]),[j,v]=d.useState([]),[A,E]=d.useState([]),[C,z]=d.useState("sub_category"),[k,M]=d.useState({acc_id:"",sub_category_id:"",course_ids:[]}),[q,w]=d.useState({}),[$,F]=d.useState(!1),[_,S]=d.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),[P,D]=d.useState(null),[I,U]=d.useState(""),[Y,V]=d.useState(""),[R,O]=d.useState({}),[W,K]=d.useState(!1),[H,T]=d.useState("all");d.useEffect(()=>{L()},[]),d.useEffect(()=>(s("Instructors"),r("Manage your instructors"),e(t.jsxs("button",{onClick:()=>ie(),className:"instructors-header-button",children:[t.jsx(Rs,{size:20,className:"instructors-header-button-icon"}),"Add Instructor"]})),()=>{e(null),s(null),r(null)}),[e,s,r]),d.useEffect(()=>{m&&h&&Pe()},[m,h]);const L=async()=>{var G,B,X;o(!0);try{const Q=await Ue.listInstructors({per_page:1e3});let he=[];Q!=null&&Q.data?he=Array.isArray(Q.data)?Q.data:((G=Q.data)==null?void 0:G.instructors)||[]:Q!=null&&Q.instructors?he=Q.instructors:Array.isArray(Q)?he=Q:(console.warn("Unexpected response format:",Q),he=[]),n(he)}catch(Q){console.error("Failed to load instructors:",Q),console.error("Error details:",{status:(B=Q.response)==null?void 0:B.status,data:(X=Q.response)==null?void 0:X.data,message:Q.message}),n([])}finally{o(!1)}},ie=(G=null)=>{G?(N(G),S({first_name:G.first_name||"",last_name:G.last_name||"",email:G.email||"",phone:G.phone||"",id_number:G.id_number||"",cv:null,specializations:Array.isArray(G.specializations)?G.specializations:G.specializations?G.specializations.split(",").map(B=>B.trim()).filter(B=>B):[],is_assessor:G.is_assessor||!1}),D(null),U(""),V(G.cv_url||"")):(N(null),S({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),D(null),U(""),V("")),O({}),c(!0)},re=()=>{c(!1),N(null),S({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),D(null),U(""),V(""),O({})},le=G=>{S({..._,[G.target.name]:G.target.value}),O({})},pe=G=>{const B=G.target.files[0];if(B){if(B.type!=="application/pdf"){O({cv:"Only PDF files are allowed"}),G.target.value="";return}if(B.size>10*1024*1024){O({cv:"File size must be less than 10MB"}),G.target.value="";return}D(B),U(B.name),S({..._,cv:B}),R.cv&&O(X=>{const Q={...X};return delete Q.cv,Q})}},oe=G=>{S({..._,specializations:G}),O({})},de=async G=>{var B,X,Q,he,we,ze,We,Ge,Ae,Ce,Ye,Qe;G.preventDefault(),K(!0),O({});try{const ye=P instanceof File;let _e;if(ye?(_e=new FormData,_e.append("first_name",_.first_name.trim()),_e.append("last_name",_.last_name.trim()),_e.append("email",_.email.trim()),(B=_.phone)!=null&&B.trim()&&_e.append("phone",_.phone.trim()),(X=_.id_number)!=null&&X.trim()&&_e.append("id_number",_.id_number.trim()),_e.append("cv",P),_.specializations&&_.specializations.length>0&&_.specializations.forEach(Me=>{_e.append("specializations[]",Me)}),_e.append("is_assessor",_.is_assessor===!0||_.is_assessor==="true"||_.is_assessor===1||_.is_assessor==="1"?"1":"0"),console.log(" Using FormData (file upload required)")):(_e={first_name:_.first_name.trim(),last_name:_.last_name.trim(),email:_.email.trim(),phone:((Q=_.phone)==null?void 0:Q.trim())||null,id_number:((he=_.id_number)==null?void 0:he.trim())||null,specializations:_.specializations||[],is_assessor:_.is_assessor},console.log(" Using JSON (no file upload):",JSON.stringify(_e,null,2))),console.log("Submitting instructor data:",ye?"FormData":"JSON"),console.log("is_assessor value:",_.is_assessor,"Type:",typeof _.is_assessor),h){console.log(" Updating instructor with ID:",h.id),console.log(" Submit data type:",ye?"FormData":"JSON"),ye&&console.log(" CV File:",P.name,P.size,"bytes");const Me=await Ue.updateInstructor(h.id,_e);console.log(" Update result:",Me),ye&&((we=Me==null?void 0:Me.instructor)!=null&&we.cv_url)&&console.log(" CV updated successfully:",Me.instructor.cv_url)}else console.log(" Creating new instructor"),await Ue.createInstructor(_e);await L(),re()}catch(ye){console.error("Error submitting instructor:",ye),console.error("Error response:",(ze=ye.response)==null?void 0:ze.data),(Ge=(We=ye.response)==null?void 0:We.data)!=null&&Ge.errors?O(ye.response.data.errors):(Ce=(Ae=ye.response)==null?void 0:Ae.data)!=null&&Ce.message?O({general:ye.response.data.message}):(Qe=(Ye=ye.response)==null?void 0:Ye.data)!=null&&Qe.error?O({general:ye.response.data.error}):ye.errors?O(ye.errors):O({general:ye.message||"Failed to save instructor"})}finally{K(!1)}},ue=G=>{N(G),u(!0)},Z=async()=>{try{await Ue.deleteInstructor(h.id),await L()}catch(G){alert("Failed to delete instructor: "+(G.message||"Unknown error"))}u(!1),N(null)},me=async G=>{try{const B=await Ue.getInstructorDetails(G.id);N(B.instructor),y(!0)}catch(B){console.error("Failed to load instructor details:",B),N(G),y(!0)}},ve=G=>{N(G),M({acc_id:"",sub_category_id:"",course_ids:[]}),z("sub_category"),w({}),x(!0)},Pe=async()=>{try{const[G,B]=await Promise.all([Ue.listACCs(),Ue.getAuthorizationStatus()]),X=((B==null?void 0:B.authorizations)||[]).filter(ze=>ze.status==="approved"),Q=new Set(X.map(ze=>{var We;return ze.acc_id||((We=ze.acc)==null?void 0:We.id)})),we=((G==null?void 0:G.accs)||[]).filter(ze=>Q.has(ze.id));g(we),v([]),E([])}catch(G){console.error("Failed to load request form data:",G),g([])}},ke=async G=>{if(M({...k,acc_id:G,sub_category_id:"",course_ids:[]}),v([]),E([]),!!G)try{const[B,X]=await Promise.all([Ue.getSubCategoriesForACC(G).catch(()=>({sub_categories:[]})),Ue.getCoursesForACC(G).catch(()=>({courses:[]}))]),Q=(B==null?void 0:B.sub_categories)||[];E(Q);const he=(X==null?void 0:X.courses)||[];v(he)}catch(B){console.error("Failed to load ACC data:",B),v([]),E([])}},te=G=>{z(G),M({...k,sub_category_id:"",course_ids:[]}),w({})},ae=G=>{M(B=>{const X=B.course_ids||[];return X.includes(G)?{...B,course_ids:X.filter(Q=>Q!==G)}:{...B,course_ids:[...X,G]}})},ce=async G=>{var B;if(G.preventDefault(),!!h){F(!0),w({});try{if(!k.acc_id){w({general:"Please select an ACC"}),F(!1);return}if(C==="sub_category"){if(!k.sub_category_id){w({general:"Please select a sub-category"}),F(!1);return}}else if(!k.course_ids||k.course_ids.length===0){w({general:"Please select at least one course"}),F(!1);return}const X={acc_id:parseInt(k.acc_id)};C==="sub_category"?X.sub_category_id=parseInt(k.sub_category_id):X.course_ids=k.course_ids.map(we=>parseInt(we));const Q=await Ue.requestInstructorAuthorization(h.id,X);x(!1),M({acc_id:"",sub_category_id:"",course_ids:[]}),z("sub_category"),N(null);const he=(Q==null?void 0:Q.courses_count)||(C==="courses"?k.course_ids.length:"all");alert(`Authorization request submitted successfully! ${he} course(s) included.`)}catch(X){if(console.error("Failed to submit request:",X),(B=X.response)!=null&&B.data){const Q=X.response.data;Q.errors?w(Q.errors):Q.message?w({general:Q.message}):w(Q)}else X.message?w({general:X.message}):w({general:"Failed to submit request. Please try again."})}finally{F(!1)}}},se=d.useMemo(()=>a,[a]),J=d.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(G,B)=>t.jsxs("div",{className:"instructors-column-instructor",children:[t.jsx("div",{className:"instructors-column-icon-wrapper",children:t.jsx(nt,{className:"instructors-column-icon"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructors-column-name",children:[B.first_name," ",B.last_name]}),B.id_number&&t.jsxs("div",{className:"instructors-column-id",children:["ID: ",B.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:G=>t.jsxs("div",{className:"instructors-column-email",children:[t.jsx(Pt,{className:"instructors-column-email-icon"}),G]})},{header:"Phone",accessor:"phone",sortable:!0,render:G=>G?t.jsxs("div",{className:"instructors-column-phone",children:[t.jsx(vs,{className:"instructors-column-phone-icon"}),G]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:G=>{const B={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:De},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ve},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ot},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:Ve}},Q=(B[G]||B.inactive).icon,he=G==="active"?"instructors-column-status-badge-active":G==="pending"?"instructors-column-status-badge-pending":G==="suspended"?"instructors-column-status-badge-suspended":"instructors-column-status-badge-inactive";return t.jsxs("span",{className:`instructors-column-status-badge ${he}`,children:[t.jsx(Q,{size:14,className:"instructors-column-status-icon"}),G?G.charAt(0).toUpperCase()+G.slice(1):"N/A"]})}},{header:"Languages",accessor:"specializations",sortable:!1,render:G=>{const B=Array.isArray(G)?G:G?G.split(",").map(X=>X.trim()).filter(X=>X):[];return B.length>0?t.jsxs("div",{className:"instructors-column-languages",children:[B.slice(0,2).map((X,Q)=>t.jsxs("span",{className:"instructors-column-language-badge",children:[t.jsx(aa,{size:12,className:"instructors-column-language-icon"}),X]},Q)),B.length>2&&t.jsxs("span",{className:"instructors-column-language-more",children:["+",B.length-2]})]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})}},{header:"Type",accessor:"is_assessor",sortable:!0,render:G=>G?t.jsx("span",{className:"instructors-column-type-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-column-type-badge-gray",children:"Instructor"})},{header:"Actions",accessor:"actions",sortable:!1,render:(G,B)=>t.jsxs("div",{className:"instructors-column-actions",onClick:X=>X.stopPropagation(),children:[t.jsx("button",{onClick:X=>{X.stopPropagation(),ie(B)},className:"instructors-action-button instructors-action-button-edit",title:"Edit",children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:X=>{X.stopPropagation(),ve(B)},className:"instructors-action-button instructors-action-button-send",title:"Request Authorization",children:t.jsx(Lc,{size:16})}),t.jsx("button",{onClick:X=>{X.stopPropagation(),ue(B)},className:"instructors-action-button instructors-action-button-delete",title:"Delete",children:t.jsx(ar,{size:16})})]})}],[]),ee=a.length,xe=a.filter(G=>G.status==="active").length,je=a.filter(G=>G.status==="pending").length,Ne=a.filter(G=>G.status==="suspended").length;return i?t.jsx(Wo,{}):t.jsxs("div",{className:"instructors-container",children:[t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(gt,{name:"Total Instructors",value:ee,icon:nt,colorType:"indigo",isActive:H==="all",onClick:()=>T("all")}),t.jsx(gt,{name:"Active",value:xe,icon:De,colorType:"green",isActive:H==="active",onClick:()=>T("active")}),t.jsx(gt,{name:"Pending",value:je,icon:Ve,colorType:"yellow",isActive:H==="pending",onClick:()=>T("pending")}),t.jsx(gt,{name:"Suspended",value:Ne,icon:ot,colorType:"red",isActive:H==="suspended",onClick:()=>T("suspended")})]}),t.jsx("div",{className:"instructors-table-container",children:t.jsx($t,{columns:J,data:se,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:G=>G.status==="active"},{value:"pending",label:"Pending",filterFn:G=>G.status==="pending"},{value:"suspended",label:"Suspended",filterFn:G=>G.status==="suspended"},{value:"inactive",label:"Inactive",filterFn:G=>G.status==="inactive"}],defaultFilter:H,onRowClick:G=>me(G)})}),t.jsx($e,{isOpen:l,onClose:re,title:h?"Edit Instructor":"Add New Instructor",size:"lg",children:t.jsxs("form",{onSubmit:de,className:"instructors-form",children:[t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:_.first_name,onChange:le,required:!0,error:R.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:_.last_name,onChange:le,required:!0,error:R.last_name})]}),t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(fe,{label:"Email",type:"email",name:"email",value:_.email,onChange:le,required:!0,error:R.email}),t.jsx(fe,{label:"Phone",type:"tel",name:"phone",value:_.phone,onChange:le,error:R.phone})]}),t.jsx(fe,{label:"ID Number",name:"id_number",value:_.id_number,onChange:le,error:R.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"instructors-cv-label",children:"CV / Resume (PDF)"}),Y&&!P&&t.jsx("div",{className:"instructors-cv-display-box",children:t.jsxs("div",{className:"instructors-cv-display-flex",children:[t.jsxs("div",{className:"instructors-cv-display-inner",children:[t.jsx("div",{className:"instructors-cv-icon-wrapper",children:t.jsx(Be,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-text-title",children:"Current CV"}),t.jsx("p",{className:"instructors-cv-text-hint",children:"Click to view your current CV"})]})]}),t.jsxs("a",{href:Y.startsWith("http")?Y:`${u0}${Y}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-link",children:[t.jsx(Be,{size:14,className:"instructors-cv-link-icon"}),"View CV"]})]})}),t.jsxs("div",{className:"instructors-upload-area",children:[t.jsxs("label",{className:"instructors-upload-label",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:pe,className:"instructors-upload-input",id:"cv-upload-input"}),t.jsx("div",{className:"instructors-upload-div",children:t.jsxs("div",{className:"instructors-upload-inner",children:[t.jsx("div",{className:"instructors-upload-icon-wrapper",children:t.jsx(Be,{className:"text-primary-600",size:24})}),I?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:I}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to change file"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:Y?"Update CV":"Upload CV"}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to select PDF document"})]}),t.jsx("p",{className:"instructors-upload-text-small",children:"PDF only, maximum 10MB"})]})})]}),I&&t.jsxs("div",{className:"instructors-file-selected-box",children:[t.jsx(De,{className:"text-green-600",size:18}),t.jsxs("p",{className:"instructors-file-selected-text",children:[t.jsx("span",{className:"instructors-file-selected-bold",children:"Selected:"})," ",I]})]}),R.cv&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:R.cv})})]})]}),t.jsx(ah,{label:"Languages",value:_.specializations,onChange:oe,error:R.specializations}),t.jsxs("div",{className:"instructors-checkbox-container",children:[t.jsx("input",{type:"checkbox",id:"is_assessor",name:"is_assessor",checked:_.is_assessor||!1,onChange:G=>S({..._,is_assessor:G.target.checked}),className:"instructors-checkbox"}),t.jsx("label",{htmlFor:"is_assessor",className:"instructors-checkbox-label",children:"Is Assessor"})]}),t.jsx("p",{className:"instructors-helper-text",children:"Mark this instructor as an assessor"}),R.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text-bold",children:R.general})}),Object.keys(R).filter(G=>G!=="general"&&G!=="specializations").map(G=>R[G]&&t.jsxs("p",{className:"instructors-error-text",children:[G,": ",R[G]]},G)),t.jsxs("div",{className:"instructors-form-actions",children:[t.jsx("button",{type:"button",onClick:re,className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:W,className:"instructors-button-submit",children:W?"Saving...":h?"Update Instructor":"Add Instructor"})]})]})}),t.jsx($e,{isOpen:f,onClose:()=>{y(!1),N(null)},title:"Instructor Details",size:"lg",children:h&&t.jsxs("div",{className:"instructors-detail-container",children:[t.jsxs("div",{className:"instructors-detail-grid",children:[t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"First Name"}),t.jsx("p",{className:"instructors-detail-value",children:h.first_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Name"}),t.jsx("p",{className:"instructors-detail-value",children:h.last_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Pt,{size:16,className:"instructors-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"instructors-detail-value",children:h.email||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(vs,{size:16,className:"instructors-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"instructors-detail-value",children:h.phone||"N/A"})]}),h.id_number&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"ID Number"}),t.jsx("p",{className:"instructors-detail-value",children:h.id_number})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Type"}),h.is_assessor?t.jsx("span",{className:"instructors-detail-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-detail-badge-gray",children:"Instructor"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Status"}),t.jsx("span",{className:`instructors-detail-status ${h.status==="active"?"instructors-detail-status-active":h.status==="pending"?"instructors-detail-status-pending":h.status==="suspended"?"instructors-detail-status-suspended":"instructors-detail-status-inactive"}`,children:h.status})]})]}),h.specializations&&h.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Specializations"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(h.specializations)?h.specializations.map((G,B)=>t.jsx("span",{className:"instructors-specialization-badge",children:G},B)):t.jsx("span",{className:"instructors-specialization-badge",children:h.specializations})})]}),h.cv_url&&t.jsx("div",{className:"instructors-cv-box",children:t.jsxs("div",{className:"instructors-cv-box-flex",children:[t.jsxs("div",{className:"instructors-cv-box-inner",children:[t.jsx("div",{className:"instructors-cv-box-icon-wrapper",children:t.jsx(Be,{className:"text-white",size:28})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-box-text-title",children:"Curriculum Vitae"}),t.jsx("p",{className:"instructors-cv-box-text-hint",children:"Click the button to view the instructor's CV"})]})]}),t.jsxs("a",{href:h.cv_url.startsWith("http")?h.cv_url:`${u0}${h.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-box-link",children:[t.jsx(Be,{size:18,className:"instructors-cv-box-link-icon"}),"View CV"]})]})})]})}),t.jsx(la,{isOpen:p,onClose:()=>{u(!1),N(null)},onConfirm:Z,title:"Delete Instructor",message:`Are you sure you want to delete "${h==null?void 0:h.first_name} ${h==null?void 0:h.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx($e,{isOpen:m,onClose:()=>{x(!1),M({acc_id:"",course_ids:[]}),w({}),v([])},title:`Request Authorization for ${h?`${h.first_name} ${h.last_name}`:"Instructor"}`,size:"lg",children:t.jsxs("form",{onSubmit:ce,className:"instructors-request-form",children:[q.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:q.general})}),t.jsx(fe,{label:"ACC",name:"acc_id",type:"select",value:k.acc_id,onChange:G=>ke(G.target.value),required:!0,options:b.length>0?b.map(G=>({value:G.id,label:G.name||`ACC ${G.id}`})):[{value:"",label:"No approved ACCs available"}],error:q.acc_id,disabled:b.length===0}),b.length===0&&t.jsx("p",{className:"instructors-request-warning",children:"No approved ACCs found. Please request and get approval from an ACC first."}),k.acc_id&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Selection Type ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),t.jsxs("div",{className:"instructors-request-radio-group",children:[t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"sub_category",checked:C==="sub_category",onChange:G=>te(G.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Sub-Category (All Courses)"})]}),t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"courses",checked:C==="courses",onChange:G=>te(G.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Specific Courses"})]})]})]}),k.acc_id&&C==="sub_category"&&t.jsxs("div",{children:[t.jsx(fe,{label:"Sub-Category",name:"sub_category_id",type:"select",value:k.sub_category_id,onChange:G=>M({...k,sub_category_id:G.target.value,course_ids:[]}),required:!0,options:A.length>0?A.map(G=>({value:G.id,label:`${G.name} (${G.courses_count||0} courses)`})):[{value:"",label:"No sub-categories available"}],error:q.sub_category_id,disabled:A.length===0}),A.length===0&&k.acc_id&&t.jsx("p",{className:"instructors-request-warning",children:"No sub-categories found for the selected ACC"})]}),k.acc_id&&C==="courses"&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Courses ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),j.length===0?t.jsx("p",{className:"instructors-request-warning",children:"No courses available for the selected ACC"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"instructors-courses-container",children:j.map(G=>{var B;return t.jsxs("label",{className:"instructors-course-item",children:[t.jsx("input",{type:"checkbox",checked:((B=k.course_ids)==null?void 0:B.includes(G.id))||!1,onChange:()=>ae(G.id),className:"instructors-course-checkbox"}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:"instructors-course-name",children:G.name||G.code||`Course ${G.id}`}),G.sub_category&&t.jsxs("span",{className:"instructors-course-subcategory",children:["(",G.sub_category.name||G.sub_category,")"]})]})]},G.id||G.name)})}),k.course_ids.length>0&&t.jsxs("p",{className:"instructors-course-selected",children:["Selected: ",t.jsx("span",{className:"instructors-course-selected-bold",children:k.course_ids.length})," course(s)"]})]}),q.course_ids&&t.jsx("p",{className:"instructors-error-text",children:q.course_ids})]}),t.jsxs("div",{className:"instructors-request-actions",children:[t.jsx("button",{type:"button",onClick:()=>{x(!1),M({acc_id:"",sub_category_id:"",course_ids:[]}),z("sub_category"),w({}),v([]),E([])},className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:$,className:"instructors-button-submit",children:$?"Submitting...":"Submit Request"})]})]})})]})},WE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState(!1),[f,y]=d.useState(!1),[m,x]=d.useState(null),[h,N]=d.useState([]),[b,g]=d.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),[j,v]=d.useState(null),[A,E]=d.useState(null),[C,z]=d.useState({}),[k,M]=d.useState(!1),[q,w]=d.useState(null),[$,F]=d.useState(""),[_,S]=d.useState("all"),[P,D]=d.useState({key:null,direction:"asc"});d.useEffect(()=>{I(),U()},[]),d.useEffect(()=>(s("Trainees"),r("Manage your trainees"),e(t.jsxs("button",{onClick:()=>Y(),className:"trainees-header-button",children:[t.jsx(Rs,{size:20,className:"trainees-header-button-icon"}),"Add Trainee"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const I=async()=>{o(!0);try{const Z={per_page:1e3,...$&&{search:$}},me=await Ue.listTrainees(Z);me!=null&&me.trainees?n(me.trainees):Array.isArray(me)?n(me):n([])}catch(Z){console.error("Failed to load trainees:",Z),n([])}finally{o(!1)}},U=async()=>{try{const Z=await Ue.listClasses(),me=(Z==null?void 0:Z.classes)||(Z==null?void 0:Z.data)||[];N(me)}catch(Z){console.error("Failed to load training classes:",Z),N([])}};d.useEffect(()=>{I()},[$]);const Y=(Z=null)=>{var me;Z?(x(Z),g({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||"",phone:Z.phone||"",id_number:Z.id_number||"",id_image:null,card_image:null,enrolled_classes:((me=Z.training_classes)==null?void 0:me.map(ve=>ve.id))||[],status:Z.status||"active"}),v(Z.id_image_url||null),E(Z.card_image_url||null)):(x(null),g({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),v(null),E(null)),z({}),c(!0)},V=()=>{c(!1),x(null),g({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),v(null),E(null),z({})},R=Z=>{const{name:me,value:ve}=Z.target;g({...b,[me]:ve}),z({})},O=(Z,me=1920,ve=1920,Pe=.8)=>new Promise(ke=>{if(Z.type==="application/pdf"){ke(Z);return}const te=new FileReader;te.onload=ae=>{const ce=new Image;ce.onload=()=>{let se=ce.width,J=ce.height;(se>me||J>ve)&&(se>J?(J=J*me/se,se=me):(se=se*ve/J,J=ve));const ee=document.createElement("canvas");ee.width=se,ee.height=J,ee.getContext("2d").drawImage(ce,0,0,se,J),ee.toBlob(je=>{if(je){const Ne=new File([je],Z.name,{type:Z.type,lastModified:Date.now()});ke(Ne)}else ke(Z)},Z.type,Pe)},ce.onerror=()=>ke(Z),ce.src=ae.target.result},te.onerror=()=>ke(Z),te.readAsDataURL(Z)}),W=async(Z,me)=>{const ve=Z.target.files[0];if(ve){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(ve.type)){z({[me]:"File must be jpeg, jpg, png, or pdf"});return}if(ve.size>10*1024*1024){z({[me]:"File size must be less than 10MB"});return}w(me);try{let ke=ve;if(ve.type.startsWith("image/")&&(ke=await O(ve),console.log(`Image resized: ${ve.size} bytes -> ${ke.size} bytes`)),g({...b,[me]:ke}),me==="id_image"&&ke.type.startsWith("image/")){const te=new FileReader;te.onloadend=()=>{v(te.result)},te.readAsDataURL(ke)}else if(me==="card_image"&&ke.type.startsWith("image/")){const te=new FileReader;te.onloadend=()=>{E(te.result)},te.readAsDataURL(ke)}z({})}catch(ke){console.error("Error processing image:",ke),z({[me]:"Failed to process image. Please try again."})}finally{w(null)}}},K=Z=>{g(me=>{const ve=me.enrolled_classes||[];return ve.includes(Z)?{...me,enrolled_classes:ve.filter(Pe=>Pe!==Z)}:{...me,enrolled_classes:[...ve,Z]}})},H=Z=>{Z==="id_image"?(g(me=>({...me,id_image:null})),v(null)):Z==="card_image"&&(g(me=>({...me,card_image:null})),E(null)),z({})},T=async Z=>{var me,ve,Pe,ke,te,ae,ce,se,J;Z.preventDefault(),M(!0),z({});try{const ee=new FormData;if(m){const xe=(me=b.first_name)==null?void 0:me.trim(),je=(ve=b.last_name)==null?void 0:ve.trim(),Ne=(Pe=b.email)==null?void 0:Pe.trim(),G=(ke=b.phone)==null?void 0:ke.trim(),B=(te=b.id_number)==null?void 0:te.trim();xe&&ee.append("first_name",xe),je&&ee.append("last_name",je),Ne&&ee.append("email",Ne),G&&ee.append("phone",G),B&&ee.append("id_number",B),b.status&&ee.append("status",b.status),b.id_image instanceof File&&ee.append("id_image",b.id_image),b.card_image instanceof File&&ee.append("card_image",b.card_image),b.enrolled_classes&&b.enrolled_classes.length>0&&b.enrolled_classes.forEach(X=>{ee.append("enrolled_classes[]",X)}),await Ue.updateTrainee(m.id,ee)}else ee.append("first_name",b.first_name.trim()),ee.append("last_name",b.last_name.trim()),ee.append("email",b.email.trim()),ee.append("phone",b.phone.trim()),ee.append("id_number",b.id_number.trim()),ee.append("status",b.status),b.id_image instanceof File&&ee.append("id_image",b.id_image),b.card_image instanceof File&&ee.append("card_image",b.card_image),b.enrolled_classes.forEach(xe=>{ee.append("enrolled_classes[]",xe)}),await Ue.createTrainee(ee);await I(),V()}catch(ee){console.error("Error submitting trainee:",ee),(ce=(ae=ee.response)==null?void 0:ae.data)!=null&&ce.errors?z(ee.response.data.errors):(J=(se=ee.response)==null?void 0:se.data)!=null&&J.message?z({general:ee.response.data.message}):z({general:ee.message||"Failed to save trainee"})}finally{M(!1)}},L=Z=>{x(Z),u(!0)},ie=async()=>{try{await Ue.deleteTrainee(m.id),await I()}catch(Z){alert("Failed to delete trainee: "+(Z.message||"Unknown error"))}u(!1),x(null)},re=async Z=>{try{const me=await Ue.getTraineeDetails(Z.id);x(me.trainee),y(!0)}catch(me){console.error("Failed to load trainee details:",me),x(Z),y(!0)}},le=a.length,pe=a.filter(Z=>Z.status==="active").length,oe=a.filter(Z=>Z.status==="inactive").length,de=a.filter(Z=>Z.status==="suspended").length,ue=d.useMemo(()=>[{header:"Trainee",accessor:"name",sortable:!0,render:(Z,me)=>t.jsxs("div",{className:"trainees-column-trainee",children:[t.jsx("div",{className:"trainees-column-icon-wrapper",children:t.jsx(co,{className:"trainees-column-icon"})}),t.jsx("div",{children:t.jsxs("div",{className:"trainees-column-name",children:[me.first_name," ",me.last_name]})})]})},{header:"Email",accessor:"email",sortable:!0,render:Z=>t.jsxs("div",{className:"trainees-column-email",children:[t.jsx(Pt,{className:"trainees-column-email-icon"}),Z]})},{header:"Phone",accessor:"phone",sortable:!0,render:Z=>Z?t.jsxs("div",{className:"trainees-column-phone",children:[t.jsx(vs,{className:"trainees-column-phone-icon"}),Z]}):t.jsx("span",{className:"trainees-column-na",children:"N/A"})},{header:"ID Number",accessor:"id_number",sortable:!0,render:Z=>t.jsx("span",{className:"trainees-column-id-number",children:Z||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:Z=>{const me={active:{icon:De,class:"trainees-column-status-badge-active"},inactive:{icon:Ve,class:"trainees-column-status-badge-inactive"},suspended:{icon:ot,class:"trainees-column-status-badge-suspended"}},ve=me[Z]||me.inactive,Pe=ve.icon;return t.jsxs("span",{className:`trainees-column-status-badge ${ve.class}`,children:[t.jsx(Pe,{size:14,className:"trainees-column-status-icon"}),Z?Z.charAt(0).toUpperCase()+Z.slice(1):"N/A"]})}},{header:"Classes",accessor:"training_classes",sortable:!1,render:Z=>Z&&Z.length>0?t.jsxs("div",{className:"trainees-column-classes",children:[t.jsx(Xt,{size:16,className:"trainees-column-classes-icon"}),t.jsx("span",{className:"trainees-column-classes-count",children:Z.length})]}):t.jsx("span",{className:"trainees-column-na",children:"0"})},{header:"Actions",accessor:"actions",sortable:!1,render:(Z,me)=>t.jsxs("div",{className:"trainees-column-actions",onClick:ve=>ve.stopPropagation(),children:[t.jsx("button",{onClick:ve=>{ve.stopPropagation(),Y(me)},className:"trainees-action-button trainees-action-button-edit",title:"Edit",children:t.jsx(ts,{size:16})}),t.jsx("button",{onClick:ve=>{ve.stopPropagation(),L(me)},className:"trainees-action-button trainees-action-button-delete",title:"Delete",children:t.jsx(ar,{size:16})})]})}],[]);return i&&a.length===0?t.jsx(Wo,{}):t.jsxs("div",{className:"trainees-container",children:[t.jsxs(yn,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(gt,{name:"Total Trainees",value:le,icon:co,colorType:"indigo",isActive:_==="all",onClick:()=>S("all")}),t.jsx(gt,{name:"Active",value:pe,icon:De,colorType:"green",isActive:_==="active",onClick:()=>S("active")}),t.jsx(gt,{name:"Inactive",value:oe,icon:Ve,colorType:"gray",isActive:_==="inactive",onClick:()=>S("inactive")}),t.jsx(gt,{name:"Suspended",value:de,icon:ot,colorType:"red",isActive:_==="suspended",onClick:()=>S("suspended")})]}),t.jsx("div",{className:"trainees-table-container",children:t.jsx($t,{columns:ue,data:a,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name, email, phone, or ID number...",emptyMessage:"No trainees found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:Z=>Z.status==="active"},{value:"inactive",label:"Inactive",filterFn:Z=>Z.status==="inactive"},{value:"suspended",label:"Suspended",filterFn:Z=>Z.status==="suspended"}],defaultFilter:_,onRowClick:Z=>re(Z)})}),t.jsxs($e,{isOpen:l,onClose:V,title:m?"Edit Trainee":"Add New Trainee",size:"lg",children:[k&&t.jsx("div",{className:"trainees-form-loading-overlay",children:t.jsxs("div",{className:"trainees-form-loading-spinner",children:[t.jsx("div",{className:"trainees-form-spinner"}),t.jsx("p",{className:"trainees-form-loading-text",children:"Saving trainee..."})]})}),t.jsxs("form",{onSubmit:T,className:`trainees-form ${k?"trainees-form-saving":""}`,children:[t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:b.first_name,onChange:R,required:!0,error:C.first_name,disabled:k}),t.jsx(fe,{label:"Last Name",name:"last_name",value:b.last_name,onChange:R,required:!0,error:C.last_name,disabled:k})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"Email",type:"email",name:"email",value:b.email,onChange:R,required:!0,error:C.email,disabled:k}),t.jsx(fe,{label:"Phone",type:"tel",name:"phone",value:b.phone,onChange:R,required:!0,error:C.phone,disabled:k})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(fe,{label:"ID Number",name:"id_number",value:b.id_number,onChange:R,required:!0,error:C.id_number,disabled:k}),t.jsx(fe,{label:"Status",name:"status",type:"select",value:b.status,onChange:R,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}],error:C.status,disabled:k})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["ID Image ",!m&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),q==="id_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):j?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:j,alt:"ID Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:Z=>W(Z,"id_image"),className:"trainees-image-upload-input",disabled:k||q!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Jr,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>H("id_image"),className:"trainees-image-remove-button",disabled:k,children:[t.jsx(Vs,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),b.id_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(Vg,{size:14}),b.id_image.name," (",Math.round(b.id_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:Z=>W(Z,"id_image"),className:"trainees-image-upload-input",disabled:k||q!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Jr,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload ID Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),C.id_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(ot,{size:16}),Array.isArray(C.id_image)?C.id_image[0]:C.id_image]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["Card Image ",!m&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),q==="card_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):A?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:A,alt:"Card Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:Z=>W(Z,"card_image"),className:"trainees-image-upload-input",disabled:k||q!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Jr,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>H("card_image"),className:"trainees-image-remove-button",disabled:k,children:[t.jsx(Vs,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),b.card_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(Vg,{size:14}),b.card_image.name," (",Math.round(b.card_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:Z=>W(Z,"card_image"),className:"trainees-image-upload-input",disabled:k||q!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Jr,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload Card Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),C.card_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(ot,{size:16}),Array.isArray(C.card_image)?C.card_image[0]:C.card_image]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"trainees-classes-label",children:"Enrolled Classes"}),h.length===0?t.jsx("p",{className:"trainees-classes-empty",children:"No training classes available"}):t.jsx("div",{className:"trainees-classes-container",children:h.map(Z=>{var me,ve;return t.jsxs("label",{className:"trainees-class-item",children:[t.jsx("input",{type:"checkbox",checked:((me=b.enrolled_classes)==null?void 0:me.includes(Z.id))||!1,onChange:()=>K(Z.id),className:"trainees-class-checkbox",disabled:k}),t.jsxs("div",{className:"trainees-class-info",children:[t.jsx("span",{className:"trainees-class-name",children:((ve=Z.course)==null?void 0:ve.name)||Z.name||`Class ${Z.id}`}),Z.start_date&&Z.end_date&&t.jsxs("div",{className:"trainees-class-date",children:[t.jsx(et,{size:12}),new Date(Z.start_date).toLocaleDateString()," - ",new Date(Z.end_date).toLocaleDateString()]})]})]},Z.id)})}),C.enrolled_classes&&t.jsx("p",{className:"trainees-classes-error",children:Array.isArray(C.enrolled_classes)?C.enrolled_classes[0]:C.enrolled_classes})]}),C.general&&t.jsx("div",{className:"trainees-error-box",children:t.jsx("p",{className:"trainees-error-text-bold",children:C.general})}),Object.keys(C).filter(Z=>Z!=="general"&&Z!=="id_image"&&Z!=="card_image"&&Z!=="enrolled_classes").map(Z=>C[Z]&&t.jsxs("p",{className:"trainees-error-text",children:[Z,": ",Array.isArray(C[Z])?C[Z][0]:C[Z]]},Z)),t.jsxs("div",{className:"trainees-form-actions",children:[t.jsx("button",{type:"button",onClick:V,className:"trainees-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"trainees-button-submit",children:k?"Saving...":m?"Update Trainee":"Add Trainee"})]})]})]}),t.jsx($e,{isOpen:f,onClose:()=>{y(!1),x(null)},title:"Trainee Details",size:"lg",children:m&&t.jsxs("div",{className:"trainees-detail-container",children:[t.jsxs("div",{className:"trainees-detail-grid",children:[t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"First Name"}),t.jsx("p",{className:"trainees-detail-value",children:m.first_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Last Name"}),t.jsx("p",{className:"trainees-detail-value",children:m.last_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Pt,{size:16,className:"trainees-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"trainees-detail-value",children:m.email||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(vs,{size:16,className:"trainees-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"trainees-detail-value",children:m.phone||"N/A"})]}),m.id_number&&t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"ID Number"}),t.jsx("p",{className:"trainees-detail-value",children:m.id_number})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Status"}),t.jsx("span",{className:`trainees-detail-status ${m.status==="active"?"trainees-detail-status-active":m.status==="inactive"?"trainees-detail-status-inactive":"trainees-detail-status-suspended"}`,children:m.status})]})]}),t.jsxs("div",{className:"trainees-detail-images-grid",children:[m.id_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"ID Image"}),t.jsx("a",{href:m.id_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:m.id_image_url,alt:"ID",className:"trainees-detail-image"})})]}),m.card_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"Card Image"}),t.jsx("a",{href:m.card_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:m.card_image_url,alt:"Card",className:"trainees-detail-image"})})]})]}),m.training_classes&&m.training_classes.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"trainees-classes-title",children:"Enrolled Classes"}),t.jsx("div",{className:"trainees-classes-list",children:m.training_classes.map((Z,me)=>{var ve,Pe;return t.jsx("div",{className:"trainees-class-detail-item",children:t.jsxs("div",{className:"trainees-class-detail-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"trainees-class-detail-name",children:((ve=Z.course)==null?void 0:ve.name)||Z.name||`Class ${Z.id}`}),Z.start_date&&Z.end_date&&t.jsxs("p",{className:"trainees-class-detail-date",children:[t.jsx(et,{size:12}),new Date(Z.start_date).toLocaleDateString()," - ",new Date(Z.end_date).toLocaleDateString()]}),Z.instructor&&t.jsxs("p",{className:"trainees-class-detail-instructor",children:["Instructor: ",Z.instructor.first_name," ",Z.instructor.last_name]})]}),((Pe=Z.pivot)==null?void 0:Pe.status)&&t.jsx("span",{className:`trainees-class-detail-status ${Z.pivot.status==="enrolled"?"trainees-class-detail-status-enrolled":Z.pivot.status==="completed"?"trainees-class-detail-status-completed":Z.pivot.status==="dropped"?"trainees-class-detail-status-dropped":"trainees-class-detail-status-other"}`,children:Z.pivot.status})]})},me)})})]})]})}),t.jsx(la,{isOpen:p,onClose:()=>{u(!1),x(null)},onConfirm:ie,title:"Delete Trainee",message:`Are you sure you want to delete "${m==null?void 0:m.first_name} ${m==null?void 0:m.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},HE=()=>{var me,ve,Pe,ke,te,ae,ce,se,J,ee,xe,je,Ne,G;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState([]),[l,c]=d.useState([]),[p,u]=d.useState(!1),[f,y]=d.useState(!0),[m,x]=d.useState(null),[h,N]=d.useState([]),[b,g]=d.useState(!1),[j,v]=d.useState(!1),[A,E]=d.useState(!1),[C,z]=d.useState(!1),[k,M]=d.useState(null),[q,w]=d.useState(null),[$,F]=d.useState({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"}),[_,S]=d.useState({}),[P,D]=d.useState(!1),[I,U]=d.useState("all");d.useEffect(()=>{Y()},[]),d.useEffect(()=>{b&&(R(),N(i),x(null))},[b,i]),d.useEffect(()=>{$.course_id&&b&&l.length>0?V($.course_id):$.course_id||(x(null),N(i))},[$.course_id,b,l,i]),d.useEffect(()=>(s("Classes"),r("Manage your training classes"),e(t.jsxs("button",{onClick:()=>O(),className:"header-create-btn",children:[t.jsx(Rs,{size:20,className:"header-create-btn-icon"}),"Create Class"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const Y=async()=>{y(!0);try{const[B,X]=await Promise.all([Ue.listClasses({per_page:1e3}),Ue.listInstructors()]);let Q=[];B!=null&&B.data?Q=Array.isArray(B.data)?B.data:[]:B!=null&&B.classes?Q=Array.isArray(B.classes)?B.classes:[]:Array.isArray(B)&&(Q=B),n(Q),o((X==null?void 0:X.instructors)||(X==null?void 0:X.data)||[])}catch(B){console.error("Failed to load data:",B),n([]),o([])}finally{y(!1)}},V=async B=>{try{const X=l.find(Q=>Q.id===parseInt(B));if(X)if(x(X),X.assessor_required){const Q=i.filter(he=>he.is_assessor===!0);if(N(Q),$.instructor_id){const he=i.find(we=>we.id===parseInt($.instructor_id));he&&!he.is_assessor&&F(we=>({...we,instructor_id:""}))}}else N(i);else try{const Q=localStorage.getItem("auth_token")||localStorage.getItem("token"),we=await rt.get(`https://aeroenix.com/v1/api/acc/courses/${B}`,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ze=we.data.course||we.data;if(x(ze),ze.assessor_required){const We=i.filter(Ge=>Ge.is_assessor===!0);if(N(We),$.instructor_id){const Ge=i.find(Ae=>Ae.id===parseInt($.instructor_id));Ge&&!Ge.is_assessor&&F(Ae=>({...Ae,instructor_id:""}))}}else N(i)}catch(Q){console.error("Failed to load course details:",Q),x(null),N(i)}}catch(X){console.error("Error loading course details:",X),x(null),N(i)}},R=async()=>{var B;try{const X=await Ue.getAuthorizationStatus();console.log("Authorization data:",X);const Q=X.authorizations||X.data||[];console.log("All authorizations:",Q);const he=Q.filter(Ge=>{var Ce;const Ae=(Ce=Ge.status)==null?void 0:Ce.toLowerCase();return Ae==="approved"||Ae==="active"||Ae==="accepted"||Ge.status&&Ge.status!=="pending"&&Ge.status!=="rejected"&&Ge.status!=="cancelled"});if(console.log("Approved authorizations:",he),he.length===0){console.log("No approved authorizations found. All authorizations:",Q),u(!1),c([]);return}u(!0);const we=he.map(async Ge=>{var Ae,Ce,Ye;try{const Qe=Ge.acc_id||((Ae=Ge.acc)==null?void 0:Ae.id)||Ge.id,ye=((Ce=Ge.acc)==null?void 0:Ce.name)||Ge.acc_name||Ge.name||"Unknown ACC";if(console.log("Processing authorization for ACC:",{accId:Qe,accName:ye,auth:Ge}),!Qe)return console.warn("No ACC ID found in authorization:",Ge),[];const _e=localStorage.getItem("auth_token")||localStorage.getItem("token"),Me="https://aeroenix.com/v1/api",Xe=[`${Me}/training-center/accs/${Qe}/courses`,`${Me}/acc/${Qe}/courses`,`${Me}/training-center/courses?acc_id=${Qe}`];for(const at of Xe)try{console.log(`Trying endpoint: ${at}`);const Br=(await rt.get(at,{headers:{Authorization:`Bearer ${_e}`,Accept:"application/json"}})).data,qr=Br.courses||Br.data||Br||[];if(qr.length>0)return console.log(`Successfully loaded ${qr.length} courses from ACC ${Qe} using ${at}`),qr.map(ou=>({...ou,acc_id:Qe,acc_name:ye}))}catch(Kt){console.log(`Endpoint ${at} failed:`,(Ye=Kt.response)==null?void 0:Ye.status,Kt.message)}return console.warn(`All endpoints failed for ACC ${Qe}`),[]}catch(Qe){console.error("Failed to load courses from authorization:",Qe,Ge)}return[]}),We=(await Promise.all(we)).flat();c(We),console.log(`Loaded ${We.length} courses from ${he.length} authorized ACC(s)`),We.length===0&&he.length>0&&console.warn("No courses found despite having approved authorizations. Check endpoint availability.")}catch(X){console.error("Failed to load courses:",X),console.error("Error details:",((B=X.response)==null?void 0:B.data)||X.message),c([])}},O=(B=null)=>{B?(M(B),F({course_id:B.course_id||"",class_id:B.class_id||"",instructor_id:B.instructor_id||"",start_date:B.start_date?B.start_date.split("T")[0]:"",end_date:B.end_date?B.end_date.split("T")[0]:"",location:B.location||"physical"})):(M(null),F({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"})),x(null),N(i),S({}),g(!0)},W=()=>{g(!1),M(null),F({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"}),S({})},K=B=>{F({...$,[B.target.name]:B.target.value}),S({})},H=async B=>{var X,Q,he,we,ze,We,Ge;B.preventDefault(),D(!0),S({});try{if(!$.course_id){S({course_id:"Course is required"}),D(!1);return}if(!$.class_id){S({class_id:"Class ID is required"}),D(!1);return}if(!$.instructor_id){S({instructor_id:"Instructor is required"}),D(!1);return}if(!$.start_date){S({start_date:"Start date is required"}),D(!1);return}if(!$.end_date){S({end_date:"End date is required"}),D(!1);return}const Ae={course_id:parseInt($.course_id),class_id:parseInt($.class_id),instructor_id:parseInt($.instructor_id),start_date:$.start_date,end_date:$.end_date,location:$.location};console.log("Submitting class data:",Ae),k?await Ue.updateClass(k.id,Ae):await Ue.createClass(Ae),await Y(),W()}catch(Ae){console.error("Error creating/updating class:",Ae),console.error("Error response:",(X=Ae.response)==null?void 0:X.data),(he=(Q=Ae.response)==null?void 0:Q.data)!=null&&he.errors?S(Ae.response.data.errors):(ze=(we=Ae.response)==null?void 0:we.data)!=null&&ze.message?S({general:Ae.response.data.message}):(Ge=(We=Ae.response)==null?void 0:We.data)!=null&&Ge.error?S({general:Ae.response.data.error}):Ae.errors?S(Ae.errors):S({general:Ae.message||"Failed to save class. Please check all required fields."})}finally{D(!1)}},T=B=>{M(B),v(!0)},L=async()=>{try{await Ue.deleteClass(k.id),await Y()}catch(B){alert("Failed to delete class: "+(B.message||"Unknown error"))}v(!1),M(null)},ie=async B=>{try{const X=await Ue.getClassDetails(B.id),Q=X.class||X.data||X;Q&&!Q.trainees&&X.trainees&&(Q.trainees=X.trainees),Q&&!Q.trainees&&B.trainees&&(Q.trainees=B.trainees),M(Q),E(!0)}catch(X){console.error("Failed to load class details:",X),M(B),E(!0)}},re=async B=>{if(window.confirm("Mark this class as complete?"))try{await Ue.markClassComplete(B.id),await Y()}catch(X){alert("Failed to mark class as complete: "+(X.message||"Unknown error"))}},le=d.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(B,X)=>{var he;const Q=typeof X.course=="string"?X.course:((he=X.course)==null?void 0:he.name)||"N/A";return t.jsxs("div",{className:"course-container",children:[t.jsx("div",{className:"course-icon-container",children:t.jsx(Zt,{className:"course-icon"})}),t.jsxs("div",{children:[t.jsx("div",{className:"course-name",children:Q}),X.class_id&&t.jsxs("div",{className:"course-id",children:["ID: ",X.class_id]})]})]})}},{header:"Instructor",accessor:"instructor",sortable:!0,render:(B,X)=>{var he,we;const Q=typeof X.instructor=="string"?X.instructor:(he=X.instructor)!=null&&he.first_name&&((we=X.instructor)!=null&&we.last_name)?`${X.instructor.first_name} ${X.instructor.last_name}`:"N/A";return t.jsxs("div",{className:"instructor-container",children:[t.jsx(nt,{className:"instructor-icon"}),Q]})}},{header:"Start Date",accessor:"start_date",sortable:!0,render:(B,X)=>t.jsxs("div",{className:"date-container",children:[t.jsx(et,{className:"date-icon"}),X.start_date?new Date(X.start_date).toLocaleDateString():"N/A"]})},{header:"End Date",accessor:"end_date",sortable:!0,render:(B,X)=>t.jsxs("div",{className:"date-container",children:[t.jsx(et,{className:"date-icon"}),X.end_date?new Date(X.end_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(B,X)=>{const we=({scheduled:{bg:"from-blue-100 to-blue-200",text:"text-blue-800",border:"border-blue-300",icon:Ve},completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:De},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ot}}[X.status]||{icon:Ve}).icon,ze=X.status==="scheduled"?"scheduled":X.status==="completed"?"completed":X.status==="cancelled"?"cancelled":"default";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${ze}`,children:[t.jsx(we,{size:14,className:"status-icon"}),X.status?X.status.charAt(0).toUpperCase()+X.status.slice(1):"N/A"]})})}},{header:"Enrollment",accessor:"enrollment",sortable:!1,render:(B,X)=>{var we;const Q=X.trainees&&Array.isArray(X.trainees)&&X.trainees.length>0,he=ze=>{ze.stopPropagation(),ze.preventDefault(),ze.nativeEvent.stopImmediatePropagation(),Q&&(w(X),z(!0))};return t.jsxs("div",{className:`enrollment-container ${Q?"enrollment-clickable":""}`,onClick:he,onMouseDown:ze=>{ze.stopPropagation(),ze.nativeEvent.stopImmediatePropagation()},onMouseUp:ze=>{ze.stopPropagation(),ze.nativeEvent.stopImmediatePropagation()},role:Q?"button":void 0,tabIndex:Q?0:void 0,onKeyDown:ze=>{Q&&(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),ze.stopPropagation(),he(ze))},children:[X.enrolled_count||0," / ",((we=X.course)==null?void 0:we.max_capacity)||"N/A"]})}}],[]),pe=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:B=>B.status==="scheduled"},{value:"completed",label:"Completed",filterFn:B=>B.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:B=>B.status==="cancelled"}],[]),oe=d.useMemo(()=>a.map(B=>{var we,ze,We;const X=typeof B.course=="string"?B.course:((we=B.course)==null?void 0:we.name)||"",Q=typeof B.instructor=="string"?B.instructor:(ze=B.instructor)!=null&&ze.first_name&&((We=B.instructor)!=null&&We.last_name)?`${B.instructor.first_name} ${B.instructor.last_name}`:"",he=[X,Q,B.class_id||"",B.status||"",B.location||""].filter(Boolean).join(" ").toLowerCase();return{...B,_searchText:he}}),[a]),de=a.length,ue=a.filter(B=>B.status==="scheduled").length,Z=a.filter(B=>B.status==="completed").length;return a.filter(B=>B.status==="cancelled").length,f?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})}):t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"stats-cards-grid",children:[t.jsx(gt,{name:"Total Classes",value:de,icon:Zt,colorType:"indigo",isActive:I==="all",onClick:()=>U("all")}),t.jsx(gt,{name:"Scheduled",value:ue,icon:et,colorType:"blue",isActive:I==="scheduled",onClick:()=>U("scheduled")}),t.jsx(gt,{name:"Completed",value:Z,icon:De,colorType:"green",isActive:I==="completed",onClick:()=>U("completed")})]}),t.jsx("div",{className:"datatable-container",children:t.jsx($t,{columns:le,data:oe,onEdit:O,onDelete:T,onView:ie,onRowClick:ie,isLoading:f,emptyMessage:a.length===0&&!f?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Zt,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Create your first class to get started!"})]}):"No classes found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by course or instructor...",filterOptions:pe,sortable:!0,defaultFilter:I})}),t.jsx($e,{isOpen:b,onClose:W,title:k?"Edit Class":"Create New Class",size:"lg",children:t.jsxs("form",{onSubmit:H,className:"modal-form",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Course ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"course_id",value:$.course_id,onChange:K,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select a course..."}),l.map(B=>{var we;const X=B.name||B.code||`Course ${B.id}`,Q=B.acc_name||((we=B.acc)==null?void 0:we.name)||"",he=Q?`${X} - ${Q}`:X;return t.jsx("option",{value:B.id,children:he},B.id)})]}),_.course_id&&t.jsx("p",{className:"form-error",children:_.course_id}),l.length===0&&!f&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No courses available"}),t.jsx("p",{className:"form-warning-text",children:p?"No courses found from your authorized ACCs. Please check if the ACCs have published courses.":"Please ensure you have authorization from at least one ACC. Courses from authorized ACCs will appear here."})]})]}),t.jsx(fe,{label:"Class ID",name:"class_id",type:"number",value:$.class_id,onChange:K,required:!0,placeholder:"Enter class ID",error:_.class_id}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Instructor ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"instructor_id",value:$.instructor_id,onChange:K,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select an instructor..."}),h.length>0?h.map(B=>t.jsxs("option",{value:B.id,children:[B.first_name," ",B.last_name,B.is_assessor&&" (Assessor)"]},B.id)):t.jsx("option",{value:"",disabled:!0,children:"No instructors available"})]}),_.instructor_id&&t.jsx("p",{className:"form-error",children:_.instructor_id}),(m==null?void 0:m.assessor_required)&&h.length===0&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:" This course requires an assessor, but no assessors are available."}),t.jsx("p",{className:"form-warning-text",children:"Please mark at least one instructor as an assessor before creating this class."})]}),(m==null?void 0:m.assessor_required)&&h.length>0&&t.jsx("p",{className:"form-info",children:" This course requires an assessor. Only assessors are shown."})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(fe,{label:"Start Date",name:"start_date",type:"date",value:$.start_date,onChange:K,required:!0,error:_.start_date}),t.jsx(fe,{label:"End Date",name:"end_date",type:"date",value:$.end_date,onChange:K,required:!0,error:_.end_date})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Location ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"location",value:$.location,onChange:K,required:!0,className:"form-select",children:[t.jsx("option",{value:"physical",children:"Physical"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"hybrid",children:"Hybrid"})]}),_.location&&t.jsx("p",{className:"form-error",children:_.location})]}),_.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:_.general})}),Object.keys(_).filter(B=>B!=="general").length>0&&t.jsxs("div",{className:"form-error-general",children:[t.jsx("p",{className:"form-error-general-text",children:"Please fix the following errors:"}),t.jsx("ul",{className:"form-error-list",children:Object.entries(_).filter(([B])=>B!=="general").map(([B,X])=>t.jsx("li",{children:Array.isArray(X)?X.join(", "):X},B))})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:W,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P,className:"form-btn form-btn-submit",children:P?"Saving...":k?"Update Class":"Create Class"})]})]})}),t.jsx($e,{isOpen:A,onClose:()=>{E(!1),M(null)},title:"Class Details",size:"lg",children:k&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Class ID"}),t.jsx("p",{className:"detail-modal-value",children:k.class_id||k.id||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${k.status==="completed"?"completed":k.status==="scheduled"?"scheduled":k.status==="cancelled"?"cancelled":"default"}`,children:k.status?k.status.charAt(0).toUpperCase()+k.status.slice(1):"N/A"})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Course Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:typeof k.course=="string"?k.course:((me=k.course)==null?void 0:me.name)||"N/A"})]}),((ve=k.course)==null?void 0:ve.code)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Code"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.code})]}),((Pe=k.course)==null?void 0:Pe.max_capacity)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Max Capacity"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.max_capacity})]}),((ke=k.course)==null?void 0:ke.duration)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Duration"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.duration})]}),((te=k.course)==null?void 0:te.description)&&t.jsxs("div",{className:"detail-modal-section-item detail-modal-section-full",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Description"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.description})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-purple",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-purple",children:"Instructor Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:typeof k.instructor=="string"?k.instructor:(ae=k.instructor)!=null&&ae.first_name&&((ce=k.instructor)!=null&&ce.last_name)?`${k.instructor.first_name} ${k.instructor.last_name}`:"N/A"})]}),((se=k.instructor)==null?void 0:se.email)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Email"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:k.instructor.email})]}),((J=k.instructor)==null?void 0:J.phone)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Phone"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:k.instructor.phone})]}),((ee=k.instructor)==null?void 0:ee.is_assessor)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Role"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:"Assessor"})]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Start Date"}),t.jsx("p",{className:"detail-modal-value",children:k.start_date?new Date(k.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),k.start_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(k.start_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"End Date"}),t.jsx("p",{className:"detail-modal-value",children:k.end_date?new Date(k.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),k.end_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(k.end_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Location"}),t.jsx("p",{className:"detail-modal-value",children:k.location?k.location.charAt(0).toUpperCase()+k.location.slice(1):"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Enrollment"}),t.jsxs("p",{className:"detail-modal-value",children:[k.enrolled_count||0," / ",((xe=k.course)==null?void 0:xe.max_capacity)||"N/A"]}),((je=k.course)==null?void 0:je.max_capacity)&&t.jsxs("div",{className:"detail-modal-progress-container",children:[t.jsx("div",{className:"detail-modal-progress-bar",children:t.jsx("div",{className:"detail-modal-progress-fill",style:{width:`${Math.min((k.enrolled_count||0)/k.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"detail-modal-progress-text",children:[Math.round((k.enrolled_count||0)/k.course.max_capacity*100),"% full"]})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Enrolled Trainees"}),k.trainees&&Array.isArray(k.trainees)&&k.trainees.length>0?t.jsx("div",{className:"detail-modal-trainees-list",children:k.trainees.map((B,X)=>t.jsx("div",{className:"detail-modal-trainee-item",children:t.jsxs("div",{className:"detail-modal-trainee-content",children:[t.jsxs("div",{className:"detail-modal-trainee-name",children:[t.jsx(nt,{size:16,className:"detail-modal-trainee-icon"}),t.jsxs("span",{children:[B.first_name," ",B.last_name]})]}),t.jsxs("div",{className:"detail-modal-trainee-id",children:[t.jsx(za,{size:14,className:"detail-modal-trainee-id-icon"}),t.jsx("span",{children:B.id_number||B.id||"N/A"})]})]})},B.id||X))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]}),(k.created_at||k.updated_at||k.notes)&&t.jsxs("div",{className:"detail-modal-section detail-modal-section-yellow",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-yellow",children:"Additional Information"}),t.jsxs("div",{className:"detail-modal-additional-list",children:[k.created_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Created At"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(k.created_at).toLocaleString("en-US")})]}),k.updated_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Last Updated"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(k.updated_at).toLocaleString("en-US")})]}),k.notes&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Notes"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:k.notes})]})]})]}),k.status!=="completed"&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>{re(k),E(!1)},className:"detail-modal-action-btn",children:[t.jsx(De,{size:20,className:"detail-modal-action-icon"}),"Mark as Complete"]})})]})}),t.jsx($e,{isOpen:C,onClose:()=>{z(!1),w(null)},title:"Enrolled Trainees",size:"lg",children:q&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Class Information"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Ne=q.course)==null?void 0:Ne.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrollment: ",q.enrolled_count||0," / ",((G=q.course)==null?void 0:G.max_capacity)||"N/A"]})]}),q.trainees&&q.trainees.length>0?t.jsx("div",{className:"space-y-3",children:q.trainees.map((B,X)=>t.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"Name"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[B.first_name," ",B.last_name]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Pt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:B.email||"N/A"})]}),B.phone&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(vs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:B.phone})]}),B.id_number&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(za,{size:14,className:"mr-1"}),"ID Number"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:B.id_number})]}),B.enrolled_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(et,{size:14,className:"mr-1"}),"Enrolled At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(B.enrolled_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),B.completed_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(De,{size:14,className:"mr-1"}),"Completed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(B.completed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${B.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":B.status==="enrolled"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[B.status==="completed"&&t.jsx(De,{size:12,className:"mr-1"}),B.status?B.status.charAt(0).toUpperCase()+B.status.slice(1):"N/A"]})]})]})},B.id||X))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]})}),t.jsx(la,{isOpen:j,onClose:()=>{v(!1),M(null)},onConfirm:L,title:"Delete Class",message:"Are you sure you want to delete this class? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})},KE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState([]),[l,c]=d.useState([]),[p,u]=d.useState([]),[f,y]=d.useState([]),[m,x]=d.useState(!0),[h,N]=d.useState(!1),[b,g]=d.useState(!1),[j,v]=d.useState("inventory"),[A,E]=d.useState(!1),[C,z]=d.useState({key:null,direction:"asc"}),[k,M]=d.useState(""),[q,w]=d.useState("all"),[$,F]=d.useState({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:""}),[_,S]=d.useState({}),[P,D]=d.useState(!1),[I,U]=d.useState(!1),[Y,V]=d.useState(null),[R,O]=d.useState(!1),[W,K]=d.useState(new Map);d.useEffect(()=>{le()},[]),d.useEffect(()=>{de()},[j]),d.useEffect(()=>{if(j==="batches")return;(async()=>{try{let J=W;J.size===0&&(J=await le());const ee={};k&&(ee.search=k);const xe=await Ue.getCodeBatches(ee);let je=[];xe.data?je=xe.data||[]:xe.batches?je=xe.batches||[]:je=Array.isArray(xe)?xe:[];const Ne=await oe(je,J);o(Ne)}catch(J){console.error("Failed to load batches:",J),o([])}})()},[k]),d.useEffect(()=>{A&&H()},[A]),d.useEffect(()=>(s("Certificate Codes"),r("Manage your certificate code inventory and purchases"),e(t.jsxs("button",{onClick:Z,className:"header-create-btn",children:[t.jsx(Zm,{size:20}),"Purchase Codes"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const H=async()=>{try{const J=((await Ue.getAuthorizationStatus()).authorizations||[]).filter(je=>je.status==="approved"),ee=new Map;J.forEach(je=>{var G,B;const Ne=je.acc_id||((G=je.acc)==null?void 0:G.id);if(Ne){const X=typeof Ne=="string"?parseInt(Ne):Ne;ee.has(X)||ee.set(X,{id:X,name:((B=je.acc)==null?void 0:B.name)||`ACC ${X}`})}});const xe=Array.from(ee.values());console.log("Approved ACCs:",xe),u(xe),c([])}catch(se){console.error("Failed to load form data:",se),u([]),c([])}},T=async se=>{if(!se){c([]);return}N(!0);try{const J=typeof se=="string"?parseInt(se):se,ee=ec(),xe="https://aeroenix.com/v1/api",je=[`${xe}/training-center/accs/${J}/courses`,`${xe}/acc/${J}/courses`,`${xe}/training-center/courses?acc_id=${J}`];let Ne=[];for(const G of je)try{const X=(await rt.get(G,{headers:{Authorization:`Bearer ${ee}`,Accept:"application/json"}})).data;if(Ne=X.courses||X.data||X||[],Ne.length>0){Ne=Ne.map(Q=>({...Q,acc_id:J}));break}}catch{continue}if(Ne.length===0)try{const G=await Ue.listClasses({acc_id:J}),B=(G==null?void 0:G.classes)||(G==null?void 0:G.data)||[],X=new Map;B.forEach(Q=>{if(Q.course){const he=typeof Q.course=="object"?Q.course:{id:Q.course,name:Q.course},we=he.id?typeof he.id=="string"?parseInt(he.id):he.id:null,ze=we||he.name;ze&&!X.has(ze)&&(X.set(ze,{...he,id:we||he.id,acc_id:J}),Ne.push(X.get(ze)))}})}catch(G){console.error("Failed to load courses from classes:",G)}console.log(`Loaded courses for ACC ${J}:`,Ne),c(Ne)}catch(J){console.error("Failed to load courses:",J),c([])}finally{N(!1)}},L=se=>{F({...$,acc_id:se,course_id:"",discount_code:""}),c([]),y([]),T(se)},ie=async(se,J)=>{var ee,xe,je,Ne;if(!se||!J){y([]);return}g(!0);try{const G=typeof se=="string"?parseInt(se):se,B=typeof J=="string"?parseInt(J):J,X=ec(),Q="https://aeroenix.com/v1/api";console.log(`Loading discount codes for ACC ${G} and Course ${B}`);const he=[`${Q}/training-center/accs/${G}/courses/${B}/discount-codes`,`${Q}/training-center/discount-codes?acc_id=${G}&course_id=${B}`,`${Q}/acc/${G}/discount-codes?course_id=${B}`,`${Q}/training-center/discount-codes?acc_id=${G}`,`${Q}/acc/${G}/discount-codes`];let we=[],ze=null;for(const We of he)try{console.log(`Trying endpoint: ${We}`);const Ge=await rt.get(We,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});console.log(`Response from ${We}:`,Ge.data);const Ae=Ge.data;if(we=Ae.discount_codes||Ae.discountCodes||Ae.codes||Ae.data||Ae||[],Array.isArray(we)||(we=[]),console.log(`Raw codes list (${we.length} items):`,we),we.length>0&&(we=we.filter(Ce=>{const Qe=!(Ce.status!==void 0)||Ce.status==="active"||Ce.is_active===!0||Ce.status!=="inactive",_e=!(Ce.expires_at!==void 0&&Ce.expires_at!==null)||new Date(Ce.expires_at)>new Date,Xe=!(Ce.max_uses!==void 0&&Ce.max_uses!==null)||(Ce.used_count||0)<Ce.max_uses,at=Qe&&_e&&Xe;return console.log(`Code ${Ce.code||Ce.discount_code||Ce.id}: active=${Qe}, notExpired=${_e}, hasUsesLeft=${Xe}, isValid=${at}`),at}),console.log(`Filtered codes list (${we.length} items):`,we)),we.length>0){console.log(`Successfully loaded ${we.length} discount codes from ${We}`);break}else if(we.length===0&&Array.isArray(Ae.discount_codes||Ae.discountCodes||Ae.codes||Ae.data||Ae)){console.log(`No discount codes available from ${We}`);break}}catch(Ge){console.log(`Endpoint ${We} failed:`,(ee=Ge.response)==null?void 0:ee.status,((xe=Ge.response)==null?void 0:xe.data)||Ge.message),ze=Ge;continue}console.log(`Final discount codes for ACC ${G} and Course ${B}:`,we),y(we),we.length===0&&ze&&console.warn("No discount codes found. All endpoints failed or returned empty results.")}catch(G){console.error("Failed to load discount codes:",G),console.error("Error details:",(je=G.response)==null?void 0:je.status,(Ne=G.response)==null?void 0:Ne.data),y([])}finally{g(!1)}},re=se=>{F({...$,course_id:se,discount_code:""}),$.acc_id&&se?ie($.acc_id,se):y([])},le=async()=>{try{const se=await Ue.listACCs(),J=Array.isArray(se)?se:se.accs||se.data||[],ee=new Map;return J.forEach(xe=>{const je=xe.id||xe.acc_id;je&&(ee.set(je,xe),ee.set(String(je),xe))}),K(ee),console.log("Loaded ACCs map:",ee.size,"ACCs"),ee}catch(se){return console.error("Failed to load ACCs:",se),new Map}},pe=async se=>{var J,ee;if(!se)return null;try{const xe=ec(),je="https://aeroenix.com/v1/api",Ne=[`${je}/training-center/accs/${se}`,`${je}/admin/accs/${se}`];for(const G of Ne)try{const B=await rt.get(G,{headers:{Authorization:`Bearer ${xe}`,Accept:"application/json"}}),X=((J=B.data)==null?void 0:J.acc)||((ee=B.data)==null?void 0:ee.data)||B.data;if(X&&(X.id||X.acc_id)){const Q=new Map(W),he=X.id||X.acc_id;return Q.set(he,X),Q.set(String(he),X),K(Q),X}}catch{continue}}catch(xe){console.error(`Failed to fetch ACC details for ID ${se}:`,xe)}return null},oe=async(se,J)=>{var xe,je;const ee=[];for(const Ne of se){const G=Ne.acc_id||(typeof Ne.acc=="object"?(xe=Ne.acc)==null?void 0:xe.id:null)||(Ne.acc&&typeof Ne.acc=="number"?Ne.acc:null)||(Ne.acc&&typeof Ne.acc=="string"&&!isNaN(Ne.acc)?parseInt(Ne.acc):null);if(typeof Ne.acc=="object"&&((je=Ne.acc)!=null&&je.name)&&Ne.acc.name!=="Unknown ACC"){ee.push(Ne);continue}if(G){let B=J.get(G)||J.get(String(G));B||(B=await pe(G),B&&(J=new Map(J),J.set(G,B),J.set(String(G),B))),B?ee.push({...Ne,acc:{id:B.id||B.acc_id||G,name:B.name||B.acc_name||`ACC ${G}`,...B}}):ee.push({...Ne,acc:{id:G,name:`ACC ${G}`}})}else ee.push(Ne)}return ee},de=async()=>{try{x(!0);let se=W;se.size===0&&(se=await le());const J={};if(j==="inventory"){const ee=await Ue.getCodeInventory({});let xe=[];ee.data?xe=ee.data||[]:ee.codes?xe=ee.codes||[]:xe=Array.isArray(ee)?ee:[];const je=await oe(xe,se);n(je)}else{const ee=await Ue.getCodeBatches({});let xe=[];ee.data?xe=ee.data||[]:ee.batches?xe=ee.batches||[]:xe=Array.isArray(ee)?ee:[];const je=await oe(xe,se);o(je)}}catch(se){console.error("Failed to load data:",se),j==="inventory"?n([]):o([])}finally{x(!1)}},ue=d.useMemo(()=>{let se=[...a];if(k){const J=k.toLowerCase();se=se.filter(ee=>{var X,Q;const xe=ee.code||"",je=typeof ee.acc=="object"?((X=ee.acc)==null?void 0:X.name)||"":ee.acc||"",Ne=typeof ee.course=="object"?((Q=ee.course)==null?void 0:Q.name)||"":ee.course||"",G=ee.status||"";return[xe,je,Ne,G].filter(Boolean).join(" ").toLowerCase().includes(J)})}return q!=="all"&&(se=se.filter(J=>J.status===q)),C.key&&se.sort((J,ee)=>{var Ne,G;let xe,je;return typeof J[C.key]=="object"&&J[C.key]!==null?xe=((Ne=J[C.key])==null?void 0:Ne.name)||"":xe=J[C.key]||"",typeof ee[C.key]=="object"&&ee[C.key]!==null?je=((G=ee[C.key])==null?void 0:G.name)||"":je=ee[C.key]||"",typeof xe=="string"&&(xe=xe.toLowerCase()),typeof je=="string"&&(je=je.toLowerCase()),xe<je?C.direction==="asc"?-1:1:xe>je?C.direction==="asc"?1:-1:0}),se},[a,k,q,C]),Z=()=>{F({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:""}),S({}),V(null),c([]),y([]),E(!0)},me=async()=>{var xe,je,Ne,G;if(!$.acc_id){S({general:"Please select an ACC"});return}if(!$.course_id){S({general:"Please select a course"});return}if(!$.quantity||parseInt($.quantity)<=0){S({general:"Please enter a valid quantity"});return}const se=parseInt($.acc_id,10),J=parseInt($.course_id,10),ee=parseInt($.quantity,10);if(isNaN(se)||isNaN(J)||isNaN(ee)||ee<1){S({general:"Invalid data. Please check your selections and try again."});return}U(!0),S({}),V(null);try{const B={acc_id:parseInt(se,10),course_id:parseInt(J,10),quantity:parseInt(ee,10)};if(B.quantity<1){S({general:"Quantity must be at least 1."}),U(!1);return}$.discount_code&&$.discount_code.trim()&&(B.discount_code=$.discount_code.trim());const X=await Ue.createPaymentIntent(B);X.success&&X.client_secret&&X.payment_intent_id?(V({...X,commission_amount:X.commission_amount,provider_amount:X.provider_amount,payment_type:X.payment_type||"standard"}),F(Q=>({...Q,payment_intent_id:X.payment_intent_id})),O(!0)):S({general:"Failed to create payment intent. Invalid response from server."})}catch(B){if(console.error("Failed to create payment intent:",B),((xe=B.response)==null?void 0:xe.status)===422){const X=B.response.data;if(X.errors){const Q={};Object.keys(X.errors).forEach(he=>{Q[he]=Array.isArray(X.errors[he])?X.errors[he][0]:X.errors[he]}),S(Q)}else X.message?S({general:X.message}):S({general:"Validation failed. Please check your input."})}else if(((je=B.response)==null?void 0:je.status)===400){const X=B.response.data;S({general:(X==null?void 0:X.message)||"Payment service unavailable. Please contact support."})}else if(((Ne=B.response)==null?void 0:Ne.status)===500){const X=B.response.data;S({general:(X==null?void 0:X.message)||"Failed to create payment intent. Please try again later."})}else if((G=B.response)!=null&&G.data){const X=B.response.data;if(X.errors){const Q={};Object.keys(X.errors).forEach(he=>{Q[he]=Array.isArray(X.errors[he])?X.errors[he][0]:X.errors[he]}),S(Q)}else X.message?S({general:X.message}):S({general:"Failed to create payment intent. Please try again."})}else B.message?S({general:B.message}):S({general:"Failed to create payment intent. Please try again."})}finally{U(!1)}},ve=async se=>{se.preventDefault(),await me()},Pe=d.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(se,J)=>{var ee;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Ie,{className:"batch-acc-icon"}),typeof J.acc=="object"?((ee=J.acc)==null?void 0:ee.name)||"N/A":J.acc||"N/A"]})}},{header:"Course",accessor:"course",sortable:!0,render:(se,J)=>{var ee;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(Xt,{className:"batch-course-icon"}),typeof J.course=="object"?((ee=J.course)==null?void 0:ee.name)||"N/A":J.course||"N/A"]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:(se,J)=>t.jsx("span",{className:"batch-quantity",children:J.quantity||0})},{header:"Amount",accessor:"total_amount",sortable:!0,render:(se,J)=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Yt,{className:"batch-amount-icon"}),parseFloat(J.total_amount||0).toFixed(2)]})},{header:"Purchase Date",accessor:"purchase_date",sortable:!0,render:(se,J)=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(et,{className:"batch-date-icon"}),J.purchase_date?new Date(J.purchase_date).toLocaleDateString():"N/A"]})},{header:"Payment Method",accessor:"payment_method",sortable:!0,render:(se,J)=>t.jsx("span",{className:"batch-payment-method",children:J.payment_method?J.payment_method.replace("_"," "):"N/A"})}],[]),ke=d.useMemo(()=>i.map(se=>{var je,Ne;const J=typeof se.acc=="object"?((je=se.acc)==null?void 0:je.name)||"":se.acc||"",ee=typeof se.course=="object"?((Ne=se.course)==null?void 0:Ne.name)||"":se.course||"",xe=[J,ee,se.quantity||"",se.total_amount||"",se.purchase_date?new Date(se.purchase_date).toLocaleDateString():"",se.payment_method||""].filter(Boolean).join(" ").toLowerCase();return{...se,_searchText:xe}}),[i]),te=se=>{const J=new Map;return se.forEach(ee=>{var Q,he,we,ze;let xe=ee.acc_id||(typeof ee.acc=="object"?(Q=ee.acc)==null?void 0:Q.id:null)||(ee.acc&&typeof ee.acc=="number"?ee.acc:null)||(ee.acc&&typeof ee.acc=="string"&&!isNaN(ee.acc)?parseInt(ee.acc):null),je="Unknown ACC";if(typeof ee.acc=="object"&&((he=ee.acc)!=null&&he.name)&&ee.acc.name!=="Unknown ACC")je=ee.acc.name;else if(typeof ee.acc=="string"&&ee.acc!=="Unknown ACC"&&ee.acc)je=ee.acc;else if(xe){const We=W.get(xe)||W.get(String(xe));We?je=We.name||We.acc_name||`ACC ${xe}`:je=`ACC ${xe}`}const Ne=typeof ee.course=="object"?(we=ee.course)==null?void 0:we.id:ee.course,G=typeof ee.course=="object"?(ze=ee.course)==null?void 0:ze.name:ee.course||"Unknown Course",B=`${xe||"unknown"}_${Ne||"unknown"}`;J.has(B)||J.set(B,{accId:xe,accName:je,courseId:Ne,courseName:G,codes:[],total:0,available:0,used:0});const X=J.get(B);X.codes.push(ee),X.total++,ee.status==="available"&&X.available++,ee.status==="used"&&X.used++}),Array.from(J.values())},ae=(se,J)=>`${se||"unknown"}_${J||"unknown"}`,ce=j==="inventory"?ue:ke;return t.jsxs("div",{children:[t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs-wrapper",children:[t.jsxs("button",{onClick:()=>{v("inventory")},className:`tab-button ${j==="inventory"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(tc,{size:20,className:j==="inventory"?"tab-icon-active":"tab-icon-inactive"}),"Inventory (",a.length,")"]}),t.jsxs("button",{onClick:()=>{v("batches")},className:`tab-button ${j==="batches"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(Zm,{size:20,className:j==="batches"?"tab-icon-active":"tab-icon-inactive"}),"Purchase History (",i.length,")"]})]})}),j==="inventory"&&t.jsx("div",{className:"search-filter-container",children:t.jsxs("div",{className:"search-filter-wrapper",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(js,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code, ACC, course, or status...",value:k,onChange:se=>{M(se.target.value)},className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(fs,{className:"filter-icon",size:20}),t.jsxs("select",{value:q,onChange:se=>{w(se.target.value)},className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"used",children:"Used"})]})]})]})}),j==="inventory"?m?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner",children:t.jsx("div",{className:"loading-spinner-icon"})})}):ce.length===0?t.jsx("div",{className:"empty-state-container",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(tc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No codes in inventory"}),t.jsx("p",{className:"empty-state-subtitle",children:k||q!=="all"?"Try adjusting your filters":"Purchase codes to get started!"})]})}):t.jsx("div",{className:"stats-cards-grid",children:te(ce).map((se,J)=>{const ee=ae(se.accId,se.courseId);return t.jsx("div",{className:"stats-card",style:{"--animation-delay":`${J*.05}s`},children:t.jsxs("div",{className:"stats-card-content",children:[t.jsxs("div",{className:"stats-card-header",children:[t.jsx("div",{className:"stats-card-icon-container",children:t.jsx(Ie,{className:"stats-card-icon"})}),t.jsxs("div",{className:"stats-card-title-section",children:[t.jsx("h3",{className:"stats-card-title",children:se.accName}),t.jsxs("div",{className:"stats-card-subtitle",children:[t.jsx(Xt,{className:"stats-card-subtitle-icon"}),t.jsx("p",{className:"stats-card-subtitle-text",children:se.courseName})]})]})]}),t.jsxs("div",{className:"stats-card-stats",children:[t.jsxs("div",{className:"stats-item stats-item-total",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx("div",{className:"stats-item-dot"}),t.jsx("span",{className:"stats-item-label-text",children:"Total Codes"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-total",children:se.total})]}),t.jsxs("div",{className:"stats-item stats-item-available",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(e_,{className:"stats-item-icon stats-item-icon-available"}),t.jsx("span",{className:"stats-item-label-text",children:"Available"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-available",children:se.available})]}),t.jsxs("div",{className:"stats-item stats-item-used",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(ot,{className:"stats-item-icon stats-item-icon-used"}),t.jsx("span",{className:"stats-item-label-text",children:"Used"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-used",children:se.used})]})]})]})},ee)})}):t.jsx("div",{className:"datatable-container",children:t.jsx($t,{columns:Pe,data:ke,isLoading:m,emptyMessage:i.length===0&&!m?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(tc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No purchase history found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Your purchase history will appear here"})]}):"No purchase history found matching your filters",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, course, quantity, amount, date, or payment method...",sortable:!0})}),t.jsx($e,{isOpen:A,onClose:()=>{E(!1),F({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"wallet",payment_intent_id:""}),S({}),c([]),y([])},title:"Purchase Certificate Codes",size:"lg",children:t.jsxs("form",{onSubmit:ve,className:"modal-form",children:[_.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:_.general})}),t.jsx(fe,{label:"ACC",name:"acc_id",type:"select",value:$.acc_id,onChange:se=>L(se.target.value),required:!0,disabled:p.length===0,options:p.length>0?p.map(se=>({value:se.id,label:se.name||`ACC ${se.id}`})):[{value:"",label:"No approved ACCs available. Please get approval from an ACC first."}],error:_.acc_id}),p.length===0&&t.jsx("p",{className:"form-warning-text",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsxs("div",{children:[t.jsx(fe,{label:"Course",name:"course_id",type:"select",value:$.course_id,onChange:se=>re(se.target.value),required:!0,disabled:!$.acc_id||l.length===0||h,options:h?[{value:"",label:"Loading courses..."}]:l.length>0?l.map(se=>{const J=se.id&&typeof se.id=="string"?parseInt(se.id):se.id;return{value:J,label:se.name||se.code||`Course ${J}`}}):$.acc_id?[{value:"",label:"No courses available for this ACC."}]:[{value:"",label:"Please select an ACC first."}],error:_.course_id}),!$.acc_id&&t.jsx("p",{className:"form-info-text",children:"Please select an ACC first to see available courses."}),$.acc_id&&l.length===0&&!h&&t.jsx("p",{className:"form-warning-text",children:"No courses available for the selected ACC."})]}),t.jsx(fe,{label:"Quantity",name:"quantity",type:"number",value:$.quantity,onChange:se=>F({...$,quantity:se.target.value}),required:!0,min:"1",error:_.quantity}),t.jsxs("div",{children:[f.length>0?t.jsx(fe,{label:"Discount Code (Optional)",name:"discount_code",type:"select",value:$.discount_code,onChange:se=>F({...$,discount_code:se.target.value}),disabled:b,options:[{value:"",label:"No discount code"},...f.map(se=>({value:se.code||se.discount_code||se.id,label:`${se.code||se.discount_code||`Code ${se.id}`}${se.discount_percentage?` - ${se.discount_percentage}% off`:""}${se.discount_amount?` - $${se.discount_amount} off`:""}`}))],error:_.discount_code,helpText:`${f.length} discount code${f.length>1?"s":""} available for this course`}):t.jsx(fe,{label:"Discount Code (Optional)",name:"discount_code",type:"text",value:$.discount_code,onChange:se=>F({...$,discount_code:se.target.value}),placeholder:"Enter discount code manually",disabled:b,error:_.discount_code,helpText:b?"Loading discount codes...":$.course_id?"No discount codes available. You can enter a code manually if you have one.":"Select a course first to see available discount codes"}),f.length>0&&t.jsxs("div",{className:"discount-codes-container",children:[t.jsx("p",{className:"discount-codes-title",children:"Available Discount Codes:"}),t.jsx("div",{className:"discount-codes-list",children:f.map((se,J)=>t.jsxs("div",{className:"discount-code-item",children:[t.jsx("span",{className:"discount-code-value",children:se.code||se.discount_code}),t.jsxs("div",{className:"discount-code-details",children:[se.discount_percentage&&t.jsxs("span",{className:"discount-code-percentage",children:[se.discount_percentage,"% off"]}),se.discount_amount&&t.jsxs("span",{className:"discount-code-amount",children:["$",se.discount_amount," off"]}),se.expires_at&&t.jsxs("span",{className:"discount-code-expiry",children:["Expires: ",new Date(se.expires_at).toLocaleDateString()]})]})]},se.id||J))})]})]}),t.jsxs("div",{className:"payment-info-container",children:[t.jsx("p",{className:"payment-info-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-info-text",children:'Payment will be processed securely through Stripe. The total amount will be calculated including any discounts. Click "Purchase Codes" below to enter your card details.'})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{E(!1),S({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:I||P||!$.acc_id||!$.course_id||!$.quantity,className:"form-btn form-btn-submit",children:I||P?"Processing...":"Purchase Codes"})]})]})}),t.jsx(Qc,{isOpen:R,onClose:()=>{O(!1)},clientSecret:Y==null?void 0:Y.client_secret,paymentIntentId:Y==null?void 0:Y.payment_intent_id,amount:(Y==null?void 0:Y.final_amount)||0,currency:(Y==null?void 0:Y.currency)||"USD",paymentSummary:Y,onPaymentSuccess:async(se,J)=>{var ee,xe,je,Ne,G;try{if(se&&se.status!=="succeeded"){S({general:`Payment not completed. Status: ${se.status}`});return}const B=parseInt($.acc_id,10),X=parseInt($.course_id,10),Q=parseInt($.quantity,10);if(isNaN(B)||isNaN(X)||isNaN(Q)||Q<1)throw S({general:"Invalid data. Please check your selections and try again."}),new Error("Invalid data");const he={acc_id:B,course_id:X,quantity:Q,payment_method:"credit_card",payment_intent_id:J||se.id};$.discount_code&&$.discount_code.trim()&&(he.discount_code=$.discount_code.trim()),await Ue.purchaseCodes(he),await de(),E(!1),O(!1),V(null),alert("Codes purchased successfully!")}catch(B){if(console.error("Failed to purchase codes:",B),((ee=B.response)==null?void 0:ee.status)===400){const X=B.response.data;S({general:(X==null?void 0:X.message)||"Payment verification failed. Please contact support."})}else if(((xe=B.response)==null?void 0:xe.status)===402){const X=B.response.data;S({general:(X==null?void 0:X.message)||"Insufficient wallet balance. Please add funds to your wallet or use a different payment method."})}else if(((je=B.response)==null?void 0:je.status)===403){const X=B.response.data;S({general:(X==null?void 0:X.message)||"You do not have authorization from this ACC or the ACC is not active."})}else if(((Ne=B.response)==null?void 0:Ne.status)===422){const X=B.response.data;if(X.errors){const Q={};Object.keys(X.errors).forEach(he=>{Q[he]=Array.isArray(X.errors[he])?X.errors[he][0]:X.errors[he]}),S(Q)}else X.message?S({general:X.message}):S({general:"Validation failed. Please check your input."})}else if((G=B.response)!=null&&G.data){const X=B.response.data;if(X.errors){const Q={};Object.keys(X.errors).forEach(he=>{Q[he]=Array.isArray(X.errors[he])?X.errors[he][0]:X.errors[he]}),S(Q)}else X.message?S({general:X.message}):S({general:"Payment succeeded but failed to complete purchase. Please contact support."})}else S({general:"Payment succeeded but failed to complete purchase. Please contact support."});throw B}},onPaymentError:se=>{S({general:se})}})]})},GE=()=>{var Y;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState([]),[l,c]=d.useState([]),[p,u]=d.useState([]),[f,y]=d.useState(!0),[m,x]=d.useState(!1),[h,N]=d.useState(!1),[b,g]=d.useState(null),[j,v]=d.useState("all"),[A,E]=d.useState({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:""}),[C,z]=d.useState({}),[k,M]=d.useState(!1);d.useEffect(()=>{q()},[]),d.useEffect(()=>(s("Certificates"),r("Manage and generate training certificates"),e(t.jsxs("button",{onClick:w,className:"header-create-btn",children:[t.jsx(Rs,{size:20}),"Generate Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const q=async()=>{try{y(!0);const[V,R,O]=await Promise.all([Ue.listCertificates({per_page:1e3}),Ue.listClasses(),Ue.getCodeInventory({status:"available"})]);let W=[];V.data?W=V.data||[]:V.certificates?W=V.certificates||[]:W=Array.isArray(V)?V:[],n(W),o(R.classes||[]),c(O.codes||[])}catch(V){console.error("Failed to load data:",V),n([])}finally{y(!1)}},w=()=>{E({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),z({}),x(!0)},$=()=>{x(!1),E({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),z({}),u([])},F=V=>{var W;const{name:R,value:O}=V.target;if(R==="training_class_id"){const K=i.find(H=>H.id===parseInt(O));if(K){const H=typeof K.course=="object"?(W=K.course)==null?void 0:W.id:K.course,T=l.filter(L=>{var re;const ie=typeof L.course=="object"?(re=L.course)==null?void 0:re.id:L.course;return ie===H||ie==H});u(T),E({...A,training_class_id:O,code_id:""})}else u([]),E({...A,training_class_id:O,code_id:""})}else E({...A,[R]:O});C[V.target.name]&&z(K=>{const H={...K};return delete H[V.target.name],H})};d.useEffect(()=>{var V;if(m&&A.training_class_id){const R=i.find(O=>O.id===parseInt(A.training_class_id));if(R){const O=typeof R.course=="object"?(V=R.course)==null?void 0:V.id:R.course,W=l.filter(K=>{var T;const H=typeof K.course=="object"?(T=K.course)==null?void 0:T.id:K.course;return H===O||H==O});u(W)}}else m&&!A.training_class_id&&u([])},[m,l,i]);const _=async V=>{var R;V.preventDefault(),M(!0),z({});try{const O={training_class_id:parseInt(A.training_class_id),code_id:parseInt(A.code_id),trainee_name:A.trainee_name.trim(),trainee_id_number:A.trainee_id_number.trim(),issue_date:A.issue_date||new Date().toISOString().split("T")[0]};await Ue.generateCertificate(O),await q(),$(),alert("Certificate generated successfully!")}catch(O){if(console.error("Failed to generate certificate:",O),(R=O.response)!=null&&R.data){const W=O.response.data;if(W.errors){const K={};Object.keys(W.errors).forEach(H=>{K[H]=Array.isArray(W.errors[H])?W.errors[H][0]:W.errors[H]}),z(K)}else W.message?z({general:W.message}):z(W)}else O.message?z({general:O.message}):z({general:"Failed to generate certificate. Please try again."})}finally{M(!1)}},S=async V=>{try{const R=await Ue.getCertificateDetails(V.id);g(R.certificate||V),N(!0)}catch(R){console.error("Failed to load certificate details:",R),g(V),N(!0)}},P=V=>{V.certificate_pdf_url?window.open(V.certificate_pdf_url,"_blank"):alert("Certificate PDF not available")},D=d.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(V,R)=>t.jsxs("div",{className:"certificate-number-container",children:[t.jsx("div",{className:"certificate-number-icon-container",children:t.jsx(Be,{className:"certificate-number-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"certificate-number-text",children:R.certificate_number||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:(V,R)=>t.jsxs("div",{className:"trainee-container",children:[t.jsx(Ts,{className:"trainee-icon"}),R.trainee_name||"N/A"]})},{header:"Course",accessor:"course",sortable:!0,render:(V,R)=>{var O;return t.jsxs("div",{className:"course-container",children:[t.jsx(Xt,{className:"course-icon"}),typeof R.course=="object"?((O=R.course)==null?void 0:O.name)||"N/A":R.course||"N/A"]})}},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:(V,R)=>t.jsxs("div",{className:"date-container",children:[t.jsx(et,{className:"date-icon"}),R.issue_date?new Date(R.issue_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(V,R)=>{const O=R.status==="valid",W=O?De:ot;return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${O?"valid":"expired"}`,children:[t.jsx(W,{size:14,className:"status-icon"}),R.status?R.status.charAt(0).toUpperCase()+R.status.slice(1):"N/A"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(V,R)=>t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:O=>{O.stopPropagation(),S(R)},className:"action-btn action-btn-view",title:"View Details",children:t.jsx(Ut,{size:18})}),R.certificate_pdf_url?t.jsx("button",{onClick:O=>{O.stopPropagation(),P(R)},className:"action-btn action-btn-download",title:"Download PDF",children:t.jsx(Ic,{size:18})}):t.jsx("button",{onClick:O=>{O.stopPropagation(),S(R)},className:"action-btn action-btn-download",title:"View Info",children:t.jsx(Be,{size:18})})]})}],[S,P]),I=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:V=>V.status==="valid"},{value:"expired",label:"Expired",filterFn:V=>V.status==="expired"}],[]),U=d.useMemo(()=>a.map(V=>{var W;const R=typeof V.course=="object"?((W=V.course)==null?void 0:W.name)||"":V.course||"",O=[V.certificate_number||"",V.trainee_name||"",R,V.verification_code||"",V.status||""].filter(Boolean).join(" ").toLowerCase();return{...V,_searchText:O}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx($t,{columns:D,data:U,onRowClick:S,isLoading:f,emptyMessage:a.length===0&&!f?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Be,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No certificates found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Generate your first certificate!"})]}):"No certificates found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by certificate number, trainee name, course, or verification code...",filterOptions:I,sortable:!0,defaultFilter:j})}),t.jsx($e,{isOpen:m,onClose:$,title:"Generate Certificate",size:"lg",children:t.jsxs("form",{onSubmit:_,className:"modal-form",children:[C.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:C.general})}),t.jsx(fe,{label:"Training Class",name:"training_class_id",type:"select",value:A.training_class_id,onChange:F,required:!0,options:i.length>0?i.map(V=>{var R;return{value:V.id,label:`${typeof V.course=="object"?(R=V.course)==null?void 0:R.name:V.course} - ${new Date(V.start_date).toLocaleDateString()}`}}):[{value:"",label:"No classes available"}],error:C.training_class_id}),t.jsx(fe,{label:"Certificate Code",name:"code_id",type:"select",value:A.code_id,onChange:F,required:!0,disabled:!A.training_class_id||p.length===0,options:A.training_class_id?p.length>0?p.map(V=>{var R;return{value:V.id,label:`${V.code} - ${typeof V.course=="object"?(R=V.course)==null?void 0:R.name:V.course} (${V.status})`}}):[{value:"",label:"No available codes for this class"}]:[{value:"",label:"Please select a training class first"}],error:C.code_id,helpText:A.training_class_id&&p.length===0?"No available codes match the selected training class":""}),t.jsxs("div",{className:"form-grid",children:[t.jsx(fe,{label:"Trainee Name",name:"trainee_name",value:A.trainee_name,onChange:F,required:!0,error:C.trainee_name}),t.jsx(fe,{label:"Trainee ID Number",name:"trainee_id_number",value:A.trainee_id_number,onChange:F,required:!0,error:C.trainee_id_number})]}),t.jsx(fe,{label:"Issue Date",name:"issue_date",type:"date",value:A.issue_date,onChange:F,required:!0,error:C.issue_date}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:$,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"form-btn form-btn-submit",children:k?"Generating...":"Generate Certificate"})]})]})}),t.jsx($e,{isOpen:h,onClose:()=>{N(!1),g(null)},title:"Certificate Details",size:"lg",children:b&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Certificate Number"}),t.jsx("p",{className:"detail-modal-value",children:b.certificate_number})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Verification Code"}),t.jsx("p",{className:"detail-modal-value detail-modal-value-mono",children:b.verification_code||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Trainee Name"}),t.jsx("p",{className:"detail-modal-value",children:b.trainee_name})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Course"}),t.jsx("p",{className:"detail-modal-value",children:typeof b.course=="object"?(Y=b.course)==null?void 0:Y.name:b.course})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Issue Date"}),t.jsx("p",{className:"detail-modal-value",children:b.issue_date?new Date(b.issue_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Expiry Date"}),t.jsx("p",{className:"detail-modal-value",children:b.expiry_date?new Date(b.expiry_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${b.status==="valid"?"valid":"expired"}`,children:b.status})]})]}),b.certificate_pdf_url&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>P(b),className:"detail-modal-action-btn",children:[t.jsx(Ic,{size:20,className:"detail-modal-action-icon"}),"Download PDF"]})})]})})]})},YE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});d.useEffect(()=>{c()},[]),d.useEffect(()=>(e("Payment Transactions"),s("View all your payment transactions history"),()=>{e(null),s(null)}),[e,s]);const c=async()=>{try{i(!0);const m=(await Ue.getWalletTransactions()).transactions||[];a(m)}catch(y){console.error("Failed to load data:",y),a([])}finally{i(!1)}},p=y=>{l(m=>({...m,currentPage:y}))},u=y=>{l(m=>({...m,perPage:y,currentPage:1}))};d.useEffect(()=>{const y=r.length,m=Math.ceil(y/o.perPage)||1,x=o.currentPage>m?Math.max(1,m):o.currentPage;l(h=>({...h,totalItems:y,totalPages:m,currentPage:x}))},[r.length,o.perPage]);const f=d.useMemo(()=>{const y=(o.currentPage-1)*o.perPage,m=y+o.perPage;return r.slice(y,m)},[r,o.currentPage,o.perPage]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):f.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Be,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your transaction history will appear here"})]})})}):f.map((y,m)=>{const x={completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:De},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ve},failed:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ot},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ot}},h=x[y.status]||x.pending,N=h.icon,b=y.type==="deposit";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${m*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${b?"from-green-100 to-green-200":"from-red-100 to-red-200"}`,children:t.jsx(Yt,{className:`h-5 w-5 ${b?"text-green-600":"text-red-600"}`})}),t.jsx("div",{children:t.jsx("div",{className:`text-sm font-semibold group-hover:text-primary-700 transition-colors capitalize ${b?"text-green-700":"text-red-700"}`,children:y.type})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`text-lg font-bold ${b?"text-green-600":"text-red-600"}`,children:[b?"+":"-","$",parseFloat(y.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${h.bg} ${h.text} border ${h.border}`,children:[t.jsx(N,{size:14,className:"mr-1"}),y.status?y.status.charAt(0).toUpperCase()+y.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[t.jsx(et,{className:"h-4 w-4 mr-2 text-gray-400"}),y.created_at?new Date(y.created_at).toLocaleDateString():"N/A"]})})]},y.id||m)})})]})}),!n&&o.totalItems>0&&t.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:t.jsx(Or,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:p,onPerPageChange:u})})]})})},QE=()=>{const[e,s]=d.useState([]),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState("marketplace"),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(null),[x,h]=d.useState(!1);d.useEffect(()=>{N()},[o]);const N=async()=>{try{if(o==="marketplace"){const C=await Ue.browseMaterials();s(C.materials||[])}else{const C=await Ue.getLibrary();a(C.library||[])}}catch(C){console.error("Failed to load data:",C)}finally{i(!1)}},b=C=>{m(C),p(!0)},g=C=>{m(C),f(!0)},j=async()=>{h(!0);try{await Ue.purchaseFromMarketplace({purchase_type:"material",item_id:y.id,acc_id:y.acc_id,payment_method:"credit_card"}),await N(),f(!1),alert("Purchase successful!")}catch(C){alert("Failed to purchase: "+(C.message||"Unknown error"))}finally{h(!1)}},v=C=>{var z;(z=C.item)!=null&&z.file_url?window.open(C.item.file_url,"_blank"):alert("File not available")},A=[{header:"Material",accessor:"name",render:(C,z)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Be,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:C}),t.jsx("div",{className:"text-sm text-gray-500",children:z.material_type})]})]})},{header:"ACC",accessor:"acc",render:C=>typeof C=="string"?C:(C==null?void 0:C.name)||"N/A"},{header:"Course",accessor:"course",render:C=>typeof C=="string"?C:(C==null?void 0:C.name)||"N/A"},{header:"Price",accessor:"price",render:C=>`$${parseFloat(C||0).toFixed(2)}`},{header:"Status",accessor:"status",render:C=>t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${C==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C})}],E=[{header:"Item",accessor:"item",render:(C,z)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(tc,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:(C==null?void 0:C.name)||"N/A"}),t.jsx("div",{className:"text-sm text-gray-500",children:z.purchase_type})]})]})},{header:"Type",accessor:"purchase_type",render:C=>C?C.charAt(0).toUpperCase()+C.slice(1):"N/A"},{header:"Purchased Date",accessor:"purchased_at",render:C=>C?new Date(C).toLocaleDateString():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Browse and purchase course materials"})]}),t.jsxs("div",{className:"mb-6 flex space-x-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{l("marketplace"),i(!0),N()},className:`px-4 py-2 font-medium ${o==="marketplace"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["Marketplace (",e.length,")"]}),t.jsxs("button",{onClick:()=>{l("library"),i(!0),N()},className:`px-4 py-2 font-medium ${o==="library"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["My Library (",r.length,")"]})]}),o==="marketplace"?t.jsx($t,{columns:A,data:e,onView:b,onRowClick:b,isLoading:n,emptyMessage:"No materials available in marketplace."}):t.jsx($t,{columns:E,data:r,onView:C=>v(C),onRowClick:C=>v(C),isLoading:n,emptyMessage:"No purchased items in library."}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),m(null)},title:"Material Details",size:"lg",children:y&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.material_type})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ACC"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.acc})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(y.price||0).toFixed(2)]})]})]}),y.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:y.description})]}),y.preview_url&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("a",{href:y.preview_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[t.jsx(Ut,{size:16,className:"mr-2"}),"View Preview"]})}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{p(!1),g(y)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(Zm,{size:20,className:"mr-2"}),"Purchase"]})})]})}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),m(null)},title:"Confirm Purchase",size:"md",children:y&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to purchase ",t.jsx("strong",{children:y.name}),"?"]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(y.price||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{f(!1),m(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:x,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":"Confirm Purchase"})]})]})})]})},XE=()=>{var U,Y,V,R,O,W,K,H;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState([]),[i,o]=d.useState(!0),[l,c]=d.useState(!1),[p,u]=d.useState(!1),[f,y]=d.useState(null),[m,x]=d.useState({payment_method:"credit_card",payment_intent_id:""}),[h,N]=d.useState({}),[b,g]=d.useState(!1),[j,v]=d.useState(null),[A,E]=d.useState(!1),[C,z]=d.useState(!1),[k,M]=d.useState("all");d.useEffect(()=>{q()},[]),d.useEffect(()=>(s("Instructor Authorizations"),r("View and pay for instructor authorization requests"),e(t.jsxs("button",{onClick:q,disabled:i,className:"header-refresh-btn",title:"Refresh data",children:[t.jsx(uv,{size:18,className:i?"animate-spin":""}),"Refresh"]})),()=>{e(null),s(null),r(null)}),[e,s,r,i]),d.useEffect(()=>{a.length>0?console.log("Authorizations loaded:",a):i||console.log("No authorizations found. Make sure you have requested authorization for instructors.")},[a,i]);const q=async()=>{var T,L,ie,re;try{o(!0);const le={per_page:1e3};try{const pe=await Ue.getInstructorAuthorizations(le);console.log("Instructor Authorizations API Response:",pe);let oe=[],de=0,ue=1;pe!=null&&pe.authorizations?oe=pe.authorizations:(T=pe==null?void 0:pe.data)!=null&&T.authorizations?oe=pe.data.authorizations:Array.isArray(pe==null?void 0:pe.data)?oe=pe.data:Array.isArray(pe)&&(oe=pe),console.log("Processed authorizations:",oe),n(oe);return}catch(pe){if(((L=pe.response)==null?void 0:L.status)===404){console.warn("Main endpoint not found, trying alternative endpoint...");try{const oe=await Ue.getAuthorizationStatus(le);console.log("Alternative API Response:",oe);const ue=((oe==null?void 0:oe.authorizations)||(oe==null?void 0:oe.data)||[]).filter(Z=>Z.instructor_id||Z.instructor||Z.type==="instructor");if(ue.length>0){n(ue);return}}catch(oe){console.warn("Alternative endpoint also failed:",oe)}}throw pe}}catch(le){console.error("Failed to load authorizations:",le),console.error("Error details:",{status:(ie=le.response)==null?void 0:ie.status,data:(re=le.response)==null?void 0:re.data,message:le.message}),n([])}finally{o(!1)}},w=T=>{if(T.status!=="approved"||T.group_admin_status!=="commission_set"){alert("This authorization is not ready for payment. Please wait for Group Admin approval.");return}if(T.payment_status==="paid"){alert("This authorization has already been paid.");return}y(T),x({payment_method:"credit_card",payment_intent_id:""}),N({}),v(null),c(!0)},$=async(T,L)=>{var ie,re,le;if(!f){N({general:"No authorization selected"});return}try{const pe={payment_method:"credit_card",payment_intent_id:L||T.id};if(T&&T.status!=="succeeded"){N({general:`Payment not completed. Status: ${T.status}`});return}await Ue.payInstructorAuthorization(f.id,pe),await q(),c(!1),z(!1),y(null),v(null),alert("Payment successful. Instructor is now officially authorized.")}catch(pe){if(console.error("Failed to complete authorization payment:",pe),((ie=pe.response)==null?void 0:ie.status)===400){const oe=pe.response.data;N({general:(oe==null?void 0:oe.message)||"Payment verification failed. Please contact support."})}else if(((re=pe.response)==null?void 0:re.status)===422){const oe=pe.response.data;if(oe.errors){const de={};Object.keys(oe.errors).forEach(ue=>{de[ue]=Array.isArray(oe.errors[ue])?oe.errors[ue][0]:oe.errors[ue]}),N(de)}else N({general:(oe==null?void 0:oe.message)||"Validation failed. Please check your input."})}else if((le=pe.response)!=null&&le.data){const oe=pe.response.data;oe.message?N({general:oe.message}):N({general:"Payment succeeded but failed to complete authorization. Please contact support."})}else N({general:"Payment succeeded but failed to complete authorization. Please contact support."});throw pe}},F=async()=>{var L,ie,re,le;if(!f){N({general:"No authorization selected"});return}const T=parseFloat(f.authorization_price||0);if(isNaN(T)||T<=0){N({general:"Invalid authorization price. Please contact support."});return}E(!0),N({}),v(null);try{const pe=await Ue.createInstructorAuthorizationPaymentIntent(f.id,{authorization_price:T});pe.success&&pe.client_secret&&pe.payment_intent_id?(v({...pe,commission_amount:pe.commission_amount,provider_amount:pe.provider_amount,payment_type:pe.payment_type||"standard"}),x(oe=>({...oe,payment_intent_id:pe.payment_intent_id})),z(!0)):N({general:"Failed to create payment intent. Invalid response from server."})}catch(pe){if(console.error("Failed to create payment intent:",pe),((L=pe.response)==null?void 0:L.status)===422){const oe=pe.response.data;if(oe.errors){const de={};Object.keys(oe.errors).forEach(ue=>{de[ue]=Array.isArray(oe.errors[ue])?oe.errors[ue][0]:oe.errors[ue]}),N(de)}else oe.message?N({general:oe.message}):N({general:"Validation failed. Please check your input."})}else if(((ie=pe.response)==null?void 0:ie.status)===400){const oe=pe.response.data;N({general:(oe==null?void 0:oe.message)||"Payment service unavailable. Please contact support."})}else if(((re=pe.response)==null?void 0:re.status)===500){const oe=pe.response.data;N({general:(oe==null?void 0:oe.message)||"Failed to create payment intent. Please try again later."})}else if((le=pe.response)!=null&&le.data){const oe=pe.response.data;if(oe.errors){const de={};Object.keys(oe.errors).forEach(ue=>{de[ue]=Array.isArray(oe.errors[ue])?oe.errors[ue][0]:oe.errors[ue]}),N(de)}else oe.message?N({general:oe.message}):N({general:"Failed to create payment intent. Please try again."})}else pe.message?N({general:pe.message}):N({general:"Failed to create payment intent. Please try again."})}finally{E(!1)}},_=async T=>{T.preventDefault(),f&&await F()},S=T=>{y(T),u(!0)},P=d.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:(T,L)=>{var ie,re,le;return t.jsxs("div",{className:"instructor-container",children:[t.jsx("div",{className:"instructor-icon-container",children:t.jsx(nt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructor-name",children:[(ie=L.instructor)==null?void 0:ie.first_name," ",(re=L.instructor)==null?void 0:re.last_name]}),((le=L.instructor)==null?void 0:le.email)&&t.jsx("div",{className:"instructor-email",children:L.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:(T,L)=>{var ie;return t.jsxs("div",{className:"acc-container",children:[t.jsx(Ie,{className:"acc-icon"}),((ie=L.acc)==null?void 0:ie.name)||"N/A"]})}},{header:"Courses",accessor:"courses",sortable:!1,render:(T,L)=>{var ie,re;return t.jsx("div",{className:"courses-container",children:L.courses&&Array.isArray(L.courses)&&L.courses.length>0?L.courses.map((le,pe)=>t.jsxs("div",{className:"course-item",children:[t.jsx(Xt,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof le=="object"?(le==null?void 0:le.name)||(le==null?void 0:le.course_name)||"N/A":le||"N/A"})]},pe)):L.course?t.jsxs("div",{className:"course-item",children:[t.jsx(Xt,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof L.course=="object"?((ie=L.course)==null?void 0:ie.name)||((re=L.course)==null?void 0:re.course_name)||"N/A":L.course||"N/A"})]}):t.jsx("span",{className:"course-na",children:"N/A"})})}},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:(T,L)=>t.jsxs("div",{className:"price-container",children:[t.jsx(Yt,{className:"price-icon"}),parseFloat(L.authorization_price||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!0,render:(T,L)=>{const ie=L.status==="approved"?"approved":L.status==="rejected"?"rejected":L.status==="returned"?"returned":"pending";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${ie}`,children:[L.status==="pending"&&t.jsx(Ve,{size:12,className:"status-icon"}),L.status==="approved"&&t.jsx(De,{size:12,className:"status-icon"}),L.status?L.status.charAt(0).toUpperCase()+L.status.slice(1):"N/A"]})})}},{header:"Payment Status",accessor:"payment_status",sortable:!0,render:(T,L)=>{const ie=L.payment_status==="paid"?"paid":L.payment_status==="failed"?"failed":"pending";return t.jsx("div",{className:"payment-status-container",children:t.jsxs("span",{className:`payment-status-badge ${ie}`,children:[L.payment_status==="pending"&&t.jsx(Ve,{size:12,className:"payment-status-icon"}),L.payment_status==="paid"&&t.jsx(De,{size:12,className:"payment-status-icon"}),L.payment_status==="failed"&&t.jsx(va,{size:12,className:"payment-status-icon"}),L.payment_status?L.payment_status.charAt(0).toUpperCase()+L.payment_status.slice(1):"Pending"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(T,L)=>{const ie=L.status==="approved"&&L.group_admin_status==="commission_set"&&L.payment_status==="pending";return t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:re=>{re.stopPropagation(),S(L)},className:"action-btn-view",title:"View Details",children:t.jsx(Ut,{size:16})}),ie&&t.jsx("button",{onClick:re=>{re.stopPropagation(),w(L)},className:"action-btn-pay",title:"Pay Authorization",children:t.jsx(tr,{size:16})})]})}}],[w,S]),D=d.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"pending",label:"Pending",filterFn:T=>T.status==="pending"},{value:"approved",label:"Approved",filterFn:T=>T.status==="approved"},{value:"rejected",label:"Rejected",filterFn:T=>T.status==="rejected"},{value:"returned",label:"Returned",filterFn:T=>T.status==="returned"}],[]),I=d.useMemo(()=>a.map(T=>{var de,ue,Z,me,ve,Pe,ke;const L=`${((de=T.instructor)==null?void 0:de.first_name)||""} ${((ue=T.instructor)==null?void 0:ue.last_name)||""}`.trim(),ie=((Z=T.instructor)==null?void 0:Z.email)||"",re=((me=T.acc)==null?void 0:me.name)||"",le=((ve=T.training_center)==null?void 0:ve.name)||"",pe=T.courses&&Array.isArray(T.courses)?T.courses.map(te=>typeof te=="object"?(te==null?void 0:te.name)||(te==null?void 0:te.course_name)||"":te||"").join(" "):T.course?typeof T.course=="object"?((Pe=T.course)==null?void 0:Pe.name)||((ke=T.course)==null?void 0:ke.course_name)||"":T.course||"":"",oe=[L,ie,re,le,pe,T.authorization_price||"",T.status||"",T.payment_status||""].filter(Boolean).join(" ").toLowerCase();return{...T,_searchText:oe}}),[a]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx($t,{columns:P,data:I,onRowClick:S,isLoading:i,emptyMessage:a.length===0&&!i?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(nt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No authorization requests found"}),t.jsx("p",{className:"empty-state-subtitle",children:"To see authorizations here, you need to request authorization for an instructor first"}),t.jsxs("div",{className:"empty-state-help",children:[t.jsx("p",{className:"empty-state-help-title",children:" How to get started:"}),t.jsxs("ol",{className:"empty-state-help-list",children:[t.jsxs("li",{children:["Go to ",t.jsx("strong",{children:"Instructors"})," page and create/add an instructor"]}),t.jsxs("li",{children:["Click ",t.jsx("strong",{children:"Request Authorization"})," button for that instructor"]}),t.jsx("li",{children:"Select an ACC and courses for authorization"}),t.jsx("li",{children:"Wait for ACC Admin to approve and set authorization price"}),t.jsx("li",{children:"Wait for Group Admin approval"}),t.jsx("li",{children:"Then come back here to complete payment!"})]}),t.jsx("div",{className:"empty-state-help-note",children:t.jsxs("p",{className:"empty-state-help-note-text",children:[t.jsx("strong",{children:"Note:"})," Authorizations will only appear here after you've submitted a request and it's been approved by ACC Admin."]})})]})]}):"No authorizations found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by instructor name, ACC, course, or training center...",filterOptions:D,sortable:!0,defaultFilter:k})}),t.jsx($e,{isOpen:l,onClose:()=>{c(!1),y(null),N({})},title:"Pay Instructor Authorization",size:"md",children:t.jsxs("form",{onSubmit:_,className:"payment-modal-form",children:[h.general&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"payment-error-text",children:h.general})}),f&&t.jsxs("div",{className:"payment-info-container",children:[t.jsxs("p",{className:"payment-info-text",children:["Instructor: ",t.jsxs("span",{className:"payment-info-value",children:[(U=f.instructor)==null?void 0:U.first_name," ",(Y=f.instructor)==null?void 0:Y.last_name]})]}),t.jsxs("p",{className:"payment-info-text",children:["ACC: ",t.jsx("span",{className:"payment-info-value",children:(V=f.acc)==null?void 0:V.name})]}),t.jsxs("p",{className:"payment-info-text",children:["Authorization Price: ",t.jsxs("span",{className:"payment-info-value",children:["$",parseFloat(f.authorization_price||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-method-info",children:[t.jsx("p",{className:"payment-method-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-method-text",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'}),t.jsxs("p",{className:"payment-method-price",children:[t.jsx("strong",{children:"Authorization Price:"})," $",parseFloat((f==null?void 0:f.authorization_price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"payment-modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),y(null),N({})},className:"payment-modal-btn payment-modal-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:A||b||!f,className:"payment-modal-btn payment-modal-btn-submit",children:A||b?"Processing...":"Pay Now"})]})]})}),t.jsx($e,{isOpen:p,onClose:()=>{u(!1),y(null)},title:"Authorization Details",size:"lg",children:f&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Instructor"}),t.jsxs("p",{className:"detail-modal-value",children:[(R=f.instructor)==null?void 0:R.first_name," ",(O=f.instructor)==null?void 0:O.last_name]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"ACC"}),t.jsx("p",{className:"detail-modal-value",children:((W=f.acc)==null?void 0:W.name)||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Courses"}),t.jsx("div",{className:"detail-modal-courses-list",children:f.courses&&Array.isArray(f.courses)&&f.courses.length>0?f.courses.map((T,L)=>t.jsx("p",{className:"detail-modal-value",children:typeof T=="object"?(T==null?void 0:T.name)||(T==null?void 0:T.course_name)||"N/A":T||"N/A"},L)):f.course?t.jsx("p",{className:"detail-modal-value",children:typeof f.course=="object"?((K=f.course)==null?void 0:K.name)||((H=f.course)==null?void 0:H.course_name)||"N/A":f.course||"N/A"}):t.jsx("p",{className:"detail-modal-value",children:"N/A"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Authorization Price"}),t.jsxs("p",{className:"detail-modal-value",children:["$",parseFloat(f.authorization_price||0).toFixed(2)]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${f.status==="approved"?"approved":f.status==="rejected"?"rejected":f.status==="returned"?"returned":"pending"}`,children:f.status})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Payment Status"}),t.jsx("span",{className:`detail-modal-badge ${f.payment_status==="paid"?"paid":f.payment_status==="failed"?"failed":"pending"}`,children:f.payment_status||"pending"})]})]}),f.group_admin_status&&t.jsxs("div",{className:"detail-modal-group-admin",children:[t.jsx("p",{className:"detail-modal-group-admin-title",children:"Group Admin Status"}),t.jsxs("p",{className:"detail-modal-group-admin-text",children:[f.group_admin_status==="pending"&&"Waiting for Group Admin approval",f.group_admin_status==="commission_set"&&"Ready for payment",f.group_admin_status==="completed"&&"Authorization completed"]})]}),f.status==="approved"&&f.group_admin_status==="commission_set"&&f.payment_status==="pending"&&t.jsx("div",{className:"detail-modal-pay-section",children:t.jsxs("button",{onClick:()=>{u(!1),w(f)},className:"detail-modal-pay-btn",children:[t.jsx(tr,{size:20,className:"detail-modal-pay-icon"}),"Pay Authorization"]})})]})}),t.jsx(Qc,{isOpen:C,onClose:()=>{z(!1)},clientSecret:j==null?void 0:j.client_secret,paymentIntentId:j==null?void 0:j.payment_intent_id,amount:(j==null?void 0:j.amount)||(f==null?void 0:f.authorization_price)||0,currency:(j==null?void 0:j.currency)||"USD",paymentSummary:j,onPaymentSuccess:$,onPaymentError:T=>{N({general:T})}})]})},JE=()=>{var _,S,P,D;const{setHeaderTitle:e,setHeaderSubtitle:s}=it(),[r,a]=d.useState([]),[n,i]=d.useState(null),[o,l]=d.useState(!0),[c,p]=d.useState(!1),[u,f]=d.useState(null),[y,m]=d.useState(""),[x,h]=d.useState("all"),[N,b]=d.useState("all");d.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),d.useEffect(()=>{g()},[]);const g=async()=>{var I,U;l(!0);try{const Y=await Ue.getPaymentTransactions({}),V=(Y==null?void 0:Y.data)||Y||[],R=(Y==null?void 0:Y.summary)||null;a(Array.isArray(V)?V:(V==null?void 0:V.data)||[]),i(R)}catch(Y){console.error("Failed to load transactions:",Y),(U=(I=Y==null?void 0:Y.response)==null?void 0:I.data)!=null&&U.message||Y!=null&&Y.message,console.error("Error details:",Y),a([]),i(null)}finally{l(!1)}},j=I=>{f(I),p(!0)},v=d.useMemo(()=>r.map(I=>{var T,L;const U=I.transaction_type||"",Y=String(I.amount||""),V=I.currency||"",R=I.status||"",O=I.description||"",W=((T=I.payer)==null?void 0:T.name)||"",K=((L=I.payee)==null?void 0:L.name)||"",H=[U,Y,V,R,O,W,K].filter(Boolean).join(" ").toLowerCase();return{...I,_searchText:H}}),[r]),A=d.useMemo(()=>{let I=[...v];if(x!=="all"&&(I=I.filter(U=>U.transaction_type===x)),N!=="all"&&(I=I.filter(U=>U.status===N)),y){const U=y.toLowerCase();I=I.filter(Y=>Y._searchText?Y._searchText.includes(U):!0)}return I},[v,x,N,y]),E=d.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(I,U)=>{const Y=q(U);return t.jsxs("div",{className:"type-column",children:[t.jsx("div",{className:`type-icon-container ${Y?"received":"sent"}`,children:Y?t.jsx(Jm,{className:"type-icon received",size:20}):t.jsx(Dc,{className:"type-icon sent",size:20})}),t.jsx("div",{children:t.jsx("div",{className:"type-label",children:M(U.transaction_type)})})]})}},{header:"Payer",accessor:"payer",sortable:!0,render:(I,U)=>U.payer?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payer",children:U.payer.type==="acc"||U.payer.type==="training_center"?t.jsx(Ie,{className:"payer-payee-icon payer",size:16}):t.jsx(Ts,{className:"payer-payee-icon payer",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:U.payer.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:U.payer.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:(I,U)=>U.payee?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payee",children:U.payee.type==="acc"||U.payee.type==="training_center"?t.jsx(Ie,{className:"payer-payee-icon payee",size:16}):t.jsx(Ts,{className:"payer-payee-icon payee",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:U.payee.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:U.payee.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(I,U)=>t.jsxs("div",{className:`amount-column ${q(U)?"received":"sent"}`,children:[q(U)?"+":"-"," ",C(U.amount,U.currency)]})},{header:"Status",accessor:"status",sortable:!0,render:(I,U)=>{var R,O;const Y=U.status||"",V=Y==="completed"?"completed":Y==="pending"?"pending":Y==="failed"?"failed":"refunded";return t.jsx("span",{className:`status-badge ${V}`,children:((R=U.status)==null?void 0:R.charAt(0).toUpperCase())+((O=U.status)==null?void 0:O.slice(1))||"N/A"})}},{header:"Date",accessor:"created_at",sortable:!0,render:(I,U)=>t.jsxs("div",{className:"date-column",children:[t.jsx(et,{className:"date-icon",size:16}),z(U.created_at)]})}],[]),C=(I,U="USD")=>`${parseFloat(I||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${U}`,z=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",k=I=>I?new Date(I).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",M=I=>(I==null?void 0:I.split("_").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join(" "))||"N/A",q=I=>I.payee&&I.payee.type==="training_center",w=["transaction_type","status","amount","currency","payment_method","description","created_at","completed_at","payment_gateway_transaction_id","payer","payee","reference"],$=I=>!I||typeof I!="object"?!1:["name","email","type","id"].some(Y=>I.hasOwnProperty(Y)),F=(I,U="")=>{if(!I||typeof I!="object")return t.jsx("span",{className:"info-section-value",children:"N/A"});if(Array.isArray(I))return t.jsx("div",{className:"reference-details-list",children:I.map((V,R)=>t.jsx("div",{className:"reference-details-item",children:F(V,`${U}[${R}]`)},R))});const Y=Object.entries(I).filter(([V])=>{if(w.includes(V))return!1;const R=I[V];return!(typeof R=="object"&&R!==null&&!Array.isArray(R)&&$(R)&&Object.keys(R).every(O=>["name","email","type","id"].includes(O)))});return Y.length===0?t.jsx("span",{className:"info-section-value",children:"No additional details"}):t.jsx("div",{className:"reference-details-grid",children:Y.map(([V,R])=>{const O=V.split("_").map(K=>K.charAt(0).toUpperCase()+K.slice(1)).join(" ");let W=R;if(R==null)W="N/A";else if(typeof R=="boolean")W=R?"Yes":"No";else{if(typeof R=="object")return Array.isArray(R)?t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[O,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:F(R,V)})]},V):$(R)&&Object.keys(R).every(K=>["name","email","type","id"].includes(K))?null:t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[O,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:F(R,V)})]},V);typeof R=="string"&&R.match(/^\d{4}-\d{2}-\d{2}/)&&(W=k(R))}return t.jsxs("div",{className:"reference-details-row",children:[t.jsxs("span",{className:"reference-details-label",children:[O,":"]}),t.jsx("span",{className:"reference-details-value",children:String(W)})]},V)}).filter(Boolean)})};return t.jsxs("div",{className:"payment-transactions-container",children:[n&&t.jsxs("div",{className:"summary-cards-grid",children:[t.jsx(gt,{name:"Total Transactions",value:n.total_transactions||0,icon:yr,colorType:"indigo"}),t.jsx(gt,{name:"Total Spent",value:C(n.total_spent||0),icon:Dc,colorType:"red"})]}),t.jsx("div",{className:"search-filters-section",children:t.jsxs("div",{className:"search-filters-container",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(js,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by type, amount, status, payer, payee...",value:y,onChange:I=>m(I.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(fs,{className:"filter-icon",size:20}),t.jsxs("select",{value:x,onChange:I=>h(I.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"instructor_authorization",children:"Instructor Authorization"})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(fs,{className:"filter-icon",size:20}),t.jsxs("select",{value:N,onChange:I=>b(I.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),t.jsx("div",{className:"datatable-container",children:t.jsx($t,{columns:E,data:A,onView:j,onRowClick:j,isLoading:o,emptyMessage:r.length===0&&!o?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsx(yr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-text",children:"No transactions found"}),t.jsx("p",{className:"empty-state-subtext",children:"No transactions available"})]}):"No transactions found matching your filters",searchable:!1,filterable:!1,sortable:!0})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),f(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value",children:M(u.transaction_type)})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${u.status==="completed"?"completed":u.status==="pending"?"pending":u.status==="failed"?"failed":"refunded"}`,children:((_=u.status)==null?void 0:_.charAt(0).toUpperCase())+((S=u.status)==null?void 0:S.slice(1))||"N/A"})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Amount"}),t.jsxs("p",{className:`modal-amount ${q(u)?"received":"sent"}`,children:[q(u)?"+":"-"," ",C(u.amount,u.currency)]})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Payment Method"}),t.jsx("p",{className:"modal-value capitalize",children:((P=u.payment_method)==null?void 0:P.replace("_"," "))||"N/A"})]})]}),u.payer&&t.jsxs("div",{className:"payer-info-section",children:[t.jsx("p",{className:"info-section-title payer",children:"Payer Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Ie,{className:"info-section-icon payer",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:u.payer.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"payee-info-section",children:[t.jsx("p",{className:"info-section-title payee",children:"Payee Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Ie,{className:"info-section-icon payee",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:u.payee.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"description-section",children:[t.jsx("p",{className:"modal-label",children:"Description"}),t.jsx("p",{className:"description-text",children:u.description})]}),u.reference&&t.jsxs("div",{className:"reference-section",children:[t.jsx("p",{className:"reference-title",children:"Reference Information"}),t.jsxs("div",{className:"reference-content",children:[t.jsxs("div",{className:"reference-type-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",style:{marginLeft:"0.5rem"},children:((D=u.reference.type)==null?void 0:D.split("_").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(" "))||"N/A"})]}),u.reference.details&&t.jsxs("div",{className:"reference-details-box",children:[t.jsx("p",{className:"reference-details-title",children:"Details:"}),F(u.reference.details)]})]})]}),t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Created At"}),t.jsx("p",{className:"modal-value",children:k(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Completed At"}),t.jsx("p",{className:"modal-value",children:k(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"payment-gateway-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"modal-value modal-mono",children:u.payment_gateway_transaction_id})]})]})})]})},ZE=()=>{var $,F,_;const[e]=fd(),s=e.get("status"),[r,a]=d.useState([]),[n,i]=d.useState(!0),[o,l]=d.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[c,p]=d.useState(!1),[u,f]=d.useState(!1),[y,m]=d.useState(null),[x,h]=d.useState({completion_rate_percentage:"",notes:""}),N=()=>s?s==="scheduled"?"scheduled":s==="completed"?"completed":"all":"all",[b,g]=d.useState(()=>N());d.useEffect(()=>{j()},[o.currentPage,o.perPage]),d.useEffect(()=>{const S=N();g(S)},[s]);const j=async()=>{i(!0);try{const S={page:o.currentPage,per_page:o.perPage},P=await Ss.listClasses(S);let D=[];P.data?(D=P.data||[],l(I=>({...I,totalPages:P.last_page||P.total_pages||1,totalItems:P.total||0}))):P.classes?(D=P.classes||[],l(I=>{var U;return{...I,totalPages:1,totalItems:((U=P.classes)==null?void 0:U.length)||0}})):(D=Array.isArray(P)?P:[],l(I=>({...I,totalPages:1,totalItems:D.length}))),a(D)}catch(S){console.error("Failed to load classes:",S),a([])}finally{i(!1)}},v=S=>{l(P=>({...P,currentPage:S}))},A=S=>{l(P=>({...P,perPage:S,currentPage:1}))},E=async S=>{try{const P=await Ss.getClassDetails(S.id);m(P.class),p(!0)}catch(P){console.error("Failed to load class details:",P),m(S),p(!0)}},C=S=>{m(S),h({completion_rate_percentage:"",notes:""}),f(!0)},z=async()=>{if(!x.completion_rate_percentage){alert("Please enter completion rate percentage");return}try{await Ss.markClassComplete(y.id,x),await j(),f(!1),m(null),h({completion_rate_percentage:"",notes:""}),l(S=>({...S,currentPage:1})),alert("Class marked as complete!")}catch(S){alert("Failed to mark complete: "+(S.message||"Unknown error"))}},k=S=>S==="completed"?"status-completed":S==="scheduled"?"status-scheduled":"status-default",M=S=>S==="completed"?"modal-status-completed":S==="scheduled"?"modal-status-scheduled":"modal-status-default",q=[{header:"Course",accessor:"course",render:(S,P)=>{var I;const D=typeof S=="string"?S:(S==null?void 0:S.name)||((I=P.course)==null?void 0:I.name)||"N/A";return t.jsxs("div",{className:"course-cell",children:[t.jsx(Zt,{className:"course-icon"}),t.jsx("span",{className:"course-name",children:D})]})}},{header:"Training Center",accessor:"training_center",render:S=>typeof S=="string"?S:(S==null?void 0:S.name)||"N/A"},{header:"Start Date",accessor:"start_date",render:S=>S?new Date(S).toLocaleDateString():"N/A"},{header:"End Date",accessor:"end_date",render:S=>S?new Date(S).toLocaleDateString():"N/A"},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`status-badge ${k(S)}`,children:S})},{header:"Enrolled",accessor:"enrolled_count",render:(S,P)=>{var D;return`${S||0}/${((D=P.course)==null?void 0:D.max_capacity)||"N/A"}`}}],w=[{value:"all",label:"All Classes"},{value:"scheduled",label:"Scheduled",filterFn:S=>S.status==="scheduled"},{value:"completed",label:"Completed",filterFn:S=>S.status==="completed"}];return t.jsxs("div",{children:[t.jsx($t,{columns:q,data:r,onView:E,onRowClick:E,isLoading:n,emptyMessage:"No classes assigned yet.",searchable:!0,filterable:!0,filterOptions:w,sortable:!0,searchPlaceholder:"Search classes...",defaultFilter:b}),!n&&o.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Or,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:v,onPerPageChange:A})}),t.jsx($e,{isOpen:c,onClose:()=>{p(!1),m(null)},title:"Class Details",size:"lg",children:y&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(Zt,{size:16,className:"modal-field-label-icon"}),"Course"]}),t.jsx("p",{className:"modal-field-value",children:typeof y.course=="string"?y.course:(($=y.course)==null?void 0:$.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Training Center"}),t.jsx("p",{className:"modal-field-value",children:typeof y.training_center=="string"?y.training_center:((F=y.training_center)==null?void 0:F.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(et,{size:16,className:"modal-field-label-icon"}),"Start Date"]}),t.jsx("p",{className:"modal-field-value",children:y.start_date?new Date(y.start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(et,{size:16,className:"modal-field-label-icon"}),"End Date"]}),t.jsx("p",{className:"modal-field-value",children:y.end_date?new Date(y.end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(nt,{size:16,className:"modal-field-label-icon"}),"Enrollment"]}),t.jsxs("p",{className:"modal-field-value",children:[y.enrolled_count||0," / ",((_=y.course)==null?void 0:_.max_capacity)||"N/A"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Status"}),t.jsx("span",{className:`modal-status-badge ${M(y.status)}`,children:y.status})]})]}),y.location_details&&t.jsxs("div",{className:"location-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(vt,{size:16,className:"modal-field-label-icon"}),"Location"]}),t.jsx("p",{className:"modal-field-value",children:y.location_details})]}),y.materials&&y.materials.length>0&&t.jsxs("div",{className:"materials-section",children:[t.jsx("h3",{className:"materials-title",children:"Course Materials"}),t.jsx("div",{className:"materials-list",children:y.materials.map((S,P)=>t.jsxs("div",{className:"material-item",children:[t.jsx("p",{className:"material-name",children:S.name}),S.file_url&&t.jsx("a",{href:S.file_url,target:"_blank",rel:"noopener noreferrer",className:"material-link",children:"Download"})]},P))})]}),y.status!=="completed"&&t.jsx("div",{className:"modal-actions",children:t.jsxs("button",{onClick:()=>{p(!1),C(y)},className:"complete-button",children:[t.jsx(De,{size:20,className:"complete-button-icon"}),"Mark as Complete"]})})]})}),t.jsx($e,{isOpen:u,onClose:()=>{f(!1),m(null),h({completion_rate_percentage:"",notes:""})},title:"Mark Class as Complete",size:"md",children:t.jsxs("div",{className:"complete-modal-content",children:[t.jsx(fe,{label:"Completion Rate (%)",name:"completion_rate_percentage",type:"number",value:x.completion_rate_percentage,onChange:S=>h({...x,completion_rate_percentage:S.target.value}),required:!0,min:"0",max:"100",placeholder:"e.g., 95"}),t.jsx(fe,{label:"Notes (Optional)",name:"notes",value:x.notes,onChange:S=>h({...x,notes:S.target.value}),textarea:!0,rows:4,placeholder:"Add any notes about the class completion..."}),t.jsxs("div",{className:"complete-modal-actions",children:[t.jsx("button",{onClick:()=>{f(!1),m(null),h({completion_rate_percentage:"",notes:""})},className:"cancel-button",children:"Cancel"}),t.jsx("button",{onClick:z,className:"confirm-button",children:"Mark Complete"})]})]})})]})},ez=()=>{var y;const[e,s]=d.useState([]),[r,a]=d.useState(!0),[n,i]=d.useState(!1),[o,l]=d.useState(null);d.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await Ss.getAvailableMaterials();s(m.materials||[])}catch(m){console.error("Failed to load materials:",m)}finally{a(!1)}},p=m=>{l(m),i(!0)},u=m=>{m.file_url?window.open(m.file_url,"_blank"):alert("File not available")},f=[{header:"Material",accessor:"name",render:(m,x)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Be,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:m}),t.jsx("div",{className:"text-sm text-gray-500",children:x.material_type})]})]})},{header:"Course",accessor:"course",render:m=>typeof m=="string"?m:(m==null?void 0:m.name)||"N/A"},{header:"Type",accessor:"material_type",render:m=>m?m.toUpperCase():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Access course materials for your classes"})]}),t.jsx($t,{columns:f,data:e,onView:p,onRowClick:p,isLoading:r,emptyMessage:"No materials available."}),t.jsx($e,{isOpen:n,onClose:()=>{i(!1),l(null)},title:"Material Details",size:"md",children:o&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.course})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((y=o.material_type)==null?void 0:y.toUpperCase())||"N/A"})]}),o.file_url&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>u(o),className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(Ic,{size:20,className:"mr-2"}),"Download"]})})]})})]})},tz=()=>{const[e,s]=d.useState([]),[r,a]=d.useState(null),[n,i]=d.useState(!0),[o,l]=d.useState(!1),[c,p]=d.useState(null);d.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Ss.getEarnings();s(m.earnings||[]),a(m.summary)}catch(m){console.error("Failed to load earnings:",m)}finally{i(!1)}},f=m=>{p(m),l(!0)},y=[{header:"Certificate",accessor:"certificate",render:(m,x)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Yt,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:m})]})},{header:"Amount",accessor:"amount",render:m=>`$${parseFloat(m||0).toFixed(2)}`},{header:"Commission %",accessor:"commission_percentage",render:m=>`${m||0}%`},{header:"Status",accessor:"status",render:m=>{const x={paid:{bg:"bg-green-100",text:"text-green-800",icon:De},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ve}},h=x[m]||x.pending,N=h.icon;return t.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${h.bg} ${h.text}`,children:[t.jsx(N,{size:12,className:"mr-1"}),m]})}},{header:"Paid Date",accessor:"paid_at",render:m=>m?new Date(m).toLocaleDateString():"-"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View your earnings and payment history"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Yt,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-green-100 mb-2",children:"Total Earnings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Ve,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-yellow-100 mb-2",children:"Pending"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.pending||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(De,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-blue-100 mb-2",children:"Paid"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.paid||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsx($t,{columns:y,data:e,onView:f,onRowClick:f,isLoading:n,emptyMessage:"No earnings found."}),t.jsx($e,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Earning Details",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Certificate"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.certificate})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(c.amount||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.commission_percentage||0,"%"]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${c.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),c.paid_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Paid Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(c.paid_at).toLocaleDateString()})]})]})})]})},sz="modulepreload",rz=function(e){return"/"+e},m0={},az=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=rz(c),c in m0)return;m0[c]=!0;const p=c.endsWith(".css"),u=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":sz,p||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),p)return new Promise((y,m)=>{f.addEventListener("load",y),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},nz=()=>{const{user:e}=or(),{setHeaderTitle:s,setHeaderSubtitle:r}=it(),[a,n]=d.useState(!1),[i,o]=d.useState(!1),[l,c]=d.useState(null),[p,u]=d.useState(null),[f,y]=d.useState(!1),[m,x]=d.useState([]),[h,N]=d.useState([]),[b,g]=d.useState(!1),[j,v]=d.useState(!1),[A,E]=d.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[]}),[C,z]=d.useState({current_password:"",password:"",password_confirmation:""}),[k,M]=d.useState({}),[q,w]=d.useState("");d.useEffect(()=>(s("Profile"),r("Manage your account settings and preferences"),()=>{s(null),r(null)}),[s,r]),d.useEffect(()=>{F()},[]),d.useEffect(()=>{m.length>0&&$()},[m.length]),d.useEffect(()=>{A.country?_(A.country):(N([]),E(V=>({...V,city:""})))},[A.country]),d.useEffect(()=>{h.length>0&&(l!=null&&l.city)&&!A.city&&h.some(R=>R.name===l.city)&&E(R=>({...R,city:l.city}))},[h.length,l==null?void 0:l.city]);const $=async()=>{n(!0);try{const V=await Ss.getProfile(),R=V.profile||V.instructor||V;c(R);let O=R.country||"";if(O&&m.length>0){const K=m.find(H=>H.name===O||H.code===O);K&&(O=K.code)}const W=R.city||"";E({first_name:R.first_name||"",last_name:R.last_name||"",email:R.email||(e==null?void 0:e.email)||"",phone:R.phone||"",country:O,city:W,id_number:R.id_number||"",specializations:R.specializations||[]}),O&&await _(O),(R.cv_url||R.cv||R.resume_url||R.resume)&&u(R.cv_url||R.cv||R.resume_url||R.resume)}catch(V){console.error("Failed to load profile:",V)}finally{n(!1)}},F=async()=>{g(!0);try{const V=await Io.getCountries();x(V.countries||[])}catch(V){console.error("Failed to load countries:",V),x([])}finally{g(!1)}},_=async V=>{var R;if(!V){N([]);return}v(!0);try{const O=await Io.getCities(V);let W=O.cities||((R=O.data)==null?void 0:R.cities)||O.data||O||[];!Array.isArray(W)&&typeof W=="object"&&(W=Object.values(W)),N(Array.isArray(W)?W:[])}catch(O){console.error("Failed to load cities:",O),N([])}finally{v(!1)}},S=V=>{E({...A,[V.target.name]:V.target.value}),M({}),w("")},P=V=>{z({...C,[V.target.name]:V.target.value}),M({}),w("")},D=async V=>{var R,O,W,K;V.preventDefault(),o(!0),M({}),w("");try{const H={first_name:A.first_name,last_name:A.last_name,email:A.email,phone:A.phone||null,country:A.country||null,city:A.city||null,id_number:A.id_number||null,specializations:A.specializations||[]},T=await Ss.updateProfile(H),L=T.profile||T.instructor||T;c(L),w("Profile updated successfully!"),E(ie=>({...ie,first_name:L.first_name||ie.first_name,last_name:L.last_name||ie.last_name,email:L.email||ie.email,phone:L.phone||ie.phone||"",country:L.country||ie.country||"",city:L.city||ie.city||"",id_number:L.id_number||ie.id_number||"",specializations:L.specializations||ie.specializations||[]})),(L.cv_url||L.cv)&&u(L.cv_url||L.cv)}catch(H){(O=(R=H.response)==null?void 0:R.data)!=null&&O.errors?M(H.response.data.errors):H.errors?M(H.errors):M({general:((K=(W=H.response)==null?void 0:W.data)==null?void 0:K.message)||H.message||"Failed to update profile"})}finally{o(!1)}},I=async V=>{V.preventDefault(),o(!0),M({}),w("");try{const{authAPI:R}=await az(async()=>{const{authAPI:O}=await Promise.resolve().then(()=>B2);return{authAPI:O}},void 0);await R.changePassword(C),w("Password changed successfully!"),z({current_password:"",password:"",password_confirmation:""})}catch(R){R.errors?M(R.errors):M({password:R.message||"Failed to change password"})}finally{o(!1)}},U=async V=>{var O,W,K,H;const R=V.target.files[0];if(R){if(R.type!=="application/pdf"){M({cv:"Only PDF files are allowed"}),V.target.value="";return}if(R.size>10*1024*1024){M({cv:"File size must be less than 10MB"}),V.target.value="";return}M({}),w(""),y(!0);try{const T=new FormData;T.append("cv",R);const L=await Ss.updateProfile(T),ie=L.profile||L.instructor||L;if(ie.cv_url||ie.cv)u(ie.cv_url||ie.cv),c(ie),w("CV uploaded successfully!");else throw new Error("CV upload failed - no CV URL returned");V.target.value=""}catch(T){console.error("Failed to upload CV:",T),(W=(O=T.response)==null?void 0:O.data)!=null&&W.message?M({cv:T.response.data.message}):(H=(K=T.response)==null?void 0:K.data)!=null&&H.errors?M(T.response.data.errors):M({cv:T.message||"Failed to upload CV"})}finally{y(!1)}}},Y=async()=>{var V,R;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){y(!0),M({}),w("");try{const O=new FormData;O.append("cv","");const W=await Ss.updateProfile(O),K=W.profile||W.instructor||W;c(K),u(null),w("CV removed successfully!")}catch(O){console.error("Failed to remove CV:",O),(R=(V=O.response)==null?void 0:V.data)!=null&&R.message?M({cv:O.response.data.message}):M({cv:O.message||"Failed to remove CV"})}finally{y(!1)}}};return a?t.jsx("div",{className:"instructor-profile-loading",children:t.jsx("div",{className:"instructor-profile-spinner"})}):t.jsxs("div",{className:"instructor-profile-container",children:[q&&t.jsxs("div",{className:"instructor-profile-success",children:[t.jsx(li,{className:"instructor-profile-success-icon",size:24}),t.jsx("p",{className:"instructor-profile-success-text",children:q})]}),t.jsx("div",{className:"instructor-profile-content",children:t.jsxs("div",{className:"instructor-profile-section",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper",children:t.jsx(Ts,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Profile Information"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:D,className:"instructor-profile-form",children:[t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:A.first_name,onChange:S,required:!0,error:k.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:A.last_name,onChange:S,required:!0,error:k.last_name})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:A.email,onChange:S,required:!0,error:k.email}),t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:A.phone,onChange:S,error:k.phone})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Country"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(vt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"country",value:A.country,onChange:S,className:"instructor-profile-select",disabled:b,children:[t.jsx("option",{value:"",children:"Select Country"}),m.map(V=>t.jsx("option",{value:V.code,children:V.name},V.code))]})]}),k.country&&t.jsx("p",{className:"instructor-profile-error",children:k.country})]}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"City"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(vt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"city",value:A.city,onChange:S,className:"instructor-profile-select",disabled:!A.country||j,children:[t.jsx("option",{value:"",children:"Select City"}),Array.isArray(h)&&h.map((V,R)=>t.jsx("option",{value:V.name,children:V.name},R))]})]}),k.city&&t.jsx("p",{className:"instructor-profile-error",children:k.city})]})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(fe,{label:"ID Number",name:"id_number",value:A.id_number,onChange:S,error:k.id_number}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Type"}),t.jsx("div",{className:"instructor-profile-select-container",children:l!=null&&l.is_assessor?t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Assessor"}):t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 border border-gray-200",children:"Instructor"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field is managed by your Training Center"})]})]}),t.jsx(ah,{label:"Languages",value:A.specializations,onChange:V=>{E({...A,specializations:V}),M({})},error:k.specializations}),k.general&&t.jsx("div",{className:"instructor-profile-error-box",children:t.jsx("p",{className:"instructor-profile-error-text",children:k.general})}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,disabled:i,loading:i,icon:t.jsx(li,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"instructor-profile-grid-2",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-red",children:t.jsx(Sf,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Change Password"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:I,className:"instructor-profile-form",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:C.current_password,onChange:P,required:!0,error:k.current_password}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:C.password,onChange:P,required:!0,error:k.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:C.password_confirmation,onChange:P,required:!0,error:k.password_confirmation})]}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(Ze,{type:"submit",variant:"danger",disabled:i,loading:i,icon:t.jsx(vd,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-indigo",children:t.jsx(Be,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"CV / Resume"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"instructor-profile-cv-content",children:[p&&t.jsx("div",{className:"mb-4 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Be,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Current CV"}),t.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"View CV"})]})]}),t.jsx("button",{onClick:Y,disabled:f,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Remove CV",children:t.jsx(Vs,{size:18})})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:p?"Update CV":"Upload CV"}),t.jsxs("label",{className:"block w-full p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:border-primary-400 hover:bg-primary-50/30 transition-all cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:U,disabled:f,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mb-3",children:t.jsx(Jr,{className:"text-primary-600",size:24})}),f?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Uploading CV..."}),t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary-600 border-t-transparent mt-2"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:p?"Click to update CV":"Click to upload CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, maximum 10MB"})]})]})]}),k.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:k.cv})]})]})]})]})]})})]})},iz=()=>{const{user:e,updateUser:s}=or(),{setHeaderTitle:r,setHeaderSubtitle:a}=it(),[n,i]=d.useState(!1),[o,l]=d.useState(!1),c=(e==null?void 0:e.role)==="instructor",p=(e==null?void 0:e.role)==="training_center_admin",[u,f]=d.useState(null),[y,m]=d.useState(null),[x,h]=d.useState(null),[N,b]=d.useState(!1),[g,j]=d.useState(null),[v,A]=d.useState(null),[E,C]=d.useState(!1),[z,k]=d.useState([]),[M,q]=d.useState([]),[w,$]=d.useState(!1),[F,_]=d.useState(!1),[S,P]=d.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[],name:"",address:"",state:"",postal_code:"",website:"",description:""}),[D,I]=d.useState({current_password:"",password:"",password_confirmation:""}),[U,Y]=d.useState({}),[V,R]=d.useState("");d.useEffect(()=>{W()},[]),d.useEffect(()=>{(z.length>0||!c&&!p||p&&z.length>0)&&O()},[z.length,c,p]),d.useEffect(()=>{p&&S.country?K(S.country):p&&!S.country&&q([])},[S.country,p]),d.useEffect(()=>{c&&S.country?K(S.country):c&&!S.country&&(q([]),P(de=>({...de,city:""})))},[S.country,c]),d.useEffect(()=>(r("Profile"),a("Manage your account settings and preferences"),()=>{r(null),a(null)}),[r,a]);const O=async()=>{i(!0);try{if(c){const de=await Ss.getProfile(),ue=de.profile||de.instructor||de;f(ue);let Z=ue.country||"";if(Z&&z.length>0){const ve=z.find(Pe=>Pe.name===Z||Pe.code===Z);ve&&(Z=ve.code)}const me=ue.city||"";P({first_name:ue.first_name||"",last_name:ue.last_name||"",email:ue.email||(e==null?void 0:e.email)||"",phone:ue.phone||"",country:Z,city:me,id_number:ue.id_number||"",specializations:ue.specializations||[]}),Z&&await K(Z),(ue.cv_url||ue.cv||ue.resume_url||ue.resume)&&h(ue.cv_url||ue.cv||ue.resume_url||ue.resume)}else if(p){const de=await Os.getProfile(),ue=de.training_center||de.user||de;let Z=ue.country||"";if(Z&&z.length>0){const me=z.find(ve=>ve.name===Z||ve.code===Z);me&&(Z=me.code)}P({name:ue.name||ue.training_center_name||"",email:ue.email||(e==null?void 0:e.email)||"",phone:ue.phone||ue.phone_number||"",address:ue.address||"",city:ue.city||"",state:ue.state||ue.province||"",country:Z,postal_code:ue.postal_code||ue.zip_code||"",website:ue.website||ue.website_url||"",description:ue.description||ue.bio||""}),(ue.logo||ue.logo_url||ue.avatar)&&A(ue.logo||ue.logo_url||ue.avatar),Z&&await K(Z),s(de.user||ue)}else{const de=await Os.getProfile();P({first_name:"",last_name:"",name:de.user.name||"",email:de.user.email||"",phone:"",country:"",city:""}),s(de.user)}}catch(de){console.error("Failed to load profile:",de)}finally{i(!1)}},W=async()=>{$(!0);try{const de=await Io.getCountries();k(de.countries||[])}catch(de){console.error("Failed to load countries:",de),k([])}finally{$(!1)}},K=async de=>{var ue;if(!de){q([]);return}_(!0);try{const Z=await Io.getCities(de);let me=Z.cities||((ue=Z.data)==null?void 0:ue.cities)||Z.data||Z||[];!Array.isArray(me)&&typeof me=="object"&&(me=Object.values(me)),q(Array.isArray(me)?me:[])}catch(Z){console.error("Failed to load cities:",Z),q([])}finally{_(!1)}},H=de=>{const{name:ue,value:Z}=de.target;P({...S,[ue]:Z,...ue==="country"&&{city:""}}),Y({}),R("")},T=de=>{const ue=de.target.files[0];if(ue){if(!ue.type.startsWith("image/")){Y({...U,logo:"Please select an image file"});return}if(ue.size>5*1024*1024){Y({...U,logo:"Image size must be less than 5MB"});return}j(ue);const Z=new FileReader;Z.onloadend=()=>{A(Z.result)},Z.readAsDataURL(ue),Y({...U,logo:null})}},L=de=>{I({...D,[de.target.name]:de.target.value}),Y({}),R("")},ie=async de=>{var ue,Z,me,ve;de.preventDefault(),l(!0),Y({}),R("");try{if(c){const Pe={first_name:S.first_name,last_name:S.last_name,email:S.email,phone:S.phone||null,country:S.country||null,city:S.city||null,id_number:S.id_number||null,specializations:S.specializations||[]},ke=await Ss.updateProfile(Pe),te=ke.profile||ke.instructor||ke;f(te),R("Profile updated successfully!"),P(ae=>({...ae,first_name:te.first_name||ae.first_name,last_name:te.last_name||ae.last_name,email:te.email||ae.email,phone:te.phone||ae.phone||"",country:te.country||ae.country||"",city:te.city||ae.city||"",id_number:te.id_number||ae.id_number||"",specializations:te.specializations||ae.specializations||[]})),(te.cv_url||te.cv)&&h(te.cv_url||te.cv)}else if(p){const Pe=new FormData;Object.keys(S).forEach(se=>{S[se]!==null&&S[se]!==""&&Pe.append(se,S[se])}),g instanceof File&&Pe.append("logo",g);const ke=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),ae=await rt.post("https://aeroenix.com/v1/api/auth/profile?_method=PUT",Pe,{headers:{Authorization:`Bearer ${ke}`,Accept:"application/json"}}),ce=ae.data.training_center||ae.data.user||ae.data;s(ae.data.user||ce),(ce.logo||ce.logo_url)&&A(ce.logo||ce.logo_url),j(null),C(!1),R("Profile updated successfully!")}else{const Pe=await Os.updateProfile(S);s(Pe.user),R("Profile updated successfully!")}}catch(Pe){(Z=(ue=Pe.response)==null?void 0:ue.data)!=null&&Z.errors?Y(Pe.response.data.errors):Pe.errors?Y(Pe.errors):Y({general:((ve=(me=Pe.response)==null?void 0:me.data)==null?void 0:ve.message)||Pe.message||"Failed to update profile"})}finally{l(!1)}},re=async de=>{de.preventDefault(),l(!0),Y({}),R("");try{await Os.changePassword(D),R("Password changed successfully!"),I({current_password:"",password:"",password_confirmation:""})}catch(ue){ue.errors?Y(ue.errors):Y({password:ue.message||"Failed to change password"})}finally{l(!1)}},le=de=>{const ue=de.target.files[0];if(ue){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(ue.type)){Y({cv:"Please upload a PDF or Word document"});return}if(ue.size>5*1024*1024){Y({cv:"File size must be less than 5MB"});return}m(ue),Y({})}},pe=async()=>{var de,ue,Z,me;if(y){b(!0),Y({}),R("");try{const ve=new FormData;ve.append("cv",y);const Pe=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),te=await rt.put("https://aeroenix.com/v1/api/instructor/profile",ve,{headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}}),ae=te.data.profile||te.data.instructor||te.data;(ae.cv_url||ae.cv)&&h(ae.cv_url||ae.cv),f(ae),P(ce=>({...ce,first_name:ae.first_name||ce.first_name,last_name:ae.last_name||ce.last_name,email:ae.email||ce.email,phone:ae.phone||ce.phone,country:ae.country||ce.country,city:ae.city||ce.city,id_number:ae.id_number||ce.id_number,specializations:ae.specializations||ce.specializations})),m(null),R("CV uploaded successfully!")}catch(ve){console.error("Failed to upload CV:",ve),(ue=(de=ve.response)==null?void 0:de.data)!=null&&ue.errors?Y(ve.response.data.errors):Y({cv:((me=(Z=ve.response)==null?void 0:Z.data)==null?void 0:me.message)||ve.message||"Failed to upload CV"})}finally{b(!1)}}},oe=async()=>{var de,ue,Z,me;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){b(!0),Y({}),R("");try{const ve=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),Pe="https://aeroenix.com/v1/api",ke=new FormData;ke.append("cv","");const te=await rt.put(`${Pe}/instructor/profile`,ke,{headers:{Authorization:`Bearer ${ve}`,Accept:"application/json"}}),ae=te.data.profile||te.data.instructor||te.data;f(ae),h(null),m(null),R("CV removed successfully!"),P(ce=>({...ce,first_name:ae.first_name||ce.first_name,last_name:ae.last_name||ce.last_name,email:ae.email||ce.email,phone:ae.phone||ce.phone,country:ae.country||ce.country,city:ae.city||ce.city,id_number:ae.id_number||ce.id_number,specializations:ae.specializations||ce.specializations}))}catch(ve){console.error("Failed to remove CV:",ve),(ue=(de=ve.response)==null?void 0:de.data)!=null&&ue.errors?Y(ve.response.data.errors):Y({cv:((me=(Z=ve.response)==null?void 0:Z.data)==null?void 0:me.message)||ve.message||"Failed to remove CV"})}finally{b(!1)}}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[V&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(De,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:V})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Ts,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:ie,className:"space-y-5",children:[p?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b border-gray-200",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:v?t.jsx("img",{src:v,alt:"Logo",className:"w-full h-full object-cover"}):t.jsx(Ie,{className:"text-gray-400",size:40})}),E&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[t.jsx(Jr,{size:16}),t.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Center Logo"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your training center logo"}),!E&&t.jsxs("button",{type:"button",onClick:()=>C(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[t.jsx(ts,{size:16}),"Edit Profile"]}),U.logo&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:U.logo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Training Center Name",name:"name",value:S.name,onChange:H,required:!0,disabled:!E,error:U.name}),t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:H,required:!0,disabled:!E,error:U.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:S.phone,onChange:H,disabled:!E,error:U.phone}),t.jsx(fe,{label:"Website",name:"website",type:"url",value:S.website,onChange:H,disabled:!E,error:U.website,placeholder:"https://example.com"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5",children:t.jsx(fe,{label:"Address",name:"address",value:S.address,onChange:H,disabled:!E,error:U.address})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:S.country,onChange:H,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!E||w,children:[t.jsx("option",{value:"",children:"Select Country"}),z.map(de=>t.jsx("option",{value:de.code,children:de.name},de.code))]})]}),U.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:S.city,onChange:H,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!E||!S.country||F,children:[t.jsx("option",{value:"",children:"Select City"}),M.map((de,ue)=>t.jsx("option",{value:de.name,children:de.name},ue))]})]}),U.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.city})]}),t.jsx(fe,{label:"State/Province",name:"state",value:S.state,onChange:H,disabled:!E,error:U.state})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(fe,{label:"Postal Code",name:"postal_code",value:S.postal_code,onChange:H,disabled:!E,error:U.postal_code})}),t.jsx(fe,{label:"Description",name:"description",textarea:!0,rows:6,value:S.description,onChange:H,disabled:!E,error:U.description,placeholder:"Tell us about your training center..."}),E&&t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(Ze,{type:"button",variant:"secondary",onClick:()=>{C(!1),j(null),O()},disabled:o,children:"Cancel"}),t.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(li,{size:20}),children:"Save Changes"})]})]}):c?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"First Name",name:"first_name",value:S.first_name,onChange:H,required:!0,error:U.first_name}),t.jsx(fe,{label:"Last Name",name:"last_name",value:S.last_name,onChange:H,required:!0,error:U.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:H,required:!0,error:U.email}),t.jsx(fe,{label:"Phone Number",name:"phone",type:"tel",value:S.phone,onChange:H,error:U.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:S.country,onChange:H,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:w,children:[t.jsx("option",{value:"",children:"Select Country"}),z.map(de=>t.jsx("option",{value:de.code,children:de.name},de.code))]})]}),U.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:S.city,onChange:H,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:!S.country||F,children:[t.jsx("option",{value:"",children:"Select City"}),M.map((de,ue)=>t.jsx("option",{value:de.name,children:de.name},ue))]})]}),U.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:U.city})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(fe,{label:"ID Number",name:"id_number",value:S.id_number,onChange:H,error:U.id_number})}),t.jsx(ah,{label:"Languages",value:S.specializations,onChange:de=>{P({...S,specializations:de}),Y({})},error:U.specializations})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"Full Name",name:"name",value:S.name,onChange:H,required:!0,error:U.name}),t.jsx(fe,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:H,required:!0,error:U.email})]}),U.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:U.general})}),!p&&t.jsx("div",{className:"pt-2",children:t.jsx(Ze,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(li,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Sf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:re,className:"space-y-5",children:[t.jsx(fe,{label:"Current Password",type:"password",name:"current_password",value:D.current_password,onChange:L,required:!0,error:U.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(fe,{label:"New Password",type:"password",name:"password",value:D.password,onChange:L,required:!0,error:U.password}),t.jsx(fe,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:D.password_confirmation,onChange:L,required:!0,error:U.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(Ze,{type:"submit",variant:"danger",disabled:o,loading:o,icon:t.jsx(vd,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Be,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"space-y-4",children:[x&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Be,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Be,{size:16}),x.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]}),t.jsx("button",{onClick:oe,disabled:N,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(Vs,{size:18})})]})}),!x&&!y&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Be,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your CV below to get started"})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x?"Update CV":"Upload CV"}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:le,className:"hidden"}),t.jsx("div",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Jr,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:y?y.name:"Click to select PDF or Word document"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max size: 5MB"})]})})]})}),U.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:U.cv})]}),y&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ze,{onClick:pe,disabled:N,loading:N,icon:t.jsx(Jr,{size:18}),children:N?"Uploading...":"Upload CV"}),t.jsx(Ze,{onClick:()=>m(null),variant:"secondary",disabled:N,children:"Cancel"})]})]})]})]})]})})]})},oz=()=>{const{user:e}=or();return t.jsx(Pn,{children:(e==null?void 0:e.role)==="acc_admin"?t.jsx(SE,{}):t.jsx(iz,{})})};function lz(){return t.jsx(q2,{children:t.jsx(V2,{children:t.jsx(H2,{children:t.jsx(oC,{children:t.jsxs(Ti,{children:[t.jsx(Oe,{path:"/login",element:t.jsx(t0,{})}),t.jsx(Oe,{path:"/register",element:t.jsx(t0,{})}),t.jsx(Oe,{path:"/reset-password",element:t.jsx(z3,{})}),t.jsx(Oe,{path:"/pending-account",element:t.jsx(Ba,{allowPending:!0,children:t.jsx(E3,{})})}),t.jsx(Oe,{path:"/unauthorized",element:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700",children:"Go to Dashboard"})]})})}),t.jsx(Oe,{path:"/dashboard",element:t.jsx(Ba,{children:t.jsx(Pn,{children:t.jsx($3,{})})})}),t.jsx(Oe,{path:"/admin/*",element:t.jsx(Ba,{allowedRoles:["group_admin"],children:t.jsx(Pn,{children:t.jsxs(Ti,{children:[t.jsx(Oe,{path:"accs",element:t.jsx(D3,{})}),t.jsx(Oe,{path:"training-center-applications",element:t.jsx(F3,{})}),t.jsx(Oe,{path:"all-accs",element:t.jsx(I3,{})}),t.jsx(Oe,{path:"all-training-centers",element:t.jsx(L3,{})}),t.jsx(Oe,{path:"all-instructors",element:t.jsx(M3,{})}),t.jsx(Oe,{path:"all-courses",element:t.jsx(O3,{})}),t.jsx(Oe,{path:"categories",element:t.jsx(U3,{})}),t.jsx(Oe,{path:"financial",element:t.jsx(B3,{})}),t.jsx(Oe,{path:"payment-transactions",element:t.jsx(q3,{})}),t.jsx(Oe,{path:"reports",element:t.jsx(V3,{})}),t.jsx(Oe,{path:"instructor-authorizations",element:t.jsx(W3,{})}),t.jsx(Oe,{path:"stripe-settings",element:t.jsx(H3,{})})]})})})}),t.jsx(Oe,{path:"/acc/*",element:t.jsx(Ba,{allowedRoles:["acc_admin"],children:t.jsx(Pn,{children:t.jsxs(Ti,{children:[t.jsx(Oe,{path:"dashboard",element:t.jsx(vj,{})}),t.jsx(Oe,{path:"subscription",element:t.jsx(_E,{})}),t.jsx(Oe,{path:"training-centers",element:t.jsx(kE,{})}),t.jsx(Oe,{path:"instructors",element:t.jsx(AE,{})}),t.jsx(Oe,{path:"courses",element:t.jsx(TE,{})}),t.jsx(Oe,{path:"certificates",element:t.jsx(RE,{})}),t.jsx(Oe,{path:"materials",element:t.jsx($E,{})}),t.jsx(Oe,{path:"discount-codes",element:t.jsx(DE,{})}),t.jsx(Oe,{path:"categories",element:t.jsx(FE,{})}),t.jsx(Oe,{path:"classes",element:t.jsx(LE,{})}),t.jsx(Oe,{path:"payment-transactions",element:t.jsx(IE,{})})]})})})}),t.jsx(Oe,{path:"/training-center/*",element:t.jsx(Ba,{allowedRoles:["training_center_admin"],children:t.jsx(Pn,{children:t.jsxs(Ti,{children:[t.jsx(Oe,{path:"dashboard",element:t.jsx(jj,{})}),t.jsx(Oe,{path:"accs",element:t.jsx(BE,{})}),t.jsx(Oe,{path:"instructors",element:t.jsx(VE,{})}),t.jsx(Oe,{path:"trainees",element:t.jsx(WE,{})}),t.jsx(Oe,{path:"classes",element:t.jsx(HE,{})}),t.jsx(Oe,{path:"codes",element:t.jsx(KE,{})}),t.jsx(Oe,{path:"certificates",element:t.jsx(GE,{})}),t.jsx(Oe,{path:"wallet",element:t.jsx(YE,{})}),t.jsx(Oe,{path:"marketplace",element:t.jsx(QE,{})}),t.jsx(Oe,{path:"instructor-authorizations",element:t.jsx(XE,{})}),t.jsx(Oe,{path:"payment-transactions",element:t.jsx(JE,{})})]})})})}),t.jsx(Oe,{path:"/instructor/*",element:t.jsx(Ba,{allowedRoles:["instructor"],children:t.jsx(Pn,{children:t.jsxs(Ti,{children:[t.jsx(Oe,{path:"dashboard",element:t.jsx(Nj,{})}),t.jsx(Oe,{path:"classes",element:t.jsx(ZE,{})}),t.jsx(Oe,{path:"materials",element:t.jsx(ez,{})}),t.jsx(Oe,{path:"earnings",element:t.jsx(tz,{})}),t.jsx(Oe,{path:"profile",element:t.jsx(nz,{})})]})})})}),t.jsx(Oe,{path:"/profile",element:t.jsx(Ba,{children:t.jsx(oz,{})})}),t.jsx(Oe,{path:"/",element:t.jsx(Ql,{to:"/dashboard",replace:!0})})]})})})})})}Xu.createRoot(document.getElementById("root")).render(t.jsx(tt.StrictMode,{children:t.jsx(lz,{})}));
