var Zj=Object.defineProperty;var eN=(e,s,r)=>s in e?Zj(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var Si=(e,s,r)=>eN(e,typeof s!="symbol"?s+"":s,r);function tN(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N0={exports:{}},td={},w0={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),sN=Symbol.for("react.portal"),rN=Symbol.for("react.fragment"),aN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),iN=Symbol.for("react.provider"),lN=Symbol.for("react.context"),oN=Symbol.for("react.forward_ref"),cN=Symbol.for("react.suspense"),dN=Symbol.for("react.memo"),uN=Symbol.for("react.lazy"),xh=Symbol.iterator;function mN(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S0=Object.assign,_0={};function hi(e,s,r){this.props=e,this.context=s,this.refs=_0,this.updater=r||C0}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k0(){}k0.prototype=hi.prototype;function _p(e,s,r){this.props=e,this.context=s,this.refs=_0,this.updater=r||C0}var kp=_p.prototype=new k0;kp.constructor=_p;S0(kp,hi.prototype);kp.isPureReactComponent=!0;var yh=Array.isArray,P0=Object.prototype.hasOwnProperty,Pp={current:null},A0={key:!0,ref:!0,__self:!0,__source:!0};function E0(e,s,r){var a,n={},i=null,l=null;if(s!=null)for(a in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)P0.call(s,a)&&!A0.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var d=Array(o),m=0;m<o;m++)d[m]=arguments[m+2];n.children=d}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Hl,type:e,key:i,ref:l,props:n,_owner:Pp.current}}function pN(e,s){return{$$typeof:Hl,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function fN(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var bh=/\/+/g;function mu(e,s){return typeof e=="object"&&e!==null&&e.key!=null?fN(""+e.key):s.toString(36)}function Uo(e,s,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Hl:case sN:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+mu(l,0):a,yh(n)?(r="",e!=null&&(r=e.replace(bh,"$&/")+"/"),Uo(n,s,r,"",function(m){return m})):n!=null&&(Ap(n)&&(n=pN(n,r+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(bh,"$&/")+"/")+e)),s.push(n)),1;if(l=0,a=a===""?".":a+":",yh(e))for(var o=0;o<e.length;o++){i=e[o];var d=a+mu(i,o);l+=Uo(i,s,r,d,n)}else if(d=mN(e),typeof d=="function")for(e=d.call(e),o=0;!(i=e.next()).done;)i=i.value,d=a+mu(i,o++),l+=Uo(i,s,r,d,n);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function mo(e,s,r){if(e==null)return e;var a=[],n=0;return Uo(e,a,"","",function(i){return s.call(r,i,n++)}),a}function hN(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Cs={current:null},Bo={transition:null},gN={ReactCurrentDispatcher:Cs,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:Pp};function z0(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:mo,forEach:function(e,s,r){mo(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return mo(e,function(){s++}),s},toArray:function(e){return mo(e,function(s){return s})||[]},only:function(e){if(!Ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=hi;lt.Fragment=rN;lt.Profiler=nN;lt.PureComponent=_p;lt.StrictMode=aN;lt.Suspense=cN;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gN;lt.act=z0;lt.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=S0({},e.props),n=e.key,i=e.ref,l=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Pp.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in s)P0.call(s,d)&&!A0.hasOwnProperty(d)&&(a[d]=s[d]===void 0&&o!==void 0?o[d]:s[d])}var d=arguments.length-2;if(d===1)a.children=r;else if(1<d){o=Array(d);for(var m=0;m<d;m++)o[m]=arguments[m+2];a.children=o}return{$$typeof:Hl,type:e.type,key:n,ref:i,props:a,_owner:l}};lt.createContext=function(e){return e={$$typeof:lN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iN,_context:e},e.Consumer=e};lt.createElement=E0;lt.createFactory=function(e){var s=E0.bind(null,e);return s.type=e,s};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:oN,render:e}};lt.isValidElement=Ap;lt.lazy=function(e){return{$$typeof:uN,_payload:{_status:-1,_result:e},_init:hN}};lt.memo=function(e,s){return{$$typeof:dN,type:e,compare:s===void 0?null:s}};lt.startTransition=function(e){var s=Bo.transition;Bo.transition={};try{e()}finally{Bo.transition=s}};lt.unstable_act=z0;lt.useCallback=function(e,s){return Cs.current.useCallback(e,s)};lt.useContext=function(e){return Cs.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return Cs.current.useDeferredValue(e)};lt.useEffect=function(e,s){return Cs.current.useEffect(e,s)};lt.useId=function(){return Cs.current.useId()};lt.useImperativeHandle=function(e,s,r){return Cs.current.useImperativeHandle(e,s,r)};lt.useInsertionEffect=function(e,s){return Cs.current.useInsertionEffect(e,s)};lt.useLayoutEffect=function(e,s){return Cs.current.useLayoutEffect(e,s)};lt.useMemo=function(e,s){return Cs.current.useMemo(e,s)};lt.useReducer=function(e,s,r){return Cs.current.useReducer(e,s,r)};lt.useRef=function(e){return Cs.current.useRef(e)};lt.useState=function(e){return Cs.current.useState(e)};lt.useSyncExternalStore=function(e,s,r){return Cs.current.useSyncExternalStore(e,s,r)};lt.useTransition=function(){return Cs.current.useTransition()};lt.version="18.3.1";w0.exports=lt;var c=w0.exports;const it=Sp(c),uc=tN({__proto__:null,default:it},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=c,yN=Symbol.for("react.element"),bN=Symbol.for("react.fragment"),vN=Object.prototype.hasOwnProperty,jN=xN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NN={key:!0,ref:!0,__self:!0,__source:!0};function T0(e,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)vN.call(s,a)&&!NN.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:yN,type:e,key:i,ref:l,props:n,_owner:jN.current}}td.Fragment=bN;td.jsx=T0;td.jsxs=T0;N0.exports=td;var t=N0.exports,sm={},R0={exports:{}},Js={},D0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(D,q){var X=D.length;D.push(q);e:for(;0<X;){var ne=X-1>>>1,H=D[ne];if(0<n(H,q))D[ne]=q,D[X]=H,X=ne;else break e}}function r(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var q=D[0],X=D.pop();if(X!==q){D[0]=X;e:for(var ne=0,H=D.length,F=H>>>1;ne<F;){var U=2*(ne+1)-1,Y=D[U],Z=U+1,z=D[Z];if(0>n(Y,X))Z<H&&0>n(z,Y)?(D[ne]=z,D[Z]=X,ne=Z):(D[ne]=Y,D[U]=X,ne=U);else if(Z<H&&0>n(z,X))D[ne]=z,D[Z]=X,ne=Z;else break e}}return q}function n(D,q){var X=D.sortIndex-q.sortIndex;return X!==0?X:D.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var d=[],m=[],u=1,p=null,f=3,x=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var q=r(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=D)a(m),q.sortIndex=q.expirationTime,s(d,q);else break;q=r(m)}}function b(D){if(w=!1,g(D),!y)if(r(d)!==null)y=!0,S(_);else{var q=r(m);q!==null&&I(b,q.startTime-D)}}function _(D,q){y=!1,w&&(w=!1,v(R),R=-1),x=!0;var X=f;try{for(g(q),p=r(d);p!==null&&(!(p.expirationTime>q)||D&&!$());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,f=p.priorityLevel;var H=ne(p.expirationTime<=q);q=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(d)&&a(d),g(q)}else a(d);p=r(d)}if(p!==null)var F=!0;else{var U=r(m);U!==null&&I(b,U.startTime-q),F=!1}return F}finally{p=null,f=X,x=!1}}var P=!1,A=null,R=-1,k=5,L=-1;function $(){return!(e.unstable_now()-L<k)}function C(){if(A!==null){var D=e.unstable_now();L=D;var q=!0;try{q=A(!0,D)}finally{q?E():(P=!1,A=null)}}else P=!1}var E;if(typeof h=="function")E=function(){h(C)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,N=T.port2;T.port1.onmessage=C,E=function(){N.postMessage(null)}}else E=function(){j(C,0)};function S(D){A=D,P||(P=!0,E())}function I(D,q){R=j(function(){D(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,S(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var X=f;f=q;try{return D()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=f;f=D;try{return q()}finally{f=X}},e.unstable_scheduleCallback=function(D,q,X){var ne=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,D={id:u++,callback:q,priorityLevel:D,startTime:X,expirationTime:H,sortIndex:-1},X>ne?(D.sortIndex=X,s(m,D),r(d)===null&&D===r(m)&&(w?(v(R),R=-1):w=!0,I(b,X-ne))):(D.sortIndex=H,s(d,D),y||x||(y=!0,S(_))),D},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(D){var q=f;return function(){var X=f;f=q;try{return D.apply(this,arguments)}finally{f=X}}}})($0);D0.exports=$0;var wN=D0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=c,Ys=wN;function Te(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,yl={};function xn(e,s){ti(e,s),ti(e+"Capture",s)}function ti(e,s){for(yl[e]=s,e=0;e<s.length;e++)I0.add(s[e])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=Object.prototype.hasOwnProperty,SN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},jh={};function _N(e){return rm.call(jh,e)?!0:rm.call(vh,e)?!1:SN.test(e)?jh[e]=!0:(vh[e]=!0,!1)}function kN(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PN(e,s,r,a){if(s===null||typeof s>"u"||kN(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ss(e,s,r,a,n,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ds[e]=new Ss(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];ds[s]=new Ss(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ds[e]=new Ss(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ds[e]=new Ss(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ds[e]=new Ss(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ds[e]=new Ss(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ds[e]=new Ss(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ds[e]=new Ss(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ds[e]=new Ss(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ep=/[\-:]([a-z])/g;function zp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Ep,zp);ds[s]=new Ss(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Ep,zp);ds[s]=new Ss(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Ep,zp);ds[s]=new Ss(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ds[e]=new Ss(e,1,!1,e.toLowerCase(),null,!1,!1)});ds.xlinkHref=new Ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ds[e]=new Ss(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tp(e,s,r,a){var n=ds.hasOwnProperty(s)?ds[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(PN(s,r,n,a)&&(r=null),a||n===null?_N(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var ua=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),$p=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),M0=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function _i(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var Ut=Object.assign,pu;function Ki(e){if(pu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);pu=s&&s[1]||""}return`
`+pu+e}var fu=!1;function hu(e,s){if(!e||fu)return"";fu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(m){var a=m}Reflect.construct(e,[],s)}else{try{s.call()}catch(m){a=m}e.call(s.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var n=m.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var d=`
`+n[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=o);break}}}finally{fu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ki(e):""}function AN(e){switch(e.tag){case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return e=hu(e.type,!1),e;case 11:return e=hu(e.type.render,!1),e;case 1:return e=hu(e.type,!0),e;default:return""}}function lm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case Tn:return"Portal";case am:return"Profiler";case Rp:return"StrictMode";case nm:return"Suspense";case im:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L0:return(e.displayName||"Context")+".Consumer";case F0:return(e._context.displayName||"Context")+".Provider";case Dp:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $p:return s=e.displayName||null,s!==null?s:lm(e.type)||"Memo";case ha:s=e._payload,e=e._init;try{return lm(e(s))}catch{}}return null}function EN(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lm(s);case 8:return s===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O0(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zN(e){var s=O0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function fo(e){e._valueTracker||(e._valueTracker=zN(e))}function U0(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=O0(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function om(e,s){var r=s.checked;return Ut({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wh(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=Ra(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function B0(e,s){s=s.checked,s!=null&&Tp(e,"checked",s,!1)}function cm(e,s){B0(e,s);var r=Ra(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?dm(e,s.type,r):s.hasOwnProperty("defaultValue")&&dm(e,s.type,Ra(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Ch(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dm(e,s,r){(s!=="number"||mc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gi=Array.isArray;function Wn(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Ra(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function um(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Ut({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sh(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Te(92));if(Gi(r)){if(1<r.length)throw Error(Te(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Ra(r)}}function q0(e,s){var r=Ra(s.value),a=Ra(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function _h(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function V0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?V0(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ho,W0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function bl(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TN=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(e){TN.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),tl[s]=tl[e]})});function H0(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||tl.hasOwnProperty(e)&&tl[e]?(""+s).trim():s+"px"}function K0(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=H0(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var RN=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pm(e,s){if(s){if(RN[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Te(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Te(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Te(62))}}function fm(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=null;function Ip(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gm=null,Hn=null,Kn=null;function kh(e){if(e=Yl(e)){if(typeof gm!="function")throw Error(Te(280));var s=e.stateNode;s&&(s=id(s),gm(e.stateNode,e.type,s))}}function G0(e){Hn?Kn?Kn.push(e):Kn=[e]:Hn=e}function Y0(){if(Hn){var e=Hn,s=Kn;if(Kn=Hn=null,kh(e),s)for(e=0;e<s.length;e++)kh(s[e])}}function Q0(e,s){return e(s)}function X0(){}var gu=!1;function J0(e,s,r){if(gu)return e(s,r);gu=!0;try{return Q0(e,s,r)}finally{gu=!1,(Hn!==null||Kn!==null)&&(X0(),Y0())}}function vl(e,s){var r=e.stateNode;if(r===null)return null;var a=id(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Te(231,s,typeof r));return r}var xm=!1;if(ra)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){xm=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{xm=!1}function DN(e,s,r,a,n,i,l,o,d){var m=Array.prototype.slice.call(arguments,3);try{s.apply(r,m)}catch(u){this.onError(u)}}var sl=!1,pc=null,fc=!1,ym=null,$N={onError:function(e){sl=!0,pc=e}};function IN(e,s,r,a,n,i,l,o,d){sl=!1,pc=null,DN.apply($N,arguments)}function FN(e,s,r,a,n,i,l,o,d){if(IN.apply(this,arguments),sl){if(sl){var m=pc;sl=!1,pc=null}else throw Error(Te(198));fc||(fc=!0,ym=m)}}function yn(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Z0(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Ph(e){if(yn(e)!==e)throw Error(Te(188))}function LN(e){var s=e.alternate;if(!s){if(s=yn(e),s===null)throw Error(Te(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Ph(n),e;if(i===a)return Ph(n),s;i=i.sibling}throw Error(Te(188))}if(r.return!==a.return)r=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l)throw Error(Te(189))}}if(r.alternate!==a)throw Error(Te(190))}if(r.tag!==3)throw Error(Te(188));return r.stateNode.current===r?e:s}function ey(e){return e=LN(e),e!==null?ty(e):null}function ty(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=ty(e);if(s!==null)return s;e=e.sibling}return null}var sy=Ys.unstable_scheduleCallback,Ah=Ys.unstable_cancelCallback,MN=Ys.unstable_shouldYield,ON=Ys.unstable_requestPaint,Ht=Ys.unstable_now,UN=Ys.unstable_getCurrentPriorityLevel,Fp=Ys.unstable_ImmediatePriority,ry=Ys.unstable_UserBlockingPriority,hc=Ys.unstable_NormalPriority,BN=Ys.unstable_LowPriority,ay=Ys.unstable_IdlePriority,sd=null,Br=null;function qN(e){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(sd,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:HN,VN=Math.log,WN=Math.LN2;function HN(e){return e>>>=0,e===0?32:31-(VN(e)/WN|0)|0}var go=64,xo=4194304;function Yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~n;o!==0?a=Yi(o):(i&=l,i!==0&&(a=Yi(i)))}else l=r&~n,l!==0?a=Yi(l):i!==0&&(a=Yi(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-wr(s),n=1<<r,a|=e[r],s&=~n;return a}function KN(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GN(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-wr(i),o=1<<l,d=n[l];d===-1?(!(o&r)||o&a)&&(n[l]=KN(o,s)):d<=s&&(e.expiredLanes|=o),i&=~o}}function bm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ny(){var e=go;return go<<=1,!(go&4194240)&&(go=64),e}function xu(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Kl(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-wr(s),e[s]=r}function YN(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-wr(r),i=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function Lp(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-wr(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var jt=0;function iy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ly,Mp,oy,cy,dy,vm=!1,yo=[],wa=null,Ca=null,Sa=null,jl=new Map,Nl=new Map,ya=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eh(e,s){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function Pi(e,s,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=Yl(s),s!==null&&Mp(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function XN(e,s,r,a,n){switch(s){case"focusin":return wa=Pi(wa,e,s,r,a,n),!0;case"dragenter":return Ca=Pi(Ca,e,s,r,a,n),!0;case"mouseover":return Sa=Pi(Sa,e,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return jl.set(i,Pi(jl.get(i)||null,e,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Nl.set(i,Pi(Nl.get(i)||null,e,s,r,a,n)),!0}return!1}function uy(e){var s=Xa(e.target);if(s!==null){var r=yn(s);if(r!==null){if(s=r.tag,s===13){if(s=Z0(r),s!==null){e.blockedOn=s,dy(e.priority,function(){oy(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=jm(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);hm=a,r.target.dispatchEvent(a),hm=null}else return s=Yl(r),s!==null&&Mp(s),e.blockedOn=r,!1;s.shift()}return!0}function zh(e,s,r){qo(e)&&r.delete(s)}function JN(){vm=!1,wa!==null&&qo(wa)&&(wa=null),Ca!==null&&qo(Ca)&&(Ca=null),Sa!==null&&qo(Sa)&&(Sa=null),jl.forEach(zh),Nl.forEach(zh)}function Ai(e,s){e.blockedOn===s&&(e.blockedOn=null,vm||(vm=!0,Ys.unstable_scheduleCallback(Ys.unstable_NormalPriority,JN)))}function wl(e){function s(n){return Ai(n,e)}if(0<yo.length){Ai(yo[0],e);for(var r=1;r<yo.length;r++){var a=yo[r];a.blockedOn===e&&(a.blockedOn=null)}}for(wa!==null&&Ai(wa,e),Ca!==null&&Ai(Ca,e),Sa!==null&&Ai(Sa,e),jl.forEach(s),Nl.forEach(s),r=0;r<ya.length;r++)a=ya[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<ya.length&&(r=ya[0],r.blockedOn===null);)uy(r),r.blockedOn===null&&ya.shift()}var Gn=ua.ReactCurrentBatchConfig,xc=!0;function ZN(e,s,r,a){var n=jt,i=Gn.transition;Gn.transition=null;try{jt=1,Op(e,s,r,a)}finally{jt=n,Gn.transition=i}}function e1(e,s,r,a){var n=jt,i=Gn.transition;Gn.transition=null;try{jt=4,Op(e,s,r,a)}finally{jt=n,Gn.transition=i}}function Op(e,s,r,a){if(xc){var n=jm(e,s,r,a);if(n===null)ku(e,s,a,yc,r),Eh(e,a);else if(XN(n,e,s,r,a))a.stopPropagation();else if(Eh(e,a),s&4&&-1<QN.indexOf(e)){for(;n!==null;){var i=Yl(n);if(i!==null&&ly(i),i=jm(e,s,r,a),i===null&&ku(e,s,a,yc,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else ku(e,s,a,null,r)}}var yc=null;function jm(e,s,r,a){if(yc=null,e=Ip(a),e=Xa(e),e!==null)if(s=yn(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Z0(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return yc=e,null}function my(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UN()){case Fp:return 1;case ry:return 4;case hc:case BN:return 16;case ay:return 536870912;default:return 16}default:return 16}}var va=null,Up=null,Vo=null;function py(){if(Vo)return Vo;var e,s=Up,r=s.length,a,n="value"in va?va.value:va.textContent,i=n.length;for(e=0;e<r&&s[e]===n[e];e++);var l=r-e;for(a=1;a<=l&&s[r-a]===n[i-a];a++);return Vo=n.slice(e,1<a?1-a:void 0)}function Wo(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function Th(){return!1}function Zs(e){function s(r,a,n,i,l){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bo:Th,this.isPropagationStopped=Th,this}return Ut(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),s}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=Zs(gi),Gl=Ut({},gi,{view:0,detail:0}),t1=Zs(Gl),yu,bu,Ei,rd=Ut({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(yu=e.screenX-Ei.screenX,bu=e.screenY-Ei.screenY):bu=yu=0,Ei=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),Rh=Zs(rd),s1=Ut({},rd,{dataTransfer:0}),r1=Zs(s1),a1=Ut({},Gl,{relatedTarget:0}),vu=Zs(a1),n1=Ut({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),i1=Zs(n1),l1=Ut({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o1=Zs(l1),c1=Ut({},gi,{data:0}),Dh=Zs(c1),d1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=m1[e])?!!s[e]:!1}function qp(){return p1}var f1=Ut({},Gl,{key:function(e){if(e.key){var s=d1[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Wo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?Wo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h1=Zs(f1),g1=Ut({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=Zs(g1),x1=Ut({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),y1=Zs(x1),b1=Ut({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),v1=Zs(b1),j1=Ut({},rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Zs(j1),w1=[9,13,27,32],Vp=ra&&"CompositionEvent"in window,rl=null;ra&&"documentMode"in document&&(rl=document.documentMode);var C1=ra&&"TextEvent"in window&&!rl,fy=ra&&(!Vp||rl&&8<rl&&11>=rl),Ih=" ",Fh=!1;function hy(e,s){switch(e){case"keyup":return w1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function S1(e,s){switch(e){case"compositionend":return gy(s);case"keypress":return s.which!==32?null:(Fh=!0,Ih);case"textInput":return e=s.data,e===Ih&&Fh?null:e;default:return null}}function _1(e,s){if(Dn)return e==="compositionend"||!Vp&&hy(e,s)?(e=py(),Vo=Up=va=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fy&&s.locale!=="ko"?null:s.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!k1[e.type]:s==="textarea"}function xy(e,s,r,a){G0(a),s=bc(s,"onChange"),0<s.length&&(r=new Bp("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var al=null,Cl=null;function P1(e){Py(e,0)}function ad(e){var s=Fn(e);if(U0(s))return e}function A1(e,s){if(e==="change")return s}var yy=!1;if(ra){var ju;if(ra){var Nu="oninput"in document;if(!Nu){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),Nu=typeof Mh.oninput=="function"}ju=Nu}else ju=!1;yy=ju&&(!document.documentMode||9<document.documentMode)}function Oh(){al&&(al.detachEvent("onpropertychange",by),Cl=al=null)}function by(e){if(e.propertyName==="value"&&ad(Cl)){var s=[];xy(s,Cl,e,Ip(e)),J0(P1,s)}}function E1(e,s,r){e==="focusin"?(Oh(),al=s,Cl=r,al.attachEvent("onpropertychange",by)):e==="focusout"&&Oh()}function z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ad(Cl)}function T1(e,s){if(e==="click")return ad(s)}function R1(e,s){if(e==="input"||e==="change")return ad(s)}function D1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Sr=typeof Object.is=="function"?Object.is:D1;function Sl(e,s){if(Sr(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!rm.call(s,n)||!Sr(e[n],s[n]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,s){var r=Uh(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uh(r)}}function vy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?vy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function jy(){for(var e=window,s=mc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=mc(e.document)}return s}function Wp(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function $1(e){var s=jy(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&vy(r.ownerDocument.documentElement,r)){if(a!==null&&Wp(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Bh(r,i);var l=Bh(r,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(s),e.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I1=ra&&"documentMode"in document&&11>=document.documentMode,$n=null,Nm=null,nl=null,wm=!1;function qh(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wm||$n==null||$n!==mc(a)||(a=$n,"selectionStart"in a&&Wp(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),nl&&Sl(nl,a)||(nl=a,a=bc(Nm,"onSelect"),0<a.length&&(s=new Bp("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=$n)))}function vo(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var In={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},wu={},Ny={};ra&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function nd(e){if(wu[e])return wu[e];if(!In[e])return e;var s=In[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Ny)return wu[e]=s[r];return e}var wy=nd("animationend"),Cy=nd("animationiteration"),Sy=nd("animationstart"),_y=nd("transitionend"),ky=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,s){ky.set(e,s),xn(s,[e])}for(var Cu=0;Cu<Vh.length;Cu++){var Su=Vh[Cu],F1=Su.toLowerCase(),L1=Su[0].toUpperCase()+Su.slice(1);Fa(F1,"on"+L1)}Fa(wy,"onAnimationEnd");Fa(Cy,"onAnimationIteration");Fa(Sy,"onAnimationStart");Fa("dblclick","onDoubleClick");Fa("focusin","onFocus");Fa("focusout","onBlur");Fa(_y,"onTransitionEnd");ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Wh(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,FN(a,s,void 0,e),e.currentTarget=null}function Py(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var l=a.length-1;0<=l;l--){var o=a[l],d=o.instance,m=o.currentTarget;if(o=o.listener,d!==i&&n.isPropagationStopped())break e;Wh(n,o,m),i=d}else for(l=0;l<a.length;l++){if(o=a[l],d=o.instance,m=o.currentTarget,o=o.listener,d!==i&&n.isPropagationStopped())break e;Wh(n,o,m),i=d}}}if(fc)throw e=ym,fc=!1,ym=null,e}function zt(e,s){var r=s[Pm];r===void 0&&(r=s[Pm]=new Set);var a=e+"__bubble";r.has(a)||(Ay(s,e,2,!1),r.add(a))}function _u(e,s,r){var a=0;s&&(a|=4),Ay(r,e,a,s)}var jo="_reactListening"+Math.random().toString(36).slice(2);function _l(e){if(!e[jo]){e[jo]=!0,I0.forEach(function(r){r!=="selectionchange"&&(M1.has(r)||_u(r,!1,e),_u(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[jo]||(s[jo]=!0,_u("selectionchange",!1,s))}}function Ay(e,s,r,a){switch(my(s)){case 1:var n=ZN;break;case 4:n=e1;break;default:n=Op}r=n.bind(null,s,r,e),n=void 0,!xm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function ku(e,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;l=l.return}for(;o!==null;){if(l=Xa(o),l===null)return;if(d=l.tag,d===5||d===6){a=i=l;continue e}o=o.parentNode}}a=a.return}J0(function(){var m=i,u=Ip(r),p=[];e:{var f=ky.get(e);if(f!==void 0){var x=Bp,y=e;switch(e){case"keypress":if(Wo(r)===0)break e;case"keydown":case"keyup":x=h1;break;case"focusin":y="focus",x=vu;break;case"focusout":y="blur",x=vu;break;case"beforeblur":case"afterblur":x=vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=y1;break;case wy:case Cy:case Sy:x=i1;break;case _y:x=v1;break;case"scroll":x=t1;break;case"wheel":x=N1;break;case"copy":case"cut":case"paste":x=o1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=$h}var w=(s&4)!==0,j=!w&&e==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var h=m,g;h!==null;){g=h;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,v!==null&&(b=vl(h,v),b!=null&&w.push(kl(h,b,g)))),j)break;h=h.return}0<w.length&&(f=new x(f,y,null,r,u),p.push({event:f,listeners:w}))}}if(!(s&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==hm&&(y=r.relatedTarget||r.fromElement)&&(Xa(y)||y[aa]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=m,y=y?Xa(y):null,y!==null&&(j=yn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=m),x!==y)){if(w=Rh,b="onMouseLeave",v="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=$h,b="onPointerLeave",v="onPointerEnter",h="pointer"),j=x==null?f:Fn(x),g=y==null?f:Fn(y),f=new w(b,h+"leave",x,r,u),f.target=j,f.relatedTarget=g,b=null,Xa(u)===m&&(w=new w(v,h+"enter",y,r,u),w.target=g,w.relatedTarget=j,b=w),j=b,x&&y)t:{for(w=x,v=y,h=0,g=w;g;g=Nn(g))h++;for(g=0,b=v;b;b=Nn(b))g++;for(;0<h-g;)w=Nn(w),h--;for(;0<g-h;)v=Nn(v),g--;for(;h--;){if(w===v||v!==null&&w===v.alternate)break t;w=Nn(w),v=Nn(v)}w=null}else w=null;x!==null&&Hh(p,f,x,w,!1),y!==null&&j!==null&&Hh(p,j,y,w,!0)}}e:{if(f=m?Fn(m):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var _=A1;else if(Lh(f))if(yy)_=R1;else{_=z1;var P=E1}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=T1);if(_&&(_=_(e,m))){xy(p,_,r,u);break e}P&&P(e,f,m),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&dm(f,"number",f.value)}switch(P=m?Fn(m):window,e){case"focusin":(Lh(P)||P.contentEditable==="true")&&($n=P,Nm=m,nl=null);break;case"focusout":nl=Nm=$n=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,qh(p,r,u);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":qh(p,r,u)}var A;if(Vp)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dn?hy(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(fy&&r.locale!=="ko"&&(Dn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dn&&(A=py()):(va=u,Up="value"in va?va.value:va.textContent,Dn=!0)),P=bc(m,R),0<P.length&&(R=new Dh(R,e,null,r,u),p.push({event:R,listeners:P}),A?R.data=A:(A=gy(r),A!==null&&(R.data=A)))),(A=C1?S1(e,r):_1(e,r))&&(m=bc(m,"onBeforeInput"),0<m.length&&(u=new Dh("onBeforeInput","beforeinput",null,r,u),p.push({event:u,listeners:m}),u.data=A))}Py(p,s)})}function kl(e,s,r){return{instance:e,listener:s,currentTarget:r}}function bc(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=vl(e,r),i!=null&&a.unshift(kl(e,i,n)),i=vl(e,s),i!=null&&a.push(kl(e,i,n))),e=e.return}return a}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,s,r,a,n){for(var i=s._reactName,l=[];r!==null&&r!==a;){var o=r,d=o.alternate,m=o.stateNode;if(d!==null&&d===a)break;o.tag===5&&m!==null&&(o=m,n?(d=vl(r,i),d!=null&&l.unshift(kl(r,d,o))):n||(d=vl(r,i),d!=null&&l.push(kl(r,d,o)))),r=r.return}l.length!==0&&e.push({event:s,listeners:l})}var O1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(U1,"")}function No(e,s,r){if(s=Kh(s),Kh(e)!==s&&r)throw Error(Te(425))}function vc(){}var Cm=null,Sm=null;function _m(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(e){return Gh.resolve(null).then(e).catch(V1)}:km;function V1(e){setTimeout(function(){throw e})}function Pu(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),wl(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);wl(s)}function _a(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Yh(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Mr="__reactFiber$"+xi,Pl="__reactProps$"+xi,aa="__reactContainer$"+xi,Pm="__reactEvents$"+xi,W1="__reactListeners$"+xi,H1="__reactHandles$"+xi;function Xa(e){var s=e[Mr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[aa]||r[Mr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Yh(e);e!==null;){if(r=e[Mr])return r;e=Yh(e)}return s}e=r,r=e.parentNode}return null}function Yl(e){return e=e[Mr]||e[aa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function id(e){return e[Pl]||null}var Am=[],Ln=-1;function La(e){return{current:e}}function Tt(e){0>Ln||(e.current=Am[Ln],Am[Ln]=null,Ln--)}function Pt(e,s){Ln++,Am[Ln]=e.current,e.current=s}var Da={},ys=La(Da),Es=La(!1),cn=Da;function si(e,s){var r=e.type.contextTypes;if(!r)return Da;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function zs(e){return e=e.childContextTypes,e!=null}function jc(){Tt(Es),Tt(ys)}function Qh(e,s,r){if(ys.current!==Da)throw Error(Te(168));Pt(ys,s),Pt(Es,r)}function Ey(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(Te(108,EN(e)||"Unknown",n));return Ut({},r,a)}function Nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,cn=ys.current,Pt(ys,e),Pt(Es,Es.current),!0}function Xh(e,s,r){var a=e.stateNode;if(!a)throw Error(Te(169));r?(e=Ey(e,s,cn),a.__reactInternalMemoizedMergedChildContext=e,Tt(Es),Tt(ys),Pt(ys,e)):Tt(Es),Pt(Es,r)}var Qr=null,ld=!1,Au=!1;function zy(e){Qr===null?Qr=[e]:Qr.push(e)}function K1(e){ld=!0,zy(e)}function Ma(){if(!Au&&Qr!==null){Au=!0;var e=0,s=jt;try{var r=Qr;for(jt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Qr=null,ld=!1}catch(n){throw Qr!==null&&(Qr=Qr.slice(e+1)),sy(Fp,Ma),n}finally{jt=s,Au=!1}}return null}var Mn=[],On=0,wc=null,Cc=0,ar=[],nr=0,dn=null,Zr=1,ea="";function Ka(e,s){Mn[On++]=Cc,Mn[On++]=wc,wc=e,Cc=s}function Ty(e,s,r){ar[nr++]=Zr,ar[nr++]=ea,ar[nr++]=dn,dn=e;var a=Zr;e=ea;var n=32-wr(a)-1;a&=~(1<<n),r+=1;var i=32-wr(s)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,Zr=1<<32-wr(s)+n|r<<n|a,ea=i+e}else Zr=1<<i|r<<n|a,ea=e}function Hp(e){e.return!==null&&(Ka(e,1),Ty(e,1,0))}function Kp(e){for(;e===wc;)wc=Mn[--On],Mn[On]=null,Cc=Mn[--On],Mn[On]=null;for(;e===dn;)dn=ar[--nr],ar[nr]=null,ea=ar[--nr],ar[nr]=null,Zr=ar[--nr],ar[nr]=null}var Ws=null,Vs=null,Dt=!1,Nr=null;function Ry(e,s){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function Jh(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Ws=e,Vs=_a(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Ws=e,Vs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=dn!==null?{id:Zr,overflow:ea}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Ws=e,Vs=null,!0):!1;default:return!1}}function Em(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zm(e){if(Dt){var s=Vs;if(s){var r=s;if(!Jh(e,s)){if(Em(e))throw Error(Te(418));s=_a(r.nextSibling);var a=Ws;s&&Jh(e,s)?Ry(a,r):(e.flags=e.flags&-4097|2,Dt=!1,Ws=e)}}else{if(Em(e))throw Error(Te(418));e.flags=e.flags&-4097|2,Dt=!1,Ws=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ws=e}function wo(e){if(e!==Ws)return!1;if(!Dt)return Zh(e),Dt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!_m(e.type,e.memoizedProps)),s&&(s=Vs)){if(Em(e))throw Dy(),Error(Te(418));for(;s;)Ry(e,s),s=_a(s.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Vs=_a(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Vs=null}}else Vs=Ws?_a(e.stateNode.nextSibling):null;return!0}function Dy(){for(var e=Vs;e;)e=_a(e.nextSibling)}function ri(){Vs=Ws=null,Dt=!1}function Gp(e){Nr===null?Nr=[e]:Nr.push(e)}var G1=ua.ReactCurrentBatchConfig;function zi(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Te(309));var a=r.stateNode}if(!a)throw Error(Te(147,e));var n=a,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof e!="string")throw Error(Te(284));if(!r._owner)throw Error(Te(290,e))}return e}function Co(e,s){throw e=Object.prototype.toString.call(s),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function eg(e){var s=e._init;return s(e._payload)}function $y(e){function s(v,h){if(e){var g=v.deletions;g===null?(v.deletions=[h],v.flags|=16):g.push(h)}}function r(v,h){if(!e)return null;for(;h!==null;)s(v,h),h=h.sibling;return null}function a(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function n(v,h){return v=Ea(v,h),v.index=0,v.sibling=null,v}function i(v,h,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<h?(v.flags|=2,h):g):(v.flags|=2,h)):(v.flags|=1048576,h)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,h,g,b){return h===null||h.tag!==6?(h=Iu(g,v.mode,b),h.return=v,h):(h=n(h,g),h.return=v,h)}function d(v,h,g,b){var _=g.type;return _===Rn?u(v,h,g.props.children,b,g.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ha&&eg(_)===h.type)?(b=n(h,g.props),b.ref=zi(v,h,g),b.return=v,b):(b=Jo(g.type,g.key,g.props,null,v.mode,b),b.ref=zi(v,h,g),b.return=v,b)}function m(v,h,g,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Fu(g,v.mode,b),h.return=v,h):(h=n(h,g.children||[]),h.return=v,h)}function u(v,h,g,b,_){return h===null||h.tag!==7?(h=an(g,v.mode,b,_),h.return=v,h):(h=n(h,g),h.return=v,h)}function p(v,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Iu(""+h,v.mode,g),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case po:return g=Jo(h.type,h.key,h.props,null,v.mode,g),g.ref=zi(v,null,h),g.return=v,g;case Tn:return h=Fu(h,v.mode,g),h.return=v,h;case ha:var b=h._init;return p(v,b(h._payload),g)}if(Gi(h)||_i(h))return h=an(h,v.mode,g,null),h.return=v,h;Co(v,h)}return null}function f(v,h,g,b){var _=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:o(v,h,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case po:return g.key===_?d(v,h,g,b):null;case Tn:return g.key===_?m(v,h,g,b):null;case ha:return _=g._init,f(v,h,_(g._payload),b)}if(Gi(g)||_i(g))return _!==null?null:u(v,h,g,b,null);Co(v,g)}return null}function x(v,h,g,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(g)||null,o(h,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case po:return v=v.get(b.key===null?g:b.key)||null,d(h,v,b,_);case Tn:return v=v.get(b.key===null?g:b.key)||null,m(h,v,b,_);case ha:var P=b._init;return x(v,h,g,P(b._payload),_)}if(Gi(b)||_i(b))return v=v.get(g)||null,u(h,v,b,_,null);Co(h,b)}return null}function y(v,h,g,b){for(var _=null,P=null,A=h,R=h=0,k=null;A!==null&&R<g.length;R++){A.index>R?(k=A,A=null):k=A.sibling;var L=f(v,A,g[R],b);if(L===null){A===null&&(A=k);break}e&&A&&L.alternate===null&&s(v,A),h=i(L,h,R),P===null?_=L:P.sibling=L,P=L,A=k}if(R===g.length)return r(v,A),Dt&&Ka(v,R),_;if(A===null){for(;R<g.length;R++)A=p(v,g[R],b),A!==null&&(h=i(A,h,R),P===null?_=A:P.sibling=A,P=A);return Dt&&Ka(v,R),_}for(A=a(v,A);R<g.length;R++)k=x(A,v,R,g[R],b),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?R:k.key),h=i(k,h,R),P===null?_=k:P.sibling=k,P=k);return e&&A.forEach(function($){return s(v,$)}),Dt&&Ka(v,R),_}function w(v,h,g,b){var _=_i(g);if(typeof _!="function")throw Error(Te(150));if(g=_.call(g),g==null)throw Error(Te(151));for(var P=_=null,A=h,R=h=0,k=null,L=g.next();A!==null&&!L.done;R++,L=g.next()){A.index>R?(k=A,A=null):k=A.sibling;var $=f(v,A,L.value,b);if($===null){A===null&&(A=k);break}e&&A&&$.alternate===null&&s(v,A),h=i($,h,R),P===null?_=$:P.sibling=$,P=$,A=k}if(L.done)return r(v,A),Dt&&Ka(v,R),_;if(A===null){for(;!L.done;R++,L=g.next())L=p(v,L.value,b),L!==null&&(h=i(L,h,R),P===null?_=L:P.sibling=L,P=L);return Dt&&Ka(v,R),_}for(A=a(v,A);!L.done;R++,L=g.next())L=x(A,v,R,L.value,b),L!==null&&(e&&L.alternate!==null&&A.delete(L.key===null?R:L.key),h=i(L,h,R),P===null?_=L:P.sibling=L,P=L);return e&&A.forEach(function(C){return s(v,C)}),Dt&&Ka(v,R),_}function j(v,h,g,b){if(typeof g=="object"&&g!==null&&g.type===Rn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case po:e:{for(var _=g.key,P=h;P!==null;){if(P.key===_){if(_=g.type,_===Rn){if(P.tag===7){r(v,P.sibling),h=n(P,g.props.children),h.return=v,v=h;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ha&&eg(_)===P.type){r(v,P.sibling),h=n(P,g.props),h.ref=zi(v,P,g),h.return=v,v=h;break e}r(v,P);break}else s(v,P);P=P.sibling}g.type===Rn?(h=an(g.props.children,v.mode,b,g.key),h.return=v,v=h):(b=Jo(g.type,g.key,g.props,null,v.mode,b),b.ref=zi(v,h,g),b.return=v,v=b)}return l(v);case Tn:e:{for(P=g.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){r(v,h.sibling),h=n(h,g.children||[]),h.return=v,v=h;break e}else{r(v,h);break}else s(v,h);h=h.sibling}h=Fu(g,v.mode,b),h.return=v,v=h}return l(v);case ha:return P=g._init,j(v,h,P(g._payload),b)}if(Gi(g))return y(v,h,g,b);if(_i(g))return w(v,h,g,b);Co(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(r(v,h.sibling),h=n(h,g),h.return=v,v=h):(r(v,h),h=Iu(g,v.mode,b),h.return=v,v=h),l(v)):r(v,h)}return j}var ai=$y(!0),Iy=$y(!1),Sc=La(null),_c=null,Un=null,Yp=null;function Qp(){Yp=Un=_c=null}function Xp(e){var s=Sc.current;Tt(Sc),e._currentValue=s}function Tm(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function Yn(e,s){_c=e,Yp=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Ps=!0),e.firstContext=null)}function ur(e){var s=e._currentValue;if(Yp!==e)if(e={context:e,memoizedValue:s,next:null},Un===null){if(_c===null)throw Error(Te(308));Un=e,_c.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return s}var Ja=null;function Jp(e){Ja===null?Ja=[e]:Ja.push(e)}function Fy(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,Jp(s)):(r.next=n.next,n.next=r),s.interleaved=r,na(e,a)}function na(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ga=!1;function Zp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function ka(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ut&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,na(e,r)}return n=a.interleaved,n===null?(s.next=s,Jp(a)):(s.next=n.next,n.next=s),a.interleaved=s,na(e,r)}function Ho(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Lp(e,r)}}function tg(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function kc(e,s,r,a){var n=e.updateQueue;ga=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var d=o,m=d.next;d.next=null,l===null?i=m:l.next=m,l=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=m:o.next=m,u.lastBaseUpdate=d))}if(i!==null){var p=n.baseState;l=0,u=m=d=null,o=i;do{var f=o.lane,x=o.eventTime;if((a&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(f=s,x=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){p=y.call(x,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(x,p,f):y,f==null)break e;p=Ut({},p,f);break e;case 2:ga=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(m=u=x,d=p):u=u.next=x,l|=f;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;f=o,o=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(d=p),n.baseState=d,n.firstBaseUpdate=m,n.lastBaseUpdate=u,s=n.shared.interleaved,s!==null){n=s;do l|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);mn|=l,e.lanes=l,e.memoizedState=p}}function sg(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(Te(191,n));n.call(a)}}}var Ql={},qr=La(Ql),Al=La(Ql),El=La(Ql);function Za(e){if(e===Ql)throw Error(Te(174));return e}function ef(e,s){switch(Pt(El,s),Pt(Al,e),Pt(qr,Ql),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mm(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=mm(s,e)}Tt(qr),Pt(qr,s)}function ni(){Tt(qr),Tt(Al),Tt(El)}function My(e){Za(El.current);var s=Za(qr.current),r=mm(s,e.type);s!==r&&(Pt(Al,e),Pt(qr,r))}function tf(e){Al.current===e&&(Tt(qr),Tt(Al))}var Lt=La(0);function Pc(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eu=[];function sf(){for(var e=0;e<Eu.length;e++)Eu[e]._workInProgressVersionPrimary=null;Eu.length=0}var Ko=ua.ReactCurrentDispatcher,zu=ua.ReactCurrentBatchConfig,un=0,Mt=null,Xt=null,Zt=null,Ac=!1,il=!1,zl=0,Y1=0;function us(){throw Error(Te(321))}function rf(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Sr(e[r],s[r]))return!1;return!0}function af(e,s,r,a,n,i){if(un=i,Mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ko.current=e===null||e.memoizedState===null?Z1:ew,e=r(a,n),il){i=0;do{if(il=!1,zl=0,25<=i)throw Error(Te(301));i+=1,Zt=Xt=null,s.updateQueue=null,Ko.current=tw,e=r(a,n)}while(il)}if(Ko.current=Ec,s=Xt!==null&&Xt.next!==null,un=0,Zt=Xt=Mt=null,Ac=!1,s)throw Error(Te(300));return e}function nf(){var e=zl!==0;return zl=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Mt.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function mr(){if(Xt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var s=Zt===null?Mt.memoizedState:Zt.next;if(s!==null)Zt=s,Xt=e;else{if(e===null)throw Error(Te(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Zt===null?Mt.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Tl(e,s){return typeof s=="function"?s(e):s}function Tu(e){var s=mr(),r=s.queue;if(r===null)throw Error(Te(311));r.lastRenderedReducer=e;var a=Xt,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,d=null,m=i;do{var u=m.lane;if((un&u)===u)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var p={lane:u,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(o=d=p,l=a):d=d.next=p,Mt.lanes|=u,mn|=u}m=m.next}while(m!==null&&m!==i);d===null?l=a:d.next=o,Sr(a,s.memoizedState)||(Ps=!0),s.memoizedState=a,s.baseState=l,s.baseQueue=d,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Mt.lanes|=i,mn|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Ru(e){var s=mr(),r=s.queue;if(r===null)throw Error(Te(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Sr(i,s.memoizedState)||(Ps=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function Oy(){}function Uy(e,s){var r=Mt,a=mr(),n=s(),i=!Sr(a.memoizedState,n);if(i&&(a.memoizedState=n,Ps=!0),a=a.queue,lf(Vy.bind(null,r,a,e),[e]),a.getSnapshot!==s||i||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,Rl(9,qy.bind(null,r,a,n,s),void 0,null),ss===null)throw Error(Te(349));un&30||By(r,s,n)}return n}function By(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Mt.updateQueue,s===null?(s={lastEffect:null,stores:null},Mt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function qy(e,s,r,a){s.value=r,s.getSnapshot=a,Wy(s)&&Hy(e)}function Vy(e,s,r){return r(function(){Wy(s)&&Hy(e)})}function Wy(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Sr(e,r)}catch{return!0}}function Hy(e){var s=na(e,1);s!==null&&Cr(s,e,1,-1)}function rg(e){var s=Dr();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:e},s.queue=e,e=e.dispatch=J1.bind(null,Mt,e),[s.memoizedState,e]}function Rl(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=Mt.updateQueue,s===null?(s={lastEffect:null,stores:null},Mt.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function Ky(){return mr().memoizedState}function Go(e,s,r,a){var n=Dr();Mt.flags|=e,n.memoizedState=Rl(1|s,r,void 0,a===void 0?null:a)}function od(e,s,r,a){var n=mr();a=a===void 0?null:a;var i=void 0;if(Xt!==null){var l=Xt.memoizedState;if(i=l.destroy,a!==null&&rf(a,l.deps)){n.memoizedState=Rl(s,r,i,a);return}}Mt.flags|=e,n.memoizedState=Rl(1|s,r,i,a)}function ag(e,s){return Go(8390656,8,e,s)}function lf(e,s){return od(2048,8,e,s)}function Gy(e,s){return od(4,2,e,s)}function Yy(e,s){return od(4,4,e,s)}function Qy(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Xy(e,s,r){return r=r!=null?r.concat([e]):null,od(4,4,Qy.bind(null,s,e),r)}function of(){}function Jy(e,s){var r=mr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&rf(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function Zy(e,s){var r=mr();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&rf(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function eb(e,s,r){return un&21?(Sr(r,s)||(r=ny(),Mt.lanes|=r,mn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Ps=!0),e.memoizedState=r)}function Q1(e,s){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var a=zu.transition;zu.transition={};try{e(!1),s()}finally{jt=r,zu.transition=a}}function tb(){return mr().memoizedState}function X1(e,s,r){var a=Aa(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},sb(e))rb(s,r);else if(r=Fy(e,s,r,a),r!==null){var n=Ns();Cr(r,e,a,n),ab(r,s,a)}}function J1(e,s,r){var a=Aa(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(sb(e))rb(s,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(n.hasEagerState=!0,n.eagerState=o,Sr(o,l)){var d=s.interleaved;d===null?(n.next=n,Jp(s)):(n.next=d.next,d.next=n),s.interleaved=n;return}}catch{}finally{}r=Fy(e,s,n,a),r!==null&&(n=Ns(),Cr(r,e,a,n),ab(r,s,a))}}function sb(e){var s=e.alternate;return e===Mt||s!==null&&s===Mt}function rb(e,s){il=Ac=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function ab(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Lp(e,r)}}var Ec={readContext:ur,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useInsertionEffect:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useMutableSource:us,useSyncExternalStore:us,useId:us,unstable_isNewReconciler:!1},Z1={readContext:ur,useCallback:function(e,s){return Dr().memoizedState=[e,s===void 0?null:s],e},useContext:ur,useEffect:ag,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Go(4194308,4,Qy.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Go(4194308,4,e,s)},useInsertionEffect:function(e,s){return Go(4,2,e,s)},useMemo:function(e,s){var r=Dr();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Dr();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=X1.bind(null,Mt,e),[a.memoizedState,e]},useRef:function(e){var s=Dr();return e={current:e},s.memoizedState=e},useState:rg,useDebugValue:of,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=rg(!1),s=e[0];return e=Q1.bind(null,e[1]),Dr().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=Mt,n=Dr();if(Dt){if(r===void 0)throw Error(Te(407));r=r()}else{if(r=s(),ss===null)throw Error(Te(349));un&30||By(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,ag(Vy.bind(null,a,i,e),[e]),a.flags|=2048,Rl(9,qy.bind(null,a,i,r,s),void 0,null),r},useId:function(){var e=Dr(),s=ss.identifierPrefix;if(Dt){var r=ea,a=Zr;r=(a&~(1<<32-wr(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=zl++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Y1++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},ew={readContext:ur,useCallback:Jy,useContext:ur,useEffect:lf,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Yy,useMemo:Zy,useReducer:Tu,useRef:Ky,useState:function(){return Tu(Tl)},useDebugValue:of,useDeferredValue:function(e){var s=mr();return eb(s,Xt.memoizedState,e)},useTransition:function(){var e=Tu(Tl)[0],s=mr().memoizedState;return[e,s]},useMutableSource:Oy,useSyncExternalStore:Uy,useId:tb,unstable_isNewReconciler:!1},tw={readContext:ur,useCallback:Jy,useContext:ur,useEffect:lf,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Yy,useMemo:Zy,useReducer:Ru,useRef:Ky,useState:function(){return Ru(Tl)},useDebugValue:of,useDeferredValue:function(e){var s=mr();return Xt===null?s.memoizedState=e:eb(s,Xt.memoizedState,e)},useTransition:function(){var e=Ru(Tl)[0],s=mr().memoizedState;return[e,s]},useMutableSource:Oy,useSyncExternalStore:Uy,useId:tb,unstable_isNewReconciler:!1};function vr(e,s){if(e&&e.defaultProps){s=Ut({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Rm(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:Ut({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cd={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=Ns(),n=Aa(e),i=sa(a,n);i.payload=s,r!=null&&(i.callback=r),s=ka(e,i,n),s!==null&&(Cr(s,e,n,a),Ho(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=Ns(),n=Aa(e),i=sa(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=ka(e,i,n),s!==null&&(Cr(s,e,n,a),Ho(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Ns(),a=Aa(e),n=sa(r,a);n.tag=2,s!=null&&(n.callback=s),s=ka(e,n,a),s!==null&&(Cr(s,e,a,r),Ho(s,e,a))}};function ng(e,s,r,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):s.prototype&&s.prototype.isPureReactComponent?!Sl(r,a)||!Sl(n,i):!0}function nb(e,s,r){var a=!1,n=Da,i=s.contextType;return typeof i=="object"&&i!==null?i=ur(i):(n=zs(s)?cn:ys.current,a=s.contextTypes,i=(a=a!=null)?si(e,n):Da),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cd,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),s}function ig(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&cd.enqueueReplaceState(s,s.state,null)}function Dm(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Zp(e);var i=s.contextType;typeof i=="object"&&i!==null?n.context=ur(i):(i=zs(s)?cn:ys.current,n.context=si(e,i)),n.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Rm(e,s,i,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&cd.enqueueReplaceState(n,n.state,null),kc(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,s){try{var r="",a=s;do r+=AN(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:n,digest:null}}function Du(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function $m(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function ib(e,s,r){r=sa(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Tc||(Tc=!0,Wm=a),$m(e,s)},r}function lb(e,s,r){r=sa(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){$m(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$m(e,s),typeof a!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function lg(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new sw;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=gw.bind(null,e,s,r),s.then(e,e))}function og(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function cg(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=sa(-1,1),s.tag=2,ka(r,s,1))),r.lanes|=1),e)}var rw=ua.ReactCurrentOwner,Ps=!1;function vs(e,s,r,a){s.child=e===null?Iy(s,null,r,a):ai(s,e.child,r,a)}function dg(e,s,r,a,n){r=r.render;var i=s.ref;return Yn(s,n),a=af(e,s,r,a,i,n),r=nf(),e!==null&&!Ps?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,ia(e,s,n)):(Dt&&r&&Hp(s),s.flags|=1,vs(e,s,a,n),s.child)}function ug(e,s,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!gf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,ob(e,s,i,a,n)):(e=Jo(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Sl,r(l,a)&&e.ref===s.ref)return ia(e,s,n)}return s.flags|=1,e=Ea(i,a),e.ref=s.ref,e.return=s,s.child=e}function ob(e,s,r,a,n){if(e!==null){var i=e.memoizedProps;if(Sl(i,a)&&e.ref===s.ref)if(Ps=!1,s.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ps=!0);else return s.lanes=e.lanes,ia(e,s,n)}return Im(e,s,r,a,n)}function cb(e,s,r){var a=s.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(qn,Us),Us|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Pt(qn,Us),Us|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Pt(qn,Us),Us|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,Pt(qn,Us),Us|=a;return vs(e,s,n,r),s.child}function db(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Im(e,s,r,a,n){var i=zs(r)?cn:ys.current;return i=si(s,i),Yn(s,n),r=af(e,s,r,a,i,n),a=nf(),e!==null&&!Ps?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,ia(e,s,n)):(Dt&&a&&Hp(s),s.flags|=1,vs(e,s,r,n),s.child)}function mg(e,s,r,a,n){if(zs(r)){var i=!0;Nc(s)}else i=!1;if(Yn(s,n),s.stateNode===null)Yo(e,s),nb(s,r,a),Dm(s,r,a,n),a=!0;else if(e===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var d=l.context,m=r.contextType;typeof m=="object"&&m!==null?m=ur(m):(m=zs(r)?cn:ys.current,m=si(s,m));var u=r.getDerivedStateFromProps,p=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||d!==m)&&ig(s,l,a,m),ga=!1;var f=s.memoizedState;l.state=f,kc(s,a,l,n),d=s.memoizedState,o!==a||f!==d||Es.current||ga?(typeof u=="function"&&(Rm(s,r,u,a),d=s.memoizedState),(o=ga||ng(s,r,o,a,f,d,m))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=d),l.props=a,l.state=d,l.context=m,a=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{l=s.stateNode,Ly(e,s),o=s.memoizedProps,m=s.type===s.elementType?o:vr(s.type,o),l.props=m,p=s.pendingProps,f=l.context,d=r.contextType,typeof d=="object"&&d!==null?d=ur(d):(d=zs(r)?cn:ys.current,d=si(s,d));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||f!==d)&&ig(s,l,a,d),ga=!1,f=s.memoizedState,l.state=f,kc(s,a,l,n);var y=s.memoizedState;o!==p||f!==y||Es.current||ga?(typeof x=="function"&&(Rm(s,r,x,a),y=s.memoizedState),(m=ga||ng(s,r,m,a,f,y,d)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,y,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,y,d)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=y),l.props=a,l.state=y,l.context=d,a=m):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(s.flags|=1024),a=!1)}return Fm(e,s,r,a,i,n)}function Fm(e,s,r,a,n,i){db(e,s);var l=(s.flags&128)!==0;if(!a&&!l)return n&&Xh(s,r,!1),ia(e,s,i);a=s.stateNode,rw.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&l?(s.child=ai(s,e.child,null,i),s.child=ai(s,null,o,i)):vs(e,s,o,i),s.memoizedState=a.state,n&&Xh(s,r,!0),s.child}function ub(e){var s=e.stateNode;s.pendingContext?Qh(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Qh(e,s.context,!1),ef(e,s.containerInfo)}function pg(e,s,r,a,n){return ri(),Gp(n),s.flags|=256,vs(e,s,r,a),s.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Mm(e){return{baseLanes:e,cachePool:null,transitions:null}}function mb(e,s,r){var a=s.pendingProps,n=Lt.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Pt(Lt,n&1),e===null)return zm(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=a.children,e=a.fallback,i?(a=s.mode,i=s.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=md(l,a,0,null),e=an(e,a,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=Mm(r),s.memoizedState=Lm,e):cf(s,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return aw(e,s,l,a,o,n,r);if(i){i=a.fallback,l=s.mode,n=e.child,o=n.sibling;var d={mode:"hidden",children:a.children};return!(l&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=d,s.deletions=null):(a=Ea(n,d),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Ea(o,i):(i=an(i,l,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,l=e.child.memoizedState,l=l===null?Mm(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,s.memoizedState=Lm,a}return i=e.child,e=i.sibling,a=Ea(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function cf(e,s){return s=md({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function So(e,s,r,a){return a!==null&&Gp(a),ai(s,e.child,null,r),e=cf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function aw(e,s,r,a,n,i,l){if(r)return s.flags&256?(s.flags&=-257,a=Du(Error(Te(422))),So(e,s,l,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=md({mode:"visible",children:a.children},n,0,null),i=an(i,n,l,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&ai(s,e.child,null,l),s.child.memoizedState=Mm(l),s.memoizedState=Lm,i);if(!(s.mode&1))return So(e,s,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(Te(419)),a=Du(i,a,void 0),So(e,s,l,a)}if(o=(l&e.childLanes)!==0,Ps||o){if(a=ss,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,na(e,n),Cr(a,e,n,-1))}return hf(),a=Du(Error(Te(421))),So(e,s,l,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=xw.bind(null,e),n._reactRetry=s,null):(e=i.treeContext,Vs=_a(n.nextSibling),Ws=s,Dt=!0,Nr=null,e!==null&&(ar[nr++]=Zr,ar[nr++]=ea,ar[nr++]=dn,Zr=e.id,ea=e.overflow,dn=s),s=cf(s,a.children),s.flags|=4096,s)}function fg(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),Tm(e.return,s,r)}function $u(e,s,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function pb(e,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(vs(e,s,a.children,r),a=Lt.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fg(e,r,s);else if(e.tag===19)fg(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Pt(Lt,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&Pc(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),$u(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&Pc(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}$u(s,!0,r,null,i);break;case"together":$u(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yo(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function ia(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),mn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(Te(153));if(s.child!==null){for(e=s.child,r=Ea(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Ea(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function nw(e,s,r){switch(s.tag){case 3:ub(s),ri();break;case 5:My(s);break;case 1:zs(s.type)&&Nc(s);break;case 4:ef(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;Pt(Sc,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Pt(Lt,Lt.current&1),s.flags|=128,null):r&s.child.childLanes?mb(e,s,r):(Pt(Lt,Lt.current&1),e=ia(e,s,r),e!==null?e.sibling:null);Pt(Lt,Lt.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return pb(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Pt(Lt,Lt.current),a)break;return null;case 22:case 23:return s.lanes=0,cb(e,s,r)}return ia(e,s,r)}var fb,Om,hb,gb;fb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Om=function(){};hb=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,Za(qr.current);var i=null;switch(r){case"input":n=om(e,n),a=om(e,a),i=[];break;case"select":n=Ut({},n,{value:void 0}),a=Ut({},a,{value:void 0}),i=[];break;case"textarea":n=um(e,n),a=um(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=vc)}pm(r,a);var l;r=null;for(m in n)if(!a.hasOwnProperty(m)&&n.hasOwnProperty(m)&&n[m]!=null)if(m==="style"){var o=n[m];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(yl.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in a){var d=a[m];if(o=n!=null?n[m]:void 0,a.hasOwnProperty(m)&&d!==o&&(d!=null||o!=null))if(m==="style")if(o){for(l in o)!o.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in d)d.hasOwnProperty(l)&&o[l]!==d[l]&&(r||(r={}),r[l]=d[l])}else r||(i||(i=[]),i.push(m,r)),r=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(i=i||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(yl.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&zt("scroll",e),i||o===d||(i=[])):(i=i||[]).push(m,d))}r&&(i=i||[]).push("style",r);var m=i;(s.updateQueue=m)&&(s.flags|=4)}};gb=function(e,s,r,a){r!==a&&(s.flags|=4)};function Ti(e,s){if(!Dt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ms(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function iw(e,s,r){var a=s.pendingProps;switch(Kp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(s),null;case 1:return zs(s.type)&&jc(),ms(s),null;case 3:return a=s.stateNode,ni(),Tt(Es),Tt(ys),sf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wo(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Nr!==null&&(Gm(Nr),Nr=null))),Om(e,s),ms(s),null;case 5:tf(s);var n=Za(El.current);if(r=s.type,e!==null&&s.stateNode!=null)hb(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(Te(166));return ms(s),null}if(e=Za(qr.current),wo(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[Mr]=s,a[Pl]=i,e=(s.mode&1)!==0,r){case"dialog":zt("cancel",a),zt("close",a);break;case"iframe":case"object":case"embed":zt("load",a);break;case"video":case"audio":for(n=0;n<Qi.length;n++)zt(Qi[n],a);break;case"source":zt("error",a);break;case"img":case"image":case"link":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"input":wh(a,i),zt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},zt("invalid",a);break;case"textarea":Sh(a,i),zt("invalid",a)}pm(r,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&No(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&No(a.textContent,o,e),n=["children",""+o]):yl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&zt("scroll",a)}switch(r){case"input":fo(a),Ch(a,i,!0);break;case"textarea":fo(a),_h(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=vc)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),r==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[Mr]=s,e[Pl]=a,fb(e,s,!1,!1),s.stateNode=e;e:{switch(l=fm(r,a),r){case"dialog":zt("cancel",e),zt("close",e),n=a;break;case"iframe":case"object":case"embed":zt("load",e),n=a;break;case"video":case"audio":for(n=0;n<Qi.length;n++)zt(Qi[n],e);n=a;break;case"source":zt("error",e),n=a;break;case"img":case"image":case"link":zt("error",e),zt("load",e),n=a;break;case"details":zt("toggle",e),n=a;break;case"input":wh(e,a),n=om(e,a),zt("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Ut({},a,{value:void 0}),zt("invalid",e);break;case"textarea":Sh(e,a),n=um(e,a),zt("invalid",e);break;default:n=a}pm(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="style"?K0(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&W0(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&bl(e,d):typeof d=="number"&&bl(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yl.hasOwnProperty(i)?d!=null&&i==="onScroll"&&zt("scroll",e):d!=null&&Tp(e,i,d,l))}switch(r){case"input":fo(e),Ch(e,a,!1);break;case"textarea":fo(e),_h(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ra(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Wn(e,!!a.multiple,i,!1):a.defaultValue!=null&&Wn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=vc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ms(s),null;case 6:if(e&&s.stateNode!=null)gb(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(Te(166));if(r=Za(El.current),Za(qr.current),wo(s)){if(a=s.stateNode,r=s.memoizedProps,a[Mr]=s,(i=a.nodeValue!==r)&&(e=Ws,e!==null))switch(e.tag){case 3:No(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(a.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Mr]=s,s.stateNode=a}return ms(s),null;case 13:if(Tt(Lt),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&Vs!==null&&s.mode&1&&!(s.flags&128))Dy(),ri(),s.flags|=98560,i=!1;else if(i=wo(s),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[Mr]=s}else ri(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ms(s),i=!1}else Nr!==null&&(Gm(Nr),Nr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||Lt.current&1?Jt===0&&(Jt=3):hf())),s.updateQueue!==null&&(s.flags|=4),ms(s),null);case 4:return ni(),Om(e,s),e===null&&_l(s.stateNode.containerInfo),ms(s),null;case 10:return Xp(s.type._context),ms(s),null;case 17:return zs(s.type)&&jc(),ms(s),null;case 19:if(Tt(Lt),i=s.memoizedState,i===null)return ms(s),null;if(a=(s.flags&128)!==0,l=i.rendering,l===null)if(a)Ti(i,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(l=Pc(e),l!==null){for(s.flags|=128,Ti(i,!1),a=l.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pt(Lt,Lt.current&1|2),s.child}e=e.sibling}i.tail!==null&&Ht()>li&&(s.flags|=128,a=!0,Ti(i,!1),s.lanes=4194304)}else{if(!a)if(e=Pc(l),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ti(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Dt)return ms(s),null}else 2*Ht()-i.renderingStartTime>li&&r!==1073741824&&(s.flags|=128,a=!0,Ti(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Ht(),s.sibling=null,r=Lt.current,Pt(Lt,a?r&1|2:r&1),s):(ms(s),null);case 22:case 23:return ff(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Us&1073741824&&(ms(s),s.subtreeFlags&6&&(s.flags|=8192)):ms(s),null;case 24:return null;case 25:return null}throw Error(Te(156,s.tag))}function lw(e,s){switch(Kp(s),s.tag){case 1:return zs(s.type)&&jc(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ni(),Tt(Es),Tt(ys),sf(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return tf(s),null;case 13:if(Tt(Lt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(Te(340));ri()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Tt(Lt),null;case 4:return ni(),null;case 10:return Xp(s.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var _o=!1,hs=!1,ow=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Bn(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Vt(e,s,a)}else r.current=null}function Um(e,s,r){try{r()}catch(a){Vt(e,s,a)}}var hg=!1;function cw(e,s){if(Cm=xc,e=jy(),Wp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,d=-1,m=0,u=0,p=e,f=null;t:for(;;){for(var x;p!==r||n!==0&&p.nodeType!==3||(o=l+n),p!==i||a!==0&&p.nodeType!==3||(d=l+a),p.nodeType===3&&(l+=p.nodeValue.length),(x=p.firstChild)!==null;)f=p,p=x;for(;;){if(p===e)break t;if(f===r&&++m===n&&(o=l),f===i&&++u===a&&(d=l),(x=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=x}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sm={focusedElem:e,selectionRange:r},xc=!1,Me=s;Me!==null;)if(s=Me,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Me=e;else for(;Me!==null;){s=Me;try{var y=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,j=y.memoizedState,v=s.stateNode,h=v.getSnapshotBeforeUpdate(s.elementType===s.type?w:vr(s.type,w),j);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=s.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(b){Vt(s,s.return,b)}if(e=s.sibling,e!==null){e.return=s.return,Me=e;break}Me=s.return}return y=hg,hg=!1,y}function ll(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Um(s,r,i)}n=n.next}while(n!==a)}}function dd(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function Bm(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function xb(e){var s=e.alternate;s!==null&&(e.alternate=null,xb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Mr],delete s[Pl],delete s[Pm],delete s[W1],delete s[H1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yb(e){return e.tag===5||e.tag===3||e.tag===4}function gg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qm(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=vc));else if(a!==4&&(e=e.child,e!==null))for(qm(e,s,r),e=e.sibling;e!==null;)qm(e,s,r),e=e.sibling}function Vm(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Vm(e,s,r),e=e.sibling;e!==null;)Vm(e,s,r),e=e.sibling}var is=null,jr=!1;function pa(e,s,r){for(r=r.child;r!==null;)bb(e,s,r),r=r.sibling}function bb(e,s,r){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(sd,r)}catch{}switch(r.tag){case 5:hs||Bn(r,s);case 6:var a=is,n=jr;is=null,pa(e,s,r),is=a,jr=n,is!==null&&(jr?(e=is,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):is.removeChild(r.stateNode));break;case 18:is!==null&&(jr?(e=is,r=r.stateNode,e.nodeType===8?Pu(e.parentNode,r):e.nodeType===1&&Pu(e,r),wl(e)):Pu(is,r.stateNode));break;case 4:a=is,n=jr,is=r.stateNode.containerInfo,jr=!0,pa(e,s,r),is=a,jr=n;break;case 0:case 11:case 14:case 15:if(!hs&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Um(r,s,l),n=n.next}while(n!==a)}pa(e,s,r);break;case 1:if(!hs&&(Bn(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Vt(r,s,o)}pa(e,s,r);break;case 21:pa(e,s,r);break;case 22:r.mode&1?(hs=(a=hs)||r.memoizedState!==null,pa(e,s,r),hs=a):pa(e,s,r);break;default:pa(e,s,r)}}function xg(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ow),s.forEach(function(a){var n=yw.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function yr(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:is=o.stateNode,jr=!1;break e;case 3:is=o.stateNode.containerInfo,jr=!0;break e;case 4:is=o.stateNode.containerInfo,jr=!0;break e}o=o.return}if(is===null)throw Error(Te(160));bb(i,l,n),is=null,jr=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(m){Vt(n,s,m)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vb(s,e),s=s.sibling}function vb(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(s,e),Er(e),a&4){try{ll(3,e,e.return),dd(3,e)}catch(w){Vt(e,e.return,w)}try{ll(5,e,e.return)}catch(w){Vt(e,e.return,w)}}break;case 1:yr(s,e),Er(e),a&512&&r!==null&&Bn(r,r.return);break;case 5:if(yr(s,e),Er(e),a&512&&r!==null&&Bn(r,r.return),e.flags&32){var n=e.stateNode;try{bl(n,"")}catch(w){Vt(e,e.return,w)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&B0(n,i),fm(o,l);var m=fm(o,i);for(l=0;l<d.length;l+=2){var u=d[l],p=d[l+1];u==="style"?K0(n,p):u==="dangerouslySetInnerHTML"?W0(n,p):u==="children"?bl(n,p):Tp(n,u,p,m)}switch(o){case"input":cm(n,i);break;case"textarea":q0(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Wn(n,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wn(n,!!i.multiple,i.defaultValue,!0):Wn(n,!!i.multiple,i.multiple?[]:"",!1))}n[Pl]=i}catch(w){Vt(e,e.return,w)}}break;case 6:if(yr(s,e),Er(e),a&4){if(e.stateNode===null)throw Error(Te(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(w){Vt(e,e.return,w)}}break;case 3:if(yr(s,e),Er(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(s.containerInfo)}catch(w){Vt(e,e.return,w)}break;case 4:yr(s,e),Er(e);break;case 13:yr(s,e),Er(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(mf=Ht())),a&4&&xg(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(hs=(m=hs)||u,yr(s,e),hs=m):yr(s,e),Er(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!u&&e.mode&1)for(Me=e,u=e.child;u!==null;){for(p=Me=u;Me!==null;){switch(f=Me,x=f.child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:Bn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){a=f,r=f.return;try{s=a,y.props=s.memoizedProps,y.state=s.memoizedState,y.componentWillUnmount()}catch(w){Vt(a,r,w)}}break;case 5:Bn(f,f.return);break;case 22:if(f.memoizedState!==null){bg(p);continue}}x!==null?(x.return=f,Me=x):bg(p)}u=u.sibling}e:for(u=null,p=e;;){if(p.tag===5){if(u===null){u=p;try{n=p.stateNode,m?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=H0("display",l))}catch(w){Vt(e,e.return,w)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=m?"":p.memoizedProps}catch(w){Vt(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yr(s,e),Er(e),a&4&&xg(e);break;case 21:break;default:yr(s,e),Er(e)}}function Er(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(yb(r)){var a=r;break e}r=r.return}throw Error(Te(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(bl(n,""),a.flags&=-33);var i=gg(e);Vm(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=gg(e);qm(e,o,l);break;default:throw Error(Te(161))}}catch(d){Vt(e,e.return,d)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function dw(e,s,r){Me=e,jb(e)}function jb(e,s,r){for(var a=(e.mode&1)!==0;Me!==null;){var n=Me,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||_o;if(!l){var o=n.alternate,d=o!==null&&o.memoizedState!==null||hs;o=_o;var m=hs;if(_o=l,(hs=d)&&!m)for(Me=n;Me!==null;)l=Me,d=l.child,l.tag===22&&l.memoizedState!==null?vg(n):d!==null?(d.return=l,Me=d):vg(n);for(;i!==null;)Me=i,jb(i),i=i.sibling;Me=n,_o=o,hs=m}yg(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,Me=i):yg(e)}}function yg(e){for(;Me!==null;){var s=Me;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:hs||dd(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!hs)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:vr(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&sg(s,i,a);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}sg(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var d=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var m=s.alternate;if(m!==null){var u=m.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&wl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}hs||s.flags&512&&Bm(s)}catch(f){Vt(s,s.return,f)}}if(s===e){Me=null;break}if(r=s.sibling,r!==null){r.return=s.return,Me=r;break}Me=s.return}}function bg(e){for(;Me!==null;){var s=Me;if(s===e){Me=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Me=r;break}Me=s.return}}function vg(e){for(;Me!==null;){var s=Me;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{dd(4,s)}catch(d){Vt(s,r,d)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(d){Vt(s,n,d)}}var i=s.return;try{Bm(s)}catch(d){Vt(s,i,d)}break;case 5:var l=s.return;try{Bm(s)}catch(d){Vt(s,l,d)}}}catch(d){Vt(s,s.return,d)}if(s===e){Me=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Me=o;break}Me=s.return}}var uw=Math.ceil,zc=ua.ReactCurrentDispatcher,df=ua.ReactCurrentOwner,or=ua.ReactCurrentBatchConfig,ut=0,ss=null,Qt=null,cs=0,Us=0,qn=La(0),Jt=0,Dl=null,mn=0,ud=0,uf=0,ol=null,_s=null,mf=0,li=1/0,Yr=null,Tc=!1,Wm=null,Pa=null,ko=!1,ja=null,Rc=0,cl=0,Hm=null,Qo=-1,Xo=0;function Ns(){return ut&6?Ht():Qo!==-1?Qo:Qo=Ht()}function Aa(e){return e.mode&1?ut&2&&cs!==0?cs&-cs:G1.transition!==null?(Xo===0&&(Xo=ny()),Xo):(e=jt,e!==0||(e=window.event,e=e===void 0?16:my(e.type)),e):1}function Cr(e,s,r,a){if(50<cl)throw cl=0,Hm=null,Error(Te(185));Kl(e,r,a),(!(ut&2)||e!==ss)&&(e===ss&&(!(ut&2)&&(ud|=r),Jt===4&&ba(e,cs)),Ts(e,a),r===1&&ut===0&&!(s.mode&1)&&(li=Ht()+500,ld&&Ma()))}function Ts(e,s){var r=e.callbackNode;GN(e,s);var a=gc(e,e===ss?cs:0);if(a===0)r!==null&&Ah(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&Ah(r),s===1)e.tag===0?K1(jg.bind(null,e)):zy(jg.bind(null,e)),q1(function(){!(ut&6)&&Ma()}),r=null;else{switch(iy(a)){case 1:r=Fp;break;case 4:r=ry;break;case 16:r=hc;break;case 536870912:r=ay;break;default:r=hc}r=Ab(r,Nb.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Nb(e,s){if(Qo=-1,Xo=0,ut&6)throw Error(Te(327));var r=e.callbackNode;if(Qn()&&e.callbackNode!==r)return null;var a=gc(e,e===ss?cs:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Dc(e,a);else{s=a;var n=ut;ut|=2;var i=Cb();(ss!==e||cs!==s)&&(Yr=null,li=Ht()+500,rn(e,s));do try{fw();break}catch(o){wb(e,o)}while(!0);Qp(),zc.current=i,ut=n,Qt!==null?s=0:(ss=null,cs=0,s=Jt)}if(s!==0){if(s===2&&(n=bm(e),n!==0&&(a=n,s=Km(e,n))),s===1)throw r=Dl,rn(e,0),ba(e,a),Ts(e,Ht()),r;if(s===6)ba(e,a);else{if(n=e.current.alternate,!(a&30)&&!mw(n)&&(s=Dc(e,a),s===2&&(i=bm(e),i!==0&&(a=i,s=Km(e,i))),s===1))throw r=Dl,rn(e,0),ba(e,a),Ts(e,Ht()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(Te(345));case 2:Ga(e,_s,Yr);break;case 3:if(ba(e,a),(a&130023424)===a&&(s=mf+500-Ht(),10<s)){if(gc(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Ns(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=km(Ga.bind(null,e,_s,Yr),s);break}Ga(e,_s,Yr);break;case 4:if(ba(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var l=31-wr(a);i=1<<l,l=s[l],l>n&&(n=l),a&=~i}if(a=n,a=Ht()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*uw(a/1960))-a,10<a){e.timeoutHandle=km(Ga.bind(null,e,_s,Yr),a);break}Ga(e,_s,Yr);break;case 5:Ga(e,_s,Yr);break;default:throw Error(Te(329))}}}return Ts(e,Ht()),e.callbackNode===r?Nb.bind(null,e):null}function Km(e,s){var r=ol;return e.current.memoizedState.isDehydrated&&(rn(e,s).flags|=256),e=Dc(e,s),e!==2&&(s=_s,_s=r,s!==null&&Gm(s)),e}function Gm(e){_s===null?_s=e:_s.push.apply(_s,e)}function mw(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Sr(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ba(e,s){for(s&=~uf,s&=~ud,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-wr(s),a=1<<r;e[r]=-1,s&=~a}}function jg(e){if(ut&6)throw Error(Te(327));Qn();var s=gc(e,0);if(!(s&1))return Ts(e,Ht()),null;var r=Dc(e,s);if(e.tag!==0&&r===2){var a=bm(e);a!==0&&(s=a,r=Km(e,a))}if(r===1)throw r=Dl,rn(e,0),ba(e,s),Ts(e,Ht()),r;if(r===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Ga(e,_s,Yr),Ts(e,Ht()),null}function pf(e,s){var r=ut;ut|=1;try{return e(s)}finally{ut=r,ut===0&&(li=Ht()+500,ld&&Ma())}}function pn(e){ja!==null&&ja.tag===0&&!(ut&6)&&Qn();var s=ut;ut|=1;var r=or.transition,a=jt;try{if(or.transition=null,jt=1,e)return e()}finally{jt=a,or.transition=r,ut=s,!(ut&6)&&Ma()}}function ff(){Us=qn.current,Tt(qn)}function rn(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,B1(r)),Qt!==null)for(r=Qt.return;r!==null;){var a=r;switch(Kp(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&jc();break;case 3:ni(),Tt(Es),Tt(ys),sf();break;case 5:tf(a);break;case 4:ni();break;case 13:Tt(Lt);break;case 19:Tt(Lt);break;case 10:Xp(a.type._context);break;case 22:case 23:ff()}r=r.return}if(ss=e,Qt=e=Ea(e.current,null),cs=Us=s,Jt=0,Dl=null,uf=ud=mn=0,_s=ol=null,Ja!==null){for(s=0;s<Ja.length;s++)if(r=Ja[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}r.pending=a}Ja=null}return e}function wb(e,s){do{var r=Qt;try{if(Qp(),Ko.current=Ec,Ac){for(var a=Mt.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Ac=!1}if(un=0,Zt=Xt=Mt=null,il=!1,zl=0,df.current=null,r===null||r.return===null){Jt=1,Dl=s,Qt=null;break}e:{var i=e,l=r.return,o=r,d=s;if(s=cs,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,u=o,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=og(l);if(x!==null){x.flags&=-257,cg(x,l,o,i,s),x.mode&1&&lg(i,m,s),s=x,d=m;var y=s.updateQueue;if(y===null){var w=new Set;w.add(d),s.updateQueue=w}else y.add(d);break e}else{if(!(s&1)){lg(i,m,s),hf();break e}d=Error(Te(426))}}else if(Dt&&o.mode&1){var j=og(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),cg(j,l,o,i,s),Gp(ii(d,o));break e}}i=d=ii(d,o),Jt!==4&&(Jt=2),ol===null?ol=[i]:ol.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var v=ib(i,d,s);tg(i,v);break e;case 1:o=d;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pa===null||!Pa.has(g)))){i.flags|=65536,s&=-s,i.lanes|=s;var b=lb(i,o,s);tg(i,b);break e}}i=i.return}while(i!==null)}_b(r)}catch(_){s=_,Qt===r&&r!==null&&(Qt=r=r.return);continue}break}while(!0)}function Cb(){var e=zc.current;return zc.current=Ec,e===null?Ec:e}function hf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),ss===null||!(mn&268435455)&&!(ud&268435455)||ba(ss,cs)}function Dc(e,s){var r=ut;ut|=2;var a=Cb();(ss!==e||cs!==s)&&(Yr=null,rn(e,s));do try{pw();break}catch(n){wb(e,n)}while(!0);if(Qp(),ut=r,zc.current=a,Qt!==null)throw Error(Te(261));return ss=null,cs=0,Jt}function pw(){for(;Qt!==null;)Sb(Qt)}function fw(){for(;Qt!==null&&!MN();)Sb(Qt)}function Sb(e){var s=Pb(e.alternate,e,Us);e.memoizedProps=e.pendingProps,s===null?_b(e):Qt=s,df.current=null}function _b(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=lw(r,s),r!==null){r.flags&=32767,Qt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jt=6,Qt=null;return}}else if(r=iw(r,s,Us),r!==null){Qt=r;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=e}while(s!==null);Jt===0&&(Jt=5)}function Ga(e,s,r){var a=jt,n=or.transition;try{or.transition=null,jt=1,hw(e,s,r,a)}finally{or.transition=n,jt=a}return null}function hw(e,s,r,a){do Qn();while(ja!==null);if(ut&6)throw Error(Te(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(YN(e,i),e===ss&&(Qt=ss=null,cs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ko||(ko=!0,Ab(hc,function(){return Qn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=or.transition,or.transition=null;var l=jt;jt=1;var o=ut;ut|=4,df.current=null,cw(e,r),vb(r,e),$1(Sm),xc=!!Cm,Sm=Cm=null,e.current=r,dw(r),ON(),ut=o,jt=l,or.transition=i}else e.current=r;if(ko&&(ko=!1,ja=e,Rc=n),i=e.pendingLanes,i===0&&(Pa=null),qN(r.stateNode),Ts(e,Ht()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Tc)throw Tc=!1,e=Wm,Wm=null,e;return Rc&1&&e.tag!==0&&Qn(),i=e.pendingLanes,i&1?e===Hm?cl++:(cl=0,Hm=e):cl=0,Ma(),null}function Qn(){if(ja!==null){var e=iy(Rc),s=or.transition,r=jt;try{if(or.transition=null,jt=16>e?16:e,ja===null)var a=!1;else{if(e=ja,ja=null,Rc=0,ut&6)throw Error(Te(331));var n=ut;for(ut|=4,Me=e.current;Me!==null;){var i=Me,l=i.child;if(Me.flags&16){var o=i.deletions;if(o!==null){for(var d=0;d<o.length;d++){var m=o[d];for(Me=m;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:ll(8,u,i)}var p=u.child;if(p!==null)p.return=u,Me=p;else for(;Me!==null;){u=Me;var f=u.sibling,x=u.return;if(xb(u),u===m){Me=null;break}if(f!==null){f.return=x,Me=f;break}Me=x}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}Me=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Me=l;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ll(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Me=v;break e}Me=i.return}}var h=e.current;for(Me=h;Me!==null;){l=Me;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,Me=g;else e:for(l=h;Me!==null;){if(o=Me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dd(9,o)}}catch(_){Vt(o,o.return,_)}if(o===l){Me=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Me=b;break e}Me=o.return}}if(ut=n,Ma(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(sd,e)}catch{}a=!0}return a}finally{jt=r,or.transition=s}}return!1}function Ng(e,s,r){s=ii(r,s),s=ib(e,s,1),e=ka(e,s,1),s=Ns(),e!==null&&(Kl(e,1,s),Ts(e,s))}function Vt(e,s,r){if(e.tag===3)Ng(e,e,r);else for(;s!==null;){if(s.tag===3){Ng(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pa===null||!Pa.has(a))){e=ii(r,e),e=lb(s,e,1),s=ka(s,e,1),e=Ns(),s!==null&&(Kl(s,1,e),Ts(s,e));break}}s=s.return}}function gw(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=Ns(),e.pingedLanes|=e.suspendedLanes&r,ss===e&&(cs&r)===r&&(Jt===4||Jt===3&&(cs&130023424)===cs&&500>Ht()-mf?rn(e,0):uf|=r),Ts(e,s)}function kb(e,s){s===0&&(e.mode&1?(s=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):s=1);var r=Ns();e=na(e,s),e!==null&&(Kl(e,s,r),Ts(e,r))}function xw(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),kb(e,r)}function yw(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Te(314))}a!==null&&a.delete(s),kb(e,r)}var Pb;Pb=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Es.current)Ps=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Ps=!1,nw(e,s,r);Ps=!!(e.flags&131072)}else Ps=!1,Dt&&s.flags&1048576&&Ty(s,Cc,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Yo(e,s),e=s.pendingProps;var n=si(s,ys.current);Yn(s,r),n=af(null,s,a,e,n,r);var i=nf();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,zs(a)?(i=!0,Nc(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Zp(s),n.updater=cd,s.stateNode=n,n._reactInternals=s,Dm(s,a,e,r),s=Fm(null,s,a,!0,i,r)):(s.tag=0,Dt&&i&&Hp(s),vs(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Yo(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=vw(a),e=vr(a,e),n){case 0:s=Im(null,s,a,e,r);break e;case 1:s=mg(null,s,a,e,r);break e;case 11:s=dg(null,s,a,e,r);break e;case 14:s=ug(null,s,a,vr(a.type,e),r);break e}throw Error(Te(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:vr(a,n),Im(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:vr(a,n),mg(e,s,a,n,r);case 3:e:{if(ub(s),e===null)throw Error(Te(387));a=s.pendingProps,i=s.memoizedState,n=i.element,Ly(e,s),kc(s,a,null,r);var l=s.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=ii(Error(Te(423)),s),s=pg(e,s,a,r,n);break e}else if(a!==n){n=ii(Error(Te(424)),s),s=pg(e,s,a,r,n);break e}else for(Vs=_a(s.stateNode.containerInfo.firstChild),Ws=s,Dt=!0,Nr=null,r=Iy(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ri(),a===n){s=ia(e,s,r);break e}vs(e,s,a,r)}s=s.child}return s;case 5:return My(s),e===null&&zm(s),a=s.type,n=s.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,_m(a,n)?l=null:i!==null&&_m(a,i)&&(s.flags|=32),db(e,s),vs(e,s,l,r),s.child;case 6:return e===null&&zm(s),null;case 13:return mb(e,s,r);case 4:return ef(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=ai(s,null,a,r):vs(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:vr(a,n),dg(e,s,a,n,r);case 7:return vs(e,s,s.pendingProps,r),s.child;case 8:return vs(e,s,s.pendingProps.children,r),s.child;case 12:return vs(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,l=n.value,Pt(Sc,a._currentValue),a._currentValue=l,i!==null)if(Sr(i.value,l)){if(i.children===n.children&&!Es.current){s=ia(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var d=o.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=sa(-1,r&-r),d.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var u=m.pending;u===null?d.next=d:(d.next=u.next,u.next=d),m.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Tm(i.return,r,s),o.lanes|=r;break}d=d.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Te(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Tm(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}vs(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,Yn(s,r),n=ur(n),a=a(n),s.flags|=1,vs(e,s,a,r),s.child;case 14:return a=s.type,n=vr(a,s.pendingProps),n=vr(a.type,n),ug(e,s,a,n,r);case 15:return ob(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:vr(a,n),Yo(e,s),s.tag=1,zs(a)?(e=!0,Nc(s)):e=!1,Yn(s,r),nb(s,a,n),Dm(s,a,n,r),Fm(null,s,a,!0,e,r);case 19:return pb(e,s,r);case 22:return cb(e,s,r)}throw Error(Te(156,s.tag))};function Ab(e,s){return sy(e,s)}function bw(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,s,r,a){return new bw(e,s,r,a)}function gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vw(e){if(typeof e=="function")return gf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dp)return 11;if(e===$p)return 14}return 2}function Ea(e,s){var r=e.alternate;return r===null?(r=lr(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jo(e,s,r,a,n,i){var l=2;if(a=e,typeof e=="function")gf(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Rn:return an(r.children,n,i,s);case Rp:l=8,n|=8;break;case am:return e=lr(12,r,s,n|2),e.elementType=am,e.lanes=i,e;case nm:return e=lr(13,r,s,n),e.elementType=nm,e.lanes=i,e;case im:return e=lr(19,r,s,n),e.elementType=im,e.lanes=i,e;case M0:return md(r,n,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F0:l=10;break e;case L0:l=9;break e;case Dp:l=11;break e;case $p:l=14;break e;case ha:l=16,a=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return s=lr(l,r,s,n),s.elementType=e,s.type=a,s.lanes=i,s}function an(e,s,r,a){return e=lr(7,e,a,s),e.lanes=r,e}function md(e,s,r,a){return e=lr(22,e,a,s),e.elementType=M0,e.lanes=r,e.stateNode={isHidden:!1},e}function Iu(e,s,r){return e=lr(6,e,null,s),e.lanes=r,e}function Fu(e,s,r){return s=lr(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function jw(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function xf(e,s,r,a,n,i,l,o,d){return e=new jw(e,s,r,o,d),s===1?(s=1,i===!0&&(s|=8)):s=0,i=lr(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(i),e}function Nw(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function Eb(e){if(!e)return Da;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(Te(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zs(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Te(171))}if(e.tag===1){var r=e.type;if(zs(r))return Ey(e,r,s)}return s}function zb(e,s,r,a,n,i,l,o,d){return e=xf(r,a,!0,e,n,i,l,o,d),e.context=Eb(null),r=e.current,a=Ns(),n=Aa(r),i=sa(a,n),i.callback=s??null,ka(r,i,n),e.current.lanes=n,Kl(e,n,a),Ts(e,a),e}function pd(e,s,r,a){var n=s.current,i=Ns(),l=Aa(n);return r=Eb(r),s.context===null?s.context=r:s.pendingContext=r,s=sa(i,l),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=ka(n,s,l),e!==null&&(Cr(e,n,l,i),Ho(e,n,l)),l}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wg(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function yf(e,s){wg(e,s),(e=e.alternate)&&wg(e,s)}function ww(){return null}var Tb=typeof reportError=="function"?reportError:function(e){console.error(e)};function bf(e){this._internalRoot=e}fd.prototype.render=bf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(Te(409));pd(e,s,null,null)};fd.prototype.unmount=bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;pn(function(){pd(null,e,null,null)}),s[aa]=null}};function fd(e){this._internalRoot=e}fd.prototype.unstable_scheduleHydration=function(e){if(e){var s=cy();e={blockedOn:null,target:e,priority:s};for(var r=0;r<ya.length&&s!==0&&s<ya[r].priority;r++);ya.splice(r,0,e),r===0&&uy(e)}};function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function Cw(e,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var m=$c(l);i.call(m)}}var l=zb(s,a,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=l,e[aa]=l.current,_l(e.nodeType===8?e.parentNode:e),pn(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var m=$c(d);o.call(m)}}var d=xf(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=d,e[aa]=d.current,_l(e.nodeType===8?e.parentNode:e),pn(function(){pd(s,d,r,a)}),d}function gd(e,s,r,a,n){var i=r._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var d=$c(l);o.call(d)}}pd(s,l,e,n)}else l=Cw(r,s,e,n,a);return $c(l)}ly=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=Yi(s.pendingLanes);r!==0&&(Lp(s,r|1),Ts(s,Ht()),!(ut&6)&&(li=Ht()+500,Ma()))}break;case 13:pn(function(){var a=na(e,1);if(a!==null){var n=Ns();Cr(a,e,1,n)}}),yf(e,1)}};Mp=function(e){if(e.tag===13){var s=na(e,134217728);if(s!==null){var r=Ns();Cr(s,e,134217728,r)}yf(e,134217728)}};oy=function(e){if(e.tag===13){var s=Aa(e),r=na(e,s);if(r!==null){var a=Ns();Cr(r,e,s,a)}yf(e,s)}};cy=function(){return jt};dy=function(e,s){var r=jt;try{return jt=e,s()}finally{jt=r}};gm=function(e,s,r){switch(s){case"input":if(cm(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=id(a);if(!n)throw Error(Te(90));U0(a),cm(a,n)}}}break;case"textarea":q0(e,r);break;case"select":s=r.value,s!=null&&Wn(e,!!r.multiple,s,!1)}};Q0=pf;X0=pn;var Sw={usingClientEntryPoint:!1,Events:[Yl,Fn,id,G0,Y0,pf]},Ri={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_w={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ey(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{sd=Po.inject(_w),Br=Po}catch{}}Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sw;Js.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vf(s))throw Error(Te(200));return Nw(e,s,null,r)};Js.createRoot=function(e,s){if(!vf(e))throw Error(Te(299));var r=!1,a="",n=Tb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=xf(e,1,!1,null,null,r,!1,a,n),e[aa]=s.current,_l(e.nodeType===8?e.parentNode:e),new bf(s)};Js.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=ey(s),e=e===null?null:e.stateNode,e};Js.flushSync=function(e){return pn(e)};Js.hydrate=function(e,s,r){if(!hd(s))throw Error(Te(200));return gd(null,e,s,!0,r)};Js.hydrateRoot=function(e,s,r){if(!vf(e))throw Error(Te(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",l=Tb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=zb(s,null,e,1,r??null,n,!1,i,l),e[aa]=s.current,_l(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new fd(s)};Js.render=function(e,s,r){if(!hd(s))throw Error(Te(200));return gd(null,e,s,!1,r)};Js.unmountComponentAtNode=function(e){if(!hd(e))throw Error(Te(40));return e._reactRootContainer?(pn(function(){gd(null,null,e,!1,function(){e._reactRootContainer=null,e[aa]=null})}),!0):!1};Js.unstable_batchedUpdates=pf;Js.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!hd(r))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return gd(e,s,r,!1,a)};Js.version="18.3.1-next-f1338f8080-20240426";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(e){console.error(e)}}Rb(),R0.exports=Js;var jf=R0.exports;const Ao=Sp(jf);var Sg=jf;sm.createRoot=Sg.createRoot,sm.hydrateRoot=Sg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$l.apply(this,arguments)}var Na;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Na||(Na={}));const _g="popstate";function kw(e){e===void 0&&(e={});function s(a,n){let{pathname:i,search:l,hash:o}=a.location;return Ym("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Ic(n)}return Aw(s,r,null,e)}function Kt(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Nf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Pw(){return Math.random().toString(36).substr(2,8)}function kg(e,s){return{usr:e.state,key:e.key,idx:s}}function Ym(e,s,r,a){return r===void 0&&(r=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?yi(s):s,{state:r,key:s&&s.key||a||Pw()})}function Ic(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function yi(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function Aw(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=Na.Pop,d=null,m=u();m==null&&(m=0,l.replaceState($l({},l.state,{idx:m}),""));function u(){return(l.state||{idx:null}).idx}function p(){o=Na.Pop;let j=u(),v=j==null?null:j-m;m=j,d&&d({action:o,location:w.location,delta:v})}function f(j,v){o=Na.Push;let h=Ym(w.location,j,v);m=u()+1;let g=kg(h,m),b=w.createHref(h);try{l.pushState(g,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;n.location.assign(b)}i&&d&&d({action:o,location:w.location,delta:1})}function x(j,v){o=Na.Replace;let h=Ym(w.location,j,v);m=u();let g=kg(h,m),b=w.createHref(h);l.replaceState(g,"",b),i&&d&&d({action:o,location:w.location,delta:0})}function y(j){let v=n.location.origin!=="null"?n.location.origin:n.location.href,h=typeof j=="string"?j:Ic(j);return h=h.replace(/ $/,"%20"),Kt(v,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,v)}let w={get action(){return o},get location(){return e(n,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(_g,p),d=j,()=>{n.removeEventListener(_g,p),d=null}},createHref(j){return s(n,j)},createURL:y,encodeLocation(j){let v=y(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:x,go(j){return l.go(j)}};return w}var Pg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pg||(Pg={}));function Ew(e,s,r){return r===void 0&&(r="/"),zw(e,s,r)}function zw(e,s,r,a){let n=typeof s=="string"?yi(s):s,i=wf(n.pathname||"/",r);if(i==null)return null;let l=Db(e);Tw(l);let o=null;for(let d=0;o==null&&d<l.length;++d){let m=Vw(i);o=Uw(l[d],m)}return o}function Db(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,l,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Kt(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let m=za([a,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Db(i.children,s,u,m)),!(i.path==null&&!i.index)&&s.push({path:m,score:Mw(m,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let d of $b(i.path))n(i,l,d)}),s}function $b(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=$b(a.join("/")),o=[];return o.push(...l.map(d=>d===""?i:[i,d].join("/"))),n&&o.push(...l),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Tw(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Ow(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Rw=/^:[\w-]+$/,Dw=3,$w=2,Iw=1,Fw=10,Lw=-2,Ag=e=>e==="*";function Mw(e,s){let r=e.split("/"),a=r.length;return r.some(Ag)&&(a+=Lw),s&&(a+=$w),r.filter(n=>!Ag(n)).reduce((n,i)=>n+(Rw.test(i)?Dw:i===""?Iw:Fw),a)}function Ow(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function Uw(e,s,r){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let d=a[o],m=o===a.length-1,u=i==="/"?s:s.slice(i.length)||"/",p=Bw({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},u),f=d.route;if(!p)return null;Object.assign(n,p.params),l.push({params:n,pathname:za([i,p.pathname]),pathnameBase:Yw(za([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=za([i,p.pathnameBase]))}return l}function Bw(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=qw(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((m,u,p)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let w=o[p]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return x&&!y?m[f]=void 0:m[f]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:l,pattern:e}}function qw(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Nf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,d)=>(a.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Vw(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Nf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function wf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hw=e=>Ww.test(e);function Kw(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?yi(e):e,i;if(r)if(Hw(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Nf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=Eg(r.substring(1),"/"):i=Eg(r,s)}else i=s;return{pathname:i,search:Qw(a),hash:Xw(n)}}function Eg(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Lu(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gw(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Cf(e,s){let r=Gw(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Sf(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=yi(e):(n=$l({},e),Kt(!n.pathname||!n.pathname.includes("?"),Lu("?","pathname","search",n)),Kt(!n.pathname||!n.pathname.includes("#"),Lu("#","pathname","hash",n)),Kt(!n.search||!n.search.includes("#"),Lu("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=r;else{let p=s.length-1;if(!a&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),p-=1;n.pathname=f.join("/")}o=p>=0?s[p]:"/"}let d=Kw(n,o),m=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(m||u)&&(d.pathname+="/"),d}const za=e=>e.join("/").replace(/\/\/+/g,"/"),Yw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ib=["post","put","patch","delete"];new Set(Ib);const Zw=["get",...Ib];new Set(Zw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Il.apply(this,arguments)}const _f=c.createContext(null),eC=c.createContext(null),Oa=c.createContext(null),xd=c.createContext(null),Ua=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Fb=c.createContext(null);function tC(e,s){let{relative:r}=s===void 0?{}:s;bi()||Kt(!1);let{basename:a,navigator:n}=c.useContext(Oa),{hash:i,pathname:l,search:o}=Mb(e,{relative:r}),d=l;return a!=="/"&&(d=l==="/"?a:za([a,l])),n.createHref({pathname:d,search:o,hash:i})}function bi(){return c.useContext(xd)!=null}function Ba(){return bi()||Kt(!1),c.useContext(xd).location}function Lb(e){c.useContext(Oa).static||c.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=c.useContext(Ua);return e?fC():sC()}function sC(){bi()||Kt(!1);let e=c.useContext(_f),{basename:s,future:r,navigator:a}=c.useContext(Oa),{matches:n}=c.useContext(Ua),{pathname:i}=Ba(),l=JSON.stringify(Cf(n,r.v7_relativeSplatPath)),o=c.useRef(!1);return Lb(()=>{o.current=!0}),c.useCallback(function(m,u){if(u===void 0&&(u={}),!o.current)return;if(typeof m=="number"){a.go(m);return}let p=Sf(m,JSON.parse(l),i,u.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:za([s,p.pathname])),(u.replace?a.replace:a.push)(p,u.state,u)},[s,a,l,i,e])}function Mb(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=c.useContext(Oa),{matches:n}=c.useContext(Ua),{pathname:i}=Ba(),l=JSON.stringify(Cf(n,a.v7_relativeSplatPath));return c.useMemo(()=>Sf(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function rC(e,s){return aC(e,s)}function aC(e,s,r,a){bi()||Kt(!1);let{navigator:n}=c.useContext(Oa),{matches:i}=c.useContext(Ua),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Ba(),u;if(s){var p;let j=typeof s=="string"?yi(s):s;d==="/"||(p=j.pathname)!=null&&p.startsWith(d)||Kt(!1),u=j}else u=m;let f=u.pathname||"/",x=f;if(d!=="/"){let j=d.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=Ew(e,{pathname:x}),w=cC(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:za([d,n.encodeLocation?n.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:za([d,n.encodeLocation?n.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,a);return s&&w?c.createElement(xd.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Na.Pop}},w):w}function nC(){let e=pC(),s=Jw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},s),r?c.createElement("pre",{style:n},r):null,null)}const iC=c.createElement(nC,null);class lC extends c.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?c.createElement(Ua.Provider,{value:this.props.routeContext},c.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oC(e){let{routeContext:s,match:r,children:a}=e,n=c.useContext(_f);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),c.createElement(Ua.Provider,{value:s},a)}function cC(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);u>=0||Kt(!1),l=l.slice(0,Math.min(l.length,u+1))}let d=!1,m=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let p=l[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=u),p.route.id){let{loaderData:f,errors:x}=r,y=p.route.loader&&f[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||y){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((u,p,f)=>{let x,y=!1,w=null,j=null;r&&(x=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||iC,d&&(m<0&&f===0?(hC("route-fallback"),y=!0,j=null):m===f&&(y=!0,j=p.route.hydrateFallbackElement||null)));let v=s.concat(l.slice(0,f+1)),h=()=>{let g;return x?g=w:y?g=j:p.route.Component?g=c.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=u,c.createElement(oC,{match:p,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:g})};return r&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?c.createElement(lC,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:h(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):h()},null)}var Ob=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ob||{}),Ub=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ub||{});function dC(e){let s=c.useContext(_f);return s||Kt(!1),s}function uC(e){let s=c.useContext(eC);return s||Kt(!1),s}function mC(e){let s=c.useContext(Ua);return s||Kt(!1),s}function Bb(e){let s=mC(),r=s.matches[s.matches.length-1];return r.route.id||Kt(!1),r.route.id}function pC(){var e;let s=c.useContext(Fb),r=uC(),a=Bb();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function fC(){let{router:e}=dC(Ob.UseNavigateStable),s=Bb(Ub.UseNavigateStable),r=c.useRef(!1);return Lb(()=>{r.current=!0}),c.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Il({fromRouteId:s},i)))},[e,s])}const zg={};function hC(e,s,r){zg[e]||(zg[e]=!0)}function gC(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zo(e){let{to:s,replace:r,state:a,relative:n}=e;bi()||Kt(!1);let{future:i,static:l}=c.useContext(Oa),{matches:o}=c.useContext(Ua),{pathname:d}=Ba(),m=kr(),u=Sf(s,Cf(o,i.v7_relativeSplatPath),d,n==="path"),p=JSON.stringify(u);return c.useEffect(()=>m(JSON.parse(p),{replace:r,state:a,relative:n}),[m,p,n,r,a]),null}function Qe(e){Kt(!1)}function xC(e){let{basename:s="/",children:r=null,location:a,navigationType:n=Na.Pop,navigator:i,static:l=!1,future:o}=e;bi()&&Kt(!1);let d=s.replace(/^\/*/,"/"),m=c.useMemo(()=>({basename:d,navigator:i,static:l,future:Il({v7_relativeSplatPath:!1},o)}),[d,o,i,l]);typeof a=="string"&&(a=yi(a));let{pathname:u="/",search:p="",hash:f="",state:x=null,key:y="default"}=a,w=c.useMemo(()=>{let j=wf(u,d);return j==null?null:{location:{pathname:j,search:p,hash:f,state:x,key:y},navigationType:n}},[d,u,p,f,x,y,n]);return w==null?null:c.createElement(Oa.Provider,{value:m},c.createElement(xd.Provider,{children:r,value:w}))}function Di(e){let{children:s,location:r}=e;return rC(Qm(s),r)}new Promise(()=>{});function Qm(e,s){s===void 0&&(s=[]);let r=[];return c.Children.forEach(e,(a,n)=>{if(!c.isValidElement(a))return;let i=[...s,n];if(a.type===c.Fragment){r.push.apply(r,Qm(a.props.children,i));return}a.type!==Qe&&Kt(!1),!a.props.index||!a.props.children||Kt(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Qm(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xm.apply(this,arguments)}function yC(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function bC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vC(e,s){return e.button===0&&(!s||s==="_self")&&!bC(e)}function Jm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function jC(e,s){let r=Jm(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const NC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wC="6";try{window.__reactRouterVersion=wC}catch{}const CC="startTransition",Tg=uc[CC];function SC(e){let{basename:s,children:r,future:a,window:n}=e,i=c.useRef();i.current==null&&(i.current=kw({window:n,v5Compat:!0}));let l=i.current,[o,d]=c.useState({action:l.action,location:l.location}),{v7_startTransition:m}=a||{},u=c.useCallback(p=>{m&&Tg?Tg(()=>d(p)):d(p)},[d,m]);return c.useLayoutEffect(()=>l.listen(u),[l,u]),c.useEffect(()=>gC(a),[a]),c.createElement(xC,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=c.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:d,to:m,preventScrollReset:u,viewTransition:p}=s,f=yC(s,NC),{basename:x}=c.useContext(Oa),y,w=!1;if(typeof m=="string"&&kC.test(m)&&(y=m,_C))try{let g=new URL(window.location.href),b=m.startsWith("//")?new URL(g.protocol+m):new URL(m),_=wf(b.pathname,x);b.origin===g.origin&&_!=null?m=_+b.search+b.hash:w=!0}catch{}let j=tC(m,{relative:n}),v=PC(m,{replace:l,state:o,target:d,preventScrollReset:u,relative:n,viewTransition:p});function h(g){a&&a(g),g.defaultPrevented||v(g)}return c.createElement("a",Xm({},f,{href:y||j,onClick:w||i?a:h,ref:r,target:d}))});var Rg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rg||(Rg={}));var Dg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dg||(Dg={}));function PC(e,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,d=kr(),m=Ba(),u=Mb(e,{relative:l});return c.useCallback(p=>{if(vC(p,r)){p.preventDefault();let f=a!==void 0?a:Ic(m)===Ic(u);d(e,{replace:f,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[m,d,u,a,n,r,e,i,l,o])}function yd(e){let s=c.useRef(Jm(e)),r=c.useRef(!1),a=Ba(),n=c.useMemo(()=>jC(a.search,r.current?null:s.current),[a.search]),i=kr(),l=c.useCallback((o,d)=>{const m=Jm(typeof o=="function"?o(n):o);r.current=!0,i("?"+m,d)},[i,n]);return[n,l]}function qb(e,s){return function(){return e.apply(s,arguments)}}const{toString:AC}=Object.prototype,{getPrototypeOf:kf}=Object,{iterator:bd,toStringTag:Vb}=Symbol,vd=(e=>s=>{const r=AC.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Pr=e=>(e=e.toLowerCase(),s=>vd(s)===e),jd=e=>s=>typeof s===e,{isArray:vi}=Array,oi=jd("undefined");function Xl(e){return e!==null&&!oi(e)&&e.constructor!==null&&!oi(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wb=Pr("ArrayBuffer");function EC(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Wb(e.buffer),s}const zC=jd("string"),Rs=jd("function"),Hb=jd("number"),Jl=e=>e!==null&&typeof e=="object",TC=e=>e===!0||e===!1,ec=e=>{if(vd(e)!=="object")return!1;const s=kf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Vb in e)&&!(bd in e)},RC=e=>{if(!Jl(e)||Xl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},DC=Pr("Date"),$C=Pr("File"),IC=Pr("Blob"),FC=Pr("FileList"),LC=e=>Jl(e)&&Rs(e.pipe),MC=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Rs(e.append)&&((s=vd(e))==="formdata"||s==="object"&&Rs(e.toString)&&e.toString()==="[object FormData]"))},OC=Pr("URLSearchParams"),[UC,BC,qC,VC]=["ReadableStream","Request","Response","Headers"].map(Pr),WC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zl(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),vi(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(Xl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,e[o],o,e)}}function Kb(e,s){if(Xl(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const en=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gb=e=>!oi(e)&&e!==en;function Zm(){const{caseless:e,skipUndefined:s}=Gb(this)&&this||{},r={},a=(n,i)=>{const l=e&&Kb(r,i)||i;ec(r[l])&&ec(n)?r[l]=Zm(r[l],n):ec(n)?r[l]=Zm({},n):vi(n)?r[l]=n.slice():(!s||!oi(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Zl(arguments[n],a);return r}const HC=(e,s,r,{allOwnKeys:a}={})=>(Zl(s,(n,i)=>{r&&Rs(n)?e[i]=qb(n,r):e[i]=n},{allOwnKeys:a}),e),KC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),GC=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},YC=(e,s,r,a)=>{let n,i,l;const o={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,s))&&!o[l]&&(s[l]=e[l],o[l]=!0);e=r!==!1&&kf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},QC=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},XC=e=>{if(!e)return null;if(vi(e))return e;let s=e.length;if(!Hb(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},JC=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&kf(Uint8Array)),ZC=(e,s)=>{const a=(e&&e[bd]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(e,i[0],i[1])}},e2=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},t2=Pr("HTMLFormElement"),s2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),$g=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),r2=Pr("RegExp"),Yb=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Zl(r,(n,i)=>{let l;(l=s(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},a2=e=>{Yb(e,(s,r)=>{if(Rs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Rs(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n2=(e,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return vi(e)?a(e):a(String(e).split(s)),r},i2=()=>{},l2=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function o2(e){return!!(e&&Rs(e.append)&&e[Vb]==="FormData"&&e[bd])}const c2=e=>{const s=new Array(10),r=(a,n)=>{if(Jl(a)){if(s.indexOf(a)>=0)return;if(Xl(a))return a;if(!("toJSON"in a)){s[n]=a;const i=vi(a)?[]:{};return Zl(a,(l,o)=>{const d=r(l,n+1);!oi(d)&&(i[o]=d)}),s[n]=void 0,i}}return a};return r(e,0)},d2=Pr("AsyncFunction"),u2=e=>e&&(Jl(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch),Qb=((e,s)=>e?setImmediate:s?((r,a)=>(en.addEventListener("message",({source:n,data:i})=>{n===en&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),en.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Rs(en.postMessage)),m2=typeof queueMicrotask<"u"?queueMicrotask.bind(en):typeof process<"u"&&process.nextTick||Qb,p2=e=>e!=null&&Rs(e[bd]),je={isArray:vi,isArrayBuffer:Wb,isBuffer:Xl,isFormData:MC,isArrayBufferView:EC,isString:zC,isNumber:Hb,isBoolean:TC,isObject:Jl,isPlainObject:ec,isEmptyObject:RC,isReadableStream:UC,isRequest:BC,isResponse:qC,isHeaders:VC,isUndefined:oi,isDate:DC,isFile:$C,isBlob:IC,isRegExp:r2,isFunction:Rs,isStream:LC,isURLSearchParams:OC,isTypedArray:JC,isFileList:FC,forEach:Zl,merge:Zm,extend:HC,trim:WC,stripBOM:KC,inherits:GC,toFlatObject:YC,kindOf:vd,kindOfTest:Pr,endsWith:QC,toArray:XC,forEachEntry:ZC,matchAll:e2,isHTMLForm:t2,hasOwnProperty:$g,hasOwnProp:$g,reduceDescriptors:Yb,freezeMethods:a2,toObjectSet:n2,toCamelCase:s2,noop:i2,toFiniteNumber:l2,findKey:Kb,global:en,isContextDefined:Gb,isSpecCompliantForm:o2,toJSONObject:c2,isAsyncFn:d2,isThenable:u2,setImmediate:Qb,asap:m2,isIterable:p2};function at(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}je.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const Xb=at.prototype,Jb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jb[e]={value:e}});Object.defineProperties(at,Jb);Object.defineProperty(Xb,"isAxiosError",{value:!0});at.from=(e,s,r,a,n,i)=>{const l=Object.create(Xb);je.toFlatObject(e,l,function(u){return u!==Error.prototype},m=>m!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=s==null&&e?e.code:s;return at.call(l,o,d,r,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const f2=null;function ep(e){return je.isPlainObject(e)||je.isArray(e)}function Zb(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function Ig(e,s,r){return e?e.concat(s).map(function(n,i){return n=Zb(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function h2(e){return je.isArray(e)&&!e.some(ep)}const g2=je.toFlatObject(je,{},null,function(s){return/^is[A-Z]/.test(s)});function Nd(e,s,r){if(!je.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=je.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!je.isUndefined(j[w])});const a=r.metaTokens,n=r.visitor||u,i=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(s);if(!je.isFunction(n))throw new TypeError("visitor must be a function");function m(y){if(y===null)return"";if(je.isDate(y))return y.toISOString();if(je.isBoolean(y))return y.toString();if(!d&&je.isBlob(y))throw new at("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(y)||je.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,w,j){let v=y;if(y&&!j&&typeof y=="object"){if(je.endsWith(w,"{}"))w=a?w:w.slice(0,-2),y=JSON.stringify(y);else if(je.isArray(y)&&h2(y)||(je.isFileList(y)||je.endsWith(w,"[]"))&&(v=je.toArray(y)))return w=Zb(w),v.forEach(function(g,b){!(je.isUndefined(g)||g===null)&&s.append(l===!0?Ig([w],b,i):l===null?w:w+"[]",m(g))}),!1}return ep(y)?!0:(s.append(Ig(j,w,i),m(y)),!1)}const p=[],f=Object.assign(g2,{defaultVisitor:u,convertValue:m,isVisitable:ep});function x(y,w){if(!je.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(y),je.forEach(y,function(v,h){(!(je.isUndefined(v)||v===null)&&n.call(s,v,je.isString(h)?h.trim():h,w,f))===!0&&x(v,w?w.concat(h):[h])}),p.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return x(e),s}function Fg(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Pf(e,s){this._pairs=[],e&&Nd(e,this,s)}const ev=Pf.prototype;ev.append=function(s,r){this._pairs.push([s,r])};ev.toString=function(s){const r=s?function(a){return s.call(this,a,Fg)}:Fg;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function x2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tv(e,s,r){if(!s)return e;const a=r&&r.encode||x2;je.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=je.isURLSearchParams(s)?s.toString():new Pf(s,r).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Lg{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){je.forEach(this.handlers,function(a){a!==null&&s(a)})}}const sv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y2=typeof URLSearchParams<"u"?URLSearchParams:Pf,b2=typeof FormData<"u"?FormData:null,v2=typeof Blob<"u"?Blob:null,j2={isBrowser:!0,classes:{URLSearchParams:y2,FormData:b2,Blob:v2},protocols:["http","https","file","blob","url","data"]},Af=typeof window<"u"&&typeof document<"u",tp=typeof navigator=="object"&&navigator||void 0,N2=Af&&(!tp||["ReactNative","NativeScript","NS"].indexOf(tp.product)<0),w2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C2=Af&&window.location.href||"http://localhost",S2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Af,hasStandardBrowserEnv:N2,hasStandardBrowserWebWorkerEnv:w2,navigator:tp,origin:C2},Symbol.toStringTag,{value:"Module"})),gs={...S2,...j2};function _2(e,s){return Nd(e,new gs.classes.URLSearchParams,{visitor:function(r,a,n,i){return gs.isNode&&je.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function k2(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function P2(e){const s={},r=Object.keys(e);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=e[i];return s}function rv(e){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),d=i>=r.length;return l=!l&&je.isArray(n)?n.length:l,d?(je.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!je.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&je.isArray(n[l])&&(n[l]=P2(n[l])),!o)}if(je.isFormData(e)&&je.isFunction(e.entries)){const r={};return je.forEachEntry(e,(a,n)=>{s(k2(a),n,r,0)}),r}return null}function A2(e,s,r){if(je.isString(e))try{return(s||JSON.parse)(e),je.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const eo={transitional:sv,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=je.isObject(s);if(i&&je.isHTMLForm(s)&&(s=new FormData(s)),je.isFormData(s))return n?JSON.stringify(rv(s)):s;if(je.isArrayBuffer(s)||je.isBuffer(s)||je.isStream(s)||je.isFile(s)||je.isBlob(s)||je.isReadableStream(s))return s;if(je.isArrayBufferView(s))return s.buffer;if(je.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return _2(s,this.formSerializer).toString();if((o=je.isFileList(s))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Nd(o?{"files[]":s}:s,d&&new d,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),A2(s)):s}],transformResponse:[function(s){const r=this.transitional||eo.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(je.isResponse(s)||je.isReadableStream(s))return s;if(s&&je.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?at.from(o,at.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{eo.headers[e]={}});const E2=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),z2=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&E2[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Mg=Symbol("internals");function $i(e){return e&&String(e).trim().toLowerCase()}function tc(e){return e===!1||e==null?e:je.isArray(e)?e.map(tc):String(e)}function T2(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const R2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mu(e,s,r,a,n){if(je.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!je.isString(s)){if(je.isString(a))return s.indexOf(a)!==-1;if(je.isRegExp(a))return a.test(s)}}function D2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function $2(e,s){const r=je.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}let Ds=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,d,m){const u=$i(d);if(!u)throw new Error("header name must be a non-empty string");const p=je.findKey(n,u);(!p||n[p]===void 0||m===!0||m===void 0&&n[p]!==!1)&&(n[p||d]=tc(o))}const l=(o,d)=>je.forEach(o,(m,u)=>i(m,u,d));if(je.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(je.isString(s)&&(s=s.trim())&&!R2(s))l(z2(s),r);else if(je.isObject(s)&&je.isIterable(s)){let o={},d,m;for(const u of s){if(!je.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[m=u[0]]=(d=o[m])?je.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=$i(s),s){const a=je.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return T2(n);if(je.isFunction(r))return r.call(this,n,a);if(je.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=$i(s),s){const a=je.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Mu(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=$i(l),l){const o=je.findKey(a,l);o&&(!r||Mu(a,a[o],o,r))&&(delete a[o],n=!0)}}return je.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||Mu(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return je.forEach(this,(n,i)=>{const l=je.findKey(a,i);if(l){r[l]=tc(n),delete r[i];return}const o=s?D2(i):String(i).trim();o!==i&&delete r[i],r[o]=tc(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return je.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&je.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Mg]=this[Mg]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=$i(l);a[o]||($2(n,l),a[o]=!0)}return je.isArray(s)?s.forEach(i):i(s),this}};Ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Ds.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});je.freezeMethods(Ds);function Ou(e,s){const r=this||eo,a=s||r,n=Ds.from(a.headers);let i=a.data;return je.forEach(e,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function av(e){return!!(e&&e.__CANCEL__)}function ji(e,s,r){at.call(this,e??"canceled",at.ERR_CANCELED,s,r),this.name="CanceledError"}je.inherits(ji,at,{__CANCEL__:!0});function nv(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new at("Request failed with status code "+r.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function I2(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function F2(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(d){const m=Date.now(),u=a[i];l||(l=m),r[n]=d,a[n]=m;let p=i,f=0;for(;p!==n;)f+=r[p++],p=p%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-l<s)return;const x=u&&m-u;return x?Math.round(f*1e3/x):void 0}}function L2(e,s){let r=0,a=1e3/s,n,i;const l=(m,u=Date.now())=>{r=u,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const u=Date.now(),p=u-r;p>=a?l(m,u):(n=m,i||(i=setTimeout(()=>{i=null,l(n)},a-p)))},()=>n&&l(n)]}const Fc=(e,s,r=3)=>{let a=0;const n=F2(50,250);return L2(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,d=l-a,m=n(d),u=l<=o;a=l;const p={loaded:l,total:o,progress:o?l/o:void 0,bytes:d,rate:m||void 0,estimated:m&&o&&u?(o-l)/m:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(p)},r)},Og=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},Ug=e=>(...s)=>je.asap(()=>e(...s)),M2=gs.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,gs.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,O2=gs.hasStandardBrowserEnv?{write(e,s,r,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(s)}`];je.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),je.isString(a)&&o.push(`path=${a}`),je.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),je.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function U2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B2(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function iv(e,s,r){let a=!U2(s);return e&&(a||r==!1)?B2(e,s):s}const Bg=e=>e instanceof Ds?{...e}:e;function fn(e,s){s=s||{};const r={};function a(m,u,p,f){return je.isPlainObject(m)&&je.isPlainObject(u)?je.merge.call({caseless:f},m,u):je.isPlainObject(u)?je.merge({},u):je.isArray(u)?u.slice():u}function n(m,u,p,f){if(je.isUndefined(u)){if(!je.isUndefined(m))return a(void 0,m,p,f)}else return a(m,u,p,f)}function i(m,u){if(!je.isUndefined(u))return a(void 0,u)}function l(m,u){if(je.isUndefined(u)){if(!je.isUndefined(m))return a(void 0,m)}else return a(void 0,u)}function o(m,u,p){if(p in s)return a(m,u);if(p in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(m,u,p)=>n(Bg(m),Bg(u),p,!0)};return je.forEach(Object.keys({...e,...s}),function(u){const p=d[u]||n,f=p(e[u],s[u],u);je.isUndefined(f)&&p!==o||(r[u]=f)}),r}const lv=e=>{const s=fn({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=Ds.from(l),s.url=tv(iv(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),je.isFormData(r)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(je.isFunction(r.getHeaders)){const d=r.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([u,p])=>{m.includes(u.toLowerCase())&&l.set(u,p)})}}if(gs.hasStandardBrowserEnv&&(a&&je.isFunction(a)&&(a=a(s)),a||a!==!1&&M2(s.url))){const d=n&&i&&O2.read(i);d&&l.set(n,d)}return s},q2=typeof XMLHttpRequest<"u",V2=q2&&function(e){return new Promise(function(r,a){const n=lv(e);let i=n.data;const l=Ds.from(n.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:m}=n,u,p,f,x,y;function w(){x&&x(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(n.method.toUpperCase(),n.url,!0),j.timeout=n.timeout;function v(){if(!j)return;const g=Ds.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:g,config:e,request:j};nv(function(A){r(A),w()},function(A){a(A),w()},_),j=null}"onloadend"in j?j.onloadend=v:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(v)},j.onabort=function(){j&&(a(new at("Request aborted",at.ECONNABORTED,e,j)),j=null)},j.onerror=function(b){const _=b&&b.message?b.message:"Network Error",P=new at(_,at.ERR_NETWORK,e,j);P.event=b||null,a(P),j=null},j.ontimeout=function(){let b=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||sv;n.timeoutErrorMessage&&(b=n.timeoutErrorMessage),a(new at(b,_.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&je.forEach(l.toJSON(),function(b,_){j.setRequestHeader(_,b)}),je.isUndefined(n.withCredentials)||(j.withCredentials=!!n.withCredentials),o&&o!=="json"&&(j.responseType=n.responseType),m&&([f,y]=Fc(m,!0),j.addEventListener("progress",f)),d&&j.upload&&([p,x]=Fc(d),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",x)),(n.cancelToken||n.signal)&&(u=g=>{j&&(a(!g||g.type?new ji(null,e,j):g),j.abort(),j=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const h=I2(n.url);if(h&&gs.protocols.indexOf(h)===-1){a(new at("Unsupported protocol "+h+":",at.ERR_BAD_REQUEST,e));return}j.send(i||null)})},W2=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(m){if(!n){n=!0,o();const u=m instanceof Error?m:this.reason;a.abort(u instanceof at?u:new ji(u instanceof Error?u.message:u))}};let l=s&&setTimeout(()=>{l=null,i(new at(`timeout ${s} of ms exceeded`,at.ETIMEDOUT))},s);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>je.asap(o),d}},H2=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},K2=async function*(e,s){for await(const r of G2(e))yield*H2(r,s)},G2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},qg=(e,s,r,a)=>{const n=K2(e,s);let i=0,l,o=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:u}=await n.next();if(m){o(),d.close();return}let p=u.byteLength;if(r){let f=i+=p;r(f)}d.enqueue(new Uint8Array(u))}catch(m){throw o(m),m}},cancel(d){return o(d),n.return()}},{highWaterMark:2})},Vg=64*1024,{isFunction:zo}=je,Y2=(({Request:e,Response:s})=>({Request:e,Response:s}))(je.global),{ReadableStream:Wg,TextEncoder:Hg}=je.global,Kg=(e,...s)=>{try{return!!e(...s)}catch{return!1}},Q2=e=>{e=je.merge.call({skipUndefined:!0},Y2,e);const{fetch:s,Request:r,Response:a}=e,n=s?zo(s):typeof fetch=="function",i=zo(r),l=zo(a);if(!n)return!1;const o=n&&zo(Wg),d=n&&(typeof Hg=="function"?(y=>w=>y.encode(w))(new Hg):async y=>new Uint8Array(await new r(y).arrayBuffer())),m=i&&o&&Kg(()=>{let y=!1;const w=new r(gs.origin,{body:new Wg,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),u=l&&o&&Kg(()=>je.isReadableStream(new a("").body)),p={stream:u&&(y=>y.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(w,j)=>{let v=w&&w[y];if(v)return v.call(w);throw new at(`Response type '${y}' is not supported`,at.ERR_NOT_SUPPORT,j)})});const f=async y=>{if(y==null)return 0;if(je.isBlob(y))return y.size;if(je.isSpecCompliantForm(y))return(await new r(gs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(je.isArrayBufferView(y)||je.isArrayBuffer(y))return y.byteLength;if(je.isURLSearchParams(y)&&(y=y+""),je.isString(y))return(await d(y)).byteLength},x=async(y,w)=>{const j=je.toFiniteNumber(y.getContentLength());return j??f(w)};return async y=>{let{url:w,method:j,data:v,signal:h,cancelToken:g,timeout:b,onDownloadProgress:_,onUploadProgress:P,responseType:A,headers:R,withCredentials:k="same-origin",fetchOptions:L}=lv(y),$=s||fetch;A=A?(A+"").toLowerCase():"text";let C=W2([h,g&&g.toAbortSignal()],b),E=null;const T=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let N;try{if(P&&m&&j!=="get"&&j!=="head"&&(N=await x(R,v))!==0){let ne=new r(w,{method:"POST",body:v,duplex:"half"}),H;if(je.isFormData(v)&&(H=ne.headers.get("content-type"))&&R.setContentType(H),ne.body){const[F,U]=Og(N,Fc(Ug(P)));v=qg(ne.body,Vg,F,U)}}je.isString(k)||(k=k?"include":"omit");const S=i&&"credentials"in r.prototype,I={...L,signal:C,method:j.toUpperCase(),headers:R.normalize().toJSON(),body:v,duplex:"half",credentials:S?k:void 0};E=i&&new r(w,I);let D=await(i?$(E,L):$(w,I));const q=u&&(A==="stream"||A==="response");if(u&&(_||q&&T)){const ne={};["status","statusText","headers"].forEach(Y=>{ne[Y]=D[Y]});const H=je.toFiniteNumber(D.headers.get("content-length")),[F,U]=_&&Og(H,Fc(Ug(_),!0))||[];D=new a(qg(D.body,Vg,F,()=>{U&&U(),T&&T()}),ne)}A=A||"text";let X=await p[je.findKey(p,A)||"text"](D,y);return!q&&T&&T(),await new Promise((ne,H)=>{nv(ne,H,{data:X,headers:Ds.from(D.headers),status:D.status,statusText:D.statusText,config:y,request:E})})}catch(S){throw T&&T(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,y,E),{cause:S.cause||S}):at.from(S,S&&S.code,y,E)}}},X2=new Map,ov=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let l=i.length,o=l,d,m,u=X2;for(;o--;)d=i[o],m=u.get(d),m===void 0&&u.set(d,m=o?new Map:Q2(s)),u=m;return m};ov();const Ef={http:f2,xhr:V2,fetch:{get:ov}};je.forEach(Ef,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Gg=e=>`- ${e}`,J2=e=>je.isFunction(e)||e===null||e===!1;function Z2(e,s){e=je.isArray(e)?e:[e];const{length:r}=e;let a,n;const i={};for(let l=0;l<r;l++){a=e[l];let o;if(n=a,!J2(a)&&(n=Ef[(o=String(a)).toLowerCase()],n===void 0))throw new at(`Unknown adapter '${o}'`);if(n&&(je.isFunction(n)||(n=n.get(s))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(Gg).join(`
`):" "+Gg(l[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const cv={getAdapter:Z2,adapters:Ef};function Uu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ji(null,e)}function Yg(e){return Uu(e),e.headers=Ds.from(e.headers),e.data=Ou.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cv.getAdapter(e.adapter||eo.adapter,e)(e).then(function(a){return Uu(e),a.data=Ou.call(e,e.transformResponse,a),a.headers=Ds.from(a.headers),a},function(a){return av(a)||(Uu(e),a&&a.response&&(a.response.data=Ou.call(e,e.transformResponse,a.response),a.response.headers=Ds.from(a.response.headers))),Promise.reject(a)})}const dv="1.13.2",wd={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{wd[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const Qg={};wd.transitional=function(s,r,a){function n(i,l){return"[Axios v"+dv+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new at(n(l," has been removed"+(r?" in "+r:"")),at.ERR_DEPRECATED);return r&&!Qg[l]&&(Qg[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};wd.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function eS(e,s,r){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=e[i],d=o===void 0||l(o,i,e);if(d!==!0)throw new at("option "+i+" must be "+d,at.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new at("Unknown option "+i,at.ERR_BAD_OPTION)}}const sc={assertOptions:eS,validators:wd},zr=sc.validators;let nn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Lg,response:new Lg}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=fn(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&sc.assertOptions(a,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),n!=null&&(je.isFunction(n)?r.paramsSerializer={serialize:n}:sc.assertOptions(n,{encode:zr.function,serialize:zr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),sc.assertOptions(r,{baseUrl:zr.spelling("baseURL"),withXsrfToken:zr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&je.merge(i.common,i[r.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Ds.concat(l,i);const o=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const m=[];this.interceptors.response.forEach(function(w){m.push(w.fulfilled,w.rejected)});let u,p=0,f;if(!d){const y=[Yg.bind(this),void 0];for(y.unshift(...o),y.push(...m),f=y.length,u=Promise.resolve(r);p<f;)u=u.then(y[p++],y[p++]);return u}f=o.length;let x=r;for(;p<f;){const y=o[p++],w=o[p++];try{x=y(x)}catch(j){w.call(this,j);break}}try{u=Yg.call(this,x)}catch(y){return Promise.reject(y)}for(p=0,f=m.length;p<f;)u=u.then(m[p++],m[p++]);return u}getUri(s){s=fn(this.defaults,s);const r=iv(s.baseURL,s.url,s.allowAbsoluteUrls);return tv(r,s.params,s.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(s){nn.prototype[s]=function(r,a){return this.request(fn(a||{},{method:s,url:r,data:(a||{}).data}))}});je.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(fn(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}nn.prototype[s]=r(),nn.prototype[s+"Form"]=r(!0)});let tS=class uv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new ji(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new uv(function(n){s=n}),cancel:s}}};function sS(e){return function(r){return e.apply(null,r)}}function rS(e){return je.isObject(e)&&e.isAxiosError===!0}const sp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sp).forEach(([e,s])=>{sp[s]=e});function mv(e){const s=new nn(e),r=qb(nn.prototype.request,s);return je.extend(r,nn.prototype,s,{allOwnKeys:!0}),je.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return mv(fn(e,n))},r}const ot=mv(eo);ot.Axios=nn;ot.CanceledError=ji;ot.CancelToken=tS;ot.isCancel=av;ot.VERSION=dv;ot.toFormData=Nd;ot.AxiosError=at;ot.Cancel=ot.CanceledError;ot.all=function(s){return Promise.all(s)};ot.spread=sS;ot.isAxiosError=rS;ot.mergeConfig=fn;ot.AxiosHeaders=Ds;ot.formToJSON=e=>rv(je.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=cv.getAdapter;ot.HttpStatusCode=sp;ot.default=ot;const{Axios:E6,AxiosError:z6,CanceledError:T6,isCancel:R6,CancelToken:D6,VERSION:$6,all:I6,Cancel:F6,isAxiosError:L6,spread:M6,toFormData:O6,AxiosHeaders:U6,HttpStatusCode:B6,formToJSON:q6,getAdapter:V6,mergeConfig:W6}=ot,$r="https://aeroenix.com/v1/api",xa=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),Ii=new Map,aS=(e,s,r)=>{const a=(e==null?void 0:e.toUpperCase())||"GET",n=r?JSON.stringify(r):"";return`${a}:${s}:${n}`},le=ot.create({baseURL:$r,headers:{"Content-Type":"application/json",Accept:"application/json"}}),nS=le.get.bind(le);le.post.bind(le);le.put.bind(le);le.delete.bind(le);le.get=function(e,s={}){const r=aS("GET",e,s.params);if(Ii.has(r))return console.log(" Deduplicating request:",r),Ii.get(r);const a=nS(e,s).then(n=>(Ii.delete(r),n)).catch(n=>{throw Ii.delete(r),n});return Ii.set(r,a),a};le.interceptors.request.use(e=>{var r;const s=xa();return s&&(e.headers.Authorization=`Bearer ${s}`),console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:`${e.baseURL}${e.url}`,headers:e.headers,data:e.data,params:e.params}),e},e=>Promise.reject(e));le.interceptors.response.use(e=>{var s;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:(s=e.config)==null?void 0:s.url,data:e.data}),e.data},e=>{var s,r,a,n,i;return console.error(" API Error:",{status:(s=e.response)==null?void 0:s.status,statusText:(r=e.response)==null?void 0:r.statusText,url:(a=e.config)==null?void 0:a.url,data:(n=e.response)==null?void 0:n.data,message:e.message}),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token")),Promise.reject(e)});const Ye={getACCApplications:e=>le.get("/admin/accs/applications",{params:e}),getACCApplication:e=>le.get(`/admin/accs/applications/${e}`),approveACCApplication:e=>le.put(`/admin/accs/applications/${e}/approve`),rejectACCApplication:(e,s)=>le.put(`/admin/accs/applications/${e}/reject`,s),createACCSpace:e=>le.post(`/admin/accs/${e}/create-space`),generateACCCredentials:e=>le.post(`/admin/accs/${e}/generate-credentials`),listACCs:e=>le.get("/admin/accs",{params:e}),getACCDetails:e=>le.get(`/admin/accs/${e}`),updateACC:(e,s)=>le.put(`/admin/accs/${e}`,s),setCommissionPercentage:(e,s)=>le.put(`/admin/accs/${e}/commission-percentage`,s),getACCTransactions:(e,s)=>le.get(`/admin/accs/${e}/transactions`,{params:s}),assignCategoryToACC:(e,s)=>le.post(`/admin/accs/${e}/assign-category`,s),removeCategoryFromACC:(e,s)=>le.delete(`/admin/accs/${e}/remove-category`,{data:s}),getACCCategories:e=>le.get(`/admin/accs/${e}/categories`),listTrainingCenters:e=>le.get("/admin/training-centers",{params:e}),getTrainingCenterDetails:e=>le.get(`/admin/training-centers/${e}`),updateTrainingCenter:(e,s)=>le.put(`/admin/training-centers/${e}`,s),getTrainingCenterApplications:e=>le.get("/admin/training-centers/applications",{params:e}),approveTrainingCenterApplication:e=>le.put(`/admin/training-centers/applications/${e}/approve`),rejectTrainingCenterApplication:(e,s)=>le.put(`/admin/training-centers/applications/${e}/reject`,s),listInstructors:e=>le.get("/admin/instructors",{params:e}),getInstructorDetails:e=>le.get(`/admin/instructors/${e}`),updateInstructor:(e,s)=>le.put(`/admin/instructors/${e}`,s),getPendingCommissionRequests:e=>le.get("/admin/instructor-authorizations/pending-commission",{params:e}),setInstructorAuthorizationCommission:(e,s)=>le.put(`/admin/instructor-authorizations/${e}/set-commission`,s),createCategory:e=>le.post("/admin/categories",e),listCategories:e=>le.get("/admin/categories",{params:e}),updateCategory:(e,s)=>le.put(`/admin/categories/${e}`,s),deleteCategory:e=>le.delete(`/admin/categories/${e}`),createSubCategory:e=>le.post("/admin/sub-categories",e),listSubCategories:e=>le.get("/admin/sub-categories",{params:e}),updateSubCategory:(e,s)=>le.put(`/admin/sub-categories/${e}`,s),deleteSubCategory:e=>le.delete(`/admin/sub-categories/${e}`),listCourses:e=>le.get("/admin/courses",{params:e}),getCourseDetails:e=>le.get(`/admin/courses/${e}`),createClass:e=>le.post("/admin/classes",e),listClasses:e=>le.get("/admin/classes",{params:e}),updateClass:(e,s)=>le.put(`/admin/classes/${e}`,s),deleteClass:e=>le.delete(`/admin/classes/${e}`),getDashboard:()=>le.get("/admin/dashboard"),getFinancialDashboard:()=>le.get("/admin/financial/dashboard"),getFinancialTransactions:e=>le.get("/admin/financial/transactions",{params:e}),getPaymentTransactions:e=>le.get("/admin/financial/transactions",{params:e}),getSettlements:e=>le.get("/admin/financial/settlements",{params:e}),requestPayment:e=>le.post(`/admin/financial/settlements/${e}/request-payment`),getRevenueReport:e=>le.get("/admin/reports/revenue",{params:e}),getACCsReport:e=>le.get("/admin/reports/accs",{params:e}),getTrainingCentersReport:e=>le.get("/admin/reports/training-centers",{params:e}),getCertificatesReport:e=>le.get("/admin/reports/certificates",{params:e}),listStripeSettings:e=>le.get("/admin/stripe-settings",{params:e}),getActiveStripeSetting:()=>le.get("/admin/stripe-settings/active"),createStripeSetting:e=>le.post("/admin/stripe-settings",e),updateStripeSetting:(e,s)=>le.put(`/admin/stripe-settings/${e}`,s),deleteStripeSetting:e=>le.delete(`/admin/stripe-settings/${e}`)},et={getDashboard:()=>le.get("/acc/dashboard"),getProfile:()=>le.get("/acc/profile"),updateProfile:e=>le.put("/acc/profile",e),verifyStripeAccount:e=>le.post("/acc/profile/verify-stripe-account",{stripe_account_id:e}),getSubscription:()=>le.get("/acc/subscription"),createSubscriptionPaymentIntent:e=>le.post("/acc/subscription/payment-intent",e),createRenewalPaymentIntent:e=>le.post("/acc/subscription/renew-payment-intent",e),paySubscription:e=>le.post("/acc/subscription/payment",e),renewSubscription:e=>le.put("/acc/subscription/renew",e),getTrainingCenterRequests:e=>le.get("/acc/training-centers/requests",{params:e}),approveTrainingCenterRequest:e=>le.put(`/acc/training-centers/requests/${e}/approve`),rejectTrainingCenterRequest:(e,s)=>le.put(`/acc/training-centers/requests/${e}/reject`,s),returnTrainingCenterRequest:(e,s)=>le.put(`/acc/training-centers/requests/${e}/return`,s),listAuthorizedTrainingCenters:e=>le.get("/acc/training-centers",{params:e}),getInstructorRequests:e=>le.get("/acc/instructors/requests",{params:e}),approveInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/approve`,s),rejectInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/reject`,s),returnInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/return`,s),listAuthorizedInstructors:e=>le.get("/acc/instructors",{params:e}),createCourse:e=>le.post("/acc/courses",e),listCourses:e=>le.get("/acc/courses",{params:e}),getCourseDetails:e=>le.get(`/acc/courses/${e}`),updateCourse:(e,s)=>le.put(`/acc/courses/${e}`,s),deleteCourse:e=>le.delete(`/acc/courses/${e}`),setCoursePricing:(e,s)=>le.post(`/acc/courses/${e}/pricing`,s),updateCoursePricing:(e,s)=>le.put(`/acc/courses/${e}/pricing`,s),createCertificateTemplate:e=>le.post("/acc/certificate-templates",e),listCertificateTemplates:e=>le.get("/acc/certificate-templates",{params:e}),getTemplateDetails:e=>le.get(`/acc/certificate-templates/${e}`),updateTemplate:(e,s)=>le.put(`/acc/certificate-templates/${e}`,s),deleteTemplate:e=>le.delete(`/acc/certificate-templates/${e}`),previewTemplate:(e,s)=>le.post(`/acc/certificate-templates/${e}/preview`,s),createDiscountCode:e=>le.post("/acc/discount-codes",e),listDiscountCodes:e=>le.get("/acc/discount-codes",{params:e}),getDiscountCodeDetails:e=>le.get(`/acc/discount-codes/${e}`),updateDiscountCode:(e,s)=>le.put(`/acc/discount-codes/${e}`,s),deleteDiscountCode:e=>le.delete(`/acc/discount-codes/${e}`),validateDiscountCode:e=>le.post("/acc/discount-codes/validate",e),createMaterial:e=>le.post("/acc/materials",e),listMaterials:e=>le.get("/acc/materials",{params:e}),getMaterialDetails:e=>le.get(`/acc/materials/${e}`),updateMaterial:(e,s)=>le.put(`/acc/materials/${e}`,s),deleteMaterial:e=>le.delete(`/acc/materials/${e}`),listCertificates:e=>le.get("/acc/certificates",{params:e}),createCertificate:e=>le.post("/acc/certificates",e),listClasses:e=>le.get("/acc/classes",{params:e}),getClassDetails:e=>le.get(`/acc/classes/${e}`),getFinancialTransactions:e=>le.get("/acc/financial/transactions",{params:e}),getPaymentTransactions:e=>le.get("/acc/financial/transactions",{params:e}),getSettlements:e=>le.get("/acc/financial/settlements",{params:e}),listCategories:e=>le.get("/acc/categories",{params:e}),getCategory:e=>le.get(`/acc/categories/${e}`),createCategory:e=>le.post("/acc/categories",e),updateCategory:(e,s)=>le.put(`/acc/categories/${e}`,s),deleteCategory:e=>le.delete(`/acc/categories/${e}`),listSubCategories:e=>le.get("/acc/sub-categories",{params:e}),getSubCategory:e=>le.get(`/acc/sub-categories/${e}`),createSubCategory:e=>le.post("/acc/sub-categories",e),updateSubCategory:(e,s)=>le.put(`/acc/sub-categories/${e}`,s),deleteSubCategory:e=>le.delete(`/acc/sub-categories/${e}`)},Je={getDashboard:()=>le.get("/training-center/dashboard"),getProfile:()=>le.get("/training-center/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${xa()}`,Accept:"application/json"};return ot.post(`${$r}/training-center/profile?_method=PUT`,e,{headers:r}).then(a=>a.data)}return le.put("/training-center/profile",e)},listACCs:e=>le.get("/training-center/accs",{params:e}),requestAuthorization:(e,s)=>{const r=xa(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),ot.post(`${$r}/training-center/accs/${e}/request-authorization`,s,{headers:a}).then(n=>n.data)},getAuthorizationStatus:e=>le.get("/training-center/authorizations",{params:e}),createInstructor:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${xa()}`,Accept:"application/json"};return ot.post(`${$r}/training-center/instructors`,e,{headers:r}).then(a=>a.data)}return le.post("/training-center/instructors",e)},listInstructors:e=>le.get("/training-center/instructors",e?{params:e}:{}),getInstructorDetails:e=>le.get(`/training-center/instructors/${e}`),updateInstructor:(e,s)=>{if(s instanceof FormData){const a={Authorization:`Bearer ${xa()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const n=[];for(let i of s.entries())i[1]instanceof File?n.push(`${i[0]}: [File] ${i[1].name} (${i[1].size} bytes, type: ${i[1].type})`):n.push(`${i[0]}: ${i[1]} (type: ${typeof i[1]})`);return console.log(n),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${$r}/training-center/instructors/${e}?_method=PUT`,headers:{...a,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),ot.post(`${$r}/training-center/instructors/${e}?_method=PUT`,s,{headers:a}).then(i=>(console.log(" API Response:",{status:i.status,statusText:i.statusText,url:`/training-center/instructors/${e}`,data:i.data}),i.data)).catch(i=>{var l,o,d;throw console.error(" API Error:",{status:(l=i.response)==null?void 0:l.status,statusText:(o=i.response)==null?void 0:o.statusText,url:`/training-center/instructors/${e}`,data:(d=i.response)==null?void 0:d.data,message:i.message}),i})}return le.put(`/training-center/instructors/${e}`,s)},deleteInstructor:e=>le.delete(`/training-center/instructors/${e}`),requestInstructorAuthorization:(e,s)=>le.post(`/training-center/instructors/${e}/request-authorization`,s),getSubCategoriesForACC:e=>le.get(`/training-center/accs/${e}/sub-categories`),getCoursesForACC:(e,s)=>le.get(`/training-center/accs/${e}/courses`,{params:s}),getInstructorAuthorizations:e=>le.get("/training-center/instructors/authorizations",{params:e}),createInstructorAuthorizationPaymentIntent:(e,s)=>le.post(`/training-center/instructors/authorizations/${e}/payment-intent`,s),payInstructorAuthorization:(e,s)=>le.post(`/training-center/instructors/authorizations/${e}/pay`,s),createPaymentIntent:e=>le.post("/training-center/codes/payment-intent",e),purchaseCodes:e=>le.post("/training-center/codes/purchase",e),getCodeInventory:e=>le.get("/training-center/codes/inventory",{params:e}),getCodeBatches:e=>le.get("/training-center/codes/batches",{params:e}),addFunds:e=>le.post("/training-center/wallet/add-funds",e),getWalletBalance:()=>le.get("/training-center/wallet/balance"),getWalletTransactions:e=>le.get("/training-center/wallet/transactions",{params:e}),getPaymentTransactions:e=>le.get("/training-center/financial/transactions",{params:e}),createClass:e=>le.post("/training-center/classes",e),listClasses:e=>le.get("/training-center/classes",{params:e}),getClassDetails:e=>le.get(`/training-center/classes/${e}`),updateClass:(e,s)=>le.put(`/training-center/classes/${e}`,s),deleteClass:e=>le.delete(`/training-center/classes/${e}`),markClassComplete:e=>le.put(`/training-center/classes/${e}/complete`),generateCertificate:e=>le.post("/training-center/certificates/generate",e),listCertificates:e=>le.get("/training-center/certificates",{params:e}),getCertificateDetails:e=>le.get(`/training-center/certificates/${e}`),browseMaterials:e=>le.get("/training-center/marketplace/materials",{params:e}),getMaterialDetails:e=>le.get(`/training-center/marketplace/materials/${e}`),purchaseFromMarketplace:e=>le.post("/training-center/marketplace/purchase",e),getLibrary:e=>le.get("/training-center/library",{params:e}),createTrainee:e=>{const s=xa(),r={Accept:"application/json"};return s&&(r.Authorization=`Bearer ${s}`),ot.post(`${$r}/training-center/trainees`,e,{headers:r}).then(a=>a.data)},listTrainees:e=>le.get("/training-center/trainees",{params:e}),getTraineeDetails:e=>le.get(`/training-center/trainees/${e}`),updateTrainee:(e,s)=>{const r=xa(),a={Accept:"application/json"};return r&&(a.Authorization=`Bearer ${r}`),ot.put(`${$r}/training-center/trainees/${e}`,s,{headers:a}).then(n=>n.data)},deleteTrainee:e=>le.delete(`/training-center/trainees/${e}`)},As={getDashboard:()=>le.get("/instructor/dashboard"),getProfile:()=>le.get("/instructor/profile"),updateProfile:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${xa()}`,Accept:"application/json"};console.log(" FormData contents before sending:");const a=[];for(let n of e.entries())n[1]instanceof File?a.push(`${n[0]}: [File] ${n[1].name} (${n[1].size} bytes, type: ${n[1].type})`):a.push(`${n[0]}: ${n[1]} (type: ${typeof n[1]})`);return console.log(a),console.log(" API Request:",{method:"POST (with _method=PUT)",url:`${$r}/instructor/profile?_method=PUT`,headers:{...r,"Content-Type":"multipart/form-data (auto-set by browser)"},data:"FormData (see contents above)"}),ot.post(`${$r}/instructor/profile?_method=PUT`,e,{headers:r}).then(n=>(console.log(" API Response:",{status:n.status,statusText:n.statusText,url:"/instructor/profile",data:n.data}),n.data)).catch(n=>{var i,l,o;throw console.error(" API Error:",{status:(i=n.response)==null?void 0:i.status,statusText:(l=n.response)==null?void 0:l.statusText,url:"/instructor/profile",data:(o=n.response)==null?void 0:o.data,message:n.message}),n})}return le.put("/instructor/profile",e)},listClasses:e=>le.get("/instructor/classes",{params:e}),getClassDetails:e=>le.get(`/instructor/classes/${e}`),markClassComplete:(e,s)=>le.put(`/instructor/classes/${e}/mark-complete`,s),getTrainingCenters:()=>le.get("/instructor/training-centers"),getACCs:()=>le.get("/instructor/accs"),getAvailableMaterials:e=>le.get("/instructor/materials",{params:e}),getEarnings:e=>le.get("/instructor/earnings",{params:e})},Fl={getCountries:()=>le.get("/countries"),getCities:e=>le.get("/cities",{params:e?{country:e}:{}}),verifyCertificate:e=>le.get(`/certificates/verify/${e}`)},pv={getConfig:()=>le.get("/stripe/config"),createPaymentIntent:e=>le.post("/stripe/payment-intent",e),confirmPayment:e=>le.post("/stripe/confirm",e)},sr={login:e=>le.post("/auth/login",e),register:e=>le.post("/auth/register",e),logout:()=>le.post("/auth/logout"),getProfile:()=>le.get("/auth/profile"),updateProfile:e=>le.put("/auth/profile",e),changePassword:e=>le.put("/auth/change-password",e),forgotPassword:e=>le.post("/auth/forgot-password",e),resetPassword:e=>le.post("/auth/reset-password",e)},fa={getNotifications:e=>le.get("/notifications",{params:e}),getUnreadCount:()=>le.get("/notifications/unread-count"),getNotification:e=>le.get(`/notifications/${e}`),markAsRead:e=>le.put(`/notifications/${e}/read`),markAsUnread:e=>le.put(`/notifications/${e}/unread`),markAllAsRead:()=>le.post("/notifications/mark-all-read"),deleteNotification:e=>le.delete(`/notifications/${e}`),deleteAllRead:()=>le.delete("/notifications/read")},iS=Object.freeze(Object.defineProperty({__proto__:null,accAPI:et,adminAPI:Ye,authAPI:sr,instructorAPI:As,notificationsAPI:fa,publicAPI:Fl,stripeAPI:pv,trainingCenterAPI:Je},Symbol.toStringTag,{value:"Module"})),wn=e=>{e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},rc=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),fv=c.createContext(null),fr=()=>{const e=c.useContext(fv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},lS=({children:e})=>{const[s,r]=c.useState(null),[a,n]=c.useState(!0),[i,l]=c.useState(!1),o=c.useRef(!1),d=c.useRef(!1);c.useEffect(()=>{d.current||(d.current=!0,m())},[]);const m=async()=>{var h;if(o.current){console.log(" Auth check already in progress, skipping duplicate request");return}o.current=!0;try{if(n(!0),rc())try{const b=await sr.getProfile();b.user?(r(b.user),l(!0)):(wn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),l(!1))}catch(b){((h=b.response)==null?void 0:h.status)===401?(wn(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),l(!1)):(console.error("Profile fetch error:",b),r(null),l(!1))}else r(null),l(!1)}catch(g){console.error("Auth check failed:",g),r(null),l(!1)}finally{n(!1),o.current=!1}},u=async(h,g)=>{var b,_,P,A,R,k,L,$,C,E,T;try{const N=await sr.login({email:h,password:g});return N.token?(((b=N.user)==null?void 0:b.role)==="acc_admin"&&(((_=N.user)==null?void 0:_.status)==="pending"||((P=N.user)==null?void 0:P.status)==="inactive")?(sessionStorage.setItem("auth_token",N.token),sessionStorage.setItem("token",N.token)):wn(N.token),r(N.user),l(!0),{success:!0,data:N,isActive:((A=N.user)==null?void 0:A.status)==="active",userStatus:(R=N.user)==null?void 0:R.status}):{success:!1,error:"Login failed. Please try again."}}catch(N){console.error("Login error:",N);let S="Login failed. Please try again.";if((L=(k=N.response)==null?void 0:k.data)!=null&&L.message)S=N.response.data.message;else if((C=($=N.response)==null?void 0:$.data)!=null&&C.error)S=N.response.data.error;else if((T=(E=N.response)==null?void 0:E.data)!=null&&T.errors){const I=N.response.data.errors,D=Object.values(I)[0];S=Array.isArray(D)?D[0]:D}else N.message&&(S=N.message);return{success:!1,error:S}}},p=async(h,g,b,_,P)=>{var A,R,k,L,$,C,E,T;try{const N=await sr.register({name:h,email:g,password:b,password_confirmation:_,role:P});return N.token?(wn(N.token),r(N.user),l(!0),{success:!0,data:N,isActive:((A=N.user)==null?void 0:A.status)==="active",userStatus:(R=N.user)==null?void 0:R.status}):{success:!1,error:"Registration failed. Please try again."}}catch(N){console.error("Register error:",N);let S="Registration failed. Please try again.";if((L=(k=N.response)==null?void 0:k.data)!=null&&L.message)S=N.response.data.message;else if((C=($=N.response)==null?void 0:$.data)!=null&&C.error)S=N.response.data.error;else if((T=(E=N.response)==null?void 0:E.data)!=null&&T.errors){const I=N.response.data.errors,D=Object.values(I)[0];S=Array.isArray(D)?D[0]:D}else N.message&&(S=N.message);return{success:!1,error:S}}},f=async()=>{try{if((s==null?void 0:s.role)==="acc_admin"&&((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="inactive")){sessionStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("token"),wn(null),r(null),l(!1);return}await sr.logout()}catch(h){console.error("Logout error:",h)}finally{wn(null),r(null),l(!1),localStorage.removeItem("sidebarOpen"),localStorage.removeItem("sidebarCollapsed")}},x=h=>{r(h)},y=async h=>{var g,b;try{return{success:!0,data:await sr.forgotPassword({email:h})}}catch(_){let P="Failed to send reset email. Please try again.";return(b=(g=_.response)==null?void 0:g.data)!=null&&b.message&&(P=_.response.data.message),{success:!1,error:P}}},w=async(h,g,b,_)=>{var P,A,R,k,L,$;try{return{success:!0,data:await sr.resetPassword({token:h,email:g,password:b,password_confirmation:_})}}catch(C){let E="Failed to reset password. Please try again.";if((A=(P=C.response)==null?void 0:P.data)!=null&&A.message)E=C.response.data.message;else if((k=(R=C.response)==null?void 0:R.data)!=null&&k.error)E=C.response.data.error;else if(($=(L=C.response)==null?void 0:L.data)!=null&&$.errors){const T=C.response.data.errors,N=Object.values(T)[0];E=Array.isArray(N)?N[0]:N}return{success:!1,error:E}}},j=async()=>{try{const h=await sr.getProfile();h.user&&(r(h.user),l(!0))}catch(h){console.error("Failed to refresh user:",h)}},v=c.useMemo(()=>({user:s,loading:a,isAuthenticated:i,login:u,register:p,logout:f,updateUser:x,checkAuth:m,forgotPassword:y,resetPassword:w,refreshUser:j}),[s,a,i]);return t.jsx(fv.Provider,{value:v,children:e})},hv=c.createContext(null),ct=()=>{const e=c.useContext(hv);return e||{setHeaderActions:()=>{},setHeaderTitle:()=>{},setHeaderSubtitle:()=>{},headerActions:null,headerTitle:null,headerSubtitle:null}},oS=({children:e})=>{const[s,r]=c.useState(null),[a,n]=c.useState(null),[i,l]=c.useState(null),o=c.useCallback(p=>{r(p)},[]),d=c.useCallback(p=>{n(p)},[]),m=c.useCallback(p=>{l(p)},[]),u=c.useMemo(()=>({headerActions:s,headerTitle:a,headerSubtitle:i,setHeaderActions:o,setHeaderTitle:d,setHeaderSubtitle:m}),[s,a,i]);return t.jsx(hv.Provider,{value:u,children:e})},gv=c.createContext(null),cS=()=>{const e=c.useContext(gv);if(!e)throw new Error("useNotificationsContext must be used within a NotificationsProvider");return e},dS=({children:e})=>{const[s,r]=c.useState([]),[a,n]=c.useState(0),[i,l]=c.useState(!1),[o,d]=c.useState(null),[m,u]=c.useState({currentPage:1,lastPage:1,perPage:15,total:0}),p=c.useRef(!1),f=c.useRef(!1),x=c.useCallback(async(_={},P=1,A=15)=>{if(f.current){console.log(" Notifications fetch already in progress, skipping duplicate request");return}f.current=!0,l(!0),d(null);try{const R={..._,page:P,per_page:A},k=await fa.getNotifications(R);if(k.success){const L=k.notifications||[];r(L),n(k.unread_count||0),k.pagination&&u({currentPage:k.pagination.current_page||P,lastPage:k.pagination.last_page||1,perPage:k.pagination.per_page||A,total:k.pagination.total||0})}}catch(R){console.error("Failed to fetch notifications:",R),d(R.message||"Failed to fetch notifications")}finally{l(!1),f.current=!1}},[]),y=c.useCallback(async()=>{try{const _=await fa.getUnreadCount();_.success&&n(_.unread_count||0)}catch{}},[]),w=c.useCallback(async _=>{try{const P=await fa.markAsRead(_);P.success&&(r(A=>A.map(R=>{var k;return R.id===_?{...R,is_read:!0,read_at:((k=P.notification)==null?void 0:k.read_at)||new Date().toISOString()}:R})),n(A=>Math.max(0,A-1)))}catch(P){throw console.error("Failed to mark as read:",P),P}},[]),j=c.useCallback(async _=>{try{(await fa.markAsUnread(_)).success&&(r(A=>A.map(R=>R.id===_?{...R,is_read:!1,read_at:null}:R)),n(A=>A+1))}catch(P){throw console.error("Failed to mark as unread:",P),P}},[]),v=c.useCallback(async()=>{try{(await fa.markAllAsRead()).success&&(r(P=>P.map(A=>({...A,is_read:!0}))),n(0))}catch(_){throw console.error("Failed to mark all as read:",_),_}},[]),h=c.useCallback(async _=>{try{(await fa.deleteNotification(_)).success&&r(A=>{const R=A.find($=>$.id===_),k=R&&!R.is_read,L=A.filter($=>$.id!==_);return k&&n($=>Math.max(0,$-1)),L})}catch(P){throw console.error("Failed to delete notification:",P),P}},[]),g=c.useCallback(async()=>{try{(await fa.deleteAllRead()).success&&r(P=>P.filter(A=>!A.is_read))}catch(_){throw console.error("Failed to delete all read notifications:",_),_}},[]);c.useEffect(()=>{p.current||(p.current=!0,x({},1,15))},[x]);const b={notifications:s,unreadCount:a,loading:i,error:o,pagination:m,fetchNotifications:x,fetchUnreadCount:y,markAsRead:w,markAsUnread:j,markAllAsRead:v,deleteNotification:h,deleteAllRead:g,refresh:()=>x({},m.currentPage,m.perPage)};return t.jsx(gv.Provider,{value:b,children:e})},qa=({children:e,allowedRoles:s=[],allowPending:r=!1})=>{const{isAuthenticated:a,user:n,loading:i}=fr();return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?!r&&((n==null?void 0:n.role)==="acc_admin"||(n==null?void 0:n.role)==="training_center_admin")&&(n==null?void 0:n.status)!=="active"?t.jsx(Zo,{to:"/pending-account",replace:!0}):s.length>0&&!s.includes(n==null?void 0:n.role)?t.jsx(Zo,{to:"/unauthorized",replace:!0}):e:t.jsx(Zo,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(e,s)=>{const r=c.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:d,...m},u)=>c.createElement("svg",{ref:u,...uS,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${mS(e)}`,o].join(" "),...m},[...s.map(([p,f])=>c.createElement(p,f)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Fe("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Fe("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Fe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Fe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Fe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Fe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Fe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Fe("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Fe("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Fe("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Fe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Fe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Fe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Fe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Fe("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Fe("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Fe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Fe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ax=()=>{const[e,s]=c.useState(!1),[r,a]=c.useState({top:0,right:0}),n=c.useRef(null),i=c.useRef(null),{notifications:l,unreadCount:o,loading:d,markAsRead:m,markAllAsRead:u,deleteNotification:p,deleteAllRead:f,fetchNotifications:x}=cS();c.useEffect(()=>{if(e&&n.current){const _=n.current.getBoundingClientRect(),P=400,A=window.innerWidth-32,R=Math.min(P,A);let k=window.innerWidth-_.right;k+R>window.innerWidth-16&&(k=16),a({top:_.bottom+12,right:k}),d||x({},1,15)}},[e]),c.useEffect(()=>{const _=P=>{n.current&&!n.current.contains(P.target)&&i.current&&!i.current.contains(P.target)&&s(!1)};return e&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[e]);const y=async _=>{if(!_.is_read)try{await m(_.id)}catch(P){console.error("Failed to mark notification as read:",P)}},w=async()=>{try{await u()}catch(_){console.error("Failed to mark all as read:",_)}},j=async(_,P)=>{_.stopPropagation();try{await p(P)}catch(A){console.error("Failed to delete notification:",A)}},v=async()=>{try{await f()}catch(_){console.error("Failed to delete all read notifications:",_)}},h=_=>{const P=new Date(_),R=Math.floor((new Date-P)/1e3);return R<60?"Just now":R<3600?`${Math.floor(R/60)}m ago`:R<86400?`${Math.floor(R/3600)}h ago`:R<604800?`${Math.floor(R/86400)}d ago`:P.toLocaleDateString()},g=l.filter(_=>!_.is_read),b=l.filter(_=>_.is_read);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"notification-bell-container",ref:n,children:t.jsxs("button",{onClick:()=>s(!e),className:"notification-bell-button","aria-label":"Notifications",children:[t.jsx(Xg,{size:20}),o>0&&t.jsx("span",{className:"notification-badge",children:o>99?"99+":o})]})}),e&&t.jsxs("div",{className:"notification-dropdown",ref:i,style:{top:`${r.top}px`,right:`${r.right}px`},children:[t.jsxs("div",{className:"notification-header",children:[t.jsx("h3",{className:"notification-title",children:"Notifications"}),t.jsxs("div",{className:"notification-actions",children:[o>0&&t.jsx("button",{onClick:w,className:"notification-action-btn",title:"Mark all as read",children:t.jsx(xS,{size:16})}),b.length>0&&t.jsx("button",{onClick:v,className:"notification-action-btn",title:"Delete all read",children:t.jsx(Hs,{size:16})}),t.jsx("button",{onClick:()=>s(!1),className:"notification-action-btn",title:"Close",children:t.jsx(dr,{size:16})})]})]}),t.jsx("div",{className:"notification-list",children:d&&l.length===0?t.jsx("div",{className:"notification-empty",children:t.jsx("div",{className:"notification-loading",children:"Loading notifications..."})}):l.length===0?t.jsxs("div",{className:"notification-empty",children:[t.jsx(Xg,{size:48,className:"notification-empty-icon"}),t.jsx("p",{className:"notification-empty-text",children:"No notifications"})]}):t.jsxs(t.Fragment,{children:[g.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Unread"}),g.map(_=>t.jsxs("div",{className:"notification-item unread",onClick:()=>y(_),children:[t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:_.title}),t.jsx("button",{onClick:P=>j(P,_.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(dr,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:_.message}),t.jsxs("div",{className:"notification-item-footer",children:[t.jsx("span",{className:"notification-item-time",children:h(_.created_at)}),t.jsx("div",{className:"notification-item-actions",children:t.jsx("button",{onClick:P=>{P.stopPropagation(),m(_.id)},className:"notification-item-action",title:"Mark as read",children:t.jsx(bS,{size:14})})})]})]}),t.jsx("div",{className:"notification-indicator"})]},_.id))]}),b.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Read"}),b.map(_=>t.jsx("div",{className:"notification-item",onClick:()=>y(_),children:t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:_.title}),t.jsx("button",{onClick:P=>j(P,_.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(dr,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:_.message}),t.jsx("div",{className:"notification-item-footer",children:t.jsx("span",{className:"notification-item-time",children:h(_.created_at)})})]})},_.id))]})]})})]})]})},En=({children:e})=>{var R;const{user:s,logout:r}=fr(),{headerActions:a,headerTitle:n,headerSubtitle:i}=ct(),l=kr(),o=Ba(),[d,m]=c.useState(null),[u,p]=c.useState(!1);c.useEffect(()=>{(async()=>{var L;if((s==null?void 0:s.role)==="instructor")try{const $=await As.getDashboard(),C=((L=$==null?void 0:$.profile)==null?void 0:L.is_assessor)||($==null?void 0:$.is_assessor)||!1;p(C===!0||C==="true"||C===1)}catch($){console.error("Failed to load instructor assessor status:",$),p((s==null?void 0:s.is_assessor)===!0||(s==null?void 0:s.is_assessor)==="true"||(s==null?void 0:s.is_assessor)===1)}else p(!1)})()},[s]);const[f,x]=c.useState(()=>{const k=localStorage.getItem("sidebarOpen");return k!==null?JSON.parse(k):!0}),[y,w]=c.useState(()=>{const k=localStorage.getItem("sidebarCollapsed");return k!==null?JSON.parse(k):!1}),[j,v]=c.useState(()=>{const k=localStorage.getItem("expandedGroups");return k?JSON.parse(k):{}});c.useEffect(()=>{localStorage.setItem("expandedGroups",JSON.stringify(j))},[j]);const h=k=>{v(L=>({...L,[k]:!L[k]}))};if(c.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(f))},[f]),c.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(y))},[y]),c.useEffect(()=>{s&&(async()=>{if((s==null?void 0:s.role)==="acc_admin")try{const $=(await et.getSubscription()).subscription;if($&&$.subscription_end_date){const C=new Date($.subscription_end_date);m(C>new Date)}else m(!1)}catch(L){console.error("Failed to load subscription:",L),m(!1)}else m(!0)})()},[s]),o.pathname==="/pending-account")return e;c.useEffect(()=>{(s==null?void 0:s.role)==="acc_admin"&&d===!1&&(["/acc/subscription","/profile"].some(L=>o.pathname.startsWith(L))||l("/acc/subscription"))},[s,d,o.pathname,l]);const g=async()=>{await r(),l("/login")},_=(()=>{const k=[{type:"single",path:"/dashboard",icon:SS,label:"Dashboard"}];switch(s==null?void 0:s.role){case"group_admin":return[...k,{type:"group",key:"acc-management",icon:Xe,label:"ACC Management",items:[{path:"/admin/accs",icon:Jg,label:"ACC Applications"},{path:"/admin/training-center-applications",icon:Jg,label:"TC Applications"},{path:"/admin/all-accs",icon:Xe,label:"Accreditation Bodies"}]},{type:"group",key:"training-management",icon:dt,label:"Training & Instructors",items:[{path:"/admin/all-training-centers",icon:Ml,label:"Training Centers"},{path:"/admin/all-instructors",icon:dt,label:"Instructors"},{path:"/admin/instructor-authorizations",icon:dl,label:"Instructor Commissions"}]},{type:"group",key:"courses-management",icon:es,label:"Courses & Categories",items:[{path:"/admin/all-courses",icon:es,label:"Courses"},{path:"/admin/categories",icon:ex,label:"Course Categories"}]},{type:"group",key:"financial-settings",icon:Bs,label:"Financial & Settings",items:[{path:"/admin/financial",icon:Bs,label:"Financial"},{path:"/admin/payment-transactions",icon:cr,label:"Payment Transactions"},{path:"/admin/stripe-settings",icon:AS,label:"Stripe Settings"}]}];case"acc_admin":return d===!1?[{type:"single",path:"/acc/subscription",icon:Bs,label:"Subscription"},{type:"single",path:"/profile",icon:Bu,label:"Profile"}]:[...k,{type:"single",path:"/acc/subscription",icon:Bs,label:"Subscription"},{type:"single",path:"/profile",icon:Bu,label:"Profile"},{type:"group",key:"management",icon:dt,label:"Management",items:[{path:"/acc/training-centers",icon:Xe,label:"Training Centers"},{path:"/acc/instructors",icon:dt,label:"Instructors"}]},{type:"group",key:"courses-content",icon:es,label:"Courses & Content",items:[{path:"/acc/courses",icon:es,label:"Courses"},{path:"/acc/classes",icon:Ml,label:"Classes"},{path:"/acc/certificates",icon:pr,label:"Certificates"},{path:"/acc/discount-codes",icon:ci,label:"Discount Codes"},{path:"/acc/categories",icon:ex,label:"Course Categories"}]},{type:"group",key:"financial",icon:Bs,label:"Financial",items:[{path:"/acc/payment-transactions",icon:cr,label:"Payment Transactions"}]}];case"training_center_admin":return[...k,{type:"single",path:"/training-center/accs",icon:Xe,label:"Accreditation Bodies"},{type:"group",key:"people-management",icon:dt,label:"People Management",items:[{path:"/training-center/instructors",icon:dt,label:"Instructors"},{path:"/training-center/trainees",icon:dl,label:"Trainees"},{path:"/training-center/instructor-authorizations",icon:dl,label:"Instructor Auth"}]},{type:"group",key:"courses-classes",icon:es,label:"Courses & Classes",items:[{path:"/training-center/classes",icon:es,label:"Classes"},{path:"/training-center/certificates",icon:pr,label:"Certificates"}]},{type:"group",key:"financial",icon:ES,label:"Financial",items:[{path:"/training-center/codes",icon:ci,label:"Codes"},{path:"/training-center/payment-transactions",icon:cr,label:"Payment Transactions"}]}];case"instructor":return[...k,{type:"single",path:"/instructor/classes",icon:es,label:"Classes"}];default:return k}})(),P=()=>{if(n)return n;const k=o.pathname;if(k==="/dashboard")return"Dashboard";if(k==="/admin/accs")return"ACC Applications";if(k==="/admin/training-center-applications")return"TC Applications";if(k==="/admin/all-accs")return"Accreditation Bodies";if(k==="/admin/all-training-centers")return"Training Centers";if(k==="/admin/all-instructors")return"Instructors";if(k==="/admin/all-courses")return"Courses";if(k==="/admin/categories")return"Course Categories";if(k==="/admin/instructor-authorizations")return"Instructor Commissions";if(k==="/admin/financial")return"Financial";if(k==="/admin/payment-transactions")return"Payment Transactions";if(k==="/admin/stripe-settings")return"Stripe Settings";if(k==="/acc/dashboard")return"Dashboard";if(k==="/acc/subscription")return"Subscription Management";if(k==="/acc/training-centers")return"Training Centers";if(k==="/acc/instructors")return"Instructors";if(k==="/acc/courses")return"Courses";if(k==="/acc/certificates")return"Certificates";if(k==="/acc/materials")return"Materials";if(k==="/acc/discount-codes")return"Discount Codes";if(k==="/acc/categories")return"Course Categories";if(k==="/acc/classes")return"Classes";if(k==="/acc/payment-transactions")return"Payment Transactions";if(k==="/training-center/dashboard")return"Dashboard";if(k==="/training-center/accs")return"Accreditation Bodies";if(k==="/training-center/instructors")return"Instructors";if(k==="/training-center/trainees")return"Trainees";if(k==="/training-center/classes")return"Classes";if(k==="/training-center/codes")return"Codes";if(k==="/training-center/certificates")return"Certificates";if(k==="/training-center/instructor-authorizations")return"Instructor Authorizations";if(k==="/training-center/payment-transactions"||k==="/training-center/wallet")return"Payment Transactions";if(k==="/training-center/marketplace")return"Marketplace";if(k==="/instructor/dashboard")return"Dashboard";if(k==="/instructor/classes")return"Classes";if(k==="/instructor/materials")return"Materials";if(k==="/instructor/earnings")return"Earnings";if(k==="/profile")return"Profile";const L=k.split("/").filter(Boolean);return L.length>0?L[L.length-1].split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "):"Dashboard"},A=()=>{if(i)return i;const k=o.pathname;return k==="/dashboard"||k==="/acc/dashboard"||k==="/training-center/dashboard"||k==="/instructor/dashboard"?"Welcome back! Here's your overview":k==="/profile"?"Manage your account settings and preferences":"Manage and view your information"};return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-sm shadow-lg px-4 py-3 flex items-center justify-between layout-gradient-primary",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ax,{}),t.jsx("button",{onClick:()=>x(!f),className:"p-2 rounded-lg text-white/80 sidebar-hover transition-all duration-200 hover:scale-110",children:f?t.jsx(dr,{size:24}):t.jsx(_S,{size:24})})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 border-r shadow-xl lg:shadow-none transform transition-all duration-300 ease-out layout-gradient-sidebar ${f?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${y?"w-16":"w-64"}`,style:{overflow:"visible"},children:t.jsxs("div",{className:"flex flex-col h-full max-h-screen overflow-visible",children:[t.jsx("div",{className:`flex-shrink-0 border-b animate-slide-down layout-section-bg ${y?"p-3":"p-4"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[!y&&t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsx("p",{className:"text-xs text-primary-100 mt-1 font-medium truncate",children:(s==null?void 0:s.name)||"User"}),t.jsx("p",{className:"text-xs text-primary-200 mt-0.5 capitalize",children:(s==null?void 0:s.role)==="instructor"?u?"Assessor":"Instructor":((R=s==null?void 0:s.role)==null?void 0:R.replace("_"," "))||""})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>w(!y),className:`p-1.5 rounded-lg text-white/70 sidebar-hover transition-all duration-200 hover:scale-110 ${y?"w-full flex justify-center":""}`,title:y?"Expand sidebar":"Collapse sidebar",children:y?t.jsx(yv,{size:16}):t.jsx(xv,{size:16})})})]})}),t.jsx("nav",{className:`flex-1 min-h-0 ${y?"p-2 overflow-visible":"p-4 overflow-y-auto custom-scrollbar"}`,style:y?{overflowX:"visible",overflowY:"visible"}:{overflowX:"visible"},children:t.jsx("ul",{className:"space-y-1.5",style:{overflow:"visible"},children:_.map((k,L)=>{if(k.type==="single"){const $=k.icon,C=o.pathname===k.path;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${L*.03}s`,overflow:"visible"},children:y?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx(Eo,{to:k.path,onClick:()=>{x(!1),w(!1)},className:`flex items-center rounded-xl transition-all duration-200 ease-out relative px-2 py-2 justify-center w-full group-hover-trigger ${C?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:bg-white/10"}`,children:$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 ${C?"scale-110":"group-hover:scale-110"}`})}),t.jsx("div",{className:"sidebar-tooltip",children:k.label})]}):t.jsxs(Eo,{to:k.path,onClick:()=>x(!1),className:`flex items-center rounded-xl transition-all duration-200 ease-out relative group px-4 py-3 min-w-0 ${C?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:scale-105 hover:shadow-md"}`,children:[$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 mr-3 ${C?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:k.label}),C&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"}),!C&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white/50 rounded-r-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},`${k.path}-${L}`)}else if(k.type==="group"){const $=k.icon,C=k.items.some(T=>o.pathname===T.path),E=j[k.key]!==!1;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${L*.03}s`,overflow:"visible"},children:y?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx("button",{onClick:()=>w(!1),className:"px-2 py-2 flex justify-center w-full rounded-xl transition-all duration-200 hover:bg-white/10 nav-item-hover group-hover-trigger",children:t.jsx($,{size:20,className:"text-white/80"})}),t.jsx("div",{className:"sidebar-tooltip",children:k.label})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>h(k.key),className:`w-full flex items-center px-3 py-2 rounded-xl transition-all duration-200 ease-out relative group ${C?"bg-white/10 backdrop-blur-sm":"text-white/80 nav-item-hover hover:bg-white/5"}`,children:[$&&t.jsx($,{size:20,className:"transition-all duration-200 flex-shrink-0 mr-3 group-hover:scale-110 text-white/80"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap flex-1 min-w-0 text-left text-white/80",children:k.label}),E?t.jsx(Ve,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"}):t.jsx(qe,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"})]}),E&&t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 pl-3 border-l-2 border-white/10",children:k.items.map((T,N)=>{const S=T.icon,I=o.pathname===T.path;return t.jsx("li",{children:t.jsxs(Eo,{to:T.path,onClick:()=>x(!1),className:`flex items-center px-2 py-1.5 rounded-lg transition-all duration-200 ease-out relative group ${I?"text-[var(--tertiary-color)]":"text-white/70 nav-item-hover hover:bg-white/10 hover:text-white"}`,children:[S&&t.jsx(S,{size:18,className:"transition-all duration-200 flex-shrink-0 mr-2.5 group-hover:scale-110"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:T.label}),I&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"})]})},`${T.path}-${N}`)})})]})},k.key)}return null})})}),t.jsxs("div",{className:"flex-shrink-0 p-3 border-t animate-slide-up layout-section-bg",children:[t.jsxs(Eo,{to:"/profile",className:`flex items-center px-3 py-2 rounded-lg text-white/80 sidebar-hover mb-1.5 transition-all duration-200 hover:scale-105 group ${y?"justify-center":""}`,title:y?"Settings":"",children:[t.jsx(Bu,{size:16,className:`transition-transform duration-200 group-hover:rotate-90 flex-shrink-0 ${y?"":"mr-2"}`}),!y&&t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),t.jsxs("button",{onClick:g,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-300 hover:bg-red-500/20 transition-all duration-200 hover:scale-105 group ${y?"justify-center":""}`,title:y?"Logout":"",children:[t.jsx(vv,{size:16,className:`transition-transform duration-200 group-hover:translate-x-1 flex-shrink-0 ${y?"":"mr-2"}`}),!y&&t.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300 overflow-y-auto h-screen lg:ml-0",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full px-8",children:t.jsxs("div",{className:"rounded-b-2xl shadow-xl p-4 lg:p-6 relative overflow-hidden screen-header-gradient",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 screen-pattern-overlay"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:P()}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:A()})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a&&t.jsx("div",{className:"flex items-center gap-2",children:a}),t.jsx(ax,{})]})]})]})}),t.jsx("main",{className:"p-4 lg:p-9 animate-fade-in min-h-full",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden animate-fade-in",onClick:()=>x(!1)})]})},Ol={black:"#000",white:"#fff"},Cn={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Sn={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},_n={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},kn={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Pn={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fi={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},zS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function la(e,...s){const r=new URL(`https://mui.com/production-error/?code=${e}`);return s.forEach(a=>r.searchParams.append("args[]",a)),`Minified MUI error #${e}; visit ${r} for the full message.`}const Cd="$$material";function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qc.apply(null,arguments)}function TS(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]}function RS(e){var s=document.createElement("style");return s.setAttribute("data-emotion",e.key),e.nonce!==void 0&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var DS=function(){function e(r){var a=this;this._insertTag=function(n){var i;a.tags.length===0?a.insertionPoint?i=a.insertionPoint.nextSibling:a.prepend?i=a.container.firstChild:i=a.before:i=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(n,i),a.tags.push(n)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var s=e.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RS(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=TS(n);try{i.insertRule(a,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var n;return(n=a.parentNode)==null?void 0:n.removeChild(a)}),this.tags=[],this.ctr=0},e}(),ps="-ms-",Vc="-moz-",pt="-webkit-",Nv="comm",Tf="rule",Rf="decl",$S="@import",wv="@keyframes",IS="@layer",FS=Math.abs,Sd=String.fromCharCode,LS=Object.assign;function MS(e,s){return ls(e,0)^45?(((s<<2^ls(e,0))<<2^ls(e,1))<<2^ls(e,2))<<2^ls(e,3):0}function Cv(e){return e.trim()}function OS(e,s){return(e=s.exec(e))?e[0]:e}function ft(e,s,r){return e.replace(s,r)}function np(e,s){return e.indexOf(s)}function ls(e,s){return e.charCodeAt(s)|0}function Ul(e,s,r){return e.slice(s,r)}function Ir(e){return e.length}function Df(e){return e.length}function To(e,s){return s.push(e),e}function US(e,s){return e.map(s).join("")}var _d=1,di=1,Sv=0,Is=0,Yt=0,Ni="";function kd(e,s,r,a,n,i,l){return{value:e,root:s,parent:r,type:a,props:n,children:i,line:_d,column:di,length:l,return:""}}function Li(e,s){return LS(kd("",null,null,"",null,null,0),e,{length:-e.length},s)}function BS(){return Yt}function qS(){return Yt=Is>0?ls(Ni,--Is):0,di--,Yt===10&&(di=1,_d--),Yt}function Ks(){return Yt=Is<Sv?ls(Ni,Is++):0,di++,Yt===10&&(di=1,_d++),Yt}function Vr(){return ls(Ni,Is)}function nc(){return Is}function to(e,s){return Ul(Ni,e,s)}function Bl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _v(e){return _d=di=1,Sv=Ir(Ni=e),Is=0,[]}function kv(e){return Ni="",e}function ic(e){return Cv(to(Is-1,ip(e===91?e+2:e===40?e+1:e)))}function VS(e){for(;(Yt=Vr())&&Yt<33;)Ks();return Bl(e)>2||Bl(Yt)>3?"":" "}function WS(e,s){for(;--s&&Ks()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return to(e,nc()+(s<6&&Vr()==32&&Ks()==32))}function ip(e){for(;Ks();)switch(Yt){case e:return Is;case 34:case 39:e!==34&&e!==39&&ip(Yt);break;case 40:e===41&&ip(e);break;case 92:Ks();break}return Is}function HS(e,s){for(;Ks()&&e+Yt!==57;)if(e+Yt===84&&Vr()===47)break;return"/*"+to(s,Is-1)+"*"+Sd(e===47?e:Ks())}function KS(e){for(;!Bl(Vr());)Ks();return to(e,Is)}function GS(e){return kv(lc("",null,null,null,[""],e=_v(e),0,[0],e))}function lc(e,s,r,a,n,i,l,o,d){for(var m=0,u=0,p=l,f=0,x=0,y=0,w=1,j=1,v=1,h=0,g="",b=n,_=i,P=a,A=g;j;)switch(y=h,h=Ks()){case 40:if(y!=108&&ls(A,p-1)==58){np(A+=ft(ic(h),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:A+=ic(h);break;case 9:case 10:case 13:case 32:A+=VS(y);break;case 92:A+=WS(nc()-1,7);continue;case 47:switch(Vr()){case 42:case 47:To(YS(HS(Ks(),nc()),s,r),d);break;default:A+="/"}break;case 123*w:o[m++]=Ir(A)*v;case 125*w:case 59:case 0:switch(h){case 0:case 125:j=0;case 59+u:v==-1&&(A=ft(A,/\f/g,"")),x>0&&Ir(A)-p&&To(x>32?ix(A+";",a,r,p-1):ix(ft(A," ","")+";",a,r,p-2),d);break;case 59:A+=";";default:if(To(P=nx(A,s,r,m,u,n,o,g,b=[],_=[],p),i),h===123)if(u===0)lc(A,s,P,P,b,i,p,o,_);else switch(f===99&&ls(A,3)===110?100:f){case 100:case 108:case 109:case 115:lc(e,P,P,a&&To(nx(e,P,P,0,0,n,o,g,n,b=[],p),_),n,_,p,o,a?b:_);break;default:lc(A,P,P,P,[""],_,0,o,_)}}m=u=x=0,w=v=1,g=A="",p=l;break;case 58:p=1+Ir(A),x=y;default:if(w<1){if(h==123)--w;else if(h==125&&w++==0&&qS()==125)continue}switch(A+=Sd(h),h*w){case 38:v=u>0?1:(A+="\f",-1);break;case 44:o[m++]=(Ir(A)-1)*v,v=1;break;case 64:Vr()===45&&(A+=ic(Ks())),f=Vr(),u=p=Ir(g=A+=KS(nc())),h++;break;case 45:y===45&&Ir(A)==2&&(w=0)}}return i}function nx(e,s,r,a,n,i,l,o,d,m,u){for(var p=n-1,f=n===0?i:[""],x=Df(f),y=0,w=0,j=0;y<a;++y)for(var v=0,h=Ul(e,p+1,p=FS(w=l[y])),g=e;v<x;++v)(g=Cv(w>0?f[v]+" "+h:ft(h,/&\f/g,f[v])))&&(d[j++]=g);return kd(e,s,r,n===0?Tf:o,d,m,u)}function YS(e,s,r){return kd(e,s,r,Nv,Sd(BS()),Ul(e,2,-2),0)}function ix(e,s,r,a){return kd(e,s,r,Rf,Ul(e,0,a),Ul(e,a+1,-1),a)}function Jn(e,s){for(var r="",a=Df(e),n=0;n<a;n++)r+=s(e[n],n,e,s)||"";return r}function QS(e,s,r,a){switch(e.type){case IS:if(e.children.length)break;case $S:case Rf:return e.return=e.return||e.value;case Nv:return"";case wv:return e.return=e.value+"{"+Jn(e.children,a)+"}";case Tf:e.value=e.props.join(",")}return Ir(r=Jn(e.children,a))?e.return=e.value+"{"+r+"}":""}function XS(e){var s=Df(e);return function(r,a,n,i){for(var l="",o=0;o<s;o++)l+=e[o](r,a,n,i)||"";return l}}function JS(e){return function(s){s.root||(s=s.return)&&e(s)}}function Pv(e){var s=Object.create(null);return function(r){return s[r]===void 0&&(s[r]=e(r)),s[r]}}var ZS=function(s,r,a){for(var n=0,i=0;n=i,i=Vr(),n===38&&i===12&&(r[a]=1),!Bl(i);)Ks();return to(s,Is)},e_=function(s,r){var a=-1,n=44;do switch(Bl(n)){case 0:n===38&&Vr()===12&&(r[a]=1),s[a]+=ZS(Is-1,r,a);break;case 2:s[a]+=ic(n);break;case 4:if(n===44){s[++a]=Vr()===58?"&\f":"",r[a]=s[a].length;break}default:s[a]+=Sd(n)}while(n=Ks());return s},t_=function(s,r){return kv(e_(_v(s),r))},lx=new WeakMap,s_=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var r=s.value,a=s.parent,n=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&r.charCodeAt(0)!==58&&!lx.get(a))&&!n){lx.set(s,!0);for(var i=[],l=t_(r,i),o=a.props,d=0,m=0;d<l.length;d++)for(var u=0;u<o.length;u++,m++)s.props[m]=i[d]?l[d].replace(/&\f/g,o[u]):o[u]+" "+l[d]}}},r_=function(s){if(s.type==="decl"){var r=s.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(s.return="",s.value="")}};function Av(e,s){switch(MS(e,s)){case 5103:return pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+e+Vc+e+ps+e+e;case 6828:case 4268:return pt+e+ps+e+e;case 6165:return pt+e+ps+"flex-"+e+e;case 5187:return pt+e+ft(e,/(\w+).+(:[^]+)/,pt+"box-$1$2"+ps+"flex-$1$2")+e;case 5443:return pt+e+ps+"flex-item-"+ft(e,/flex-|-self/,"")+e;case 4675:return pt+e+ps+"flex-line-pack"+ft(e,/align-content|flex-|-self/,"")+e;case 5548:return pt+e+ps+ft(e,"shrink","negative")+e;case 5292:return pt+e+ps+ft(e,"basis","preferred-size")+e;case 6060:return pt+"box-"+ft(e,"-grow","")+pt+e+ps+ft(e,"grow","positive")+e;case 4554:return pt+ft(e,/([^-])(transform)/g,"$1"+pt+"$2")+e;case 6187:return ft(ft(ft(e,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),e,"")+e;case 5495:case 3959:return ft(e,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return ft(ft(e,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+ps+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+e+e;case 4095:case 3583:case 4068:case 2532:return ft(e,/(.+)-inline(.+)/,pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ir(e)-1-s>6)switch(ls(e,s+1)){case 109:if(ls(e,s+4)!==45)break;case 102:return ft(e,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Vc+(ls(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~np(e,"stretch")?Av(ft(e,"stretch","fill-available"),s)+e:e}break;case 4949:if(ls(e,s+1)!==115)break;case 6444:switch(ls(e,Ir(e)-3-(~np(e,"!important")&&10))){case 107:return ft(e,":",":"+pt)+e;case 101:return ft(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(ls(e,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+ps+"$2box$3")+e}break;case 5936:switch(ls(e,s+11)){case 114:return pt+e+ps+ft(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pt+e+ps+ft(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pt+e+ps+ft(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pt+e+ps+e+e}return e}var a_=function(s,r,a,n){if(s.length>-1&&!s.return)switch(s.type){case Rf:s.return=Av(s.value,s.length);break;case wv:return Jn([Li(s,{value:ft(s.value,"@","@"+pt)})],n);case Tf:if(s.length)return US(s.props,function(i){switch(OS(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jn([Li(s,{props:[ft(i,/:(read-\w+)/,":"+Vc+"$1")]})],n);case"::placeholder":return Jn([Li(s,{props:[ft(i,/:(plac\w+)/,":"+pt+"input-$1")]}),Li(s,{props:[ft(i,/:(plac\w+)/,":"+Vc+"$1")]}),Li(s,{props:[ft(i,/:(plac\w+)/,ps+"input-$1")]})],n)}return""})}},n_=[a_],i_=function(s){var r=s.key;if(r==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(w){var j=w.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var n=s.stylisPlugins||n_,i={},l,o=[];l=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var j=w.getAttribute("data-emotion").split(" "),v=1;v<j.length;v++)i[j[v]]=!0;o.push(w)});var d,m=[s_,r_];{var u,p=[QS,JS(function(w){u.insert(w)})],f=XS(m.concat(n,p)),x=function(j){return Jn(GS(j),f)};d=function(j,v,h,g){u=h,x(j?j+"{"+v.styles+"}":v.styles),g&&(y.inserted[v.name]=!0)}}var y={key:r,sheet:new DS({key:r,container:l,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:d};return y.sheet.hydrate(o),y},Ev={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=typeof Symbol=="function"&&Symbol.for,$f=as?Symbol.for("react.element"):60103,If=as?Symbol.for("react.portal"):60106,Pd=as?Symbol.for("react.fragment"):60107,Ad=as?Symbol.for("react.strict_mode"):60108,Ed=as?Symbol.for("react.profiler"):60114,zd=as?Symbol.for("react.provider"):60109,Td=as?Symbol.for("react.context"):60110,Ff=as?Symbol.for("react.async_mode"):60111,Rd=as?Symbol.for("react.concurrent_mode"):60111,Dd=as?Symbol.for("react.forward_ref"):60112,$d=as?Symbol.for("react.suspense"):60113,l_=as?Symbol.for("react.suspense_list"):60120,Id=as?Symbol.for("react.memo"):60115,Fd=as?Symbol.for("react.lazy"):60116,o_=as?Symbol.for("react.block"):60121,c_=as?Symbol.for("react.fundamental"):60117,d_=as?Symbol.for("react.responder"):60118,u_=as?Symbol.for("react.scope"):60119;function er(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case $f:switch(e=e.type,e){case Ff:case Rd:case Pd:case Ed:case Ad:case $d:return e;default:switch(e=e&&e.$$typeof,e){case Td:case Dd:case Fd:case Id:case zd:return e;default:return s}}case If:return s}}}function zv(e){return er(e)===Rd}Nt.AsyncMode=Ff;Nt.ConcurrentMode=Rd;Nt.ContextConsumer=Td;Nt.ContextProvider=zd;Nt.Element=$f;Nt.ForwardRef=Dd;Nt.Fragment=Pd;Nt.Lazy=Fd;Nt.Memo=Id;Nt.Portal=If;Nt.Profiler=Ed;Nt.StrictMode=Ad;Nt.Suspense=$d;Nt.isAsyncMode=function(e){return zv(e)||er(e)===Ff};Nt.isConcurrentMode=zv;Nt.isContextConsumer=function(e){return er(e)===Td};Nt.isContextProvider=function(e){return er(e)===zd};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$f};Nt.isForwardRef=function(e){return er(e)===Dd};Nt.isFragment=function(e){return er(e)===Pd};Nt.isLazy=function(e){return er(e)===Fd};Nt.isMemo=function(e){return er(e)===Id};Nt.isPortal=function(e){return er(e)===If};Nt.isProfiler=function(e){return er(e)===Ed};Nt.isStrictMode=function(e){return er(e)===Ad};Nt.isSuspense=function(e){return er(e)===$d};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Pd||e===Rd||e===Ed||e===Ad||e===$d||e===l_||typeof e=="object"&&e!==null&&(e.$$typeof===Fd||e.$$typeof===Id||e.$$typeof===zd||e.$$typeof===Td||e.$$typeof===Dd||e.$$typeof===c_||e.$$typeof===d_||e.$$typeof===u_||e.$$typeof===o_)};Nt.typeOf=er;Ev.exports=Nt;var m_=Ev.exports,Tv=m_,p_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},f_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rv={};Rv[Tv.ForwardRef]=p_;Rv[Tv.Memo]=f_;var h_=!0;function Dv(e,s,r){var a="";return r.split(" ").forEach(function(n){e[n]!==void 0?s.push(e[n]+";"):n&&(a+=n+" ")}),a}var Lf=function(s,r,a){var n=s.key+"-"+r.name;(a===!1||h_===!1)&&s.registered[n]===void 0&&(s.registered[n]=r.styles)},Mf=function(s,r,a){Lf(s,r,a);var n=s.key+"-"+r.name;if(s.inserted[r.name]===void 0){var i=r;do s.insert(r===i?"."+n:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function g_(e){for(var s=0,r,a=0,n=e.length;n>=4;++a,n-=4)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,s=(r&65535)*1540483477+((r>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(n){case 3:s^=(e.charCodeAt(a+2)&255)<<16;case 2:s^=(e.charCodeAt(a+1)&255)<<8;case 1:s^=e.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var x_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},y_=/[A-Z]|^ms/g,b_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$v=function(s){return s.charCodeAt(1)===45},ox=function(s){return s!=null&&typeof s!="boolean"},qu=Pv(function(e){return $v(e)?e:e.replace(y_,"-$&").toLowerCase()}),cx=function(s,r){switch(s){case"animation":case"animationName":if(typeof r=="string")return r.replace(b_,function(a,n,i){return Fr={name:n,styles:i,next:Fr},n})}return x_[s]!==1&&!$v(s)&&typeof r=="number"&&r!==0?r+"px":r};function ql(e,s,r){if(r==null)return"";var a=r;if(a.__emotion_styles!==void 0)return a;switch(typeof r){case"boolean":return"";case"object":{var n=r;if(n.anim===1)return Fr={name:n.name,styles:n.styles,next:Fr},n.name;var i=r;if(i.styles!==void 0){var l=i.next;if(l!==void 0)for(;l!==void 0;)Fr={name:l.name,styles:l.styles,next:Fr},l=l.next;var o=i.styles+";";return o}return v_(e,s,r)}case"function":{if(e!==void 0){var d=Fr,m=r(e);return Fr=d,ql(e,s,m)}break}}var u=r;if(s==null)return u;var p=s[u];return p!==void 0?p:u}function v_(e,s,r){var a="";if(Array.isArray(r))for(var n=0;n<r.length;n++)a+=ql(e,s,r[n])+";";else for(var i in r){var l=r[i];if(typeof l!="object"){var o=l;s!=null&&s[o]!==void 0?a+=i+"{"+s[o]+"}":ox(o)&&(a+=qu(i)+":"+cx(i,o)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(s==null||s[l[0]]===void 0))for(var d=0;d<l.length;d++)ox(l[d])&&(a+=qu(i)+":"+cx(i,l[d])+";");else{var m=ql(e,s,l);switch(i){case"animation":case"animationName":{a+=qu(i)+":"+m+";";break}default:a+=i+"{"+m+"}"}}}return a}var dx=/label:\s*([^\s;{]+)\s*(;|$)/g,Fr;function so(e,s,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,n="";Fr=void 0;var i=e[0];if(i==null||i.raw===void 0)a=!1,n+=ql(r,s,i);else{var l=i;n+=l[0]}for(var o=1;o<e.length;o++)if(n+=ql(r,s,e[o]),a){var d=i;n+=d[o]}dx.lastIndex=0;for(var m="",u;(u=dx.exec(n))!==null;)m+="-"+u[1];var p=g_(n)+m;return{name:p,styles:n,next:Fr}}var j_=function(s){return s()},Iv=uc.useInsertionEffect?uc.useInsertionEffect:!1,Fv=Iv||j_,ux=Iv||c.useLayoutEffect,Lv=c.createContext(typeof HTMLElement<"u"?i_({key:"css"}):null);Lv.Provider;var Of=function(s){return c.forwardRef(function(r,a){var n=c.useContext(Lv);return s(r,n,a)})},Ld=c.createContext({}),Uf={}.hasOwnProperty,lp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N_=function(s,r){var a={};for(var n in r)Uf.call(r,n)&&(a[n]=r[n]);return a[lp]=s,a},w_=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Lf(r,a,n),Fv(function(){return Mf(r,a,n)}),null},C_=Of(function(e,s,r){var a=e.css;typeof a=="string"&&s.registered[a]!==void 0&&(a=s.registered[a]);var n=e[lp],i=[a],l="";typeof e.className=="string"?l=Dv(s.registered,i,e.className):e.className!=null&&(l=e.className+" ");var o=so(i,void 0,c.useContext(Ld));l+=s.key+"-"+o.name;var d={};for(var m in e)Uf.call(e,m)&&m!=="css"&&m!==lp&&(d[m]=e[m]);return d.className=l,r&&(d.ref=r),c.createElement(c.Fragment,null,c.createElement(w_,{cache:s,serialized:o,isStringTag:typeof n=="string"}),c.createElement(n,d))}),S_=C_,mx=function(s,r){var a=arguments;if(r==null||!Uf.call(r,"css"))return c.createElement.apply(void 0,a);var n=a.length,i=new Array(n);i[0]=S_,i[1]=N_(s,r);for(var l=2;l<n;l++)i[l]=a[l];return c.createElement.apply(null,i)};(function(e){var s;s||(s=e.JSX||(e.JSX={}))})(mx||(mx={}));var __=Of(function(e,s){var r=e.styles,a=so([r],void 0,c.useContext(Ld)),n=c.useRef();return ux(function(){var i=s.key+"-global",l=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),o=!1,d=document.querySelector('style[data-emotion="'+i+" "+a.name+'"]');return s.sheet.tags.length&&(l.before=s.sheet.tags[0]),d!==null&&(o=!0,d.setAttribute("data-emotion",i),l.hydrate([d])),n.current=[l,o],function(){l.flush()}},[s]),ux(function(){var i=n.current,l=i[0],o=i[1];if(o){i[1]=!1;return}if(a.next!==void 0&&Mf(s,a.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}s.insert("",a,l,!1)},[s,a.name]),null});function Bf(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return so(s)}function ro(){var e=Bf.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var k_=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P_=Pv(function(e){return k_.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),A_=P_,E_=function(s){return s!=="theme"},px=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?A_:E_},fx=function(s,r,a){var n;if(r){var i=r.shouldForwardProp;n=s.__emotion_forwardProp&&i?function(l){return s.__emotion_forwardProp(l)&&i(l)}:i}return typeof n!="function"&&a&&(n=s.__emotion_forwardProp),n},z_=function(s){var r=s.cache,a=s.serialized,n=s.isStringTag;return Lf(r,a,n),Fv(function(){return Mf(r,a,n)}),null},T_=function e(s,r){var a=s.__emotion_real===s,n=a&&s.__emotion_base||s,i,l;r!==void 0&&(i=r.label,l=r.target);var o=fx(s,r,a),d=o||px(n),m=!d("as");return function(){var u=arguments,p=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var f=u[0];p.push(f[0]);for(var x=u.length,y=1;y<x;y++)p.push(u[y],f[y])}var w=Of(function(j,v,h){var g=m&&j.as||n,b="",_=[],P=j;if(j.theme==null){P={};for(var A in j)P[A]=j[A];P.theme=c.useContext(Ld)}typeof j.className=="string"?b=Dv(v.registered,_,j.className):j.className!=null&&(b=j.className+" ");var R=so(p.concat(_),v.registered,P);b+=v.key+"-"+R.name,l!==void 0&&(b+=" "+l);var k=m&&o===void 0?px(g):d,L={};for(var $ in j)m&&$==="as"||k($)&&(L[$]=j[$]);return L.className=b,h&&(L.ref=h),c.createElement(c.Fragment,null,c.createElement(z_,{cache:v,serialized:R,isStringTag:typeof g=="string"}),c.createElement(g,L))});return w.displayName=i!==void 0?i:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",w.defaultProps=s.defaultProps,w.__emotion_real=w,w.__emotion_base=n,w.__emotion_styles=p,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(j,v){var h=e(j,qc({},r,v,{shouldForwardProp:fx(w,v,!0)}));return h.apply(void 0,p)},w}},R_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],op=T_.bind(null);R_.forEach(function(e){op[e]=op(e)});var Mv={exports:{}},D_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$_=D_,I_=$_;function Ov(){}function Uv(){}Uv.resetWarningCache=Ov;var F_=function(){function e(a,n,i,l,o,d){if(d!==I_){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function s(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Uv,resetWarningCache:Ov};return r.PropTypes=r,r};Mv.exports=F_();var L_=Mv.exports;const St=Sp(L_);function M_(e){return e==null||Object.keys(e).length===0}function O_(e){const{styles:s,defaultTheme:r={}}=e,a=typeof s=="function"?n=>s(M_(n)?r:n):s;return t.jsx(__,{styles:a})}function Bv(e,s){return op(e,s)}function U_(e,s){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=s(e.__emotion_styles))}const hx=[];function Ta(e){return hx[0]=e,so(hx)}var qv={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=Symbol.for("react.transitional.element"),Vf=Symbol.for("react.portal"),Md=Symbol.for("react.fragment"),Od=Symbol.for("react.strict_mode"),Ud=Symbol.for("react.profiler"),Bd=Symbol.for("react.consumer"),qd=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Wd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Kd=Symbol.for("react.memo"),Gd=Symbol.for("react.lazy"),B_=Symbol.for("react.view_transition"),q_=Symbol.for("react.client.reference");function hr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case qf:switch(e=e.type,e){case Md:case Ud:case Od:case Wd:case Hd:case B_:return e;default:switch(e=e&&e.$$typeof,e){case qd:case Vd:case Gd:case Kd:return e;case Bd:return e;default:return s}}case Vf:return s}}}kt.ContextConsumer=Bd;kt.ContextProvider=qd;kt.Element=qf;kt.ForwardRef=Vd;kt.Fragment=Md;kt.Lazy=Gd;kt.Memo=Kd;kt.Portal=Vf;kt.Profiler=Ud;kt.StrictMode=Od;kt.Suspense=Wd;kt.SuspenseList=Hd;kt.isContextConsumer=function(e){return hr(e)===Bd};kt.isContextProvider=function(e){return hr(e)===qd};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qf};kt.isForwardRef=function(e){return hr(e)===Vd};kt.isFragment=function(e){return hr(e)===Md};kt.isLazy=function(e){return hr(e)===Gd};kt.isMemo=function(e){return hr(e)===Kd};kt.isPortal=function(e){return hr(e)===Vf};kt.isProfiler=function(e){return hr(e)===Ud};kt.isStrictMode=function(e){return hr(e)===Od};kt.isSuspense=function(e){return hr(e)===Wd};kt.isSuspenseList=function(e){return hr(e)===Hd};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Md||e===Ud||e===Od||e===Wd||e===Hd||typeof e=="object"&&e!==null&&(e.$$typeof===Gd||e.$$typeof===Kd||e.$$typeof===qd||e.$$typeof===Bd||e.$$typeof===Vd||e.$$typeof===q_||e.getModuleId!==void 0)};kt.typeOf=hr;qv.exports=kt;var Vv=qv.exports;function Or(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Wv(e){if(c.isValidElement(e)||Vv.isValidElementType(e)||!Or(e))return e;const s={};return Object.keys(e).forEach(r=>{s[r]=Wv(e[r])}),s}function xs(e,s,r={clone:!0}){const a=r.clone?{...e}:e;return Or(e)&&Or(s)&&Object.keys(s).forEach(n=>{c.isValidElement(s[n])||Vv.isValidElementType(s[n])?a[n]=s[n]:Or(s[n])&&Object.prototype.hasOwnProperty.call(e,n)&&Or(e[n])?a[n]=xs(e[n],s[n],r):r.clone?a[n]=Or(s[n])?Wv(s[n]):s[n]:a[n]=s[n]}),a}const V_=e=>{const s=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return s.sort((r,a)=>r.val-a.val),s.reduce((r,a)=>({...r,[a.key]:a.val}),{})};function W_(e){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:a=5,...n}=e,i=V_(s),l=Object.keys(i);function o(f){return`@media (min-width:${typeof s[f]=="number"?s[f]:f}${r})`}function d(f){return`@media (max-width:${(typeof s[f]=="number"?s[f]:f)-a/100}${r})`}function m(f,x){const y=l.indexOf(x);return`@media (min-width:${typeof s[f]=="number"?s[f]:f}${r}) and (max-width:${(y!==-1&&typeof s[l[y]]=="number"?s[l[y]]:x)-a/100}${r})`}function u(f){return l.indexOf(f)+1<l.length?m(f,l[l.indexOf(f)+1]):o(f)}function p(f){const x=l.indexOf(f);return x===0?o(l[1]):x===l.length-1?d(l[x]):m(f,l[l.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:l,values:i,up:o,down:d,between:m,only:u,not:p,unit:r,...n}}function gx(e,s){if(!e.containerQueries)return s;const r=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,n)=>{var l,o;const i=/min-width:\s*([0-9.]+)/;return+(((l=a.match(i))==null?void 0:l[1])||0)-+(((o=n.match(i))==null?void 0:o[1])||0)});return r.length?r.reduce((a,n)=>{const i=s[n];return delete a[n],a[n]=i,a},{...s}):s}function H_(e,s){return s==="@"||s.startsWith("@")&&(e.some(r=>s.startsWith(`@${r}`))||!!s.match(/^@\d/))}function K_(e,s){const r=s.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,a,n]=r,i=Number.isNaN(+a)?a||0:+a;return e.containerQueries(n).up(i)}function G_(e){const s=(i,l)=>i.replace("@media",l?`@container ${l}`:"@container");function r(i,l){i.up=(...o)=>s(e.breakpoints.up(...o),l),i.down=(...o)=>s(e.breakpoints.down(...o),l),i.between=(...o)=>s(e.breakpoints.between(...o),l),i.only=(...o)=>s(e.breakpoints.only(...o),l),i.not=(...o)=>{const d=s(e.breakpoints.not(...o),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const a={},n=i=>(r(a,i),a);return r(n),{...e,containerQueries:n}}const Y_={borderRadius:4};function ul(e,s){return s?xs(e,s,{clone:!1}):e}const Yd={xs:0,sm:600,md:900,lg:1200,xl:1536},xx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Yd[e]}px)`},Q_={containerQueries:e=>({up:s=>{let r=typeof s=="number"?s:Yd[s]||s;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function oa(e,s,r){const a=e.theme||{};if(Array.isArray(s)){const i=a.breakpoints||xx;return s.reduce((l,o,d)=>(l[i.up(i.keys[d])]=r(s[d]),l),{})}if(typeof s=="object"){const i=a.breakpoints||xx;return Object.keys(s).reduce((l,o)=>{if(H_(i.keys,o)){const d=K_(a.containerQueries?a:Q_,o);d&&(l[d]=r(s[o],o))}else if(Object.keys(i.values||Yd).includes(o)){const d=i.up(o);l[d]=r(s[o],o)}else{const d=o;l[d]=s[d]}return l},{})}return r(s)}function X_(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((a,n)=>{const i=e.up(n);return a[i]={},a},{}))||{}}function yx(e,s){return e.reduce((r,a)=>{const n=r[a];return(!n||Object.keys(n).length===0)&&delete r[a],r},s)}function He(e){if(typeof e!="string")throw new Error(la(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Lr(e,s,r=!0){if(!s||typeof s!="string")return null;if(e&&e.vars&&r){const a=`vars.${s}`.split(".").reduce((n,i)=>n&&n[i]?n[i]:null,e);if(a!=null)return a}return s.split(".").reduce((a,n)=>a&&a[n]!=null?a[n]:null,e)}function Wc(e,s,r,a=r){let n;return typeof e=="function"?n=e(r):Array.isArray(e)?n=e[r]||a:n=Lr(e,r)||a,s&&(n=s(n,a,e)),n}function Gt(e){const{prop:s,cssProperty:r=e.prop,themeKey:a,transform:n}=e,i=l=>{if(l[s]==null)return null;const o=l[s],d=l.theme,m=Lr(d,a)||{};return oa(l,o,p=>{let f=Wc(m,n,p);return p===f&&typeof p=="string"&&(f=Wc(m,n,`${s}${p==="default"?"":He(p)}`,p)),r===!1?f:{[r]:f}})};return i.propTypes={},i.filterProps=[s],i}function J_(e){const s={};return r=>(s[r]===void 0&&(s[r]=e(r)),s[r])}const Z_={m:"margin",p:"padding"},ek={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},tk=J_(e=>{if(e.length>2)if(bx[e])e=bx[e];else return[e];const[s,r]=e.split(""),a=Z_[s],n=ek[r]||"";return Array.isArray(n)?n.map(i=>a+i):[a+n]}),Wf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Wf,...Hf];function ao(e,s,r,a){const n=Lr(e,s,!0)??r;return typeof n=="number"||typeof n=="string"?i=>typeof i=="string"?i:typeof n=="string"?n.startsWith("var(")&&i===0?0:n.startsWith("var(")&&i===1?n:`calc(${i} * ${n})`:n*i:Array.isArray(n)?i=>{if(typeof i=="string")return i;const l=Math.abs(i),o=n[l];return i>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof n=="function"?n:()=>{}}function Kf(e){return ao(e,"spacing",8)}function no(e,s){return typeof s=="string"||s==null?s:e(s)}function sk(e,s){return r=>e.reduce((a,n)=>(a[n]=no(s,r),a),{})}function rk(e,s,r,a){if(!s.includes(r))return null;const n=tk(r),i=sk(n,a),l=e[r];return oa(e,l,i)}function Hv(e,s){const r=Kf(e.theme);return Object.keys(e).map(a=>rk(e,s,a,r)).reduce(ul,{})}function Bt(e){return Hv(e,Wf)}Bt.propTypes={};Bt.filterProps=Wf;function qt(e){return Hv(e,Hf)}qt.propTypes={};qt.filterProps=Hf;function Kv(e=8,s=Kf({spacing:e})){if(e.mui)return e;const r=(...a)=>(a.length===0?[1]:a).map(i=>{const l=s(i);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function Qd(...e){const s=e.reduce((a,n)=>(n.filterProps.forEach(i=>{a[i]=n}),a),{}),r=a=>Object.keys(a).reduce((n,i)=>s[i]?ul(n,s[i](a)):n,{});return r.propTypes={},r.filterProps=e.reduce((a,n)=>a.concat(n.filterProps),[]),r}function ir(e){return typeof e!="number"?e:`${e}px solid`}function gr(e,s){return Gt({prop:e,themeKey:"borders",transform:s})}const ak=gr("border",ir),nk=gr("borderTop",ir),ik=gr("borderRight",ir),lk=gr("borderBottom",ir),ok=gr("borderLeft",ir),ck=gr("borderColor"),dk=gr("borderTopColor"),uk=gr("borderRightColor"),mk=gr("borderBottomColor"),pk=gr("borderLeftColor"),fk=gr("outline",ir),hk=gr("outlineColor"),Xd=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const s=ao(e.theme,"shape.borderRadius",4),r=a=>({borderRadius:no(s,a)});return oa(e,e.borderRadius,r)}return null};Xd.propTypes={};Xd.filterProps=["borderRadius"];Qd(ak,nk,ik,lk,ok,ck,dk,uk,mk,pk,Xd,fk,hk);const Jd=e=>{if(e.gap!==void 0&&e.gap!==null){const s=ao(e.theme,"spacing",8),r=a=>({gap:no(s,a)});return oa(e,e.gap,r)}return null};Jd.propTypes={};Jd.filterProps=["gap"];const Zd=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const s=ao(e.theme,"spacing",8),r=a=>({columnGap:no(s,a)});return oa(e,e.columnGap,r)}return null};Zd.propTypes={};Zd.filterProps=["columnGap"];const eu=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const s=ao(e.theme,"spacing",8),r=a=>({rowGap:no(s,a)});return oa(e,e.rowGap,r)}return null};eu.propTypes={};eu.filterProps=["rowGap"];const gk=Gt({prop:"gridColumn"}),xk=Gt({prop:"gridRow"}),yk=Gt({prop:"gridAutoFlow"}),bk=Gt({prop:"gridAutoColumns"}),vk=Gt({prop:"gridAutoRows"}),jk=Gt({prop:"gridTemplateColumns"}),Nk=Gt({prop:"gridTemplateRows"}),wk=Gt({prop:"gridTemplateAreas"}),Ck=Gt({prop:"gridArea"});Qd(Jd,Zd,eu,gk,xk,yk,bk,vk,jk,Nk,wk,Ck);function Zn(e,s){return s==="grey"?s:e}const Sk=Gt({prop:"color",themeKey:"palette",transform:Zn}),_k=Gt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zn}),kk=Gt({prop:"backgroundColor",themeKey:"palette",transform:Zn});Qd(Sk,_k,kk);function qs(e){return e<=1&&e!==0?`${e*100}%`:e}const Pk=Gt({prop:"width",transform:qs}),Gf=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const s=r=>{var n,i,l,o,d;const a=((l=(i=(n=e.theme)==null?void 0:n.breakpoints)==null?void 0:i.values)==null?void 0:l[r])||Yd[r];return a?((d=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:qs(r)}};return oa(e,e.maxWidth,s)}return null};Gf.filterProps=["maxWidth"];const Ak=Gt({prop:"minWidth",transform:qs}),Ek=Gt({prop:"height",transform:qs}),zk=Gt({prop:"maxHeight",transform:qs}),Tk=Gt({prop:"minHeight",transform:qs});Gt({prop:"size",cssProperty:"width",transform:qs});Gt({prop:"size",cssProperty:"height",transform:qs});const Rk=Gt({prop:"boxSizing"});Qd(Pk,Gf,Ak,Ek,zk,Tk,Rk);const io={border:{themeKey:"borders",transform:ir},borderTop:{themeKey:"borders",transform:ir},borderRight:{themeKey:"borders",transform:ir},borderBottom:{themeKey:"borders",transform:ir},borderLeft:{themeKey:"borders",transform:ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ir},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xd},color:{themeKey:"palette",transform:Zn},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Zn},backgroundColor:{themeKey:"palette",transform:Zn},p:{style:qt},pt:{style:qt},pr:{style:qt},pb:{style:qt},pl:{style:qt},px:{style:qt},py:{style:qt},padding:{style:qt},paddingTop:{style:qt},paddingRight:{style:qt},paddingBottom:{style:qt},paddingLeft:{style:qt},paddingX:{style:qt},paddingY:{style:qt},paddingInline:{style:qt},paddingInlineStart:{style:qt},paddingInlineEnd:{style:qt},paddingBlock:{style:qt},paddingBlockStart:{style:qt},paddingBlockEnd:{style:qt},m:{style:Bt},mt:{style:Bt},mr:{style:Bt},mb:{style:Bt},ml:{style:Bt},mx:{style:Bt},my:{style:Bt},margin:{style:Bt},marginTop:{style:Bt},marginRight:{style:Bt},marginBottom:{style:Bt},marginLeft:{style:Bt},marginX:{style:Bt},marginY:{style:Bt},marginInline:{style:Bt},marginInlineStart:{style:Bt},marginInlineEnd:{style:Bt},marginBlock:{style:Bt},marginBlockStart:{style:Bt},marginBlockEnd:{style:Bt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jd},rowGap:{style:eu},columnGap:{style:Zd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qs},maxWidth:{style:Gf},minWidth:{transform:qs},height:{transform:qs},maxHeight:{transform:qs},minHeight:{transform:qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dk(...e){const s=e.reduce((a,n)=>a.concat(Object.keys(n)),[]),r=new Set(s);return e.every(a=>r.size===Object.keys(a).length)}function $k(e,s){return typeof e=="function"?e(s):e}function Ik(){function e(r,a,n,i){const l={[r]:a,theme:n},o=i[r];if(!o)return{[r]:a};const{cssProperty:d=r,themeKey:m,transform:u,style:p}=o;if(a==null)return null;if(m==="typography"&&a==="inherit")return{[r]:a};const f=Lr(n,m)||{};return p?p(l):oa(l,a,y=>{let w=Wc(f,u,y);return y===w&&typeof y=="string"&&(w=Wc(f,u,`${r}${y==="default"?"":He(y)}`,y)),d===!1?w:{[d]:w}})}function s(r){const{sx:a,theme:n={},nested:i}=r||{};if(!a)return null;const l=n.unstable_sxConfig??io;function o(d){let m=d;if(typeof d=="function")m=d(n);else if(typeof d!="object")return d;if(!m)return null;const u=X_(n.breakpoints),p=Object.keys(u);let f=u;return Object.keys(m).forEach(x=>{const y=$k(m[x],n);if(y!=null)if(typeof y=="object")if(l[x])f=ul(f,e(x,y,n,l));else{const w=oa({theme:n},y,j=>({[x]:j}));Dk(w,y)?f[x]=s({sx:y,theme:n,nested:!0}):f=ul(f,w)}else f=ul(f,e(x,y,n,l))}),!i&&n.modularCssLayers?{"@layer sx":gx(n,yx(p,f))}:gx(n,yx(p,f))}return Array.isArray(a)?a.map(o):o(a)}return s}const hn=Ik();hn.filterProps=["sx"];function Fk(e,s){var a;const r=this;if(r.vars){if(!((a=r.colorSchemes)!=null&&a[e])||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?s:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:s})}return r.palette.mode===e?s:{}}function Yf(e={},...s){const{breakpoints:r={},palette:a={},spacing:n,shape:i={},...l}=e,o=W_(r),d=Kv(n);let m=xs({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:d,shape:{...Y_,...i}},l);return m=G_(m),m.applyStyles=Fk,m=s.reduce((u,p)=>xs(u,p),m),m.unstable_sxConfig={...io,...l==null?void 0:l.unstable_sxConfig},m.unstable_sx=function(p){return hn({sx:p,theme:this})},m}function Lk(e){return Object.keys(e).length===0}function Mk(e=null){const s=c.useContext(Ld);return!s||Lk(s)?e:s}const Ok=Yf();function Qf(e=Ok){return Mk(e)}function Vu(e){const s=Ta(e);return e!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):e}function Uk({styles:e,themeId:s,defaultTheme:r={}}){const a=Qf(r),n=s&&a[s]||a;let i=typeof e=="function"?e(n):e;return n.modularCssLayers&&(Array.isArray(i)?i=i.map(l=>Vu(typeof l=="function"?l(n):l)):i=Vu(i)),t.jsx(O_,{styles:i})}const Bk=e=>{var a;const s={systemProps:{},otherProps:{}},r=((a=e==null?void 0:e.theme)==null?void 0:a.unstable_sxConfig)??io;return Object.keys(e).forEach(n=>{r[n]?s.systemProps[n]=e[n]:s.otherProps[n]=e[n]}),s};function Gv(e){const{sx:s,...r}=e,{systemProps:a,otherProps:n}=Bk(r);let i;return Array.isArray(s)?i=[a,...s]:typeof s=="function"?i=(...l)=>{const o=s(...l);return Or(o)?{...a,...o}:a}:i={...a,...s},{...n,sx:i}}const vx=e=>e,qk=()=>{let e=vx;return{configure(s){e=s},generate(s){return e(s)},reset(){e=vx}}},Yv=qk();function Qv(e){var s,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(r=Qv(e[s]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function st(){for(var e,s,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(s=Qv(e))&&(a&&(a+=" "),a+=s);return a}function Vk(e={}){const{themeId:s,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:n}=e,i=Bv("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(hn);return c.forwardRef(function(d,m){const u=Qf(r),{className:p,component:f="div",...x}=Gv(d);return t.jsx(i,{as:f,ref:m,className:st(p,n?n(a):a),theme:s&&u[s]||u,...x})})}const Wk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gt(e,s,r="Mui"){const a=Wk[s];return a?`${r}-${a}`:`${Yv.generate(e)}-${s}`}function mt(e,s,r="Mui"){const a={};return s.forEach(n=>{a[n]=gt(e,n,r)}),a}function Xv(e){const{variants:s,...r}=e,a={variants:s,style:Ta(r),isProcessed:!0};return a.style===r||s&&s.forEach(n=>{typeof n.style!="function"&&(n.style=Ta(n.style))}),a}const Hk=Yf();function Wu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function tn(e,s){return s&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${s}{${String(e.styles)}}`),e}function Kk(e){return e?(s,r)=>r[e]:null}function Gk(e,s,r){e.theme=Xk(e.theme)?r:e.theme[s]||e.theme}function oc(e,s,r){const a=typeof s=="function"?s(e):s;if(Array.isArray(a))return a.flatMap(n=>oc(e,n,r));if(Array.isArray(a==null?void 0:a.variants)){let n;if(a.isProcessed)n=r?tn(a.style,r):a.style;else{const{variants:i,...l}=a;n=r?tn(Ta(l),r):l}return Jv(e,a.variants,[n],r)}return a!=null&&a.isProcessed?r?tn(Ta(a.style),r):a.style:r?tn(Ta(a),r):a}function Jv(e,s,r=[],a=void 0){var i;let n;e:for(let l=0;l<s.length;l+=1){const o=s[l];if(typeof o.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(n))continue}else for(const d in o.props)if(e[d]!==o.props[d]&&((i=e.ownerState)==null?void 0:i[d])!==o.props[d])continue e;typeof o.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a?tn(Ta(o.style(n)),a):o.style(n))):r.push(a?tn(Ta(o.style),a):o.style)}return r}function Yk(e={}){const{themeId:s,defaultTheme:r=Hk,rootShouldForwardProp:a=Wu,slotShouldForwardProp:n=Wu}=e;function i(o){Gk(o,s,r)}return(o,d={})=>{U_(o,P=>P.filter(A=>A!==hn));const{name:m,slot:u,skipVariantsResolver:p,skipSx:f,overridesResolver:x=Kk(Zk(u)),...y}=d,w=m&&m.startsWith("Mui")||u?"components":"custom",j=p!==void 0?p:u&&u!=="Root"&&u!=="root"||!1,v=f||!1;let h=Wu;u==="Root"||u==="root"?h=a:u?h=n:Jk(o)&&(h=void 0);const g=Bv(o,{shouldForwardProp:h,label:Qk(),...y}),b=P=>{if(P.__emotion_real===P)return P;if(typeof P=="function")return function(R){return oc(R,P,R.theme.modularCssLayers?w:void 0)};if(Or(P)){const A=Xv(P);return function(k){return A.variants?oc(k,A,k.theme.modularCssLayers?w:void 0):k.theme.modularCssLayers?tn(A.style,w):A.style}}return P},_=(...P)=>{const A=[],R=P.map(b),k=[];if(A.push(i),m&&x&&k.push(function(E){var I,D;const N=(D=(I=E.theme.components)==null?void 0:I[m])==null?void 0:D.styleOverrides;if(!N)return null;const S={};for(const q in N)S[q]=oc(E,N[q],E.theme.modularCssLayers?"theme":void 0);return x(E,S)}),m&&!j&&k.push(function(E){var S,I;const T=E.theme,N=(I=(S=T==null?void 0:T.components)==null?void 0:S[m])==null?void 0:I.variants;return N?Jv(E,N,[],E.theme.modularCssLayers?"theme":void 0):null}),v||k.push(hn),Array.isArray(R[0])){const C=R.shift(),E=new Array(A.length).fill(""),T=new Array(k.length).fill("");let N;N=[...E,...C,...T],N.raw=[...E,...C.raw,...T],A.unshift(N)}const L=[...A,...R,...k],$=g(...L);return o.muiName&&($.muiName=o.muiName),$};return g.withConfig&&(_.withConfig=g.withConfig),_}}function Qk(e,s){return void 0}function Xk(e){for(const s in e)return!1;return!0}function Jk(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Zk(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Hc(e,s,r=!1){const a={...s};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")a[i]={...e[i],...a[i]};else if(i==="componentsProps"||i==="slotProps"){const l=e[i],o=s[i];if(!o)a[i]=l||{};else if(!l)a[i]=o;else{a[i]={...o};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const m=d;a[i][m]=Hc(l[m],o[m],r)}}}else i==="className"&&r&&s.className?a.className=st(e==null?void 0:e.className,s==null?void 0:s.className):i==="style"&&r&&s.style?a.style={...e==null?void 0:e.style,...s==null?void 0:s.style}:a[i]===void 0&&(a[i]=e[i])}return a}const gn=typeof window<"u"?c.useLayoutEffect:c.useEffect;function eP(e,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(e,r))}function Xf(e,s=0,r=1){return eP(e,s,r)}function tP(e){e=e.slice(1);const s=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(s);return r&&r[0].length===1&&(r=r.map(a=>a+a)),r?`rgb${r.length===4?"a":""}(${r.map((a,n)=>n<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function Ia(e){if(e.type)return e;if(e.charAt(0)==="#")return Ia(tP(e));const s=e.indexOf("("),r=e.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(la(9,e));let a=e.substring(s+1,e.length-1),n;if(r==="color"){if(a=a.split(" "),n=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(n))throw new Error(la(10,n))}else a=a.split(",");return a=a.map(i=>parseFloat(i)),{type:r,values:a,colorSpace:n}}const sP=e=>{const s=Ia(e);return s.values.slice(0,3).map((r,a)=>s.type.includes("hsl")&&a!==0?`${r}%`:r).join(" ")},Xi=(e,s)=>{try{return sP(e)}catch{return e}};function tu(e){const{type:s,colorSpace:r}=e;let{values:a}=e;return s.includes("rgb")?a=a.map((n,i)=>i<3?parseInt(n,10):n):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${r} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function Zv(e){e=Ia(e);const{values:s}=e,r=s[0],a=s[1]/100,n=s[2]/100,i=a*Math.min(n,1-n),l=(m,u=(m+r/30)%12)=>n-i*Math.max(Math.min(u-3,9-u,1),-1);let o="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(o+="a",d.push(s[3])),tu({type:o,values:d})}function cp(e){e=Ia(e);let s=e.type==="hsl"||e.type==="hsla"?Ia(Zv(e)).values:e.values;return s=s.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function rP(e,s){const r=cp(e),a=cp(s);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}function Vl(e,s){return e=Ia(e),s=Xf(s),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${s}`:e.values[3]=s,tu(e)}function Va(e,s,r){try{return Vl(e,s)}catch{return e}}function su(e,s){if(e=Ia(e),s=Xf(s),e.type.includes("hsl"))e.values[2]*=1-s;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-s;return tu(e)}function bt(e,s,r){try{return su(e,s)}catch{return e}}function ru(e,s){if(e=Ia(e),s=Xf(s),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*s;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*s;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*s;return tu(e)}function vt(e,s,r){try{return ru(e,s)}catch{return e}}function aP(e,s=.15){return cp(e)>.5?su(e,s):ru(e,s)}function Ro(e,s,r){try{return aP(e,s)}catch{return e}}const nP=c.createContext(),iP=()=>c.useContext(nP)??!1,lP=c.createContext(void 0);function oP(e){const{theme:s,name:r,props:a}=e;if(!s||!s.components||!s.components[r])return a;const n=s.components[r];return n.defaultProps?Hc(n.defaultProps,a,s.components.mergeClassNameAndStyle):!n.styleOverrides&&!n.variants?Hc(n,a,s.components.mergeClassNameAndStyle):a}function cP({props:e,name:s}){const r=c.useContext(lP);return oP({props:e,name:s,theme:{components:r}})}let jx=0;function dP(e){const[s,r]=c.useState(e),a=e||s;return c.useEffect(()=>{s==null&&(jx+=1,r(`mui-${jx}`))},[s]),a}const uP={...uc},Nx=uP.useId;function lo(e){if(Nx!==void 0){const s=Nx();return e??s}return dP(e)}const wx={theme:void 0};function mP(e){let s,r;return function(n){let i=s;return(i===void 0||n.theme!==r)&&(wx.theme=n.theme,i=Xv(e(wx)),s=i,r=n.theme),i}}function pP(e=""){function s(...a){if(!a.length)return"";const n=a[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${n}${s(...a.slice(1))})`:`, ${n}`}return(a,...n)=>`var(--${e?`${e}-`:""}${a}${s(...n)})`}const Cx=(e,s,r,a=[])=>{let n=e;s.forEach((i,l)=>{l===s.length-1?Array.isArray(n)?n[Number(i)]=r:n&&typeof n=="object"&&(n[i]=r):n&&typeof n=="object"&&(n[i]||(n[i]=a.includes(i)?[]:{}),n=n[i])})},fP=(e,s,r)=>{function a(n,i=[],l=[]){Object.entries(n).forEach(([o,d])=>{(!r||r&&!r([...i,o]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?a(d,[...i,o],Array.isArray(d)?[...l,o]:l):s([...i,o],d,l))})}a(e)},hP=(e,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>e.includes(a))||e[e.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function Hu(e,s){const{prefix:r,shouldSkipGeneratingVar:a}=s||{},n={},i={},l={};return fP(e,(o,d,m)=>{if((typeof d=="string"||typeof d=="number")&&(!a||!a(o,d))){const u=`--${r?`${r}-`:""}${o.join("-")}`,p=hP(o,d);Object.assign(n,{[u]:p}),Cx(i,o,`var(${u})`,m),Cx(l,o,`var(${u}, ${p})`,m)}},o=>o[0]==="vars"),{css:n,vars:i,varsWithDefaults:l}}function gP(e,s={}){const{getSelector:r=v,disableCssColorScheme:a,colorSchemeSelector:n,enableContrastVars:i}=s,{colorSchemes:l={},components:o,defaultColorScheme:d="light",...m}=e,{vars:u,css:p,varsWithDefaults:f}=Hu(m,s);let x=f;const y={},{[d]:w,...j}=l;if(Object.entries(j||{}).forEach(([b,_])=>{const{vars:P,css:A,varsWithDefaults:R}=Hu(_,s);x=xs(x,R),y[b]={css:A,vars:P}}),w){const{css:b,vars:_,varsWithDefaults:P}=Hu(w,s);x=xs(x,P),y[d]={css:b,vars:_}}function v(b,_){var A,R;let P=n;if(n==="class"&&(P=".%s"),n==="data"&&(P="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(P=`[${n}="%s"]`),b){if(P==="media")return e.defaultColorScheme===b?":root":{[`@media (prefers-color-scheme: ${((R=(A=l[b])==null?void 0:A.palette)==null?void 0:R.mode)||b})`]:{":root":_}};if(P)return e.defaultColorScheme===b?`:root, ${P.replace("%s",String(b))}`:P.replace("%s",String(b))}return":root"}return{vars:x,generateThemeVars:()=>{let b={...u};return Object.entries(y).forEach(([,{vars:_}])=>{b=xs(b,_)}),b},generateStyleSheets:()=>{var k,L;const b=[],_=e.defaultColorScheme||"light";function P($,C){Object.keys(C).length&&b.push(typeof $=="string"?{[$]:{...C}}:$)}P(r(void 0,{...p}),p);const{[_]:A,...R}=y;if(A){const{css:$}=A,C=(L=(k=l[_])==null?void 0:k.palette)==null?void 0:L.mode,E=!a&&C?{colorScheme:C,...$}:{...$};P(r(_,{...E}),E)}return Object.entries(R).forEach(([$,{css:C}])=>{var N,S;const E=(S=(N=l[$])==null?void 0:N.palette)==null?void 0:S.mode,T=!a&&E?{colorScheme:E,...C}:{...C};P(r($,{...T}),T)}),i&&b.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),b}}}function xP(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function xt(e,s,r=void 0){const a={};for(const n in e){const i=e[n];let l="",o=!0;for(let d=0;d<i.length;d+=1){const m=i[d];m&&(l+=(o===!0?"":" ")+s(m),o=!1,r&&r[m]&&(l+=" "+r[m]))}a[n]=l}return a}function Ku(e,s){var r,a,n;return c.isValidElement(e)&&s.indexOf(e.type.muiName??((n=(a=(r=e.type)==null?void 0:r._payload)==null?void 0:a.value)==null?void 0:n.muiName))!==-1}function ej(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ol.white,default:Ol.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const tj=ej();function sj(){return{text:{primary:Ol.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ol.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dp=sj();function Sx(e,s,r,a){const n=a.light||a,i=a.dark||a*1.5;e[s]||(e.hasOwnProperty(r)?e[s]=e[r]:s==="light"?e.light=ru(e.main,n):s==="dark"&&(e.dark=su(e.main,i)))}function _x(e,s,r,a,n){const i=n.light||n,l=n.dark||n*1.5;s[r]||(s.hasOwnProperty(a)?s[r]=s[a]:r==="light"?s.light=`color-mix(in ${e}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(s.dark=`color-mix(in ${e}, ${s.main}, #000 ${(l*100).toFixed(0)}%)`))}function yP(e="light"){return e==="dark"?{main:_n[200],light:_n[50],dark:_n[400]}:{main:_n[700],light:_n[400],dark:_n[800]}}function bP(e="light"){return e==="dark"?{main:Sn[200],light:Sn[50],dark:Sn[400]}:{main:Sn[500],light:Sn[300],dark:Sn[700]}}function vP(e="light"){return e==="dark"?{main:Cn[500],light:Cn[300],dark:Cn[700]}:{main:Cn[700],light:Cn[400],dark:Cn[800]}}function jP(e="light"){return e==="dark"?{main:kn[400],light:kn[300],dark:kn[700]}:{main:kn[700],light:kn[500],dark:kn[900]}}function NP(e="light"){return e==="dark"?{main:Pn[400],light:Pn[300],dark:Pn[700]}:{main:Pn[800],light:Pn[500],dark:Pn[900]}}function wP(e="light"){return e==="dark"?{main:Fi[400],light:Fi[300],dark:Fi[700]}:{main:"#ed6c02",light:Fi[500],dark:Fi[900]}}function CP(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function Jf(e){const{mode:s="light",contrastThreshold:r=3,tonalOffset:a=.2,colorSpace:n,...i}=e,l=e.primary||yP(s),o=e.secondary||bP(s),d=e.error||vP(s),m=e.info||jP(s),u=e.success||NP(s),p=e.warning||wP(s);function f(j){return n?CP(j):rP(j,dp.text.primary)>=r?dp.text.primary:tj.text.primary}const x=({color:j,name:v,mainShade:h=500,lightShade:g=300,darkShade:b=700})=>{if(j={...j},!j.main&&j[h]&&(j.main=j[h]),!j.hasOwnProperty("main"))throw new Error(la(11,v?` (${v})`:"",h));if(typeof j.main!="string")throw new Error(la(12,v?` (${v})`:"",JSON.stringify(j.main)));return n?(_x(n,j,"light",g,a),_x(n,j,"dark",b,a)):(Sx(j,"light",g,a),Sx(j,"dark",b,a)),j.contrastText||(j.contrastText=f(j.main)),j};let y;return s==="light"?y=ej():s==="dark"&&(y=sj()),xs({common:{...Ol},mode:s,primary:x({color:l,name:"primary"}),secondary:x({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:d,name:"error"}),warning:x({color:p,name:"warning"}),info:x({color:m,name:"info"}),success:x({color:u,name:"success"}),grey:zS,contrastThreshold:r,getContrastText:f,augmentColor:x,tonalOffset:a,...y},i)}function SP(e){const s={};return Object.entries(e).forEach(a=>{const[n,i]=a;typeof i=="object"&&(s[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function _P(e,s){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...s}}function kP(e){return Math.round(e*1e5)/1e5}const kx={textTransform:"uppercase"},Px='"Roboto", "Helvetica", "Arial", sans-serif';function PP(e,s){const{fontFamily:r=Px,fontSize:a=14,fontWeightLight:n=300,fontWeightRegular:i=400,fontWeightMedium:l=500,fontWeightBold:o=700,htmlFontSize:d=16,allVariants:m,pxToRem:u,...p}=typeof s=="function"?s(e):s,f=a/14,x=u||(j=>`${j/d*f}rem`),y=(j,v,h,g,b)=>({fontFamily:r,fontWeight:j,fontSize:x(v),lineHeight:h,...r===Px?{letterSpacing:`${kP(g/v)}em`}:{},...b,...m}),w={h1:y(n,96,1.167,-1.5),h2:y(n,60,1.2,-.5),h3:y(i,48,1.167,0),h4:y(i,34,1.235,.25),h5:y(i,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(i,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(i,16,1.5,.15),body2:y(i,14,1.43,.15),button:y(l,14,1.75,.4,kx),caption:y(i,12,1.66,.4),overline:y(i,12,2.66,1,kx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xs({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:a,fontWeightLight:n,fontWeightRegular:i,fontWeightMedium:l,fontWeightBold:o,...w},p,{clone:!1})}const AP=.2,EP=.14,zP=.12;function Rt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${AP})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${EP})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${zP})`].join(",")}const TP=["none",Rt(0,2,1,-1,0,1,1,0,0,1,3,0),Rt(0,3,1,-2,0,2,2,0,0,1,5,0),Rt(0,3,3,-2,0,3,4,0,0,1,8,0),Rt(0,2,4,-1,0,4,5,0,0,1,10,0),Rt(0,3,5,-1,0,5,8,0,0,1,14,0),Rt(0,3,5,-1,0,6,10,0,0,1,18,0),Rt(0,4,5,-2,0,7,10,1,0,2,16,1),Rt(0,5,5,-3,0,8,10,1,0,3,14,2),Rt(0,5,6,-3,0,9,12,1,0,3,16,2),Rt(0,6,6,-3,0,10,14,1,0,4,18,3),Rt(0,6,7,-4,0,11,15,1,0,4,20,3),Rt(0,7,8,-4,0,12,17,2,0,5,22,4),Rt(0,7,8,-4,0,13,19,2,0,5,24,4),Rt(0,7,9,-4,0,14,21,2,0,5,26,4),Rt(0,8,9,-5,0,15,22,2,0,6,28,5),Rt(0,8,10,-5,0,16,24,2,0,6,30,5),Rt(0,8,11,-5,0,17,26,2,0,6,32,5),Rt(0,9,11,-5,0,18,28,2,0,7,34,6),Rt(0,9,12,-6,0,19,29,2,0,7,36,6),Rt(0,10,13,-6,0,20,31,3,0,8,38,7),Rt(0,10,13,-6,0,21,33,3,0,8,40,7),Rt(0,10,14,-6,0,22,35,3,0,8,42,7),Rt(0,11,14,-7,0,23,36,3,0,9,44,8),Rt(0,11,15,-7,0,24,38,3,0,9,46,8)],RP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},DP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ax(e){return`${Math.round(e)}ms`}function $P(e){if(!e)return 0;const s=e/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function IP(e){const s={...RP,...e.easing},r={...DP,...e.duration};return{getAutoHeightDuration:$P,create:(n=["all"],i={})=>{const{duration:l=r.standard,easing:o=s.easeInOut,delay:d=0,...m}=i;return(Array.isArray(n)?n:[n]).map(u=>`${u} ${typeof l=="string"?l:Ax(l)} ${o} ${typeof d=="string"?d:Ax(d)}`).join(",")},...e,easing:s,duration:r}}const FP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LP(e){return Or(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function rj(e={}){const s={...e};function r(a){const n=Object.entries(a);for(let i=0;i<n.length;i++){const[l,o]=n[i];!LP(o)||l.startsWith("unstable_")?delete a[l]:Or(o)&&(a[l]={...o},r(a[l]))}}return r(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ex(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const MP=e=>{if(!Number.isNaN(+e))return+e;const s=e.match(/\d*\.?\d+/g);if(!s)return 0;let r=0;for(let a=0;a<s.length;a+=1)r+=+s[a];return r};function OP(e){Object.assign(e,{alpha(s,r){const a=this||e;return a.colorSpace?`oklch(from ${s} l c h / ${typeof r=="string"?`calc(${r})`:r})`:a.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Vl(s,MP(r))},lighten(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #fff ${Ex(r)})`:ru(s,r)},darken(s,r){const a=this||e;return a.colorSpace?`color-mix(in ${a.colorSpace}, ${s}, #000 ${Ex(r)})`:su(s,r)}})}function up(e={},...s){const{breakpoints:r,mixins:a={},spacing:n,palette:i={},transitions:l={},typography:o={},shape:d,colorSpace:m,...u}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(la(20));const p=Jf({...i,colorSpace:m}),f=Yf(e);let x=xs(f,{mixins:_P(f.breakpoints,a),palette:p,shadows:TP.slice(),typography:PP(p,o),transitions:IP(l),zIndex:{...FP}});return x=xs(x,u),x=s.reduce((y,w)=>xs(y,w),x),x.unstable_sxConfig={...io,...u==null?void 0:u.unstable_sxConfig},x.unstable_sx=function(w){return hn({sx:w,theme:this})},x.toRuntimeSource=rj,OP(x),x}function mp(e){let s;return e<1?s=5.11916*e**2:s=4.5*Math.log(e+1)+2,Math.round(s*10)/1e3}const UP=[...Array(25)].map((e,s)=>{if(s===0)return"none";const r=mp(s);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function aj(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function nj(e){return e==="dark"?UP:[]}function BP(e){const{palette:s={mode:"light"},opacity:r,overlays:a,colorSpace:n,...i}=e,l=Jf({...s,colorSpace:n});return{palette:l,opacity:{...aj(l.mode),...r},overlays:a||nj(l.mode),...i}}function qP(e){var s;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((s=e[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const VP=e=>[...[...Array(25)].map((s,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],WP=e=>(s,r)=>{const a=e.rootSelector||":root",n=e.colorSchemeSelector;let i=n;if(n==="class"&&(i=".%s"),n==="data"&&(i="[data-%s]"),n!=null&&n.startsWith("data-")&&!n.includes("%s")&&(i=`[${n}="%s"]`),e.defaultColorScheme===s){if(s==="dark"){const l={};return VP(e.cssVarPrefix).forEach(o=>{l[o]=r[o],delete r[o]}),i==="media"?{[a]:r,"@media (prefers-color-scheme: dark)":{[a]:l}}:i?{[i.replace("%s",s)]:l,[`${a}, ${i.replace("%s",s)}`]:r}:{[a]:{...r,...l}}}if(i&&i!=="media")return`${a}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:r}};if(i)return i.replace("%s",String(s))}return a};function HP(e,s){s.forEach(r=>{e[r]||(e[r]={})})}function we(e,s,r){!e[s]&&r&&(e[s]=r)}function Ji(e){return typeof e!="string"||!e.startsWith("hsl")?e:Zv(e)}function Hr(e,s){`${s}Channel`in e||(e[`${s}Channel`]=Xi(Ji(e[s])))}function KP(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Tr=e=>{try{return e()}catch{}},GP=(e="mui")=>pP(e);function Gu(e,s,r,a,n){if(!r)return;r=r===!0?{}:r;const i=n==="dark"?"dark":"light";if(!a){s[n]=BP({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:l,...o}=up({...a,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return s[n]={...r,palette:l,opacity:{...aj(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||nj(i)},o}function YP(e={},...s){const{colorSchemes:r={light:!0},defaultColorScheme:a,disableCssColorScheme:n=!1,cssVarPrefix:i="mui",nativeColor:l=!1,shouldSkipGeneratingVar:o=qP,colorSchemeSelector:d=r.light&&r.dark?"media":void 0,rootSelector:m=":root",...u}=e,p=Object.keys(r)[0],f=a||(r.light&&p!=="light"?"light":p),x=GP(i),{[f]:y,light:w,dark:j,...v}=r,h={...v};let g=y;if((f==="dark"&&!("dark"in r)||f==="light"&&!("light"in r))&&(g=!0),!g)throw new Error(la(21,f));let b;l&&(b="oklch");const _=Gu(b,h,g,u,f);w&&!h.light&&Gu(b,h,w,void 0,"light"),j&&!h.dark&&Gu(b,h,j,void 0,"dark");let P={defaultColorScheme:f,..._,cssVarPrefix:i,colorSchemeSelector:d,rootSelector:m,getCssVar:x,colorSchemes:h,font:{...SP(_.typography),..._.font},spacing:KP(u.spacing)};Object.keys(P.colorSchemes).forEach($=>{const C=P.colorSchemes[$].palette,E=N=>{const S=N.split("-"),I=S[1],D=S[2];return x(N,C[I][D])};C.mode==="light"&&(we(C.common,"background","#fff"),we(C.common,"onBackground","#000")),C.mode==="dark"&&(we(C.common,"background","#000"),we(C.common,"onBackground","#fff"));function T(N,S,I){if(b){let D;return N===Va&&(D=`transparent ${((1-I)*100).toFixed(0)}%`),N===bt&&(D=`#000 ${(I*100).toFixed(0)}%`),N===vt&&(D=`#fff ${(I*100).toFixed(0)}%`),`color-mix(in ${b}, ${S}, ${D})`}return N(S,I)}if(HP(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){we(C.Alert,"errorColor",T(bt,C.error.light,.6)),we(C.Alert,"infoColor",T(bt,C.info.light,.6)),we(C.Alert,"successColor",T(bt,C.success.light,.6)),we(C.Alert,"warningColor",T(bt,C.warning.light,.6)),we(C.Alert,"errorFilledBg",E("palette-error-main")),we(C.Alert,"infoFilledBg",E("palette-info-main")),we(C.Alert,"successFilledBg",E("palette-success-main")),we(C.Alert,"warningFilledBg",E("palette-warning-main")),we(C.Alert,"errorFilledColor",Tr(()=>C.getContrastText(C.error.main))),we(C.Alert,"infoFilledColor",Tr(()=>C.getContrastText(C.info.main))),we(C.Alert,"successFilledColor",Tr(()=>C.getContrastText(C.success.main))),we(C.Alert,"warningFilledColor",Tr(()=>C.getContrastText(C.warning.main))),we(C.Alert,"errorStandardBg",T(vt,C.error.light,.9)),we(C.Alert,"infoStandardBg",T(vt,C.info.light,.9)),we(C.Alert,"successStandardBg",T(vt,C.success.light,.9)),we(C.Alert,"warningStandardBg",T(vt,C.warning.light,.9)),we(C.Alert,"errorIconColor",E("palette-error-main")),we(C.Alert,"infoIconColor",E("palette-info-main")),we(C.Alert,"successIconColor",E("palette-success-main")),we(C.Alert,"warningIconColor",E("palette-warning-main")),we(C.AppBar,"defaultBg",E("palette-grey-100")),we(C.Avatar,"defaultBg",E("palette-grey-400")),we(C.Button,"inheritContainedBg",E("palette-grey-300")),we(C.Button,"inheritContainedHoverBg",E("palette-grey-A100")),we(C.Chip,"defaultBorder",E("palette-grey-400")),we(C.Chip,"defaultAvatarColor",E("palette-grey-700")),we(C.Chip,"defaultIconColor",E("palette-grey-700")),we(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),we(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),we(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),we(C.LinearProgress,"primaryBg",T(vt,C.primary.main,.62)),we(C.LinearProgress,"secondaryBg",T(vt,C.secondary.main,.62)),we(C.LinearProgress,"errorBg",T(vt,C.error.main,.62)),we(C.LinearProgress,"infoBg",T(vt,C.info.main,.62)),we(C.LinearProgress,"successBg",T(vt,C.success.main,.62)),we(C.LinearProgress,"warningBg",T(vt,C.warning.main,.62)),we(C.Skeleton,"bg",b?T(Va,C.text.primary,.11):`rgba(${E("palette-text-primaryChannel")} / 0.11)`),we(C.Slider,"primaryTrack",T(vt,C.primary.main,.62)),we(C.Slider,"secondaryTrack",T(vt,C.secondary.main,.62)),we(C.Slider,"errorTrack",T(vt,C.error.main,.62)),we(C.Slider,"infoTrack",T(vt,C.info.main,.62)),we(C.Slider,"successTrack",T(vt,C.success.main,.62)),we(C.Slider,"warningTrack",T(vt,C.warning.main,.62));const N=b?T(bt,C.background.default,.6825):Ro(C.background.default,.8);we(C.SnackbarContent,"bg",N),we(C.SnackbarContent,"color",Tr(()=>b?dp.text.primary:C.getContrastText(N))),we(C.SpeedDialAction,"fabHoverBg",Ro(C.background.paper,.15)),we(C.StepConnector,"border",E("palette-grey-400")),we(C.StepContent,"border",E("palette-grey-400")),we(C.Switch,"defaultColor",E("palette-common-white")),we(C.Switch,"defaultDisabledColor",E("palette-grey-100")),we(C.Switch,"primaryDisabledColor",T(vt,C.primary.main,.62)),we(C.Switch,"secondaryDisabledColor",T(vt,C.secondary.main,.62)),we(C.Switch,"errorDisabledColor",T(vt,C.error.main,.62)),we(C.Switch,"infoDisabledColor",T(vt,C.info.main,.62)),we(C.Switch,"successDisabledColor",T(vt,C.success.main,.62)),we(C.Switch,"warningDisabledColor",T(vt,C.warning.main,.62)),we(C.TableCell,"border",T(vt,T(Va,C.divider,1),.88)),we(C.Tooltip,"bg",T(Va,C.grey[700],.92))}if(C.mode==="dark"){we(C.Alert,"errorColor",T(vt,C.error.light,.6)),we(C.Alert,"infoColor",T(vt,C.info.light,.6)),we(C.Alert,"successColor",T(vt,C.success.light,.6)),we(C.Alert,"warningColor",T(vt,C.warning.light,.6)),we(C.Alert,"errorFilledBg",E("palette-error-dark")),we(C.Alert,"infoFilledBg",E("palette-info-dark")),we(C.Alert,"successFilledBg",E("palette-success-dark")),we(C.Alert,"warningFilledBg",E("palette-warning-dark")),we(C.Alert,"errorFilledColor",Tr(()=>C.getContrastText(C.error.dark))),we(C.Alert,"infoFilledColor",Tr(()=>C.getContrastText(C.info.dark))),we(C.Alert,"successFilledColor",Tr(()=>C.getContrastText(C.success.dark))),we(C.Alert,"warningFilledColor",Tr(()=>C.getContrastText(C.warning.dark))),we(C.Alert,"errorStandardBg",T(bt,C.error.light,.9)),we(C.Alert,"infoStandardBg",T(bt,C.info.light,.9)),we(C.Alert,"successStandardBg",T(bt,C.success.light,.9)),we(C.Alert,"warningStandardBg",T(bt,C.warning.light,.9)),we(C.Alert,"errorIconColor",E("palette-error-main")),we(C.Alert,"infoIconColor",E("palette-info-main")),we(C.Alert,"successIconColor",E("palette-success-main")),we(C.Alert,"warningIconColor",E("palette-warning-main")),we(C.AppBar,"defaultBg",E("palette-grey-900")),we(C.AppBar,"darkBg",E("palette-background-paper")),we(C.AppBar,"darkColor",E("palette-text-primary")),we(C.Avatar,"defaultBg",E("palette-grey-600")),we(C.Button,"inheritContainedBg",E("palette-grey-800")),we(C.Button,"inheritContainedHoverBg",E("palette-grey-700")),we(C.Chip,"defaultBorder",E("palette-grey-700")),we(C.Chip,"defaultAvatarColor",E("palette-grey-300")),we(C.Chip,"defaultIconColor",E("palette-grey-300")),we(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),we(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),we(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),we(C.LinearProgress,"primaryBg",T(bt,C.primary.main,.5)),we(C.LinearProgress,"secondaryBg",T(bt,C.secondary.main,.5)),we(C.LinearProgress,"errorBg",T(bt,C.error.main,.5)),we(C.LinearProgress,"infoBg",T(bt,C.info.main,.5)),we(C.LinearProgress,"successBg",T(bt,C.success.main,.5)),we(C.LinearProgress,"warningBg",T(bt,C.warning.main,.5)),we(C.Skeleton,"bg",b?T(Va,C.text.primary,.13):`rgba(${E("palette-text-primaryChannel")} / 0.13)`),we(C.Slider,"primaryTrack",T(bt,C.primary.main,.5)),we(C.Slider,"secondaryTrack",T(bt,C.secondary.main,.5)),we(C.Slider,"errorTrack",T(bt,C.error.main,.5)),we(C.Slider,"infoTrack",T(bt,C.info.main,.5)),we(C.Slider,"successTrack",T(bt,C.success.main,.5)),we(C.Slider,"warningTrack",T(bt,C.warning.main,.5));const N=b?T(vt,C.background.default,.985):Ro(C.background.default,.98);we(C.SnackbarContent,"bg",N),we(C.SnackbarContent,"color",Tr(()=>b?tj.text.primary:C.getContrastText(N))),we(C.SpeedDialAction,"fabHoverBg",Ro(C.background.paper,.15)),we(C.StepConnector,"border",E("palette-grey-600")),we(C.StepContent,"border",E("palette-grey-600")),we(C.Switch,"defaultColor",E("palette-grey-300")),we(C.Switch,"defaultDisabledColor",E("palette-grey-600")),we(C.Switch,"primaryDisabledColor",T(bt,C.primary.main,.55)),we(C.Switch,"secondaryDisabledColor",T(bt,C.secondary.main,.55)),we(C.Switch,"errorDisabledColor",T(bt,C.error.main,.55)),we(C.Switch,"infoDisabledColor",T(bt,C.info.main,.55)),we(C.Switch,"successDisabledColor",T(bt,C.success.main,.55)),we(C.Switch,"warningDisabledColor",T(bt,C.warning.main,.55)),we(C.TableCell,"border",T(bt,T(Va,C.divider,1),.68)),we(C.Tooltip,"bg",T(Va,C.grey[700],.92))}Hr(C.background,"default"),Hr(C.background,"paper"),Hr(C.common,"background"),Hr(C.common,"onBackground"),Hr(C,"divider"),Object.keys(C).forEach(N=>{const S=C[N];N!=="tonalOffset"&&S&&typeof S=="object"&&(S.main&&we(C[N],"mainChannel",Xi(Ji(S.main))),S.light&&we(C[N],"lightChannel",Xi(Ji(S.light))),S.dark&&we(C[N],"darkChannel",Xi(Ji(S.dark))),S.contrastText&&we(C[N],"contrastTextChannel",Xi(Ji(S.contrastText))),N==="text"&&(Hr(C[N],"primary"),Hr(C[N],"secondary")),N==="action"&&(S.active&&Hr(C[N],"active"),S.selected&&Hr(C[N],"selected")))})}),P=s.reduce(($,C)=>xs($,C),P);const A={prefix:i,disableCssColorScheme:n,shouldSkipGeneratingVar:o,getSelector:WP(P),enableContrastVars:l},{vars:R,generateThemeVars:k,generateStyleSheets:L}=gP(P,A);return P.vars=R,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([$,C])=>{P[$]=C}),P.generateThemeVars=k,P.generateStyleSheets=L,P.generateSpacing=function(){return Kv(u.spacing,Kf(this))},P.getColorSchemeSelector=xP(d),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=o,P.unstable_sxConfig={...io,...u==null?void 0:u.unstable_sxConfig},P.unstable_sx=function(C){return hn({sx:C,theme:this})},P.toRuntimeSource=rj,P}function zx(e,s,r){e.colorSchemes&&r&&(e.colorSchemes[s]={...r!==!0&&r,palette:Jf({...r===!0?{}:r.palette,mode:s})})}function ij(e={},...s){const{palette:r,cssVariables:a=!1,colorSchemes:n=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...l}=e,o=i||"light",d=n==null?void 0:n[o],m={...n,...r?{[o]:{...typeof d!="boolean"&&d,palette:r}}:void 0};if(a===!1){if(!("colorSchemes"in e))return up(e,...s);let u=r;"palette"in e||m[o]&&(m[o]!==!0?u=m[o].palette:o==="dark"&&(u={mode:"dark"}));const p=up({...e,palette:u},...s);return p.defaultColorScheme=o,p.colorSchemes=m,p.palette.mode==="light"&&(p.colorSchemes.light={...m.light!==!0&&m.light,palette:p.palette},zx(p,"dark",m.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:p.palette},zx(p,"light",m.light)),p}return!r&&!("light"in m)&&o==="light"&&(m.light=!0),YP({...l,colorSchemes:m,defaultColorScheme:o,...typeof a!="boolean"&&a},...s)}const Zf=ij();function oo(){const e=Qf(Zf);return e[Cd]||e}function lj(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ar=e=>lj(e)&&e!=="classes",Oe=Yk({themeId:Cd,defaultTheme:Zf,rootShouldForwardProp:Ar});function Tx(...e){return e.reduce((s,r)=>r==null?s:function(...n){s.apply(this,n),r.apply(this,n)},()=>{})}function QP(e){return t.jsx(Uk,{...e,defaultTheme:Zf,themeId:Cd})}function XP(e){return function(r){return t.jsx(QP,{styles:typeof e=="function"?a=>e({theme:a,...r}):e})}}function JP(){return Gv}const wt=mP;function yt(e){return cP(e)}function ZP(e){return gt("MuiSvgIcon",e)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e4=e=>{const{color:s,fontSize:r,classes:a}=e,n={root:["root",s!=="inherit"&&`color${He(s)}`,`fontSize${He(r)}`]};return xt(n,ZP,a)},t4=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color!=="inherit"&&s[`color${He(r.color)}`],s[`fontSize${He(r.fontSize)}`]]}})(wt(({theme:e})=>{var s,r,a,n,i,l,o,d,m,u,p,f,x,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(n=(s=e.transitions)==null?void 0:s.create)==null?void 0:n.call(s,"fill",{duration:(a=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:a.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:l.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:d.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(m=e.typography)==null?void 0:m.pxToRem)==null?void 0:u.call(m,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,w])=>w&&w.main).map(([w])=>{var j,v;return{props:{color:w},style:{color:(v=(j=(e.vars??e).palette)==null?void 0:j[w])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(f=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(y=(x=(e.vars??e).palette)==null?void 0:x.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),pp=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiSvgIcon"}),{children:n,className:i,color:l="inherit",component:o="svg",fontSize:d="medium",htmlColor:m,inheritViewBox:u=!1,titleAccess:p,viewBox:f="0 0 24 24",...x}=a,y=c.isValidElement(n)&&n.type==="svg",w={...a,color:l,component:o,fontSize:d,instanceFontSize:s.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:y},j={};u||(j.viewBox=f);const v=e4(w);return t.jsxs(t4,{as:o,className:st(v.root,i),focusable:"false",color:m,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r,...j,...x,...y&&n.props,ownerState:w,children:[y?n.props.children:n,p?t.jsx("title",{children:p}):null]})});pp.muiName="SvgIcon";function Ls(e,s){function r(a,n){return t.jsx(pp,{"data-testid":void 0,ref:n,...a,children:e})}return r.muiName=pp.muiName,c.memo(c.forwardRef(r))}function oj(e,s=166){let r;function a(...n){const i=()=>{e.apply(this,n)};clearTimeout(r),r=setTimeout(i,s)}return a.clear=()=>{clearTimeout(r)},a}function _r(e){return e&&e.ownerDocument||document}function ca(e){return _r(e).defaultView||window}function Rx(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function Dx(e){const{controlled:s,default:r,name:a,state:n="value"}=e,{current:i}=c.useRef(s!==void 0),[l,o]=c.useState(r),d=i?s:l,m=c.useCallback(u=>{i||o(u)},[]);return[d,m]}function on(e){const s=c.useRef(e);return gn(()=>{s.current=e}),c.useRef((...r)=>(0,s.current)(...r)).current}function Fs(...e){const s=c.useRef(void 0),r=c.useCallback(a=>{const n=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const l=i,o=l(a);return typeof o=="function"?o:()=>{l(null)}}return i.current=a,()=>{i.current=null}});return()=>{n.forEach(i=>i==null?void 0:i())}},e);return c.useMemo(()=>e.every(a=>a==null)?null:a=>{s.current&&(s.current(),s.current=void 0),a!=null&&(s.current=r(a))},e)}function s4(e,s){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof s=="function"}function r4(e,s){if(!e)return s;function r(l,o){const d={};return Object.keys(o).forEach(m=>{s4(m,o[m])&&typeof l[m]=="function"&&(d[m]=(...u)=>{l[m](...u),o[m](...u)})}),d}if(typeof e=="function"||typeof s=="function")return l=>{const o=typeof s=="function"?s(l):s,d=typeof e=="function"?e({...l,...o}):e,m=st(l==null?void 0:l.className,o==null?void 0:o.className,d==null?void 0:d.className),u=r(d,o);return{...o,...d,...u,...!!m&&{className:m},...(o==null?void 0:o.style)&&(d==null?void 0:d.style)&&{style:{...o.style,...d.style}},...(o==null?void 0:o.sx)&&(d==null?void 0:d.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const a=s,n=r(e,a),i=st(a==null?void 0:a.className,e==null?void 0:e.className);return{...s,...e,...n,...!!i&&{className:i},...(a==null?void 0:a.style)&&(e==null?void 0:e.style)&&{style:{...a.style,...e.style}},...(a==null?void 0:a.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function cj(e,s){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function fp(e,s){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fp(e,s)}function dj(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,fp(e,s)}const $x={disabled:!1},Kc=it.createContext(null);var a4=function(s){return s.scrollTop},Zi="unmounted",Ya="exited",Qa="entering",zn="entered",hp="exiting",Wr=function(e){dj(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var l=n,o=l&&!l.isMounting?a.enter:a.appear,d;return i.appearStatus=null,a.in?o?(d=Ya,i.appearStatus=Qa):d=zn:a.unmountOnExit||a.mountOnEnter?d=Zi:d=Ya,i.state={status:d},i.nextCallback=null,i}s.getDerivedStateFromProps=function(n,i){var l=n.in;return l&&i.status===Zi?{status:Ya}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var l=this.state.status;this.props.in?l!==Qa&&l!==zn&&(i=Qa):(l===Qa||l===zn)&&(i=hp)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,l,o;return i=l=o=n,n!=null&&typeof n!="number"&&(i=n.exit,l=n.enter,o=n.appear!==void 0?n.appear:l),{exit:i,enter:l,appear:o}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===Qa){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this);l&&a4(l)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ya&&this.setState({status:Zi})},r.performEnter=function(n){var i=this,l=this.props.enter,o=this.context?this.context.isMounting:n,d=this.props.nodeRef?[o]:[Ao.findDOMNode(this),o],m=d[0],u=d[1],p=this.getTimeouts(),f=o?p.appear:p.enter;if(!n&&!l||$x.disabled){this.safeSetState({status:zn},function(){i.props.onEntered(m)});return}this.props.onEnter(m,u),this.safeSetState({status:Qa},function(){i.props.onEntering(m,u),i.onTransitionEnd(f,function(){i.safeSetState({status:zn},function(){i.props.onEntered(m,u)})})})},r.performExit=function(){var n=this,i=this.props.exit,l=this.getTimeouts(),o=this.props.nodeRef?void 0:Ao.findDOMNode(this);if(!i||$x.disabled){this.safeSetState({status:Ya},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:hp},function(){n.props.onExiting(o),n.onTransitionEnd(l.exit,function(){n.safeSetState({status:Ya},function(){n.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,l=!0;return this.nextCallback=function(o){l&&(l=!1,i.nextCallback=null,n(o))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var l=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!l||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],m=d[0],u=d[1];this.props.addEndListener(m,u)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===Zi)return null;var i=this.props,l=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=cj(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return it.createElement(Kc.Provider,{value:null},typeof l=="function"?l(n,o):it.cloneElement(it.Children.only(l),o))},s}(it.Component);Wr.contextType=Kc;Wr.propTypes={};function An(){}Wr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:An,onEntering:An,onEntered:An,onExit:An,onExiting:An,onExited:An};Wr.UNMOUNTED=Zi;Wr.EXITED=Ya;Wr.ENTERING=Qa;Wr.ENTERED=zn;Wr.EXITING=hp;function n4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e,s){var r=function(i){return s&&c.isValidElement(i)?s(i):i},a=Object.create(null);return e&&c.Children.map(e,function(n){return n}).forEach(function(n){a[n.key]=r(n)}),a}function i4(e,s){e=e||{},s=s||{};function r(u){return u in s?s[u]:e[u]}var a=Object.create(null),n=[];for(var i in e)i in s?n.length&&(a[i]=n,n=[]):n.push(i);var l,o={};for(var d in s){if(a[d])for(l=0;l<a[d].length;l++){var m=a[d][l];o[a[d][l]]=r(m)}o[d]=r(d)}for(l=0;l<n.length;l++)o[n[l]]=r(n[l]);return o}function sn(e,s,r){return r[s]!=null?r[s]:e.props[s]}function l4(e,s){return eh(e.children,function(r){return c.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:sn(r,"appear",e),enter:sn(r,"enter",e),exit:sn(r,"exit",e)})})}function o4(e,s,r){var a=eh(e.children),n=i4(s,a);return Object.keys(n).forEach(function(i){var l=n[i];if(c.isValidElement(l)){var o=i in s,d=i in a,m=s[i],u=c.isValidElement(m)&&!m.props.in;d&&(!o||u)?n[i]=c.cloneElement(l,{onExited:r.bind(null,l),in:!0,exit:sn(l,"exit",e),enter:sn(l,"enter",e)}):!d&&o&&!u?n[i]=c.cloneElement(l,{in:!1}):d&&o&&c.isValidElement(m)&&(n[i]=c.cloneElement(l,{onExited:r.bind(null,l),in:m.props.in,exit:sn(l,"exit",e),enter:sn(l,"enter",e)}))}}),n}var c4=Object.values||function(e){return Object.keys(e).map(function(s){return e[s]})},d4={component:"div",childFactory:function(s){return s}},th=function(e){dj(s,e);function s(a,n){var i;i=e.call(this,a,n)||this;var l=i.handleExited.bind(n4(i));return i.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},i}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(n,i){var l=i.children,o=i.handleExited,d=i.firstRender;return{children:d?l4(n,o):o4(n,l,o),firstRender:!1}},r.handleExited=function(n,i){var l=eh(this.props.children);n.key in l||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(o){var d=qc({},o.children);return delete d[n.key],{children:d}}))},r.render=function(){var n=this.props,i=n.component,l=n.childFactory,o=cj(n,["component","childFactory"]),d=this.state.contextValue,m=c4(this.state.children).map(l);return delete o.appear,delete o.enter,delete o.exit,i===null?it.createElement(Kc.Provider,{value:d},m):it.createElement(Kc.Provider,{value:d},it.createElement(i,o,m))},s}(it.Component);th.propTypes={};th.defaultProps=d4;const Ix={};function uj(e,s){const r=c.useRef(Ix);return r.current===Ix&&(r.current=e(s)),r}const u4=[];function m4(e){c.useEffect(e,u4)}class sh{constructor(){Si(this,"currentId",null);Si(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Si(this,"disposeEffect",()=>this.clear)}static create(){return new sh}start(s,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},s)}}function mj(){const e=uj(sh.create).current;return m4(e.disposeEffect),e}const pj=e=>e.scrollTop;function Gc(e,s){const{timeout:r,easing:a,style:n={}}=e;return{duration:n.transitionDuration??(typeof r=="number"?r:r[s.mode]||0),easing:n.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:n.transitionDelay}}function Yc(e){return typeof e=="string"}function fj(e,s,r){return e===void 0||Yc(e)?s:{...s,ownerState:{...s.ownerState,...r}}}function hj(e,s,r){return typeof e=="function"?e(s,r):e}function gj(e,s=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!s.includes(a)).forEach(a=>{r[a]=e[a]}),r}function Fx(e){if(e===void 0)return{};const s={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{s[r]=e[r]}),s}function xj(e){const{getSlotProps:s,additionalProps:r,externalSlotProps:a,externalForwardedProps:n,className:i}=e;if(!s){const x=st(r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),y={...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},w={...r,...n,...a};return x.length>0&&(w.className=x),Object.keys(y).length>0&&(w.style=y),{props:w,internalRef:void 0}}const l=gj({...n,...a}),o=Fx(a),d=Fx(n),m=s(l),u=st(m==null?void 0:m.className,r==null?void 0:r.className,i,n==null?void 0:n.className,a==null?void 0:a.className),p={...m==null?void 0:m.style,...r==null?void 0:r.style,...n==null?void 0:n.style,...a==null?void 0:a.style},f={...m,...r,...d,...o};return u.length>0&&(f.className=u),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:m.ref}}function _t(e,s){const{className:r,elementType:a,ownerState:n,externalForwardedProps:i,internalForwardedProps:l,shouldForwardComponentProp:o=!1,...d}=s,{component:m,slots:u={[e]:void 0},slotProps:p={[e]:void 0},...f}=i,x=u[e]||a,y=hj(p[e],n),{props:{component:w,...j},internalRef:v}=xj({className:r,...d,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:y}),h=Fs(v,y==null?void 0:y.ref,s.ref),g=e==="root"?w||m:w,b=fj(x,{...e==="root"&&!m&&!u[e]&&l,...e!=="root"&&!u[e]&&l,...j,...g&&!o&&{as:g},...g&&o&&{component:g},ref:h},n);return[x,b]}function p4(e){return gt("MuiPaper",e)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const f4=e=>{const{square:s,elevation:r,variant:a,classes:n}=e,i={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${r}`]};return xt(i,p4,n)},h4=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],!r.square&&s.rounded,r.variant==="elevation"&&s[`elevation${r.elevation}`]]}})(wt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ui=c.forwardRef(function(s,r){var x;const a=yt({props:s,name:"MuiPaper"}),n=oo(),{className:i,component:l="div",elevation:o=1,square:d=!1,variant:m="elevation",...u}=a,p={...a,component:l,elevation:o,square:d,variant:m},f=f4(p);return t.jsx(h4,{as:l,ownerState:p,className:st(f.root,i),ref:r,...u,style:{...m==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[o],...n.vars&&{"--Paper-overlay":(x=n.vars.overlays)==null?void 0:x[o]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vl("#fff",mp(o))}, ${Vl("#fff",mp(o))})`}},...u.style}})});function Qc(e){try{return e.matches(":focus-visible")}catch{}return!1}class Xc{constructor(){Si(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Xc}static use(){const s=uj(Xc.create).current,[r,a]=c.useState(!1);return s.shouldMount=r,s.setShouldMount=a,c.useEffect(s.mountEffect,[r]),s}mount(){return this.mounted||(this.mounted=x4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...s)})}stop(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...s)})}pulsate(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...s)})}}function g4(){return Xc.use()}function x4(){let e,s;const r=new Promise((a,n)=>{e=a,s=n});return r.resolve=e,r.reject=s,r}function y4(e){const{className:s,classes:r,pulsate:a=!1,rippleX:n,rippleY:i,rippleSize:l,in:o,onExited:d,timeout:m}=e,[u,p]=c.useState(!1),f=st(s,r.ripple,r.rippleVisible,a&&r.ripplePulsate),x={width:l,height:l,top:-(l/2)+i,left:-(l/2)+n},y=st(r.child,u&&r.childLeaving,a&&r.childPulsate);return!o&&!u&&p(!0),c.useEffect(()=>{if(!o&&d!=null){const w=setTimeout(d,m);return()=>{clearTimeout(w)}}},[d,o,m]),t.jsx("span",{className:f,style:x,children:t.jsx("span",{className:y})})}const rr=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gp=550,b4=80,v4=ro`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,j4=ro`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,N4=ro`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,w4=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),C4=Oe(y4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${rr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${v4};
    animation-duration: ${gp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${rr.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${rr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${rr.childLeaving} {
    opacity: 0;
    animation-name: ${j4};
    animation-duration: ${gp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${rr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${N4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,S4=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:l,...o}=a,[d,m]=c.useState([]),u=c.useRef(0),p=c.useRef(null);c.useEffect(()=>{p.current&&(p.current(),p.current=null)},[d]);const f=c.useRef(!1),x=mj(),y=c.useRef(null),w=c.useRef(null),j=c.useCallback(b=>{const{pulsate:_,rippleX:P,rippleY:A,rippleSize:R,cb:k}=b;m(L=>[...L,t.jsx(C4,{classes:{ripple:st(i.ripple,rr.ripple),rippleVisible:st(i.rippleVisible,rr.rippleVisible),ripplePulsate:st(i.ripplePulsate,rr.ripplePulsate),child:st(i.child,rr.child),childLeaving:st(i.childLeaving,rr.childLeaving),childPulsate:st(i.childPulsate,rr.childPulsate)},timeout:gp,pulsate:_,rippleX:P,rippleY:A,rippleSize:R},u.current)]),u.current+=1,p.current=k},[i]),v=c.useCallback((b={},_={},P=()=>{})=>{const{pulsate:A=!1,center:R=n||_.pulsate,fakeElement:k=!1}=_;if((b==null?void 0:b.type)==="mousedown"&&f.current){f.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(f.current=!0);const L=k?null:w.current,$=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,E,T;if(R||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)C=Math.round($.width/2),E=Math.round($.height/2);else{const{clientX:N,clientY:S}=b.touches&&b.touches.length>0?b.touches[0]:b;C=Math.round(N-$.left),E=Math.round(S-$.top)}if(R)T=Math.sqrt((2*$.width**2+$.height**2)/3),T%2===0&&(T+=1);else{const N=Math.max(Math.abs((L?L.clientWidth:0)-C),C)*2+2,S=Math.max(Math.abs((L?L.clientHeight:0)-E),E)*2+2;T=Math.sqrt(N**2+S**2)}b!=null&&b.touches?y.current===null&&(y.current=()=>{j({pulsate:A,rippleX:C,rippleY:E,rippleSize:T,cb:P})},x.start(b4,()=>{y.current&&(y.current(),y.current=null)})):j({pulsate:A,rippleX:C,rippleY:E,rippleSize:T,cb:P})},[n,j,x]),h=c.useCallback(()=>{v({},{pulsate:!0})},[v]),g=c.useCallback((b,_)=>{if(x.clear(),(b==null?void 0:b.type)==="touchend"&&y.current){y.current(),y.current=null,x.start(0,()=>{g(b,_)});return}y.current=null,m(P=>P.length>0?P.slice(1):P),p.current=_},[x]);return c.useImperativeHandle(r,()=>({pulsate:h,start:v,stop:g}),[h,v,g]),t.jsx(w4,{className:st(rr.root,i.root,l),ref:w,...o,children:t.jsx(th,{component:null,exit:!0,children:d})})});function _4(e){return gt("MuiButtonBase",e)}const k4=mt("MuiButtonBase",["root","disabled","focusVisible"]),P4=e=>{const{disabled:s,focusVisible:r,focusVisibleClassName:a,classes:n}=e,l=xt({root:["root",s&&"disabled",r&&"focusVisible"]},_4,n);return r&&a&&(l.root+=` ${a}`),l},A4=Oe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${k4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),yj=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:l,className:o,component:d="button",disabled:m=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:x,LinkComponent:y="a",onBlur:w,onClick:j,onContextMenu:v,onDragLeave:h,onFocus:g,onFocusVisible:b,onKeyDown:_,onKeyUp:P,onMouseDown:A,onMouseLeave:R,onMouseUp:k,onTouchEnd:L,onTouchMove:$,onTouchStart:C,tabIndex:E=0,TouchRippleProps:T,touchRippleRef:N,type:S,...I}=a,D=c.useRef(null),q=g4(),X=Fs(q.ref,N),[ne,H]=c.useState(!1);m&&ne&&H(!1),c.useImperativeHandle(n,()=>({focusVisible:()=>{H(!0),D.current.focus()}}),[]);const F=q.shouldMount&&!u&&!m;c.useEffect(()=>{ne&&f&&!u&&q.pulsate()},[u,f,ne,q]);const U=Kr(q,"start",A,p),Y=Kr(q,"stop",v,p),Z=Kr(q,"stop",h,p),z=Kr(q,"stop",k,p),O=Kr(q,"stop",G=>{ne&&G.preventDefault(),R&&R(G)},p),M=Kr(q,"start",C,p),re=Kr(q,"stop",L,p),J=Kr(q,"stop",$,p),te=Kr(q,"stop",G=>{Qc(G.target)||H(!1),w&&w(G)},!1),K=on(G=>{D.current||(D.current=G.currentTarget),Qc(G.target)&&(H(!0),b&&b(G)),g&&g(G)}),ie=()=>{const G=D.current;return d&&d!=="button"&&!(G.tagName==="A"&&G.href)},V=on(G=>{f&&!G.repeat&&ne&&G.key===" "&&q.stop(G,()=>{q.start(G)}),G.target===G.currentTarget&&ie()&&G.key===" "&&G.preventDefault(),_&&_(G),G.target===G.currentTarget&&ie()&&G.key==="Enter"&&!m&&(G.preventDefault(),j&&j(G))}),ae=on(G=>{f&&G.key===" "&&ne&&!G.defaultPrevented&&q.stop(G,()=>{q.pulsate(G)}),P&&P(G),j&&G.target===G.currentTarget&&ie()&&G.key===" "&&!G.defaultPrevented&&j(G)});let ce=d;ce==="button"&&(I.href||I.to)&&(ce=y);const B={};if(ce==="button"){const G=!!I.formAction;B.type=S===void 0&&!G?"button":S,B.disabled=m}else!I.href&&!I.to&&(B.role="button"),m&&(B["aria-disabled"]=m);const pe=Fs(r,D),W={...a,centerRipple:i,component:d,disabled:m,disableRipple:u,disableTouchRipple:p,focusRipple:f,tabIndex:E,focusVisible:ne},ge=P4(W);return t.jsxs(A4,{as:ce,className:st(ge.root,o),ownerState:W,onBlur:te,onClick:j,onContextMenu:Y,onFocus:K,onKeyDown:V,onKeyUp:ae,onMouseDown:U,onMouseLeave:O,onMouseUp:z,onDragLeave:Z,onTouchEnd:re,onTouchMove:J,onTouchStart:M,ref:pe,tabIndex:m?-1:E,type:S,...B,...I,children:[l,F?t.jsx(S4,{ref:X,center:i,...T}):null]})});function Kr(e,s,r,a=!1){return on(n=>(r&&r(n),a||e[s](n),!0))}function E4(e){return typeof e.main=="string"}function z4(e,s=[]){if(!E4(e))return!1;for(const r of s)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Gs(e=[]){return([,s])=>s&&z4(s,e)}function T4(e){return gt("MuiAlert",e)}const Lx=mt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function R4(e){return gt("MuiCircularProgress",e)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const br=44,xp=ro`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,yp=ro`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,D4=typeof xp!="string"?Bf`
        animation: ${xp} 1.4s linear infinite;
      `:null,$4=typeof yp!="string"?Bf`
        animation: ${yp} 1.4s ease-in-out infinite;
      `:null,I4=e=>{const{classes:s,variant:r,color:a,disableShrink:n}=e,i={root:["root",r,`color${He(a)}`],svg:["svg"],track:["track"],circle:["circle",`circle${He(r)}`,n&&"circleDisableShrink"]};return xt(i,R4,s)},F4=Oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`color${He(r.color)}`]]}})(wt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:D4||{animation:`${xp} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Gs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}}))]}))),L4=Oe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),M4=Oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.circle,s[`circle${He(r.variant)}`],r.disableShrink&&s.circleDisableShrink]}})(wt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:$4||{animation:`${yp} 1.4s ease-in-out infinite`}}]}))),O4=Oe("circle",{name:"MuiCircularProgress",slot:"Track"})(wt(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),mi=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:l=!1,enableTrackSlot:o=!1,size:d=40,style:m,thickness:u=3.6,value:p=0,variant:f="indeterminate",...x}=a,y={...a,color:i,disableShrink:l,size:d,thickness:u,value:p,variant:f,enableTrackSlot:o},w=I4(y),j={},v={},h={};if(f==="determinate"){const g=2*Math.PI*((br-u)/2);j.strokeDasharray=g.toFixed(3),h["aria-valuenow"]=Math.round(p),j.strokeDashoffset=`${((100-p)/100*g).toFixed(3)}px`,v.transform="rotate(-90deg)"}return t.jsx(F4,{className:st(w.root,n),style:{width:d,height:d,...v,...m},ownerState:y,ref:r,role:"progressbar",...h,...x,children:t.jsxs(L4,{className:w.svg,ownerState:y,viewBox:`${br/2} ${br/2} ${br} ${br}`,children:[o?t.jsx(O4,{className:w.track,ownerState:y,cx:br,cy:br,r:(br-u)/2,fill:"none",strokeWidth:u,"aria-hidden":"true"}):null,t.jsx(M4,{className:w.circle,style:j,ownerState:y,cx:br,cy:br,r:(br-u)/2,fill:"none",strokeWidth:u})]})})});function U4(e){return gt("MuiIconButton",e)}const Mx=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),B4=e=>{const{classes:s,disabled:r,color:a,edge:n,size:i,loading:l}=e,o={root:["root",l&&"loading",r&&"disabled",a!=="default"&&`color${He(a)}`,n&&`edge${He(n)}`,`size${He(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return xt(o,U4,s)},q4=Oe(yj,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.loading&&s.loading,r.color!=="default"&&s[`color${He(r.color)}`],r.edge&&s[`edge${He(r.edge)}`],s[`size${He(r.size)}`]]}})(wt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),wt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Gs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(Gs()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Mx.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Mx.loading}`]:{color:"transparent"}}))),V4=Oe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ei=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiIconButton"}),{edge:n=!1,children:i,className:l,color:o="default",disabled:d=!1,disableFocusRipple:m=!1,size:u="medium",id:p,loading:f=null,loadingIndicator:x,...y}=a,w=lo(p),j=x??t.jsx(mi,{"aria-labelledby":w,color:"inherit",size:16}),v={...a,edge:n,color:o,disabled:d,disableFocusRipple:m,loading:f,loadingIndicator:j,size:u},h=B4(v);return t.jsxs(q4,{id:f?w:p,className:st(h.root,l),centerRipple:!0,focusRipple:!m,disabled:d||f,ref:r,...y,ownerState:v,children:[typeof f=="boolean"&&t.jsx("span",{className:h.loadingWrapper,style:{display:"contents"},children:t.jsx(V4,{className:h.loadingIndicator,ownerState:v,children:f&&j})}),i]})}),W4=Ls(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),H4=Ls(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),K4=Ls(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),G4=Ls(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Y4=Ls(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Q4=e=>{const{variant:s,color:r,severity:a,classes:n}=e,i={root:["root",`color${He(r||a)}`,`${s}${He(r||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return xt(i,T4,n)},X4=Oe(ui,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${He(r.color||r.severity)}`]]}})(wt(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Gs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${Lx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Gs(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:s(e.palette[a].light,.6),border:`1px solid ${(e.vars||e).palette[a].light}`,[`& .${Lx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter(Gs(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${a}FilledColor`],backgroundColor:e.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[a].dark:e.palette[a].main,color:e.palette.getContrastText(e.palette[a].main)}}}))]}})),J4=Oe("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Z4=Oe("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),e5=Oe("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ox={success:t.jsx(W4,{fontSize:"inherit"}),warning:t.jsx(H4,{fontSize:"inherit"}),error:t.jsx(K4,{fontSize:"inherit"}),info:t.jsx(G4,{fontSize:"inherit"})},ml=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiAlert"}),{action:n,children:i,className:l,closeText:o="Close",color:d,components:m={},componentsProps:u={},icon:p,iconMapping:f=Ox,onClose:x,role:y="alert",severity:w="success",slotProps:j={},slots:v={},variant:h="standard",...g}=a,b={...a,color:d,severity:w,variant:h,colorSeverity:d||w},_=Q4(b),P={slots:{closeButton:m.CloseButton,closeIcon:m.CloseIcon,...v},slotProps:{...u,...j}},[A,R]=_t("root",{ref:r,shouldForwardComponentProp:!0,className:st(_.root,l),elementType:X4,externalForwardedProps:{...P,...g},ownerState:b,additionalProps:{role:y,elevation:0}}),[k,L]=_t("icon",{className:_.icon,elementType:J4,externalForwardedProps:P,ownerState:b}),[$,C]=_t("message",{className:_.message,elementType:Z4,externalForwardedProps:P,ownerState:b}),[E,T]=_t("action",{className:_.action,elementType:e5,externalForwardedProps:P,ownerState:b}),[N,S]=_t("closeButton",{elementType:ei,externalForwardedProps:P,ownerState:b}),[I,D]=_t("closeIcon",{elementType:Y4,externalForwardedProps:P,ownerState:b});return t.jsxs(A,{...R,children:[p!==!1?t.jsx(k,{...L,children:p||f[w]||Ox[w]}):null,t.jsx($,{...C,children:i}),n!=null?t.jsx(E,{...T,children:n}):null,n==null&&x?t.jsx(E,{...T,children:t.jsx(N,{size:"small","aria-label":o,title:o,color:"inherit",onClick:x,...S,children:t.jsx(I,{fontSize:"small",...D})})}):null]})});function t5(e){return gt("MuiTypography",e)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const s5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},r5=JP(),a5=e=>{const{align:s,gutterBottom:r,noWrap:a,paragraph:n,variant:i,classes:l}=e,o={root:["root",i,e.align!=="inherit"&&`align${He(s)}`,r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return xt(o,t5,l)},n5=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.variant&&s[r.variant],r.align!=="inherit"&&s[`align${He(r.align)}`],r.noWrap&&s.noWrap,r.gutterBottom&&s.gutterBottom,r.paragraph&&s.paragraph]}})(wt(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,a])=>r!=="inherit"&&a&&typeof a=="object").map(([r,a])=>({props:{variant:r},style:a})),...Object.entries(e.palette).filter(Gs()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${He(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),Ux={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fs=c.forwardRef(function(s,r){const{color:a,...n}=yt({props:s,name:"MuiTypography"}),i=!s5[a],l=r5({...n,...i&&{color:a}}),{align:o="inherit",className:d,component:m,gutterBottom:u=!1,noWrap:p=!1,paragraph:f=!1,variant:x="body1",variantMapping:y=Ux,...w}=l,j={...l,align:o,color:a,className:d,component:m,gutterBottom:u,noWrap:p,paragraph:f,variant:x,variantMapping:y},v=m||(f?"p":y[x]||Ux[x])||"span",h=a5(j);return t.jsx(n5,{as:v,ref:r,className:st(h.root,d),...w,ownerState:j,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...w.style}})});function i5(e){var p;const{elementType:s,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:n=!1,...i}=e,l=n?{}:hj(r,a),{props:o,internalRef:d}=xj({...i,externalSlotProps:l}),m=Fs(d,l==null?void 0:l.ref,(p=e.additionalProps)==null?void 0:p.ref);return fj(s,{...o,ref:m},a)}function co(e){var s;return parseInt(c.version,10)>=19?((s=e==null?void 0:e.props)==null?void 0:s.ref)||null:(e==null?void 0:e.ref)||null}function l5(e){return typeof e=="function"?e():e}const o5=c.forwardRef(function(s,r){const{children:a,container:n,disablePortal:i=!1}=s,[l,o]=c.useState(null),d=Fs(c.isValidElement(a)?co(a):null,r);if(gn(()=>{i||o(l5(n)||document.body)},[n,i]),gn(()=>{if(l&&!i)return Rx(r,l),()=>{Rx(r,null)}},[r,l,i]),i){if(c.isValidElement(a)){const m={ref:d};return c.cloneElement(a,m)}return a}return l&&jf.createPortal(a,l)});function Do(e){return parseInt(e,10)||0}const c5={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function d5(e){for(const s in e)return!1;return!0}function Bx(e){return d5(e)||e.outerHeightStyle===0&&!e.overflowing}const u5=c.forwardRef(function(s,r){const{onChange:a,maxRows:n,minRows:i=1,style:l,value:o,...d}=s,{current:m}=c.useRef(o!=null),u=c.useRef(null),p=Fs(r,u),f=c.useRef(null),x=c.useRef(null),y=c.useCallback(()=>{const g=u.current,b=x.current;if(!g||!b)return;const P=ca(g).getComputedStyle(g);if(P.width==="0px")return{outerHeightStyle:0,overflowing:!1};b.style.width=P.width,b.value=g.value||s.placeholder||"x",b.value.slice(-1)===`
`&&(b.value+=" ");const A=P.boxSizing,R=Do(P.paddingBottom)+Do(P.paddingTop),k=Do(P.borderBottomWidth)+Do(P.borderTopWidth),L=b.scrollHeight;b.value="x";const $=b.scrollHeight;let C=L;i&&(C=Math.max(Number(i)*$,C)),n&&(C=Math.min(Number(n)*$,C)),C=Math.max(C,$);const E=C+(A==="border-box"?R+k:0),T=Math.abs(C-L)<=1;return{outerHeightStyle:E,overflowing:T}},[n,i,s.placeholder]),w=on(()=>{const g=u.current,b=y();if(!g||!b||Bx(b))return!1;const _=b.outerHeightStyle;return f.current!=null&&f.current!==_}),j=c.useCallback(()=>{const g=u.current,b=y();if(!g||!b||Bx(b))return;const _=b.outerHeightStyle;f.current!==_&&(f.current=_,g.style.height=`${_}px`),g.style.overflow=b.overflowing?"hidden":""},[y]),v=c.useRef(-1);gn(()=>{const g=oj(j),b=u==null?void 0:u.current;if(!b)return;const _=ca(b);_.addEventListener("resize",g);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>{w()&&(P.unobserve(b),cancelAnimationFrame(v.current),j(),v.current=requestAnimationFrame(()=>{P.observe(b)}))}),P.observe(b)),()=>{g.clear(),cancelAnimationFrame(v.current),_.removeEventListener("resize",g),P&&P.disconnect()}},[y,j,w]),gn(()=>{j()});const h=g=>{m||j();const b=g.target,_=b.value.length,P=b.value.endsWith(`
`),A=b.selectionStart===_;P&&A&&b.setSelectionRange(_,_),a&&a(g)};return t.jsxs(c.Fragment,{children:[t.jsx("textarea",{value:o,onChange:h,ref:p,rows:i,style:l,...d}),t.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:x,tabIndex:-1,style:{...c5.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function wi({props:e,states:s,muiFormControl:r}){return s.reduce((a,n)=>(a[n]=e[n],r&&typeof e[n]>"u"&&(a[n]=r[n]),a),{})}const au=c.createContext(void 0);function bn(){return c.useContext(au)}function qx(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Jc(e,s=!1){return e&&(qx(e.value)&&e.value!==""||s&&qx(e.defaultValue)&&e.defaultValue!=="")}function m5(e){return e.startAdornment}function p5(e){return gt("MuiInputBase",e)}const pi=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Vx;const nu=(e,s)=>{const{ownerState:r}=e;return[s.root,r.formControl&&s.formControl,r.startAdornment&&s.adornedStart,r.endAdornment&&s.adornedEnd,r.error&&s.error,r.size==="small"&&s.sizeSmall,r.multiline&&s.multiline,r.color&&s[`color${He(r.color)}`],r.fullWidth&&s.fullWidth,r.hiddenLabel&&s.hiddenLabel]},iu=(e,s)=>{const{ownerState:r}=e;return[s.input,r.size==="small"&&s.inputSizeSmall,r.multiline&&s.inputMultiline,r.type==="search"&&s.inputTypeSearch,r.startAdornment&&s.inputAdornedStart,r.endAdornment&&s.inputAdornedEnd,r.hiddenLabel&&s.inputHiddenLabel]},f5=e=>{const{classes:s,color:r,disabled:a,error:n,endAdornment:i,focused:l,formControl:o,fullWidth:d,hiddenLabel:m,multiline:u,readOnly:p,size:f,startAdornment:x,type:y}=e,w={root:["root",`color${He(r)}`,a&&"disabled",n&&"error",d&&"fullWidth",l&&"focused",o&&"formControl",f&&f!=="medium"&&`size${He(f)}`,u&&"multiline",x&&"adornedStart",i&&"adornedEnd",m&&"hiddenLabel",p&&"readOnly"],input:["input",a&&"disabled",y==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",x&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return xt(w,p5,s)},lu=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nu})(wt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${pi.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),ou=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iu})(wt(({theme:e})=>{const s=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},a={opacity:"0 !important"},n=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${pi.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":n,"&:focus::-moz-placeholder":n,"&:focus::-ms-input-placeholder":n},[`&.${pi.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Wx=XP({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),rh=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:l,className:o,color:d,components:m={},componentsProps:u={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:x,endAdornment:y,error:w,fullWidth:j=!1,id:v,inputComponent:h="input",inputProps:g={},inputRef:b,margin:_,maxRows:P,minRows:A,multiline:R=!1,name:k,onBlur:L,onChange:$,onClick:C,onFocus:E,onKeyDown:T,onKeyUp:N,placeholder:S,readOnly:I,renderSuffix:D,rows:q,size:X,slotProps:ne={},slots:H={},startAdornment:F,type:U="text",value:Y,...Z}=a,z=g.value!=null?g.value:Y,{current:O}=c.useRef(z!=null),M=c.useRef(),re=c.useCallback(Ae=>{},[]),J=Fs(M,b,g.ref,re),[te,K]=c.useState(!1),ie=bn(),V=wi({props:a,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});V.focused=ie?ie.focused:te,c.useEffect(()=>{!ie&&f&&te&&(K(!1),L&&L())},[ie,f,te,L]);const ae=ie&&ie.onFilled,ce=ie&&ie.onEmpty,B=c.useCallback(Ae=>{Jc(Ae)?ae&&ae():ce&&ce()},[ae,ce]);gn(()=>{O&&B({value:z})},[z,B,O]);const pe=Ae=>{E&&E(Ae),g.onFocus&&g.onFocus(Ae),ie&&ie.onFocus?ie.onFocus(Ae):K(!0)},W=Ae=>{L&&L(Ae),g.onBlur&&g.onBlur(Ae),ie&&ie.onBlur?ie.onBlur(Ae):K(!1)},ge=(Ae,...Pe)=>{if(!O){const Ne=Ae.target||M.current;if(Ne==null)throw new Error(la(1));B({value:Ne.value})}g.onChange&&g.onChange(Ae,...Pe),$&&$(Ae,...Pe)};c.useEffect(()=>{B(M.current)},[]);const G=Ae=>{M.current&&Ae.currentTarget===Ae.target&&M.current.focus(),C&&C(Ae)};let ue=h,fe=g;R&&ue==="input"&&(q?fe={type:void 0,minRows:q,maxRows:q,...fe}:fe={type:void 0,maxRows:P,minRows:A,...fe},ue=u5);const se=Ae=>{B(Ae.animationName==="mui-auto-fill-cancel"?M.current:{value:"x"})};c.useEffect(()=>{ie&&ie.setAdornedStart(!!F)},[ie,F]);const he={...a,color:V.color||"primary",disabled:V.disabled,endAdornment:y,error:V.error,focused:V.focused,formControl:ie,fullWidth:j,hiddenLabel:V.hiddenLabel,multiline:R,size:V.size,startAdornment:F,type:U},be=f5(he),_e=H.root||m.Root||lu,De=ne.root||u.root||{},Ee=H.input||m.Input||ou;return fe={...fe,...ne.input??u.input},t.jsxs(c.Fragment,{children:[!x&&typeof Wx=="function"&&(Vx||(Vx=t.jsx(Wx,{}))),t.jsxs(_e,{...De,ref:r,onClick:G,...Z,...!Yc(_e)&&{ownerState:{...he,...De.ownerState}},className:st(be.root,De.className,o,I&&"MuiInputBase-readOnly"),children:[F,t.jsx(au.Provider,{value:null,children:t.jsx(Ee,{"aria-invalid":V.error,"aria-describedby":n,autoComplete:i,autoFocus:l,defaultValue:p,disabled:V.disabled,id:v,onAnimationStart:se,name:k,placeholder:S,readOnly:I,required:V.required,rows:q,value:z,onKeyDown:T,onKeyUp:N,type:U,...fe,...!Yc(Ee)&&{as:ue,ownerState:{...he,...fe.ownerState}},ref:J,className:st(be.input,fe.className,I&&"MuiInputBase-readOnly"),onBlur:W,onChange:ge,onFocus:pe})}),y,D?D({...V,startAdornment:F}):null]})]})});function h5(e){return gt("MuiInput",e)}const Mi={...pi,...mt("MuiInput",["root","underline","input"])};function g5(e){return gt("MuiOutlinedInput",e)}const Rr={...pi,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function x5(e){return gt("MuiFilledInput",e)}const Wa={...pi,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},y5=Ls(t.jsx("path",{d:"M7 10l5 5 5-5z"})),b5={entering:{opacity:1},entered:{opacity:1}},bp=c.forwardRef(function(s,r){const a=oo(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:i,appear:l=!0,children:o,easing:d,in:m,onEnter:u,onEntered:p,onEntering:f,onExit:x,onExited:y,onExiting:w,style:j,timeout:v=n,TransitionComponent:h=Wr,...g}=s,b=c.useRef(null),_=Fs(b,co(o),r),P=T=>N=>{if(T){const S=b.current;N===void 0?T(S):T(S,N)}},A=P(f),R=P((T,N)=>{pj(T);const S=Gc({style:j,timeout:v,easing:d},{mode:"enter"});T.style.webkitTransition=a.transitions.create("opacity",S),T.style.transition=a.transitions.create("opacity",S),u&&u(T,N)}),k=P(p),L=P(w),$=P(T=>{const N=Gc({style:j,timeout:v,easing:d},{mode:"exit"});T.style.webkitTransition=a.transitions.create("opacity",N),T.style.transition=a.transitions.create("opacity",N),x&&x(T)}),C=P(y),E=T=>{i&&i(b.current,T)};return t.jsx(h,{appear:l,in:m,nodeRef:b,onEnter:R,onEntered:k,onEntering:A,onExit:$,onExited:C,onExiting:L,addEndListener:E,timeout:v,...g,children:(T,{ownerState:N,...S})=>c.cloneElement(o,{style:{opacity:0,visibility:T==="exited"&&!m?"hidden":void 0,...b5[T],...j,...o.props.style},ref:_,...S})})});function v5(e){return gt("MuiBackdrop",e)}mt("MuiBackdrop",["root","invisible"]);const j5=e=>{const{classes:s,invisible:r}=e;return xt({root:["root",r&&"invisible"]},v5,s)},N5=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),bj=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiBackdrop"}),{children:n,className:i,component:l="div",invisible:o=!1,open:d,components:m={},componentsProps:u={},slotProps:p={},slots:f={},TransitionComponent:x,transitionDuration:y,...w}=a,j={...a,component:l,invisible:o},v=j5(j),h={transition:x,root:m.Root,...f},g={...u,...p},b={component:l,slots:h,slotProps:g},[_,P]=_t("root",{elementType:N5,externalForwardedProps:b,className:st(v.root,i),ownerState:j}),[A,R]=_t("transition",{elementType:bp,externalForwardedProps:b,ownerState:j});return t.jsx(A,{in:d,timeout:y,...w,...R,children:t.jsx(_,{"aria-hidden":!0,...P,classes:v,ref:r,children:n})})}),w5=mt("MuiBox",["root"]),C5=ij(),Gr=Vk({themeId:Cd,defaultTheme:C5,defaultClassName:w5.root,generateClassName:Yv.generate});function S5(e){return gt("MuiButton",e)}const Ha=mt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),_5=c.createContext({}),k5=c.createContext(void 0),P5=e=>{const{color:s,disableElevation:r,fullWidth:a,size:n,variant:i,loading:l,loadingPosition:o,classes:d}=e,m={root:["root",l&&"loading",i,`${i}${He(s)}`,`size${He(n)}`,`${i}Size${He(n)}`,`color${He(s)}`,r&&"disableElevation",a&&"fullWidth",l&&`loadingPosition${He(o)}`],startIcon:["icon","startIcon",`iconSize${He(n)}`],endIcon:["icon","endIcon",`iconSize${He(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=xt(m,S5,d);return{...d,...u}},vj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],A5=Oe(yj,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${He(r.color)}`],s[`size${He(r.size)}`],s[`${r.variant}Size${He(r.size)}`],r.color==="inherit"&&s.colorInherit,r.disableElevation&&s.disableElevation,r.fullWidth&&s.fullWidth,r.loading&&s.loading]}})(wt(({theme:e})=>{const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ha.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Ha.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Ha.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ha.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Gs()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(e.vars||e).palette[a].main,"--variant-outlinedColor":(e.vars||e).palette[a].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[a].main,.5),"--variant-containedColor":(e.vars||e).palette[a].contrastText,"--variant-containedBg":(e.vars||e).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[a].dark,"--variant-textBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[a].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ha.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ha.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Ha.loading}`]:{color:"transparent"}}}]}})),E5=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.startIcon,r.loading&&s.startIconLoadingStart,s[`iconSize${He(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...vj]})),z5=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.endIcon,r.loading&&s.endIconLoadingEnd,s[`iconSize${He(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...vj]})),T5=Oe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Hx=Oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Kx=c.forwardRef(function(s,r){const a=c.useContext(_5),n=c.useContext(k5),i=Hc(a,s),l=yt({props:i,name:"MuiButton"}),{children:o,color:d="primary",component:m="button",className:u,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:x=!1,endIcon:y,focusVisibleClassName:w,fullWidth:j=!1,id:v,loading:h=null,loadingIndicator:g,loadingPosition:b="center",size:_="medium",startIcon:P,type:A,variant:R="text",...k}=l,L=lo(v),$=g??t.jsx(mi,{"aria-labelledby":L,color:"inherit",size:16}),C={...l,color:d,component:m,disabled:p,disableElevation:f,disableFocusRipple:x,fullWidth:j,loading:h,loadingIndicator:$,loadingPosition:b,size:_,type:A,variant:R},E=P5(C),T=(P||h&&b==="start")&&t.jsx(E5,{className:E.startIcon,ownerState:C,children:P||t.jsx(Hx,{className:E.loadingIconPlaceholder,ownerState:C})}),N=(y||h&&b==="end")&&t.jsx(z5,{className:E.endIcon,ownerState:C,children:y||t.jsx(Hx,{className:E.loadingIconPlaceholder,ownerState:C})}),S=n||"",I=typeof h=="boolean"?t.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:h&&t.jsx(T5,{className:E.loadingIndicator,ownerState:C,children:$})}):null;return t.jsxs(A5,{ownerState:C,className:st(a.className,E.root,u,S),component:m,disabled:p||h,focusRipple:!x,focusVisibleClassName:st(E.focusVisible,w),ref:r,type:A,id:h?L:v,...k,classes:E,children:[T,b!=="end"&&I,o,b==="end"&&I,N]})});function jj(e=window){const s=e.document.documentElement.clientWidth;return e.innerWidth-s}function R5(e){const s=_r(e);return s.body===e?ca(e).innerWidth>s.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pl(e,s){s?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Gx(e){return parseInt(ca(e).getComputedStyle(e).paddingRight,10)||0}function D5(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),a=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||a}function Yx(e,s,r,a,n){const i=[s,r,...a];[].forEach.call(e.children,l=>{const o=!i.includes(l),d=!D5(l);o&&d&&pl(l,n)})}function Yu(e,s){let r=-1;return e.some((a,n)=>s(a)?(r=n,!0):!1),r}function $5(e,s){const r=[],a=e.container;if(!s.disableScrollLock){if(R5(a)){const l=jj(ca(a));r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${Gx(a)+l}px`;const o=_r(a).querySelectorAll(".mui-fixed");[].forEach.call(o,d=>{r.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Gx(d)+l}px`})}let i;if(a.parentNode instanceof DocumentFragment)i=_r(a).body;else{const l=a.parentElement,o=ca(a);i=(l==null?void 0:l.nodeName)==="HTML"&&o.getComputedStyle(l).overflowY==="scroll"?l:a}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:l,property:o})=>{i?l.style.setProperty(o,i):l.style.removeProperty(o)})}}function I5(e){const s=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&s.push(r)}),s}class F5{constructor(){this.modals=[],this.containers=[]}add(s,r){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&pl(s.modalRef,!1);const n=I5(r);Yx(r,s.mount,s.modalRef,n,!0);const i=Yu(this.containers,l=>l.container===r);return i!==-1?(this.containers[i].modals.push(s),a):(this.containers.push({modals:[s],container:r,restore:null,hiddenSiblings:n}),a)}mount(s,r){const a=Yu(this.containers,i=>i.modals.includes(s)),n=this.containers[a];n.restore||(n.restore=$5(n,r))}remove(s,r=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const n=Yu(this.containers,l=>l.modals.includes(s)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(a,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&pl(s.modalRef,r),Yx(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{const l=i.modals[i.modals.length-1];l.modalRef&&pl(l.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function el(e){var r;let s=e.activeElement;for(;((r=s==null?void 0:s.shadowRoot)==null?void 0:r.activeElement)!=null;)s=s.shadowRoot.activeElement;return s}const L5=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function M5(e){const s=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(s)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:s}function O5(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const s=a=>e.ownerDocument.querySelector(`input[type="radio"]${a}`);let r=s(`[name="${e.name}"]:checked`);return r||(r=s(`[name="${e.name}"]`)),r!==e}function U5(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||O5(e))}function B5(e){const s=[],r=[];return Array.from(e.querySelectorAll(L5)).forEach((a,n)=>{const i=M5(a);i===-1||!U5(a)||(i===0?s.push(a):r.push({documentOrder:n,tabIndex:i,node:a}))}),r.sort((a,n)=>a.tabIndex===n.tabIndex?a.documentOrder-n.documentOrder:a.tabIndex-n.tabIndex).map(a=>a.node).concat(s)}function q5(){return!0}function V5(e){const{children:s,disableAutoFocus:r=!1,disableEnforceFocus:a=!1,disableRestoreFocus:n=!1,getTabbable:i=B5,isEnabled:l=q5,open:o}=e,d=c.useRef(!1),m=c.useRef(null),u=c.useRef(null),p=c.useRef(null),f=c.useRef(null),x=c.useRef(!1),y=c.useRef(null),w=Fs(co(s),y),j=c.useRef(null);c.useEffect(()=>{!o||!y.current||(x.current=!r)},[r,o]),c.useEffect(()=>{if(!o||!y.current)return;const g=_r(y.current),b=el(g);return y.current.contains(b)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),x.current&&y.current.focus()),()=>{n||(p.current&&p.current.focus&&(d.current=!0,p.current.focus()),p.current=null)}},[o]),c.useEffect(()=>{if(!o||!y.current)return;const g=_r(y.current),b=el(g),_=R=>{j.current=R,!(a||!l()||R.key!=="Tab")&&b===y.current&&R.shiftKey&&(d.current=!0,u.current&&u.current.focus())},P=()=>{var $,C;const R=y.current;if(R===null)return;const k=el(g);if(!g.hasFocus()||!l()||d.current){d.current=!1;return}if(R.contains(k)||a&&k!==m.current&&k!==u.current)return;if(k!==f.current)f.current=null;else if(f.current!==null)return;if(!x.current)return;let L=[];if((k===m.current||k===u.current)&&(L=i(y.current)),L.length>0){const E=!!(($=j.current)!=null&&$.shiftKey&&((C=j.current)==null?void 0:C.key)==="Tab"),T=L[0],N=L[L.length-1];typeof T!="string"&&typeof N!="string"&&(E?N.focus():T.focus())}else R.focus()};g.addEventListener("focusin",P),g.addEventListener("keydown",_,!0);const A=setInterval(()=>{const R=el(g);R&&R.tagName==="BODY"&&P()},50);return()=>{clearInterval(A),g.removeEventListener("focusin",P),g.removeEventListener("keydown",_,!0)}},[r,a,n,l,o,i]);const v=g=>{p.current===null&&(p.current=g.relatedTarget),x.current=!0,f.current=g.target;const b=s.props.onFocus;b&&b(g)},h=g=>{p.current===null&&(p.current=g.relatedTarget),x.current=!0};return t.jsxs(c.Fragment,{children:[t.jsx("div",{tabIndex:o?0:-1,onFocus:h,ref:m,"data-testid":"sentinelStart"}),c.cloneElement(s,{ref:w,onFocus:v}),t.jsx("div",{tabIndex:o?0:-1,onFocus:h,ref:u,"data-testid":"sentinelEnd"})]})}function W5(e){return typeof e=="function"?e():e}function H5(e){return e?e.props.hasOwnProperty("in"):!1}const Qx=()=>{},$o=new F5;function K5(e){const{container:s,disableEscapeKeyDown:r=!1,disableScrollLock:a=!1,closeAfterTransition:n=!1,onTransitionEnter:i,onTransitionExited:l,children:o,onClose:d,open:m,rootRef:u}=e,p=c.useRef({}),f=c.useRef(null),x=c.useRef(null),y=Fs(x,u),[w,j]=c.useState(!m),v=H5(o);let h=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(h=!1);const g=()=>_r(f.current),b=()=>(p.current.modalRef=x.current,p.current.mount=f.current,p.current),_=()=>{$o.mount(b(),{disableScrollLock:a}),x.current&&(x.current.scrollTop=0)},P=on(()=>{const N=W5(s)||g().body;$o.add(b(),N),x.current&&_()}),A=()=>$o.isTopModal(b()),R=on(N=>{f.current=N,N&&(m&&A()?_():x.current&&pl(x.current,h))}),k=c.useCallback(()=>{$o.remove(b(),h)},[h]);c.useEffect(()=>()=>{k()},[k]),c.useEffect(()=>{m?P():(!v||!n)&&k()},[m,k,v,n,P]);const L=N=>S=>{var I;(I=N.onKeyDown)==null||I.call(N,S),!(S.key!=="Escape"||S.which===229||!A())&&(r||(S.stopPropagation(),d&&d(S,"escapeKeyDown")))},$=N=>S=>{var I;(I=N.onClick)==null||I.call(N,S),S.target===S.currentTarget&&d&&d(S,"backdropClick")};return{getRootProps:(N={})=>{const S=gj(e);delete S.onTransitionEnter,delete S.onTransitionExited;const I={...S,...N};return{role:"presentation",...I,onKeyDown:L(I),ref:y}},getBackdropProps:(N={})=>{const S=N;return{"aria-hidden":!0,...S,onClick:$(S),open:m}},getTransitionProps:()=>{const N=()=>{j(!1),i&&i()},S=()=>{j(!0),l&&l(),n&&k()};return{onEnter:Tx(N,(o==null?void 0:o.props.onEnter)??Qx),onExited:Tx(S,(o==null?void 0:o.props.onExited)??Qx)}},rootRef:y,portalRef:R,isTopModal:A,exited:w,hasTransition:v}}function G5(e){return gt("MuiModal",e)}mt("MuiModal",["root","hidden","backdrop"]);const Y5=e=>{const{open:s,exited:r,classes:a}=e;return xt({root:["root",!s&&r&&"hidden"],backdrop:["backdrop"]},G5,a)},Q5=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.open&&r.exited&&s.hidden]}})(wt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),X5=Oe(bj,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Nj=c.forwardRef(function(s,r){const a=yt({name:"MuiModal",props:s}),{BackdropComponent:n=X5,BackdropProps:i,classes:l,className:o,closeAfterTransition:d=!1,children:m,container:u,component:p,components:f={},componentsProps:x={},disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:j=!1,disablePortal:v=!1,disableRestoreFocus:h=!1,disableScrollLock:g=!1,hideBackdrop:b=!1,keepMounted:_=!1,onClose:P,onTransitionEnter:A,onTransitionExited:R,open:k,slotProps:L={},slots:$={},theme:C,...E}=a,T={...a,closeAfterTransition:d,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:j,disablePortal:v,disableRestoreFocus:h,disableScrollLock:g,hideBackdrop:b,keepMounted:_},{getRootProps:N,getBackdropProps:S,getTransitionProps:I,portalRef:D,isTopModal:q,exited:X,hasTransition:ne}=K5({...T,rootRef:r}),H={...T,exited:X},F=Y5(H),U={};if(m.props.tabIndex===void 0&&(U.tabIndex="-1"),ne){const{onEnter:re,onExited:J}=I();U.onEnter=re,U.onExited=J}const Y={slots:{root:f.Root,backdrop:f.Backdrop,...$},slotProps:{...x,...L}},[Z,z]=_t("root",{ref:r,elementType:Q5,externalForwardedProps:{...Y,...E,component:p},getSlotProps:N,ownerState:H,className:st(o,F==null?void 0:F.root,!H.open&&H.exited&&(F==null?void 0:F.hidden))}),[O,M]=_t("backdrop",{ref:i==null?void 0:i.ref,elementType:n,externalForwardedProps:Y,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:re=>S({...re,onClick:J=>{re!=null&&re.onClick&&re.onClick(J)}}),className:st(i==null?void 0:i.className,F==null?void 0:F.backdrop),ownerState:H});return!_&&!k&&(!ne||X)?null:t.jsx(o5,{ref:D,container:u,disablePortal:v,children:t.jsxs(Z,{...z,children:[!b&&n?t.jsx(O,{...M}):null,t.jsx(V5,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:h,isEnabled:q,open:k,children:c.cloneElement(m,U)})]})})});function J5(e){return gt("MuiDialog",e)}const Qu=mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wj=c.createContext({}),Z5=Oe(bj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,s)=>s.backdrop})({zIndex:-1}),eA=e=>{const{classes:s,scroll:r,maxWidth:a,fullWidth:n,fullScreen:i}=e,l={root:["root"],container:["container",`scroll${He(r)}`],paper:["paper",`paperScroll${He(r)}`,`paperWidth${He(String(a))}`,n&&"paperFullWidth",i&&"paperFullScreen"]};return xt(l,J5,s)},tA=Oe(Nj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),sA=Oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.container,s[`scroll${He(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),rA=Oe(ui,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.paper,s[`scrollPaper${He(r.scroll)}`],s[`paperWidth${He(String(r.maxWidth))}`],r.fullWidth&&s.paperFullWidth,r.fullScreen&&s.paperFullScreen]}})(wt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Qu.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${e.breakpoints.values[s]}${e.breakpoints.unit}`,[`&.${Qu.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Qu.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),aA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiDialog"}),n=oo(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":o,"aria-modal":d=!0,BackdropComponent:m,BackdropProps:u,children:p,className:f,disableEscapeKeyDown:x=!1,fullScreen:y=!1,fullWidth:w=!1,maxWidth:j="sm",onClick:v,onClose:h,open:g,PaperComponent:b=ui,PaperProps:_={},scroll:P="paper",slots:A={},slotProps:R={},TransitionComponent:k=bp,transitionDuration:L=i,TransitionProps:$,...C}=a,E={...a,disableEscapeKeyDown:x,fullScreen:y,fullWidth:w,maxWidth:j,scroll:P},T=eA(E),N=c.useRef(),S=K=>{N.current=K.target===K.currentTarget},I=K=>{v&&v(K),N.current&&(N.current=null,h&&h(K,"backdropClick"))},D=lo(o),q=c.useMemo(()=>({titleId:D}),[D]),X={transition:k,...A},ne={transition:$,paper:_,backdrop:u,...R},H={slots:X,slotProps:ne},[F,U]=_t("root",{elementType:tA,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:E,className:st(T.root,f),ref:r}),[Y,Z]=_t("backdrop",{elementType:Z5,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:E}),[z,O]=_t("paper",{elementType:rA,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:E,className:st(T.paper,_.className)}),[M,re]=_t("container",{elementType:sA,externalForwardedProps:H,ownerState:E,className:T.container}),[J,te]=_t("transition",{elementType:bp,externalForwardedProps:H,ownerState:E,additionalProps:{appear:!0,in:g,timeout:L,role:"presentation"}});return t.jsx(F,{closeAfterTransition:!0,slots:{backdrop:Y},slotProps:{backdrop:{transitionDuration:L,as:m,...Z}},disableEscapeKeyDown:x,onClose:h,open:g,onClick:I,...U,...C,children:t.jsx(J,{...te,children:t.jsx(M,{onMouseDown:S,...re,children:t.jsx(z,{as:b,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":D,"aria-modal":d,...O,children:t.jsx(wj.Provider,{value:q,children:p})})})})})});function nA(e){return gt("MuiDialogActions",e)}mt("MuiDialogActions",["root","spacing"]);const iA=e=>{const{classes:s,disableSpacing:r}=e;return xt({root:["root",!r&&"spacing"]},nA,s)},lA=Oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),oA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:i=!1,...l}=a,o={...a,disableSpacing:i},d=iA(o);return t.jsx(lA,{className:st(d.root,n),ownerState:o,ref:r,...l})});function cA(e){return gt("MuiDialogContent",e)}mt("MuiDialogContent",["root","dividers"]);function dA(e){return gt("MuiDialogTitle",e)}const uA=mt("MuiDialogTitle",["root"]),mA=e=>{const{classes:s,dividers:r}=e;return xt({root:["root",r&&"dividers"]},cA,s)},pA=Oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.dividers&&s.dividers]}})(wt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${uA.root} + &`]:{paddingTop:0}}}]}))),fA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiDialogContent"}),{className:n,dividers:i=!1,...l}=a,o={...a,dividers:i},d=mA(o);return t.jsx(pA,{className:st(d.root,n),ownerState:o,ref:r,...l})}),hA=e=>{const{classes:s}=e;return xt({root:["root"]},dA,s)},gA=Oe(fs,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),xA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiDialogTitle"}),{className:n,id:i,...l}=a,o=a,d=hA(o),{titleId:m=i}=c.useContext(wj);return t.jsx(gA,{component:"h2",className:st(d.root,n),ownerState:o,ref:r,variant:"h6",id:i??m,...l})}),yA=e=>{const{classes:s,disableUnderline:r,startAdornment:a,endAdornment:n,size:i,hiddenLabel:l,multiline:o}=e,d={root:["root",!r&&"underline",a&&"adornedStart",n&&"adornedEnd",i==="small"&&`size${He(i)}`,l&&"hiddenLabel",o&&"multiline"],input:["input"]},m=xt(d,x5,s);return{...s,...m}},bA=Oe(lu,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...nu(e,s),!r.disableUnderline&&s.underline]}})(wt(({theme:e})=>{const s=e.palette.mode==="light",r=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Wa.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Wa.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wa.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wa.disabled}, .${Wa.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Wa.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Gs()).map(([l])=>{var o;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(o=(e.vars||e).palette[l])==null?void 0:o.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:o})=>l.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),vA=Oe(ou,{name:"MuiFilledInput",slot:"Input",overridesResolver:iu})(wt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),ah=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:l,fullWidth:o=!1,hiddenLabel:d,inputComponent:m="input",multiline:u=!1,slotProps:p,slots:f={},type:x="text",...y}=a,w={...a,disableUnderline:n,fullWidth:o,inputComponent:m,multiline:u,type:x},j=yA(a),v={root:{ownerState:w},input:{ownerState:w}},h=p??l?xs(v,p??l):v,g=f.root??i.Root??bA,b=f.input??i.Input??vA;return t.jsx(rh,{slots:{root:g,input:b},slotProps:h,fullWidth:o,inputComponent:m,multiline:u,ref:r,type:x,...y,classes:j})});ah.muiName="Input";function jA(e){return gt("MuiFormControl",e)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const NA=e=>{const{classes:s,margin:r,fullWidth:a}=e,n={root:["root",r!=="none"&&`margin${He(r)}`,a&&"fullWidth"]};return xt(n,jA,s)},wA=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`margin${He(r.margin)}`],r.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),CA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiFormControl"}),{children:n,className:i,color:l="primary",component:o="div",disabled:d=!1,error:m=!1,focused:u,fullWidth:p=!1,hiddenLabel:f=!1,margin:x="none",required:y=!1,size:w="medium",variant:j="outlined",...v}=a,h={...a,color:l,component:o,disabled:d,error:m,fullWidth:p,hiddenLabel:f,margin:x,required:y,size:w,variant:j},g=NA(h),[b,_]=c.useState(()=>{let N=!1;return n&&c.Children.forEach(n,S=>{if(!Ku(S,["Input","Select"]))return;const I=Ku(S,["Select"])?S.props.input:S;I&&m5(I.props)&&(N=!0)}),N}),[P,A]=c.useState(()=>{let N=!1;return n&&c.Children.forEach(n,S=>{Ku(S,["Input","Select"])&&(Jc(S.props,!0)||Jc(S.props.inputProps,!0))&&(N=!0)}),N}),[R,k]=c.useState(!1);d&&R&&k(!1);const L=u!==void 0&&!d?u:R;let $;c.useRef(!1);const C=c.useCallback(()=>{A(!0)},[]),E=c.useCallback(()=>{A(!1)},[]),T=c.useMemo(()=>({adornedStart:b,setAdornedStart:_,color:l,disabled:d,error:m,filled:P,focused:L,fullWidth:p,hiddenLabel:f,size:w,onBlur:()=>{k(!1)},onFocus:()=>{k(!0)},onEmpty:E,onFilled:C,registerEffect:$,required:y,variant:j}),[b,l,d,m,P,L,p,f,$,E,C,y,w,j]);return t.jsx(au.Provider,{value:T,children:t.jsx(wA,{as:o,ownerState:h,className:st(g.root,i),ref:r,...v,children:n})})});function SA(e){return gt("MuiFormHelperText",e)}const Xx=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Jx;const _A=e=>{const{classes:s,contained:r,size:a,disabled:n,error:i,filled:l,focused:o,required:d}=e,m={root:["root",n&&"disabled",i&&"error",a&&`size${He(a)}`,r&&"contained",o&&"focused",l&&"filled",d&&"required"]};return xt(m,SA,s)},kA=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s[`size${He(r.size)}`],r.contained&&s.contained,r.filled&&s.filled]}})(wt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Xx.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Xx.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),PA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiFormHelperText"}),{children:n,className:i,component:l="p",disabled:o,error:d,filled:m,focused:u,margin:p,required:f,variant:x,...y}=a,w=bn(),j=wi({props:a,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),v={...a,component:l,contained:j.variant==="filled"||j.variant==="outlined",variant:j.variant,size:j.size,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required};delete v.ownerState;const h=_A(v);return t.jsx(kA,{as:l,className:st(h.root,i),ref:r,...y,ownerState:v,children:n===" "?Jx||(Jx=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):n})});function AA(e){return gt("MuiFormLabel",e)}const fl=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),EA=e=>{const{classes:s,color:r,focused:a,disabled:n,error:i,filled:l,required:o}=e,d={root:["root",`color${He(r)}`,n&&"disabled",i&&"error",l&&"filled",a&&"focused",o&&"required"],asterisk:["asterisk",i&&"error"]};return xt(d,AA,s)},zA=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color==="secondary"&&s.colorSecondary,r.filled&&s.filled]}})(wt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Gs()).map(([s])=>({props:{color:s},style:{[`&.${fl.focused}`]:{color:(e.vars||e).palette[s].main}}})),{props:{},style:{[`&.${fl.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fl.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),TA=Oe("span",{name:"MuiFormLabel",slot:"Asterisk"})(wt(({theme:e})=>({[`&.${fl.error}`]:{color:(e.vars||e).palette.error.main}}))),RA=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiFormLabel"}),{children:n,className:i,color:l,component:o="label",disabled:d,error:m,filled:u,focused:p,required:f,...x}=a,y=bn(),w=wi({props:a,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),j={...a,color:w.color||"primary",component:o,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},v=EA(j);return t.jsxs(zA,{as:o,ownerState:j,className:st(v.root,i),ref:r,...x,children:[n,w.required&&t.jsxs(TA,{ownerState:j,"aria-hidden":!0,className:v.asterisk,children:["","*"]})]})});function vp(e){return`scale(${e}, ${e**2})`}const DA={entering:{opacity:1,transform:vp(1)},entered:{opacity:1,transform:"none"}},Xu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),jp=c.forwardRef(function(s,r){const{addEndListener:a,appear:n=!0,children:i,easing:l,in:o,onEnter:d,onEntered:m,onEntering:u,onExit:p,onExited:f,onExiting:x,style:y,timeout:w="auto",TransitionComponent:j=Wr,...v}=s,h=mj(),g=c.useRef(),b=oo(),_=c.useRef(null),P=Fs(_,co(i),r),A=N=>S=>{if(N){const I=_.current;S===void 0?N(I):N(I,S)}},R=A(u),k=A((N,S)=>{pj(N);const{duration:I,delay:D,easing:q}=Gc({style:y,timeout:w,easing:l},{mode:"enter"});let X;w==="auto"?(X=b.transitions.getAutoHeightDuration(N.clientHeight),g.current=X):X=I,N.style.transition=[b.transitions.create("opacity",{duration:X,delay:D}),b.transitions.create("transform",{duration:Xu?X:X*.666,delay:D,easing:q})].join(","),d&&d(N,S)}),L=A(m),$=A(x),C=A(N=>{const{duration:S,delay:I,easing:D}=Gc({style:y,timeout:w,easing:l},{mode:"exit"});let q;w==="auto"?(q=b.transitions.getAutoHeightDuration(N.clientHeight),g.current=q):q=S,N.style.transition=[b.transitions.create("opacity",{duration:q,delay:I}),b.transitions.create("transform",{duration:Xu?q:q*.666,delay:Xu?I:I||q*.333,easing:D})].join(","),N.style.opacity=0,N.style.transform=vp(.75),p&&p(N)}),E=A(f),T=N=>{w==="auto"&&h.start(g.current||0,N),a&&a(_.current,N)};return t.jsx(j,{appear:n,in:o,nodeRef:_,onEnter:k,onEntered:L,onEntering:R,onExit:C,onExited:E,onExiting:$,addEndListener:T,timeout:w==="auto"?null:w,...v,children:(N,{ownerState:S,...I})=>c.cloneElement(i,{style:{opacity:0,transform:vp(.75),visibility:N==="exited"&&!o?"hidden":void 0,...DA[N],...y,...i.props.style},ref:P,...I})})});jp&&(jp.muiSupportAuto=!0);const $A=e=>{const{classes:s,disableUnderline:r}=e,n=xt({root:["root",!r&&"underline"],input:["input"]},h5,s);return{...s,...n}},IA=Oe(lu,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...nu(e,s),!r.disableUnderline&&s.underline]}})(wt(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mi.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mi.disabled}, .${Mi.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Mi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Gs()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[a].main}`}}}))]}})),FA=Oe(ou,{name:"MuiInput",slot:"Input",overridesResolver:iu})({}),nh=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:l,fullWidth:o=!1,inputComponent:d="input",multiline:m=!1,slotProps:u,slots:p={},type:f="text",...x}=a,y=$A(a),j={root:{ownerState:{disableUnderline:n}}},v=u??l?xs(u??l,j):j,h=p.root??i.Root??IA,g=p.input??i.Input??FA;return t.jsx(rh,{slots:{root:h,input:g},slotProps:v,fullWidth:o,inputComponent:d,multiline:m,ref:r,type:f,...x,classes:y})});nh.muiName="Input";function LA(e){return gt("MuiInputAdornment",e)}const Zx=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var e0;const MA=(e,s)=>{const{ownerState:r}=e;return[s.root,s[`position${He(r.position)}`],r.disablePointerEvents===!0&&s.disablePointerEvents,s[r.variant]]},OA=e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:a,position:n,size:i,variant:l}=e,o={root:["root",r&&"disablePointerEvents",n&&`position${He(n)}`,l,a&&"hiddenLabel",i&&`size${He(i)}`]};return xt(o,LA,s)},UA=Oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:MA})(wt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Zx.positionStart}&:not(.${Zx.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),t0=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiInputAdornment"}),{children:n,className:i,component:l="div",disablePointerEvents:o=!1,disableTypography:d=!1,position:m,variant:u,...p}=a,f=bn()||{};let x=u;u&&f.variant,f&&!x&&(x=f.variant);const y={...a,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:o,position:m,variant:x},w=OA(y);return t.jsx(au.Provider,{value:null,children:t.jsx(UA,{as:l,ownerState:y,className:st(w.root,i),ref:r,...p,children:typeof n=="string"&&!d?t.jsx(fs,{color:"textSecondary",children:n}):t.jsxs(c.Fragment,{children:[m==="start"?e0||(e0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,n]})})})});function BA(e){return gt("MuiInputLabel",e)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const qA=e=>{const{classes:s,formControl:r,size:a,shrink:n,disableAnimation:i,variant:l,required:o}=e,d={root:["root",r&&"formControl",!i&&"animated",n&&"shrink",a&&a!=="medium"&&`size${He(a)}`,l],asterisk:[o&&"asterisk"]},m=xt(d,BA,s);return{...s,...m}},VA=Oe(RA,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${fl.asterisk}`]:s.asterisk},s.root,r.formControl&&s.formControl,r.size==="small"&&s.sizeSmall,r.shrink&&s.shrink,!r.disableAnimation&&s.animated,r.focused&&s.focused,s[r.variant]]}})(wt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:r,size:a})=>s==="filled"&&r.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),WA=c.forwardRef(function(s,r){const a=yt({name:"MuiInputLabel",props:s}),{disableAnimation:n=!1,margin:i,shrink:l,variant:o,className:d,...m}=a,u=bn();let p=l;typeof p>"u"&&u&&(p=u.filled||u.focused||u.adornedStart);const f=wi({props:a,muiFormControl:u,states:["size","variant","required","focused"]}),x={...a,disableAnimation:n,formControl:u,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused},y=qA(x);return t.jsx(VA,{"data-shrink":p,ref:r,className:st(y.root,d),...m,ownerState:x,classes:y})});function HA(e){return gt("MuiLink",e)}const KA=mt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),GA=({theme:e,ownerState:s})=>{const r=s.color;if("colorSpace"in e&&e.colorSpace){const i=Lr(e,`palette.${r}.main`)||Lr(e,`palette.${r}`)||s.color;return e.alpha(i,.4)}const a=Lr(e,`palette.${r}.main`,!1)||Lr(e,`palette.${r}`,!1)||s.color,n=Lr(e,`palette.${r}.mainChannel`)||Lr(e,`palette.${r}Channel`);return"vars"in e&&n?`rgba(${n} / 0.4)`:Vl(a,.4)},s0={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},YA=e=>{const{classes:s,component:r,focusVisible:a,underline:n}=e,i={root:["root",`underline${He(n)}`,r==="button"&&"button",a&&"focusVisible"]};return xt(i,HA,s)},QA=Oe(fs,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`underline${He(r.underline)}`],r.component==="button"&&s.button]}})(wt(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(Gs()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${KA.focusVisible}`]:{outline:"auto"}}}]}))),cc=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiLink"}),n=oo(),{className:i,color:l="primary",component:o="a",onBlur:d,onFocus:m,TypographyClasses:u,underline:p="always",variant:f="inherit",sx:x,...y}=a,[w,j]=c.useState(!1),v=_=>{Qc(_.target)||j(!1),d&&d(_)},h=_=>{Qc(_.target)&&j(!0),m&&m(_)},g={...a,color:l,component:o,focusVisible:w,underline:p,variant:f},b=YA(g);return t.jsx(QA,{color:l,className:st(b.root,i),classes:u,component:o,onBlur:v,onFocus:h,ref:r,ownerState:g,variant:f,...y,sx:[...s0[l]===void 0?[{color:l}]:[],...Array.isArray(x)?x:[x]],style:{...y.style,...p==="always"&&l!=="inherit"&&!s0[l]&&{"--Link-underlineColor":GA({theme:n,ownerState:g})}}})}),XA=c.createContext({});function JA(e){return gt("MuiList",e)}mt("MuiList",["root","padding","dense","subheader"]);const ZA=e=>{const{classes:s,disablePadding:r,dense:a,subheader:n}=e;return xt({root:["root",!r&&"padding",a&&"dense",n&&"subheader"]},JA,s)},e3=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disablePadding&&s.padding,r.dense&&s.dense,r.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),t3=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiList"}),{children:n,className:i,component:l="ul",dense:o=!1,disablePadding:d=!1,subheader:m,...u}=a,p=c.useMemo(()=>({dense:o}),[o]),f={...a,component:l,dense:o,disablePadding:d},x=ZA(f);return t.jsx(XA.Provider,{value:p,children:t.jsxs(e3,{as:l,className:st(x.root,i),ref:r,ownerState:f,...u,children:[m,n]})})});function Ju(e,s,r){return e===s?e.firstChild:s&&s.nextElementSibling?s.nextElementSibling:r?null:e.firstChild}function r0(e,s,r){return e===s?r?e.firstChild:e.lastChild:s&&s.previousElementSibling?s.previousElementSibling:r?null:e.lastChild}function Cj(e,s){if(s===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:s.repeating?r[0]===s.keys[0]:r.startsWith(s.keys.join(""))}function Oi(e,s,r,a,n,i){let l=!1,o=n(e,s,s?r:!1);for(;o;){if(o===e.firstChild){if(l)return!1;l=!0}const d=a?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!Cj(o,i)||d)o=n(e,o,r);else return o.focus(),!0}return!1}const s3=c.forwardRef(function(s,r){const{actions:a,autoFocus:n=!1,autoFocusItem:i=!1,children:l,className:o,disabledItemsFocusable:d=!1,disableListWrap:m=!1,onKeyDown:u,variant:p="selectedMenu",...f}=s,x=c.useRef(null),y=c.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});gn(()=>{n&&x.current.focus()},[n]),c.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(g,{direction:b})=>{const _=!x.current.style.width;if(g.clientHeight<x.current.clientHeight&&_){const P=`${jj(ca(g))}px`;x.current.style[b==="rtl"?"paddingLeft":"paddingRight"]=P,x.current.style.width=`calc(100% + ${P})`}return x.current}}),[]);const w=g=>{const b=x.current,_=g.key;if(g.ctrlKey||g.metaKey||g.altKey){u&&u(g);return}const A=el(_r(b));if(_==="ArrowDown")g.preventDefault(),Oi(b,A,m,d,Ju);else if(_==="ArrowUp")g.preventDefault(),Oi(b,A,m,d,r0);else if(_==="Home")g.preventDefault(),Oi(b,null,m,d,Ju);else if(_==="End")g.preventDefault(),Oi(b,null,m,d,r0);else if(_.length===1){const R=y.current,k=_.toLowerCase(),L=performance.now();R.keys.length>0&&(L-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&k!==R.keys[0]&&(R.repeating=!1)),R.lastTime=L,R.keys.push(k);const $=A&&!R.repeating&&Cj(A,R);R.previousKeyMatched&&($||Oi(b,A,!1,d,Ju,R))?g.preventDefault():R.previousKeyMatched=!1}u&&u(g)},j=Fs(x,r);let v=-1;c.Children.forEach(l,(g,b)=>{if(!c.isValidElement(g)){v===b&&(v+=1,v>=l.length&&(v=-1));return}g.props.disabled||(p==="selectedMenu"&&g.props.selected||v===-1)&&(v=b),v===b&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(v+=1,v>=l.length&&(v=-1))});const h=c.Children.map(l,(g,b)=>{if(b===v){const _={};return i&&(_.autoFocus=!0),g.props.tabIndex===void 0&&p==="selectedMenu"&&(_.tabIndex=0),c.cloneElement(g,_)}return g});return t.jsx(t3,{role:"menu",ref:j,className:o,onKeyDown:w,tabIndex:n?0:-1,...f,children:h})});function r3(e){return gt("MuiPopover",e)}mt("MuiPopover",["root","paper"]);function a0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.height/2:s==="bottom"&&(r=e.height),r}function n0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.width/2:s==="right"&&(r=e.width),r}function i0(e){return[e.horizontal,e.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function Io(e){return typeof e=="function"?e():e}const a3=e=>{const{classes:s}=e;return xt({root:["root"],paper:["paper"]},r3,s)},n3=Oe(Nj,{name:"MuiPopover",slot:"Root"})({}),Sj=Oe(ui,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),i3=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:d="anchorEl",children:m,className:u,container:p,elevation:f=8,marginThreshold:x=16,open:y,PaperProps:w={},slots:j={},slotProps:v={},transformOrigin:h={vertical:"top",horizontal:"left"},TransitionComponent:g,transitionDuration:b="auto",TransitionProps:_={},disableScrollLock:P=!1,...A}=a,R=c.useRef(),k={...a,anchorOrigin:l,anchorReference:d,elevation:f,marginThreshold:x,transformOrigin:h,TransitionComponent:g,transitionDuration:b,TransitionProps:_},L=a3(k),$=c.useCallback(()=>{if(d==="anchorPosition")return o;const re=Io(i),te=(re&&re.nodeType===1?re:_r(R.current).body).getBoundingClientRect();return{top:te.top+a0(te,l.vertical),left:te.left+n0(te,l.horizontal)}},[i,l.horizontal,l.vertical,o,d]),C=c.useCallback(re=>({vertical:a0(re,h.vertical),horizontal:n0(re,h.horizontal)}),[h.horizontal,h.vertical]),E=c.useCallback(re=>{const J={width:re.offsetWidth,height:re.offsetHeight},te=C(J);if(d==="none")return{top:null,left:null,transformOrigin:i0(te)};const K=$();let ie=K.top-te.vertical,V=K.left-te.horizontal;const ae=ie+J.height,ce=V+J.width,B=ca(Io(i)),pe=B.innerHeight-x,W=B.innerWidth-x;if(x!==null&&ie<x){const ge=ie-x;ie-=ge,te.vertical+=ge}else if(x!==null&&ae>pe){const ge=ae-pe;ie-=ge,te.vertical+=ge}if(x!==null&&V<x){const ge=V-x;V-=ge,te.horizontal+=ge}else if(ce>W){const ge=ce-W;V-=ge,te.horizontal+=ge}return{top:`${Math.round(ie)}px`,left:`${Math.round(V)}px`,transformOrigin:i0(te)}},[i,d,$,C,x]),[T,N]=c.useState(y),S=c.useCallback(()=>{const re=R.current;if(!re)return;const J=E(re);J.top!==null&&re.style.setProperty("top",J.top),J.left!==null&&(re.style.left=J.left),re.style.transformOrigin=J.transformOrigin,N(!0)},[E]);c.useEffect(()=>(P&&window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)),[i,P,S]);const I=()=>{S()},D=()=>{N(!1)};c.useEffect(()=>{y&&S()}),c.useImperativeHandle(n,()=>y?{updatePosition:()=>{S()}}:null,[y,S]),c.useEffect(()=>{if(!y)return;const re=oj(()=>{S()}),J=ca(Io(i));return J.addEventListener("resize",re),()=>{re.clear(),J.removeEventListener("resize",re)}},[i,y,S]);let q=b;const X={slots:{transition:g,...j},slotProps:{transition:_,paper:w,...v}},[ne,H]=_t("transition",{elementType:jp,externalForwardedProps:X,ownerState:k,getSlotProps:re=>({...re,onEntering:(J,te)=>{var K;(K=re.onEntering)==null||K.call(re,J,te),I()},onExited:J=>{var te;(te=re.onExited)==null||te.call(re,J),D()}}),additionalProps:{appear:!0,in:y}});b==="auto"&&!ne.muiSupportAuto&&(q=void 0);const F=p||(i?_r(Io(i)).body:void 0),[U,{slots:Y,slotProps:Z,...z}]=_t("root",{ref:r,elementType:n3,externalForwardedProps:{...X,...A},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:j.backdrop},slotProps:{backdrop:r4(typeof v.backdrop=="function"?v.backdrop(k):v.backdrop,{invisible:!0})},container:F,open:y},ownerState:k,className:st(L.root,u)}),[O,M]=_t("paper",{ref:R,className:L.paper,elementType:Sj,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:T?void 0:{opacity:0}},ownerState:k});return t.jsx(U,{...z,...!Yc(U)&&{slots:Y,slotProps:Z,disableScrollLock:P},children:t.jsx(ne,{...H,timeout:q,children:t.jsx(O,{...M,children:m})})})});function l3(e){return gt("MuiMenu",e)}mt("MuiMenu",["root","paper","list"]);const o3={vertical:"top",horizontal:"right"},c3={vertical:"top",horizontal:"left"},d3=e=>{const{classes:s}=e;return xt({root:["root"],paper:["paper"],list:["list"]},l3,s)},u3=Oe(i3,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),m3=Oe(Sj,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),p3=Oe(s3,{name:"MuiMenu",slot:"List"})({outline:0}),f3=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:l,disableAutoFocusItem:o=!1,MenuListProps:d={},onClose:m,open:u,PaperProps:p={},PopoverClasses:f,transitionDuration:x="auto",TransitionProps:{onEntering:y,...w}={},variant:j="selectedMenu",slots:v={},slotProps:h={},...g}=a,b=iP(),_={...a,autoFocus:n,disableAutoFocusItem:o,MenuListProps:d,onEntering:y,PaperProps:p,transitionDuration:x,TransitionProps:w,variant:j},P=d3(_),A=n&&!o&&u,R=c.useRef(null),k=(q,X)=>{R.current&&R.current.adjustStyleForScrollbar(q,{direction:b?"rtl":"ltr"}),y&&y(q,X)},L=q=>{q.key==="Tab"&&(q.preventDefault(),m&&m(q,"tabKeyDown"))};let $=-1;c.Children.map(i,(q,X)=>{c.isValidElement(q)&&(q.props.disabled||(j==="selectedMenu"&&q.props.selected||$===-1)&&($=X))});const C={slots:v,slotProps:{list:d,transition:w,paper:p,...h}},E=i5({elementType:v.root,externalSlotProps:h.root,ownerState:_,className:[P.root,l]}),[T,N]=_t("paper",{className:P.paper,elementType:m3,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:_}),[S,I]=_t("list",{className:st(P.list,d.className),elementType:p3,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:q=>({...q,onKeyDown:X=>{var ne;L(X),(ne=q.onKeyDown)==null||ne.call(q,X)}}),ownerState:_}),D=typeof C.slotProps.transition=="function"?C.slotProps.transition(_):C.slotProps.transition;return t.jsx(u3,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?o3:c3,slots:{root:v.root,paper:T,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:E,paper:N,backdrop:typeof h.backdrop=="function"?h.backdrop(_):h.backdrop,transition:{...D,onEntering:(...q)=>{var X;k(...q),(X=D==null?void 0:D.onEntering)==null||X.call(D,...q)}}},open:u,ref:r,transitionDuration:x,ownerState:_,...g,classes:f,children:t.jsx(S,{actions:R,autoFocus:n&&($===-1||o),autoFocusItem:A,variant:j,...I,children:i})})});function h3(e){return gt("MuiNativeSelect",e)}const ih=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),g3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:l}=e,o={select:["select",r,a&&"disabled",n&&"multiple",l&&"error"],icon:["icon",`icon${He(r)}`,i&&"iconOpen",a&&"disabled"]};return xt(o,h3,s)},_j=Oe("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${ih.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),x3=Oe(_j,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ar,overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.select,s[r.variant],r.error&&s.error,{[`&.${ih.multiple}`]:s.multiple}]}})({}),kj=Oe("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ih.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),y3=Oe(kj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${He(r.variant)}`],r.open&&s.iconOpen]}})({}),b3=c.forwardRef(function(s,r){const{className:a,disabled:n,error:i,IconComponent:l,inputRef:o,variant:d="standard",...m}=s,u={...s,disabled:n,variant:d,error:i},p=g3(u);return t.jsxs(c.Fragment,{children:[t.jsx(x3,{ownerState:u,className:st(p.select,a),disabled:n,ref:o||r,...m}),s.multiple?null:t.jsx(y3,{as:l,ownerState:u,className:p.icon})]})});var l0;const v3=Oe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ar})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),j3=Oe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ar})(wt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function N3(e){const{children:s,classes:r,className:a,label:n,notched:i,...l}=e,o=n!=null&&n!=="",d={...e,notched:i,withLabel:o};return t.jsx(v3,{"aria-hidden":!0,className:a,ownerState:d,...l,children:t.jsx(j3,{ownerState:d,children:o?t.jsx("span",{children:n}):l0||(l0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const w3=e=>{const{classes:s}=e,a=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},g5,s);return{...s,...a}},C3=Oe(lu,{shouldForwardProp:e=>Ar(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:nu})(wt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Rr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}},[`&.${Rr.focused} .${Rr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Gs()).map(([r])=>({props:{color:r},style:{[`&.${Rr.focused} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Rr.error} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Rr.disabled} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:a})=>r.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),S3=Oe(N3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(wt(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}})),_3=Oe(ou,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iu})(wt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),lh=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:l="input",label:o,multiline:d=!1,notched:m,slots:u={},slotProps:p={},type:f="text",...x}=a,y=w3(a),w=bn(),j=wi({props:a,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...a,color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:w,fullWidth:i,hiddenLabel:j.hiddenLabel,multiline:d,size:j.size,type:f},h=u.root??n.Root??C3,g=u.input??n.Input??_3,[b,_]=_t("notchedOutline",{elementType:S3,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:v,externalForwardedProps:{slots:u,slotProps:p},additionalProps:{label:o!=null&&o!==""&&j.required?t.jsxs(c.Fragment,{children:[o,"","*"]}):o}});return t.jsx(rh,{slots:{root:h,input:g},slotProps:p,renderSuffix:P=>t.jsx(b,{..._,notched:typeof m<"u"?m:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:i,inputComponent:l,multiline:d,ref:r,type:f,...x,classes:{...y,notchedOutline:null}})});lh.muiName="Input";function Pj(e){return gt("MuiSelect",e)}const Ui=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var o0;const k3=Oe(_j,{name:"MuiSelect",slot:"Select",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`&.${Ui.select}`]:s.select},{[`&.${Ui.select}`]:s[r.variant]},{[`&.${Ui.error}`]:s.error},{[`&.${Ui.multiple}`]:s.multiple}]}})({[`&.${Ui.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),P3=Oe(kj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${He(r.variant)}`],r.open&&s.iconOpen]}})({}),A3=Oe("input",{shouldForwardProp:e=>lj(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function c0(e,s){return typeof s=="object"&&s!==null?e===s:String(e)===String(s)}function E3(e){return e==null||typeof e=="string"&&!e.trim()}const z3=e=>{const{classes:s,variant:r,disabled:a,multiple:n,open:i,error:l}=e,o={select:["select",r,a&&"disabled",n&&"multiple",l&&"error"],icon:["icon",`icon${He(r)}`,i&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return xt(o,Pj,s)},T3=c.forwardRef(function(s,r){var ye,ze,Se,Ie;const{"aria-describedby":a,"aria-label":n,autoFocus:i,autoWidth:l,children:o,className:d,defaultOpen:m,defaultValue:u,disabled:p,displayEmpty:f,error:x=!1,IconComponent:y,inputRef:w,labelId:j,MenuProps:v={},multiple:h,name:g,onBlur:b,onChange:_,onClose:P,onFocus:A,onKeyDown:R,onMouseDown:k,onOpen:L,open:$,readOnly:C,renderValue:E,required:T,SelectDisplayProps:N={},tabIndex:S,type:I,value:D,variant:q="standard",...X}=s,[ne,H]=Dx({controlled:D,default:u,name:"Select"}),[F,U]=Dx({controlled:$,default:m,name:"Select"}),Y=c.useRef(null),Z=c.useRef(null),[z,O]=c.useState(null),{current:M}=c.useRef($!=null),[re,J]=c.useState(),te=Fs(r,w),K=c.useCallback(Ce=>{Z.current=Ce,Ce&&O(Ce)},[]),ie=z==null?void 0:z.parentNode;c.useImperativeHandle(te,()=>({focus:()=>{Z.current.focus()},node:Y.current,value:ne}),[ne]),c.useEffect(()=>{m&&F&&z&&!M&&(J(l?null:ie.clientWidth),Z.current.focus())},[z,l]),c.useEffect(()=>{i&&Z.current.focus()},[i]),c.useEffect(()=>{if(!j)return;const Ce=_r(Z.current).getElementById(j);if(Ce){const We=()=>{getSelection().isCollapsed&&Z.current.focus()};return Ce.addEventListener("click",We),()=>{Ce.removeEventListener("click",We)}}},[j]);const V=(Ce,We)=>{Ce?L&&L(We):P&&P(We),M||(J(l?null:ie.clientWidth),U(Ce))},ae=Ce=>{k==null||k(Ce),Ce.button===0&&(Ce.preventDefault(),Z.current.focus(),V(!0,Ce))},ce=Ce=>{V(!1,Ce)},B=c.Children.toArray(o),pe=Ce=>{const We=B.find(Ge=>Ge.props.value===Ce.target.value);We!==void 0&&(H(We.props.value),_&&_(Ce,We))},W=Ce=>We=>{let Ge;if(We.currentTarget.hasAttribute("tabindex")){if(h){Ge=Array.isArray(ne)?ne.slice():[];const xe=ne.indexOf(Ce.props.value);xe===-1?Ge.push(Ce.props.value):Ge.splice(xe,1)}else Ge=Ce.props.value;if(Ce.props.onClick&&Ce.props.onClick(We),ne!==Ge&&(H(Ge),_)){const xe=We.nativeEvent||We,Re=new xe.constructor(xe.type,xe);Object.defineProperty(Re,"target",{writable:!0,value:{value:Ge,name:g}}),_(Re,Ce)}h||V(!1,We)}},ge=Ce=>{C||([" ","ArrowUp","ArrowDown","Enter"].includes(Ce.key)&&(Ce.preventDefault(),V(!0,Ce)),R==null||R(Ce))},G=z!==null&&F,ue=Ce=>{!G&&b&&(Object.defineProperty(Ce,"target",{writable:!0,value:{value:ne,name:g}}),b(Ce))};delete X["aria-invalid"];let fe,se;const he=[];let be=!1;(Jc({value:ne})||f)&&(E?fe=E(ne):be=!0);const _e=B.map(Ce=>{if(!c.isValidElement(Ce))return null;let We;if(h){if(!Array.isArray(ne))throw new Error(la(2));We=ne.some(Ge=>c0(Ge,Ce.props.value)),We&&be&&he.push(Ce.props.children)}else We=c0(ne,Ce.props.value),We&&be&&(se=Ce.props.children);return c.cloneElement(Ce,{"aria-selected":We?"true":"false",onClick:W(Ce),onKeyUp:Ge=>{Ge.key===" "&&Ge.preventDefault(),Ce.props.onKeyUp&&Ce.props.onKeyUp(Ge)},role:"option",selected:We,value:void 0,"data-value":Ce.props.value})});be&&(h?he.length===0?fe=null:fe=he.reduce((Ce,We,Ge)=>(Ce.push(We),Ge<he.length-1&&Ce.push(", "),Ce),[]):fe=se);let De=re;!l&&M&&z&&(De=ie.clientWidth);let Ee;typeof S<"u"?Ee=S:Ee=p?null:0;const Ae=N.id||(g?`mui-component-select-${g}`:void 0),Pe={...s,variant:q,value:ne,open:G,error:x},Ne=z3(Pe),Ue={...v.PaperProps,...typeof((ye=v.slotProps)==null?void 0:ye.paper)=="function"?v.slotProps.paper(Pe):(ze=v.slotProps)==null?void 0:ze.paper},oe={...v.MenuListProps,...typeof((Se=v.slotProps)==null?void 0:Se.list)=="function"?v.slotProps.list(Pe):(Ie=v.slotProps)==null?void 0:Ie.list},ee=lo();return t.jsxs(c.Fragment,{children:[t.jsx(k3,{as:"div",ref:K,tabIndex:Ee,role:"combobox","aria-controls":G?ee:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":G?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[j,Ae].filter(Boolean).join(" ")||void 0,"aria-describedby":a,"aria-required":T?"true":void 0,"aria-invalid":x?"true":void 0,onKeyDown:ge,onMouseDown:p||C?null:ae,onBlur:ue,onFocus:A,...N,ownerState:Pe,className:st(N.className,Ne.select,d),id:Ae,children:E3(fe)?o0||(o0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):fe}),t.jsx(A3,{"aria-invalid":x,value:Array.isArray(ne)?ne.join(","):ne,name:g,ref:Y,"aria-hidden":!0,onChange:pe,tabIndex:-1,disabled:p,className:Ne.nativeInput,autoFocus:i,required:T,...X,ownerState:Pe}),t.jsx(P3,{as:y,className:Ne.icon,ownerState:Pe}),t.jsx(f3,{id:`menu-${g||""}`,anchorEl:ie,open:G,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":j,role:"listbox","aria-multiselectable":h?"true":void 0,disableListWrap:!0,id:ee,...oe},paper:{...Ue,style:{minWidth:De,...Ue!=null?Ue.style:null}}},children:_e})]})}),R3=e=>{const{classes:s}=e,a=xt({root:["root"]},Pj,s);return{...s,...a}},oh={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ar(e)&&e!=="variant"},D3=Oe(nh,oh)(""),$3=Oe(lh,oh)(""),I3=Oe(ah,oh)(""),Aj=c.forwardRef(function(s,r){const a=yt({name:"MuiSelect",props:s}),{autoWidth:n=!1,children:i,classes:l={},className:o,defaultOpen:d=!1,displayEmpty:m=!1,IconComponent:u=y5,id:p,input:f,inputProps:x,label:y,labelId:w,MenuProps:j,multiple:v=!1,native:h=!1,onClose:g,onOpen:b,open:_,renderValue:P,SelectDisplayProps:A,variant:R="outlined",...k}=a,L=h?b3:T3,$=bn(),C=wi({props:a,muiFormControl:$,states:["variant","error"]}),E=C.variant||R,T={...a,variant:E,classes:l},N=R3(T),{root:S,...I}=N,D=f||{standard:t.jsx(D3,{ownerState:T}),outlined:t.jsx($3,{label:y,ownerState:T}),filled:t.jsx(I3,{ownerState:T})}[E],q=Fs(r,co(D));return t.jsx(c.Fragment,{children:c.cloneElement(D,{inputComponent:L,inputProps:{children:i,error:C.error,IconComponent:u,variant:E,type:void 0,multiple:v,...h?{id:p}:{autoWidth:n,defaultOpen:d,displayEmpty:m,labelId:w,MenuProps:j,onClose:g,onOpen:b,open:_,renderValue:P,SelectDisplayProps:{id:p,...A}},...x,classes:x?xs(I,x.classes):I,...f?f.props.inputProps:{}},...(v&&h||m)&&E==="outlined"?{notched:!0}:{},ref:q,className:st(D.props.className,o,N.root),...!f&&{variant:E},...k})})});Aj.muiName="Select";function F3(e){return gt("MuiTextField",e)}mt("MuiTextField",["root"]);const L3={standard:nh,filled:ah,outlined:lh},M3=e=>{const{classes:s}=e;return xt({root:["root"]},F3,s)},O3=Oe(CA,{name:"MuiTextField",slot:"Root"})({}),U3=c.forwardRef(function(s,r){const a=yt({props:s,name:"MuiTextField"}),{autoComplete:n,autoFocus:i=!1,children:l,className:o,color:d="primary",defaultValue:m,disabled:u=!1,error:p=!1,FormHelperTextProps:f,fullWidth:x=!1,helperText:y,id:w,InputLabelProps:j,inputProps:v,InputProps:h,inputRef:g,label:b,maxRows:_,minRows:P,multiline:A=!1,name:R,onBlur:k,onChange:L,onFocus:$,placeholder:C,required:E=!1,rows:T,select:N=!1,SelectProps:S,slots:I={},slotProps:D={},type:q,value:X,variant:ne="outlined",...H}=a,F={...a,autoFocus:i,color:d,disabled:u,error:p,fullWidth:x,multiline:A,required:E,select:N,variant:ne},U=M3(F),Y=lo(w),Z=y&&Y?`${Y}-helper-text`:void 0,z=b&&Y?`${Y}-label`:void 0,O=L3[ne],M={slots:I,slotProps:{input:h,inputLabel:j,htmlInput:v,formHelperText:f,select:S,...D}},re={},J=M.slotProps.inputLabel;ne==="outlined"&&(J&&typeof J.shrink<"u"&&(re.notched=J.shrink),re.label=b),N&&((!S||!S.native)&&(re.id=void 0),re["aria-describedby"]=void 0);const[te,K]=_t("root",{elementType:O3,shouldForwardComponentProp:!0,externalForwardedProps:{...M,...H},ownerState:F,className:st(U.root,o),ref:r,additionalProps:{disabled:u,error:p,fullWidth:x,required:E,color:d,variant:ne}}),[ie,V]=_t("input",{elementType:O,externalForwardedProps:M,additionalProps:re,ownerState:F}),[ae,ce]=_t("inputLabel",{elementType:WA,externalForwardedProps:M,ownerState:F}),[B,pe]=_t("htmlInput",{elementType:"input",externalForwardedProps:M,ownerState:F}),[W,ge]=_t("formHelperText",{elementType:PA,externalForwardedProps:M,ownerState:F}),[G,ue]=_t("select",{elementType:Aj,externalForwardedProps:M,ownerState:F}),fe=t.jsx(ie,{"aria-describedby":Z,autoComplete:n,autoFocus:i,defaultValue:m,fullWidth:x,multiline:A,name:R,rows:T,maxRows:_,minRows:P,type:q,value:X,id:Y,inputRef:g,onBlur:k,onChange:L,onFocus:$,placeholder:C,inputProps:pe,slots:{input:I.htmlInput?B:void 0},...V});return t.jsxs(te,{...K,children:[b!=null&&b!==""&&t.jsx(ae,{htmlFor:Y,id:z,...ce,children:b}),N?t.jsx(G,{"aria-describedby":Z,id:Y,labelId:z,value:X,input:fe,...ue,children:l}):fe,y&&t.jsx(W,{id:Z,...ge,children:y})]})}),B3=Ls(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Np=Ls(t.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),hl=Ls(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),q3=Ls(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),V3=Ls(t.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),W3=Ls(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),gl=Ls(t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),xl=Ls(t.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Xr=({placeholder:e,name:s,type:r="text",value:a,onChange:n,required:i=!1,startIcon:l,endIcon:o,error:d,helperText:m,InputProps:u,...p})=>{const f=c.useRef(null);c.useEffect(()=>{var b;if(r==="password"&&f.current){const _=()=>{var T,N;const E=(T=f.current)==null?void 0:T.querySelector('input[type="password"]');if(E){const S=E.closest(".MuiOutlinedInput-root");S&&([...S.querySelectorAll("button"),...((N=S.parentElement)==null?void 0:N.querySelectorAll("button"))||[]].forEach(q=>{if(!(q.closest(".MuiInputAdornment-root")!==null)){q.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important; position: absolute !important; left: -9999px !important;";try{q.remove()}catch{}}}),S.querySelectorAll("*").forEach(q=>{if((q.tagName==="BUTTON"||q.getAttribute("role")==="button"||q.tagName==="SPAN")&&!(q.closest(".MuiInputAdornment-root")!==null)){const ne=q.getBoundingClientRect(),H=E.getBoundingClientRect();if(ne.width<50&&ne.height<50&&Math.abs(ne.right-H.right)<50||q.className&&(q.className.indexOf("reveal")!==-1||q.className.indexOf("password")!==-1)){q.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; position: absolute !important; left: -9999px !important;";try{q.remove()}catch{if(q.parentNode)try{q.parentNode.removeChild(q)}catch{}}}}}),E.parentElement&&Array.from(E.parentElement.children).forEach(X=>{if(X!==E&&X!==S&&!(X.closest(".MuiInputAdornment-root")!==null)){const H=X.getBoundingClientRect(),F=E.getBoundingClientRect();if(H.width<30&&H.height<30&&Math.abs(H.right-F.right)<40&&Math.abs(H.top-F.top)<20){X.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important;";try{X.remove()}catch{if(X.parentNode)try{X.parentNode.removeChild(X)}catch{}}}}}))}},P="hide-browser-password-button";let A=document.getElementById(P);A||(A=document.createElement("style"),A.id=P,A.textContent=`
          input[type="password"]::-webkit-credentials-auto-fill-button,
          input[type="password"]::-webkit-strong-password-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-credentials-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            appearance: none !important;
            -webkit-appearance: none !important;
          }
          /* Internet Explorer specific */
          input[type="password"]::-ms-reveal,
          .custom-input-field input[type="password"]::-ms-reveal,
          .custom-input-field .MuiOutlinedInput-input[type="password"]::-ms-reveal {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
          }
        `,document.head.appendChild(A)),_();const R=[];for(let E=0;E<20;E++)R.push(setTimeout(_,E*50));const k=(b=f.current)==null?void 0:b.querySelector('input[type="password"]'),L=k==null?void 0:k.closest(".MuiOutlinedInput-root");let $=null;L&&typeof MutationObserver<"u"&&($=new MutationObserver(()=>{_()}),$.observe(L,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}));const C=setInterval(_,100);if(k){const E=["input","focus","click","keydown","keyup","paste","change","blur","mousedown","mouseup"];return E.forEach(T=>{k.addEventListener(T,_,{capture:!0,passive:!0}),L==null||L.addEventListener(T,_,{capture:!0,passive:!0})}),()=>{R.forEach(T=>clearTimeout(T)),clearInterval(C),$&&$.disconnect(),E.forEach(T=>{k.removeEventListener(T,_,{capture:!0}),L==null||L.removeEventListener(T,_,{capture:!0})})}}return()=>{R.forEach(E=>clearTimeout(E)),clearInterval(C),$&&$.disconnect()}}},[r,a,o]);let x=null;l?x=t.jsx(t0,{position:"start",className:"custom-input-icon",children:l}):u!=null&&u.startAdornment&&(x=u.startAdornment);let y=null;o?y=t.jsx(t0,{position:"end",children:o}):u!=null&&u.endAdornment&&(y=u.endAdornment);const w={...u,startAdornment:x,endAdornment:y},{InputProps:j,inputProps:v,...h}=p,g={autoComplete:r==="password"?"new-password":"off",...v};return t.jsx("div",{ref:f,className:"custom-input-wrapper",children:t.jsx(U3,{className:"custom-input-field",placeholder:e,name:s,type:r,value:a,onChange:n,required:i,error:d,helperText:m,fullWidth:!0,variant:"outlined",InputProps:w,inputProps:g,...h})})},H3=({open:e,onClose:s})=>{const[r,a]=c.useState(""),[n,i]=c.useState(!1),[l,o]=c.useState(!1),[d,m]=c.useState(""),{forgotPassword:u}=fr(),p=async x=>{x.preventDefault(),i(!0),m("");try{const y=await u(r);y.success?o(!0):m(y.error||"Failed to send reset email. Please try again.")}catch{m("Failed to send reset email. Please try again.")}finally{i(!1)}},f=()=>{a(""),o(!1),m(""),s()};return t.jsxs(aA,{open:e,onClose:f,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",padding:"8px"}},children:[t.jsx(xA,{sx:{fontWeight:600,textAlign:"center"},children:"Reset Password"}),t.jsx(fA,{children:l?t.jsx(ml,{severity:"success",sx:{mt:1},children:"Password reset link has been sent to your email address."}):t.jsxs(t.Fragment,{children:[t.jsx(fs,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:p,children:[t.jsx(Xr,{placeholder:"Email",name:"email",type:"email",value:r,onChange:x=>a(x.target.value),required:!0,startIcon:t.jsx(Np,{})}),d&&t.jsx(ml,{severity:"error",sx:{mt:1,mb:2},children:d})]})]})}),t.jsxs(oA,{sx:{padding:"16px 24px",gap:1},children:[t.jsx(Kx,{onClick:f,color:"inherit",children:l?"Close":"Cancel"}),!l&&t.jsx(Kx,{onClick:p,variant:"contained",disabled:n||!r,sx:{backgroundColor:"var(--primary-color, #1a2c49)","&:hover":{backgroundColor:"var(--secondary-color, #2c4a5f)"}},children:n?t.jsx(mi,{size:20,color:"inherit"}):"Send Reset Link"})]})]})},Zc="/assets/logo-circle-GKaFD2GP.png";function d0(){const e=kr(),s=Ba(),{login:r,register:a,isAuthenticated:n,loading:i}=fr(),l=s.pathname==="/register",[o,d]=c.useState(l);c.useEffect(()=>{d(s.pathname==="/register")},[s.pathname]),c.useEffect(()=>{!i&&n&&s.pathname!=="/dashboard"&&e("/dashboard",{replace:!0})},[n,i,e,s.pathname]);const[m,u]=c.useState({email:"",password:""}),[p,f]=c.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"training_center_admin"}),[x,y]=c.useState(!1),[w,j]=c.useState(!1),[v,h]=c.useState(""),[g,b]=c.useState(""),[_,P]=c.useState(!1),[A,R]=c.useState(!1),[k,L]=c.useState(!1),$=()=>y(!x),C=()=>j(!w),E=D=>{u({...m,[D.target.name]:D.target.value}),h("")},T=D=>{f({...p,[D.target.name]:D.target.value}),b("")},N=async D=>{D.preventDefault(),h(""),P(!0);try{const q=await r(m.email,m.password);q.success?q.userStatus==="pending"||q.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):h(q.error||"Invalid email or password.")}catch(q){console.error("Login error:",q),h("An error occurred. Please try again.")}finally{P(!1)}},S=async D=>{if(D.preventDefault(),b(""),p.password!==p.confirmPassword){b("Passwords do not match.");return}if(p.password.length<8){b("Password must be at least 8 characters long.");return}R(!0);try{const q=await a(p.fullName,p.email,p.password,p.confirmPassword,p.role);q.success?q.userStatus==="pending"||q.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):b(q.error||"Registration failed. Please try again.")}catch(q){console.error("Registration error:",q),b("An error occurred. Please try again.")}finally{R(!1)}},I=D=>{d(D),e(D?"/register":"/login",{replace:!0})};return t.jsxs("div",{className:"auth-page",children:[t.jsxs("div",{className:`auth-container container ${o?"right-panel-active":""}`,id:"container",children:[t.jsx("div",{className:"form-container sign-up-container",children:t.jsxs("form",{onSubmit:S,children:[t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Register"}),t.jsx(Xr,{placeholder:"Name",name:"fullName",value:p.fullName,onChange:T,required:!0,startIcon:t.jsx(q3,{})}),t.jsx(Xr,{placeholder:"Email",name:"email",type:"email",value:p.email,onChange:T,required:!0,startIcon:t.jsx(Np,{})}),t.jsx(Xr,{placeholder:"Password",name:"password",type:x?"text":"password",value:p.password,onChange:T,required:!0,startIcon:t.jsx(hl,{}),endIcon:t.jsx(ei,{onClick:$,edge:"end",size:"small",children:x?t.jsx(xl,{}):t.jsx(gl,{})})}),t.jsx(Xr,{placeholder:"Confirm Password",name:"confirmPassword",type:w?"text":"password",value:p.confirmPassword,onChange:T,required:!0,startIcon:t.jsx(hl,{}),endIcon:t.jsx(ei,{onClick:C,edge:"end",size:"small",children:w?t.jsx(xl,{}):t.jsx(gl,{})})}),t.jsxs(Gr,{sx:{mb:2,display:"flex",flexDirection:"row",gap:1,width:"100%"},children:[t.jsx(Gr,{sx:{flex:1},children:t.jsx(ui,{onClick:()=>f({...p,role:"training_center_admin"}),elevation:p.role==="training_center_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="training_center_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Gr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Gr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(V3,{sx:{fontSize:22,color:p.role==="training_center_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Gr,{sx:{textAlign:"center"},children:t.jsx(fs,{variant:"caption",sx:{fontWeight:p.role==="training_center_admin"?600:500,fontSize:"0.75rem",color:p.role==="training_center_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Training Center"})})]})})}),t.jsx(Gr,{sx:{flex:1},children:t.jsx(ui,{onClick:()=>f({...p,role:"acc_admin"}),elevation:p.role==="acc_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="acc_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Gr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Gr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(W3,{sx:{fontSize:22,color:p.role==="acc_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Gr,{sx:{textAlign:"center"},children:t.jsx(fs,{variant:"caption",sx:{fontWeight:p.role==="acc_admin"?600:500,fontSize:"0.75rem",color:p.role==="acc_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Accreditation"})})]})})})]}),g&&t.jsx(fs,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:g}),t.jsx("button",{type:"submit",disabled:A,children:A?t.jsx(mi,{size:20,color:"inherit"}):"Register"})]})}),t.jsx("div",{className:"form-container sign-in-container",children:t.jsxs("form",{onSubmit:N,children:[t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Login"}),t.jsx(Xr,{placeholder:"Email",name:"email",value:m.email,onChange:E,required:!0,startIcon:t.jsx(Np,{})}),t.jsx(Xr,{placeholder:"Password",name:"password",type:x?"text":"password",value:m.password,onChange:E,required:!0,startIcon:t.jsx(hl,{}),endIcon:t.jsx(ei,{onClick:$,edge:"end",size:"small",children:x?t.jsx(xl,{}):t.jsx(gl,{})})}),v&&t.jsx(fs,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:v}),t.jsx(cc,{href:"#",underline:"hover",sx:{mt:1,mb:2,cursor:"pointer"},onClick:D=>{D.preventDefault(),L(!0)},children:"Forgot your password?"}),t.jsx("button",{type:"submit",disabled:_,children:_?t.jsx(mi,{size:20,color:"inherit"}):"Login"})]})}),t.jsx("div",{className:"overlay-container",children:t.jsxs("div",{className:"overlay",children:[t.jsxs("div",{className:"overlay-panel overlay-left",children:[t.jsx("img",{src:Zc,alt:"Logo",className:"overlay-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Welcome Back!"}),t.jsx("p",{children:"To keep connected with us please login with your personal info as Training Center Admin"}),t.jsx("button",{className:"ghost",id:"signIn",onClick:()=>I(!1),children:"Login"})]}),t.jsxs("div",{className:"overlay-panel overlay-right",children:[t.jsx("img",{src:Zc,alt:"Logo",className:"overlay-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Hello, Friend!"}),t.jsx("p",{children:"Enter your personal details and start journey with us"}),t.jsx("button",{className:"ghost",id:"signUp",onClick:()=>I(!0),children:"Register"})]})]})})]}),t.jsx(H3,{open:k,onClose:()=>L(!1)})]})}const K3=()=>{const{logout:e,user:s,refreshUser:r}=fr(),a=kr(),[n,i]=c.useState(null);c.useEffect(()=>{(s==null?void 0:s.status)==="active"&&a("/dashboard",{replace:!0})},[s,a]),c.useEffect(()=>{const d=setInterval(()=>{r()},3e4);return()=>clearInterval(d)},[r]);const l=async()=>{await e(),a("/login")},o=(s==null?void 0:s.role)==="training_center_admin";return s==null||s.role,t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(nt,{className:"text-red-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Rejected"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Your ",o?"Training Center":"ACC"," application has been rejected."]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:n})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o?t.jsx(Xe,{className:"text-amber-600",size:40}):t.jsx(PS,{className:"text-amber-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:o?"Training Center Application Pending":"Account Pending Approval"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o?"Your Training Center application has been submitted and is pending approval from a Group Admin.":"Your account is currently pending approval. Please wait for an administrator to review and approve your account."}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:o?"A Group Admin will review your application shortly. You will receive a notification once your application is approved or rejected.":"You will be notified once your account has been approved."}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Status: Pending Review"}),t.jsx("p",{className:"text-xs text-blue-700",children:o?"Waiting for Group Admin approval":"Waiting for administrator approval"})]})]}),t.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-800 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:[t.jsx(vv,{size:18}),"Logout"]})]})})},G3=()=>{const e=kr(),[s]=yd(),{resetPassword:r,isAuthenticated:a}=fr(),n=s.get("token"),i=s.get("email")?decodeURIComponent(s.get("email")):null,[l,o]=c.useState({password:"",confirmPassword:""}),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(!1),[y,w]=c.useState(""),[j,v]=c.useState(!1),[h,g]=c.useState(!0);c.useEffect(()=>{(!n||!i)&&g(!1),a&&e("/dashboard",{replace:!0})},[n,i,a,e]);const b=P=>{o({...l,[P.target.name]:P.target.value}),w("")},_=async P=>{if(P.preventDefault(),w(""),l.password!==l.confirmPassword){w("Passwords do not match.");return}if(l.password.length<8){w("Password must be at least 8 characters long.");return}x(!0);try{const A=await r(n,i,l.password,l.confirmPassword);A.success?(v(!0),setTimeout(()=>{e("/login",{replace:!0})},3e3)):w(A.error||"Failed to reset password. Please try again.")}catch(A){console.error("Reset password error:",A),w("An error occurred. Please try again.")}finally{x(!1)}};return h?j?t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("div",{className:"success-icon-wrapper",children:t.jsx(B3,{className:"success-icon"})}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Password Reset Successful!"}),t.jsx(ml,{severity:"success",sx:{mb:2},children:"Your password has been successfully reset. Redirecting to login page..."}),t.jsx(cc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login Now"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:Zc,alt:"Logo",className:"reset-password-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Reset Password"}),t.jsx(fs,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your new password below. Please make sure it's at least 8 characters long."}),t.jsxs("form",{onSubmit:_,children:[t.jsx(Xr,{placeholder:"New Password",name:"password",type:d?"text":"password",value:l.password,onChange:b,required:!0,startIcon:t.jsx(hl,{}),endIcon:t.jsx(ei,{onClick:()=>m(!d),edge:"end",size:"small",children:d?t.jsx(xl,{}):t.jsx(gl,{})})}),t.jsx(Xr,{placeholder:"Confirm New Password",name:"confirmPassword",type:u?"text":"password",value:l.confirmPassword,onChange:b,required:!0,startIcon:t.jsx(hl,{}),endIcon:t.jsx(ei,{onClick:()=>p(!u),edge:"end",size:"small",children:u?t.jsx(xl,{}):t.jsx(gl,{})})}),y&&t.jsx(ml,{severity:"error",sx:{mt:1,mb:2},children:y}),t.jsx("button",{type:"submit",disabled:f,className:"reset-password-submit-button",children:f?t.jsx(mi,{size:20,color:"inherit"}):"Reset Password"})]}),t.jsx(cc,{href:"/login",underline:"hover",sx:{mt:2,cursor:"pointer",color:"var(--primary-color)"},children:"Back to Login"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:Zc,alt:"Logo",className:"reset-password-logo"}),t.jsx(fs,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Invalid Reset Link"}),t.jsx(ml,{severity:"error",sx:{mb:2},children:"The password reset link is invalid or has expired. Please request a new one."}),t.jsx(cc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login"})]})})})},Y3=()=>{var d,m,u;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),r=kr(),[a,n]=c.useState(null),[i,l]=c.useState(!0);c.useEffect(()=>{o()},[]),c.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const o=async()=>{try{const p=await Ye.getDashboard();n({accreditation_bodies:p.accreditation_bodies||0,training_centers:p.training_centers||0,instructors:p.instructors||0,revenue:p.revenue||{monthly:0,total:0}})}catch(p){console.error("Failed to load dashboard:",p),n({accreditation_bodies:0,training_centers:0,instructors:0,revenue:{monthly:0,total:0}})}finally{l(!1)}};return i?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:a&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>r("/admin/all-accs"),className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-4 border border-green-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Xe,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-green-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Accreditation Bodies"}),t.jsx("p",{className:"text-2xl font-bold text-green-900 mb-1",children:a.accreditation_bodies||0}),t.jsx("p",{className:"text-xs text-green-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/all-training-centers"),className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-4 border border-purple-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Ml,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-purple-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:"Training Centers"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900 mb-1",children:a.training_centers||0}),t.jsx("p",{className:"text-xs text-purple-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/all-instructors"),className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-4 border border-yellow-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(dt,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-yellow-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-yellow-700 mb-1",children:"Instructors"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900 mb-1",children:a.instructors||0}),t.jsx("p",{className:"text-xs text-yellow-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>r("/admin/financial"),className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl shadow-lg p-4 border border-amber-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(os,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-amber-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-amber-700 mb-1",children:" Commission Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-900 mb-1",children:["$",(((d=a.revenue)==null?void 0:d.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-amber-600",children:"Total commission received"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Monthly Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((m=a.revenue)==null?void 0:m.monthly)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Commission this month"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Total Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((u=a.revenue)==null?void 0:u.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total commission received"})]})]})]})]})})},Ej=()=>{var l,o;const e=kr(),[s,r]=c.useState(null),[a,n]=c.useState(!0);c.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await et.getDashboard();r(d)}catch(d){console.error("Failed to load dashboard:",d)}finally{n(!1)}};return a?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>{e("/acc/training-centers?filter=pending")},className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-4 border border-yellow-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(nt,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-yellow-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-yellow-700 mb-1",children:"Pending Requests"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-900 mb-1",children:s.pending_requests||0}),t.jsx("p",{className:"text-xs text-yellow-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>e("/acc/training-centers?filter=active"),className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-4 border border-green-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Xe,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-green-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Active Training Centers"}),t.jsx("p",{className:"text-2xl font-bold text-green-900 mb-1",children:s.active_training_centers||0}),t.jsx("p",{className:"text-xs text-green-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>e("/acc/instructors?filter=active"),className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-4 border border-purple-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(dt,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-purple-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:"Active Instructors"}),t.jsx("p",{className:"text-2xl font-bold text-purple-900 mb-1",children:s.active_instructors||0}),t.jsx("p",{className:"text-xs text-purple-600",children:"Click to view details"})]})]}),t.jsxs("div",{onClick:()=>e("/acc/certificates"),className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl shadow-lg p-4 border border-amber-200 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(pr,{className:"text-white w-6 h-6"})}),t.jsx(Ur,{className:"text-amber-600 w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-amber-700 mb-1",children:"Certificates Generated"}),t.jsx("p",{className:"text-2xl font-bold text-amber-900 mb-1",children:s.certificates_generated||0}),t.jsx("p",{className:"text-xs text-amber-600",children:"Click to view details"})]})]})]}),s.revenue&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((l=s.revenue)==null?void 0:l.monthly)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((o=s.revenue)==null?void 0:o.total)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]})})},Fo=({icon:e,colorType:s,label:r,value:a,hint:n,onClick:i})=>t.jsxs("div",{onClick:i,className:`dashboard-card dashboard-card-${s}`,children:[t.jsxs("div",{className:"dashboard-card-header",children:[t.jsx("div",{className:`dashboard-card-icon-wrapper-${s}`,children:t.jsx(e,{className:"dashboard-card-icon"})}),t.jsx(Ur,{className:`dashboard-card-arrow-${s}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:`dashboard-card-label-${s}`,children:r}),t.jsx("p",{className:`dashboard-card-value-${s}`,children:a}),t.jsx("p",{className:`dashboard-card-hint-${s}`,children:n})]})]}),Wl=({size:e="md",className:s=""})=>{const r={sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"};return t.jsx("div",{className:`loading-spinner-container ${s}`,children:t.jsx("div",{className:`loading-spinner ${r[e]}`})})},Q3=({title:e,titleIcon:s,children:r})=>t.jsxs("div",{className:"state-section",children:[t.jsxs("h2",{className:"state-section-title",children:[s&&t.jsx(s,{className:"state-section-title-icon"}),e]}),t.jsx("div",{className:"state-section-grid",children:r})]}),Zu=({icon:e,iconColorType:s,label:r,value:a,capitalize:n=!1})=>t.jsx("div",{className:"state-item",children:t.jsxs("div",{className:"state-item-content",children:[t.jsx("div",{className:`state-icon-wrapper state-icon-wrapper-${s}`,children:t.jsx(e,{className:`state-icon state-icon-${s}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"state-label",children:r}),t.jsx("p",{className:`state-value ${n?"state-value-capitalize":""}`,children:a})]})]})}),zj=()=>{var d,m,u;const e=kr(),[s,r]=c.useState(null),[a,n]=c.useState({accs:0,classes:0,instructors:0,certificates:0}),[i,l]=c.useState(!0);c.useEffect(()=>{o()},[]);const o=async()=>{try{const p=await Je.getDashboard();r(p),n({accs:p.authorized_accreditations||0,classes:p.classes||0,instructors:p.instructors||0,certificates:p.certificates||0})}catch(p){console.error("Failed to load dashboard:",p),r(null),n({accs:0,classes:0,instructors:0,certificates:0})}finally{l(!1)}};return i?t.jsx(Wl,{}):t.jsx("div",{className:"dashboard-container",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx(Fo,{icon:pr,colorType:"certificates",label:"Certificates",value:a.certificates,hint:"Click to view details",onClick:()=>e("/training-center/certificates")}),t.jsx(Fo,{icon:Xe,colorType:"acc",label:"Authorized Accreditation",value:a.accs,hint:"Click to view details",onClick:()=>e("/training-center/accs")}),t.jsx(Fo,{icon:ts,colorType:"classes",label:"Classes",value:a.classes,hint:"Click to view details",onClick:()=>e("/training-center/classes")}),t.jsx(Fo,{icon:dt,colorType:"instructors",label:"Instructors",value:a.instructors,hint:"Click to view details",onClick:()=>e("/training-center/instructors")})]}),t.jsxs(Q3,{title:"Training Center State",titleIcon:Xe,children:[t.jsx(Zu,{icon:Ke,iconColorType:"green",label:"Status",value:((d=s.training_center_state)==null?void 0:d.status)||"N/A",capitalize:!0}),t.jsx(Zu,{icon:At,iconColorType:"blue",label:"Registration Date",value:((m=s.training_center_state)==null?void 0:m.registration_date)||"N/A"}),t.jsx(Zu,{icon:pr,iconColorType:"purple",label:"Accreditation Status",value:((u=s.training_center_state)==null?void 0:u.accreditation_status)||"Not Verified"})]})]})})},Tj=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),r=kr(),[a,n]=c.useState(null),[i,l]=c.useState(!0),o=c.useRef(!1),d=c.useRef(!1),m=c.useCallback(async()=>{if(d.current){console.log(" Dashboard load already in progress, skipping duplicate request");return}d.current=!0;try{const A=await As.getDashboard();n(A||{})}catch(A){console.error("Failed to load dashboard:",A),n(null)}finally{l(!1),d.current=!1}},[]);c.useEffect(()=>{o.current||(o.current=!0,m())},[m]),c.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const u=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",p=A=>{switch(A){case"scheduled":return"status-scheduled";case"in_progress":return"status-in-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}},f=A=>A==="active"?"training-item-status-active":"training-item-status-inactive";if(i)return t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})});if(!a)return t.jsx("div",{className:"error-container",children:t.jsx("div",{className:"error-text",children:t.jsx("p",{children:"Failed to load dashboard data"})})});const x=(a==null?void 0:a.statistics)||{},y=(a==null?void 0:a.recent_classes)||[],w=(a==null?void 0:a.training_centers)||[],j=(a==null?void 0:a.accs)||[],v=(a==null?void 0:a.profile)||{};a!=null&&a.unread_notifications_count;const h=Number((x==null?void 0:x.total_classes)||0),g=Number((x==null?void 0:x.upcoming_classes)||(x==null?void 0:x.scheduled)||0),b=Number((x==null?void 0:x.completed)||0),_=Array.isArray(w)?w.length:0,P=Array.isArray(j)?j.length:0;return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"stats-grid",children:[t.jsx("div",{onClick:()=>r("/instructor/classes"),className:"stat-card stat-card-blue",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Total Classes"}),t.jsx("p",{className:"stat-value",children:h}),t.jsx("p",{className:"stat-description",children:"Click to view all"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(ts,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=scheduled"),className:"stat-card stat-card-purple",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Scheduled"}),t.jsx("p",{className:"stat-value",children:g}),t.jsx("p",{className:"stat-description",children:"Scheduled classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(At,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=completed"),className:"stat-card stat-card-green",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("p",{className:"stat-value",children:b}),t.jsx("p",{className:"stat-description",children:"Finished classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(Ke,{className:"stat-icon"})})]})})]}),t.jsxs("div",{className:"main-grid",children:[t.jsxs("div",{className:"card recent-classes-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(ts,{className:"card-title-icon",size:24}),"Recent Classes"]}),t.jsxs("button",{onClick:()=>r("/instructor/classes"),className:"card-button",children:["View All",t.jsx(Ur,{size:16,className:"card-button-icon"})]})]})}),t.jsx("div",{className:"table-container",children:y&&y.length>0?t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Course"}),t.jsx("th",{children:"Training Center"}),t.jsx("th",{children:"Dates"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Students"})]})}),t.jsx("tbody",{children:y.slice(0,3).map((A,R)=>{var C,E,T,N;const k=A.max_capacity??((C=A.course)==null?void 0:C.max_capacity),L=A.enrolled_count||0,$=k!==void 0?Math.min(100,L/k*100):0;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((E=A.course)==null?void 0:E.name)||"N/A"}),((T=A.course)==null?void 0:T.code)&&t.jsxs("div",{className:"table-cell-secondary",children:["Code: ",A.course.code]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((N=A.training_center)==null?void 0:N.name)||"N/A"}),A.location_details&&t.jsxs("div",{className:"table-cell-secondary",children:[t.jsx(Wt,{size:12,className:"table-cell-icon"}),A.location==="physical"?A.location_details:"Online"]})]})}),t.jsx("td",{children:A.start_date?t.jsxs("div",{className:"table-cell-date",children:[t.jsx("div",{className:"table-cell-date-main",children:u(A.start_date)}),A.end_date&&t.jsxs("div",{className:"table-cell-date-sub",children:["to ",u(A.end_date)]})]}):t.jsx("span",{className:"table-cell-na",children:"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${p(A.status)}`,children:A.status?A.status.replace("_"," "):"N/A"})}),t.jsx("td",{children:t.jsxs("div",{className:"students-cell",children:[t.jsxs("div",{className:"students-count",children:[L," / ",k??"N/A"]}),k!==void 0&&t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${$}%`}})})]})})]},A.id)})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(ts,{className:"empty-state-icon",size:48}),t.jsx("p",{className:"empty-state-text",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtext",children:"You don't have any classes yet"})]})})]}),t.jsxs("div",{className:"card profile-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h2",{className:"card-title",children:[t.jsx(Xs,{className:"card-title-icon",size:24}),"Profile Summary"]})}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-field",children:[t.jsx("p",{className:"profile-label",children:"Name"}),t.jsx("p",{className:"profile-value",children:(v==null?void 0:v.name)||"N/A"})]}),t.jsxs("div",{className:"profile-field",children:[t.jsxs("p",{className:"profile-label",children:[t.jsx($t,{size:14,className:"profile-label-icon"}),"Email"]}),t.jsx("p",{className:"profile-value",children:(v==null?void 0:v.email)||"N/A"})]}),t.jsx("button",{onClick:()=>r("/profile"),className:"profile-button",children:"View Full Profile"})]})]})]}),t.jsxs("div",{className:"training-grid",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Xe,{className:"card-title-icon",size:24}),"Training Centers"]}),_>0&&t.jsx("span",{className:"badge",children:_})]})}),t.jsx("div",{className:"profile-content",children:_>0?t.jsxs("div",{className:"training-list",children:[w.slice(0,3).map(A=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:A.name}),A.city&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Wt,{size:12,className:"training-item-location-icon"}),A.city,", ",A.country]}),A.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[A.classes_count," ",A.classes_count===1?"class":"classes"]})]}),A.status&&t.jsx("span",{className:`training-item-status ${f(A.status)}`,children:A.status})]})},A.id)),_>3&&t.jsxs("button",{onClick:()=>r("/instructor/training-centers"),className:"training-view-all",children:["View All (",_,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Xe,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No training centers found"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(pr,{className:"card-title-icon",size:24}),"Accreditation Bodies"]}),P>0&&t.jsx("span",{className:"badge",children:P})]})}),t.jsx("div",{className:"profile-content",children:P>0?t.jsxs("div",{className:"training-list",children:[j.slice(0,3).map(A=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:A.name}),A.country&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Wt,{size:12,className:"training-item-location-icon"}),A.country]}),A.is_authorized&&t.jsxs("div",{className:"authorized-badge",children:[t.jsx(Ke,{size:14,className:"authorized-icon"}),t.jsx("span",{className:"authorized-text",children:"Authorized"}),A.authorization_date&&t.jsx("span",{className:"authorized-date",children:u(A.authorization_date)})]}),A.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[A.classes_count," ",A.classes_count===1?"class":"classes"]})]}),A.status&&t.jsx("span",{className:`training-item-status ${f(A.status)}`,children:A.status})]})},A.id)),P>3&&t.jsxs("button",{onClick:()=>r("/instructor/accs"),className:"training-view-all",children:["View All (",P,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(pr,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No ACCs found"})]})})]})]})]})},X3=()=>{const{user:e,loading:s}=fr();if(s)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})});switch(e==null?void 0:e.role){case"group_admin":return t.jsx(Y3,{});case"acc_admin":return t.jsx(Ej,{});case"training_center_admin":return t.jsx(zj,{});case"instructor":return t.jsx(Tj,{});default:return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome!"}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})]})})}},Be=({isOpen:e,onClose:s,title:r,children:a,size:n="md"})=>{if(c.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${i[n]} max-h-[90vh] overflow-y-auto animate-scale-in`,children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10 backdrop-blur-sm bg-white/95",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-2 rounded-lg hover:bg-gray-100 hover:rotate-90 transform",children:t.jsx(dr,{size:24})})]}),t.jsx("div",{className:"p-6 animate-fade-in",children:a})]})})},rt=c.forwardRef(({children:e,variant:s="primary",size:r="md",className:a="",disabled:n=!1,loading:i=!1,icon:l,iconPosition:o="left",fullWidth:d=!1,type:m="button",onClick:u,...p},f)=>{const x="btn-base",y={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"},w={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},j=`
    ${x}
    ${y[s]}
    ${w[r]}
    ${d?"btn-full-width":""}
    ${n||i?"btn-disabled":""}
    ${a}
  `.trim().replace(/\s+/g," "),v=l&&t.jsx("span",{className:`btn-icon ${o==="right"?"btn-icon-right":""}`,children:l});return t.jsxs("button",{ref:f,type:m,className:j,disabled:n||i,onClick:u,...p,children:[i&&t.jsx("span",{className:"btn-spinner",children:t.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!i&&o==="left"&&v,!i&&t.jsx("span",{className:"btn-content",children:e}),!i&&o==="right"&&v]})});rt.displayName="Button";const da=({isOpen:e,onClose:s,onConfirm:r,title:a,message:n,confirmText:i="Delete",cancelText:l="Cancel",variant:o="danger"})=>{if(!e)return null;const d=o==="danger"?"danger":o==="warning"?"warning":"primary";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4 animate-slide-down",children:[t.jsx("div",{className:`p-3 rounded-full ${o==="danger"?"bg-red-100":o==="warning"?"bg-yellow-100":"bg-primary-100"} mr-4 animate-pulse`,children:t.jsx(pS,{className:`${o==="danger"?"text-red-600":o==="warning"?"text-yellow-600":"text-primary-600"}`,size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),t.jsx("p",{className:"text-gray-600 mb-6 ml-16 animate-fade-in",children:n}),t.jsxs("div",{className:"flex justify-end space-x-3 animate-slide-up",children:[t.jsx(rt,{variant:"outline",onClick:s,children:l}),t.jsx(rt,{variant:d,onClick:()=>{r(),s()},children:i})]})]})})})},ve=({label:e,type:s="text",name:r,value:a,onChange:n,placeholder:i,required:l=!1,error:o,helpText:d,options:m=null,textarea:u=!1,rows:p=4,className:f="",disabled:x=!1,min:y,max:w,step:j})=>t.jsxs("div",{className:f,children:[e&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,l&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u?t.jsx("textarea",{name:r,value:a,onChange:n,placeholder:i,required:l,rows:p,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${o?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}):s==="select"?t.jsxs("select",{name:r,value:a,onChange:n,required:l,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${o?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsxs("option",{value:"",children:["Select ",e]}),m==null?void 0:m.map(v=>t.jsx("option",{value:v.value,children:v.label},v.value))]}):t.jsx("input",{type:s,name:r,value:a,onChange:n,placeholder:i,required:l,disabled:x,min:y,max:w,step:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${o?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${x?"opacity-50 cursor-not-allowed bg-gray-50":""}`}),o&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o}),d&&!o&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d})]}),J3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState(null),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(""),[y,w]=c.useState(""),[j,v]=c.useState("all"),[h,g]=c.useState({key:null,direction:"asc"});c.useEffect(()=>{b()},[]),c.useEffect(()=>(e("ACC Applications"),s("Review and manage ACC registration applications"),()=>{e(null),s(null)}),[e,s]);const b=async()=>{try{const N=await Ye.getACCApplications();a(N.applications||[])}catch(N){console.error("Failed to load applications:",N)}finally{i(!1)}},_=async N=>{try{await Ye.approveACCApplication(N),await b()}catch(S){alert("Failed to approve application: "+(S.message||"Unknown error"))}},P=async N=>{try{const S=await Ye.getACCApplication(N.id);o(S.application),m(!0)}catch(S){console.error("Failed to load application details:",S),o(N),m(!0)}},A=N=>{o(N),x(""),p(!0)},R=async()=>{if(!f.trim()){alert("Please provide a rejection reason");return}try{await Ye.rejectACCApplication(l.id,{rejection_reason:f}),await b(),p(!1),o(null),x("")}catch(N){alert("Failed to reject application: "+(N.message||"Unknown error"))}},k=N=>{let S="asc";h.key===N&&h.direction==="asc"&&(S="desc"),g({key:N,direction:S})},L=c.useMemo(()=>{let N=[...r];if(y){const S=y.toLowerCase();N=N.filter(I=>{const D=I.name||"",q=I.email||"",X=I.legal_name||"";return D.toLowerCase().includes(S)||q.toLowerCase().includes(S)||X.toLowerCase().includes(S)})}return j!=="all"&&(N=N.filter(S=>S.status===j)),h.key&&N.sort((S,I)=>{let D,q;return h.key==="name"?(D=(S.name||"").toLowerCase(),q=(I.name||"").toLowerCase()):h.key==="created_at"?(D=new Date(S.created_at||0).getTime(),q=new Date(I.created_at||0).getTime()):(D=S[h.key]||"",q=I[h.key]||""),typeof D=="string"&&(D=D.toLowerCase(),q=q.toLowerCase()),D<q?h.direction==="asc"?-1:1:D>q?h.direction==="asc"?1:-1:0}),N},[r,y,j,h]),$=r.length,C=r.filter(N=>N.status==="pending").length,E=r.filter(N=>N.status==="rejected").length,T=N=>h.key===N?h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}):null;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>v("all"),className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:$})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Mc,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>v("pending"),className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:C})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>v("rejected"),className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="rejected"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Rejected"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:E})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ht,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by organization name, email, or legal name...",value:y,onChange:N=>w(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:N=>v(N.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Organization",T("name")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",T("email")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",T("status")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",T("created_at")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Mc,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-lg font-medium",children:"No applications found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):L.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>P(N),children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Xe,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:N.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:N.legal_name||""})]})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),N.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${N.status==="approved"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":N.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[N.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),N.status==="approved"&&t.jsx(Ke,{size:12,className:"mr-1"}),N.status==="rejected"&&t.jsx(ht,{size:12,className:"mr-1"}),N.status?N.status.charAt(0).toUpperCase()+N.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:N.created_at?new Date(N.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",onClick:S=>S.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>P(N),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),N.status==="pending"?t.jsx("button",{onClick:()=>_(N.id),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Ke,{size:16})}):t.jsx("button",{onClick:S=>{S.stopPropagation(),P(N)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Info",children:t.jsx(Ot,{size:16})})]})})]},N.id))})]})})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),o(null)},title:"ACC Application Details",size:"lg",children:l&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Organization Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.legal_name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.email})]}),l.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.phone})]}),l.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:16,className:"mr-2"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.country})]}),l.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Address"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.address})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.registration_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${l.status==="approved"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":l.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[l.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),l.status==="approved"&&t.jsx(Ke,{size:12,className:"mr-1"}),l.status==="rejected"&&t.jsx(ht,{size:12,className:"mr-1"}),l.status?l.status.charAt(0).toUpperCase()+l.status.slice(1):"N/A"]})]})]}),l.documents&&l.documents.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(tt,{size:20,className:"mr-2"}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:l.documents.map((N,S)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:N.document_type}),t.jsx("p",{className:"text-sm text-gray-500",children:N.verified?"Verified":"Not Verified"})]}),N.document_url&&t.jsx("a",{href:N.document_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:"View Document"})]},S))})]}),l.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"success",fullWidth:!0,icon:t.jsx(Ke,{size:20}),onClick:async()=>{await _(l.id),m(!1)},children:"Approve Application"}),t.jsx(rt,{variant:"danger",fullWidth:!0,icon:t.jsx(ht,{size:20}),onClick:()=>{m(!1),A(l)},children:"Reject Application"})]})]})}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),o(null),x("")},title:"Reject ACC Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(ve,{label:"Rejection Reason",name:"rejection_reason",value:f,onChange:N=>x(N.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),o(null),x("")},children:"Cancel"}),t.jsx(rt,{variant:"danger",fullWidth:!0,onClick:R,children:"Reject Application"})]})]})})]})},Z3=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState(null),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(""),[y,w]=c.useState(""),[j,v]=c.useState("all"),[h,g]=c.useState({key:null,direction:"asc"});c.useEffect(()=>{b()},[]),c.useEffect(()=>(e("Training Center Applications"),s("Review and manage Training Center registration applications"),()=>{e(null),s(null)}),[e,s]);const b=async()=>{try{i(!0);const N=await Ye.getTrainingCenterApplications();a(N.applications||[])}catch(N){console.error("Failed to load applications:",N),alert("Failed to load applications: "+(N.message||"Unknown error"))}finally{i(!1)}},_=async N=>{if(confirm("Are you sure you want to approve this Training Center application?"))try{await Ye.approveTrainingCenterApplication(N),alert("Training Center application approved successfully!"),await b()}catch(S){alert("Failed to approve application: "+(S.message||"Unknown error"))}},P=N=>{o(N),m(!0)},A=N=>{o(N),x(""),p(!0)},R=async()=>{if(!f.trim()){alert("Please provide a rejection reason");return}try{await Ye.rejectTrainingCenterApplication(l.id,{rejection_reason:f}),alert("Training Center application rejected"),await b(),p(!1),o(null),x("")}catch(N){alert("Failed to reject application: "+(N.message||"Unknown error"))}},k=N=>{let S="asc";h.key===N&&h.direction==="asc"&&(S="desc"),g({key:N,direction:S})},L=c.useMemo(()=>{let N=[...r];if(y){const S=y.toLowerCase();N=N.filter(I=>{const D=I.name||"",q=I.email||"",X=I.legal_name||"";return D.toLowerCase().includes(S)||q.toLowerCase().includes(S)||X.toLowerCase().includes(S)})}return j!=="all"&&(N=N.filter(S=>S.status===j)),h.key&&N.sort((S,I)=>{let D,q;return h.key==="name"?(D=(S.name||"").toLowerCase(),q=(I.name||"").toLowerCase()):h.key==="created_at"?(D=new Date(S.created_at||0).getTime(),q=new Date(I.created_at||0).getTime()):(D=S[h.key]||"",q=I[h.key]||""),typeof D=="string"&&(D=D.toLowerCase(),q=q.toLowerCase()),D<q?h.direction==="asc"?-1:1:D>q?h.direction==="asc"?1:-1:0}),N},[r,y,j,h]),$=r.length,C=r.filter(N=>N.status==="pending").length,E=r.filter(N=>N.status==="inactive"||N.status==="rejected").length,T=N=>h.key===N?h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}):null;return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>v("all"),className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:$})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Mc,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>v("pending"),className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:C})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>v("rejected"),className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${j==="rejected"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Rejected"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:E})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ht,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by training center name, email, or legal name...",value:y,onChange:N=>w(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:N=>v(N.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",T("name")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",T("email")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",T("status")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>k("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",T("created_at")]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Mc,{className:"h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-lg font-medium",children:"No applications found"}),t.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):L.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>P(N),children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Xe,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:N.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:N.legal_name||""})]})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),N.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${N.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":N.status==="inactive"||N.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[N.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),N.status==="active"&&t.jsx(Ke,{size:12,className:"mr-1"}),(N.status==="inactive"||N.status==="rejected")&&t.jsx(ht,{size:12,className:"mr-1"}),N.status?N.status.charAt(0).toUpperCase()+N.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:N.created_at?new Date(N.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",onClick:S=>S.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>P(N),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),N.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>_(N.id),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Ke,{size:16})}),t.jsx("button",{onClick:()=>A(N),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Reject",children:t.jsx(ht,{size:16})})]})]})})]},N.id))})]})})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),o(null)},title:"Training Center Application Details",size:"lg",children:l&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]}),l.legal_name&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.legal_name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.email})]}),l.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.phone})]}),l.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:16,className:"mr-2"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.country})]}),l.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:16,className:"mr-2"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.city})]}),l.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Address"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.address})]}),l.registration_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.registration_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${l.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":l.status==="inactive"||l.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[l.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),l.status==="active"&&t.jsx(Ke,{size:12,className:"mr-1"}),(l.status==="inactive"||l.status==="rejected")&&t.jsx(ht,{size:12,className:"mr-1"}),l.status?l.status.charAt(0).toUpperCase()+l.status.slice(1):"N/A"]})]})]}),l.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"success",fullWidth:!0,icon:t.jsx(Ke,{size:20}),onClick:async()=>{await _(l.id),m(!1)},children:"Approve Application"}),t.jsx(rt,{variant:"danger",fullWidth:!0,icon:t.jsx(ht,{size:20}),onClick:()=>{m(!1),A(l)},children:"Reject Application"})]})]})}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),o(null),x("")},title:"Reject Training Center Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(ve,{label:"Rejection Reason",name:"rejection_reason",value:f,onChange:N=>x(N.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),o(null),x("")},children:"Cancel"}),t.jsx(rt,{variant:"danger",fullWidth:!0,onClick:R,children:"Reject Application"})]})]})})]})},Ft=({currentPage:e=1,totalPages:s=1,totalItems:r=0,perPage:a=10,onPageChange:n,onPerPageChange:i,showPerPageSelector:l=!0,perPageOptions:o=[10,25,50,100],className:d=""})=>{if(s<=1&&!l)return null;const m=r===0?0:(e-1)*a+1,u=Math.min(e*a,r),p=x=>{x>=1&&x<=s&&x!==e&&n(x)},f=()=>{const x=[];if(s<=5)for(let w=1;w<=s;w++)x.push(w);else if(x.push(1),e<=3){for(let w=2;w<=4;w++)x.push(w);x.push("..."),x.push(s)}else if(e>=s-2){x.push("...");for(let w=s-3;w<=s;w++)x.push(w)}else{x.push("...");for(let w=e-1;w<=e+1;w++)x.push(w);x.push("..."),x.push(s)}return x};return t.jsx("div",{className:`pagination-container ${d}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("span",{className:"font-semibold text-gray-900",children:m})," to"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:u})," of"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:r})," results"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[l&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsx("select",{value:a,onChange:x=>i(Number(x.target.value)),className:"pagination-select px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm cursor-pointer bg-white hover:border-gray-400 transition-colors",children:o.map(x=>t.jsx("option",{value:x,children:x},x))})]}),s>1&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>p(1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"First page",children:t.jsx(vS,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Previous page",children:t.jsx(xv,{size:16,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center gap-1",children:f().map((x,y)=>x==="..."?t.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${y}`):t.jsx("button",{onClick:()=>p(x),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===x?"bg-primary-600 text-white border border-primary-600 shadow-sm":"border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}`,children:x},x))}),t.jsx("button",{onClick:()=>p(e+1),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Next page",children:t.jsx(yv,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(s),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Last page",children:t.jsx(jS,{size:16,className:"text-gray-600"})})]})]})]})})},eE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState(!0),[u,p]=c.useState(!1),[f,x]=c.useState(!1),[y,w]=c.useState(!1),[j,v]=c.useState(!1),[h,g]=c.useState(null),[b,_]=c.useState(""),[P,A]=c.useState(!1),[R,k]=c.useState([]),[L,$]=c.useState(""),[C,E]=c.useState({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),[T,N]=c.useState({}),[S,I]=c.useState({key:null,direction:"asc"}),[D,q]=c.useState(""),[X,ne]=c.useState("all"),[H,F]=c.useState("all"),[U,Y]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{z(D===""&&X==="all"),Z()},[U.currentPage,U.perPage,D,X]);const Z=async()=>{try{const G=await Ye.listCategories();k(G.categories||[])}catch(G){console.error("Failed to load categories:",G)}},z=async(G=!1)=>{m(!0);try{const ue={page:G?1:U.currentPage,per_page:G?1e3:U.perPage};D&&(ue.search=D),X!=="all"&&H==="all"&&(ue.status=X);const fe=await Ye.listACCs(ue);let se=[];fe.data?(se=fe.data||[],G||Y(he=>({...he,totalPages:fe.last_page||fe.total_pages||1,totalItems:fe.total||0}))):fe.accs?(se=fe.accs||[],G||Y(he=>{var be;return{...he,totalPages:1,totalItems:((be=fe.accs)==null?void 0:be.length)||0}})):(se=Array.isArray(fe)?fe:[],G||Y(he=>({...he,totalPages:1,totalItems:se.length}))),a(se),i(se),o(se)}catch(ue){console.error("Failed to load ACCs:",ue),a([]),i([]),o([])}finally{m(!1)}},O=G=>{let ue="asc";S.key===G&&S.direction==="asc"&&(ue="desc"),I({key:G,direction:ue})};c.useEffect(()=>{if((D===""&&X==="all"||H!=="all")&&n.length>0){let ue=[...n];H!=="all"&&(ue=ue.filter(Ee=>Ee.status===H)),S.key&&ue.sort((Ee,Ae)=>{let Pe=Ee[S.key],Ne=Ae[S.key];return S.key==="created_at"?(Pe=new Date(Pe),Ne=new Date(Ne)):typeof Pe=="string"&&(Pe=Pe.toLowerCase(),Ne=Ne.toLowerCase()),Pe<Ne?S.direction==="asc"?-1:1:Pe>Ne?S.direction==="asc"?1:-1:0});const fe=ue.length,se=Math.ceil(fe/U.perPage),he=U.currentPage>se?Math.max(1,se):U.currentPage,be=(he-1)*U.perPage,_e=be+U.perPage,De=ue.slice(be,_e);o(De),Y(Ee=>({...Ee,totalItems:fe,totalPages:se||1,currentPage:he}))}else{let ue=[...r];S.key&&ue.sort((fe,se)=>{let he=fe[S.key],be=se[S.key];return S.key==="created_at"?(he=new Date(he),be=new Date(be)):typeof he=="string"&&(he=he.toLowerCase(),be=be.toLowerCase()),he<be?S.direction==="asc"?-1:1:he>be?S.direction==="asc"?1:-1:0}),o(ue)}},[S,r,n,H,U.perPage,U.currentPage,D,X]);const M=G=>{Y(ue=>({...ue,currentPage:G}))},re=G=>{Y(ue=>({...ue,perPage:G,currentPage:1}))},J=async G=>{try{const ue=await Ye.getACCDetails(G.id),fe={...ue.acc,categories:ue.acc.categories||[]};g(fe),p(!0)}catch(ue){console.error("Failed to load ACC details:",ue);const fe={...G,categories:G.categories||[]};g(fe),p(!0)}},te=async()=>{if(!b||isNaN(b)){alert("Please enter a valid commission percentage");return}const G=parseFloat(b);if(G<0||G>100){alert("Commission percentage must be between 0 and 100");return}A(!0);try{await Ye.setCommissionPercentage(h.id,{commission_percentage:G}),await z(),Y(ue=>({...ue,currentPage:1})),x(!1),g(null),_(""),alert("Commission percentage set successfully!")}catch(ue){alert("Failed to set commission: "+(ue.message||"Unknown error"))}finally{A(!1)}},K=async G=>{try{const fe=(await Ye.getACCDetails(G.id)).acc;g(fe),E({name:fe.name||"",legal_name:fe.legal_name||"",registration_number:fe.registration_number||"",country:fe.country||"",address:fe.address||"",phone:fe.phone||"",email:fe.email||"",website:fe.website||"",logo_url:fe.logo_url||"",status:fe.status||"active",registration_fee_paid:fe.registration_fee_paid||!1,registration_fee_amount:fe.registration_fee_amount||"",commission_percentage:fe.commission_percentage||""}),N({}),w(!0)}catch(ue){console.error("Failed to load ACC details:",ue),alert("Failed to load ACC details")}},ie=G=>{const{name:ue,value:fe,type:se,checked:he}=G.target;E({...C,[ue]:se==="checkbox"?he:fe}),N({})},V=async G=>{var ue,fe,se,he;G.preventDefault(),A(!0),N({});try{await Ye.updateACC(h.id,C),await z(),w(!1),g(null),alert("ACC updated successfully!")}catch(be){(fe=(ue=be.response)==null?void 0:ue.data)!=null&&fe.errors?N(be.response.data.errors):N({general:((he=(se=be.response)==null?void 0:se.data)==null?void 0:he.message)||be.message||"Failed to update ACC"})}finally{A(!1)}},ae=async G=>{try{const ue=await Ye.getACCCategories(G.id),fe={...ue.acc,categories:ue.categories||[]};g(fe),v(!0)}catch(ue){console.error("Failed to load ACC categories:",ue);try{const fe=await Ye.getACCDetails(G.id),se={...fe.acc,categories:fe.acc.categories||[]};g(se),v(!0)}catch(fe){console.error("Failed to load ACC details:",fe);const se={...G,categories:G.categories||[]};g(se),v(!0)}}},ce=async()=>{var G,ue;if(!L){alert("Please select a category");return}A(!0);try{await Ye.assignCategoryToACC(h.id,{category_id:parseInt(L)});const fe=await Ye.getACCCategories(h.id),se={...fe.acc,categories:fe.categories||[]};g(se),$(""),await Z(),alert("Category assigned successfully!")}catch(fe){const se=((ue=(G=fe.response)==null?void 0:G.data)==null?void 0:ue.message)||fe.message||"Unknown error";alert("Failed to assign category: "+se)}finally{A(!1)}},B=async G=>{var ue,fe;if(confirm("Are you sure you want to remove this category?")){A(!0);try{await Ye.removeCategoryFromACC(h.id,{category_id:G});const se=await Ye.getACCCategories(h.id),he={...se.acc,categories:se.categories||[]};g(he),await Z(),alert("Category removed successfully!")}catch(se){const he=((fe=(ue=se.response)==null?void 0:ue.data)==null?void 0:fe.message)||se.message||"Unknown error";alert("Failed to remove category: "+he)}finally{A(!1)}}},pe=n.length,W=n.filter(G=>G.status==="active").length,ge=n.filter(G=>G.status==="pending").length;return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>{F("all"),Y(G=>({...G,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${H==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:pe})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xe,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{F("active"),Y(G=>({...G,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${H==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:W})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{F("pending"),Y(G=>({...G,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${H==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:ge})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:D,onChange:G=>{q(G.target.value),F("all"),Y(ue=>({...ue,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:X,onChange:G=>{ne(G.target.value),F("all"),Y(ue=>({...ue,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>O("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["ACC Name",S.key==="name"&&(S.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>O("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",S.key==="email"&&(S.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>O("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",S.key==="status"&&(S.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>O("commission_percentage"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Commission %",S.key==="commission_percentage"&&(S.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>O("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Created",S.key==="created_at"&&(S.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Xe,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No ACCs found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No ACCs available"})]})})}):l.map((G,ue)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>J(G),style:{"--animation-delay":`${ue*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Xe,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:G.name})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),G.email]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${G.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":G.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:G.status.charAt(0).toUpperCase()+G.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:G.commission_percentage?`${G.commission_percentage}%`:t.jsx("span",{className:"text-gray-400",children:"Not Set"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:G.created_at?new Date(G.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:fe=>fe.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>J(G),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),t.jsx("button",{onClick:fe=>{fe.stopPropagation(),K(G)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit ACC",children:t.jsx(rs,{size:16})})]})})]},G.id))})]})}),!d&&U.totalItems>0&&t.jsx(Ft,{currentPage:U.currentPage,totalPages:U.totalPages,totalItems:U.totalItems,perPage:U.perPage,onPageChange:M,onPerPageChange:re})]}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),g(null)},title:"ACC Details",size:"lg",children:h&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.email})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${h.status==="active"?"bg-green-100 text-green-800":h.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.status})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:h.commission_percentage?`${h.commission_percentage}%`:"Not Set"})]}),h.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(h.created_at).toLocaleDateString()})]})]}),h.subscriptions&&h.subscriptions.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subscriptions"}),t.jsx("div",{className:"space-y-2",children:h.subscriptions.map((G,ue)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[G.subscription_start_date," - ",G.subscription_end_date]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",G.payment_status]})]},ue))})]}),h.categories&&Array.isArray(h.categories)&&h.categories.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assigned Categories"}),t.jsx("div",{className:"space-y-2",children:h.categories.map(G=>{const ue=typeof G=="object"?G.id:G,fe=typeof G=="object"?G.name:`Category ${ue}`;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:t.jsx("span",{className:"font-medium text-gray-900",children:fe})},ue)})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,icon:t.jsx(rs,{size:20}),onClick:()=>{p(!1),K(h)},children:"Edit ACC"}),t.jsx(rt,{variant:"primary",fullWidth:!0,icon:t.jsx(ci,{size:20}),onClick:()=>{p(!1),ae(h)},children:"Manage Categories"})]})]})}),t.jsx(Be,{isOpen:f,onClose:()=>{x(!1),g(null),_("")},title:`Set Commission for ${h==null?void 0:h.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(ve,{label:"Commission Percentage (0-100)",name:"commission_percentage",type:"number",value:b,onChange:G=>_(G.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"e.g., 15.5"}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{x(!1),g(null),_("")},children:"Cancel"}),t.jsx(rt,{variant:"primary",fullWidth:!0,onClick:te,disabled:P,loading:P,children:"Save Commission"})]})]})}),t.jsx(Be,{isOpen:y,onClose:()=>{w(!1),g(null),E({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),N({})},title:`Edit ACC: ${h==null?void 0:h.name}`,size:"lg",children:t.jsxs("form",{onSubmit:V,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Name",name:"name",value:C.name,onChange:ie,error:T.name}),t.jsx(ve,{label:"Legal Name",name:"legal_name",value:C.legal_name,onChange:ie,error:T.legal_name}),t.jsx(ve,{label:"Registration Number",name:"registration_number",value:C.registration_number,onChange:ie,error:T.registration_number}),t.jsx(ve,{label:"Country",name:"country",value:C.country,onChange:ie,error:T.country}),t.jsx(ve,{label:"Address",name:"address",value:C.address,onChange:ie,textarea:!0,rows:2,error:T.address}),t.jsx(ve,{label:"Phone",name:"phone",value:C.phone,onChange:ie,error:T.phone}),t.jsx(ve,{label:"Email",name:"email",type:"email",value:C.email,onChange:ie,error:T.email}),t.jsx(ve,{label:"Website",name:"website",type:"url",value:C.website,onChange:ie,error:T.website}),t.jsx(ve,{label:"Logo URL",name:"logo_url",type:"url",value:C.logo_url,onChange:ie,error:T.logo_url}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:C.status,onChange:ie,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"},{value:"rejected",label:"Rejected"}],error:T.status}),t.jsx(ve,{label:"Registration Fee Amount",name:"registration_fee_amount",type:"number",value:C.registration_fee_amount,onChange:ie,min:"0",step:"0.01",error:T.registration_fee_amount}),t.jsx(ve,{label:"Commission Percentage",name:"commission_percentage",type:"number",value:C.commission_percentage,onChange:ie,min:"0",max:"100",step:"0.1",error:T.commission_percentage}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registration_fee_paid",checked:C.registration_fee_paid,onChange:ie,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Registration Fee Paid"})]})]}),T.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:T.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{w(!1),g(null),N({})},children:"Cancel"}),t.jsx(rt,{variant:"primary",fullWidth:!0,type:"submit",disabled:P,loading:P,children:"Save Changes"})]})]})}),t.jsx(Be,{isOpen:j,onClose:()=>{v(!1),g(null),$("")},title:`Manage Categories for ${h==null?void 0:h.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assign Category"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:L,onChange:G=>$(G.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer category-select",children:[t.jsx("option",{value:"",children:"Select a category..."}),R.filter(G=>!(h!=null&&h.categories)||h.categories.length===0?!0:!h.categories.some(ue=>{const fe=typeof ue=="object"?ue.id:ue,se=typeof G=="object"?G.id:G;return fe===se})).map(G=>t.jsx("option",{value:G.id,children:G.name},G.id))]}),t.jsx(rt,{onClick:ce,disabled:!L||P,loading:P,icon:t.jsx($s,{size:20}),children:"Assign"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Assigned Categories ",(h==null?void 0:h.categories)&&Array.isArray(h.categories)&&h.categories.length>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",h.categories.length,")"]})]}),h!=null&&h.categories&&Array.isArray(h.categories)&&h.categories.length>0?t.jsx("div",{className:"space-y-3",children:h.categories.map(G=>{const ue=G.id,fe=G.sub_categories||[],se=G.pivot;return G.created_by,t.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:G.name}),G.name_ar&&t.jsxs("span",{className:"text-sm text-gray-500",children:["(",G.name_ar,")"]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),G.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.description}),fe.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Sub Categories (",fe.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:fe.map(he=>t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded",children:he.name},he.id))})]}),se&&t.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Assigned on: ",new Date(se.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>B(ue),disabled:P,className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-4",title:"Remove Category",children:t.jsx(dr,{size:16})})]})},ue)})}):t.jsxs("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[t.jsx(ci,{className:"mx-auto text-gray-400 mb-2",size:32}),t.jsx("p",{className:"text-gray-500",children:"No categories assigned"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign categories to this ACC to get started"})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{v(!1),g(null),$("")},children:"Close"})})]})})]})},tE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState(!0),[u,p]=c.useState(!1),[f,x]=c.useState(!1),[y,w]=c.useState(null),[j,v]=c.useState("all"),[h,g]=c.useState("all"),[b,_]=c.useState({key:null,direction:"asc"}),[P,A]=c.useState(""),[R,k]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[L,$]=c.useState(!1),[C,E]=c.useState({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),[T,N]=c.useState({});c.useEffect(()=>{S(P===""&&j==="all")},[R.currentPage,R.perPage,P,j]);const S=async(z=!1)=>{m(!0);try{const O={page:z?1:R.currentPage,per_page:z?1e3:R.perPage};P&&(O.search=P),j!=="all"&&h==="all"&&(O.status=j);const M=await Ye.listTrainingCenters(O);let re=[];M.data?(re=M.data||[],z||k(J=>({...J,totalPages:M.last_page||M.total_pages||1,totalItems:M.total||0}))):M.training_centers?(re=M.training_centers||[],z||k(J=>{var te;return{...J,totalPages:1,totalItems:((te=M.training_centers)==null?void 0:te.length)||0}})):(re=Array.isArray(M)?M:[],z||k(J=>({...J,totalPages:1,totalItems:re.length}))),a(re),i(re),o(re)}catch(O){console.error("Failed to load training centers:",O),a([]),i([]),o([])}finally{m(!1)}},I=z=>{k(O=>({...O,currentPage:z}))},D=z=>{k(O=>({...O,perPage:z,currentPage:1}))},q=z=>{let O="asc";b.key===z&&b.direction==="asc"&&(O="desc"),_({key:z,direction:O})};c.useEffect(()=>{if((P===""&&j==="all"||h!=="all")&&n.length>0){let O=[...n];h!=="all"&&(O=O.filter(V=>V.status===h)),b.key&&O.sort((V,ae)=>{let ce=V[b.key],B=ae[b.key];return b.key==="created_at"?(ce=new Date(ce),B=new Date(B)):typeof ce=="string"&&(ce=ce.toLowerCase(),B=B.toLowerCase()),ce<B?b.direction==="asc"?-1:1:ce>B?b.direction==="asc"?1:-1:0});const M=O.length,re=Math.ceil(M/R.perPage),J=R.currentPage>re?Math.max(1,re):R.currentPage,te=(J-1)*R.perPage,K=te+R.perPage,ie=O.slice(te,K);o(ie),k(V=>({...V,totalItems:M,totalPages:re||1,currentPage:J}))}else{let O=[...r];b.key&&O.sort((M,re)=>{let J=M[b.key],te=re[b.key];return b.key==="created_at"?(J=new Date(J),te=new Date(te)):typeof J=="string"&&(J=J.toLowerCase(),te=te.toLowerCase()),J<te?b.direction==="asc"?-1:1:J>te?b.direction==="asc"?1:-1:0}),o(O)}},[b,r,n,h,R.perPage,R.currentPage,P,j]);const X=async z=>{try{const O=await Ye.getTrainingCenterDetails(z.id);w(O.training_center),p(!0)}catch(O){console.error("Failed to load training center details:",O),w(z),p(!0)}},ne=async z=>{try{const M=(await Ye.getTrainingCenterDetails(z.id)).training_center;w(M),E({name:M.name||"",legal_name:M.legal_name||"",registration_number:M.registration_number||"",country:M.country||"",city:M.city||"",address:M.address||"",phone:M.phone||"",email:M.email||"",website:M.website||"",logo_url:M.logo_url||"",referred_by_group:M.referred_by_group||!1,status:M.status||"active"}),N({}),x(!0)}catch(O){console.error("Failed to load training center details:",O),alert("Failed to load training center details")}},H=z=>{const{name:O,value:M,type:re,checked:J}=z.target;E({...C,[O]:re==="checkbox"?J:M}),N({})},F=async z=>{var O,M,re,J;z.preventDefault(),$(!0),N({});try{await Ye.updateTrainingCenter(y.id,C),await S(),x(!1),w(null),alert("Training center updated successfully!")}catch(te){(M=(O=te.response)==null?void 0:O.data)!=null&&M.errors?N(te.response.data.errors):N({general:((J=(re=te.response)==null?void 0:re.data)==null?void 0:J.message)||te.message||"Failed to update training center"})}finally{$(!1)}},U=n.length,Y=n.filter(z=>z.status==="active").length,Z=n.filter(z=>z.status==="pending").length;return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{onClick:()=>{g("all"),k(z=>({...z,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${h==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:U})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xe,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{g("active"),k(z=>({...z,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${h==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:Y})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{g("pending"),k(z=>({...z,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${h==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:Z})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:P,onChange:z=>{A(z.target.value),g("all"),k(O=>({...O,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:z=>{v(z.target.value),g("all"),k(O=>({...O,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>q("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",b.key==="name"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>q("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",b.key==="email"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>q("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",b.key==="status"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>q("country"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Country",b.key==="country"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>q("created_at"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Created",b.key==="created_at"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ml,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No training centers found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No training centers match your search criteria"})]})})}):l.map((z,O)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>X(z),style:{"--animation-delay":`${O*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Ml,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:z.name||"N/A"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),z.email||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${z.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":z.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:z.status?z.status.charAt(0).toUpperCase()+z.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),z.country||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:z.created_at?new Date(z.created_at).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:M=>M.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>X(z),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),t.jsx("button",{onClick:M=>{M.stopPropagation(),ne(z)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit Training Center",children:t.jsx(rs,{size:16})})]})})]},z.id||O))})]})}),!d&&R.totalItems>0&&t.jsx(Ft,{currentPage:R.currentPage,totalPages:R.totalPages,totalItems:R.totalItems,perPage:R.perPage,onPageChange:I,onPerPageChange:D})]}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),w(null)},title:"Training Center Details",size:"lg",children:y&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${y.status==="active"?"bg-green-100 text-green-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:y.status||"N/A"})]}),y.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Country"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.country})]}),y.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(y.created_at).toLocaleDateString()})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(rt,{variant:"outline",fullWidth:!0,icon:t.jsx(rs,{size:20}),onClick:()=>{p(!1),ne(y)},children:"Edit Training Center"})})]})}),t.jsx(Be,{isOpen:f,onClose:()=>{x(!1),w(null),E({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),N({})},title:`Edit Training Center: ${y==null?void 0:y.name}`,size:"lg",children:t.jsxs("form",{onSubmit:F,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Name",name:"name",value:C.name,onChange:H,error:T.name}),t.jsx(ve,{label:"Legal Name",name:"legal_name",value:C.legal_name,onChange:H,error:T.legal_name}),t.jsx(ve,{label:"Registration Number",name:"registration_number",value:C.registration_number,onChange:H,error:T.registration_number}),t.jsx(ve,{label:"Country",name:"country",value:C.country,onChange:H,error:T.country}),t.jsx(ve,{label:"City",name:"city",value:C.city,onChange:H,error:T.city}),t.jsx(ve,{label:"Address",name:"address",value:C.address,onChange:H,textarea:!0,rows:2,error:T.address}),t.jsx(ve,{label:"Phone",name:"phone",value:C.phone,onChange:H,error:T.phone}),t.jsx(ve,{label:"Email",name:"email",type:"email",value:C.email,onChange:H,error:T.email}),t.jsx(ve,{label:"Website",name:"website",type:"url",value:C.website,onChange:H,error:T.website}),t.jsx(ve,{label:"Logo URL",name:"logo_url",type:"url",value:C.logo_url,onChange:H,error:T.logo_url}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:C.status,onChange:H,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:T.status}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"referred_by_group",checked:C.referred_by_group,onChange:H,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Referred by Group"})]})]}),T.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:T.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{x(!1),w(null),N({})},children:"Cancel"}),t.jsx(rt,{variant:"primary",fullWidth:!0,type:"submit",disabled:L,loading:L,children:"Save Changes"})]})]})})]})},sE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState(!0),[u,p]=c.useState(!1),[f,x]=c.useState(!1),[y,w]=c.useState(null),[j,v]=c.useState(!1),[h,g]=c.useState({key:null,direction:"asc"}),[b,_]=c.useState(""),[P,A]=c.useState("all"),[R,k]=c.useState("all"),[L,$]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[C,E]=c.useState(!1),[T,N]=c.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv_url:"",certificates_json:[],specializations:[],status:"active"}),[S,I]=c.useState({});c.useEffect(()=>{D(b===""&&P==="all")},[L.currentPage,L.perPage,b,P]),c.useEffect(()=>(e("Instructors"),s("View and manage all instructors across all ACCs"),()=>{e(null),s(null)}),[e,s]);const D=async(J=!1)=>{m(!0);try{const te={page:J?1:L.currentPage,per_page:J?1e3:L.perPage};b&&(te.search=b),P!=="all"&&R==="all"&&(te.status=P);const K=await Ye.listInstructors(te);let ie=[];K.data?(ie=K.data||[],J||$(V=>({...V,totalPages:K.last_page||K.total_pages||1,totalItems:K.total||0}))):K.instructors?(ie=K.instructors||[],J||$(V=>{var ae;return{...V,totalPages:1,totalItems:((ae=K.instructors)==null?void 0:ae.length)||0}})):(ie=Array.isArray(K)?K:[],J||$(V=>({...V,totalPages:1,totalItems:ie.length}))),a(ie),i(ie),o(ie)}catch(te){console.error("Failed to load instructors:",te),a([]),i([]),o([])}finally{m(!1)}},q=J=>{$(te=>({...te,currentPage:J}))},X=J=>{$(te=>({...te,perPage:J,currentPage:1}))},ne=J=>{let te="asc";h.key===J&&h.direction==="asc"&&(te="desc"),g({key:J,direction:te})};c.useEffect(()=>{if((b===""&&P==="all"||R!=="all")&&n.length>0){let te=[...n];R!=="all"&&(te=te.filter(pe=>pe.status===R)),h.key&&te.sort((pe,W)=>{let ge,G;if(h.key==="name")ge=`${pe.first_name||""} ${pe.last_name||""}`.trim().toLowerCase(),G=`${W.first_name||""} ${W.last_name||""}`.trim().toLowerCase();else if(h.key==="training_center"){const ue=pe.training_center,fe=W.training_center;ge=typeof ue=="string"?ue:((ue==null?void 0:ue.name)||"").toLowerCase(),G=typeof fe=="string"?fe:((fe==null?void 0:fe.name)||"").toLowerCase()}else ge=pe[h.key]||"",G=W[h.key]||"";return typeof ge=="string"&&(ge=ge.toLowerCase(),G=G.toLowerCase()),ge<G?h.direction==="asc"?-1:1:ge>G?h.direction==="asc"?1:-1:0});const K=te.length,ie=Math.ceil(K/L.perPage),V=L.currentPage>ie?Math.max(1,ie):L.currentPage,ae=(V-1)*L.perPage,ce=ae+L.perPage,B=te.slice(ae,ce);o(B),$(pe=>({...pe,totalItems:K,totalPages:ie||1,currentPage:V}))}else{let te=[...r];h.key&&te.sort((K,ie)=>{let V,ae;if(h.key==="name")V=`${K.first_name||""} ${K.last_name||""}`.trim().toLowerCase(),ae=`${ie.first_name||""} ${ie.last_name||""}`.trim().toLowerCase();else if(h.key==="training_center"){const ce=K.training_center,B=ie.training_center;V=typeof ce=="string"?ce:((ce==null?void 0:ce.name)||"").toLowerCase(),ae=typeof B=="string"?B:((B==null?void 0:B.name)||"").toLowerCase()}else V=K[h.key]||"",ae=ie[h.key]||"";return typeof V=="string"&&(V=V.toLowerCase(),ae=ae.toLowerCase()),V<ae?h.direction==="asc"?-1:1:V>ae?h.direction==="asc"?1:-1:0}),o(te)}},[h,r,n,R,L.perPage,L.currentPage,b,P]);const H=async J=>{var te;v(!0),p(!0);try{const K=await Ye.getInstructorDetails(J.id);w(K.instructor)}catch(K){console.error("Failed to load instructor details:",K),w(J),((te=K.response)==null?void 0:te.status)===404&&alert("Instructor not found")}finally{v(!1)}},F=async J=>{try{const K=(await Ye.getInstructorDetails(J.id)).instructor;w(K),N({first_name:K.first_name||"",last_name:K.last_name||"",email:K.email||"",phone:K.phone||"",id_number:K.id_number||"",cv_url:K.cv_url||"",certificates_json:K.certificates_json||[],specializations:K.specializations||[],status:K.status||"active"}),I({}),x(!0)}catch(te){console.error("Failed to load instructor details:",te),alert("Failed to load instructor details")}},U=J=>{const{name:te,value:K}=J.target;N({...T,[te]:K}),I({})},Y=J=>{const K=J.target.value.split(",").map(ie=>ie.trim()).filter(ie=>ie);N({...T,specializations:K})},Z=async J=>{var te,K,ie,V;J.preventDefault(),E(!0),I({});try{await Ye.updateInstructor(y.id,T),await D(),x(!1),w(null),alert("Instructor updated successfully!")}catch(ae){(K=(te=ae.response)==null?void 0:te.data)!=null&&K.errors?I(ae.response.data.errors):I({general:((V=(ie=ae.response)==null?void 0:ie.data)==null?void 0:V.message)||ae.message||"Failed to update instructor"})}finally{E(!1)}},z=n.length,O=n.filter(J=>J.status==="active").length,M=n.filter(J=>J.status==="pending").length,re=n.filter(J=>J.status==="suspended").length;return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{onClick:()=>{k("all"),$(J=>({...J,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:z})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(dt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("active"),$(J=>({...J,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:O})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("pending"),$(J=>({...J,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:M})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("suspended"),$(J=>({...J,currentPage:1}))},className:`bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="suspended"?"ring-2 ring-red-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Suspended"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:re})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ht,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:b,onChange:J=>{_(J.target.value),k("all"),$(te=>({...te,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:P,onChange:J=>{A(J.target.value),k("all"),$(te=>({...te,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Instructor",h.key==="name"&&(h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",h.key==="email"&&(h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("phone"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Phone",h.key==="phone"&&(h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("training_center"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",h.key==="training_center"&&(h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",h.key==="status"&&(h.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(dt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No instructors found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No instructors match your search criteria"})]})})}):l.map((J,te)=>{const K={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Ke},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:nt},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ht},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:nt}},ie=K[J.status]||K.inactive,V=ie.icon,ae=J.training_center?typeof J.training_center=="string"?J.training_center:J.training_center.name:"N/A";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>H(J),style:{"--animation-delay":`${te*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(dt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:[J.first_name," ",J.last_name]}),J.id_number&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",J.id_number]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),J.email]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:J.phone?t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Qs,{className:"h-4 w-4 mr-2 text-gray-400"}),J.phone]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Xe,{className:"h-4 w-4 mr-2 text-gray-400"}),ae]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${ie.bg} ${ie.text} border ${ie.border}`,children:[t.jsx(V,{size:14,className:"mr-1"}),J.status.charAt(0).toUpperCase()+J.status.slice(1)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:ce=>ce.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>H(J),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),t.jsx("button",{onClick:ce=>{ce.stopPropagation(),F(J)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit Instructor",children:t.jsx(rs,{size:16})})]})})]},J.id||te)})})]})}),!d&&L.totalItems>0&&t.jsx(Ft,{currentPage:L.currentPage,totalPages:L.totalPages,totalItems:L.totalItems,perPage:L.perPage,onPageChange:q,onPerPageChange:X})]}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),w(null)},title:"Instructor Details",size:"lg",children:j?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):y?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:16,className:"mr-2"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:16,className:"mr-2"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.phone||"N/A"})]}),y.id_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:y.id_number})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${y.status==="active"?"bg-green-100 text-green-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.status})]})]}),y.specializations&&y.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specializations"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:y.specializations.map((J,te)=>t.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:J},te))})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(rt,{variant:"outline",fullWidth:!0,icon:t.jsx(rs,{size:20}),onClick:()=>{p(!1),F(y)},children:"Edit Instructor"})})]}):null}),t.jsx(Be,{isOpen:f,onClose:()=>{x(!1),w(null),N({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv_url:"",certificates_json:[],specializations:[],status:"active"}),I({})},title:`Edit Instructor: ${y==null?void 0:y.first_name} ${y==null?void 0:y.last_name}`,size:"lg",children:t.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"First Name",name:"first_name",value:T.first_name,onChange:U,error:S.first_name}),t.jsx(ve,{label:"Last Name",name:"last_name",value:T.last_name,onChange:U,error:S.last_name}),t.jsx(ve,{label:"Email",name:"email",type:"email",value:T.email,onChange:U,error:S.email}),t.jsx(ve,{label:"Phone",name:"phone",value:T.phone,onChange:U,error:S.phone}),t.jsx(ve,{label:"ID Number",name:"id_number",value:T.id_number,onChange:U,error:S.id_number}),t.jsx(ve,{label:"CV URL",name:"cv_url",type:"url",value:T.cv_url,onChange:U,error:S.cv_url}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:T.status,onChange:U,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:S.status}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),t.jsx("input",{type:"text",value:T.specializations.join(", "),onChange:Y,placeholder:"e.g., Aviation Safety, Aircraft Maintenance",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),S.specializations&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.specializations})]})]}),S.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:S.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(rt,{variant:"outline",fullWidth:!0,onClick:()=>{x(!1),w(null),I({})},children:"Cancel"}),t.jsx(rt,{variant:"primary",fullWidth:!0,type:"submit",disabled:C,loading:C,children:"Save Changes"})]})]})})]})},rE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState([]),[u,p]=c.useState(0),[f,x]=c.useState(!0),[y,w]=c.useState(!1),[j,v]=c.useState(null),[h,g]=c.useState(!1),[b,_]=c.useState({key:null,direction:"asc"}),[P,A]=c.useState(""),[R,k]=c.useState("all"),[L,$]=c.useState("all"),[C,E]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{T()},[C.currentPage,C.perPage]),c.useEffect(()=>(e("Courses"),s("View and manage all courses across all ACCs"),()=>{e(null),s(null)}),[e,s]);const T=async()=>{x(!0);try{const F={page:C.currentPage,per_page:C.perPage},U=await Ye.listCourses(F);let Y=[];U.data?(Y=U.data||[],E(Z=>({...Z,totalPages:U.last_page||U.total_pages||1,totalItems:U.total||0}))):U.courses?(Y=U.courses||[],E(Z=>{var z;return{...Z,totalPages:1,totalItems:((z=U.courses)==null?void 0:z.length)||0}})):(Y=Array.isArray(U)?U:[],E(Z=>({...Z,totalPages:1,totalItems:Y.length}))),a(Y),o(Y),i(Y)}catch(F){console.error("Failed to load courses:",F),a([]),o([]),i([])}finally{x(!1)}},N=F=>{E(U=>({...U,currentPage:F}))},S=F=>{E(U=>({...U,perPage:F,currentPage:1}))},I=F=>{let U="asc";b.key===F&&b.direction==="asc"&&(U="desc"),_({key:F,direction:U})};c.useEffect(()=>{let F=[...r];if(R!=="all"&&(F=F.filter(U=>U.status===R)),L!=="all"&&(F=F.filter(U=>U.level===L)),P){const U=P.toLowerCase();F=F.filter(Y=>{const Z=(Y.name||"").toLowerCase(),z=(Y.code||"").toLowerCase();return Z.includes(U)||z.includes(U)})}b.key&&F.sort((U,Y)=>{let Z,z;if(b.key==="name")Z=(U.name||"").toLowerCase(),z=(Y.name||"").toLowerCase();else if(b.key==="acc"){const O=U.acc,M=Y.acc;Z=typeof O=="object"&&O?(O.name||"").toLowerCase():"",z=typeof M=="object"&&M?(M.name||"").toLowerCase():""}else if(b.key==="sub_category"){const O=U.sub_category,M=Y.sub_category;Z=typeof O=="object"&&O?(O.name||"").toLowerCase():"",z=typeof M=="object"&&M?(M.name||"").toLowerCase():""}else b.key==="duration_hours"?(Z=U.duration_hours||0,z=Y.duration_hours||0):(Z=U[b.key]||"",z=Y[b.key]||"");return b.key==="duration_hours"||typeof Z=="string"&&(Z=Z.toLowerCase(),z=z.toLowerCase()),Z<z?b.direction==="asc"?-1:1:Z>z?b.direction==="asc"?1:-1:0}),o(F),p(F.length)},[b,r,R,L,P]),c.useEffect(()=>{E(F=>F.currentPage!==1?{...F,currentPage:1}:F)},[R,L,P]),c.useEffect(()=>{const F=(C.currentPage-1)*C.perPage,U=F+C.perPage,Y=l.slice(F,U);m(Y)},[l,C.currentPage,C.perPage]);const D=async F=>{w(!0),g(!0);try{const U=await Ye.getCourseDetails(F.id);v(U.course||F)}catch(U){console.error("Failed to load course details:",U),v(F)}finally{g(!1)}},q=n.length,X=n.filter(F=>F.status==="active").length,ne=n.filter(F=>F.status==="inactive").length,H=n.filter(F=>F.status==="archived").length;return f?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{onClick:()=>{k("all"),E(F=>({...F,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Courses"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:q})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(es,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("active"),E(F=>({...F,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="active"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:X})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("inactive"),E(F=>({...F,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="inactive"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Inactive"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:ne})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{k("archived"),E(F=>({...F,currentPage:1}))},className:`bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-lg p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${R==="archived"?"ring-2 ring-gray-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Archived"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:H})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ht,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or code...",value:P,onChange:F=>{A(F.target.value),E(U=>({...U,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:L,onChange:F=>{$(F.target.value),E(U=>({...U,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Levels"}),t.jsx("option",{value:"beginner",children:"Beginner"}),t.jsx("option",{value:"intermediate",children:"Intermediate"}),t.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Course",b.key==="name"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("acc"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["ACC",b.key==="acc"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("sub_category"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Sub Category",b.key==="sub_category"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("level"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Level",b.key==="level"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("duration_hours"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Duration",b.key==="duration_hours"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>I("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",b.key==="status"&&(b.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(es,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No courses found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No courses match your search criteria"})]})})}):d.map((F,U)=>{const Y=F.acc&&typeof F.acc=="object"?F.acc.name:"N/A",Z=F.sub_category&&typeof F.sub_category=="object"?F.sub_category.name:"N/A";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>D(F),style:{"--animation-delay":`${U*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(es,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:F.name}),F.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:F.name_ar}),F.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",F.code]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Xe,{className:"h-4 w-4 mr-2 text-gray-400"}),Y]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-gray-600",children:[Z,F.sub_category&&typeof F.sub_category=="object"&&F.sub_category.category&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:F.sub_category.category.name})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:F.level||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(nt,{className:"h-4 w-4 mr-2 text-gray-400"}),F.duration_hours?`${F.duration_hours} hrs`:"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${F.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":F.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:F.status?F.status.charAt(0).toUpperCase()+F.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",onClick:z=>z.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>D(F),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),t.jsx("button",{onClick:z=>{z.stopPropagation(),D(F)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Course Info",children:t.jsx(tt,{size:16})})]})})]},F.id||U)})})]})}),!f&&u>0&&t.jsx(Ft,{currentPage:C.currentPage,totalPages:Math.ceil(u/C.perPage),totalItems:u,perPage:C.perPage,onPageChange:N,onPerPageChange:S})]}),t.jsx(Be,{isOpen:y,onClose:()=>{w(!1),v(null)},title:"Course Details",size:"xl",children:h?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):j?t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j.name||"N/A"})]}),j.name_ar&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:j.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:j.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:16,className:"mr-2"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:j.duration_hours?`${j.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${j.status==="active"?"bg-green-100 text-green-800":j.status==="inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:j.status||"N/A"})]})]}),j.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:j.description})]}),j.acc&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Xe,{className:"h-5 w-5 text-purple-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Accreditation Body (ACC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.acc.name||"N/A"})]}),j.acc.legal_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.acc.legal_name})]}),j.acc.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.acc.email})]}),j.acc.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.acc.phone})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${j.acc.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.acc.status||"N/A"})]})]})]}),j.sub_category&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(ks,{className:"h-5 w-5 text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Sub Category"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Sub Category Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.sub_category.name||"N/A"}),j.sub_category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.sub_category.name_ar})]}),j.sub_category.category&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Parent Category"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.sub_category.category.name||"N/A"}),j.sub_category.category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.sub_category.category.name_ar})]})]})]}),j.certificate_pricing&&j.certificate_pricing.length>0&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(os,{className:"h-5 w-5 text-yellow-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Certificate Pricing"})]}),t.jsx("div",{className:"space-y-3",children:j.certificate_pricing.map((F,U)=>t.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[parseFloat(F.base_price||0).toFixed(2)," ",F.currency||"USD"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[F.group_commission_percentage||"0","%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[F.training_center_commission_percentage||"0","%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[F.instructor_commission_percentage||"0","%"]})]}),F.effective_from&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective From"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(F.effective_from).toLocaleDateString()})]}),F.effective_to&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective To"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(F.effective_to).toLocaleDateString()})]})]})},U))})]}),j.classes&&j.classes.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Classes (",j.classes.length,")"]}),t.jsx("div",{className:"space-y-2",children:j.classes.map(F=>t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.name||`Class ${F.id}`}),t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${F.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.status||"N/A"})]},F.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[j.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(j.created_at).toLocaleString()})]}),j.updated_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(j.updated_at).toLocaleString()})]})]})]}):t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No course data available"})})]})},aE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState("categories"),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState(!0),[u,p]=c.useState(!1),[f,x]=c.useState(!1),[y,w]=c.useState(null),[j,v]=c.useState({name:"",name_ar:"",description:"",status:"active"}),[h,g]=c.useState({}),[b,_]=c.useState(!1),[P,A]=c.useState({key:null,direction:"asc"}),[R,k]=c.useState(""),[L,$]=c.useState("all"),[C,E]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[T,N]=c.useState([]),[S,I]=c.useState([]),[D,q]=c.useState(!0),[X,ne]=c.useState(!1),[H,F]=c.useState(!1),[U,Y]=c.useState(null),[Z,z]=c.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[O,M]=c.useState({}),[re,J]=c.useState(!1),[te,K]=c.useState({key:null,direction:"asc"}),[ie,V]=c.useState(""),[ae,ce]=c.useState("all"),[B,pe]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{W(),Ae()},[C.currentPage,C.perPage,R,L]),c.useEffect(()=>(e("Course Categories"),s("Manage global categories and sub-categories"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{r==="sub-categories"&&Ae()},[r,B.currentPage,B.perPage,ie,ae]);const W=async()=>{try{m(!0);const xe={page:C.currentPage,per_page:C.perPage};R&&(xe.search=R),L!=="all"&&(xe.status=L);const Re=await Ye.listCategories(xe);let de=[];Re!=null&&Re.data?(de=Array.isArray(Re.data)?Re.data:[],E(Q=>({...Q,totalPages:Re.last_page||Re.total_pages||1,totalItems:Re.total||0}))):Re!=null&&Re.categories?(de=Array.isArray(Re.categories)?Re.categories:[],E(Q=>{var me;return{...Q,totalPages:1,totalItems:((me=Re.categories)==null?void 0:me.length)||0}})):(de=Array.isArray(Re)?Re:[],E(Q=>({...Q,totalPages:1,totalItems:de.length}))),i(de),o(de)}catch(xe){console.error("Failed to load categories:",xe),i([]),o([])}finally{m(!1)}},ge=xe=>{E(Re=>({...Re,currentPage:xe}))},G=xe=>{E(Re=>({...Re,perPage:xe,currentPage:1}))},ue=xe=>{pe(Re=>({...Re,currentPage:xe}))},fe=xe=>{pe(Re=>({...Re,perPage:xe,currentPage:1}))},se=(xe=null)=>{xe?(w(xe),v({name:xe.name||"",name_ar:xe.name_ar||"",description:xe.description||"",status:xe.status||"active"})):(w(null),v({name:"",name_ar:"",description:"",status:"active"})),g({}),p(!0)},he=()=>{p(!1),w(null),v({name:"",name_ar:"",description:"",status:"active"}),g({})},be=xe=>{v({...j,[xe.target.name]:xe.target.value}),g({})},_e=async xe=>{xe.preventDefault(),_(!0),g({});try{y?await Ye.updateCategory(y.id,j):await Ye.createCategory(j),await W(),he(),E(Re=>({...Re,currentPage:1}))}catch(Re){Re.errors?g(Re.errors):g({general:Re.message||"Failed to save category"})}finally{_(!1)}},De=xe=>{w(xe),x(!0)},Ee=async()=>{try{await Ye.deleteCategory(y.id),await W(),E(xe=>({...xe,currentPage:1}))}catch(xe){alert("Failed to delete category: "+(xe.message||"Unknown error"))}x(!1),w(null)},Ae=async(xe=null)=>{q(!0);try{const Re={page:B.currentPage,per_page:B.perPage};xe&&(Re.category_id=xe),ie&&(Re.search=ie),ae!=="all"&&(Re.status=ae);const de=await Ye.listSubCategories(Re);let Q=[];de!=null&&de.data?(Q=Array.isArray(de.data)?de.data:[],pe(me=>({...me,totalPages:de.last_page||de.total_pages||1,totalItems:de.total||0}))):de!=null&&de.sub_categories?(Q=Array.isArray(de.sub_categories)?de.sub_categories:[],pe(me=>{var ke;return{...me,totalPages:1,totalItems:((ke=de.sub_categories)==null?void 0:ke.length)||0}})):(Q=Array.isArray(de)?de:[],pe(me=>({...me,totalPages:1,totalItems:Q.length}))),N(Q),I(Q)}catch(Re){console.error("Failed to load sub categories:",Re),N([]),I([])}finally{q(!1)}},Pe=xe=>{let Re="asc";P.key===xe&&P.direction==="asc"&&(Re="desc"),A({key:xe,direction:Re})},Ne=xe=>{let Re="asc";te.key===xe&&te.direction==="asc"&&(Re="desc"),K({key:xe,direction:Re})};c.useEffect(()=>{if(r!=="categories")return;let xe=[...n];P.key&&xe.sort((Re,de)=>{let Q,me;return P.key==="name"?(Q=(Re.name||"").toLowerCase(),me=(de.name||"").toLowerCase()):(Q=Re[P.key]||"",me=de[P.key]||""),typeof Q=="string"&&(Q=Q.toLowerCase(),me=me.toLowerCase()),Q<me?P.direction==="asc"?-1:1:Q>me?P.direction==="asc"?1:-1:0}),o(xe)},[P,n,r]),c.useEffect(()=>{if(r!=="sub-categories")return;let xe=[...T];te.key&&xe.sort((Re,de)=>{let Q,me;if(te.key==="name")Q=(Re.name||"").toLowerCase(),me=(de.name||"").toLowerCase();else if(te.key==="category_id"){const ke=n.find(Le=>Le.id===Re.category_id),$e=n.find(Le=>Le.id===de.category_id);Q=ke?(ke.name||"").toLowerCase():"",me=$e?($e.name||"").toLowerCase():""}else Q=Re[te.key]||"",me=de[te.key]||"";return typeof Q=="string"&&(Q=Q.toLowerCase(),me=me.toLowerCase()),Q<me?te.direction==="asc"?-1:1:Q>me?te.direction==="asc"?1:-1:0}),I(xe)},[te,T,r,n]);const Ue=(xe=null)=>{xe?(Y(xe),z({category_id:xe.category_id||"",name:xe.name||"",name_ar:xe.name_ar||"",description:xe.description||"",status:xe.status||"active"})):(Y(null),z({category_id:"",name:"",name_ar:"",description:"",status:"active"})),M({}),ne(!0)},oe=()=>{ne(!1),Y(null),z({category_id:"",name:"",name_ar:"",description:"",status:"active"}),M({})},ee=xe=>{z({...Z,[xe.target.name]:xe.target.value}),M({})},ye=async xe=>{var Re,de,Q,me;xe.preventDefault(),J(!0),M({});try{U?await Ye.updateSubCategory(U.id,Z):await Ye.createSubCategory(Z),await Ae(),oe(),pe(ke=>({...ke,currentPage:1}))}catch(ke){(de=(Re=ke.response)==null?void 0:Re.data)!=null&&de.errors?M(ke.response.data.errors):(me=(Q=ke.response)==null?void 0:Q.data)!=null&&me.message?M({general:ke.response.data.message}):M({general:ke.message||"Failed to save sub category"})}finally{J(!1)}},ze=xe=>{Y(xe),F(!0)},Se=async()=>{try{await Ye.deleteSubCategory(U.id),await Ae(),pe(xe=>({...xe,currentPage:1}))}catch(xe){alert("Failed to delete sub category: "+(xe.message||"Unknown error"))}F(!1),Y(null)},Ie=n.length,Ce=n.filter(xe=>xe.status==="active").length,We=T.length,Ge=T.filter(xe=>xe.status==="active").length;return d&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Categories"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:Ie})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active Categories"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:Ce})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Total Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:We})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ks,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-6 border border-purple-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-2",children:"Active Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-purple-900",children:Ge})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ks,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(tt,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(ks,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsx(rt,{onClick:()=>se(),icon:t.jsx($s,{size:20}),children:"Add Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:R,onChange:xe=>{k(xe.target.value),E(Re=>({...Re,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:L,onChange:xe=>{$(xe.target.value),E(Re=>({...Re,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",P.key==="name"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("description"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Description",P.key==="description"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",P.key==="status"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(tt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No categories match your search criteria"})]})})}):l.map((xe,Re)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${Re*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:xe.name}),xe.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:xe.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:xe.description||"-"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${xe.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:xe.status.charAt(0).toUpperCase()+xe.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>se(xe),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:()=>De(xe),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})})]},xe.id||Re))})]})}),!d&&r==="categories"&&C.totalItems>0&&t.jsx(Ft,{currentPage:C.currentPage,totalPages:C.totalPages,totalItems:C.totalItems,perPage:C.perPage,onPageChange:ge,onPerPageChange:G})]})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(rt,{onClick:()=>Ue(),icon:t.jsx($s,{size:20}),children:"Add Sub Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:ie,onChange:xe=>{V(xe.target.value),pe(Re=>({...Re,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:ae,onChange:xe=>{ce(xe.target.value),pe(Re=>({...Re,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),D?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Sub Category",te.key==="name"&&(te.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("category_id"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",te.key==="category_id"&&(te.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",te.key==="status"&&(te.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:S.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(ks,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No sub categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No sub categories match your search criteria"})]})})}):S.map((xe,Re)=>{const de=n.find(Q=>Q.id===xe.category_id);return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${Re*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:xe.name}),xe.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:xe.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:de?de.name:`Category ID: ${xe.category_id}`})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${xe.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:xe.status.charAt(0).toUpperCase()+xe.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Ue(xe),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:()=>ze(xe),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})})]},xe.id||Re)})})]})}),!D&&r==="sub-categories"&&B.totalItems>0&&t.jsx(Ft,{currentPage:B.currentPage,totalPages:B.totalPages,totalItems:B.totalItems,perPage:B.perPage,onPageChange:ue,onPerPageChange:fe})]})]}),t.jsx(Be,{isOpen:u,onClose:he,title:y?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[t.jsx(ve,{label:"Category Name (English)",name:"name",value:j.name,onChange:be,required:!0,error:h.name}),t.jsx(ve,{label:"Category Name (Arabic)",name:"name_ar",value:j.name_ar,onChange:be,error:h.name_ar}),t.jsx(ve,{label:"Description",name:"description",value:j.description,onChange:be,textarea:!0,rows:3,error:h.description}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:j.status,onChange:be,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:h.status}),h.general&&t.jsx("p",{className:"text-sm text-red-600",children:h.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:he,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(rt,{type:"submit",disabled:b,loading:b,fullWidth:!0,children:y?"Update":"Create"})]})]})}),t.jsx(da,{isOpen:f,onClose:()=>{x(!1),w(null)},onConfirm:Ee,title:"Delete Category",message:`Are you sure you want to delete "${y==null?void 0:y.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Be,{isOpen:X,onClose:oe,title:U?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[t.jsx(ve,{label:"Category",name:"category_id",type:"select",value:Z.category_id,onChange:ee,required:!0,options:n.map(xe=>({value:xe.id,label:xe.name||`Category ${xe.id}`})),error:O.category_id}),t.jsx(ve,{label:"Sub Category Name (English)",name:"name",value:Z.name,onChange:ee,required:!0,error:O.name}),t.jsx(ve,{label:"Sub Category Name (Arabic)",name:"name_ar",value:Z.name_ar,onChange:ee,error:O.name_ar}),t.jsx(ve,{label:"Description",name:"description",value:Z.description,onChange:ee,textarea:!0,rows:3,error:O.description}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:Z.status,onChange:ee,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:O.status}),O.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:O.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:oe,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(rt,{type:"submit",disabled:re,loading:re,fullWidth:!0,children:U?"Update":"Create"})]})]})}),t.jsx(da,{isOpen:H,onClose:()=>{F(!1),Y(null)},onConfirm:Se,title:"Delete Sub Category",message:`Are you sure you want to delete "${U==null?void 0:U.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},nE=()=>{var $;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState(null),[n,i]=c.useState([]),[l,o]=c.useState(null),[d,m]=c.useState([]),[u,p]=c.useState(!0),[f,x]=c.useState("overview"),[y,w]=c.useState(!1),[j,v]=c.useState(null),[h,g]=c.useState(""),[b,_]=c.useState("all");c.useEffect(()=>{P()},[f]),c.useEffect(()=>(e("Financial Overview"),s("View all financial transactions and settlements"),()=>{e(null),s(null)}),[e,s]);const P=async()=>{p(!0);try{if(f==="overview"){const[C,E]=await Promise.all([Ye.getFinancialDashboard(),Ye.getFinancialTransactions({page:1,per_page:10})]);a(C);const T=(E==null?void 0:E.data)||(E==null?void 0:E.transactions)||[];i(Array.isArray(T)?T:[]),o((E==null?void 0:E.summary)||null)}else{const C=await Ye.getSettlements();m(C.settlements||[])}}catch(C){console.error("Failed to load data:",C)}finally{p(!1)}},A=C=>{v(C),w(!0)},R=c.useMemo(()=>{let C=[...n];if(h){const E=h.toLowerCase();C=C.filter(T=>{const N=T.transaction_type||"",S=String(T.amount||""),I=T.currency||"",D=T.status||"";return N.toLowerCase().includes(E)||S.includes(E)||I.toLowerCase().includes(E)||D.toLowerCase().includes(E)})}return b!=="all"&&(C=C.filter(E=>E.status===b)),C},[n,h,b]),k=c.useMemo(()=>{let C=[...d];if(h){const E=h.toLowerCase();C=C.filter(T=>{const N=T.settlement_month||"",S=String(T.total_revenue||""),I=String(T.group_commission_amount||""),D=T.status||"";return N.toLowerCase().includes(E)||S.includes(E)||I.includes(E)||D.toLowerCase().includes(E)})}return b!=="all"&&(C=C.filter(E=>E.status===b)),C},[d,h,b]),L=C=>{x(C),g(""),_("all")};return t.jsxs("div",{className:"space-y-4",children:[r&&f==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:" Commission Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-primary-900",children:["$",parseFloat(r.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Total commission received"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xn,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" Monthly Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",parseFloat(r.monthly_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Commission this month"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(os,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending Settlements"}),t.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["$",parseFloat(r.pending_settlements||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(At,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Active ACCs"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.active_accs||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xn,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>L("overview"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${f==="overview"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(cr,{size:20,className:f==="overview"?"text-white":"text-gray-500"}),"Overview"]}),t.jsxs("button",{onClick:()=>L("settlements"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${f==="settlements"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(tt,{size:20,className:f==="settlements"?"text-white":"text-gray-500"}),"Settlements"]})]})}),f==="overview"&&t.jsxs(t.Fragment,{children:[l&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl shadow-lg p-6 border border-emerald-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-2",children:" Total Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-900 commission-amount",children:["$",parseFloat(l.total_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"From all transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(os,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl shadow-lg p-6 border border-teal-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-teal-700 mb-2",children:" Completed Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-teal-900 commission-amount",children:["$",parseFloat(l.completed_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"From completed transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xn,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:h,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:b,onChange:C=>_(C.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider commission-column",children:" Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Provider Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Currency"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:R.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(cr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:h||b!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):R.map((C,E)=>{var T,N,S;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${E*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(os,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors capitalize",children:((T=C.transaction_type)==null?void 0:T.replace("_"," "))||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(C.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.commission_amount?t.jsxs("div",{className:"text-sm font-semibold commission-cell highlight",children:[t.jsx("span",{className:"commission-icon",children:""}),t.jsxs("strong",{children:["$",parseFloat(C.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):t.jsx("span",{className:"text-sm text-gray-400 no-commission",children:"$0.00"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.provider_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["$",parseFloat(C.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600 uppercase",children:C.currency||"USD"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${C.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:((N=C.status)==null?void 0:N.charAt(0).toUpperCase())+((S=C.status)==null?void 0:S.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:C.created_at?new Date(C.created_at).toLocaleDateString():"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>A(C),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})})})})]},C.id||E)})})]})})})]}),f==="settlements"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search settlements...",value:h,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:b,onChange:C=>_(C.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Settlement Month"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Request Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(tt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No settlements found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:h||b!=="all"?"No settlements match your search criteria":"No settlements available"})]})})}):k.map((C,E)=>{var T,N;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${E*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(At,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:C.settlement_month||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(C.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(C.group_commission_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${C.status==="paid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":C.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:((T=C.status)==null?void 0:T.charAt(0).toUpperCase())+((N=C.status)==null?void 0:N.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:C.request_date?new Date(C.request_date).toLocaleDateString():"N/A"})})]},C.id||E)})})]})})})]}),t.jsx(Be,{isOpen:y,onClose:()=>{w(!1),v(null)},title:"Transaction Details",size:"md",children:j&&t.jsxs("div",{className:"modal-content-wrapper",children:[t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:($=j.transaction_type)==null?void 0:$.replace("_"," ")})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Total Amount"}),t.jsxs("p",{className:"modal-amount",children:["$",parseFloat(j.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),j.commission_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#92400E"},children:"Platform Commission"}),t.jsxs("p",{className:"modal-amount",style:{color:"#92400E"},children:["$",parseFloat(j.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by platform"})]}),j.provider_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#065F46"},children:"Provider Amount"}),t.jsxs("p",{className:"modal-amount",style:{color:"#065F46"},children:["$",parseFloat(j.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by ACC/provider"})]}),j.payment_type&&t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:j.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Currency"}),t.jsx("p",{className:"modal-value modal-value-uppercase",children:j.currency||"USD"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${j.status==="completed"?"status-completed":"status-pending"}`,children:j.status})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Date"}),t.jsx("p",{className:"modal-value",children:j.created_at?new Date(j.created_at).toLocaleDateString():"N/A"})]})]})})]})},iE=()=>{var H,F,U;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(null),[l,o]=c.useState(!0),[d,m]=c.useState(!1),[u,p]=c.useState(null),[f,x]=c.useState(""),[y,w]=c.useState("all"),[j,v]=c.useState("all"),[h,g]=c.useState("all"),[b,_]=c.useState("all"),[P,A]=c.useState(""),[R,k]=c.useState(""),[L,$]=c.useState(1),[C,E]=c.useState(15);c.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{T()},[L,C,y,j,h,b,P,R]);const T=async()=>{var Y,Z;o(!0);try{const z={page:L,per_page:C};y!=="all"&&(z.type=y),j!=="all"&&(z.status=j),h!=="all"&&(z.payer_type=h),b!=="all"&&(z.payee_type=b),P&&(z.date_from=P),R&&(z.date_to=R);const O=await Ye.getPaymentTransactions(z),M=(O==null?void 0:O.data)||O||[],re=(O==null?void 0:O.summary)||null;a(Array.isArray(M)?M:(M==null?void 0:M.data)||[]),i(re)}catch(z){console.error("Failed to load transactions:",z),(Z=(Y=z==null?void 0:z.response)==null?void 0:Y.data)!=null&&Z.message||z!=null&&z.message,console.error("Error details:",z),a([]),i(null)}finally{o(!1)}},N=Y=>{p(Y),m(!0)},S=c.useMemo(()=>{if(!f)return r;const Y=f.toLowerCase();return r.filter(Z=>{var ie,V;const z=Z.transaction_type||"",O=String(Z.amount||""),M=Z.currency||"",re=Z.status||"",J=Z.description||"",te=((ie=Z.payer)==null?void 0:ie.name)||"",K=((V=Z.payee)==null?void 0:V.name)||"";return z.toLowerCase().includes(Y)||O.includes(Y)||M.toLowerCase().includes(Y)||re.toLowerCase().includes(Y)||J.toLowerCase().includes(Y)||te.toLowerCase().includes(Y)||K.toLowerCase().includes(Y)})},[r,f]),I=(Y,Z="USD")=>`${parseFloat(Y||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${Z}`,D=Y=>Y?new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",q=Y=>Y?new Date(Y).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",X=Y=>{switch(Y){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},ne=Y=>(Y==null?void 0:Y.split("_").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" "))||"N/A";return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Transactions"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:n.total_transactions||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(cr,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Total Amount"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:I(n.total_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(os,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Completed"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:I(n.completed_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xn,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:I(n.pending_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(At,{className:"text-white",size:32})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:f,onChange:Y=>x(Y.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:y,onChange:Y=>{w(Y.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"material_purchase",children:"Material Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"}),t.jsx("option",{value:"settlement",children:"Settlement"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:Y=>{v(Y.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:h,onChange:Y=>{g(Y.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Payers"}),t.jsx("option",{value:"acc",children:"ACC"}),t.jsx("option",{value:"training_center",children:"Training Center"}),t.jsx("option",{value:"group",children:"Group"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:b,onChange:Y=>{_(Y.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Payees"}),t.jsx("option",{value:"group",children:"Group"}),t.jsx("option",{value:"acc",children:"ACC"}),t.jsx("option",{value:"instructor",children:"Instructor"})]})]}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date From",value:P,onChange:Y=>{A(Y.target.value),$(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date To",value:R,onChange:Y=>{k(Y.target.value),$(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})})]})]}),l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payer"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:S.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(cr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f||y!=="all"||j!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):S.map((Y,Z)=>{var z,O;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${Z*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(cr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:ne(Y.transaction_type)})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Y.payer?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:Y.payer.type==="acc"||Y.payer.type==="training_center"?t.jsx(Xe,{className:"h-4 w-4 text-blue-600"}):t.jsx(Xs,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.payer.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Y.payer.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Y.payee?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:Y.payee.type==="acc"||Y.payee.type==="training_center"?t.jsx(Xe,{className:"h-4 w-4 text-green-600"}):t.jsx(Xs,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.payee.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Y.payee.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:I(Y.amount,Y.currency)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${X(Y.status)}`,children:((z=Y.status)==null?void 0:z.charAt(0).toUpperCase())+((O=Y.status)==null?void 0:O.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:D(Y.created_at)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>N(Y),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})})})})]},Y.id||Z)})})]})})}),n&&n.total>0&&t.jsx(Ft,{currentPage:L||1,totalPages:Math.ceil((n.total||0)/C),totalItems:n.total||0,perPage:C,onPageChange:$,onPerPageChange:Y=>{E(Y),$(1)}})]}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),p(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:ne(u.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${X(u.status)}`,children:((H=u.status)==null?void 0:H.charAt(0).toUpperCase())+((F=u.status)==null?void 0:F.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I(u.amount,u.currency)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((U=u.payment_method)==null?void 0:U.replace("_"," "))||"N/A"})]})]}),u.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:u.description})]}),u.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:u.reference.type})]}),u.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(u.reference.details,null,2)})})]})]}),u.commission_ledgers&&u.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:u.commission_ledgers.map((Y,Z)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[Y.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:Y.acc.name})]}),Y.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:Y.training_center.name})]}),Y.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[I(Y.group_commission_amount)," (",Y.group_commission_percentage,"%)"]})]}),Y.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[I(Y.acc_commission_amount)," (",Y.acc_commission_percentage,"%)"]})]})]})},Y.id||Z))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:q(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:q(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:u.payment_gateway_transaction_id})]})]})})]})},ws=({columns:e,data:s,onEdit:r,onDelete:a,onView:n,onRowClick:i,isLoading:l=!1,emptyMessage:o="No data available",searchable:d=!0,filterable:m=!0,searchPlaceholder:u="Search...",filterOptions:p=null,sortable:f=!0,defaultFilter:x="all"})=>{var L;const[y,w]=c.useState(""),[j,v]=c.useState(x),[h,g]=c.useState(!1),[b,_]=c.useState({key:null,direction:"asc"}),P=c.useRef(null);c.useEffect(()=>{v(x)},[x]),c.useEffect(()=>{const $=C=>{P.current&&!P.current.contains(C.target)&&g(!1)};return h&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[h]);const A=($,C)=>{C.target.closest("button")||C.target.closest("a")||C.target.closest(".enrollment-clickable")||C.target.classList.contains("enrollment-clickable")||(i?i($):n&&n($))},R=$=>{if(!f||$.sortable===!1)return;let C="asc";b.key===$.accessor&&b.direction==="asc"&&(C="desc"),_({key:$.accessor,direction:C})},k=c.useMemo(()=>{let $=[...s];if(d&&y){const C=y.toLowerCase().trim();$=$.filter(E=>E._searchText&&typeof E._searchText=="string"&&E._searchText.includes(C)?!0:e.some(T=>{const N=E[T.accessor];return N==null?!1:typeof N=="object"&&!Array.isArray(N)?JSON.stringify(N).toLowerCase().includes(C):Array.isArray(N)?N.some(S=>String(S).toLowerCase().includes(C)):String(N).toLowerCase().includes(C)}))}if(m&&p&&j!=="all"){const C=p.find(E=>E.value===j);C&&C.filterFn&&($=$.filter(C.filterFn))}return f&&b.key&&$.sort((C,E)=>{if(!e.find(I=>I.accessor===b.key))return 0;let N=C[b.key],S=E[b.key];return N&&typeof N=="object"&&!Array.isArray(N)&&(N=N.name||N.title||JSON.stringify(N)),S&&typeof S=="object"&&!Array.isArray(S)&&(S=S.name||S.title||JSON.stringify(S)),N&&S&&(b.key.includes("date")||b.key.includes("Date"))&&(N=new Date(N),S=new Date(S)),typeof N=="number"&&typeof S=="number"?b.direction==="asc"?N-S:S-N:(N=(N==null?void 0:N.toString().toLowerCase())||"",S=(S==null?void 0:S.toString().toLowerCase())||"",N<S?b.direction==="asc"?-1:1:N>S?b.direction==="asc"?1:-1:0)}),$},[s,y,j,b,e,d,m,p,f]);return t.jsxs(t.Fragment,{children:[(d||m&&p)&&t.jsxs("div",{className:"data-table-search-container",children:[t.jsxs("div",{className:"data-table-search-content",children:[d&&t.jsxs("div",{className:"data-table-search-input-wrapper",children:[t.jsx(It,{className:"data-table-search-icon",size:18}),t.jsx("input",{type:"text",placeholder:u,value:y,onChange:$=>w($.target.value),className:"data-table-search-input"}),y&&t.jsx("button",{onClick:()=>w(""),className:"data-table-search-clear",children:t.jsx(dr,{size:16})})]}),m&&p&&t.jsxs("div",{className:"data-table-filter-wrapper",ref:P,children:[t.jsxs("button",{onClick:()=>g(!h),className:`data-table-filter-button ${j!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(Et,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((L=p.find($=>$.value===j))==null?void 0:L.label)||"All"})]}),h&&t.jsx("div",{className:"data-table-filter-dropdown",children:p.map($=>t.jsx("button",{onClick:()=>{v($.value),g(!1)},className:`data-table-filter-option ${j===$.value?"data-table-filter-option-active":""}`,children:$.label},$.value))})]})]}),y&&t.jsxs("div",{className:"data-table-search-results",children:["Showing ",k.length," of ",s.length," results"]})]}),t.jsx("div",{className:"data-table-container",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"data-table-header",children:t.jsxs("tr",{children:[e.map(($,C)=>{const E=f&&$.sortable!==!1,T=b.key===$.accessor;return t.jsx("th",{className:`data-table-th ${E?"data-table-th-sortable":""}`,onClick:()=>E&&R($),children:t.jsxs("div",{className:"data-table-th-content",children:[t.jsx("span",{children:$.header}),E&&t.jsx("span",{className:"data-table-sort-icon",children:T?b.direction==="asc"?t.jsx(gS,{size:14}):t.jsx(fS,{size:14}):t.jsx(hS,{size:14})})]})},C)}),(r||a||n)&&t.jsx("th",{className:"data-table-th",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):k.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||a||n?1:0),className:"px-6 py-12 text-center text-gray-500",children:y||j!=="all"?"No results found. Try adjusting your search or filters.":o})}):k.map(($,C)=>t.jsxs("tr",{className:`hover:bg-gray-50 transition-all duration-200 ease-out hover:shadow-sm ${i||n?"cursor-pointer":""} stagger-item`,onClick:E=>A($,E),style:{"--animation-delay":`${C*.03}s`},children:[e.map((E,T)=>{const N=$[E.accessor];let S=N;return!E.render&&N&&typeof N=="object"&&!Array.isArray(N)&&(S=N.name||N.title||N.first_name||JSON.stringify(N)),t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900",children:E.render?E.render(N,$):S},T)}),(r||a||n)&&t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",onClick:E=>E.stopPropagation(),children:t.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const E=[];return r&&a?(E.push(t.jsx("button",{onClick:()=>r($),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(rs,{size:18})},"edit")),E.push(t.jsx("button",{onClick:()=>a($),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete"))):n&&r?(E.push(t.jsx("button",{onClick:()=>n($),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ot,{size:18})},"view")),E.push(t.jsx("button",{onClick:()=>r($),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(rs,{size:18})},"edit"))):n&&a?(E.push(t.jsx("button",{onClick:()=>n($),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ot,{size:18})},"view")),E.push(t.jsx("button",{onClick:()=>a($),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete"))):r?E.push(t.jsx("button",{onClick:()=>r($),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(rs,{size:18})},"edit")):a?E.push(t.jsx("button",{onClick:()=>a($),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Hs,{size:18})},"delete")):n&&E.push(t.jsx("button",{onClick:()=>n($),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(Ot,{size:18})},"view")),E})()})})]},$.id||C))})]})})})]})},lE=()=>{const[e,s]=c.useState(null),[r,a]=c.useState(null),[n,i]=c.useState(null),[l,o]=c.useState(null),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(null),y=async j=>{m(!0);try{let v;switch(j){case"revenue":v=await Ye.getRevenueReport({group_by:"month"}),s(v),x({type:"revenue",data:v});break;case"accs":v=await Ye.getACCsReport(),a(v),x({type:"accs",data:v});break;case"certificates":v=await Ye.getCertificatesReport(),i(v),x({type:"certificates",data:v});break;case"training-centers":v=await Ye.getTrainingCentersReport(),o(v),x({type:"training-centers",data:v});break;default:break}p(!0)}catch(v){console.error("Failed to load report:",v),alert("Failed to load report: "+(v.message||"Unknown error"))}finally{m(!1)}},w=()=>{if(!f)return null;switch(f.type){case"revenue":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(f.data.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.data.revenue&&f.data.revenue.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Revenue by Period"}),t.jsx("div",{className:"space-y-2",children:f.data.revenue.map((j,v)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:j.period||"N/A"}),t.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(j.amount||0).toFixed(2)]})]},v))})]})]});case"accs":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.data.total_active||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.data.total_pending||0})]})]}),f.data.accs&&f.data.accs.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ACC Details"}),t.jsx(ws,{columns:[{header:"Name",accessor:"name"},{header:"Status",accessor:"status",render:j=>t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:j})}],data:f.data.accs,isLoading:!1,emptyMessage:"No ACCs found."})]})]});case"certificates":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Generated"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.data.total_generated||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Valid"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.data.valid||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Revoked"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.data.revoked||0})]})]})});case"training-centers":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.data.total||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.data.active||0})]})]})});default:return null}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View system reports and analytics"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>y("revenue"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(tt,{className:"h-12 w-12 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"View revenue analytics and trends"})]}),t.jsxs("div",{onClick:()=>y("accs"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Xe,{className:"h-12 w-12 text-blue-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ACCs Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"ACC statistics and performance"})]}),t.jsxs("div",{onClick:()=>y("certificates"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(pr,{className:"h-12 w-12 text-green-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificates Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Certificate generation statistics"})]}),t.jsxs("div",{onClick:()=>y("training-centers"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Xn,{className:"h-12 w-12 text-purple-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Centers Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Training center statistics"})]})]}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),x(null)},title:(f==null?void 0:f.type)==="revenue"?"Revenue Report":(f==null?void 0:f.type)==="accs"?"ACCs Report":(f==null?void 0:f.type)==="certificates"?"Certificates Report":"Training Centers Report",size:"lg",children:d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):w()})]})},oE=()=>{var k,L,$,C,E,T;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(!1),[u,p]=c.useState(null),[f,x]=c.useState(""),[y,w]=c.useState({}),[j,v]=c.useState(!1),[h,g]=c.useState("");c.useEffect(()=>{b()},[]),c.useEffect(()=>(e("Instructor Authorization Commissions"),s("Set commission percentages for instructor authorizations"),()=>{e(null),s(null)}),[e,s]);const b=async()=>{try{i(!0);const N=await Ye.getPendingCommissionRequests();a(N.authorizations||[])}catch(N){console.error("Failed to load authorizations:",N),a([])}finally{i(!1)}},_=N=>{p(N),x(""),w({}),o(!0)},P=N=>{p(N),m(!0)},A=async N=>{var S;if(N.preventDefault(),!f||parseFloat(f)<0||parseFloat(f)>100){w({commission_percentage:"Please enter a valid commission percentage (0-100)"});return}v(!0),w({});try{await Ye.setInstructorAuthorizationCommission(u.id,{commission_percentage:parseFloat(f)}),await b(),o(!1),p(null),x(""),alert("Commission percentage set successfully. Training Center can now complete payment.")}catch(I){if(console.error("Failed to set commission:",I),(S=I.response)!=null&&S.data){const D=I.response.data;D.errors?w(D.errors):D.message?w({general:D.message}):w(D)}else I.message?w({general:I.message}):w({general:"Failed to set commission percentage. Please try again."})}finally{v(!1)}},R=r.filter(N=>{var I,D,q,X;if(!h)return!0;const S=h.toLowerCase();return(((I=N.instructor)==null?void 0:I.first_name)||"").toLowerCase().includes(S)||(((D=N.instructor)==null?void 0:D.last_name)||"").toLowerCase().includes(S)||(((q=N.acc)==null?void 0:q.name)||"").toLowerCase().includes(S)||(((X=N.training_center)==null?void 0:X.name)||"").toLowerCase().includes(S)});return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by instructor name, ACC, or training center...",value:h,onChange:N=>g(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Instructor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"ACC"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Training Center"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Authorization Price"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):R.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ke,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:h?"No authorizations found matching your search":"No pending commission requests"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:h?"Try adjusting your search terms":"All authorizations have commission percentages set"})]})})}):R.map((N,S)=>{var I,D,q,X,ne;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 table-row-animated cursor-pointer",style:{"--animation-delay":`${S*.03}s`},onClick:()=>P(N),children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(dt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(I=N.instructor)==null?void 0:I.first_name," ",(D=N.instructor)==null?void 0:D.last_name]}),((q=N.instructor)==null?void 0:q.email)&&t.jsx("div",{className:"text-xs text-gray-500",children:N.instructor.email})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Xe,{className:"h-4 w-4 mr-2 text-gray-400"}),((X=N.acc)==null?void 0:X.name)||"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:((ne=N.training_center)==null?void 0:ne.name)||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(os,{className:"h-4 w-4 mr-1 text-green-600"}),parseFloat(N.authorization_price||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:"px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",children:[t.jsx(nt,{size:12,className:"mr-1"}),"Pending Commission"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",onClick:H=>H.stopPropagation(),children:t.jsxs("button",{onClick:()=>_(N),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-sm hover:shadow-md font-medium flex items-center gap-2",children:[t.jsx(rx,{size:16}),"Set Commission"]})})]},N.id)})})]})})}),t.jsx(Be,{isOpen:l,onClose:()=>{o(!1),p(null),x(""),w({})},title:"Set Commission Percentage",size:"md",children:t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[y.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:y.general})}),u&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[(k=u.instructor)==null?void 0:k.first_name," ",(L=u.instructor)==null?void 0:L.last_name]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ACC: ",t.jsx("span",{className:"font-semibold text-gray-900",children:($=u.acc)==null?void 0:$.name})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Authorization Price: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(u.authorization_price||0).toFixed(2)]})]})]}),t.jsx(ve,{label:"Commission Percentage (%)",name:"commission_percentage",type:"number",value:f,onChange:N=>x(N.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"15.5",error:y.commission_percentage,helpText:"Enter the percentage that Group will receive from the authorization payment"}),u&&f&&!isNaN(parseFloat(f))&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Commission Breakdown:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price||0)*parseFloat(f)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price||0)*(100-parseFloat(f))/100).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{o(!1),p(null),x(""),w({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:j?"Saving...":"Set Commission"})]})]})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),p(null)},title:"Instructor Details",size:"lg",children:u&&u.instructor&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(dt,{className:"mr-2",size:20}),"Basic Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(dt,{size:14,className:"mr-1"}),"First Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(dt,{size:14,className:"mr-1"}),"Last Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.email||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.phone||"N/A"})]}),u.instructor.id_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.instructor.id_number})]}),((C=u.training_center)==null?void 0:C.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xe,{size:14,className:"mr-1"}),"Training Center"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.training_center.name})]}),((E=u.acc)==null?void 0:E.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xe,{size:14,className:"mr-1"}),"ACC"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:u.acc.name})]}),u.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(At,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.request_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(os,{size:14,className:"mr-1"}),"Authorization Price"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(u.authorization_price||0).toFixed(2)]})]})]})]}),u.instructor.specializations&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx($a,{className:"mr-2",size:20}),"Languages / Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const N=u.instructor.specializations,S=Array.isArray(N)?N:typeof N=="string"?N.split(",").map(I=>I.trim()).filter(I=>I):[];return S.length>0?S.map((I,D)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 border border-primary-200",children:[t.jsx($a,{size:12,className:"mr-1"}),I]},D)):t.jsx("p",{className:"text-sm text-gray-500",children:"No specializations listed"})})()})]}),u.instructor.cv_url&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(tt,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the instructor's CV"})]})]}),t.jsxs("a",{href:u.instructor.cv_url.startsWith("http")?u.instructor.cv_url:`https://aeroenix.com/v1/api${u.instructor.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(tt,{size:18,className:"mr-2"}),"View CV"]})]})})]}),(u.sub_category_id||u.sub_category||u.courses||u.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ts,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:u.sub_category_id||u.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var N,S;return(N=u.sub_category)!=null&&N.name?u.sub_category.name:u.sub_category_name?u.sub_category_name:typeof u.sub_category=="string"?u.sub_category:(S=u.sub_category)!=null&&S.name_ar?u.sub_category.name_ar:u.sub_category_id?`Sub-Category (ID: ${u.sub_category_id})`:"N/A"})()}),((T=u.sub_category)==null?void 0:T.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.sub_category.description}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const N=u.courses||u.requested_courses||[],S=Array.isArray(N)?N:[];return S.length>0?t.jsx("div",{className:"space-y-2",children:S.map((I,D)=>t.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.name||I.code||`Course ${I.id||D+1}`}),I.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Sub-Category: ",typeof I.sub_category=="object"&&(I.sub_category.name||I.sub_category.name_ar)||I.sub_category]})]},D))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),u.documents_json&&Array.isArray(u.documents_json)&&u.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:u.documents_json.map((N,S)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:N.type||N.document_type||`Document ${S+1}`}),N.description&&t.jsx("p",{className:"text-sm text-gray-500",children:N.description})]}),N.url&&t.jsx("a",{href:N.url.startsWith("http")?N.url:`https://aeroenix.com/v1/api${N.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},S))})]}),u.instructor.certificates_json&&Array.isArray(u.instructor.certificates_json)&&u.instructor.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(pr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:u.instructor.certificates_json.map((N,S)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:N.name||N.certificate_name||`Certificate ${S+1}`}),N.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",N.issued_by]}),N.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",N.year]}),N.url&&t.jsx("a",{href:N.url.startsWith("http")?N.url:`https://aeroenix.com/v1/api${N.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},S))})]}),u.commission_percentage!==null&&u.commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(rx,{className:"mr-2",size:20}),"Commission Information"]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[parseFloat(u.commission_percentage).toFixed(2),"%"]}),u.authorization_price&&t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price)*parseFloat(u.commission_percentage)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(u.authorization_price)*(100-parseFloat(u.commission_percentage))/100).toFixed(2)]})]})]})]})]})]})})]})},cE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState(!0),[n,i]=c.useState(!1),[l,o]=c.useState(null),[d,m]=c.useState({publishable_key:"",secret_key:"",is_active:!0}),[u,p]=c.useState({}),[f,x]=c.useState(!1);c.useEffect(()=>{y()},[]),c.useEffect(()=>(e("Stripe Settings"),s("Configure Stripe publishable and secret keys used for online payments"),()=>{e(null),s(null)}),[e,s]);const y=async()=>{var v,h;a(!0),p({});try{let g=null;try{const b=await Ye.getActiveStripeSetting();g=(b==null?void 0:b.stripe_setting)||(b==null?void 0:b.data)||b||null}catch{}if(!g){const b=await Ye.listStripeSettings(),_=(b==null?void 0:b.stripe_settings)||(b==null?void 0:b.data)||[];g=_.length>0?_[0]:null}o(g),g&&m({publishable_key:g.publishable_key||g.public_key||g.stripe_key||"",secret_key:g.secret_key||g.secret||g.stripe_secret||"",is_active:typeof g.is_active=="boolean"?g.is_active:g.status?g.status==="active":!0})}catch(g){console.error("Failed to load Stripe settings:",g),p({general:((h=(v=g.response)==null?void 0:v.data)==null?void 0:h.message)||g.message||"Failed to load Stripe settings. Please try again."})}finally{a(!1)}},w=(v,h)=>{m(g=>({...g,[v]:h})),p({})},j=async v=>{var g;v.preventDefault(),i(!0),p({});const h={publishable_key:d.publishable_key.trim(),secret_key:d.secret_key.trim(),is_active:!!d.is_active};try{l!=null&&l.id?await Ye.updateStripeSetting(l.id,h):await Ye.createStripeSetting(h),await y(),alert("Stripe settings saved successfully!")}catch(b){console.error("Failed to save Stripe settings:",b);const _=(g=b.response)==null?void 0:g.data;_!=null&&_.errors?p(_.errors):_!=null&&_.message?p({general:_.message}):p({general:b.message||"Failed to save Stripe settings. Please try again."})}finally{i(!1)}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-primary-600"})}):t.jsx("div",{className:"stripe-settings-screen",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:t.jsx(Bs,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Configuration"}),t.jsx("p",{className:"text-sm text-primary-100 mt-1",children:"Manage your Stripe API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`text-sm font-medium ${d.is_active?"text-green-300":"text-gray-300"}`,children:d.is_active?"Active":"Inactive"}),t.jsx("button",{type:"button",onClick:()=>w("is_active",!d.is_active),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white ${d.is_active?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gray-300"}`,children:t.jsx("span",{className:`absolute h-6 w-6 rounded-full bg-white shadow-lg transition-all duration-300 ease-in-out ${d.is_active?"left-[28px]":"left-[4px]"}`})})]})]})}),t.jsxs("div",{className:"p-8",children:[u.general&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 rounded-xl shadow-lg animate-fade-in",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ln,{className:"h-6 w-6 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:u.general})]})}),t.jsxs("form",{onSubmit:j,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg",children:t.jsx(CS,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Publishable Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public key for client-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ve,{name:"publishable_key",value:d.publishable_key,onChange:v=>w("publishable_key",v.target.value),placeholder:"pk_live_51ABC...",required:!0,error:u.publishable_key}),d.publishable_key&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Ke,{className:"h-5 w-5 text-green-500"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx(tx,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-blue-800",children:["Your Stripe publishable key starts with ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_live_"})," or ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_test_"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg",children:t.jsx(zf,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Secret Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private key for server-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ve,{name:"secret_key",type:f?"text":"password",value:d.secret_key,onChange:v=>w("secret_key",v.target.value),placeholder:"sk_live_51ABC...",required:!0,error:u.secret_key}),t.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:f?t.jsx(wS,{className:"h-5 w-5"}):t.jsx(Ot,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx(ln,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Keep this secure!"})," Your secret key starts with ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_live_"})," or ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_test_"}),". Never share this key publicly."]})]})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-4 bg-gradient-to-r from-primary-600 via-primary-700 to-primary-600 text-white rounded-xl hover:from-primary-700 hover:via-primary-800 hover:to-primary-700 font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-2xl flex items-center justify-center gap-3 transform hover:scale-[1.02] active:scale-[0.98]",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Saving Settings..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ll,{className:"h-6 w-6"}),t.jsx("span",{children:"Save Stripe Settings"})]})})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 h-fit sticky top-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-blue-200",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(tx,{className:"h-4 w-4 text-white"})}),t.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Quick Guide"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"1"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Get Your Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Log in to Stripe Dashboard and navigate to API keys."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-indigo-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"2"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Enter Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Copy and paste your keys into the form."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-purple-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Save"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Click Save Settings to complete setup."})]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:t.jsxs("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx("span",{children:"Visit Stripe Dashboard"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})]})})};var Rj="clover",dE=function(s){return s===3?"v3":s},Dj="https://js.stripe.com",uE="".concat(Dj,"/").concat(Rj,"/stripe.js"),mE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var fE=function(s){return mE.test(s)||pE.test(s)},hE=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Dj,'"]')),r=0;r<s.length;r++){var a=s[r];if(fE(a.src))return a}return null},u0=function(s){var r="",a=document.createElement("script");a.src="".concat(uE).concat(r);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},gE=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},Bi=null,Lo=null,Mo=null,xE=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},yE=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},bE=function(s){return Bi!==null?Bi:(Bi=new Promise(function(r,a){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var n=hE();if(!(n&&s)){if(!n)n=u0(s);else if(n&&Mo!==null&&Lo!==null){var i;n.removeEventListener("load",Mo),n.removeEventListener("error",Lo),(i=n.parentNode)===null||i===void 0||i.removeChild(n),n=u0(s)}}Mo=yE(r,a),Lo=xE(a),n.addEventListener("load",Mo),n.addEventListener("error",Lo)}catch(l){a(l);return}}),Bi.catch(function(r){return Bi=null,Promise.reject(r)}))},vE=function(s,r,a){if(s===null)return null;var n=r[0],i=n.match(/^pk_test/),l=dE(s.version),o=Rj;i&&l!==o&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=s.apply(void 0,r);return gE(d,a),d},qi,$j=!1,Ij=function(){return qi||(qi=bE(null).catch(function(s){return qi=null,Promise.reject(s)}),qi)};Promise.resolve().then(function(){return Ij()}).catch(function(e){$j||console.warn(e)});var jE=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];$j=!0;var n=Date.now();return Ij().then(function(i){return vE(i,r,n)})};function m0(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p0(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?m0(Object(r),!0).forEach(function(a){Fj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m0(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dc=function(s){return typeof s}:dc=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},dc(e)}function Fj(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function NE(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function wE(e,s){if(e==null)return{};var r=NE(e,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Lj(e,s){return CE(e)||SE(e,s)||_E(e,s)||kE()}function CE(e){if(Array.isArray(e))return e}function SE(e,s){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var a=[],n=!0,i=!1,l,o;try{for(r=r.call(e);!(n=(l=r.next()).done)&&(a.push(l.value),!(s&&a.length===s));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw o}}return a}}function _E(e,s){if(e){if(typeof e=="string")return f0(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(e,s)}}function f0(e,s){(s==null||s>e.length)&&(s=e.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=e[r];return a}function kE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bs=function(s,r,a){var n=!!a,i=it.useRef(a);it.useEffect(function(){i.current=a},[a]),it.useEffect(function(){if(!n||!s)return function(){};var l=function(){i.current&&i.current.apply(i,arguments)};return s.on(r,l),function(){s.off(r,l)}},[n,r,s,i])},wp=function(s){var r=it.useRef(s);return it.useEffect(function(){r.current=s},[s]),r.current},fi=function(s){return s!==null&&dc(s)==="object"},PE=function(s){return fi(s)&&typeof s.then=="function"},AE=function(s){return fi(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},h0="[object Object]",EE=function e(s,r){if(!fi(s)||!fi(r))return s===r;var a=Array.isArray(s),n=Array.isArray(r);if(a!==n)return!1;var i=Object.prototype.toString.call(s)===h0,l=Object.prototype.toString.call(r)===h0;if(i!==l)return!1;if(!i&&!a)return s===r;var o=Object.keys(s),d=Object.keys(r);if(o.length!==d.length)return!1;for(var m={},u=0;u<o.length;u+=1)m[o[u]]=!0;for(var p=0;p<d.length;p+=1)m[d[p]]=!0;var f=Object.keys(m);if(f.length!==o.length)return!1;var x=s,y=r,w=function(v){return e(x[v],y[v])};return f.every(w)},Mj=function(s,r,a){return fi(s)?Object.keys(s).reduce(function(n,i){var l=!fi(r)||!EE(s[i],r[i]);return a.includes(i)?(l&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),n):l?p0(p0({},n||{}),{},Fj({},i,s[i])):n},null):null},Oj="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",g0=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oj;if(s===null||AE(s))return s;throw new Error(r)},zE=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oj;if(PE(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(n){return g0(n,r)})};var a=g0(s,r);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},TE=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},cu=it.createContext(null);cu.displayName="ElementsContext";var Uj=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Bj=function(s){var r=s.stripe,a=s.options,n=s.children,i=it.useMemo(function(){return zE(r)},[r]),l=it.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),o=Lj(l,2),d=o[0],m=o[1];it.useEffect(function(){var f=!0,x=function(w){m(function(j){return j.stripe?j:{stripe:w,elements:w.elements(a)}})};return i.tag==="async"&&!d.stripe?i.stripePromise.then(function(y){y&&f&&x(y)}):i.tag==="sync"&&!d.stripe&&x(i.stripe),function(){f=!1}},[i,d,a]);var u=wp(r);it.useEffect(function(){u!==null&&u!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,r]);var p=wp(a);return it.useEffect(function(){if(d.elements){var f=Mj(a,p,["clientSecret","fonts"]);f&&d.elements.update(f)}},[a,p,d.elements]),it.useEffect(function(){TE(d.stripe)},[d.stripe]),it.createElement(cu.Provider,{value:d},n)};Bj.propTypes={stripe:St.any,options:St.object};var RE=function(s){var r=it.useContext(cu);return Uj(r,s)},DE=function(){var s=RE("calls useElements()"),r=s.elements;return r};St.func.isRequired;var qj=it.createContext(null);qj.displayName="CheckoutContext";St.any,St.shape({clientSecret:St.oneOfType([St.string,St.instanceOf(Promise)]).isRequired,elementsOptions:St.object}).isRequired;var Cp=function(s){var r=it.useContext(qj),a=it.useContext(cu);if(r){if(a)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return Uj(a,s)},$E=["mode"],IE=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Ms=function(s,r){var a="".concat(IE(s),"Element"),n=function(d){var m=d.id,u=d.className,p=d.options,f=p===void 0?{}:p,x=d.onBlur,y=d.onFocus,w=d.onReady,j=d.onChange,v=d.onEscape,h=d.onClick,g=d.onLoadError,b=d.onLoaderStart,_=d.onNetworksChange,P=d.onConfirm,A=d.onCancel,R=d.onShippingAddressChange,k=d.onShippingRateChange,L=d.onSavedPaymentMethodRemove,$=d.onSavedPaymentMethodUpdate,C=Cp("mounts <".concat(a,">")),E="elements"in C?C.elements:null,T="checkoutState"in C?C.checkoutState:null,N=(T==null?void 0:T.type)==="success"||(T==null?void 0:T.type)==="loading"?T.sdk:null,S=it.useState(null),I=Lj(S,2),D=I[0],q=I[1],X=it.useRef(null),ne=it.useRef(null);bs(D,"blur",x),bs(D,"focus",y),bs(D,"escape",v),bs(D,"click",h),bs(D,"loaderror",g),bs(D,"loaderstart",b),bs(D,"networkschange",_),bs(D,"confirm",P),bs(D,"cancel",A),bs(D,"shippingaddresschange",R),bs(D,"shippingratechange",k),bs(D,"savedpaymentmethodremove",L),bs(D,"savedpaymentmethodupdate",$),bs(D,"change",j);var H;w&&(s==="expressCheckout"?H=w:H=function(){w(D)}),bs(D,"ready",H),it.useLayoutEffect(function(){if(X.current===null&&ne.current!==null&&(E||N)){var U=null;if(N)switch(s){case"paymentForm":U=N.createPaymentFormElement();break;case"payment":U=N.createPaymentElement(f);break;case"address":if("mode"in f){var Y=f.mode,Z=wE(f,$E);if(Y==="shipping")U=N.createShippingAddressElement(Z);else if(Y==="billing")U=N.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=N.createExpressCheckoutElement(f);break;case"currencySelector":U=N.createCurrencySelectorElement();break;case"taxId":U=N.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(U=E.create(s,f));X.current=U,q(U),U&&U.mount(ne.current)}},[E,N,f]);var F=wp(f);return it.useEffect(function(){if(X.current){var U=Mj(f,F,["paymentRequest"]);U&&"update"in X.current&&X.current.update(U)}},[f,F]),it.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),it.createElement("div",{id:m,className:u,ref:ne})},i=function(d){Cp("mounts <".concat(a,">"));var m=d.id,u=d.className;return it.createElement("div",{id:m,className:u})},l=r?i:n;return l.propTypes={id:St.string,className:St.string,onChange:St.func,onBlur:St.func,onFocus:St.func,onReady:St.func,onEscape:St.func,onClick:St.func,onLoadError:St.func,onLoaderStart:St.func,onNetworksChange:St.func,onConfirm:St.func,onCancel:St.func,onShippingAddressChange:St.func,onShippingRateChange:St.func,onSavedPaymentMethodRemove:St.func,onSavedPaymentMethodUpdate:St.func,options:St.object},l.displayName=a,l.__elementType=s,l},Os=typeof window>"u",FE=it.createContext(null);FE.displayName="EmbeddedCheckoutProviderContext";var LE=function(){var s=Cp("calls useStripe()"),r=s.stripe;return r};Ms("auBankAccount",Os);var x0=Ms("card",Os);Ms("cardNumber",Os);Ms("cardExpiry",Os);Ms("cardCvc",Os);Ms("iban",Os);Ms("payment",Os);Ms("expressCheckout",Os);Ms("paymentRequestButton",Os);Ms("linkAuthentication",Os);Ms("address",Os);Ms("shippingAddress",Os);Ms("paymentMethodMessaging",Os);Ms("taxId",Os);let Vi=null,Wi=!1,Oo=!1;const ME=async()=>{if(Wi&&Vi)return Vi;if(Oo){for(;Oo;)await new Promise(e=>setTimeout(e,100));return Vi}try{Oo=!0;const e=await pv.getConfig();return e.success&&e.publishable_key?(Vi=e.publishable_key,Wi=!0,Vi):e.is_configured===!1?(console.warn("Stripe is not configured on the backend"),Wi=!0,null):(console.warn("Stripe config response missing publishable_key"),Wi=!0,null)}catch(e){return console.error("Failed to get Stripe config from backend:",e),Wi=!0,null}finally{Oo=!1}};let Hi=null,Vn=!1;const OE=async()=>{if(Hi)return Hi;if(Vn){for(;Vn;)await new Promise(e=>setTimeout(e,100));return Hi}try{Vn=!0;const e=await ME();return e?(Hi=jE(e),Hi):(console.warn("Stripe is not configured. Credit card payments will not be available."),null)}catch(e){return console.error("Failed to initialize Stripe:",e),null}finally{Vn=!1}},UE=({clientSecret:e,amount:s,currency:r,onPaymentSuccess:a,onPaymentError:n,onCancel:i,loading:l})=>{const o=LE(),d=DE(),[m,u]=c.useState(!1),[p,f]=c.useState(null),[x,y]=c.useState(!1),w=h=>{y(h.complete),f(h.error?h.error.message:null)},j=async h=>{if(h.preventDefault(),!o||!d){f("Stripe is not loaded. Please refresh the page.");return}const g=d.getElement(x0);if(!g){f("Card element not found.");return}if(!x){f("Please complete the card details.");return}u(!0),f(null);try{const{error:b,paymentIntent:_}=await o.confirmCardPayment(e,{payment_method:{card:g,billing_details:{}}});if(b){f(b.message),n&&n(b.message),u(!1);return}_&&_.status==="succeeded"&&(g&&g.clear(),a&&a(_))}catch(b){const _=b.message||"Payment failed. Please try again.";f(_),n&&n(_)}finally{u(!1)}},v=m||l;return t.jsxs("form",{onSubmit:j,className:"stripe-payment-form",children:[t.jsxs("div",{className:"payment-amount-display",children:[t.jsx("span",{className:"amount-label",children:"Amount:"}),t.jsxs("span",{className:"amount-value",children:[r||"USD"," ",parseFloat(s||0).toFixed(2)]})]}),t.jsx("div",{className:"card-element-container",children:t.jsx(x0,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:w})}),p&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"error-message",children:p})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{type:"button",onClick:i,disabled:v,className:"btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!o||!x||v,className:"btn-pay",children:v?"Processing...":"Pay Now"})]})]})},ed=({isOpen:e,onClose:s,clientSecret:r,paymentIntentId:a,amount:n,currency:i="USD",paymentSummary:l=null,onPaymentSuccess:o,onPaymentError:d})=>{const{user:m}=fr(),[u,p]=c.useState(!1),[f,x]=c.useState(null),[y,w]=c.useState(null),j=(m==null?void 0:m.role)==="training_center";c.useEffect(()=>{e&&!f&&OE().then(g=>{x(g),g||w("Stripe is not configured on the backend")}).catch(g=>{console.error("Failed to load Stripe config:",g),w("Failed to load Stripe configuration")})},[e,f]),c.useEffect(()=>{e||p(!1)},[e]);const v=async g=>{p(!0);try{o&&await o(g,a)}catch(b){d&&d(b.message||"Payment succeeded but failed to complete transaction.")}finally{p(!1)}},h=g=>{d&&d(g)};return y||!f&&!Vn?t.jsx(Be,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Stripe Configuration Required"}),t.jsx("p",{className:"text-xs text-yellow-700",children:y||"Stripe is not configured on the backend. Please contact support to enable credit card payments."}),t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still proceed by entering the Payment Intent ID manually after completing payment on Stripe."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})}):Vn?t.jsx(Be,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment form..."})]})}):r?t.jsxs(Be,{isOpen:e,onClose:s,title:"Complete Payment",size:"md",children:[l&&t.jsxs("div",{className:"payment-summary mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-2",children:"Payment Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[l.total_amount&&t.jsxs("p",{children:[t.jsx("strong",{children:"Total Amount:"})," ",l.currency||i," ",parseFloat(l.total_amount||0).toFixed(2)]}),l.discount_amount&&parseFloat(l.discount_amount)>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," -",l.currency||i," ",parseFloat(l.discount_amount).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Final Amount:"})," ",l.currency||i," ",parseFloat(l.final_amount||n||0).toFixed(2)]}),l.quantity&&t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",l.quantity]}),l.unit_price&&t.jsxs("p",{children:[t.jsx("strong",{children:"Unit Price:"})," ",l.currency||i," ",parseFloat(l.unit_price).toFixed(2)]}),!j&&(l.commission_amount||l.provider_amount)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-green-300",children:[t.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Payment Breakdown:"}),l.provider_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Provider Receives:"})," ",l.currency||i," ",parseFloat(l.provider_amount).toFixed(2)]}),l.commission_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Platform Commission:"})," ",l.currency||i," ",parseFloat(l.commission_amount).toFixed(2)]})]})]})]}),t.jsx(Bj,{stripe:f,children:t.jsx(UE,{clientSecret:r,amount:n,currency:i,onPaymentSuccess:v,onPaymentError:h,onCancel:s,loading:u})})]}):t.jsx(Be,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-800",children:"Payment intent not created. Please create payment intent first."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})})},BE=()=>{var ne,H;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState(null),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState({}),[y,w]=c.useState({amount:"",payment_method:"credit_card",payment_intent_id:""}),[j,v]=c.useState({amount:"",payment_method:"credit_card",payment_intent_id:"",auto_renew:!1}),[h,g]=c.useState(null),[b,_]=c.useState(null),[P,A]=c.useState(!1),[R,k]=c.useState(!1),[L,$]=c.useState(!1);c.useEffect(()=>{C()},[]),c.useEffect(()=>(e("Subscription Management"),s("Manage your ACC subscription and payment details"),()=>{e(null),s(null)}),[e,s]);const C=async()=>{try{i(!0);const F=await et.getSubscription();a(F.subscription||null)}catch(F){console.error("Failed to load subscription:",F),a(null)}finally{i(!1)}},E=()=>{w({amount:"",payment_method:"credit_card",payment_intent_id:""}),x({}),g(null),o(!0)},T=async(F,U)=>{var Y,Z,z;try{const O={amount:parseFloat(y.amount),payment_method:"credit_card",payment_intent_id:U||F.id};if(F&&F.status!=="succeeded"){x({general:`Payment not completed. Status: ${F.status}`});return}await et.paySubscription(O),await C(),o(!1),k(!1),g(null),alert("Subscription payment processed successfully!"),window.location.reload()}catch(O){if(console.error("Failed to complete subscription payment:",O),((Y=O.response)==null?void 0:Y.status)===400){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Payment verification failed. Please contact support."})}else if(((Z=O.response)==null?void 0:Z.status)===422){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else x({general:(M==null?void 0:M.message)||"Validation failed. Please check your input."})}else if((z=O.response)!=null&&z.data){const M=O.response.data;M.message?x({general:M.message}):x({general:"Payment succeeded but failed to process subscription. Please contact support."})}else x({general:"Payment succeeded but failed to process subscription. Please contact support."});throw O}},N=async()=>{var U,Y,Z,z;const F=parseFloat(y.amount);if(!y.amount||isNaN(F)||F<=0){x({amount:"Please enter a valid amount greater than 0"});return}if(F<1){x({amount:"Amount must be at least $1.00"});return}A(!0),x({}),g(null);try{const O=await et.createSubscriptionPaymentIntent({amount:F});O.success&&O.client_secret&&O.payment_intent_id?(g(O),w(M=>({...M,payment_intent_id:O.payment_intent_id})),k(!0)):x({general:"Failed to create payment intent. Invalid response from server."})}catch(O){if(console.error("Failed to create payment intent:",O),((U=O.response)==null?void 0:U.status)===422){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else M.message?x({general:M.message}):x({general:"Validation failed. Please check your input."})}else if(((Y=O.response)==null?void 0:Y.status)===400){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Payment service unavailable. Please contact support."})}else if(((Z=O.response)==null?void 0:Z.status)===500){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Failed to create payment intent. Please try again later."})}else if((z=O.response)!=null&&z.data){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else M.message?x({general:M.message}):x({general:"Failed to create payment intent. Please try again."})}else O.message?x({general:O.message}):x({general:"Failed to create payment intent. Please try again."})}finally{A(!1)}},S=async F=>{F.preventDefault(),await N()},I=()=>{v({amount:r!=null&&r.amount?r.amount.toString():"",payment_method:"credit_card",payment_intent_id:"",auto_renew:(r==null?void 0:r.auto_renew)||!1}),x({}),_(null),m(!0)},D=async(F,U)=>{var Y,Z,z;try{const O={amount:parseFloat(j.amount),payment_method:"credit_card",payment_intent_id:U||F.id,auto_renew:j.auto_renew||!1};if(F&&F.status!=="succeeded"){x({general:`Payment not completed. Status: ${F.status}`});return}await et.renewSubscription(O),await C(),m(!1),$(!1),_(null),alert("Subscription renewed successfully!")}catch(O){if(console.error("Failed to complete subscription renewal:",O),((Y=O.response)==null?void 0:Y.status)===400){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Payment verification failed. Please contact support."})}else if(((Z=O.response)==null?void 0:Z.status)===422){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else x({general:(M==null?void 0:M.message)||"Validation failed. Please check your input."})}else if((z=O.response)!=null&&z.data){const M=O.response.data;M.message?x({general:M.message}):x({general:"Payment succeeded but failed to renew subscription. Please contact support."})}else x({general:"Payment succeeded but failed to renew subscription. Please contact support."});throw O}},q=async()=>{var U,Y,Z,z;const F=parseFloat(j.amount);if(!j.amount||isNaN(F)||F<=0){x({amount:"Please enter a valid amount greater than 0"});return}if(F<1){x({amount:"Amount must be at least $1.00"});return}A(!0),x({}),_(null);try{const O=await et.createRenewalPaymentIntent({amount:F});O.success&&O.client_secret&&O.payment_intent_id?(_(O),v(M=>({...M,payment_intent_id:O.payment_intent_id})),$(!0)):x({general:"Failed to create payment intent. Invalid response from server."})}catch(O){if(console.error("Failed to create payment intent:",O),((U=O.response)==null?void 0:U.status)===422){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else M.message?x({general:M.message}):x({general:"Validation failed. Please check your input."})}else if(((Y=O.response)==null?void 0:Y.status)===400){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Payment service unavailable. Please contact support."})}else if(((Z=O.response)==null?void 0:Z.status)===500){const M=O.response.data;x({general:(M==null?void 0:M.message)||"Failed to create payment intent. Please try again later."})}else if((z=O.response)!=null&&z.data){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),x(re)}else M.message?x({general:M.message}):x({general:"Failed to create payment intent. Please try again."})}else O.message?x({general:O.message}):x({general:"Failed to create payment intent. Please try again."})}finally{A(!1)}},X=async F=>{F.preventDefault(),await q()};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[r?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Current Subscription"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription details"})]}),t.jsx("span",{className:`px-4 py-2 rounded-full font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((ne=r.payment_status)==null?void 0:ne.toUpperCase())||"PENDING"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(At,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Start Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_start_date?new Date(r.subscription_start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(At,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"End Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Bs,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Amount"})]}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",((H=r.amount)==null?void 0:H.toLocaleString())||"0.00"]})]}),r.auto_renew!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ke,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Auto Renew"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.auto_renew?"Enabled":"Disabled"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[r.payment_status!=="paid"&&t.jsxs("button",{onClick:E,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(Bs,{className:"inline-block mr-2",size:18}),"Pay Subscription"]}),t.jsx("button",{onClick:I,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:"Manage Renewal"})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-yellow-100 mb-6",children:t.jsx(ln,{className:"h-10 w-10 text-yellow-600"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Active Subscription"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to subscribe to access all ACC features. Please complete your subscription payment to continue."}),t.jsxs("button",{onClick:E,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(Bs,{className:"inline-block mr-2",size:20}),"Subscribe Now"]})]})}),t.jsx(Be,{isOpen:l,onClose:()=>{o(!1),x({})},title:"Subscribe / Pay Subscription",size:"md",children:t.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:f.general})}),t.jsx(ve,{label:"Amount",name:"amount",type:"number",value:y.amount,onChange:F=>w({...y,amount:F.target.value}),required:!0,min:"1",step:"0.01",placeholder:"5000.00",error:f.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{o(!1),x({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P||u||!y.amount||parseFloat(y.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:P||u?"Processing...":"Pay Now"})]})]})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),x({})},title:"Manage Subscription Renewal",size:"md",children:t.jsxs("form",{onSubmit:X,className:"space-y-4",children:[f.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:f.general})}),t.jsx(ve,{label:"Amount",name:"amount",type:"number",value:j.amount,onChange:F=>v({...j,amount:F.target.value}),required:!0,min:"1",step:"0.01",placeholder:"10000.00",error:f.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Renew Subscription" below to enter your card details.'})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:j.auto_renew,onChange:F=>v({...j,auto_renew:F.target.checked}),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"Enable Auto-Renewal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When enabled, your subscription will automatically renew at the end of the current period."})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{m(!1),x({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P||u||!j.amount||parseFloat(j.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:P||u?"Processing...":"Renew Subscription"})]})]})}),t.jsx(ed,{isOpen:R,onClose:()=>{k(!1)},clientSecret:h==null?void 0:h.client_secret,paymentIntentId:h==null?void 0:h.payment_intent_id,amount:y.amount,currency:(h==null?void 0:h.currency)||"USD",onPaymentSuccess:T,onPaymentError:F=>{x({general:F})}}),t.jsx(ed,{isOpen:L,onClose:()=>{$(!1)},clientSecret:b==null?void 0:b.client_secret,paymentIntentId:b==null?void 0:b.payment_intent_id,amount:j.amount,currency:(b==null?void 0:b.currency)||"USD",onPaymentSuccess:D,onPaymentError:F=>{x({general:F})}})]})},qE=()=>{const{user:e}=fr(),{setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState({name:"",legal_name:"",email:"",phone:"",country:"",address:"",website:"",stripe_account_id:""}),[i,l]=c.useState(null),[o,d]=c.useState(!1),[m,u]=c.useState(!0),[p,f]=c.useState({}),[x,y]=c.useState(!1),[w,j]=c.useState(null);c.useEffect(()=>{v()},[]);const v=async()=>{try{u(!0);const P=await et.getProfile(),A=(P==null?void 0:P.profile)||(P==null?void 0:P.acc)||(P==null?void 0:P.data)||P||{};l(A),n({name:A.name||(e==null?void 0:e.name)||"",legal_name:A.legal_name||"",email:A.email||(e==null?void 0:e.email)||"",phone:A.phone||(e==null?void 0:e.phone)||"",country:A.country||"",address:A.address||(e==null?void 0:e.address)||"",website:A.website||"",stripe_account_id:A.stripe_account_id||A.stripe_connect_account_id||""})}catch(P){console.error("Failed to load profile:",P),e&&n({name:e.name||"",legal_name:"",email:e.email||"",phone:e.phone||"",country:"",address:e.address||"",website:"",stripe_account_id:""})}finally{u(!1)}};c.useEffect(()=>(s("Profile"),r("Manage your account information"),()=>{s(null),r(null)}),[s,r]);const h=P=>{const{name:A,value:R}=P.target;n({...a,[A]:R}),p[A]&&f(k=>{const L={...k};return delete L[A],L}),A==="stripe_account_id"&&w&&j(null)},g=P=>!P||P.trim()===""?null:P.startsWith("acct_")?P.length<12?"Stripe account ID is too short":null:'Stripe account ID must start with "acct_"',b=async P=>{var A,R,k,L,$,C;if(!P||P.trim()==="")return j(null),{valid:!0};try{y(!0);const E=await et.verifyStripeAccount(P.trim()),T=(E==null?void 0:E.data)||E;return T.valid?(j({valid:!0,message:T.message||"Stripe account is valid and connected",account:T.account}),{valid:!0,account:T.account}):(j({valid:!1,message:T.message||T.error||"Stripe account verification failed",error:T.error}),{valid:!1,error:T.error,message:T.message})}catch(E){console.error("Stripe account verification error:",E);const T=((R=(A=E.response)==null?void 0:A.data)==null?void 0:R.message)||((L=(k=E.response)==null?void 0:k.data)==null?void 0:L.error)||E.message||"Failed to verify Stripe account. Please check your connection and try again.";return j({valid:!1,message:T,error:((C=($=E.response)==null?void 0:$.data)==null?void 0:C.error)||E.message}),{valid:!1,error:T}}finally{y(!1)}},_=async P=>{var R,k,L,$,C,E,T,N;P.preventDefault(),d(!0),f({}),j(null);const A=g(a.stripe_account_id);if(A){f({stripe_account_id:A}),d(!1);return}if(a.stripe_account_id&&a.stripe_account_id.trim()!==""){const S=await b(a.stripe_account_id);if(!S.valid){f({stripe_account_id:S.message||S.error||"Invalid Stripe account. Please verify the account ID is correct and the account is properly connected to the platform."}),d(!1);return}}try{const S={...a,stripe_account_id:((R=a.stripe_account_id)==null?void 0:R.trim())||null},I=await et.updateProfile(S),D=(I==null?void 0:I.profile)||(I==null?void 0:I.data)||I;l(D),j(null),alert("Profile updated successfully!"),await v()}catch(S){if(console.error("Failed to update profile:",S),((L=(k=S.response)==null?void 0:k.data)==null?void 0:L.error_code)==="invalid_stripe_account")f({stripe_account_id:S.response.data.message||"The Stripe account is not valid. Payment will use standard flow."});else if((($=S.response)==null?void 0:$.status)===422){const I=S.response.data;I.errors?f(I.errors):I.message?f({general:I.message}):f({general:"Validation failed. Please check your input."})}else(E=(C=S.response)==null?void 0:C.data)!=null&&E.errors?f(S.response.data.errors):(N=(T=S.response)==null?void 0:T.data)!=null&&N.message?f({general:S.response.data.message}):f({general:S.message||"Failed to update profile. Please try again."})}finally{d(!1)}};return m?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:p.general})}),t.jsx(ve,{label:"Name",name:"name",type:"text",value:a.name,onChange:h,required:!0,icon:t.jsx(Xs,{size:18}),error:p.name}),t.jsx(ve,{label:"Legal Name",name:"legal_name",type:"text",value:a.legal_name,onChange:h,icon:t.jsx(Xe,{size:18}),error:p.legal_name,helpText:"Official legal name of your organization"}),t.jsx(ve,{label:"Email",name:"email",type:"email",value:a.email,onChange:h,required:!0,icon:t.jsx($t,{size:18}),error:p.email}),t.jsx(ve,{label:"Phone",name:"phone",type:"tel",value:a.phone,onChange:h,icon:t.jsx(Qs,{size:18}),error:p.phone}),t.jsx(ve,{label:"Country",name:"country",type:"text",value:a.country,onChange:h,icon:t.jsx(Wt,{size:18}),error:p.country}),t.jsx(ve,{label:"Address",name:"address",type:"text",value:a.address,onChange:h,icon:t.jsx(Wt,{size:18}),error:p.address}),t.jsx(ve,{label:"Website",name:"website",type:"url",value:a.website,onChange:h,placeholder:"https://example.com",icon:t.jsx($a,{size:18}),error:p.website}),t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-4 border border-blue-200",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Bs,{size:20,className:"text-blue-600"}),"Stripe Payment Settings"]}),t.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[t.jsx("strong",{children:"Enable Destination Charges:"})," Enter your Stripe Connect Account ID to automatically receive payments directly to your Stripe account."]}),t.jsx("p",{className:"text-xs text-gray-600",children:"When configured, payments will be automatically split between your account and the platform commission. You'll receive payments directly in your Stripe account."})]}),t.jsx("div",{className:"mb-4 p-3 rounded-lg border",children:i!=null&&i.stripe_account_configured||a.stripe_account_id?t.jsxs("div",{className:"bg-green-50 border-green-200 border",children:[t.jsxs("p",{className:"text-sm text-green-800 flex items-center gap-2",children:[t.jsx(Ke,{size:16,className:"text-green-600"}),t.jsx("strong",{children:"Status: Configured"})]}),(i==null?void 0:i.stripe_account_configured)&&t.jsx("p",{className:"text-xs text-green-700 mt-1 ml-6",children:" Payments will be automatically split between your account and the platform."})]}):t.jsxs("div",{className:"bg-yellow-50 border-yellow-200 border",children:[t.jsxs("p",{className:"text-sm text-yellow-800 flex items-center gap-2",children:[t.jsx(ln,{size:16,className:"text-yellow-600"}),t.jsx("strong",{children:"Status: Not Configured"})]}),t.jsx("p",{className:"text-xs text-yellow-700 mt-1 ml-6",children:"Configure your Stripe account to enable automatic payment splitting."})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ve,{label:"Stripe Connect Account ID",name:"stripe_account_id",type:"text",value:a.stripe_account_id,onChange:h,placeholder:"acct_xxxxxxxxxxxxx",icon:t.jsx(Bs,{size:18}),error:p.stripe_account_id,helpText:"Your Stripe Connect account ID (starts with 'acct_'). You can find this in your Stripe Dashboard under Settings  Connect  Accounts.",disabled:x}),a.stripe_account_id&&a.stripe_account_id.trim()!==""&&!g(a.stripe_account_id)&&t.jsx("div",{className:"flex justify-end",children:t.jsx(rt,{type:"button",onClick:async()=>{await b(a.stripe_account_id)},disabled:x,loading:x,variant:"outline",className:"text-sm",children:x?"Verifying...":"Verify Account"})})]}),a.stripe_account_id&&a.stripe_account_id.trim()!==""&&t.jsx("div",{className:"mt-2",children:g(a.stripe_account_id)?t.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-red-600 flex items-center gap-2",children:[t.jsx(ln,{size:14}),g(a.stripe_account_id)]})}):t.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-2",children:[t.jsx(Ke,{size:14}),"Valid Stripe account ID format"]})})}),x&&t.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800 flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Verifying Stripe account..."]})}),w&&!x&&t.jsxs("div",{className:`mt-2 p-3 rounded-lg border ${w.valid?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[t.jsxs("p",{className:`text-xs flex items-center gap-2 ${w.valid?"text-green-800":"text-red-800"}`,children:[w.valid?t.jsx(Ke,{size:14,className:"text-green-600"}):t.jsx(ln,{size:14,className:"text-red-600"}),t.jsx("strong",{children:w.valid?"Verified:":"Verification Failed:"}),w.message]}),w.valid&&w.account&&t.jsxs("div",{className:"mt-2 ml-6 text-xs text-green-700",children:[t.jsxs("p",{children:["Account Type: ",w.account.type||"N/A"]}),t.jsxs("p",{children:["Charges Enabled: ",w.account.charges_enabled?"Yes":"No"]}),t.jsxs("p",{children:["Payouts Enabled: ",w.account.payouts_enabled?"Yes":"No"]}),t.jsxs("p",{children:["Details Submitted: ",w.account.details_submitted?"Yes":"No"]})]})]}),a.stripe_account_id&&!g(a.stripe_account_id)&&!w&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-xs text-blue-800 flex items-center gap-2",children:[t.jsx(tt,{size:14}),t.jsx("strong",{children:"Current Account ID:"})," ",a.stripe_account_id]}),t.jsx("p",{className:"text-xs text-blue-700 mt-1 ml-6",children:"This account will be verified when you save the profile."})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsx(rt,{type:"submit",disabled:o,loading:o,children:"Update Profile"})})]})})})},VE=()=>{var K,ie;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r]=yd(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState(0),[p,f]=c.useState(!0),[x,y]=c.useState(!1),[w,j]=c.useState(!1),[v,h]=c.useState(!1),[g,b]=c.useState(null),[_,P]=c.useState(""),[A,R]=c.useState(""),[k,L]=c.useState({key:null,direction:"asc"}),[$,C]=c.useState(""),[E,T]=c.useState("all"),[N,S]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),I=c.useRef(!1);c.useEffect(()=>{const V=r.get("filter");V&&["pending","active","returned","all"].includes(V)&&T(V)},[r]),c.useEffect(()=>{I.current||(I.current=!0,D())},[N.currentPage,N.perPage,$,E]),c.useEffect(()=>(e("Training Centers"),s("Manage training center authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const D=async()=>{var V,ae,ce;f(!0);try{const B={page:N.currentPage,per_page:N.perPage};$&&(B.search=$);const[pe,W,ge]=await Promise.all([et.getTrainingCenterRequests({...B,status:"pending"}),et.getTrainingCenterRequests({...B,status:"returned"}),et.listAuthorizedTrainingCenters(B)]),G=(pe.requests||[]).filter(Se=>Se.status==="pending").map(Se=>{var Ie,Ce;return{...Se,_normalizedName:((Ie=Se.training_center)==null?void 0:Ie.name)||Se.name||"",_normalizedEmail:((Ce=Se.training_center)==null?void 0:Ce.email)||Se.email||"",_normalizedDate:Se.request_date,_isRequest:!0}}),ue=(W.requests||[]).filter(Se=>Se.status==="returned").map(Se=>{var Ie,Ce;return{...Se,_normalizedName:((Ie=Se.training_center)==null?void 0:Ie.name)||Se.name||"",_normalizedEmail:((Ce=Se.training_center)==null?void 0:Ce.email)||Se.email||"",_normalizedDate:Se.request_date,_isRequest:!0}}),fe=(ge.training_centers||[]).map(Se=>({...Se,_normalizedName:Se.name||"",_normalizedEmail:Se.email||"",_normalizedDate:Se.authorized_at||Se.created_at||Se.updated_at,_isRequest:!1,status:Se.status||"active"})),se=Se=>{var Ie;return Se._isRequest?((Ie=Se.training_center)==null?void 0:Ie.id)||Se.training_center_id||Se.id:Se.id||Se.training_center_id},he=Se=>{const Ie=new Set;return Se.filter(Ce=>{const We=se(Ce);return We&&Ie.has(We)?!1:(We&&Ie.add(We),!0)})},be=he(G),_e=he(ue),De=he(fe),Ee=new Set;[...be,..._e].forEach(Se=>{const Ie=se(Se);Ie&&Ee.add(Ie)});const Ae=De.filter(Se=>{const Ie=se(Se);return!Ee.has(Ie)}),Pe=[...be,..._e,...Ae],Ne=new Set,Ue=Pe.filter(Se=>{const Ie=se(Se);return Ie?Ne.has(Ie)?!1:(Ne.add(Ie),!0):!0});n(Ue),l(Ue);const oe=pe.total||((V=pe.requests)==null?void 0:V.length)||0,ee=W.total||((ae=W.requests)==null?void 0:ae.length)||0,ye=ge.total||((ce=ge.training_centers)==null?void 0:ce.length)||0,ze=oe+ee+ye;S(Se=>({...Se,totalPages:Math.max(pe.last_page||pe.total_pages||1,W.last_page||W.total_pages||1,ge.last_page||ge.total_pages||1),totalItems:ze||Ue.length}))}catch(B){console.error("Failed to load data:",B),n([]),l([])}finally{f(!1)}},q=V=>{S(ae=>({...ae,currentPage:V}))},X=V=>{S(ae=>({...ae,perPage:V,currentPage:1}))},ne=V=>{let ae="asc";k.key===V&&k.direction==="asc"&&(ae="desc"),L({key:V,direction:ae})};c.useEffect(()=>{let V=[...a];if(E!=="all"&&(V=V.filter(ae=>E==="pending"?ae.status==="pending":E==="returned"?ae.status==="returned":E==="active"?ae.status==="active"||ae.status==="approved"||!ae._isRequest:!0)),$){const ae=$.toLowerCase();V=V.filter(ce=>{const B=(ce._normalizedName||"").toLowerCase(),pe=(ce._normalizedEmail||"").toLowerCase();return B.includes(ae)||pe.includes(ae)})}k.key&&V.sort((ae,ce)=>{let B,pe;return k.key==="name"?(B=ae._normalizedName||"",pe=ce._normalizedName||""):k.key==="email"?(B=ae._normalizedEmail||"",pe=ce._normalizedEmail||""):k.key==="date"?(B=new Date(ae._normalizedDate||0),pe=new Date(ce._normalizedDate||0)):(B=ae[k.key]||"",pe=ce[k.key]||""),k.key==="date"||typeof B=="string"&&(B=B.toLowerCase(),pe=pe.toLowerCase()),B<pe?k.direction==="asc"?-1:1:B>pe?k.direction==="asc"?1:-1:0}),l(V),u(V.length)},[k,a,E,$]),c.useEffect(()=>{S(V=>V.currentPage!==1?{...V,currentPage:1}:V)},[E,$]),c.useEffect(()=>{const V=(N.currentPage-1)*N.perPage,ae=V+N.perPage,ce=i.slice(V,ae);d(ce)},[i,N.currentPage,N.perPage]);const H=async V=>{if(window.confirm("Approve this training center request?"))try{await et.approveTrainingCenterRequest(V),await D(),S(ae=>({...ae,currentPage:1})),alert("Training center request approved successfully!")}catch(ae){alert("Failed to approve: "+(ae.message||"Unknown error"))}},F=V=>{b(V),P(""),j(!0)},U=async()=>{if(!_.trim()){alert("Please provide a rejection reason");return}try{await et.rejectTrainingCenterRequest(g.id,{rejection_reason:_}),await D(),j(!1),b(null),P(""),S(V=>({...V,currentPage:1})),alert("Training center request rejected")}catch(V){alert("Failed to reject: "+(V.message||"Unknown error"))}},Y=V=>{b(V),R(""),h(!0)},Z=async()=>{if(!A.trim()){alert("Please provide a return comment");return}try{await et.returnTrainingCenterRequest(g.id,{return_comment:A}),await D(),h(!1),b(null),R(""),S(V=>({...V,currentPage:1})),alert("Request returned for revision")}catch(V){alert("Failed to return request: "+(V.message||"Unknown error"))}},z=V=>{b(V),y(!0)},O=V=>{z(V)},M=a.filter(V=>V.status==="pending").length,re=a.filter(V=>V.status==="returned").length,J=a.filter(V=>V.status==="active"||V.status==="approved"||!V._isRequest).length,te=a.length;return t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx("div",{onClick:()=>{T("all"),S(V=>({...V,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${E==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:te})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xe,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{T("pending"),S(V=>({...V,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${E==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:M})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{T("active"),S(V=>({...V,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${E==="active"||E==="approved"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:J})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{T("returned"),S(V=>({...V,currentPage:1}))},className:`bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${E==="returned"?"ring-2 ring-blue-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Returned"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:re})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Jr,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:$,onChange:V=>{C(V.target.value),S(ae=>({...ae,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:E,onChange:V=>{T(V.target.value),S(ae=>({...ae,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"returned",children:"Returned"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Training Center",k.key==="name"&&(k.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",k.key==="email"&&(k.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("date"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",k.key==="date"&&(k.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>ne("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",k.key==="status"&&(k.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:p?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):i.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Xe,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No training centers found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:$||E!=="all"?"Try adjusting your filters":"No training centers available"})]})})}):o.map((V,ae)=>{const ce=V._normalizedName||"N/A",B=V._normalizedEmail||"N/A",pe=V._normalizedDate;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>O(V),style:{"--animation-delay":`${ae*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Xe,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:ce})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),B]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:pe?new Date(pe).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${V.status==="approved"||V.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":V.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":V.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[V.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),V.status==="returned"&&t.jsx(Jr,{size:12,className:"mr-1"}),V.status?V.status.charAt(0).toUpperCase()+V.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",onClick:W=>W.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>z(V),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),V.status==="pending"||V.status==="returned"?t.jsx("button",{onClick:W=>{W.stopPropagation(),H(V.id)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Ke,{size:16})}):t.jsx("button",{onClick:W=>{W.stopPropagation(),z(V)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View",children:t.jsx(Ot,{size:16})})]})})]},`${V.id||"item"}-${V._isRequest?"req":"auth"}-${ae}`)})})]})}),!p&&m>0&&t.jsx(Ft,{currentPage:N.currentPage,totalPages:Math.ceil(m/N.perPage),totalItems:m,perPage:N.perPage,onPageChange:q,onPerPageChange:X})]}),t.jsx(Be,{isOpen:x,onClose:()=>{y(!1),b(null)},title:g!=null&&g._isRequest?"Training Center Request Details":"Training Center Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((K=g.training_center)==null?void 0:K.name)||g.name||g._normalizedName||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ie=g.training_center)==null?void 0:ie.email)||g.email||g._normalizedEmail||"N/A"})]}),g.legal_name&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.legal_name})]}),g.registration_number&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.registration_number})]}),g.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Country"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.country})]}),g.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"City"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.city})]})]}),g._isRequest&&g.documents_json&&g.documents_json.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Documents"}),t.jsx("div",{className:"space-y-2",children:g.documents_json.map((V,ae)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"font-medium text-gray-900",children:V.type}),V.url&&t.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm",children:"View Document"})]},ae))})]}),g._isRequest&&g.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Jr,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:g.return_comment})]}),g._isRequest&&g.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{H(g.id),y(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Ke,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{y(!1),F(g)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ht,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{y(!1),Y(g)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(Jr,{size:20,className:"mr-2"}),"Return"]})]}),g._isRequest&&g.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{H(g.id),y(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Ke,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{y(!1),F(g)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ht,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Be,{isOpen:w,onClose:()=>{j(!1),b(null),P("")},title:"Reject Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(ve,{label:"Rejection Reason",name:"rejection_reason",value:_,onChange:V=>P(V.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{j(!1),b(null),P("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Be,{isOpen:v,onClose:()=>{h(!1),b(null),R("")},title:"Return Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(ve,{label:"Return Comment",name:"return_comment",value:A,onChange:V=>R(V.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{h(!1),b(null),R("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:Z,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})})]})},WE=()=>{var pe,W,ge,G,ue,fe,se,he,be,_e,De,Ee,Ae,Pe,Ne,Ue,oe,ee,ye,ze,Se,Ie,Ce,We,Ge,xe,Re,de;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r]=yd(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState(0),[p,f]=c.useState(!0),[x,y]=c.useState(!1),[w,j]=c.useState(!1),[v,h]=c.useState(!1),[g,b]=c.useState(!1),[_,P]=c.useState(null),[A,R]=c.useState(""),[k,L]=c.useState(""),[$,C]=c.useState(""),[E,T]=c.useState({key:null,direction:"asc"}),[N,S]=c.useState(""),[I,D]=c.useState("all"),[q,X]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[ne,H]=c.useState({});c.useEffect(()=>{const Q=r.get("filter");Q&&["pending","active","returned","all"].includes(Q)&&D(Q)},[r]),c.useEffect(()=>{F()},[q.currentPage,q.perPage,N]),c.useEffect(()=>(e("Instructors"),s("Manage instructor authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const F=async()=>{var Q,me;f(!0);try{const ke={page:q.currentPage,per_page:q.perPage};N&&(ke.search=N);const[$e,Le]=await Promise.all([et.getInstructorRequests(ke),et.listAuthorizedTrainingCenters(ke)]),tr=($e==null?void 0:$e.requests)||($e==null?void 0:$e.data)||[],xr={};((Le==null?void 0:Le.training_centers)||(Le==null?void 0:Le.data)||[]).forEach(Ze=>{Ze.id&&(xr[Ze.id]=Ze.name||Ze.legal_name||`TC ${Ze.id}`)}),H(xr);const ma=Ze=>{var Ct;return((Ct=Ze.instructor)==null?void 0:Ct.id)||Ze.instructor_id||Ze.id},Ci=tr.map(Ze=>{var hh,gh;const Ct=Ze.instructor||Ze,vn=Ze.training_center_id||((hh=Ze.training_center)==null?void 0:hh.id),jn=vn?xr[vn]||((gh=Ze.training_center)==null?void 0:gh.name)||`TC ${vn}`:"N/A";return{...Ze,_normalizedName:`${Ct.first_name||""} ${Ct.last_name||""}`.trim(),_normalizedEmail:Ct.email||"",_normalizedDate:Ze.request_date||Ze.created_at||Ze.updated_at,_normalizedTrainingCenter:jn,_trainingCenterId:vn,_isRequest:!0}}),Vj=Ci.filter(Ze=>Ze.status==="pending"),Wj=Ci.filter(Ze=>Ze.status==="returned"),Hj=Ci.filter(Ze=>Ze.status==="approved"||Ze.status==="active"),du=Ze=>{const Ct=new Set;return Ze.filter(vn=>{const jn=ma(vn);return jn&&Ct.has(jn)?!1:(jn&&Ct.add(jn),!0)})},uh=du(Vj),mh=du(Wj),Kj=du(Hj).map(Ze=>{const Ct=Ze.instructor||Ze;return{...Ze,id:Ct.id||Ze.id,first_name:Ct.first_name||Ze.first_name,last_name:Ct.last_name||Ze.last_name,email:Ct.email||Ze.email,phone:Ct.phone||Ze.phone,_normalizedName:`${Ct.first_name||""} ${Ct.last_name||""}`.trim(),_normalizedEmail:Ct.email||"",_normalizedDate:Ze.request_date||Ze.created_at||Ze.updated_at,_normalizedTrainingCenter:Ze._normalizedTrainingCenter||"N/A",_trainingCenterId:Ze._trainingCenterId,_isRequest:!1,status:"active"}}),ph=new Set;[...uh,...mh].forEach(Ze=>{const Ct=ma(Ze);Ct&&ph.add(Ct)});const Gj=Kj.filter(Ze=>{const Ct=ma(Ze);return!ph.has(Ct)}),Yj=[...uh,...mh,...Gj],fh=new Set,uu=Yj.filter(Ze=>{const Ct=ma(Ze);return Ct?fh.has(Ct)?!1:(fh.add(Ct),!0):!0});n(uu),l(uu);const Qj=$e.total||((Q=$e.requests)==null?void 0:Q.length)||0,Xj=Le.total||((me=Le.training_centers)==null?void 0:me.length)||0,Jj=Qj+Xj;X(Ze=>({...Ze,totalPages:Math.max($e.last_page||$e.total_pages||1,Le.last_page||Le.total_pages||1),totalItems:Jj||uu.length}))}catch(ke){console.error("Failed to load data:",ke),n([]),l([])}finally{f(!1)}},U=Q=>{X(me=>({...me,currentPage:Q}))},Y=Q=>{X(me=>({...me,perPage:Q,currentPage:1}))},Z=Q=>{let me="asc";E.key===Q&&E.direction==="asc"&&(me="desc"),T({key:Q,direction:me})};c.useEffect(()=>{let Q=[...a];if(I!=="all"&&(Q=Q.filter(me=>I==="pending"?me.status==="pending":I==="returned"?me.status==="returned":I==="active"?me.status==="active"||me.status==="approved"||!me._isRequest&&(me.status==="active"||!me.status):!0)),N){const me=N.toLowerCase();Q=Q.filter(ke=>{const $e=(ke._normalizedName||"").toLowerCase(),Le=(ke._normalizedEmail||"").toLowerCase();return $e.includes(me)||Le.includes(me)})}E.key&&Q.sort((me,ke)=>{let $e,Le;return E.key==="name"?($e=me._normalizedName||"",Le=ke._normalizedName||""):E.key==="email"?($e=me._normalizedEmail||"",Le=ke._normalizedEmail||""):E.key==="date"?($e=new Date(me._normalizedDate||0),Le=new Date(ke._normalizedDate||0)):E.key==="training_center"?($e=me._normalizedTrainingCenter||"",Le=ke._normalizedTrainingCenter||""):($e=me[E.key]||"",Le=ke[E.key]||""),E.key==="date"||typeof $e=="string"&&($e=$e.toLowerCase(),Le=Le.toLowerCase()),$e<Le?E.direction==="asc"?-1:1:$e>Le?E.direction==="asc"?1:-1:0}),l(Q),u(Q.length)},[E,a,I,N]),c.useEffect(()=>{X(Q=>Q.currentPage!==1?{...Q,currentPage:1}:Q)},[I,N]),c.useEffect(()=>{const Q=(q.currentPage-1)*q.perPage,me=Q+q.perPage,ke=i.slice(Q,me);d(ke)},[i,q.currentPage,q.perPage]);const z=Q=>{P(Q),R(""),j(!0)},O=async()=>{if(!A||parseFloat(A)<=0){alert("Please enter a valid authorization price");return}try{await et.approveInstructorRequest(_.id,{authorization_price:parseFloat(A)}),await F(),j(!1),P(null),X(Q=>({...Q,currentPage:1})),R(""),alert("Instructor approved successfully. Waiting for Group Admin to set commission percentage.")}catch(Q){alert("Failed to approve: "+(Q.message||"Unknown error"))}},M=Q=>{P(Q),L(""),h(!0)},re=async()=>{if(!k.trim()){alert("Please provide a rejection reason");return}try{await et.rejectInstructorRequest(_.id,{rejection_reason:k}),await F(),h(!1),P(null),X(Q=>({...Q,currentPage:1})),L(""),alert("Instructor request rejected")}catch(Q){alert("Failed to reject: "+(Q.message||"Unknown error"))}},J=Q=>{P(Q),C(""),b(!0)},te=async()=>{if(!$.trim()){alert("Please provide a return comment");return}try{await et.returnInstructorRequest(_.id,{return_comment:$}),await F(),b(!1),X(Q=>({...Q,currentPage:1})),P(null),C(""),alert("Request returned for revision")}catch(Q){alert("Failed to return request: "+(Q.message||"Unknown error"))}},K=Q=>{P(Q),y(!0)},ie=Q=>{K(Q)},V=a.filter(Q=>Q.status==="pending").length,ae=a.filter(Q=>Q.status==="returned").length,ce=a.filter(Q=>Q.status==="active"||Q.status==="approved"||!Q._isRequest&&(Q.status==="active"||!Q.status)).length,B=a.length;return t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx("div",{onClick:()=>{D("all"),X(Q=>({...Q,currentPage:1}))},className:`bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${I==="all"?"ring-2 ring-primary-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:B})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(dt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{D("pending"),X(Q=>({...Q,currentPage:1}))},className:`bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${I==="pending"?"ring-2 ring-yellow-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:V})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(nt,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{D("active"),X(Q=>({...Q,currentPage:1}))},className:`bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${I==="active"||I==="approved"?"ring-2 ring-green-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:ce})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ke,{className:"text-white",size:32})})]})}),t.jsx("div",{onClick:()=>{D("returned"),X(Q=>({...Q,currentPage:1}))},className:`bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300 cursor-pointer ${I==="returned"?"ring-2 ring-blue-500":""}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Returned"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:ae})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Jr,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or email...",value:N,onChange:Q=>{S(Q.target.value),X(me=>({...me,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:I,onChange:Q=>{D(Q.target.value),X(me=>({...me,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"returned",children:"Returned"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Z("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Instructor",E.key==="name"&&(E.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Z("email"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Email",E.key==="email"&&(E.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Z("date"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Date",E.key==="date"&&(E.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Z("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",E.key==="status"&&(E.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:p?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):i.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(dt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No instructors found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:N||I!=="all"?"Try adjusting your filters":"No instructors available"})]})})}):o.map((Q,me)=>{const ke=Q._normalizedName||"N/A",$e=Q._normalizedEmail||"N/A";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>ie(Q),style:{"--animation-delay":`${me*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(dt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:ke})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx($t,{className:"h-4 w-4 mr-2 text-gray-400"}),$e]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:Q._normalizedDate?new Date(Q._normalizedDate).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${Q.status==="approved"||Q.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":Q.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":Q.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[Q.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),Q.status==="returned"&&t.jsx(Jr,{size:12,className:"mr-1"}),Q.status?Q.status.charAt(0).toUpperCase()+Q.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",onClick:Le=>Le.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>K(Q),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})}),Q.status==="pending"||Q.status==="returned"?t.jsx("button",{onClick:Le=>{Le.stopPropagation(),z(Q)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Ke,{size:16})}):null]})})]},`${Q.id||"item"}-${Q._isRequest?"req":"auth"}-${me}`)})})]})}),!p&&m>0&&t.jsx(Ft,{currentPage:q.currentPage,totalPages:Math.ceil(m/q.perPage),totalItems:m,perPage:q.perPage,onPageChange:U,onPerPageChange:Y})]}),t.jsx(Be,{isOpen:x,onClose:()=>{y(!1),P(null)},title:_!=null&&_._isRequest?"Instructor Request Details":"Instructor Details",size:"lg",children:_&&t.jsxs("div",{className:"space-y-6",children:[_._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Uc,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",_.id]})]}),_.instructor_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(NS,{size:14,className:"mr-1"}),"Instructor ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",_.instructor_id]})]}),_.acc_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xe,{size:14,className:"mr-1"}),"ACC ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",_.acc_id]})]}),_.sub_category_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ts,{size:14,className:"mr-1"}),"Sub-Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",_.sub_category_id]})]}),_.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(At,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(_.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),_.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(At,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(_.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(dt,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(dt,{size:14,className:"mr-1"}),"First Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((pe=_.instructor)==null?void 0:pe.first_name)||_.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(dt,{size:14,className:"mr-1"}),"Last Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((W=_.instructor)==null?void 0:W.last_name)||_.last_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ge=_.instructor)==null?void 0:ge.email)||_.email||_._normalizedEmail||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((G=_.instructor)==null?void 0:G.phone)||_.phone||"N/A"})]}),(((ue=_.instructor)==null?void 0:ue.id_number)||_.id_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ID Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((fe=_.instructor)==null?void 0:fe.id_number)||_.id_number})]}),((se=_.instructor)==null?void 0:se.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.instructor.country})]}),((he=_.instructor)==null?void 0:he.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.instructor.city})]}),_._normalizedDate&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(At,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(_._normalizedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${_.status==="approved"||_.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":_.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":_.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[_.status==="pending"&&t.jsx(nt,{size:12,className:"mr-1"}),_.status==="returned"&&t.jsx(Jr,{size:12,className:"mr-1"}),_.status==="approved"&&t.jsx(Ke,{size:12,className:"mr-1"}),_.status?_.status.charAt(0).toUpperCase()+_.status.slice(1):"N/A"]})]})]})]}),(_.training_center||_._normalizedTrainingCenter)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Xe,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((be=_.training_center)==null?void 0:be.id)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Uc,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",_.training_center.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Xe,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((_e=_.training_center)==null?void 0:_e.name)||((De=_.training_center)==null?void 0:De.legal_name)||_._normalizedTrainingCenter||"N/A"})]}),((Ee=_.training_center)==null?void 0:Ee.email)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.training_center.email})]}),((Ae=_.training_center)==null?void 0:Ae.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.training_center.phone})]}),((Pe=_.training_center)==null?void 0:Pe.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.training_center.address})]}),((Ne=_.training_center)==null?void 0:Ne.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.training_center.city})]}),((Ue=_.training_center)==null?void 0:Ue.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.training_center.country})]})]})]}),(_.sub_category||_.sub_category_id)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ts,{className:"mr-2",size:20}),"Sub-Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((oe=_.sub_category)==null?void 0:oe.name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ts,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:_.sub_category.name})]}),((ee=_.sub_category)==null?void 0:ee.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:_.sub_category.description})]}),((ye=_.sub_category)==null?void 0:ye.courses)&&Array.isArray(_.sub_category.courses)&&_.sub_category.courses.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses"}),t.jsx("div",{className:"space-y-2",children:_.sub_category.courses.map((Q,me)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||me+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||me))})]})]})]}),(((ze=_.instructor)==null?void 0:ze.specializations)||_.specializations)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx($a,{className:"mr-2",size:20}),"Languages / Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{var ke;const Q=((ke=_.instructor)==null?void 0:ke.specializations)||_.specializations,me=Array.isArray(Q)?Q:typeof Q=="string"?Q.split(",").map($e=>$e.trim()).filter($e=>$e):[];return me.length>0?me.map(($e,Le)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 border border-primary-200",children:[t.jsx($a,{size:12,className:"mr-1"}),$e]},Le)):t.jsx("p",{className:"text-sm text-gray-500",children:"No specializations listed"})})()})]}),(((Se=_.instructor)==null?void 0:Se.cv_url)||_.cv_url)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(tt,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the instructor's CV"})]})]}),t.jsxs("a",{href:(((Ie=_.instructor)==null?void 0:Ie.cv_url)||_.cv_url).startsWith("http")?((Ce=_.instructor)==null?void 0:Ce.cv_url)||_.cv_url:`https://aeroenix.com/v1/api${((We=_.instructor)==null?void 0:We.cv_url)||_.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(tt,{size:18,className:"mr-2"}),"View CV"]})]})})]}),_._isRequest&&(_.sub_category_id||_.sub_category||_.courses||_.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ts,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:_.sub_category_id||_.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var Q,me;return(Q=_.sub_category)!=null&&Q.name?_.sub_category.name:_.sub_category_name?_.sub_category_name:typeof _.sub_category=="string"?_.sub_category:(me=_.sub_category)!=null&&me.name_ar?_.sub_category.name_ar:_.sub_category_id?`Sub-Category (ID: ${_.sub_category_id})`:"N/A"})()}),((Ge=_.sub_category)==null?void 0:Ge.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.sub_category.description}),((xe=_.sub_category)==null?void 0:xe.courses)&&Array.isArray(_.sub_category.courses)&&_.sub_category.courses.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses in this Sub-Category:"}),t.jsx("div",{className:"space-y-2",children:_.sub_category.courses.map((Q,me)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Q.name||Q.code||`Course ${Q.id||me+1}`}),Q.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",Q.code]})]})})},Q.id||me))})]}),(!((Re=_.sub_category)!=null&&Re.courses)||_.sub_category.courses.length===0)&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const Q=_.courses||_.requested_courses||[],me=Array.isArray(Q)?Q:[];return me.length>0?t.jsx("div",{className:"space-y-2",children:me.map((ke,$e)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ke.name||ke.name_ar||ke.code||`Course ${ke.id||$e+1}`}),ke.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",ke.code]}),ke.name_ar&&ke.name&&ke.name!==ke.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ke.name_ar}),ke.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sub-Category: ",typeof ke.sub_category=="object"&&(ke.sub_category.name||ke.sub_category.name_ar)||ke.sub_category]})]})})},ke.id||$e))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),_._isRequest&&_.documents_json&&Array.isArray(_.documents_json)&&_.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:_.documents_json.map((Q,me)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.type||Q.document_type||`Document ${me+1}`}),Q.description&&t.jsx("p",{className:"text-sm text-gray-500",children:Q.description})]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},me))})]}),((de=_.instructor)==null?void 0:de.certificates_json)&&Array.isArray(_.instructor.certificates_json)&&_.instructor.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(pr,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-2",children:_.instructor.certificates_json.map((Q,me)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.name||Q.certificate_name||`Certificate ${me+1}`}),Q.issued_by&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Issued by: ",Q.issued_by]}),Q.year&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Year: ",Q.year]}),Q.url&&t.jsx("a",{href:Q.url.startsWith("http")?Q.url:`https://aeroenix.com/v1/api${Q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"View Certificate"})]},me))})]}),_.authorization_price&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authorization Details"}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Authorization Price"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",parseFloat(_.authorization_price).toFixed(2)]})]})]}),_.rejection_reason&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(ht,{className:"mr-2 text-red-600",size:20}),"Rejection Reason"]}),t.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-base text-gray-900",children:_.rejection_reason})})]}),_._isRequest&&_.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Jr,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:_.return_comment})]}),_._isRequest&&_.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{y(!1),z(_)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Ke,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{y(!1),M(_)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ht,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{y(!1),J(_)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(Jr,{size:20,className:"mr-2"}),"Return"]})]}),_._isRequest&&_.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{y(!1),z(_)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Ke,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{y(!1),M(_)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(ht,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Be,{isOpen:v,onClose:()=>{h(!1),P(null),L("")},title:"Reject Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(ve,{label:"Rejection Reason",name:"rejection_reason",value:k,onChange:Q=>L(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{h(!1),P(null),L("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Be,{isOpen:g,onClose:()=>{b(!1),P(null),C("")},title:"Return Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(ve,{label:"Return Comment",name:"return_comment",value:$,onChange:Q=>C(Q.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{b(!1),P(null),C("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:te,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})}),t.jsx(Be,{isOpen:w,onClose:()=>{j(!1),P(null),R("")},title:"Approve Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please set the authorization price for this instructor:"}),t.jsx(ve,{label:"Authorization Price",name:"authorization_price",type:"number",value:A,onChange:Q=>R(Q.target.value),required:!0,min:"0",step:"0.01",placeholder:"500.00"}),t.jsx("p",{className:"text-sm text-gray-500",children:"After approval, Group Admin will need to set the commission percentage before Training Center can pay."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{j(!1),P(null),R("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:O,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})})]})},HE=(e,s="This field")=>!e||typeof e=="string"&&e.trim()===""?`${s} is required`:"",KE=(e,s,r="This field")=>e&&e.length>s?`${r} must be at most ${s} characters`:"",GE=(e,s="This field",r=null,a=null)=>{if(e===""||e===null||e===void 0)return`${s} is required`;const n=Number(e);return isNaN(n)?`${s} must be a valid number`:r!==null&&n<r?`${s} must be at least ${r}`:a!==null&&n>a?`${s} must be at most ${a}`:""},y0=(e,s={})=>{const{required:r=!0,maxSize:a=10*1024*1024,allowedTypes:n=[],fieldName:i="File"}=s;if(r&&!e)return`${i} is required`;if(e){if(e.size>a){const l=(a/1048576).toFixed(2);return`${i} size must be less than ${l}MB`}if(n.length>0){const l="."+e.name.split(".").pop().toLowerCase(),o=n.map(d=>d.toLowerCase());if(!n.includes(e.type)&&!o.includes(l))return`${i} type is not allowed. Allowed types: ${n.join(", ")}`}}return""},YE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),a=c.useRef(null),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState([]),[u,p]=c.useState(0),[f,x]=c.useState([]),[y,w]=c.useState(!0),[j,v]=c.useState(!1),[h,g]=c.useState(!1),[b,_]=c.useState(null),[P,A]=c.useState({key:null,direction:"asc"}),[R,k]=c.useState(""),[L,$]=c.useState("all"),[C,E]=c.useState("all"),[T,N]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[S,I]=c.useState({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),[D,q]=c.useState({base_price:"",currency:"USD"}),[X,ne]=c.useState({}),[H,F]=c.useState(!1);c.useEffect(()=>{O()},[]),c.useEffect(()=>{U()},[R,T.currentPage,T.perPage]),c.useEffect(()=>(s("Courses"),r("Manage and organize your course catalog"),e(t.jsxs("button",{onClick:()=>{a.current&&a.current()},className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center transition-colors shadow-lg hover:shadow-xl",children:[t.jsx($s,{size:20,className:"mr-2"}),"Add Course"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const U=async(W=null)=>{w(!0);try{const ge={page:W!==null?W:T.currentPage,per_page:T.perPage},G=await et.listCourses(ge);let ue=[];const fe=W!==null?W:T.currentPage;G.data?(ue=G.data||[],N(se=>({...se,currentPage:fe,totalPages:G.last_page||G.total_pages||1,totalItems:G.total||0}))):G.courses?(ue=G.courses||[],N(se=>{var he;return{...se,currentPage:fe,totalPages:1,totalItems:((he=G.courses)==null?void 0:he.length)||0}})):(ue=Array.isArray(G)?G:[],N(se=>({...se,currentPage:fe,totalPages:1,totalItems:ue.length}))),i(ue),o(ue)}catch(ge){console.error("Failed to load courses:",ge),i([]),o([])}finally{w(!1)}},Y=W=>{let ge="asc";P.key===W&&P.direction==="asc"&&(ge="desc"),A({key:W,direction:ge})};c.useEffect(()=>{let W=[...n];if(L!=="all"&&(W=W.filter(ge=>ge.status===L)),C!=="all"&&(W=W.filter(ge=>ge.level===C)),R){const ge=R.toLowerCase();W=W.filter(G=>{const ue=(G.name||"").toLowerCase(),fe=(G.code||"").toLowerCase();return ue.includes(ge)||fe.includes(ge)})}P.key&&W.sort((ge,G)=>{let ue,fe;return P.key==="name"?(ue=(ge.name||"").toLowerCase(),fe=(G.name||"").toLowerCase()):P.key==="duration_hours"?(ue=ge.duration_hours||0,fe=G.duration_hours||0):(ue=ge[P.key]||"",fe=G[P.key]||""),P.key==="duration_hours"||typeof ue=="string"&&(ue=ue.toLowerCase(),fe=fe.toLowerCase()),ue<fe?P.direction==="asc"?-1:1:ue>fe?P.direction==="asc"?1:-1:0}),o(W),p(W.length)},[P,n,L,C,R]),c.useEffect(()=>{N(W=>W.currentPage!==1?{...W,currentPage:1}:W)},[L,C,R]),c.useEffect(()=>{const W=(T.currentPage-1)*T.perPage,ge=W+T.perPage,G=l.slice(W,ge);m(G)},[l,T.currentPage,T.perPage]);const Z=W=>{N(ge=>({...ge,currentPage:W}))},z=W=>{N(ge=>({...ge,perPage:W,currentPage:1}))},O=async()=>{try{const W=await et.listSubCategories();x(W.sub_categories||W||[])}catch(W){console.error("Failed to load sub categories:",W),x([])}},M=(W=null)=>{if(W){_(W),I({sub_category_id:W.sub_category_id||"",name:W.name||"",name_ar:W.name_ar||"",code:W.code||"",description:W.description||"",duration_hours:W.duration_hours||"",max_capacity:W.max_capacity||"",level:W.level||"beginner",status:W.status||"active",assessor_required:W.assessor_required||!1});const ge=W.current_price||W.pricing||(W.certificate_pricing&&W.certificate_pricing.length>0?W.certificate_pricing[0]:null);q(ge?{base_price:ge.base_price||"",currency:ge.currency||"USD"}:{base_price:"",currency:"USD"})}else _(null),I({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),q({base_price:"",currency:"USD"});ne({}),v(!0)};c.useEffect(()=>{a.current=()=>M()},[]);const re=()=>{v(!1),_(null),I({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",level:"beginner",status:"active",assessor_required:!1}),q({base_price:"",currency:"USD",group_commission_percentage:"",training_center_commission_percentage:"",instructor_commission_percentage:"",effective_from:"",effective_to:""}),ne({})},J=W=>{I({...S,[W.target.name]:W.target.value}),ne({})},te=W=>{q({...D,[W.target.name]:W.target.value}),ne(ge=>{const G={...ge};return delete G[W.target.name],G})},K=()=>{const W={};!S.name||S.name.trim()===""?W.name="Course name is required":S.name.length>255&&(W.name="Course name must be at most 255 characters"),S.name_ar&&S.name_ar.length>255&&(W.name_ar="Arabic name must be at most 255 characters"),!S.code||S.code.trim()===""?W.code="Course code is required":S.code.length>255&&(W.code="Course code must be at most 255 characters"),S.sub_category_id||(W.sub_category_id="Sub category is required");const ge=HE(S.duration_hours,"Duration");if(ge)W.duration_hours=ge;else{const G=parseInt(S.duration_hours);(isNaN(G)||G<1)&&(W.duration_hours="Duration must be at least 1 hour")}if(!S.max_capacity||S.max_capacity.toString().trim()==="")W.max_capacity="Max capacity is required";else{const G=parseInt(S.max_capacity);(isNaN(G)||G<1)&&(W.max_capacity="Max capacity must be at least 1")}if(S.level?["beginner","intermediate","advanced"].includes(S.level)||(W.level="Invalid level selected"):W.level="Level is required",S.status?["active","inactive","archived"].includes(S.status)||(W.status="Invalid status selected"):W.status="Status is required",D.base_price){const G=GE(D.base_price,"Base price",0);G&&(W.base_price=G),!D.currency||D.currency.trim()===""?W.currency="Currency is required when pricing is set":D.currency.length!==3&&(W.currency="Currency must be a 3-character code (e.g., USD)")}return W},ie=async W=>{var G,ue,fe,se,he,be,_e,De;W.preventDefault(),F(!0),ne({});const ge=K();if(Object.keys(ge).length>0){ne(ge),F(!1);return}try{const Ee={...S,sub_category_id:parseInt(S.sub_category_id),duration_hours:parseInt(S.duration_hours),max_capacity:parseInt(S.max_capacity)};if((!S.name_ar||S.name_ar.trim()==="")&&delete Ee.name_ar,(!S.description||S.description.trim()==="")&&delete Ee.description,D.base_price){const Pe={base_price:parseFloat(D.base_price),currency:D.currency};Ee.pricing=Pe}let Ae;b?(Ae=await et.updateCourse(b.id,Ee),console.log("Course updated:",Ae)):(Ae=await et.createCourse(Ee),console.log("Course created:",Ae)),re(),await U(1),alert(b?"Course updated successfully!":"Course created successfully!")}catch(Ee){if(console.error("Failed to save course:",Ee),console.error("Error response:",Ee.response),console.error("Error data:",(G=Ee.response)==null?void 0:G.data),console.error("Error status:",(ue=Ee.response)==null?void 0:ue.status),(se=(fe=Ee.response)==null?void 0:fe.data)!=null&&se.errors){const Ae=Ee.response.data.errors,Pe={};Object.keys(Ae).forEach(Ne=>{Ne.startsWith("pricing.")?Pe[Ne.replace("pricing.","")]=Ae[Ne]:Pe[Ne]=Ae[Ne]}),ne(Pe)}else Ee.errors?ne(Ee.errors):ne({general:((be=(he=Ee.response)==null?void 0:he.data)==null?void 0:be.message)||Ee.message||"Failed to save course"});alert(`Error: ${((De=(_e=Ee.response)==null?void 0:_e.data)==null?void 0:De.message)||Ee.message||"Failed to save course"}`)}finally{F(!1)}},V=W=>{_(W),g(!0)},ae=async()=>{try{await et.deleteCourse(b.id),await U()}catch(W){alert("Failed to delete course: "+(W.message||"Unknown error"))}g(!1),_(null)},[ce,B]=c.useState(!1),pe=async W=>{try{const ge=await et.getCourseDetails(W.id);_(ge.course),B(!0)}catch(ge){console.error("Failed to load course details:",ge),_(W),B(!0)}};return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name or code...",value:R,onChange:W=>{k(W.target.value),N(ge=>({...ge,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:L,onChange:W=>{$(W.target.value),N(ge=>({...ge,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:C,onChange:W=>{E(W.target.value),N(ge=>({...ge,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Levels"}),t.jsx("option",{value:"beginner",children:"Beginner"}),t.jsx("option",{value:"intermediate",children:"Intermediate"}),t.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Course",P.key==="name"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("level"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Level",P.key==="level"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("duration_hours"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Duration",P.key==="duration_hours"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Y("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",P.key==="status"&&(P.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Pricing"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Assessor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:y?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):l.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(es,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No courses found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:R||L!=="all"||C!=="all"?"Try adjusting your filters":"Create your first course!"})]})})}):d.map((W,ge)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group table-row-animated",onClick:()=>pe(W),style:{"--animation-delay":`${ge*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(es,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:W.name}),W.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",W.code]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:W.level||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(nt,{className:"h-4 w-4 mr-2 text-gray-400"}),W.duration_hours?`${W.duration_hours} hrs`:"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${W.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:W.status?W.status.charAt(0).toUpperCase()+W.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:(()=>{const G=W.current_price||W.pricing||(W.certificate_pricing&&W.certificate_pricing.length>0?W.certificate_pricing[0]:null);return G?t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(os,{className:"h-4 w-4 mr-1 text-primary-600"}),parseFloat(G.base_price||0).toFixed(2)," ",G.currency||"USD"]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not set"})})()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:W.assessor_required?t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Required"}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not Required"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",onClick:G=>G.stopPropagation(),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:G=>{G.stopPropagation(),M(W)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:G=>{G.stopPropagation(),V(W)},className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})})]},W.id||ge))})]})}),!y&&u>0&&t.jsx(Ft,{currentPage:T.currentPage,totalPages:Math.ceil(u/T.perPage),totalItems:u,perPage:T.perPage,onPageChange:Z,onPerPageChange:z})]}),t.jsx(Be,{isOpen:j,onClose:re,title:b?"Edit Course":"Add New Course",size:"lg",children:t.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Course Name (English)",name:"name",value:S.name,onChange:J,required:!0,error:X.name}),t.jsx(ve,{label:"Course Name (Arabic)",name:"name_ar",value:S.name_ar,onChange:J,error:X.name_ar})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Course Code",name:"code",value:S.code,onChange:J,required:!0,placeholder:"e.g., AST-101",error:X.code}),t.jsx(ve,{label:"Sub Category",name:"sub_category_id",type:"select",value:S.sub_category_id,onChange:J,required:!0,options:f.map(W=>({value:W.id,label:W.name||W.title||`Sub Category ${W.id}`})),error:X.sub_category_id})]}),t.jsx(ve,{label:"Description",name:"description",value:S.description,onChange:J,textarea:!0,rows:4,error:X.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Duration (Hours)",name:"duration_hours",type:"number",value:S.duration_hours,onChange:J,required:!0,min:"1",error:X.duration_hours}),t.jsx(ve,{label:"Max Capacity",name:"max_capacity",type:"number",value:S.max_capacity,onChange:J,required:!0,min:"1",placeholder:"Maximum number of trainees per class",error:X.max_capacity})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Level",name:"level",type:"select",value:S.level,onChange:J,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],error:X.level}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:S.status,onChange:J,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],error:X.status})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"assessor_required",name:"assessor_required",checked:S.assessor_required||!1,onChange:W=>I({...S,assessor_required:W.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("label",{htmlFor:"assessor_required",className:"text-sm font-medium text-gray-700",children:"Assessor Required"})]}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2 ml-6",children:"This course requires an assessor"}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(os,{size:20,className:"text-primary-600"}),"Pricing Information (Optional)"]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optional: Set pricing at creation time. You can create a course without pricing and add it later if needed. Commission percentages are managed by Group Admins separately."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Base Price",name:"base_price",type:"number",value:D.base_price,onChange:te,placeholder:"0.00",step:"0.01",min:"0",error:X.base_price}),t.jsx(ve,{label:"Currency",name:"currency",type:"select",value:D.currency,onChange:te,options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"SAR",label:"SAR"}],error:X.currency})]})]}),X.general&&t.jsx("p",{className:"text-sm text-red-600",children:X.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:re,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:H,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:H?"Saving...":b?"Update Course":"Create Course"})]})]})}),t.jsx(Be,{isOpen:ce,onClose:()=>{B(!1),_(null)},title:"Course Details",size:"lg",children:b&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.name||"N/A"})]}),b.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:b.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Duration"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.duration_hours?`${b.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.max_capacity?`${b.max_capacity} trainees`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${b.status==="active"?"bg-green-100 text-green-800":b.status==="inactive"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:b.status?b.status.charAt(0).toUpperCase()+b.status.slice(1):"N/A"})]})]}),b.sub_category&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Category"}),t.jsxs("div",{className:"space-y-1",children:[b.sub_category.category&&t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b.sub_category.category.name}),t.jsxs("p",{className:"text-sm text-gray-700",children:["Sub Category: ",b.sub_category.name]})]})]}),b.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:b.description})]}),(()=>{const W=b.current_price||b.pricing||(b.certificate_pricing&&b.certificate_pricing.length>0?b.certificate_pricing[0]:null);return W?t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg border border-primary-200",children:[t.jsxs("h4",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(os,{size:18,className:"text-primary-600"}),"Pricing Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[parseFloat(W.base_price||0).toFixed(2)," ",W.currency||"USD"]})]}),W.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Set On"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(W.created_at).toLocaleDateString()})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Commission percentages are managed by Group Admins. Pricing is effective immediately when set."})]}):t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(os,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No pricing set"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can add pricing when editing the course"})]})]})})})()]})}),t.jsx(da,{isOpen:h,onClose:()=>{g(!1),_(null)},onConfirm:ae,title:"Delete Course",message:`Are you sure you want to delete "${b==null?void 0:b.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},QE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState(!0),[m,u]=c.useState(!1),[p,f]=c.useState({key:null,direction:"asc"}),[x,y]=c.useState(""),[w,j]=c.useState("all"),[v,h]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[g,b]=c.useState({trainee_name:"",course:"",issue_date:"",status:"valid"}),[_,P]=c.useState({}),[A,R]=c.useState(!1);c.useEffect(()=>{k()},[v.currentPage,v.perPage,x,w]),c.useEffect(()=>(s("Certificates"),r("View and manage all generated certificates"),e(t.jsxs("button",{onClick:E,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx($s,{size:20}),"Create New Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const k=async()=>{d(!0);try{const I={page:v.currentPage,per_page:v.perPage};x&&(I.search=x),w!=="all"&&(I.status=w);const D=await et.listCertificates(I);let q=[];D.data?(q=D.data||[],h(X=>({...X,totalPages:D.last_page||D.total_pages||1,totalItems:D.total||0}))):D.certificates?(q=D.certificates||[],h(X=>{var ne;return{...X,totalPages:1,totalItems:((ne=D.certificates)==null?void 0:ne.length)||0}})):(q=Array.isArray(D)?D:[],h(X=>({...X,totalPages:1,totalItems:q.length}))),n(q),l(q)}catch(I){console.error("Failed to load certificates:",I),n([]),l([])}finally{d(!1)}},L=I=>{let D="asc";p.key===I&&p.direction==="asc"&&(D="desc"),f({key:I,direction:D})};c.useEffect(()=>{let I=[...a];p.key&&I.sort((D,q)=>{let X,ne;return p.key==="certificate_number"?(X=(D.certificate_number||"").toLowerCase(),ne=(q.certificate_number||"").toLowerCase()):p.key==="issue_date"?(X=new Date(D.issue_date||0),ne=new Date(q.issue_date||0)):(X=D[p.key]||"",ne=q[p.key]||""),p.key==="issue_date"||typeof X=="string"&&(X=X.toLowerCase(),ne=ne.toLowerCase()),X<ne?p.direction==="asc"?-1:1:X>ne?p.direction==="asc"?1:-1:0}),l(I)},[p,a]);const $=I=>{h(D=>({...D,currentPage:I}))},C=I=>{h(D=>({...D,perPage:I,currentPage:1}))},E=()=>{b({trainee_name:"",course:"",issue_date:new Date().toISOString().split("T")[0],status:"valid"}),P({}),u(!0)},T=()=>{u(!1),b({trainee_name:"",course:"",issue_date:"",status:"valid"}),P({})},N=I=>{b({...g,[I.target.name]:I.target.value}),P({})},S=async I=>{I.preventDefault(),R(!0),P({});try{await et.createCertificate(g),await k(),T(),h(D=>({...D,currentPage:1}))}catch(D){D.errors?P(D.errors):P({general:D.message||"Failed to create certificate"})}finally{R(!1)}};return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by number, trainee, or course...",value:x,onChange:I=>{y(I.target.value),h(D=>({...D,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:w,onChange:I=>{j(I.target.value),h(D=>({...D,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"valid",children:"Valid"}),t.jsx("option",{value:"invalid",children:"Invalid"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>L("certificate_number"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Certificate Number",p.key==="certificate_number"&&(p.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>L("trainee_name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Trainee",p.key==="trainee_name"&&(p.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>L("course"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Course",p.key==="course"&&(p.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>L("issue_date"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Issue Date",p.key==="issue_date"&&(p.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>L("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",p.key==="status"&&(p.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):i.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(pr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No certificates found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:x||w!=="all"?"Try adjusting your filters":"Create your first certificate!"})]})})}):i.map((I,D)=>t.jsxs("tr",{className:"table-row-animated hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group",style:{"--animation-delay":`${D*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(pr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:I.certificate_number||"N/A"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:I.trainee_name||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-700",children:I.course||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:I.issue_date?new Date(I.issue_date).toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${I.status==="valid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300"}`,children:I.status?I.status.charAt(0).toUpperCase()+I.status.slice(1):"N/A"})})]},I.id||D))})]})}),!o&&v.totalItems>0&&t.jsx(Ft,{currentPage:v.currentPage,totalPages:v.totalPages,totalItems:v.totalItems,perPage:v.perPage,onPageChange:$,onPerPageChange:C})]}),t.jsx(Be,{isOpen:m,onClose:T,title:"Create New Certificate",size:"lg",children:t.jsxs("form",{onSubmit:S,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Trainee Name",name:"trainee_name",value:g.trainee_name,onChange:N,required:!0,error:_.trainee_name}),t.jsx(ve,{label:"Course",name:"course",value:g.course,onChange:N,required:!0,error:_.course})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Issue Date",name:"issue_date",type:"date",value:g.issue_date,onChange:N,required:!0,error:_.issue_date}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:g.status,onChange:N,options:[{value:"valid",label:"Valid"},{value:"invalid",label:"Invalid"}],error:_.status})]}),_.general&&t.jsx("p",{className:"text-sm text-red-600",children:_.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:T,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:A,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Creating...":"Create Certificate"})]})]})})]})},XE=()=>{const[e,s]=c.useState([]),[r,a]=c.useState(!0),[n,i]=c.useState({currentPage:1,perPage:12,totalPages:1,totalItems:0});c.useEffect(()=>{l()},[n.currentPage,n.perPage]);const l=async()=>{a(!0);try{const m={page:n.currentPage,per_page:n.perPage},u=await et.listMaterials(m);let p=[];u.data?(p=u.data||[],i(f=>({...f,totalPages:u.last_page||u.total_pages||1,totalItems:u.total||0}))):u.materials?(p=u.materials||[],i(f=>{var x;return{...f,totalPages:1,totalItems:((x=u.materials)==null?void 0:x.length)||0}})):(p=Array.isArray(u)?u:[],i(f=>({...f,totalPages:1,totalItems:p.length}))),s(p)}catch(m){console.error("Failed to load materials:",m),s([])}finally{a(!1)}},o=m=>{i(u=>({...u,currentPage:m}))},d=m=>{i(u=>({...u,perPage:m,currentPage:1}))};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage course materials"})]}),t.jsxs("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[t.jsx($s,{size:20,className:"mr-2"}),"Add Material"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.length===0?t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(tt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No materials found"})]}):e.map(m=>{var u;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[t.jsx(tt,{className:"h-8 w-8 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m.name}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:m.material_type}),t.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",(u=m.price)==null?void 0:u.toLocaleString()]})]},m.id)})}),!r&&n.totalItems>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:t.jsx(Ft,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalItems,perPage:n.perPage,onPageChange:o,onPerPageChange:d,perPageOptions:[12,24,48,96]})})]})},JE=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState(!0),[p,f]=c.useState(!1),[x,y]=c.useState(!1),[w,j]=c.useState(null),[v,h]=c.useState({key:null,direction:"asc"}),[g,b]=c.useState(""),[_,P]=c.useState("all"),[A,R]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[k,L]=c.useState({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),[$,C]=c.useState({}),[E,T]=c.useState(!1);c.useEffect(()=>{N(),S()},[A.currentPage,A.perPage,g,_]),c.useEffect(()=>(s("Discount Codes"),r("Manage and track all discount codes"),e(t.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx($s,{size:20}),"Add Code"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const N=async()=>{u(!0);try{const z={page:A.currentPage,per_page:A.perPage};g&&(z.search=g),_!=="all"&&(z.status=_);const O=await et.listDiscountCodes(z);let M=[];O.data?(M=O.data||[],R(re=>({...re,totalPages:O.last_page||O.total_pages||1,totalItems:O.total||0}))):O.discount_codes?(M=O.discount_codes||[],R(re=>{var J;return{...re,totalPages:1,totalItems:((J=O.discount_codes)==null?void 0:J.length)||0}})):(M=Array.isArray(O)?O:[],R(re=>({...re,totalPages:1,totalItems:M.length}))),n(M),l(M)}catch(z){console.error("Failed to load codes:",z),n([]),l([])}finally{u(!1)}},S=async()=>{try{const z=await et.listCourses();d(z.courses||[])}catch(z){console.error("Failed to load courses:",z)}},I=z=>{if(z.courses&&Array.isArray(z.courses)&&z.courses.length>0)return z.courses.map(M=>M.name||M.title||"Unknown Course");const O=z.applicable_course_ids||z.course_ids||[];return!Array.isArray(O)||O.length===0?[]:O.map(M=>{const re=o.find(J=>J.id===M);return re?re.name:null}).filter(M=>M!==null)},D=z=>{let O="asc";v.key===z&&v.direction==="asc"&&(O="desc"),h({key:z,direction:O})};c.useEffect(()=>{let z=[...a];v.key&&z.sort((O,M)=>{let re,J;return v.key==="code"?(re=(O.code||"").toLowerCase(),J=(M.code||"").toLowerCase()):v.key==="discount_percentage"?(re=O.discount_percentage||0,J=M.discount_percentage||0):v.key==="start_date"||v.key==="end_date"?(re=new Date(O[v.key]||0),J=new Date(M[v.key]||0)):v.key==="total_quantity"||v.key==="used_quantity"?(re=O[v.key]||0,J=M[v.key]||0):(re=O[v.key]||"",J=M[v.key]||""),v.key==="discount_percentage"||v.key==="total_quantity"||v.key==="used_quantity"||v.key==="start_date"||v.key==="end_date"||typeof re=="string"&&(re=re.toLowerCase(),J=J.toLowerCase()),re<J?v.direction==="asc"?-1:1:re>J?v.direction==="asc"?1:-1:0}),l(z)},[v,a]);const q=z=>{R(O=>({...O,currentPage:z}))},X=z=>{R(O=>({...O,perPage:z,currentPage:1}))},ne=(z=null)=>{var O;if(C({}),j(null),z&&z.id){console.log("Opening modal for EDIT - code:",z),console.log("Code ID:",z.id),j(z);let M="";z.course_id?M=z.course_id.toString():z.applicable_course_ids&&z.applicable_course_ids.length>0?M=z.applicable_course_ids[0].toString():z.courses&&z.courses.length>0&&(M=((O=z.courses[0].id)==null?void 0:O.toString())||""),L({code:z.code||"",discount_percentage:z.discount_percentage||"",discount_type:z.discount_type||"time_limited",valid_from:z.start_date?z.start_date.split("T")[0]:"",valid_until:z.end_date?z.end_date.split("T")[0]:"",status:z.status||"active",course_id:M,total_quantity:z.total_quantity||""})}else console.log("Opening modal for CREATE - resetting all fields"),j(null),L({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""});f(!0)},H=()=>{f(!1),j(null),L({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),C({})},F=z=>{const{name:O,value:M}=z.target;L(re=>({...re,[O]:M})),$[O]&&C(re=>{const J={...re};return delete J[O],J})},U=async z=>{var M,re,J,te;z.preventDefault(),z.stopPropagation(),C({});const O={};if((!k.code||!k.code.trim())&&(O.code="Discount code is required"),(!k.discount_percentage||isNaN(k.discount_percentage)||parseFloat(k.discount_percentage)<=0)&&(O.discount_percentage="Valid discount percentage is required"),k.discount_type||(O.discount_type="Discount type is required"),k.course_id||(O.course_id="Course is required"),k.discount_type==="time_limited"?(k.valid_from||(O.valid_from="Valid from date is required"),k.valid_until||(O.valid_until="Valid until date is required"),k.valid_from&&k.valid_until&&new Date(k.valid_from)>=new Date(k.valid_until)&&(O.valid_until="Valid until date must be after valid from date")):k.discount_type==="quantity_based"&&(!k.total_quantity||isNaN(k.total_quantity)||parseInt(k.total_quantity)<=0)&&(O.total_quantity="Total quantity is required and must be greater than 0"),Object.keys(O).length>0){C(O);return}T(!0);try{const K={code:k.code.trim(),discount_type:k.discount_type,discount_percentage:parseFloat(k.discount_percentage),applicable_course_ids:[parseInt(k.course_id)],status:k.status};k.discount_type==="time_limited"?(K.start_date=k.valid_from,K.end_date=k.valid_until):k.discount_type==="quantity_based"&&(K.total_quantity=parseInt(k.total_quantity)),console.log("Submitting discount code:",JSON.stringify(K,null,2)),console.log("Selected code:",w),console.log("Is creating new code:",!w);let ie;if(w&&(w.id||w.discount_code_id||(M=w.discount_code)!=null&&M.id)){const V=w.id||w.discount_code_id||((re=w.discount_code)==null?void 0:re.id);console.log("Updating discount code with ID:",V),ie=await et.updateDiscountCode(V,K),console.log("Discount code updated:",ie),alert("Discount code updated successfully!")}else w&&(console.warn("Warning: selectedCode exists but has no ID, treating as create"),j(null)),console.log("Creating new discount code via POST..."),ie=await et.createDiscountCode(K),console.log("Discount code created:",ie),alert("Discount code created successfully!");await N(),H(),R(V=>({...V,currentPage:1}))}catch(K){if(console.error("Failed to create discount code:",K),console.error("Error response:",K.response),console.error("Error data:",(J=K.response)==null?void 0:J.data),(te=K.response)!=null&&te.data){const ie=K.response.data;if(ie.errors){const V={};Object.keys(ie.errors).forEach(ae=>{V[ae]=Array.isArray(ie.errors[ae])?ie.errors[ae][0]:ie.errors[ae]}),C(V)}else ie.message?C({general:ie.message}):C(ie)}else K.message?C({general:K.message}):C({general:"Failed to create discount code. Please try again."})}finally{T(!1)}},Y=z=>{j(z),y(!0)},Z=async()=>{var z,O,M;try{const re=(w==null?void 0:w.id)||(w==null?void 0:w.discount_code_id)||((z=w==null?void 0:w.discount_code)==null?void 0:z.id);if(!re)throw new Error("Cannot delete: Discount code ID not found");console.log("Deleting discount code with ID:",re),await et.deleteDiscountCode(re),await N(),alert("Discount code deleted successfully!")}catch(re){console.error("Failed to delete discount code:",re),console.error("Selected code:",w),alert("Failed to delete discount code: "+(((M=(O=re.response)==null?void 0:O.data)==null?void 0:M.message)||re.message||"Unknown error"))}y(!1),j(null)};return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code or type...",value:g,onChange:z=>{b(z.target.value),R(O=>({...O,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:_,onChange:z=>{P(z.target.value),R(O=>({...O,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("code"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Code",v.key==="code"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("discount_percentage"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Discount",v.key==="discount_percentage"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("discount_type"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Type",v.key==="discount_type"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:t.jsx("div",{className:"flex items-center gap-2",children:"Courses"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",v.key==="status"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("start_date"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Start Date",v.key==="start_date"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("end_date"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["End Date",v.key==="end_date"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>D("total_quantity"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Quantity",v.key==="total_quantity"&&(v.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:m?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):i.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(ci,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No discount codes found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g||_!=="all"?"Try adjusting your filters":"Create your first discount code!"})]})})}):i.map((z,O)=>t.jsxs("tr",{className:"table-row-animated hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 cursor-pointer group",style:{"--animation-delay":`${O*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(ci,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:z.code||"N/A"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:[parseFloat(z.discount_percentage)||0,"%"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 rounded-md text-xs font-medium capitalize",children:z.discount_type?z.discount_type.replace(/_/g," "):"N/A"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"flex flex-col gap-1",children:(()=>{const M=I(z);return M.length===0?t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No courses assigned"}):t.jsx("div",{className:"flex flex-wrap gap-1.5",children:M.map((re,J)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-xs font-medium border border-blue-200",title:re,children:[t.jsx(ts,{size:12}),t.jsx("span",{className:"max-w-[150px] truncate",children:re})]},J))})})()})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${z.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:z.status?z.status.charAt(0).toUpperCase()+z.status.slice(1):"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:z.start_date?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:new Date(z.start_date).toLocaleDateString()}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:z.end_date?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:new Date(z.end_date).toLocaleDateString()}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:z.discount_type==="quantity_based"?t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-primary-700",children:z.used_quantity||0}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:z.total_quantity||0})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all",style:{width:`${z.total_quantity>0?(z.used_quantity||0)/z.total_quantity*100:0}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[z.total_quantity>0?Math.round((z.used_quantity||0)/z.total_quantity*100):0,"%"]})]})]}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-600 border border-blue-200",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:M=>{M.stopPropagation(),ne(z)},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:M=>{M.stopPropagation(),Y(z)},className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Hs,{size:16})})]})})]},z.id||O))})]})}),!m&&A.totalItems>0&&t.jsx(Ft,{currentPage:A.currentPage,totalPages:A.totalPages,totalItems:A.totalItems,perPage:A.perPage,onPageChange:q,onPerPageChange:X})]}),t.jsx(Be,{isOpen:p,onClose:H,title:w&&(w.id||w.discount_code_id)?"Edit Discount Code":"Add New Discount Code",size:"lg",children:t.jsxs("form",{onSubmit:U,className:"space-y-4",children:[$.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:$.general})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Discount Code",name:"code",value:k.code,onChange:F,required:!0,placeholder:"e.g., SAVE20",error:$.code}),t.jsx(ve,{label:"Discount Percentage",name:"discount_percentage",type:"number",value:k.discount_percentage,onChange:F,required:!0,min:"0",max:"100",placeholder:"e.g., 20",error:$.discount_percentage})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"course_id",value:k.course_id,onChange:F,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${$.course_id?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"",children:"Select a course..."}),o.map(z=>t.jsxs("option",{value:z.id,children:[z.name," ",z.code?`(${z.code})`:""]},z.id))]}),$.course_id&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.course_id})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount Type ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"discount_type",value:k.discount_type,onChange:F,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${$.discount_type?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"time_limited",children:"Time Limited"}),t.jsx("option",{value:"quantity_based",children:"Quantity Based"})]}),$.discount_type&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:$.discount_type})]}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:k.status,onChange:F,required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:$.status})]}),k.discount_type==="time_limited"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ve,{label:"Valid From",name:"valid_from",type:"date",value:k.valid_from,onChange:F,required:!0,error:$.valid_from}),t.jsx(ve,{label:"Valid Until",name:"valid_until",type:"date",value:k.valid_until,onChange:F,required:!0,error:$.valid_until})]}),k.discount_type==="quantity_based"&&t.jsx(ve,{label:"Total Quantity",name:"total_quantity",type:"number",value:k.total_quantity,onChange:F,required:!0,min:"1",placeholder:"e.g., 100",error:$.total_quantity}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:H,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:E,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?w&&(w.id||w.discount_code_id)?"Updating...":"Creating...":w&&(w.id||w.discount_code_id)?"Update Discount Code":"Create Discount Code"})]})]})}),t.jsx(da,{isOpen:x,onClose:()=>{y(!1),j(null)},onConfirm:Z,title:"Delete Discount Code",message:`Are you sure you want to delete discount code "${w==null?void 0:w.code}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},ZE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState("categories"),[n,i]=c.useState("categories"),[l,o]=c.useState([]),[d,m]=c.useState([]),[u,p]=c.useState(!0),[f,x]=c.useState(!1),[y,w]=c.useState(!1),[j,v]=c.useState(null),[h,g]=c.useState({name:"",name_ar:"",description:"",status:"active"}),[b,_]=c.useState({}),[P,A]=c.useState(!1),[R,k]=c.useState({key:null,direction:"asc"}),[L,$]=c.useState(""),[C,E]=c.useState("all"),[T,N]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[S,I]=c.useState([]),[D,q]=c.useState([]),[X,ne]=c.useState(!0),[H,F]=c.useState(!1),[U,Y]=c.useState(!1),[Z,z]=c.useState(null),[O,M]=c.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[re,J]=c.useState({}),[te,K]=c.useState(!1),[ie,V]=c.useState({key:null,direction:"asc"}),[ae,ce]=c.useState(""),[B,pe]=c.useState("all"),[W,ge]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{G()},[T.currentPage,T.perPage,L,C]),c.useEffect(()=>(e("Categories"),s("View assigned categories and manage your own categories"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{r==="categories"&&n!=="categories"&&!u&&G(),i(r)},[r]);const G=async()=>{var de;try{p(!0);const Q={page:T.currentPage,per_page:T.perPage};L&&(Q.search=L),C!=="all"&&(Q.status=C);const me=await et.listCategories(Q);let ke=[];me!=null&&me.data?(ke=Array.isArray(me.data)?me.data:[],N(Le=>({...Le,totalPages:me.last_page||me.total_pages||1,totalItems:me.total||0}))):me!=null&&me.categories&&Array.isArray(me.categories)?(ke=me.categories,N(Le=>{var tr;return{...Le,totalPages:1,totalItems:((tr=me.categories)==null?void 0:tr.length)||0}})):Array.isArray(me)?ke=me:(console.warn("Unexpected API response structure:",me),ke=[],N(Le=>({...Le,totalPages:1,totalItems:0}))),o(ke),m(ke);const $e=[];ke.forEach(Le=>{Le.sub_categories&&Array.isArray(Le.sub_categories)&&$e.push(...Le.sub_categories)}),ke.length>0?await De():$e.length>0&&(I($e),q($e),ne(!1))}catch(Q){console.error("Failed to load categories:",Q),console.error("Error details:",((de=Q.response)==null?void 0:de.data)||Q.message),o([]),m([])}finally{p(!1)}},ue=(de=null)=>{de?(v(de),g({name:de.name||"",name_ar:de.name_ar||"",description:de.description||"",status:de.status||"active"})):(v(null),g({name:"",name_ar:"",description:"",status:"active"})),_({}),x(!0)},fe=()=>{x(!1),v(null),g({name:"",name_ar:"",description:"",status:"active"}),_({})},se=de=>{g({...h,[de.target.name]:de.target.value}),_({})},he=async de=>{var Q,me,ke,$e;de.preventDefault(),A(!0),_({});try{j?await et.updateCategory(j.id,h):await et.createCategory(h),await G(),fe(),N(Le=>({...Le,currentPage:1}))}catch(Le){(me=(Q=Le.response)==null?void 0:Q.data)!=null&&me.errors?_(Le.response.data.errors):($e=(ke=Le.response)==null?void 0:ke.data)!=null&&$e.message?_({general:Le.response.data.message}):_({general:Le.message||"Failed to save category"})}finally{A(!1)}},be=de=>{v(de),w(!0)},_e=async()=>{var de,Q;try{await et.deleteCategory(j.id),await G(),N(me=>({...me,currentPage:1}))}catch(me){alert("Failed to delete category: "+(((Q=(de=me.response)==null?void 0:de.data)==null?void 0:Q.message)||me.message||"Unknown error"))}w(!1),v(null)},De=async(de=null)=>{ne(!0);try{const Q={page:W.currentPage,per_page:W.perPage};de&&(Q.category_id=de),ae&&(Q.search=ae),B!=="all"&&(Q.status=B);const me=await et.listSubCategories(Q);let ke=[];me!=null&&me.data?(ke=Array.isArray(me.data)?me.data:[],ge($e=>({...$e,totalPages:me.last_page||me.total_pages||1,totalItems:me.total||0}))):me!=null&&me.sub_categories?(ke=Array.isArray(me.sub_categories)?me.sub_categories:[],ge($e=>{var Le;return{...$e,totalPages:1,totalItems:((Le=me.sub_categories)==null?void 0:Le.length)||0}})):(ke=Array.isArray(me)?me:[],ge($e=>({...$e,totalPages:1,totalItems:ke.length}))),I(ke),q(ke)}catch(Q){console.error("Failed to load sub categories:",Q),I([]),q([])}finally{ne(!1)}},Ee=de=>{ge(Q=>({...Q,currentPage:de}))},Ae=de=>{ge(Q=>({...Q,perPage:de,currentPage:1}))},Pe=de=>{let Q="asc";R.key===de&&R.direction==="asc"&&(Q="desc"),k({key:de,direction:Q})},Ne=de=>{let Q="asc";ie.key===de&&ie.direction==="asc"&&(Q="desc"),V({key:de,direction:Q})};c.useEffect(()=>{if(r!=="categories")return;let de=[...l];R.key&&de.sort((Q,me)=>{let ke,$e;return R.key==="name"?(ke=(Q.name||"").toLowerCase(),$e=(me.name||"").toLowerCase()):(ke=Q[R.key]||"",$e=me[R.key]||""),typeof ke=="string"&&(ke=ke.toLowerCase(),$e=$e.toLowerCase()),ke<$e?R.direction==="asc"?-1:1:ke>$e?R.direction==="asc"?1:-1:0}),m(de)},[R,l,r]),c.useEffect(()=>{r==="sub-categories"&&De()},[r,W.currentPage,W.perPage,ae,B]),c.useEffect(()=>{if(r!=="sub-categories")return;let de=[...S];if(ae){const Q=ae.toLowerCase();de=de.filter(me=>{const ke=me.name||"",$e=me.name_ar||"";return ke.toLowerCase().includes(Q)||$e.toLowerCase().includes(Q)})}B!=="all"&&(de=de.filter(Q=>Q.status===B)),ie.key&&de.sort((Q,me)=>{let ke,$e;if(ie.key==="name")ke=(Q.name||"").toLowerCase(),$e=(me.name||"").toLowerCase();else if(ie.key==="category_id"){const Le=l.find(xr=>xr.id===Q.category_id),tr=l.find(xr=>xr.id===me.category_id);ke=Le?(Le.name||"").toLowerCase():"",$e=tr?(tr.name||"").toLowerCase():""}else ke=Q[ie.key]||"",$e=me[ie.key]||"";return typeof ke=="string"&&(ke=ke.toLowerCase(),$e=$e.toLowerCase()),ke<$e?ie.direction==="asc"?-1:1:ke>$e?ie.direction==="asc"?1:-1:0}),q(de)},[ie,S,ae,B,r,l]);const Ue=(de=null)=>{de?(z(de),M({category_id:de.category_id||"",name:de.name||"",name_ar:de.name_ar||"",description:de.description||"",status:de.status||"active"})):(z(null),M({category_id:"",name:"",name_ar:"",description:"",status:"active"})),J({}),F(!0)},oe=()=>{F(!1),z(null),M({category_id:"",name:"",name_ar:"",description:"",status:"active"}),J({})},ee=de=>{M({...O,[de.target.name]:de.target.value}),J({})},ye=async de=>{var Q,me,ke,$e;de.preventDefault(),K(!0),J({});try{Z?await et.updateSubCategory(Z.id,O):await et.createSubCategory(O),await De(),oe(),ge(Le=>({...Le,currentPage:1}))}catch(Le){(me=(Q=Le.response)==null?void 0:Q.data)!=null&&me.errors?J(Le.response.data.errors):($e=(ke=Le.response)==null?void 0:ke.data)!=null&&$e.message?J({general:Le.response.data.message}):J({general:Le.message||"Failed to save sub category"})}finally{K(!1)}},ze=de=>{z(de),Y(!0)},Se=async()=>{var de,Q;try{await et.deleteSubCategory(Z.id),await De(),ge(me=>({...me,currentPage:1}))}catch(me){alert("Failed to delete sub category: "+(((Q=(de=me.response)==null?void 0:de.data)==null?void 0:Q.message)||me.message||"Unknown error"))}Y(!1),z(null)},Ie=l.length,Ce=l.filter(de=>de.status==="active").length,We=S.length,Ge=S.filter(de=>de.status==="active").length,xe=de=>de.created_by!=null&&de.created_by!==void 0&&de.created_by!==1,Re=de=>de.created_by!=null&&de.created_by!==void 0&&de.created_by!==1;return u&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Categories"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:Ie})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Active Categories"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:Ce})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:We})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ks,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-lg p-6 border border-purple-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-2",children:"Active Sub Categories"}),t.jsx("p",{className:"text-3xl font-bold text-purple-900",children:Ge})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ks,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>a("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(tt,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>a("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(ks,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(rt,{onClick:()=>G(),icon:t.jsx(jv,{size:20}),variant:"outline",disabled:u,loading:u,title:"Refresh categories list",children:"Refresh"}),t.jsx(rt,{onClick:()=>ue(),icon:t.jsx($s,{size:20}),children:"Add Category"})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:L,onChange:de=>{$(de.target.value),N(Q=>({...Q,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:C,onChange:de=>{E(de.target.value),N(Q=>({...Q,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",R.key==="name"&&(R.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("description"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Description",R.key==="description"&&(R.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Pe("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",R.key==="status"&&(R.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:d.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(tt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create your first category to get started"})]})})}):d.map((de,Q)=>t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${Q*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:de.name}),de.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:de.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:de.description||"-"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${de.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:de.status.charAt(0).toUpperCase()+de.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${xe(de)?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300"}`,children:xe(de)?"Created by Me":"Assigned by Admin"}),de.sub_categories&&de.sub_categories.length>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:[de.sub_categories.length," sub-categor",de.sub_categories.length===1?"y":"ies"]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ue(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${xe(de)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:xe(de)?"Edit Category":"Cannot edit - Assigned by Admin",disabled:!xe(de),children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:()=>be(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${xe(de)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:xe(de)?"Delete Category":"Cannot delete - Assigned by Admin",disabled:!xe(de),children:t.jsx(Hs,{size:16})})]})})]},de.id||Q))})]})})})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(rt,{onClick:()=>Ue(),icon:t.jsx($s,{size:20}),children:"Add Sub Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search by name...",value:ae,onChange:de=>{ce(de.target.value),ge(Q=>({...Q,currentPage:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:B,onChange:de=>{pe(de.target.value),ge(Q=>({...Q,currentPage:1}))},className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),X?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("name"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Sub Category",ie.key==="name"&&(ie.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("category_id"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Category",ie.key==="category_id"&&(ie.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider cursor-pointer hover:bg-primary-700 transition-colors select-none",onClick:()=>Ne("status"),children:t.jsxs("div",{className:"flex items-center gap-2",children:["Status",ie.key==="status"&&(ie.direction==="asc"?t.jsx(Ve,{size:16}):t.jsx(qe,{size:16}))]})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:D.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(ks,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No sub categories found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create your first sub category to get started"})]})})}):D.map((de,Q)=>{const me=l.find(ke=>ke.id===de.category_id);return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${Q*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:de.name}),de.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:de.name_ar})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:me?me.name:`Category ID: ${de.category_id}`})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${de.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:de.status.charAt(0).toUpperCase()+de.status.slice(1)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Ue(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Re(de)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Re(de)?"Edit Sub Category":"Cannot edit - Created by Admin",disabled:!Re(de),children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:()=>ze(de),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${Re(de)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:Re(de)?"Delete Sub Category":"Cannot delete - Created by Admin",disabled:!Re(de),children:t.jsx(Hs,{size:16})})]})})]},de.id||Q)})})]})}),!X&&r==="sub-categories"&&W.totalItems>0&&t.jsx(Ft,{currentPage:W.currentPage,totalPages:W.totalPages,totalItems:W.totalItems,perPage:W.perPage,onPageChange:Ee,onPerPageChange:Ae})]})]}),t.jsx(Be,{isOpen:f,onClose:fe,title:j?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:he,className:"space-y-4",children:[t.jsx(ve,{label:"Category Name (English)",name:"name",value:h.name,onChange:se,required:!0,error:b.name}),t.jsx(ve,{label:"Category Name (Arabic)",name:"name_ar",value:h.name_ar,onChange:se,error:b.name_ar}),t.jsx(ve,{label:"Description",name:"description",value:h.description,onChange:se,textarea:!0,rows:3,error:b.description}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:h.status,onChange:se,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:b.status}),b.general&&t.jsx("p",{className:"text-sm text-red-600",children:b.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:fe,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(rt,{type:"submit",disabled:P,loading:P,fullWidth:!0,children:j?"Update":"Create"})]})]})}),t.jsx(da,{isOpen:y,onClose:()=>{w(!1),v(null)},onConfirm:_e,title:"Delete Category",message:`Are you sure you want to delete "${j==null?void 0:j.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Be,{isOpen:H,onClose:oe,title:Z?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[t.jsx(ve,{label:"Category",name:"category_id",type:"select",value:O.category_id,onChange:ee,required:!0,options:l.filter(de=>de.id).map(de=>({value:de.id,label:de.name||`Category ${de.id}`})),error:re.category_id}),t.jsx(ve,{label:"Sub Category Name (English)",name:"name",value:O.name,onChange:ee,required:!0,error:re.name}),t.jsx(ve,{label:"Sub Category Name (Arabic)",name:"name_ar",value:O.name_ar,onChange:ee,error:re.name_ar}),t.jsx(ve,{label:"Description",name:"description",value:O.description,onChange:ee,textarea:!0,rows:3,error:re.description}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:O.status,onChange:ee,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:re.status}),re.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:re.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:oe,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(rt,{type:"submit",disabled:te,loading:te,fullWidth:!0,children:Z?"Update":"Create"})]})]})}),t.jsx(da,{isOpen:U,onClose:()=>{Y(!1),z(null)},onConfirm:Se,title:"Delete Sub Category",message:`Are you sure you want to delete "${Z==null?void 0:Z.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},e6=()=>{var q,X,ne;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(null),[l,o]=c.useState(!0),[d,m]=c.useState(!1),[u,p]=c.useState(null),[f,x]=c.useState(""),[y,w]=c.useState("all"),[j,v]=c.useState("all"),[h,g]=c.useState(""),[b,_]=c.useState(""),[P,A]=c.useState(1),[R,k]=c.useState(15);c.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{L()},[P,R,y,j,h,b]);const L=async()=>{var H,F;o(!0);try{const U={page:P,per_page:R};y!=="all"&&(U.type=y),j!=="all"&&(U.status=j),h&&(U.date_from=h),b&&(U.date_to=b);const Y=await et.getPaymentTransactions(U),Z=(Y==null?void 0:Y.data)||Y||[],z=(Y==null?void 0:Y.summary)||null;a(Array.isArray(Z)?Z:(Z==null?void 0:Z.data)||[]),i(z)}catch(U){console.error("Failed to load transactions:",U),(F=(H=U==null?void 0:U.response)==null?void 0:H.data)!=null&&F.message||U!=null&&U.message,console.error("Error details:",U),a([]),i(null)}finally{o(!1)}},$=H=>{p(H),m(!0)},C=c.useMemo(()=>{if(!f)return r;const H=f.toLowerCase();return r.filter(F=>{var J,te;const U=F.transaction_type||"",Y=String(F.amount||""),Z=F.currency||"",z=F.status||"",O=F.description||"",M=((J=F.payer)==null?void 0:J.name)||"",re=((te=F.payee)==null?void 0:te.name)||"";return U.toLowerCase().includes(H)||Y.includes(H)||Z.toLowerCase().includes(H)||z.toLowerCase().includes(H)||O.toLowerCase().includes(H)||M.toLowerCase().includes(H)||re.toLowerCase().includes(H)})},[r,f]),E=(H,F="USD")=>`${parseFloat(H||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${F}`,T=H=>H?new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",N=H=>H?new Date(H).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=H=>{switch(H){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},I=H=>(H==null?void 0:H.split("_").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" "))||"N/A",D=H=>H.payee&&H.payee.type==="acc";return t.jsxs("div",{className:"space-y-4",children:[n&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:"Total Transactions"}),t.jsx("p",{className:"text-3xl font-bold text-primary-900",children:n.total_transactions||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(cr,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:"Total Received"}),t.jsx("p",{className:"text-3xl font-bold text-green-900",children:E(n.total_received||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(rp,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-xl shadow-lg p-6 border border-red-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:"Total Paid"}),t.jsx("p",{className:"text-3xl font-bold text-red-900",children:E(n.total_paid||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Lc,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Completed"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:E(n.completed_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Xn,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:E(n.pending_amount||0)})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(At,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:f,onChange:H=>x(H.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:y,onChange:H=>{w(H.target.value),A(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"material_purchase",children:"Material Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"}),t.jsx("option",{value:"settlement",children:"Settlement"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:H=>{v(H.target.value),A(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date From",value:h,onChange:H=>{g(H.target.value),A(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date To",value:b,onChange:H=>{_(H.target.value),A(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})})]})}),l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payer"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Payee"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Received"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:C.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(cr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f||y!=="all"||j!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):C.map((H,F)=>{var U,Y;return t.jsxs("tr",{className:`hover:bg-gradient-to-r hover:to-white transition-all duration-200 group table-row-animated ${D(H)?"hover:from-green-50/30":"hover:from-red-50/30"}`,style:{"--animation-delay":`${F*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${D(H)?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:D(H)?t.jsx(rp,{className:"h-5 w-5 text-green-600"}):t.jsx(Lc,{className:"h-5 w-5 text-red-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:I(H.transaction_type)})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:H.payer?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:H.payer.type==="acc"||H.payer.type==="training_center"?t.jsx(Xe,{className:"h-4 w-4 text-blue-600"}):t.jsx(Xs,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.payer.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:H.payer.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:H.payee?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:H.payee.type==="acc"||H.payee.type==="training_center"?t.jsx(Xe,{className:"h-4 w-4 text-green-600"}):t.jsx(Xs,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.payee.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:H.payee.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:`text-sm font-semibold ${D(H)?"text-green-700":"text-red-700"}`,children:[D(H)?"+":"-"," ",E(H.amount,H.currency)]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:H.provider_amount||H.received_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["+ ",E(H.provider_amount||H.received_amount,H.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:H.commission_amount?t.jsxs("div",{className:"text-sm font-semibold text-amber-700",children:["- ",E(H.commission_amount,H.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${S(H.status)}`,children:((U=H.status)==null?void 0:U.charAt(0).toUpperCase())+((Y=H.status)==null?void 0:Y.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:T(H.created_at)})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>$(H),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})})})})]},H.id||F)})})]})})}),n&&n.total>0&&t.jsx(Ft,{currentPage:P||1,totalPages:Math.ceil((n.total||0)/R),totalItems:n.total||0,perPage:R,onPageChange:A,onPerPageChange:H=>{k(H),A(1)}})]}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),p(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I(u.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${S(u.status)}`,children:((q=u.status)==null?void 0:q.charAt(0).toUpperCase())+((X=u.status)==null?void 0:X.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),t.jsxs("p",{className:`text-2xl font-bold ${D(u)?"text-green-700":"text-red-700"}`,children:[D(u)?"+":"-"," ",E(u.amount,u.currency)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((ne=u.payment_method)==null?void 0:ne.replace("_"," "))||"N/A"})]}),u.provider_amount||u.received_amount?t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount Received"}),t.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["+ ",E(u.provider_amount||u.received_amount,u.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount you received after commission"})]}):null,u.commission_amount?t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Platform Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["- ",E(u.commission_amount,u.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Commission deducted from total amount"})]}):null,u.payment_type&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:u.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]})]}),u.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:u.description})]}),u.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:u.reference.type})]}),u.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(u.reference.details,null,2)})})]})]}),u.commission_ledgers&&u.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:u.commission_ledgers.map((H,F)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[H.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:H.acc.name})]}),H.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:H.training_center.name})]}),H.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[E(H.group_commission_amount)," (",H.group_commission_percentage,"%)"]})]}),H.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[E(H.acc_commission_amount)," (",H.acc_commission_percentage,"%)"]})]})]})},H.id||F))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:N(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:u.payment_gateway_transaction_id})]})]})})]})},t6=()=>{var z,O,M,re,J,te;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState([]),[d,m]=c.useState(!0),[u,p]=c.useState(!1),[f,x]=c.useState(null),[y,w]=c.useState(""),[j,v]=c.useState("all"),[h,g]=c.useState("all"),[b,_]=c.useState("all"),[P,A]=c.useState(""),[R,k]=c.useState(""),[L,$]=c.useState(1),[C,E]=c.useState(15),[T,N]=c.useState(0),[S,I]=c.useState(1);c.useEffect(()=>(e("Classes"),s("View all classes from authorized training centers"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{D(),q(),X()},[L,C,j,h,b,P,R]);const D=async()=>{m(!0);try{const K={page:L,per_page:C};j!=="all"&&(K.status=j),h!=="all"&&(K.training_center_id=h),b!=="all"&&(K.course_id=b),P&&(K.date_from=P),R&&(K.date_to=R);const ie=await et.listClasses(K),V=(ie==null?void 0:ie.data)||ie||[];a(Array.isArray(V)?V:(V==null?void 0:V.data)||[]),(ie==null?void 0:ie.total)!==void 0?(N(ie.total),I(ie.last_page||Math.ceil(ie.total/C))):(V==null?void 0:V.total)!==void 0&&(N(V.total),I(V.last_page||Math.ceil(V.total/C)))}catch(K){console.error("Failed to load classes:",K),a([])}finally{m(!1)}},q=async()=>{try{const K=await et.listAuthorizedTrainingCenters({per_page:100}),ie=(K==null?void 0:K.data)||(K==null?void 0:K.training_centers)||[];i(Array.isArray(ie)?ie:[])}catch(K){console.error("Failed to load training centers:",K)}},X=async()=>{try{const K=await et.listCourses({per_page:100}),ie=(K==null?void 0:K.data)||(K==null?void 0:K.courses)||[];o(Array.isArray(ie)?ie:[])}catch(K){console.error("Failed to load courses:",K)}},ne=async K=>{try{const ie=await et.getClassDetails(K.id);x(ie),p(!0)}catch(ie){console.error("Failed to load class details:",ie),x(K),p(!0)}},H=r.filter(K=>{var W,ge,G,ue;if(!y)return!0;const ie=y.toLowerCase(),V=((W=K.course)==null?void 0:W.name)||"",ae=((ge=K.training_center)==null?void 0:ge.name)||"",ce=`${((G=K.instructor)==null?void 0:G.first_name)||""} ${((ue=K.instructor)==null?void 0:ue.last_name)||""}`.trim(),B=K.location_details||"",pe=K.status||"";return V.toLowerCase().includes(ie)||ae.toLowerCase().includes(ie)||ce.toLowerCase().includes(ie)||B.toLowerCase().includes(ie)||pe.toLowerCase().includes(ie)}),F=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",U=K=>K?new Date(K).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Y=K=>{switch(K){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"in_progress":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"scheduled":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"cancelled":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},Z=K=>{switch(K){case"online":return"";case"hybrid":return"";default:return""}};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(It,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search classes...",value:y,onChange:K=>w(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:j,onChange:K=>{v(K.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"scheduled",children:"Scheduled"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:h,onChange:K=>{g(K.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Training Centers"}),n.map(K=>t.jsx("option",{value:K.id,children:K.name},K.id))]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:b,onChange:K=>{_(K.target.value),$(1)},className:"w-full pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Courses"}),l.map(K=>t.jsx("option",{value:K.id,children:K.name},K.id))]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date From",value:P,onChange:K=>{A(K.target.value),$(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})}),t.jsx("div",{children:t.jsx("input",{type:"date",placeholder:"Date To",value:R,onChange:K=>{k(K.target.value),$(1)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})})]})]}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Course"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Training Center"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Instructor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Schedule"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Location"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Capacity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:H.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(es,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No classes found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:y||j!=="all"||h!=="all"||b!=="all"?"No classes match your search criteria":"No classes available"})]})})}):H.map((K,ie)=>{var V,ae,ce,B,pe,W,ge;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${ie*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(ts,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:((V=K.course)==null?void 0:V.name)||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:((ae=K.course)==null?void 0:ae.code)||""})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Xe,{className:"h-4 w-4 text-blue-600"})}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:((ce=K.training_center)==null?void 0:ce.name)||"N/A"})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:K.instructor?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Xs,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${K.instructor.first_name||""} ${K.instructor.last_name||""}`.trim()||"N/A"}),K.instructor.email&&t.jsx("div",{className:"text-xs text-gray-500",children:K.instructor.email})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(At,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:F(K.start_date)})]}),K.end_date&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["to ",F(K.end_date)]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:Z(K.location)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:K.location||"N/A"}),K.location_details&&t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:K.location_details})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dt,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[K.enrolled_count||0," / ",((B=K.course)==null?void 0:B.max_capacity)||"N/A"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[(pe=K.course)!=null&&pe.max_capacity?Math.round((K.enrolled_count||0)/K.course.max_capacity*100):0,"% full"]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Y(K.status)}`,children:((W=K.status)==null?void 0:W.charAt(0).toUpperCase())+((ge=K.status)==null?void 0:ge.slice(1).replace("_"," "))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>ne(K),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(Ot,{size:16})})})})]},K.id||ie)})})]})})}),T>0&&t.jsx(Ft,{currentPage:L,totalPages:S,totalItems:T,perPage:C,onPageChange:$,onPerPageChange:K=>{E(K),$(1)}})]}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),x(null)},title:"Class Details",size:"lg",children:f&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((z=f.course)==null?void 0:z.name)||"N/A"}),((O=f.course)==null?void 0:O.code)&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Code: ",f.course.code]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${Y(f.status)}`,children:((M=f.status)==null?void 0:M.charAt(0).toUpperCase())+((re=f.status)==null?void 0:re.slice(1).replace("_"," "))||"N/A"})]})]}),f.training_center&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-3 flex items-center gap-2",children:[t.jsx(Xe,{className:"h-4 w-4"}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:f.training_center.name})]}),f.training_center.email&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:f.training_center.email})]}),f.training_center.phone&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Phone:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:f.training_center.phone})]}),f.training_center.city&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Location:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[f.training_center.city,", ",f.training_center.country]})]})]})]}),f.instructor&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("p",{className:"text-sm font-medium text-green-700 mb-3 flex items-center gap-2",children:[t.jsx(Xs,{className:"h-4 w-4"}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:`${f.instructor.first_name||""} ${f.instructor.last_name||""}`.trim()||"N/A"})]}),f.instructor.email&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:f.instructor.email})]}),f.instructor.phone&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Phone:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:f.instructor.phone})]})]})]}),t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsxs("p",{className:"text-sm font-medium text-purple-700 mb-3 flex items-center gap-2",children:[t.jsx(At,{className:"h-4 w-4"}),"Schedule Information"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Start Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:F(f.start_date)})]}),f.end_date&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"End Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:F(f.end_date)})]})]}),f.schedule_json&&Object.keys(f.schedule_json).length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-200",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Weekly Schedule"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(f.schedule_json).map(([K,ie])=>t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"font-semibold text-gray-900 capitalize",children:[K,":"]}),t.jsx("span",{className:"text-gray-700 ml-2",children:ie})]},K))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[t.jsx(Wt,{className:"h-4 w-4"}),"Location"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:f.location||"N/A"}),f.location_details&&t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:f.location_details})]}),t.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[t.jsxs("p",{className:"text-sm text-gray-600 mb-1 flex items-center gap-2",children:[t.jsx(dt,{className:"h-4 w-4"}),"Capacity"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[f.enrolled_count||0," / ",((J=f.course)==null?void 0:J.max_capacity)||"N/A"]}),((te=f.course)==null?void 0:te.max_capacity)&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${Math.min((f.enrolled_count||0)/f.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((f.enrolled_count||0)/f.course.max_capacity*100),"% full"]})]})]})]}),f.course&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[t.jsx(ts,{className:"h-4 w-4"}),"Course Details"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[f.course.description&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Description:"}),t.jsx("p",{className:"text-gray-900 mt-1",children:f.course.description})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Duration:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[f.course.duration_hours||"N/A"," hours"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Level:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2 capitalize",children:f.course.level||"N/A"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:U(f.created_at)})]}),f.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:U(f.updated_at)})]})]})]})})]})},js=({name:e,value:s,icon:r,colorType:a,isActive:n,onClick:i})=>t.jsx("div",{onClick:i,className:`tab-card tab-card-${a} ${n?"active":""}`,children:t.jsxs("div",{className:"tab-card-content",children:[t.jsxs("div",{children:[t.jsx("p",{className:`tab-card-label tab-card-label-${a}`,children:e}),t.jsx("p",{className:`tab-card-value tab-card-value-${a}`,children:s})]}),t.jsx("div",{className:`tab-card-icon-wrapper tab-card-icon-wrapper-${a}`,children:t.jsx(r,{className:"tab-card-icon",size:32})})]})}),ch=({children:e,columns:s={mobile:1,tablet:2,desktop:2}})=>t.jsx("div",{className:"tab-cards-grid",style:{"--columns-mobile":s.mobile,"--columns-tablet":s.tablet,"--columns-desktop":s.desktop},children:e}),s6=({onSubmit:e,onCancel:s,submitting:r=!1,initialData:a={documents:[],additional_info:""}})=>{const[n,i]=c.useState(a),[l,o]=c.useState({}),d=()=>{const v={};if(n.documents.length===0)return v.general="Please upload at least one document",v;if(n.documents.forEach((h,g)=>{if((!h.type||h.type.trim()==="")&&(v[`documents.${g}.type`]="Document type is required"),!h.file)v[`documents.${g}.file`]="Please upload a file";else{const b=y0(h.file,{required:!0,maxSize:10485760,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});b&&(v[`documents.${g}.file`]=b)}}),n.additional_info){const h=KE(n.additional_info,5e3,"Additional information");h&&(v.additional_info=h)}return v},m=async v=>{v.preventDefault();const h=d();if(Object.keys(h).length>0){o(h);return}e&&await e(n,o)},u=()=>{i({...n,documents:[...n.documents,{type:"",file:null}]})},p=v=>{i({...n,documents:n.documents.filter((g,b)=>b!==v)});const h={...l};Object.keys(h).forEach(g=>{g.startsWith(`documents.${v}.`)&&delete h[g]}),o(h)},f=(v,h,g)=>{const b=[...n.documents];if(b[v]={...b[v],[h]:g},i({...n,documents:b}),l[`documents.${v}.${h}`]){const _={...l};delete _[`documents.${v}.${h}`],o(_)}},x=(v,h)=>{if(!h)return;const g=y0(h,{required:!0,maxSize:10*1024*1024,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});if(g){o({...l,[`documents.${v}.file`]:g});return}const b=[...n.documents];if(b[v]={...b[v],file:h,fileName:h.name,fileSize:h.size,fileType:h.type},i({...n,documents:b}),l[`documents.${v}.file`]){const _={...l};delete _[`documents.${v}.file`],o(_)}},y=v=>{const h=[...n.documents];h[v]={...h[v],file:null,fileName:"",fileSize:null,fileType:null},i({...n,documents:h});const g=document.getElementById(`file-upload-${v}`);if(g&&(g.value=""),l[`documents.${v}.file`]){const b={...l};delete b[`documents.${v}.file`],o(b)}},w=v=>{if(i({...n,additional_info:v.target.value}),l.additional_info){const h={...l};delete h.additional_info,o(h)}},j=()=>{i(a),o({}),s&&s()};return t.jsxs("div",{className:"relative",children:[r&&t.jsx("div",{className:"authorization-request-form-overlay",children:t.jsxs("div",{className:"authorization-request-form-overlay-content",children:[t.jsx(sx,{size:32,className:"authorization-request-form-spinner"}),t.jsx("p",{className:"authorization-request-form-overlay-text",children:"Uploading files and submitting request..."}),t.jsx("p",{className:"authorization-request-form-overlay-hint",children:"Please wait, this may take a moment"})]})}),t.jsxs("form",{onSubmit:m,className:"authorization-request-form",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"authorization-request-form-section-header",children:[t.jsxs("h3",{className:"authorization-request-form-section-title",children:[t.jsx(tt,{size:20,className:"authorization-request-form-section-title-icon"}),"Documents"]}),t.jsxs("button",{type:"button",onClick:u,disabled:r,className:"authorization-request-form-button-add",children:[t.jsx($s,{size:16,className:"authorization-request-form-button-add-icon"}),"Add Document"]})]}),n.documents.length===0?t.jsxs("div",{className:"authorization-request-form-warning-box",children:[t.jsx("p",{className:"authorization-request-form-warning-text",children:"No documents added"}),t.jsx("p",{className:"authorization-request-form-warning-hint",children:'At least one document is required. Click "Add Document" to add one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.documents.map((v,h)=>t.jsxs("div",{className:"authorization-request-form-document-item",children:[t.jsxs("div",{className:"authorization-request-form-document-header",children:[t.jsxs("span",{className:"authorization-request-form-document-number",children:["Document ",h+1]}),t.jsx("button",{type:"button",onClick:()=>p(h),disabled:r,className:"authorization-request-form-document-remove",title:"Remove document",children:t.jsx(Hs,{size:16})})]}),t.jsxs("div",{className:"authorization-request-form-document-grid",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Document Type ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"})]}),t.jsxs("select",{value:v.type||"",onChange:g=>f(h,"type",g.target.value),required:!0,disabled:r,className:`authorization-request-form-select ${l[`documents.${h}.type`]?"error":""}`,children:[t.jsx("option",{value:"",children:"Select document type"}),t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"other",children:"Other"})]}),l[`documents.${h}.type`]&&t.jsx("p",{className:"authorization-request-form-error",children:l[`documents.${h}.type`]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Upload Document ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"}),t.jsx("span",{className:"authorization-request-form-label-hint",children:"(PDF, DOC, DOCX, JPG, JPEG, PNG - Max 10MB)"})]}),t.jsxs("div",{className:"authorization-request-form-file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/png",onChange:g=>{var _;const b=(_=g.target.files)==null?void 0:_[0];b&&x(h,b)},disabled:r,className:"authorization-request-form-file-upload-input",id:`file-upload-${h}`}),t.jsx("label",{htmlFor:`file-upload-${h}`,className:`authorization-request-form-file-upload-label ${r?"disabled":v.file?"has-file":"empty"}`,children:v.file?t.jsxs(t.Fragment,{children:[t.jsx(Ke,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-success",children:v.fileName||"File selected"}),v.fileSize&&t.jsxs("span",{className:"authorization-request-form-file-upload-size",children:["(",(v.fileSize/1024/1024).toFixed(2)," MB)"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(ta,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-default",children:"Click to upload file"})]})})]}),l[`documents.${h}.file`]&&t.jsx("p",{className:"authorization-request-form-error",children:l[`documents.${h}.file`]}),v.file&&t.jsx("div",{className:"authorization-request-form-file-remove",children:t.jsx("button",{type:"button",onClick:()=>y(h),disabled:r,className:"authorization-request-form-file-remove-button",children:"Remove File"})})]})]})]},h))})]}),t.jsx(ve,{label:"Additional Information",name:"additional_info",value:n.additional_info,onChange:w,textarea:!0,rows:4,placeholder:"Provide any additional information about your training center...",error:l.additional_info,disabled:r,helpText:"Maximum 5000 characters"}),l.general&&t.jsxs("div",{className:"authorization-request-form-error-box",children:[t.jsx("p",{className:"authorization-request-form-error-text",children:l.general}),l.hint&&t.jsx("p",{className:"authorization-request-form-error-hint",children:l.hint})]}),t.jsxs("div",{className:"authorization-request-form-actions",children:[t.jsx("button",{type:"button",onClick:j,disabled:r,className:"authorization-request-form-button authorization-request-form-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:r,className:"authorization-request-form-button authorization-request-form-button-submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx(sx,{size:16,className:"authorization-request-form-button-spinner"}),"Uploading & Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Bc,{size:16,className:"authorization-request-form-button-icon"}),"Submit Request"]})})]})]})]})},ns=({label:e,value:s,icon:r,fullWidth:a=!1,children:n})=>t.jsxs("div",{className:`detail-item ${a?"detail-item-full":""}`,children:[t.jsxs("p",{className:`detail-label ${r?"detail-label-with-icon":""}`,children:[r&&t.jsx(r,{size:16,className:"detail-label-icon"}),e]}),n||t.jsx("p",{className:"detail-value",children:s||"N/A"})]}),em=({children:e})=>t.jsx("div",{className:"detail-grid",children:e}),tm=({title:e,content:s,icon:r,variant:a="blue",showHeader:n=!1})=>t.jsx("div",{className:`info-box info-box-${a}`,children:n&&r?t.jsxs("div",{className:"info-box-header",children:[t.jsx(r,{className:`info-box-icon info-box-icon-${a}`}),t.jsxs("div",{className:"info-box-content-wrapper",children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:`info-box-title info-box-title-${a}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})}),r6=({document:e,index:s})=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-content",children:[t.jsx(tt,{size:20,className:"document-icon"}),t.jsxs("div",{className:"document-info",children:[t.jsx("p",{className:"document-name",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):`Document ${s+1}`}),e.file_name&&t.jsx("p",{className:"document-filename",children:e.file_name})]})]}),e.file_url&&t.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"document-download",title:"Download document",children:t.jsx(Oc,{size:18})})]}),a6=({documents:e,title:s="Documents"})=>!e||e.length===0?null:t.jsxs("div",{children:[t.jsxs("p",{className:"documents-header",children:[t.jsx(tt,{size:18,className:"documents-header-icon"}),s]}),t.jsx("div",{className:"documents-list",children:e.map((r,a)=>t.jsx(r6,{document:r,index:a},a))})]}),b0=({status:e,variant:s="detail"})=>{const r={active:{badgeClass:s==="detail"?"status-badge-detail-active":"status-badge-active",icon:Ke},approved:{badgeClass:s==="detail"?"status-badge-detail-approved":"status-badge-approved",icon:Ke},rejected:{badgeClass:s==="detail"?"status-badge-detail-rejected":"status-badge-rejected",icon:ht},pending:{badgeClass:s==="detail"?"status-badge-detail-pending":"status-badge-pending",icon:nt},returned:{badgeClass:s==="detail"?"status-badge-detail-returned":"status-badge-returned",icon:nt}},a=r[e]||r.pending,n=a.icon;return t.jsxs("span",{className:`status-badge ${a.badgeClass}`,children:[s==="detail"&&t.jsx(n,{size:14,className:"status-badge-icon"}),e?e.charAt(0).toUpperCase()+e.slice(1):"N/A"]})},n6=()=>{var ne,H,F;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState([]),[l,o]=c.useState(!0),[d,m]=c.useState("available"),[u,p]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[f,x]=c.useState(!1),[y,w]=c.useState(!1),[j,v]=c.useState(null),[h,g]=c.useState(null),[b,_]=c.useState(!1),[P,A]=c.useState({documents:[],additional_info:""}),[R,k]=c.useState({}),[L,$]=c.useState(!1);c.useEffect(()=>{C()},[u.currentPage,u.perPage,d]),c.useEffect(()=>(e("Accreditation Bodies"),s("Browse and request authorization from Accreditation Bodies"),()=>{e(null),s(null)}),[e,s]);const C=async()=>{try{o(!0);const U={page:u.currentPage,per_page:u.perPage},[Y,Z]=await Promise.allSettled([Je.listACCs(U),Je.getAuthorizationStatus(U)]);if(Y.status==="fulfilled"){const z=Y.value;let O=[];z!=null&&z.data?O=Array.isArray(z.data)?z.data:[]:z!=null&&z.accs?O=Array.isArray(z.accs)?z.accs:[]:Array.isArray(z)&&(O=z),a(O),d==="available"&&z&&p(M=>({...M,totalPages:z.last_page||z.total_pages||1,totalItems:z.total||O.length}))}if(Z.status==="fulfilled"){const z=Z.value;let O=[];z!=null&&z.data?O=Array.isArray(z.data)?z.data:[]:z!=null&&z.authorizations?O=Array.isArray(z.authorizations)?z.authorizations:[]:Array.isArray(z)&&(O=z),i(O),d==="authorizations"&&z&&p(M=>({...M,totalPages:z.last_page||z.total_pages||1,totalItems:z.total||O.length}))}}catch(U){console.error("Failed to load data:",U)}finally{o(!1)}},E=U=>{p(Y=>({...Y,currentPage:U}))},T=U=>{p(Y=>({...Y,perPage:U,currentPage:1}))},N=c.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(U,Y)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Xe,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:U||"N/A"})})]})},{header:"Email",accessor:"email",sortable:!0,render:U=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx($t,{className:"accs-table-row-email-icon"}),U||"N/A"]})},{header:"Country",accessor:"country",sortable:!0,render:U=>t.jsx("span",{className:"accs-table-row-text",children:U||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:U=>t.jsx("span",{className:`accs-status-badge ${U==="active"?"accs-status-badge-active":"accs-status-badge-default"}`,children:U?U.charAt(0).toUpperCase()+U.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(U,Y)=>t.jsxs("div",{className:"accs-action-buttons",onClick:Z=>Z.stopPropagation(),children:[t.jsx("button",{onClick:()=>q(Y),className:"accs-action-button accs-action-button-primary",title:"View Details",children:t.jsx(Ot,{size:16})}),Y.status==="active"?t.jsx("button",{onClick:Z=>{Z.stopPropagation(),I(Y)},className:"accs-action-button accs-action-button-green",title:"Request Authorization",children:t.jsx(Bc,{size:16})}):t.jsx("button",{onClick:Z=>{Z.stopPropagation(),q(Y)},className:"accs-action-button accs-action-button-blue",title:"View Info",children:t.jsx(Ot,{size:16})})]})}],[]),S=c.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:U=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Xe,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:(U==null?void 0:U.name)||"N/A"})})]})},{header:"Email",accessor:"acc",sortable:!0,render:U=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx($t,{className:"accs-table-row-email-icon"}),(U==null?void 0:U.email)||"N/A"]})},{header:"Country",accessor:"acc",sortable:!0,render:U=>t.jsx("span",{className:"accs-table-row-text",children:(U==null?void 0:U.country)||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:U=>{const Y={approved:{badgeClass:"accs-status-badge-approved",icon:Ke},rejected:{badgeClass:"accs-status-badge-rejected",icon:ht},pending:{badgeClass:"accs-status-badge-pending",icon:nt},returned:{badgeClass:"accs-status-badge-returned",icon:nt}},Z=Y[U]||Y.pending,z=Z.icon;return t.jsxs("span",{className:`accs-status-badge ${Z.badgeClass}`,children:[t.jsx(z,{size:14,className:"accs-status-badge-icon"}),U||"N/A"]})}},{header:"Request Date",accessor:"request_date",sortable:!0,render:U=>t.jsx("span",{className:"accs-table-row-text",children:U?new Date(U).toLocaleDateString():"N/A"})},{header:"Reviewed At",accessor:"reviewed_at",sortable:!0,render:U=>t.jsx("span",{className:"accs-table-row-text",children:U?new Date(U).toLocaleDateString():"Pending"})}],[]),I=U=>{v(U),A({documents:[],additional_info:""}),k({}),x(!0)},D=async(U,Y)=>{var Z,z,O,M;$(!0),Y&&Y({});try{const re=new FormData;U.documents.forEach((te,K)=>{re.append(`documents[${K}][type]`,te.type),re.append(`documents[${K}][file]`,te.file)}),U.additional_info&&re.append("additional_info",U.additional_info);const J=await Je.requestAuthorization(j.id,re);await C(),x(!1),A({documents:[],additional_info:""}),alert("Authorization request submitted successfully!")}catch(re){if(Y)if(re.response){const J=re.response.status,te=re.response.data;J===400&&((Z=te.message)!=null&&Z.includes("already exists")||(z=te.message)!=null&&z.includes("already been submitted"))?Y({general:"An authorization request for this ACC already exists. Please check your existing authorizations."}):J===422&&((O=te.message)!=null&&O.includes("No valid documents")||(M=te.message)!=null&&M.includes("documents uploaded"))?Y({general:"No valid documents uploaded. Please ensure files are uploaded correctly.",hint:"Use FormData with structure: documents[0][type]=license&documents[0][file]=<file>"}):J===422&&te.errors?Y(te.errors):J===422&&te.message?Y({general:te.message}):J===500?Y({general:"Server error occurred. Please try again later or contact support if the problem persists."}):te.message?Y({general:te.message}):Y({general:"Failed to submit request. Please try again."})}else re.errors?Y(re.errors):re.message?Y({general:re.message||"Failed to submit request"}):Y({general:"Failed to submit request. Please try again."})}finally{$(!1)}},q=U=>{v(U),w(!0)},X=U=>{g(U),_(!0)};return l?t.jsx(Wl,{}):t.jsxs("div",{className:"accs-container",children:[t.jsxs(ch,{columns:{mobile:1,tablet:2,desktop:2},children:[t.jsx(js,{name:"Available Accreditation",value:r.length,icon:Xe,colorType:"indigo",isActive:d==="available",onClick:()=>m("available")}),t.jsx(js,{name:"My Authorizations",value:n.length,icon:Ke,colorType:"blue",isActive:d==="authorizations",onClick:()=>m("authorizations")})]}),l?t.jsx("div",{className:"accs-table-container",children:t.jsx(Wl,{})}):d==="available"?t.jsxs("div",{className:"accs-table-container",children:[t.jsx(ws,{columns:N,data:r,isLoading:l,searchable:!0,sortable:!0,searchPlaceholder:"Search by name, email, or country...",emptyMessage:"No ACCs found",onRowClick:U=>q(U)}),!l&&d==="available"&&u.totalItems>0&&t.jsx(Ft,{currentPage:u.currentPage,totalPages:u.totalPages,totalItems:u.totalItems,perPage:u.perPage,onPageChange:E,onPerPageChange:T})]}):t.jsxs("div",{className:"accs-table-container",children:[t.jsx(ws,{columns:S,data:n,isLoading:l,searchable:!0,sortable:!0,searchPlaceholder:"Search by ACC name or status...",emptyMessage:"No authorization requests found",onView:U=>X(U),onRowClick:U=>X(U)}),!l&&d==="authorizations"&&u.totalItems>0&&t.jsx(Ft,{currentPage:u.currentPage,totalPages:u.totalPages,totalItems:u.totalItems,perPage:u.perPage,onPageChange:E,onPerPageChange:T})]}),t.jsx(Be,{isOpen:f,onClose:()=>{L||(x(!1),v(null),A({documents:[],additional_info:""}),k({}))},title:`Request Authorization from ${j==null?void 0:j.name}`,size:"lg",children:t.jsx(s6,{onSubmit:D,onCancel:()=>{x(!1),v(null),A({documents:[],additional_info:""}),k({})},submitting:L,initialData:P})}),t.jsx(Be,{isOpen:y,onClose:()=>{w(!1),v(null)},title:"ACC Details",size:"lg",children:j&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(em,{children:[j.id&&t.jsx(ns,{label:"ID",value:j.id}),t.jsx(ns,{label:"Name",value:j.name}),t.jsx(ns,{label:"Email",value:j.email,icon:$t}),j.phone&&t.jsx(ns,{label:"Phone",value:j.phone}),j.country&&t.jsx(ns,{label:"Country",value:j.country}),j.address&&t.jsx(ns,{label:"Address",value:j.address}),j.website&&t.jsx(ns,{label:"Website",children:t.jsx("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"accs-detail-link",children:j.website})}),t.jsx(ns,{label:"Status",children:t.jsx(b0,{status:j.status,variant:"detail"})}),j.description&&t.jsx(ns,{label:"Description",value:j.description,fullWidth:!0}),j.created_at&&t.jsx(ns,{label:"Created At",value:new Date(j.created_at).toLocaleString()}),j.updated_at&&t.jsx(ns,{label:"Updated At",value:new Date(j.updated_at).toLocaleString()})]}),j.status==="active"&&t.jsx("div",{className:"accs-detail-actions",children:t.jsxs("button",{onClick:()=>{w(!1),I(j)},className:"accs-detail-button",children:[t.jsx(Bc,{size:20,className:"accs-detail-button-icon"}),"Request Authorization"]})})]})}),t.jsx(Be,{isOpen:b,onClose:()=>{_(!1),g(null)},title:"Authorization Request Details",size:"lg",children:h&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(em,{children:[t.jsx(ns,{label:"ACC Name",value:(ne=h.acc)==null?void 0:ne.name}),t.jsx(ns,{label:"Email",value:(H=h.acc)==null?void 0:H.email,icon:$t}),((F=h.acc)==null?void 0:F.country)&&t.jsx(ns,{label:"Country",value:h.acc.country}),t.jsx(ns,{label:"Status",children:t.jsx(b0,{status:h.status,variant:"detail"})})]}),t.jsxs(em,{children:[t.jsx(ns,{label:"Request Date",value:h.request_date?new Date(h.request_date).toLocaleString():"N/A",icon:nt}),h.reviewed_at&&t.jsx(ns,{label:"Reviewed At",value:new Date(h.reviewed_at).toLocaleString(),icon:Ke})]}),h.additional_info&&t.jsx(tm,{title:"Additional Information",content:h.additional_info,variant:"blue"}),h.status==="returned"&&h.return_comment&&t.jsx(tm,{title:"ACC Comment / Return Reason",content:h.return_comment,icon:kS,variant:"yellow",showHeader:!0}),h.status==="rejected"&&h.rejection_reason&&t.jsx(tm,{title:"Rejection Reason",content:h.rejection_reason,icon:ht,variant:"red",showHeader:!0}),t.jsx(a6,{documents:h.documents,title:"Submitted Documents"})]})})]})},i6=["English","Arabic","French","Spanish","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Hindi","Turkish","Dutch","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Greek","Hebrew","Thai","Vietnamese","Indonesian","Malay","Tagalog","Urdu","Persian","Bengali","Punjabi","Tamil","Telugu","Marathi","Gujarati"],dh=({value:e=[],onChange:s,label:r="Languages",error:a,disabled:n=!1,placeholder:i="Select a language..."})=>{const[l,o]=c.useState(""),d=Array.isArray(e)?e:e?e.split(",").map(f=>f.trim()).filter(f=>f):[],m=i6.filter(f=>!d.includes(f)),u=f=>{const x=f.target.value;if(x&&!d.includes(x)){const y=[...d,x];s(y),o("")}},p=f=>{const x=d.filter(y=>y!==f);s(x)};return t.jsxs("div",{className:"language-selector-container",children:[t.jsx("label",{className:"language-selector-label",children:r}),t.jsx("div",{className:"language-selector-wrapper",children:t.jsxs("div",{className:"language-selector-input-wrapper",children:[t.jsx($a,{className:"language-selector-icon",size:18}),t.jsxs("select",{value:l,onChange:u,disabled:n||m.length===0,className:"language-selector-select",children:[t.jsx("option",{value:"",children:i}),m.map(f=>t.jsx("option",{value:f,children:f},f))]})]})}),d.length>0&&t.jsx("div",{className:"language-selector-tags",children:d.map((f,x)=>t.jsxs("span",{className:"language-selector-tag",children:[t.jsx($a,{size:12,className:"language-selector-tag-icon"}),f,!n&&t.jsx("button",{type:"button",onClick:()=>p(f),className:"language-selector-remove-btn",title:"Remove language",children:t.jsx(dr,{size:12})})]},x))}),a&&t.jsx("p",{className:"language-selector-error",children:a})]})},v0="https://aeroenix.com/v1/api",l6=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState(!0),[o,d]=c.useState(!1),[m,u]=c.useState(!1),[p,f]=c.useState(!1),[x,y]=c.useState(!1),[w,j]=c.useState(null),[v,h]=c.useState([]),[g,b]=c.useState([]),[_,P]=c.useState([]),[A,R]=c.useState("sub_category"),[k,L]=c.useState({acc_id:"",sub_category_id:"",course_ids:[]}),[$,C]=c.useState({}),[E,T]=c.useState(!1),[N,S]=c.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),[I,D]=c.useState(null),[q,X]=c.useState(""),[ne,H]=c.useState(""),[F,U]=c.useState({}),[Y,Z]=c.useState(!1),[z,O]=c.useState("all"),[M,re]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{J()},[M.currentPage,M.perPage]),c.useEffect(()=>(s("Instructors"),r("Manage your instructors"),e(t.jsxs("button",{onClick:()=>ie(),className:"instructors-header-button",children:[t.jsx($s,{size:20,className:"instructors-header-button-icon"}),"Add Instructor"]})),()=>{e(null),s(null),r(null)}),[e,s,r]),c.useEffect(()=>{x&&w&&fe()},[x,w]);const J=async()=>{var oe,ee,ye;l(!0);try{const ze={page:M.currentPage,per_page:M.perPage},Se=await Je.listInstructors(ze);let Ie=[];Se!=null&&Se.data?(Ie=Array.isArray(Se.data)?Se.data:((oe=Se.data)==null?void 0:oe.instructors)||[],re(Ce=>({...Ce,totalPages:Se.last_page||Se.total_pages||1,totalItems:Se.total||0}))):Se!=null&&Se.instructors?(Ie=Se.instructors,re(Ce=>{var We;return{...Ce,totalPages:1,totalItems:((We=Se.instructors)==null?void 0:We.length)||0}})):Array.isArray(Se)?(Ie=Se,re(Ce=>({...Ce,totalPages:1,totalItems:Se.length}))):(console.warn("Unexpected response format:",Se),Ie=[]),n(Ie)}catch(ze){console.error("Failed to load instructors:",ze),console.error("Error details:",{status:(ee=ze.response)==null?void 0:ee.status,data:(ye=ze.response)==null?void 0:ye.data,message:ze.message}),n([])}finally{l(!1)}},te=oe=>{re(ee=>({...ee,currentPage:oe}))},K=oe=>{re(ee=>({...ee,perPage:oe,currentPage:1}))},ie=(oe=null)=>{oe?(j(oe),S({first_name:oe.first_name||"",last_name:oe.last_name||"",email:oe.email||"",phone:oe.phone||"",id_number:oe.id_number||"",cv:null,specializations:Array.isArray(oe.specializations)?oe.specializations:oe.specializations?oe.specializations.split(",").map(ee=>ee.trim()).filter(ee=>ee):[],is_assessor:oe.is_assessor||!1}),D(null),X(""),H(oe.cv_url||"")):(j(null),S({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),D(null),X(""),H("")),U({}),d(!0)},V=()=>{d(!1),j(null),S({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),D(null),X(""),H(""),U({})},ae=oe=>{S({...N,[oe.target.name]:oe.target.value}),U({})},ce=oe=>{const ee=oe.target.files[0];if(ee){if(ee.type!=="application/pdf"){U({cv:"Only PDF files are allowed"}),oe.target.value="";return}if(ee.size>10*1024*1024){U({cv:"File size must be less than 10MB"}),oe.target.value="";return}D(ee),X(ee.name),S({...N,cv:ee}),F.cv&&U(ye=>{const ze={...ye};return delete ze.cv,ze})}},B=oe=>{S({...N,specializations:oe}),U({})},pe=async oe=>{var ee,ye,ze,Se,Ie,Ce,We,Ge,xe,Re,de,Q;oe.preventDefault(),Z(!0),U({});try{const me=I instanceof File;let ke;if(me?(ke=new FormData,ke.append("first_name",N.first_name.trim()),ke.append("last_name",N.last_name.trim()),ke.append("email",N.email.trim()),(ee=N.phone)!=null&&ee.trim()&&ke.append("phone",N.phone.trim()),(ye=N.id_number)!=null&&ye.trim()&&ke.append("id_number",N.id_number.trim()),ke.append("cv",I),N.specializations&&N.specializations.length>0&&N.specializations.forEach($e=>{ke.append("specializations[]",$e)}),ke.append("is_assessor",N.is_assessor===!0||N.is_assessor==="true"||N.is_assessor===1||N.is_assessor==="1"?"1":"0"),console.log(" Using FormData (file upload required)")):(ke={first_name:N.first_name.trim(),last_name:N.last_name.trim(),email:N.email.trim(),phone:((ze=N.phone)==null?void 0:ze.trim())||null,id_number:((Se=N.id_number)==null?void 0:Se.trim())||null,specializations:N.specializations||[],is_assessor:N.is_assessor},console.log(" Using JSON (no file upload):",JSON.stringify(ke,null,2))),console.log("Submitting instructor data:",me?"FormData":"JSON"),console.log("is_assessor value:",N.is_assessor,"Type:",typeof N.is_assessor),w){console.log(" Updating instructor with ID:",w.id),console.log(" Submit data type:",me?"FormData":"JSON"),me&&console.log(" CV File:",I.name,I.size,"bytes");const $e=await Je.updateInstructor(w.id,ke);console.log(" Update result:",$e),me&&((Ie=$e==null?void 0:$e.instructor)!=null&&Ie.cv_url)&&console.log(" CV updated successfully:",$e.instructor.cv_url)}else console.log(" Creating new instructor"),await Je.createInstructor(ke);await J(),V()}catch(me){console.error("Error submitting instructor:",me),console.error("Error response:",(Ce=me.response)==null?void 0:Ce.data),(Ge=(We=me.response)==null?void 0:We.data)!=null&&Ge.errors?U(me.response.data.errors):(Re=(xe=me.response)==null?void 0:xe.data)!=null&&Re.message?U({general:me.response.data.message}):(Q=(de=me.response)==null?void 0:de.data)!=null&&Q.error?U({general:me.response.data.error}):me.errors?U(me.errors):U({general:me.message||"Failed to save instructor"})}finally{Z(!1)}},W=oe=>{j(oe),u(!0)},ge=async()=>{try{await Je.deleteInstructor(w.id),await J()}catch(oe){alert("Failed to delete instructor: "+(oe.message||"Unknown error"))}u(!1),j(null)},G=async oe=>{try{const ee=await Je.getInstructorDetails(oe.id);j(ee.instructor),f(!0)}catch(ee){console.error("Failed to load instructor details:",ee),j(oe),f(!0)}},ue=oe=>{j(oe),L({acc_id:"",sub_category_id:"",course_ids:[]}),R("sub_category"),C({}),y(!0)},fe=async()=>{try{const[oe,ee]=await Promise.all([Je.listACCs(),Je.getAuthorizationStatus()]),ye=((ee==null?void 0:ee.authorizations)||[]).filter(Ce=>Ce.status==="approved"),ze=new Set(ye.map(Ce=>{var We;return Ce.acc_id||((We=Ce.acc)==null?void 0:We.id)})),Ie=((oe==null?void 0:oe.accs)||[]).filter(Ce=>ze.has(Ce.id));h(Ie),b([]),P([])}catch(oe){console.error("Failed to load request form data:",oe),h([])}},se=async oe=>{if(L({...k,acc_id:oe,sub_category_id:"",course_ids:[]}),b([]),P([]),!!oe)try{const[ee,ye]=await Promise.all([Je.getSubCategoriesForACC(oe).catch(()=>({sub_categories:[]})),Je.getCoursesForACC(oe).catch(()=>({courses:[]}))]),ze=(ee==null?void 0:ee.sub_categories)||[];P(ze);const Se=(ye==null?void 0:ye.courses)||[];b(Se)}catch(ee){console.error("Failed to load ACC data:",ee),b([]),P([])}},he=oe=>{R(oe),L({...k,sub_category_id:"",course_ids:[]}),C({})},be=oe=>{L(ee=>{const ye=ee.course_ids||[];return ye.includes(oe)?{...ee,course_ids:ye.filter(ze=>ze!==oe)}:{...ee,course_ids:[...ye,oe]}})},_e=async oe=>{var ee;if(oe.preventDefault(),!!w){T(!0),C({});try{if(!k.acc_id){C({general:"Please select an ACC"}),T(!1);return}if(A==="sub_category"){if(!k.sub_category_id){C({general:"Please select a sub-category"}),T(!1);return}}else if(!k.course_ids||k.course_ids.length===0){C({general:"Please select at least one course"}),T(!1);return}const ye={acc_id:parseInt(k.acc_id)};A==="sub_category"?ye.sub_category_id=parseInt(k.sub_category_id):ye.course_ids=k.course_ids.map(Ie=>parseInt(Ie));const ze=await Je.requestInstructorAuthorization(w.id,ye);y(!1),L({acc_id:"",sub_category_id:"",course_ids:[]}),R("sub_category"),j(null);const Se=(ze==null?void 0:ze.courses_count)||(A==="courses"?k.course_ids.length:"all");alert(`Authorization request submitted successfully! ${Se} course(s) included.`)}catch(ye){if(console.error("Failed to submit request:",ye),(ee=ye.response)!=null&&ee.data){const ze=ye.response.data;ze.errors?C(ze.errors):ze.message?C({general:ze.message}):C(ze)}else ye.message?C({general:ye.message}):C({general:"Failed to submit request. Please try again."})}finally{T(!1)}}},De=c.useMemo(()=>a,[a]),Ee=c.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(oe,ee)=>t.jsxs("div",{className:"instructors-column-instructor",children:[t.jsx("div",{className:"instructors-column-icon-wrapper",children:t.jsx(dt,{className:"instructors-column-icon"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructors-column-name",children:[ee.first_name," ",ee.last_name]}),ee.id_number&&t.jsxs("div",{className:"instructors-column-id",children:["ID: ",ee.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:oe=>t.jsxs("div",{className:"instructors-column-email",children:[t.jsx($t,{className:"instructors-column-email-icon"}),oe]})},{header:"Phone",accessor:"phone",sortable:!0,render:oe=>oe?t.jsxs("div",{className:"instructors-column-phone",children:[t.jsx(Qs,{className:"instructors-column-phone-icon"}),oe]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:oe=>{const ee={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Ke},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:nt},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ht},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:nt}},ze=(ee[oe]||ee.inactive).icon,Se=oe==="active"?"instructors-column-status-badge-active":oe==="pending"?"instructors-column-status-badge-pending":oe==="suspended"?"instructors-column-status-badge-suspended":"instructors-column-status-badge-inactive";return t.jsxs("span",{className:`instructors-column-status-badge ${Se}`,children:[t.jsx(ze,{size:14,className:"instructors-column-status-icon"}),oe?oe.charAt(0).toUpperCase()+oe.slice(1):"N/A"]})}},{header:"Languages",accessor:"specializations",sortable:!1,render:oe=>{const ee=Array.isArray(oe)?oe:oe?oe.split(",").map(ye=>ye.trim()).filter(ye=>ye):[];return ee.length>0?t.jsxs("div",{className:"instructors-column-languages",children:[ee.slice(0,2).map((ye,ze)=>t.jsxs("span",{className:"instructors-column-language-badge",children:[t.jsx($a,{size:12,className:"instructors-column-language-icon"}),ye]},ze)),ee.length>2&&t.jsxs("span",{className:"instructors-column-language-more",children:["+",ee.length-2]})]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})}},{header:"Type",accessor:"is_assessor",sortable:!0,render:oe=>oe?t.jsx("span",{className:"instructors-column-type-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-column-type-badge-gray",children:"Instructor"})},{header:"Actions",accessor:"actions",sortable:!1,render:(oe,ee)=>t.jsxs("div",{className:"instructors-column-actions",onClick:ye=>ye.stopPropagation(),children:[t.jsx("button",{onClick:ye=>{ye.stopPropagation(),ie(ee)},className:"instructors-action-button instructors-action-button-edit",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:ye=>{ye.stopPropagation(),ue(ee)},className:"instructors-action-button instructors-action-button-send",title:"Request Authorization",children:t.jsx(Bc,{size:16})}),t.jsx("button",{onClick:ye=>{ye.stopPropagation(),W(ee)},className:"instructors-action-button instructors-action-button-delete",title:"Delete",children:t.jsx(Hs,{size:16})})]})}],[]),Ae=M.totalItems||a.length,Pe=a.filter(oe=>oe.status==="active").length,Ne=a.filter(oe=>oe.status==="pending").length,Ue=a.filter(oe=>oe.status==="suspended").length;return i?t.jsx(Wl,{}):t.jsxs("div",{className:"instructors-container",children:[t.jsxs(ch,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(js,{name:"Total Instructors",value:Ae,icon:dt,colorType:"indigo",isActive:z==="all",onClick:()=>O("all")}),t.jsx(js,{name:"Active",value:Pe,icon:Ke,colorType:"green",isActive:z==="active",onClick:()=>O("active")}),t.jsx(js,{name:"Pending",value:Ne,icon:nt,colorType:"yellow",isActive:z==="pending",onClick:()=>O("pending")}),t.jsx(js,{name:"Suspended",value:Ue,icon:ht,colorType:"red",isActive:z==="suspended",onClick:()=>O("suspended")})]}),t.jsxs("div",{className:"instructors-table-container",children:[t.jsx(ws,{columns:Ee,data:De,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:oe=>oe.status==="active"},{value:"pending",label:"Pending",filterFn:oe=>oe.status==="pending"},{value:"suspended",label:"Suspended",filterFn:oe=>oe.status==="suspended"},{value:"inactive",label:"Inactive",filterFn:oe=>oe.status==="inactive"}],defaultFilter:z,onRowClick:oe=>G(oe)}),!i&&M.totalItems>0&&t.jsx(Ft,{currentPage:M.currentPage,totalPages:M.totalPages,totalItems:M.totalItems,perPage:M.perPage,onPageChange:te,onPerPageChange:K})]}),t.jsx(Be,{isOpen:o,onClose:V,title:w?"Edit Instructor":"Add New Instructor",size:"lg",children:t.jsxs("form",{onSubmit:pe,className:"instructors-form",children:[t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(ve,{label:"First Name",name:"first_name",value:N.first_name,onChange:ae,required:!0,error:F.first_name}),t.jsx(ve,{label:"Last Name",name:"last_name",value:N.last_name,onChange:ae,required:!0,error:F.last_name})]}),t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(ve,{label:"Email",type:"email",name:"email",value:N.email,onChange:ae,required:!0,error:F.email}),t.jsx(ve,{label:"Phone",type:"tel",name:"phone",value:N.phone,onChange:ae,error:F.phone})]}),t.jsx(ve,{label:"ID Number",name:"id_number",value:N.id_number,onChange:ae,error:F.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"instructors-cv-label",children:"CV / Resume (PDF)"}),ne&&!I&&t.jsx("div",{className:"instructors-cv-display-box",children:t.jsxs("div",{className:"instructors-cv-display-flex",children:[t.jsxs("div",{className:"instructors-cv-display-inner",children:[t.jsx("div",{className:"instructors-cv-icon-wrapper",children:t.jsx(tt,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-text-title",children:"Current CV"}),t.jsx("p",{className:"instructors-cv-text-hint",children:"Click to view your current CV"})]})]}),t.jsxs("a",{href:ne.startsWith("http")?ne:`${v0}${ne}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-link",children:[t.jsx(tt,{size:14,className:"instructors-cv-link-icon"}),"View CV"]})]})}),t.jsxs("div",{className:"instructors-upload-area",children:[t.jsxs("label",{className:"instructors-upload-label",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:ce,className:"instructors-upload-input",id:"cv-upload-input"}),t.jsx("div",{className:"instructors-upload-div",children:t.jsxs("div",{className:"instructors-upload-inner",children:[t.jsx("div",{className:"instructors-upload-icon-wrapper",children:t.jsx(tt,{className:"text-primary-600",size:24})}),q?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:q}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to change file"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:ne?"Update CV":"Upload CV"}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to select PDF document"})]}),t.jsx("p",{className:"instructors-upload-text-small",children:"PDF only, maximum 10MB"})]})})]}),q&&t.jsxs("div",{className:"instructors-file-selected-box",children:[t.jsx(Ke,{className:"text-green-600",size:18}),t.jsxs("p",{className:"instructors-file-selected-text",children:[t.jsx("span",{className:"instructors-file-selected-bold",children:"Selected:"})," ",q]})]}),F.cv&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:F.cv})})]})]}),t.jsx(dh,{label:"Languages",value:N.specializations,onChange:B,error:F.specializations}),t.jsxs("div",{className:"instructors-checkbox-container",children:[t.jsx("input",{type:"checkbox",id:"is_assessor",name:"is_assessor",checked:N.is_assessor||!1,onChange:oe=>S({...N,is_assessor:oe.target.checked}),className:"instructors-checkbox"}),t.jsx("label",{htmlFor:"is_assessor",className:"instructors-checkbox-label",children:"Is Assessor"})]}),t.jsx("p",{className:"instructors-helper-text",children:"Mark this instructor as an assessor"}),F.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text-bold",children:F.general})}),Object.keys(F).filter(oe=>oe!=="general"&&oe!=="specializations").map(oe=>F[oe]&&t.jsxs("p",{className:"instructors-error-text",children:[oe,": ",F[oe]]},oe)),t.jsxs("div",{className:"instructors-form-actions",children:[t.jsx("button",{type:"button",onClick:V,className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:Y,className:"instructors-button-submit",children:Y?"Saving...":w?"Update Instructor":"Add Instructor"})]})]})}),t.jsx(Be,{isOpen:p,onClose:()=>{f(!1),j(null)},title:"Instructor Details",size:"lg",children:w&&t.jsxs("div",{className:"instructors-detail-container",children:[t.jsxs("div",{className:"instructors-detail-grid",children:[t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"First Name"}),t.jsx("p",{className:"instructors-detail-value",children:w.first_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Name"}),t.jsx("p",{className:"instructors-detail-value",children:w.last_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx($t,{size:16,className:"instructors-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"instructors-detail-value",children:w.email||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Qs,{size:16,className:"instructors-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"instructors-detail-value",children:w.phone||"N/A"})]}),w.id_number&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"ID Number"}),t.jsx("p",{className:"instructors-detail-value",children:w.id_number})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Type"}),w.is_assessor?t.jsx("span",{className:"instructors-detail-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-detail-badge-gray",children:"Instructor"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Status"}),t.jsx("span",{className:`instructors-detail-status ${w.status==="active"?"instructors-detail-status-active":w.status==="pending"?"instructors-detail-status-pending":w.status==="suspended"?"instructors-detail-status-suspended":"instructors-detail-status-inactive"}`,children:w.status})]})]}),w.specializations&&w.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Specializations"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(w.specializations)?w.specializations.map((oe,ee)=>t.jsx("span",{className:"instructors-specialization-badge",children:oe},ee)):t.jsx("span",{className:"instructors-specialization-badge",children:w.specializations})})]}),w.cv_url&&t.jsx("div",{className:"instructors-cv-box",children:t.jsxs("div",{className:"instructors-cv-box-flex",children:[t.jsxs("div",{className:"instructors-cv-box-inner",children:[t.jsx("div",{className:"instructors-cv-box-icon-wrapper",children:t.jsx(tt,{className:"text-white",size:28})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-box-text-title",children:"Curriculum Vitae"}),t.jsx("p",{className:"instructors-cv-box-text-hint",children:"Click the button to view the instructor's CV"})]})]}),t.jsxs("a",{href:w.cv_url.startsWith("http")?w.cv_url:`${v0}${w.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-box-link",children:[t.jsx(tt,{size:18,className:"instructors-cv-box-link-icon"}),"View CV"]})]})})]})}),t.jsx(da,{isOpen:m,onClose:()=>{u(!1),j(null)},onConfirm:ge,title:"Delete Instructor",message:`Are you sure you want to delete "${w==null?void 0:w.first_name} ${w==null?void 0:w.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Be,{isOpen:x,onClose:()=>{y(!1),L({acc_id:"",course_ids:[]}),C({}),b([])},title:`Request Authorization for ${w?`${w.first_name} ${w.last_name}`:"Instructor"}`,size:"lg",children:t.jsxs("form",{onSubmit:_e,className:"instructors-request-form",children:[$.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:$.general})}),t.jsx(ve,{label:"ACC",name:"acc_id",type:"select",value:k.acc_id,onChange:oe=>se(oe.target.value),required:!0,options:v.length>0?v.map(oe=>({value:oe.id,label:oe.name||`ACC ${oe.id}`})):[{value:"",label:"No approved ACCs available"}],error:$.acc_id,disabled:v.length===0}),v.length===0&&t.jsx("p",{className:"instructors-request-warning",children:"No approved ACCs found. Please request and get approval from an ACC first."}),k.acc_id&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Selection Type ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),t.jsxs("div",{className:"instructors-request-radio-group",children:[t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"sub_category",checked:A==="sub_category",onChange:oe=>he(oe.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Sub-Category (All Courses)"})]}),t.jsxs("label",{className:"instructors-request-radio-label",children:[t.jsx("input",{type:"radio",name:"selectionType",value:"courses",checked:A==="courses",onChange:oe=>he(oe.target.value),className:"instructors-request-radio"}),t.jsx("span",{className:"instructors-request-radio-text",children:"Select Specific Courses"})]})]})]}),k.acc_id&&A==="sub_category"&&t.jsxs("div",{children:[t.jsx(ve,{label:"Sub-Category",name:"sub_category_id",type:"select",value:k.sub_category_id,onChange:oe=>L({...k,sub_category_id:oe.target.value,course_ids:[]}),required:!0,options:_.length>0?_.map(oe=>({value:oe.id,label:`${oe.name} (${oe.courses_count||0} courses)`})):[{value:"",label:"No sub-categories available"}],error:$.sub_category_id,disabled:_.length===0}),_.length===0&&k.acc_id&&t.jsx("p",{className:"instructors-request-warning",children:"No sub-categories found for the selected ACC"})]}),k.acc_id&&A==="courses"&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Courses ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),g.length===0?t.jsx("p",{className:"instructors-request-warning",children:"No courses available for the selected ACC"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"instructors-courses-container",children:g.map(oe=>{var ee;return t.jsxs("label",{className:"instructors-course-item",children:[t.jsx("input",{type:"checkbox",checked:((ee=k.course_ids)==null?void 0:ee.includes(oe.id))||!1,onChange:()=>be(oe.id),className:"instructors-course-checkbox"}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:"instructors-course-name",children:oe.name||oe.code||`Course ${oe.id}`}),oe.sub_category&&t.jsxs("span",{className:"instructors-course-subcategory",children:["(",oe.sub_category.name||oe.sub_category,")"]})]})]},oe.id||oe.name)})}),k.course_ids.length>0&&t.jsxs("p",{className:"instructors-course-selected",children:["Selected: ",t.jsx("span",{className:"instructors-course-selected-bold",children:k.course_ids.length})," course(s)"]})]}),$.course_ids&&t.jsx("p",{className:"instructors-error-text",children:$.course_ids})]}),t.jsxs("div",{className:"instructors-request-actions",children:[t.jsx("button",{type:"button",onClick:()=>{y(!1),L({acc_id:"",sub_category_id:"",course_ids:[]}),R("sub_category"),C({}),b([]),P([])},className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:E,className:"instructors-button-submit",children:E?"Submitting...":"Submit Request"})]})]})})]})},o6=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState({currentPage:1,totalPages:1,perPage:15,totalItems:0}),[o,d]=c.useState(!0),[m,u]=c.useState(!1),[p,f]=c.useState(!1),[x,y]=c.useState(!1),[w,j]=c.useState(null),[v,h]=c.useState([]),[g,b]=c.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),[_,P]=c.useState(null),[A,R]=c.useState(null),[k,L]=c.useState({}),[$,C]=c.useState(!1),[E,T]=c.useState(""),[N,S]=c.useState("all"),[I,D]=c.useState({key:null,direction:"asc"});c.useEffect(()=>{q(),X()},[]),c.useEffect(()=>(s("Trainees"),r("Manage your trainees"),e(t.jsxs("button",{onClick:()=>ne(),className:"trainees-header-button",children:[t.jsx($s,{size:20,className:"trainees-header-button-icon"}),"Add Trainee"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const q=async(B=1)=>{d(!0);try{const pe={page:B,per_page:15,...E&&{search:E}},W=await Je.listTrainees(pe);if(W!=null&&W.trainees){n(W.trainees);const ge=W.pagination||{};l({currentPage:ge.current_page||currentPage,totalPages:ge.last_page||ge.total_pages||1,perPage:ge.per_page||i.perPage,totalItems:ge.total||W.trainees.length})}else Array.isArray(W)?(n(W),l({currentPage,totalPages:1,perPage:i.perPage,totalItems:W.length})):n([])}catch(pe){console.error("Failed to load trainees:",pe),n([])}finally{d(!1)}},X=async()=>{try{const B=await Je.listClasses(),pe=(B==null?void 0:B.classes)||(B==null?void 0:B.data)||[];h(pe)}catch(B){console.error("Failed to load training classes:",B),h([])}};c.useEffect(()=>{l(B=>({...B,currentPage:1})),q(1)},[E]);const ne=(B=null)=>{var pe;B?(j(B),b({first_name:B.first_name||"",last_name:B.last_name||"",email:B.email||"",phone:B.phone||"",id_number:B.id_number||"",id_image:null,card_image:null,enrolled_classes:((pe=B.training_classes)==null?void 0:pe.map(W=>W.id))||[],status:B.status||"active"}),P(B.id_image_url||null),R(B.card_image_url||null)):(j(null),b({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),P(null),R(null)),L({}),u(!0)},H=()=>{u(!1),j(null),b({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),P(null),R(null),L({})},F=B=>{const{name:pe,value:W}=B.target;b({...g,[pe]:W}),L({})},U=(B,pe)=>{const W=B.target.files[0];if(W){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(W.type)){L({[pe]:"File must be jpeg, jpg, png, or pdf"});return}if(W.size>10*1024*1024){L({[pe]:"File size must be less than 10MB"});return}if(b({...g,[pe]:W}),pe==="id_image"&&W.type.startsWith("image/")){const G=new FileReader;G.onloadend=()=>{P(G.result)},G.readAsDataURL(W)}else if(pe==="card_image"&&W.type.startsWith("image/")){const G=new FileReader;G.onloadend=()=>{R(G.result)},G.readAsDataURL(W)}L({})}},Y=B=>{b(pe=>{const W=pe.enrolled_classes||[];return W.includes(B)?{...pe,enrolled_classes:W.filter(ge=>ge!==B)}:{...pe,enrolled_classes:[...W,B]}})},Z=B=>{B==="id_image"?(b(pe=>({...pe,id_image:null})),P(null)):B==="card_image"&&(b(pe=>({...pe,card_image:null})),R(null)),L({})},z=async B=>{var pe,W,ge,G,ue,fe,se,he,be;B.preventDefault(),C(!0),L({});try{const _e=new FormData;if(w){const De=(pe=g.first_name)==null?void 0:pe.trim(),Ee=(W=g.last_name)==null?void 0:W.trim(),Ae=(ge=g.email)==null?void 0:ge.trim(),Pe=(G=g.phone)==null?void 0:G.trim(),Ne=(ue=g.id_number)==null?void 0:ue.trim();De&&_e.append("first_name",De),Ee&&_e.append("last_name",Ee),Ae&&_e.append("email",Ae),Pe&&_e.append("phone",Pe),Ne&&_e.append("id_number",Ne),g.status&&_e.append("status",g.status),g.id_image instanceof File&&_e.append("id_image",g.id_image),g.card_image instanceof File&&_e.append("card_image",g.card_image),g.enrolled_classes&&g.enrolled_classes.length>0&&g.enrolled_classes.forEach(Ue=>{_e.append("enrolled_classes[]",Ue)}),await Je.updateTrainee(w.id,_e)}else _e.append("first_name",g.first_name.trim()),_e.append("last_name",g.last_name.trim()),_e.append("email",g.email.trim()),_e.append("phone",g.phone.trim()),_e.append("id_number",g.id_number.trim()),_e.append("status",g.status),g.id_image instanceof File&&_e.append("id_image",g.id_image),g.card_image instanceof File&&_e.append("card_image",g.card_image),g.enrolled_classes.forEach(De=>{_e.append("enrolled_classes[]",De)}),await Je.createTrainee(_e);await q(i.currentPage),H()}catch(_e){console.error("Error submitting trainee:",_e),(se=(fe=_e.response)==null?void 0:fe.data)!=null&&se.errors?L(_e.response.data.errors):(be=(he=_e.response)==null?void 0:he.data)!=null&&be.message?L({general:_e.response.data.message}):L({general:_e.message||"Failed to save trainee"})}finally{C(!1)}},O=B=>{j(B),f(!0)},M=async()=>{try{await Je.deleteTrainee(w.id),await q(i.currentPage)}catch(B){alert("Failed to delete trainee: "+(B.message||"Unknown error"))}f(!1),j(null)},re=async B=>{try{const pe=await Je.getTraineeDetails(B.id);j(pe.trainee),y(!0)}catch(pe){console.error("Failed to load trainee details:",pe),j(B),y(!0)}},J=B=>{q(B)},te=B=>{l(pe=>({...pe,perPage:B,currentPage:1})),q(1)},K=i.totalItems||a.length,ie=a.filter(B=>B.status==="active").length,V=a.filter(B=>B.status==="inactive").length,ae=a.filter(B=>B.status==="suspended").length,ce=c.useMemo(()=>[{header:"Trainee",accessor:"name",sortable:!0,render:(B,pe)=>t.jsxs("div",{className:"trainees-column-trainee",children:[t.jsx("div",{className:"trainees-column-icon-wrapper",children:t.jsx(dl,{className:"trainees-column-icon"})}),t.jsx("div",{children:t.jsxs("div",{className:"trainees-column-name",children:[pe.first_name," ",pe.last_name]})})]})},{header:"Email",accessor:"email",sortable:!0,render:B=>t.jsxs("div",{className:"trainees-column-email",children:[t.jsx($t,{className:"trainees-column-email-icon"}),B]})},{header:"Phone",accessor:"phone",sortable:!0,render:B=>B?t.jsxs("div",{className:"trainees-column-phone",children:[t.jsx(Qs,{className:"trainees-column-phone-icon"}),B]}):t.jsx("span",{className:"trainees-column-na",children:"N/A"})},{header:"ID Number",accessor:"id_number",sortable:!0,render:B=>t.jsx("span",{className:"trainees-column-id-number",children:B||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:B=>{const pe={active:{icon:Ke,class:"trainees-column-status-badge-active"},inactive:{icon:nt,class:"trainees-column-status-badge-inactive"},suspended:{icon:ht,class:"trainees-column-status-badge-suspended"}},W=pe[B]||pe.inactive,ge=W.icon;return t.jsxs("span",{className:`trainees-column-status-badge ${W.class}`,children:[t.jsx(ge,{size:14,className:"trainees-column-status-icon"}),B?B.charAt(0).toUpperCase()+B.slice(1):"N/A"]})}},{header:"Classes",accessor:"training_classes",sortable:!1,render:B=>B&&B.length>0?t.jsxs("div",{className:"trainees-column-classes",children:[t.jsx(ts,{size:16,className:"trainees-column-classes-icon"}),t.jsx("span",{className:"trainees-column-classes-count",children:B.length})]}):t.jsx("span",{className:"trainees-column-na",children:"0"})},{header:"Actions",accessor:"actions",sortable:!1,render:(B,pe)=>t.jsxs("div",{className:"trainees-column-actions",onClick:W=>W.stopPropagation(),children:[t.jsx("button",{onClick:W=>{W.stopPropagation(),ne(pe)},className:"trainees-action-button trainees-action-button-edit",title:"Edit",children:t.jsx(rs,{size:16})}),t.jsx("button",{onClick:W=>{W.stopPropagation(),O(pe)},className:"trainees-action-button trainees-action-button-delete",title:"Delete",children:t.jsx(Hs,{size:16})})]})}],[]);return o&&a.length===0?t.jsx(Wl,{}):t.jsxs("div",{className:"trainees-container",children:[t.jsxs(ch,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(js,{name:"Total Trainees",value:K,icon:dl,colorType:"indigo",isActive:N==="all",onClick:()=>S("all")}),t.jsx(js,{name:"Active",value:ie,icon:Ke,colorType:"green",isActive:N==="active",onClick:()=>S("active")}),t.jsx(js,{name:"Inactive",value:V,icon:nt,colorType:"gray",isActive:N==="inactive",onClick:()=>S("inactive")}),t.jsx(js,{name:"Suspended",value:ae,icon:ht,colorType:"red",isActive:N==="suspended",onClick:()=>S("suspended")})]}),t.jsxs("div",{className:"trainees-table-container",children:[t.jsx(ws,{columns:ce,data:a,isLoading:o,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name, email, phone, or ID number...",emptyMessage:"No trainees found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:B=>B.status==="active"},{value:"inactive",label:"Inactive",filterFn:B=>B.status==="inactive"},{value:"suspended",label:"Suspended",filterFn:B=>B.status==="suspended"}],defaultFilter:N,onRowClick:B=>re(B)}),!o&&i.totalItems>0&&t.jsx(Ft,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,perPage:i.perPage,onPageChange:J,onPerPageChange:te})]}),t.jsx(Be,{isOpen:m,onClose:H,title:w?"Edit Trainee":"Add New Trainee",size:"lg",children:t.jsxs("form",{onSubmit:z,className:"trainees-form",children:[t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(ve,{label:"First Name",name:"first_name",value:g.first_name,onChange:F,required:!0,error:k.first_name}),t.jsx(ve,{label:"Last Name",name:"last_name",value:g.last_name,onChange:F,required:!0,error:k.last_name})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(ve,{label:"Email",type:"email",name:"email",value:g.email,onChange:F,required:!0,error:k.email}),t.jsx(ve,{label:"Phone",type:"tel",name:"phone",value:g.phone,onChange:F,required:!0,error:k.phone})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(ve,{label:"ID Number",name:"id_number",value:g.id_number,onChange:F,required:!0,error:k.id_number}),t.jsx(ve,{label:"Status",name:"status",type:"select",value:g.status,onChange:F,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}],error:k.status})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["ID Image ",!w&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),_?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:_,alt:"ID Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:B=>U(B,"id_image"),className:"trainees-image-upload-input"}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(ta,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>Z("id_image"),className:"trainees-image-remove-button",children:[t.jsx(dr,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),g.id_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(Zg,{size:14}),g.id_image.name]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:B=>U(B,"id_image"),className:"trainees-image-upload-input"}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(ta,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload ID Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB)"})]})})]}),k.id_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(ht,{size:16}),Array.isArray(k.id_image)?k.id_image[0]:k.id_image]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["Card Image ",!w&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),A?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:A,alt:"Card Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:B=>U(B,"card_image"),className:"trainees-image-upload-input"}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(ta,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>Z("card_image"),className:"trainees-image-remove-button",children:[t.jsx(dr,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),g.card_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(Zg,{size:14}),g.card_image.name]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:B=>U(B,"card_image"),className:"trainees-image-upload-input"}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(ta,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload Card Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB)"})]})})]}),k.card_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(ht,{size:16}),Array.isArray(k.card_image)?k.card_image[0]:k.card_image]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"trainees-classes-label",children:"Enrolled Classes"}),v.length===0?t.jsx("p",{className:"trainees-classes-empty",children:"No training classes available"}):t.jsx("div",{className:"trainees-classes-container",children:v.map(B=>{var pe,W;return t.jsxs("label",{className:"trainees-class-item",children:[t.jsx("input",{type:"checkbox",checked:((pe=g.enrolled_classes)==null?void 0:pe.includes(B.id))||!1,onChange:()=>Y(B.id),className:"trainees-class-checkbox"}),t.jsxs("div",{className:"trainees-class-info",children:[t.jsx("span",{className:"trainees-class-name",children:((W=B.course)==null?void 0:W.name)||B.name||`Class ${B.id}`}),B.start_date&&B.end_date&&t.jsxs("div",{className:"trainees-class-date",children:[t.jsx(At,{size:12}),new Date(B.start_date).toLocaleDateString()," - ",new Date(B.end_date).toLocaleDateString()]})]})]},B.id)})}),k.enrolled_classes&&t.jsx("p",{className:"trainees-classes-error",children:Array.isArray(k.enrolled_classes)?k.enrolled_classes[0]:k.enrolled_classes})]}),k.general&&t.jsx("div",{className:"trainees-error-box",children:t.jsx("p",{className:"trainees-error-text-bold",children:k.general})}),Object.keys(k).filter(B=>B!=="general"&&B!=="id_image"&&B!=="card_image"&&B!=="enrolled_classes").map(B=>k[B]&&t.jsxs("p",{className:"trainees-error-text",children:[B,": ",Array.isArray(k[B])?k[B][0]:k[B]]},B)),t.jsxs("div",{className:"trainees-form-actions",children:[t.jsx("button",{type:"button",onClick:H,className:"trainees-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:$,className:"trainees-button-submit",children:$?"Saving...":w?"Update Trainee":"Add Trainee"})]})]})}),t.jsx(Be,{isOpen:x,onClose:()=>{y(!1),j(null)},title:"Trainee Details",size:"lg",children:w&&t.jsxs("div",{className:"trainees-detail-container",children:[t.jsxs("div",{className:"trainees-detail-grid",children:[t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"First Name"}),t.jsx("p",{className:"trainees-detail-value",children:w.first_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Last Name"}),t.jsx("p",{className:"trainees-detail-value",children:w.last_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx($t,{size:16,className:"trainees-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"trainees-detail-value",children:w.email||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Qs,{size:16,className:"trainees-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"trainees-detail-value",children:w.phone||"N/A"})]}),w.id_number&&t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"ID Number"}),t.jsx("p",{className:"trainees-detail-value",children:w.id_number})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Status"}),t.jsx("span",{className:`trainees-detail-status ${w.status==="active"?"trainees-detail-status-active":w.status==="inactive"?"trainees-detail-status-inactive":"trainees-detail-status-suspended"}`,children:w.status})]})]}),t.jsxs("div",{className:"trainees-detail-images-grid",children:[w.id_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"ID Image"}),t.jsx("a",{href:w.id_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:w.id_image_url,alt:"ID",className:"trainees-detail-image"})})]}),w.card_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"Card Image"}),t.jsx("a",{href:w.card_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:w.card_image_url,alt:"Card",className:"trainees-detail-image"})})]})]}),w.training_classes&&w.training_classes.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"trainees-classes-title",children:"Enrolled Classes"}),t.jsx("div",{className:"trainees-classes-list",children:w.training_classes.map((B,pe)=>{var W,ge;return t.jsx("div",{className:"trainees-class-detail-item",children:t.jsxs("div",{className:"trainees-class-detail-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"trainees-class-detail-name",children:((W=B.course)==null?void 0:W.name)||B.name||`Class ${B.id}`}),B.start_date&&B.end_date&&t.jsxs("p",{className:"trainees-class-detail-date",children:[t.jsx(At,{size:12}),new Date(B.start_date).toLocaleDateString()," - ",new Date(B.end_date).toLocaleDateString()]}),B.instructor&&t.jsxs("p",{className:"trainees-class-detail-instructor",children:["Instructor: ",B.instructor.first_name," ",B.instructor.last_name]})]}),((ge=B.pivot)==null?void 0:ge.status)&&t.jsx("span",{className:`trainees-class-detail-status ${B.pivot.status==="enrolled"?"trainees-class-detail-status-enrolled":B.pivot.status==="completed"?"trainees-class-detail-status-completed":B.pivot.status==="dropped"?"trainees-class-detail-status-dropped":"trainees-class-detail-status-other"}`,children:B.pivot.status})]})},pe)})})]})]})}),t.jsx(da,{isOpen:p,onClose:()=>{f(!1),j(null)},onConfirm:M,title:"Delete Trainee",message:`Are you sure you want to delete "${w==null?void 0:w.first_name} ${w==null?void 0:w.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},c6=()=>{var G,ue,fe,se,he,be,_e,De,Ee,Ae,Pe,Ne,Ue,oe;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState(!1),[p,f]=c.useState(!0),[x,y]=c.useState(null),[w,j]=c.useState([]),[v,h]=c.useState(!1),[g,b]=c.useState(!1),[_,P]=c.useState(!1),[A,R]=c.useState(!1),[k,L]=c.useState(null),[$,C]=c.useState(null),[E,T]=c.useState({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"}),[N,S]=c.useState({}),[I,D]=c.useState(!1),[q,X]=c.useState("all"),[ne,H]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{F()},[]),c.useEffect(()=>{v&&(z(),j(i),y(null))},[v,i]),c.useEffect(()=>{E.course_id&&v&&o.length>0?Z(E.course_id):E.course_id||(y(null),j(i))},[E.course_id,v,o,i]),c.useEffect(()=>(s("Classes"),r("Manage your training classes"),e(t.jsxs("button",{onClick:()=>O(),className:"header-create-btn",children:[t.jsx($s,{size:20,className:"header-create-btn-icon"}),"Create Class"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const F=async()=>{f(!0);try{const[ee,ye]=await Promise.all([Je.listClasses({}),Je.listInstructors()]);let ze=[];ee!=null&&ee.data?ze=Array.isArray(ee.data)?ee.data:[]:ee!=null&&ee.classes?ze=Array.isArray(ee.classes)?ee.classes:[]:Array.isArray(ee)&&(ze=ee),n(ze),l((ye==null?void 0:ye.instructors)||(ye==null?void 0:ye.data)||[])}catch(ee){console.error("Failed to load data:",ee),n([]),l([])}finally{f(!1)}},U=ee=>{H(ye=>({...ye,currentPage:ee}))},Y=ee=>{H(ye=>({...ye,perPage:ee,currentPage:1}))},Z=async ee=>{try{const ye=o.find(ze=>ze.id===parseInt(ee));if(ye)if(y(ye),ye.assessor_required){const ze=i.filter(Se=>Se.is_assessor===!0);if(j(ze),E.instructor_id){const Se=i.find(Ie=>Ie.id===parseInt(E.instructor_id));Se&&!Se.is_assessor&&T(Ie=>({...Ie,instructor_id:""}))}}else j(i);else try{const ze=localStorage.getItem("auth_token")||localStorage.getItem("token"),Ie=await ot.get(`https://aeroenix.com/v1/api/acc/courses/${ee}`,{headers:{Authorization:`Bearer ${ze}`,Accept:"application/json"}}),Ce=Ie.data.course||Ie.data;if(y(Ce),Ce.assessor_required){const We=i.filter(Ge=>Ge.is_assessor===!0);if(j(We),E.instructor_id){const Ge=i.find(xe=>xe.id===parseInt(E.instructor_id));Ge&&!Ge.is_assessor&&T(xe=>({...xe,instructor_id:""}))}}else j(i)}catch(ze){console.error("Failed to load course details:",ze),y(null),j(i)}}catch(ye){console.error("Error loading course details:",ye),y(null),j(i)}},z=async()=>{var ee;try{const ye=await Je.getAuthorizationStatus();console.log("Authorization data:",ye);const ze=ye.authorizations||ye.data||[];console.log("All authorizations:",ze);const Se=ze.filter(Ge=>{var Re;const xe=(Re=Ge.status)==null?void 0:Re.toLowerCase();return xe==="approved"||xe==="active"||xe==="accepted"||Ge.status&&Ge.status!=="pending"&&Ge.status!=="rejected"&&Ge.status!=="cancelled"});if(console.log("Approved authorizations:",Se),Se.length===0){console.log("No approved authorizations found. All authorizations:",ze),u(!1),d([]);return}u(!0);const Ie=Se.map(async Ge=>{var xe,Re,de;try{const Q=Ge.acc_id||((xe=Ge.acc)==null?void 0:xe.id)||Ge.id,me=((Re=Ge.acc)==null?void 0:Re.name)||Ge.acc_name||Ge.name||"Unknown ACC";if(console.log("Processing authorization for ACC:",{accId:Q,accName:me,auth:Ge}),!Q)return console.warn("No ACC ID found in authorization:",Ge),[];const ke=localStorage.getItem("auth_token")||localStorage.getItem("token"),$e="https://aeroenix.com/v1/api",Le=[`${$e}/training-center/accs/${Q}/courses`,`${$e}/acc/${Q}/courses`,`${$e}/training-center/courses?acc_id=${Q}`];for(const tr of Le)try{console.log(`Trying endpoint: ${tr}`);const uo=(await ot.get(tr,{headers:{Authorization:`Bearer ${ke}`,Accept:"application/json"}})).data,ma=uo.courses||uo.data||uo||[];if(ma.length>0)return console.log(`Successfully loaded ${ma.length} courses from ACC ${Q} using ${tr}`),ma.map(Ci=>({...Ci,acc_id:Q,acc_name:me}))}catch(xr){console.log(`Endpoint ${tr} failed:`,(de=xr.response)==null?void 0:de.status,xr.message)}return console.warn(`All endpoints failed for ACC ${Q}`),[]}catch(Q){console.error("Failed to load courses from authorization:",Q,Ge)}return[]}),We=(await Promise.all(Ie)).flat();d(We),console.log(`Loaded ${We.length} courses from ${Se.length} authorized ACC(s)`),We.length===0&&Se.length>0&&console.warn("No courses found despite having approved authorizations. Check endpoint availability.")}catch(ye){console.error("Failed to load courses:",ye),console.error("Error details:",((ee=ye.response)==null?void 0:ee.data)||ye.message),d([])}},O=(ee=null)=>{ee?(L(ee),T({course_id:ee.course_id||"",class_id:ee.class_id||"",instructor_id:ee.instructor_id||"",start_date:ee.start_date?ee.start_date.split("T")[0]:"",end_date:ee.end_date?ee.end_date.split("T")[0]:"",location:ee.location||"physical"})):(L(null),T({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"})),y(null),j(i),S({}),h(!0)},M=()=>{h(!1),L(null),T({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",location:"physical"}),S({})},re=ee=>{T({...E,[ee.target.name]:ee.target.value}),S({})},J=async ee=>{var ye,ze,Se,Ie,Ce,We,Ge;ee.preventDefault(),D(!0),S({});try{if(!E.course_id){S({course_id:"Course is required"}),D(!1);return}if(!E.class_id){S({class_id:"Class ID is required"}),D(!1);return}if(!E.instructor_id){S({instructor_id:"Instructor is required"}),D(!1);return}if(!E.start_date){S({start_date:"Start date is required"}),D(!1);return}if(!E.end_date){S({end_date:"End date is required"}),D(!1);return}const xe={course_id:parseInt(E.course_id),class_id:parseInt(E.class_id),instructor_id:parseInt(E.instructor_id),start_date:E.start_date,end_date:E.end_date,location:E.location};console.log("Submitting class data:",xe),k?await Je.updateClass(k.id,xe):await Je.createClass(xe),await F(),M()}catch(xe){console.error("Error creating/updating class:",xe),console.error("Error response:",(ye=xe.response)==null?void 0:ye.data),(Se=(ze=xe.response)==null?void 0:ze.data)!=null&&Se.errors?S(xe.response.data.errors):(Ce=(Ie=xe.response)==null?void 0:Ie.data)!=null&&Ce.message?S({general:xe.response.data.message}):(Ge=(We=xe.response)==null?void 0:We.data)!=null&&Ge.error?S({general:xe.response.data.error}):xe.errors?S(xe.errors):S({general:xe.message||"Failed to save class. Please check all required fields."})}finally{D(!1)}},te=ee=>{L(ee),b(!0)},K=async()=>{try{await Je.deleteClass(k.id),await F()}catch(ee){alert("Failed to delete class: "+(ee.message||"Unknown error"))}b(!1),L(null)},ie=async ee=>{try{const ye=await Je.getClassDetails(ee.id),ze=ye.class||ye.data||ye;ze&&!ze.trainees&&ye.trainees&&(ze.trainees=ye.trainees),ze&&!ze.trainees&&ee.trainees&&(ze.trainees=ee.trainees),L(ze),P(!0)}catch(ye){console.error("Failed to load class details:",ye),L(ee),P(!0)}},V=async ee=>{if(window.confirm("Mark this class as complete?"))try{await Je.markClassComplete(ee.id),await F()}catch(ye){alert("Failed to mark class as complete: "+(ye.message||"Unknown error"))}},ae=c.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(ee,ye)=>{var Se;const ze=typeof ye.course=="string"?ye.course:((Se=ye.course)==null?void 0:Se.name)||"N/A";return t.jsxs("div",{className:"course-container",children:[t.jsx("div",{className:"course-icon-container",children:t.jsx(es,{className:"course-icon"})}),t.jsxs("div",{children:[t.jsx("div",{className:"course-name",children:ze}),ye.class_id&&t.jsxs("div",{className:"course-id",children:["ID: ",ye.class_id]})]})]})}},{header:"Instructor",accessor:"instructor",sortable:!0,render:(ee,ye)=>{var Se,Ie;const ze=typeof ye.instructor=="string"?ye.instructor:(Se=ye.instructor)!=null&&Se.first_name&&((Ie=ye.instructor)!=null&&Ie.last_name)?`${ye.instructor.first_name} ${ye.instructor.last_name}`:"N/A";return t.jsxs("div",{className:"instructor-container",children:[t.jsx(dt,{className:"instructor-icon"}),ze]})}},{header:"Start Date",accessor:"start_date",sortable:!0,render:(ee,ye)=>t.jsxs("div",{className:"date-container",children:[t.jsx(At,{className:"date-icon"}),ye.start_date?new Date(ye.start_date).toLocaleDateString():"N/A"]})},{header:"End Date",accessor:"end_date",sortable:!0,render:(ee,ye)=>t.jsxs("div",{className:"date-container",children:[t.jsx(At,{className:"date-icon"}),ye.end_date?new Date(ye.end_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(ee,ye)=>{const Ie=({scheduled:{bg:"from-blue-100 to-blue-200",text:"text-blue-800",border:"border-blue-300",icon:nt},completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Ke},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ht}}[ye.status]||{icon:nt}).icon,Ce=ye.status==="scheduled"?"scheduled":ye.status==="completed"?"completed":ye.status==="cancelled"?"cancelled":"default";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${Ce}`,children:[t.jsx(Ie,{size:14,className:"status-icon"}),ye.status?ye.status.charAt(0).toUpperCase()+ye.status.slice(1):"N/A"]})})}},{header:"Enrollment",accessor:"enrollment",sortable:!1,render:(ee,ye)=>{var Ie;const ze=ye.trainees&&Array.isArray(ye.trainees)&&ye.trainees.length>0,Se=Ce=>{Ce.stopPropagation(),Ce.preventDefault(),Ce.nativeEvent.stopImmediatePropagation(),ze&&(C(ye),R(!0))};return t.jsxs("div",{className:`enrollment-container ${ze?"enrollment-clickable":""}`,onClick:Se,onMouseDown:Ce=>{Ce.stopPropagation(),Ce.nativeEvent.stopImmediatePropagation()},onMouseUp:Ce=>{Ce.stopPropagation(),Ce.nativeEvent.stopImmediatePropagation()},role:ze?"button":void 0,tabIndex:ze?0:void 0,onKeyDown:Ce=>{ze&&(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),Ce.stopPropagation(),Se(Ce))},children:[ye.enrolled_count||0," / ",((Ie=ye.course)==null?void 0:Ie.max_capacity)||"N/A"]})}}],[]),ce=c.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:ee=>ee.status==="scheduled"},{value:"completed",label:"Completed",filterFn:ee=>ee.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:ee=>ee.status==="cancelled"}],[]),B=c.useMemo(()=>a.map(ee=>{var Ie,Ce,We;const ye=typeof ee.course=="string"?ee.course:((Ie=ee.course)==null?void 0:Ie.name)||"",ze=typeof ee.instructor=="string"?ee.instructor:(Ce=ee.instructor)!=null&&Ce.first_name&&((We=ee.instructor)!=null&&We.last_name)?`${ee.instructor.first_name} ${ee.instructor.last_name}`:"",Se=[ye,ze,ee.class_id||"",ee.status||"",ee.location||""].filter(Boolean).join(" ").toLowerCase();return{...ee,_searchText:Se}}),[a]),pe=a.length,W=a.filter(ee=>ee.status==="scheduled").length,ge=a.filter(ee=>ee.status==="completed").length;return a.filter(ee=>ee.status==="cancelled").length,c.useEffect(()=>{const ee=B.length,ye=Math.ceil(ee/ne.perPage)||1;H(ze=>({...ze,totalItems:ee,totalPages:ye,currentPage:ze.currentPage>ye?1:ze.currentPage}))},[B.length,ne.perPage]),p?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})}):t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"stats-cards-grid",children:[t.jsx(js,{name:"Total Classes",value:pe,icon:es,colorType:"indigo",isActive:q==="all",onClick:()=>X("all")}),t.jsx(js,{name:"Scheduled",value:W,icon:At,colorType:"blue",isActive:q==="scheduled",onClick:()=>X("scheduled")}),t.jsx(js,{name:"Completed",value:ge,icon:Ke,colorType:"green",isActive:q==="completed",onClick:()=>X("completed")})]}),t.jsxs("div",{className:"datatable-container",children:[t.jsx(ws,{columns:ae,data:B,onEdit:O,onDelete:te,onView:ie,onRowClick:ie,isLoading:p,emptyMessage:a.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(es,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Create your first class to get started!"})]}):"No classes found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by course or instructor...",filterOptions:ce,sortable:!0,defaultFilter:q}),!p&&ne.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Ft,{currentPage:ne.currentPage,totalPages:ne.totalPages,totalItems:ne.totalItems,perPage:ne.perPage,onPageChange:U,onPerPageChange:Y})})]}),t.jsx(Be,{isOpen:v,onClose:M,title:k?"Edit Class":"Create New Class",size:"lg",children:t.jsxs("form",{onSubmit:J,className:"modal-form",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Course ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"course_id",value:E.course_id,onChange:re,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select a course..."}),o.map(ee=>{var Ie;const ye=ee.name||ee.code||`Course ${ee.id}`,ze=ee.acc_name||((Ie=ee.acc)==null?void 0:Ie.name)||"",Se=ze?`${ye} - ${ze}`:ye;return t.jsx("option",{value:ee.id,children:Se},ee.id)})]}),N.course_id&&t.jsx("p",{className:"form-error",children:N.course_id}),o.length===0&&!p&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No courses available"}),t.jsx("p",{className:"form-warning-text",children:m?"No courses found from your authorized ACCs. Please check if the ACCs have published courses.":"Please ensure you have authorization from at least one ACC. Courses from authorized ACCs will appear here."})]})]}),t.jsx(ve,{label:"Class ID",name:"class_id",type:"number",value:E.class_id,onChange:re,required:!0,placeholder:"Enter class ID",error:N.class_id}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Instructor ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"instructor_id",value:E.instructor_id,onChange:re,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select an instructor..."}),w.length>0?w.map(ee=>t.jsxs("option",{value:ee.id,children:[ee.first_name," ",ee.last_name,ee.is_assessor&&" (Assessor)"]},ee.id)):t.jsx("option",{value:"",disabled:!0,children:"No instructors available"})]}),N.instructor_id&&t.jsx("p",{className:"form-error",children:N.instructor_id}),(x==null?void 0:x.assessor_required)&&w.length===0&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:" This course requires an assessor, but no assessors are available."}),t.jsx("p",{className:"form-warning-text",children:"Please mark at least one instructor as an assessor before creating this class."})]}),(x==null?void 0:x.assessor_required)&&w.length>0&&t.jsx("p",{className:"form-info",children:" This course requires an assessor. Only assessors are shown."})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(ve,{label:"Start Date",name:"start_date",type:"date",value:E.start_date,onChange:re,required:!0,error:N.start_date}),t.jsx(ve,{label:"End Date",name:"end_date",type:"date",value:E.end_date,onChange:re,required:!0,error:N.end_date})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Location ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"location",value:E.location,onChange:re,required:!0,className:"form-select",children:[t.jsx("option",{value:"physical",children:"Physical"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"hybrid",children:"Hybrid"})]}),N.location&&t.jsx("p",{className:"form-error",children:N.location})]}),N.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:N.general})}),Object.keys(N).filter(ee=>ee!=="general").length>0&&t.jsxs("div",{className:"form-error-general",children:[t.jsx("p",{className:"form-error-general-text",children:"Please fix the following errors:"}),t.jsx("ul",{className:"form-error-list",children:Object.entries(N).filter(([ee])=>ee!=="general").map(([ee,ye])=>t.jsx("li",{children:Array.isArray(ye)?ye.join(", "):ye},ee))})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:M,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:I,className:"form-btn form-btn-submit",children:I?"Saving...":k?"Update Class":"Create Class"})]})]})}),t.jsx(Be,{isOpen:_,onClose:()=>{P(!1),L(null)},title:"Class Details",size:"lg",children:k&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Class ID"}),t.jsx("p",{className:"detail-modal-value",children:k.class_id||k.id||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${k.status==="completed"?"completed":k.status==="scheduled"?"scheduled":k.status==="cancelled"?"cancelled":"default"}`,children:k.status?k.status.charAt(0).toUpperCase()+k.status.slice(1):"N/A"})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Course Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:typeof k.course=="string"?k.course:((G=k.course)==null?void 0:G.name)||"N/A"})]}),((ue=k.course)==null?void 0:ue.code)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Code"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.code})]}),((fe=k.course)==null?void 0:fe.max_capacity)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Max Capacity"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.max_capacity})]}),((se=k.course)==null?void 0:se.duration)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Duration"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.duration})]}),((he=k.course)==null?void 0:he.description)&&t.jsxs("div",{className:"detail-modal-section-item detail-modal-section-full",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Description"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:k.course.description})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-purple",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-purple",children:"Instructor Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:typeof k.instructor=="string"?k.instructor:(be=k.instructor)!=null&&be.first_name&&((_e=k.instructor)!=null&&_e.last_name)?`${k.instructor.first_name} ${k.instructor.last_name}`:"N/A"})]}),((De=k.instructor)==null?void 0:De.email)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Email"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:k.instructor.email})]}),((Ee=k.instructor)==null?void 0:Ee.phone)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Phone"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:k.instructor.phone})]}),((Ae=k.instructor)==null?void 0:Ae.is_assessor)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Role"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:"Assessor"})]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Start Date"}),t.jsx("p",{className:"detail-modal-value",children:k.start_date?new Date(k.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),k.start_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(k.start_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"End Date"}),t.jsx("p",{className:"detail-modal-value",children:k.end_date?new Date(k.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),k.end_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(k.end_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Location"}),t.jsx("p",{className:"detail-modal-value",children:k.location?k.location.charAt(0).toUpperCase()+k.location.slice(1):"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Enrollment"}),t.jsxs("p",{className:"detail-modal-value",children:[k.enrolled_count||0," / ",((Pe=k.course)==null?void 0:Pe.max_capacity)||"N/A"]}),((Ne=k.course)==null?void 0:Ne.max_capacity)&&t.jsxs("div",{className:"detail-modal-progress-container",children:[t.jsx("div",{className:"detail-modal-progress-bar",children:t.jsx("div",{className:"detail-modal-progress-fill",style:{width:`${Math.min((k.enrolled_count||0)/k.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"detail-modal-progress-text",children:[Math.round((k.enrolled_count||0)/k.course.max_capacity*100),"% full"]})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Enrolled Trainees"}),k.trainees&&Array.isArray(k.trainees)&&k.trainees.length>0?t.jsx("div",{className:"detail-modal-trainees-list",children:k.trainees.map((ee,ye)=>t.jsx("div",{className:"detail-modal-trainee-item",children:t.jsxs("div",{className:"detail-modal-trainee-content",children:[t.jsxs("div",{className:"detail-modal-trainee-name",children:[t.jsx(dt,{size:16,className:"detail-modal-trainee-icon"}),t.jsxs("span",{children:[ee.first_name," ",ee.last_name]})]}),t.jsxs("div",{className:"detail-modal-trainee-id",children:[t.jsx(Uc,{size:14,className:"detail-modal-trainee-id-icon"}),t.jsx("span",{children:ee.id_number||ee.id||"N/A"})]})]})},ee.id||ye))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(dt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]}),(k.created_at||k.updated_at||k.notes)&&t.jsxs("div",{className:"detail-modal-section detail-modal-section-yellow",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-yellow",children:"Additional Information"}),t.jsxs("div",{className:"detail-modal-additional-list",children:[k.created_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Created At"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(k.created_at).toLocaleString("en-US")})]}),k.updated_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Last Updated"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(k.updated_at).toLocaleString("en-US")})]}),k.notes&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Notes"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:k.notes})]})]})]}),k.status!=="completed"&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>{V(k),P(!1)},className:"detail-modal-action-btn",children:[t.jsx(Ke,{size:20,className:"detail-modal-action-icon"}),"Mark as Complete"]})})]})}),t.jsx(Be,{isOpen:A,onClose:()=>{R(!1),C(null)},title:"Enrolled Trainees",size:"lg",children:$&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Class Information"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Ue=$.course)==null?void 0:Ue.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrollment: ",$.enrolled_count||0," / ",((oe=$.course)==null?void 0:oe.max_capacity)||"N/A"]})]}),$.trainees&&$.trainees.length>0?t.jsx("div",{className:"space-y-3",children:$.trainees.map((ee,ye)=>t.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(dt,{size:14,className:"mr-1"}),"Name"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[ee.first_name," ",ee.last_name]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx($t,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:ee.email||"N/A"})]}),ee.phone&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Qs,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:ee.phone})]}),ee.id_number&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Uc,{size:14,className:"mr-1"}),"ID Number"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:ee.id_number})]}),ee.enrolled_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(At,{size:14,className:"mr-1"}),"Enrolled At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(ee.enrolled_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),ee.completed_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ke,{size:14,className:"mr-1"}),"Completed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(ee.completed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(nt,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ee.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":ee.status==="enrolled"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[ee.status==="completed"&&t.jsx(Ke,{size:12,className:"mr-1"}),ee.status?ee.status.charAt(0).toUpperCase()+ee.status.slice(1):"N/A"]})]})]})},ee.id||ye))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(dt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]})}),t.jsx(da,{isOpen:g,onClose:()=>{b(!1),L(null)},onConfirm:K,title:"Delete Class",message:"Are you sure you want to delete this class? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})},d6=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState([]),[p,f]=c.useState([]),[x,y]=c.useState(!0),[w,j]=c.useState(!1),[v,h]=c.useState(!1),[g,b]=c.useState("inventory"),[_,P]=c.useState(!1),[A,R]=c.useState({key:null,direction:"asc"}),[k,L]=c.useState(""),[$,C]=c.useState("all"),[E,T]=c.useState({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:""}),[N,S]=c.useState({}),[I,D]=c.useState(!1),[q,X]=c.useState(!1),[ne,H]=c.useState(null),[F,U]=c.useState(!1),[Y,Z]=c.useState(new Map);c.useEffect(()=>{te()},[]),c.useEffect(()=>{V()},[g]),c.useEffect(()=>{if(g==="batches")return;(async()=>{try{let he=Y;he.size===0&&(he=await te());const be={};k&&(be.search=k);const _e=await Je.getCodeBatches(be);let De=[];_e.data?De=_e.data||[]:_e.batches?De=_e.batches||[]:De=Array.isArray(_e)?_e:[];const Ee=await ie(De,he);l(Ee)}catch(he){console.error("Failed to load batches:",he),l([])}})()},[k]),c.useEffect(()=>{_&&z()},[_]),c.useEffect(()=>(s("Certificate Codes"),r("Manage your certificate code inventory and purchases"),e(t.jsxs("button",{onClick:ce,className:"header-create-btn",children:[t.jsx(ap,{size:20}),"Purchase Codes"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const z=async()=>{try{const he=((await Je.getAuthorizationStatus()).authorizations||[]).filter(De=>De.status==="approved"),be=new Map;he.forEach(De=>{var Ae,Pe;const Ee=De.acc_id||((Ae=De.acc)==null?void 0:Ae.id);if(Ee){const Ne=typeof Ee=="string"?parseInt(Ee):Ee;be.has(Ne)||be.set(Ne,{id:Ne,name:((Pe=De.acc)==null?void 0:Pe.name)||`ACC ${Ne}`})}});const _e=Array.from(be.values());console.log("Approved ACCs:",_e),u(_e),d([])}catch(se){console.error("Failed to load form data:",se),u([]),d([])}},O=async se=>{if(!se){d([]);return}j(!0);try{const he=typeof se=="string"?parseInt(se):se,be=rc(),_e="https://aeroenix.com/v1/api",De=[`${_e}/training-center/accs/${he}/courses`,`${_e}/acc/${he}/courses`,`${_e}/training-center/courses?acc_id=${he}`];let Ee=[];for(const Ae of De)try{const Ne=(await ot.get(Ae,{headers:{Authorization:`Bearer ${be}`,Accept:"application/json"}})).data;if(Ee=Ne.courses||Ne.data||Ne||[],Ee.length>0){Ee=Ee.map(Ue=>({...Ue,acc_id:he}));break}}catch{continue}if(Ee.length===0)try{const Ae=await Je.listClasses({acc_id:he}),Pe=(Ae==null?void 0:Ae.classes)||(Ae==null?void 0:Ae.data)||[],Ne=new Map;Pe.forEach(Ue=>{if(Ue.course){const oe=typeof Ue.course=="object"?Ue.course:{id:Ue.course,name:Ue.course},ee=oe.id?typeof oe.id=="string"?parseInt(oe.id):oe.id:null,ye=ee||oe.name;ye&&!Ne.has(ye)&&(Ne.set(ye,{...oe,id:ee||oe.id,acc_id:he}),Ee.push(Ne.get(ye)))}})}catch(Ae){console.error("Failed to load courses from classes:",Ae)}console.log(`Loaded courses for ACC ${he}:`,Ee),d(Ee)}catch(he){console.error("Failed to load courses:",he),d([])}finally{j(!1)}},M=se=>{T({...E,acc_id:se,course_id:"",discount_code:""}),d([]),f([]),O(se)},re=async(se,he)=>{var be,_e,De,Ee;if(!se||!he){f([]);return}h(!0);try{const Ae=typeof se=="string"?parseInt(se):se,Pe=typeof he=="string"?parseInt(he):he,Ne=rc(),Ue="https://aeroenix.com/v1/api";console.log(`Loading discount codes for ACC ${Ae} and Course ${Pe}`);const oe=[`${Ue}/training-center/accs/${Ae}/courses/${Pe}/discount-codes`,`${Ue}/training-center/discount-codes?acc_id=${Ae}&course_id=${Pe}`,`${Ue}/acc/${Ae}/discount-codes?course_id=${Pe}`,`${Ue}/training-center/discount-codes?acc_id=${Ae}`,`${Ue}/acc/${Ae}/discount-codes`];let ee=[],ye=null;for(const ze of oe)try{console.log(`Trying endpoint: ${ze}`);const Se=await ot.get(ze,{headers:{Authorization:`Bearer ${Ne}`,Accept:"application/json"}});console.log(`Response from ${ze}:`,Se.data);const Ie=Se.data;if(ee=Ie.discount_codes||Ie.discountCodes||Ie.codes||Ie.data||Ie||[],Array.isArray(ee)||(ee=[]),console.log(`Raw codes list (${ee.length} items):`,ee),ee.length>0&&(ee=ee.filter(Ce=>{const Ge=!(Ce.status!==void 0)||Ce.status==="active"||Ce.is_active===!0||Ce.status!=="inactive",Re=!(Ce.expires_at!==void 0&&Ce.expires_at!==null)||new Date(Ce.expires_at)>new Date,Q=!(Ce.max_uses!==void 0&&Ce.max_uses!==null)||(Ce.used_count||0)<Ce.max_uses,me=Ge&&Re&&Q;return console.log(`Code ${Ce.code||Ce.discount_code||Ce.id}: active=${Ge}, notExpired=${Re}, hasUsesLeft=${Q}, isValid=${me}`),me}),console.log(`Filtered codes list (${ee.length} items):`,ee)),ee.length>0){console.log(`Successfully loaded ${ee.length} discount codes from ${ze}`);break}else if(ee.length===0&&Array.isArray(Ie.discount_codes||Ie.discountCodes||Ie.codes||Ie.data||Ie)){console.log(`No discount codes available from ${ze}`);break}}catch(Se){console.log(`Endpoint ${ze} failed:`,(be=Se.response)==null?void 0:be.status,((_e=Se.response)==null?void 0:_e.data)||Se.message),ye=Se;continue}console.log(`Final discount codes for ACC ${Ae} and Course ${Pe}:`,ee),f(ee),ee.length===0&&ye&&console.warn("No discount codes found. All endpoints failed or returned empty results.")}catch(Ae){console.error("Failed to load discount codes:",Ae),console.error("Error details:",(De=Ae.response)==null?void 0:De.status,(Ee=Ae.response)==null?void 0:Ee.data),f([])}finally{h(!1)}},J=se=>{T({...E,course_id:se,discount_code:""}),E.acc_id&&se?re(E.acc_id,se):f([])},te=async()=>{try{const se=await Je.listACCs(),he=Array.isArray(se)?se:se.accs||se.data||[],be=new Map;return he.forEach(_e=>{const De=_e.id||_e.acc_id;De&&(be.set(De,_e),be.set(String(De),_e))}),Z(be),console.log("Loaded ACCs map:",be.size,"ACCs"),be}catch(se){return console.error("Failed to load ACCs:",se),new Map}},K=async se=>{var he,be;if(!se)return null;try{const _e=rc(),De="https://aeroenix.com/v1/api",Ee=[`${De}/training-center/accs/${se}`,`${De}/admin/accs/${se}`];for(const Ae of Ee)try{const Pe=await ot.get(Ae,{headers:{Authorization:`Bearer ${_e}`,Accept:"application/json"}}),Ne=((he=Pe.data)==null?void 0:he.acc)||((be=Pe.data)==null?void 0:be.data)||Pe.data;if(Ne&&(Ne.id||Ne.acc_id)){const Ue=new Map(Y),oe=Ne.id||Ne.acc_id;return Ue.set(oe,Ne),Ue.set(String(oe),Ne),Z(Ue),Ne}}catch{continue}}catch(_e){console.error(`Failed to fetch ACC details for ID ${se}:`,_e)}return null},ie=async(se,he)=>{var _e,De;const be=[];for(const Ee of se){const Ae=Ee.acc_id||(typeof Ee.acc=="object"?(_e=Ee.acc)==null?void 0:_e.id:null)||(Ee.acc&&typeof Ee.acc=="number"?Ee.acc:null)||(Ee.acc&&typeof Ee.acc=="string"&&!isNaN(Ee.acc)?parseInt(Ee.acc):null);if(typeof Ee.acc=="object"&&((De=Ee.acc)!=null&&De.name)&&Ee.acc.name!=="Unknown ACC"){be.push(Ee);continue}if(Ae){let Pe=he.get(Ae)||he.get(String(Ae));Pe||(Pe=await K(Ae),Pe&&(he=new Map(he),he.set(Ae,Pe),he.set(String(Ae),Pe))),Pe?be.push({...Ee,acc:{id:Pe.id||Pe.acc_id||Ae,name:Pe.name||Pe.acc_name||`ACC ${Ae}`,...Pe}}):be.push({...Ee,acc:{id:Ae,name:`ACC ${Ae}`}})}else be.push(Ee)}return be},V=async()=>{try{y(!0);let se=Y;se.size===0&&(se=await te());const he={};if(g==="inventory"){const be=await Je.getCodeInventory({});let _e=[];be.data?_e=be.data||[]:be.codes?_e=be.codes||[]:_e=Array.isArray(be)?be:[];const De=await ie(_e,se);n(De)}else{const be=await Je.getCodeBatches({});let _e=[];be.data?_e=be.data||[]:be.batches?_e=be.batches||[]:_e=Array.isArray(be)?be:[];const De=await ie(_e,se);l(De)}}catch(se){console.error("Failed to load data:",se),g==="inventory"?n([]):l([])}finally{y(!1)}},ae=c.useMemo(()=>{let se=[...a];if(k){const he=k.toLowerCase();se=se.filter(be=>{var Ne,Ue;const _e=be.code||"",De=typeof be.acc=="object"?((Ne=be.acc)==null?void 0:Ne.name)||"":be.acc||"",Ee=typeof be.course=="object"?((Ue=be.course)==null?void 0:Ue.name)||"":be.course||"",Ae=be.status||"";return[_e,De,Ee,Ae].filter(Boolean).join(" ").toLowerCase().includes(he)})}return $!=="all"&&(se=se.filter(he=>he.status===$)),A.key&&se.sort((he,be)=>{var Ee,Ae;let _e,De;return typeof he[A.key]=="object"&&he[A.key]!==null?_e=((Ee=he[A.key])==null?void 0:Ee.name)||"":_e=he[A.key]||"",typeof be[A.key]=="object"&&be[A.key]!==null?De=((Ae=be[A.key])==null?void 0:Ae.name)||"":De=be[A.key]||"",typeof _e=="string"&&(_e=_e.toLowerCase()),typeof De=="string"&&(De=De.toLowerCase()),_e<De?A.direction==="asc"?-1:1:_e>De?A.direction==="asc"?1:-1:0}),se},[a,k,$,A]),ce=()=>{T({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:""}),S({}),H(null),d([]),f([]),P(!0)},B=async()=>{var _e,De,Ee,Ae;if(!E.acc_id){S({general:"Please select an ACC"});return}if(!E.course_id){S({general:"Please select a course"});return}if(!E.quantity||parseInt(E.quantity)<=0){S({general:"Please enter a valid quantity"});return}const se=parseInt(E.acc_id,10),he=parseInt(E.course_id,10),be=parseInt(E.quantity,10);if(isNaN(se)||isNaN(he)||isNaN(be)||be<1){S({general:"Invalid data. Please check your selections and try again."});return}X(!0),S({}),H(null);try{const Pe={acc_id:parseInt(se,10),course_id:parseInt(he,10),quantity:parseInt(be,10)};if(Pe.quantity<1){S({general:"Quantity must be at least 1."}),X(!1);return}E.discount_code&&E.discount_code.trim()&&(Pe.discount_code=E.discount_code.trim());const Ne=await Je.createPaymentIntent(Pe);Ne.success&&Ne.client_secret&&Ne.payment_intent_id?(H({...Ne,commission_amount:Ne.commission_amount,provider_amount:Ne.provider_amount,payment_type:Ne.payment_type||"standard"}),T(Ue=>({...Ue,payment_intent_id:Ne.payment_intent_id})),U(!0)):S({general:"Failed to create payment intent. Invalid response from server."})}catch(Pe){if(console.error("Failed to create payment intent:",Pe),((_e=Pe.response)==null?void 0:_e.status)===422){const Ne=Pe.response.data;if(Ne.errors){const Ue={};Object.keys(Ne.errors).forEach(oe=>{Ue[oe]=Array.isArray(Ne.errors[oe])?Ne.errors[oe][0]:Ne.errors[oe]}),S(Ue)}else Ne.message?S({general:Ne.message}):S({general:"Validation failed. Please check your input."})}else if(((De=Pe.response)==null?void 0:De.status)===400){const Ne=Pe.response.data;S({general:(Ne==null?void 0:Ne.message)||"Payment service unavailable. Please contact support."})}else if(((Ee=Pe.response)==null?void 0:Ee.status)===500){const Ne=Pe.response.data;S({general:(Ne==null?void 0:Ne.message)||"Failed to create payment intent. Please try again later."})}else if((Ae=Pe.response)!=null&&Ae.data){const Ne=Pe.response.data;if(Ne.errors){const Ue={};Object.keys(Ne.errors).forEach(oe=>{Ue[oe]=Array.isArray(Ne.errors[oe])?Ne.errors[oe][0]:Ne.errors[oe]}),S(Ue)}else Ne.message?S({general:Ne.message}):S({general:"Failed to create payment intent. Please try again."})}else Pe.message?S({general:Pe.message}):S({general:"Failed to create payment intent. Please try again."})}finally{X(!1)}},pe=async se=>{se.preventDefault(),await B()},W=c.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(se,he)=>{var be;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Xe,{className:"batch-acc-icon"}),typeof he.acc=="object"?((be=he.acc)==null?void 0:be.name)||"N/A":he.acc||"N/A"]})}},{header:"Course",accessor:"course",sortable:!0,render:(se,he)=>{var be;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(ts,{className:"batch-course-icon"}),typeof he.course=="object"?((be=he.course)==null?void 0:be.name)||"N/A":he.course||"N/A"]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:(se,he)=>t.jsx("span",{className:"batch-quantity",children:he.quantity||0})},{header:"Amount",accessor:"total_amount",sortable:!0,render:(se,he)=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(os,{className:"batch-amount-icon"}),parseFloat(he.total_amount||0).toFixed(2)]})},{header:"Purchase Date",accessor:"purchase_date",sortable:!0,render:(se,he)=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(At,{className:"batch-date-icon"}),he.purchase_date?new Date(he.purchase_date).toLocaleDateString():"N/A"]})},{header:"Payment Method",accessor:"payment_method",sortable:!0,render:(se,he)=>t.jsx("span",{className:"batch-payment-method",children:he.payment_method?he.payment_method.replace("_"," "):"N/A"})}],[]),ge=c.useMemo(()=>i.map(se=>{var De,Ee;const he=typeof se.acc=="object"?((De=se.acc)==null?void 0:De.name)||"":se.acc||"",be=typeof se.course=="object"?((Ee=se.course)==null?void 0:Ee.name)||"":se.course||"",_e=[he,be,se.quantity||"",se.total_amount||"",se.purchase_date?new Date(se.purchase_date).toLocaleDateString():"",se.payment_method||""].filter(Boolean).join(" ").toLowerCase();return{...se,_searchText:_e}}),[i]),G=se=>{const he=new Map;return se.forEach(be=>{var Ue,oe,ee,ye;let _e=be.acc_id||(typeof be.acc=="object"?(Ue=be.acc)==null?void 0:Ue.id:null)||(be.acc&&typeof be.acc=="number"?be.acc:null)||(be.acc&&typeof be.acc=="string"&&!isNaN(be.acc)?parseInt(be.acc):null),De="Unknown ACC";if(typeof be.acc=="object"&&((oe=be.acc)!=null&&oe.name)&&be.acc.name!=="Unknown ACC")De=be.acc.name;else if(typeof be.acc=="string"&&be.acc!=="Unknown ACC"&&be.acc)De=be.acc;else if(_e){const ze=Y.get(_e)||Y.get(String(_e));ze?De=ze.name||ze.acc_name||`ACC ${_e}`:De=`ACC ${_e}`}const Ee=typeof be.course=="object"?(ee=be.course)==null?void 0:ee.id:be.course,Ae=typeof be.course=="object"?(ye=be.course)==null?void 0:ye.name:be.course||"Unknown Course",Pe=`${_e||"unknown"}_${Ee||"unknown"}`;he.has(Pe)||he.set(Pe,{accId:_e,accName:De,courseId:Ee,courseName:Ae,codes:[],total:0,available:0,used:0});const Ne=he.get(Pe);Ne.codes.push(be),Ne.total++,be.status==="available"&&Ne.available++,be.status==="used"&&Ne.used++}),Array.from(he.values())},ue=(se,he)=>`${se||"unknown"}_${he||"unknown"}`,fe=g==="inventory"?ae:ge;return t.jsxs("div",{children:[t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs-wrapper",children:[t.jsxs("button",{onClick:()=>{b("inventory")},className:`tab-button ${g==="inventory"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(ac,{size:20,className:g==="inventory"?"tab-icon-active":"tab-icon-inactive"}),"Inventory (",a.length,")"]}),t.jsxs("button",{onClick:()=>{b("batches")},className:`tab-button ${g==="batches"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(ap,{size:20,className:g==="batches"?"tab-icon-active":"tab-icon-inactive"}),"Purchase History (",i.length,")"]})]})}),g==="inventory"&&t.jsx("div",{className:"search-filter-container",children:t.jsxs("div",{className:"search-filter-wrapper",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(It,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code, ACC, course, or status...",value:k,onChange:se=>{L(se.target.value)},className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Et,{className:"filter-icon",size:20}),t.jsxs("select",{value:$,onChange:se=>{C(se.target.value)},className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"used",children:"Used"})]})]})]})}),g==="inventory"?x?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner",children:t.jsx("div",{className:"loading-spinner-icon"})})}):fe.length===0?t.jsx("div",{className:"empty-state-container",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(ac,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No codes in inventory"}),t.jsx("p",{className:"empty-state-subtitle",children:k||$!=="all"?"Try adjusting your filters":"Purchase codes to get started!"})]})}):t.jsx("div",{className:"stats-cards-grid",children:G(fe).map((se,he)=>{const be=ue(se.accId,se.courseId);return t.jsx("div",{className:"stats-card",style:{"--animation-delay":`${he*.05}s`},children:t.jsxs("div",{className:"stats-card-content",children:[t.jsxs("div",{className:"stats-card-header",children:[t.jsx("div",{className:"stats-card-icon-container",children:t.jsx(Xe,{className:"stats-card-icon"})}),t.jsxs("div",{className:"stats-card-title-section",children:[t.jsx("h3",{className:"stats-card-title",children:se.accName}),t.jsxs("div",{className:"stats-card-subtitle",children:[t.jsx(ts,{className:"stats-card-subtitle-icon"}),t.jsx("p",{className:"stats-card-subtitle-text",children:se.courseName})]})]})]}),t.jsxs("div",{className:"stats-card-stats",children:[t.jsxs("div",{className:"stats-item stats-item-total",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx("div",{className:"stats-item-dot"}),t.jsx("span",{className:"stats-item-label-text",children:"Total Codes"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-total",children:se.total})]}),t.jsxs("div",{className:"stats-item stats-item-available",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(yS,{className:"stats-item-icon stats-item-icon-available"}),t.jsx("span",{className:"stats-item-label-text",children:"Available"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-available",children:se.available})]}),t.jsxs("div",{className:"stats-item stats-item-used",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(ht,{className:"stats-item-icon stats-item-icon-used"}),t.jsx("span",{className:"stats-item-label-text",children:"Used"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-used",children:se.used})]})]})]})},be)})}):t.jsx("div",{className:"datatable-container",children:t.jsx(ws,{columns:W,data:ge,isLoading:x,emptyMessage:i.length===0&&!x?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(ac,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No purchase history found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Your purchase history will appear here"})]}):"No purchase history found matching your filters",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, course, quantity, amount, date, or payment method...",sortable:!0})}),t.jsx(Be,{isOpen:_,onClose:()=>{P(!1),T({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"wallet",payment_intent_id:""}),S({}),d([]),f([])},title:"Purchase Certificate Codes",size:"lg",children:t.jsxs("form",{onSubmit:pe,className:"modal-form",children:[N.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:N.general})}),t.jsx(ve,{label:"ACC",name:"acc_id",type:"select",value:E.acc_id,onChange:se=>M(se.target.value),required:!0,disabled:m.length===0,options:m.length>0?m.map(se=>({value:se.id,label:se.name||`ACC ${se.id}`})):[{value:"",label:"No approved ACCs available. Please get approval from an ACC first."}],error:N.acc_id}),m.length===0&&t.jsx("p",{className:"form-warning-text",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsxs("div",{children:[t.jsx(ve,{label:"Course",name:"course_id",type:"select",value:E.course_id,onChange:se=>J(se.target.value),required:!0,disabled:!E.acc_id||o.length===0||w,options:w?[{value:"",label:"Loading courses..."}]:o.length>0?o.map(se=>{const he=se.id&&typeof se.id=="string"?parseInt(se.id):se.id;return{value:he,label:se.name||se.code||`Course ${he}`}}):E.acc_id?[{value:"",label:"No courses available for this ACC."}]:[{value:"",label:"Please select an ACC first."}],error:N.course_id}),!E.acc_id&&t.jsx("p",{className:"form-info-text",children:"Please select an ACC first to see available courses."}),E.acc_id&&o.length===0&&!w&&t.jsx("p",{className:"form-warning-text",children:"No courses available for the selected ACC."})]}),t.jsx(ve,{label:"Quantity",name:"quantity",type:"number",value:E.quantity,onChange:se=>T({...E,quantity:se.target.value}),required:!0,min:"1",error:N.quantity}),t.jsxs("div",{children:[p.length>0?t.jsx(ve,{label:"Discount Code (Optional)",name:"discount_code",type:"select",value:E.discount_code,onChange:se=>T({...E,discount_code:se.target.value}),disabled:v,options:[{value:"",label:"No discount code"},...p.map(se=>({value:se.code||se.discount_code||se.id,label:`${se.code||se.discount_code||`Code ${se.id}`}${se.discount_percentage?` - ${se.discount_percentage}% off`:""}${se.discount_amount?` - $${se.discount_amount} off`:""}`}))],error:N.discount_code,helpText:`${p.length} discount code${p.length>1?"s":""} available for this course`}):t.jsx(ve,{label:"Discount Code (Optional)",name:"discount_code",type:"text",value:E.discount_code,onChange:se=>T({...E,discount_code:se.target.value}),placeholder:"Enter discount code manually",disabled:v,error:N.discount_code,helpText:v?"Loading discount codes...":E.course_id?"No discount codes available. You can enter a code manually if you have one.":"Select a course first to see available discount codes"}),p.length>0&&t.jsxs("div",{className:"discount-codes-container",children:[t.jsx("p",{className:"discount-codes-title",children:"Available Discount Codes:"}),t.jsx("div",{className:"discount-codes-list",children:p.map((se,he)=>t.jsxs("div",{className:"discount-code-item",children:[t.jsx("span",{className:"discount-code-value",children:se.code||se.discount_code}),t.jsxs("div",{className:"discount-code-details",children:[se.discount_percentage&&t.jsxs("span",{className:"discount-code-percentage",children:[se.discount_percentage,"% off"]}),se.discount_amount&&t.jsxs("span",{className:"discount-code-amount",children:["$",se.discount_amount," off"]}),se.expires_at&&t.jsxs("span",{className:"discount-code-expiry",children:["Expires: ",new Date(se.expires_at).toLocaleDateString()]})]})]},se.id||he))})]})]}),t.jsxs("div",{className:"payment-info-container",children:[t.jsx("p",{className:"payment-info-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-info-text",children:'Payment will be processed securely through Stripe. The total amount will be calculated including any discounts. Click "Purchase Codes" below to enter your card details.'})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{P(!1),S({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:q||I||!E.acc_id||!E.course_id||!E.quantity,className:"form-btn form-btn-submit",children:q||I?"Processing...":"Purchase Codes"})]})]})}),t.jsx(ed,{isOpen:F,onClose:()=>{U(!1)},clientSecret:ne==null?void 0:ne.client_secret,paymentIntentId:ne==null?void 0:ne.payment_intent_id,amount:(ne==null?void 0:ne.final_amount)||0,currency:(ne==null?void 0:ne.currency)||"USD",paymentSummary:ne,onPaymentSuccess:async(se,he)=>{var be,_e,De,Ee,Ae;try{if(se&&se.status!=="succeeded"){S({general:`Payment not completed. Status: ${se.status}`});return}const Pe=parseInt(E.acc_id,10),Ne=parseInt(E.course_id,10),Ue=parseInt(E.quantity,10);if(isNaN(Pe)||isNaN(Ne)||isNaN(Ue)||Ue<1)throw S({general:"Invalid data. Please check your selections and try again."}),new Error("Invalid data");const oe={acc_id:Pe,course_id:Ne,quantity:Ue,payment_method:"credit_card",payment_intent_id:he||se.id};E.discount_code&&E.discount_code.trim()&&(oe.discount_code=E.discount_code.trim()),await Je.purchaseCodes(oe),await V(),P(!1),U(!1),H(null),alert("Codes purchased successfully!")}catch(Pe){if(console.error("Failed to purchase codes:",Pe),((be=Pe.response)==null?void 0:be.status)===400){const Ne=Pe.response.data;S({general:(Ne==null?void 0:Ne.message)||"Payment verification failed. Please contact support."})}else if(((_e=Pe.response)==null?void 0:_e.status)===402){const Ne=Pe.response.data;S({general:(Ne==null?void 0:Ne.message)||"Insufficient wallet balance. Please add funds to your wallet or use a different payment method."})}else if(((De=Pe.response)==null?void 0:De.status)===403){const Ne=Pe.response.data;S({general:(Ne==null?void 0:Ne.message)||"You do not have authorization from this ACC or the ACC is not active."})}else if(((Ee=Pe.response)==null?void 0:Ee.status)===422){const Ne=Pe.response.data;if(Ne.errors){const Ue={};Object.keys(Ne.errors).forEach(oe=>{Ue[oe]=Array.isArray(Ne.errors[oe])?Ne.errors[oe][0]:Ne.errors[oe]}),S(Ue)}else Ne.message?S({general:Ne.message}):S({general:"Validation failed. Please check your input."})}else if((Ae=Pe.response)!=null&&Ae.data){const Ne=Pe.response.data;if(Ne.errors){const Ue={};Object.keys(Ne.errors).forEach(oe=>{Ue[oe]=Array.isArray(Ne.errors[oe])?Ne.errors[oe][0]:Ne.errors[oe]}),S(Ue)}else Ne.message?S({general:Ne.message}):S({general:"Payment succeeded but failed to complete purchase. Please contact support."})}else S({general:"Payment succeeded but failed to complete purchase. Please contact support."});throw Pe}},onPaymentError:se=>{S({general:se})}})]})},u6=()=>{var Y;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState([]),[m,u]=c.useState([]),[p,f]=c.useState(!0),[x,y]=c.useState(!1),[w,j]=c.useState(!1),[v,h]=c.useState(null),[g,b]=c.useState("all"),[_,P]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[A,R]=c.useState({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:""}),[k,L]=c.useState({}),[$,C]=c.useState(!1);c.useEffect(()=>{E()},[]),c.useEffect(()=>(s("Certificates"),r("Manage and generate training certificates"),e(t.jsxs("button",{onClick:S,className:"header-create-btn",children:[t.jsx($s,{size:20}),"Generate Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const E=async()=>{try{f(!0);const[Z,z,O]=await Promise.all([Je.listCertificates({}),Je.listClasses(),Je.getCodeInventory({status:"available"})]);let M=[];Z.data?M=Z.data||[]:Z.certificates?M=Z.certificates||[]:M=Array.isArray(Z)?Z:[],n(M),l(z.classes||[]),d(O.codes||[])}catch(Z){console.error("Failed to load data:",Z),n([])}finally{f(!1)}},T=Z=>{P(z=>({...z,currentPage:Z}))},N=Z=>{P(z=>({...z,perPage:Z,currentPage:1}))},S=()=>{R({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),L({}),y(!0)},I=()=>{y(!1),R({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),L({}),u([])},D=Z=>{var M;const{name:z,value:O}=Z.target;if(z==="training_class_id"){const re=i.find(J=>J.id===parseInt(O));if(re){const J=typeof re.course=="object"?(M=re.course)==null?void 0:M.id:re.course,te=o.filter(K=>{var V;const ie=typeof K.course=="object"?(V=K.course)==null?void 0:V.id:K.course;return ie===J||ie==J});u(te),R({...A,training_class_id:O,code_id:""})}else u([]),R({...A,training_class_id:O,code_id:""})}else R({...A,[z]:O});k[Z.target.name]&&L(re=>{const J={...re};return delete J[Z.target.name],J})};c.useEffect(()=>{var Z;if(x&&A.training_class_id){const z=i.find(O=>O.id===parseInt(A.training_class_id));if(z){const O=typeof z.course=="object"?(Z=z.course)==null?void 0:Z.id:z.course,M=o.filter(re=>{var te;const J=typeof re.course=="object"?(te=re.course)==null?void 0:te.id:re.course;return J===O||J==O});u(M)}}else x&&!A.training_class_id&&u([])},[x,o,i]);const q=async Z=>{var z;Z.preventDefault(),C(!0),L({});try{const O={training_class_id:parseInt(A.training_class_id),code_id:parseInt(A.code_id),trainee_name:A.trainee_name.trim(),trainee_id_number:A.trainee_id_number.trim(),issue_date:A.issue_date||new Date().toISOString().split("T")[0]};await Je.generateCertificate(O),await E(),I(),P(M=>({...M,currentPage:1})),alert("Certificate generated successfully!")}catch(O){if(console.error("Failed to generate certificate:",O),(z=O.response)!=null&&z.data){const M=O.response.data;if(M.errors){const re={};Object.keys(M.errors).forEach(J=>{re[J]=Array.isArray(M.errors[J])?M.errors[J][0]:M.errors[J]}),L(re)}else M.message?L({general:M.message}):L(M)}else O.message?L({general:O.message}):L({general:"Failed to generate certificate. Please try again."})}finally{C(!1)}},X=async Z=>{try{const z=await Je.getCertificateDetails(Z.id);h(z.certificate||Z),j(!0)}catch(z){console.error("Failed to load certificate details:",z),h(Z),j(!0)}},ne=Z=>{Z.certificate_pdf_url?window.open(Z.certificate_pdf_url,"_blank"):alert("Certificate PDF not available")},H=c.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(Z,z)=>t.jsxs("div",{className:"certificate-number-container",children:[t.jsx("div",{className:"certificate-number-icon-container",children:t.jsx(tt,{className:"certificate-number-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"certificate-number-text",children:z.certificate_number||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:(Z,z)=>t.jsxs("div",{className:"trainee-container",children:[t.jsx(Xs,{className:"trainee-icon"}),z.trainee_name||"N/A"]})},{header:"Course",accessor:"course",sortable:!0,render:(Z,z)=>{var O;return t.jsxs("div",{className:"course-container",children:[t.jsx(ts,{className:"course-icon"}),typeof z.course=="object"?((O=z.course)==null?void 0:O.name)||"N/A":z.course||"N/A"]})}},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:(Z,z)=>t.jsxs("div",{className:"date-container",children:[t.jsx(At,{className:"date-icon"}),z.issue_date?new Date(z.issue_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(Z,z)=>{const O=z.status==="valid",M=O?Ke:ht;return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${O?"valid":"expired"}`,children:[t.jsx(M,{size:14,className:"status-icon"}),z.status?z.status.charAt(0).toUpperCase()+z.status.slice(1):"N/A"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Z,z)=>t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:O=>{O.stopPropagation(),X(z)},className:"action-btn action-btn-view",title:"View Details",children:t.jsx(Ot,{size:18})}),z.certificate_pdf_url?t.jsx("button",{onClick:O=>{O.stopPropagation(),ne(z)},className:"action-btn action-btn-download",title:"Download PDF",children:t.jsx(Oc,{size:18})}):t.jsx("button",{onClick:O=>{O.stopPropagation(),X(z)},className:"action-btn action-btn-download",title:"View Info",children:t.jsx(tt,{size:18})})]})}],[X,ne]),F=c.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:Z=>Z.status==="valid"},{value:"expired",label:"Expired",filterFn:Z=>Z.status==="expired"}],[]),U=c.useMemo(()=>a.map(Z=>{var M;const z=typeof Z.course=="object"?((M=Z.course)==null?void 0:M.name)||"":Z.course||"",O=[Z.certificate_number||"",Z.trainee_name||"",z,Z.verification_code||"",Z.status||""].filter(Boolean).join(" ").toLowerCase();return{...Z,_searchText:O}}),[a]);return c.useEffect(()=>{const Z=U.length,z=Math.ceil(Z/_.perPage)||1;P(O=>({...O,totalItems:Z,totalPages:z,currentPage:O.currentPage>z?1:O.currentPage}))},[U.length,_.perPage]),t.jsxs("div",{children:[t.jsxs("div",{className:"datatable-container",children:[t.jsx(ws,{columns:H,data:U,onRowClick:X,isLoading:p,emptyMessage:a.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(tt,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No certificates found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Generate your first certificate!"})]}):"No certificates found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by certificate number, trainee name, course, or verification code...",filterOptions:F,sortable:!0,defaultFilter:g}),!p&&_.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Pagination,{currentPage:_.currentPage,totalPages:_.totalPages,totalItems:_.totalItems,perPage:_.perPage,onPageChange:T,onPerPageChange:N})})]}),t.jsx(Be,{isOpen:x,onClose:I,title:"Generate Certificate",size:"lg",children:t.jsxs("form",{onSubmit:q,className:"modal-form",children:[k.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:k.general})}),t.jsx(ve,{label:"Training Class",name:"training_class_id",type:"select",value:A.training_class_id,onChange:D,required:!0,options:i.length>0?i.map(Z=>{var z;return{value:Z.id,label:`${typeof Z.course=="object"?(z=Z.course)==null?void 0:z.name:Z.course} - ${new Date(Z.start_date).toLocaleDateString()}`}}):[{value:"",label:"No classes available"}],error:k.training_class_id}),t.jsx(ve,{label:"Certificate Code",name:"code_id",type:"select",value:A.code_id,onChange:D,required:!0,disabled:!A.training_class_id||m.length===0,options:A.training_class_id?m.length>0?m.map(Z=>{var z;return{value:Z.id,label:`${Z.code} - ${typeof Z.course=="object"?(z=Z.course)==null?void 0:z.name:Z.course} (${Z.status})`}}):[{value:"",label:"No available codes for this class"}]:[{value:"",label:"Please select a training class first"}],error:k.code_id,helpText:A.training_class_id&&m.length===0?"No available codes match the selected training class":""}),t.jsxs("div",{className:"form-grid",children:[t.jsx(ve,{label:"Trainee Name",name:"trainee_name",value:A.trainee_name,onChange:D,required:!0,error:k.trainee_name}),t.jsx(ve,{label:"Trainee ID Number",name:"trainee_id_number",value:A.trainee_id_number,onChange:D,required:!0,error:k.trainee_id_number})]}),t.jsx(ve,{label:"Issue Date",name:"issue_date",type:"date",value:A.issue_date,onChange:D,required:!0,error:k.issue_date}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:I,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:$,className:"form-btn form-btn-submit",children:$?"Generating...":"Generate Certificate"})]})]})}),t.jsx(Be,{isOpen:w,onClose:()=>{j(!1),h(null)},title:"Certificate Details",size:"lg",children:v&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Certificate Number"}),t.jsx("p",{className:"detail-modal-value",children:v.certificate_number})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Verification Code"}),t.jsx("p",{className:"detail-modal-value detail-modal-value-mono",children:v.verification_code||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Trainee Name"}),t.jsx("p",{className:"detail-modal-value",children:v.trainee_name})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Course"}),t.jsx("p",{className:"detail-modal-value",children:typeof v.course=="object"?(Y=v.course)==null?void 0:Y.name:v.course})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Issue Date"}),t.jsx("p",{className:"detail-modal-value",children:v.issue_date?new Date(v.issue_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Expiry Date"}),t.jsx("p",{className:"detail-modal-value",children:v.expiry_date?new Date(v.expiry_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${v.status==="valid"?"valid":"expired"}`,children:v.status})]})]}),v.certificate_pdf_url&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>ne(v),className:"detail-modal-action-btn",children:[t.jsx(Oc,{size:20,className:"detail-modal-action-icon"}),"Download PDF"]})})]})})]})},m6=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{d()},[]),c.useEffect(()=>(e("Payment Transactions"),s("View all your payment transactions history"),()=>{e(null),s(null)}),[e,s]);const d=async()=>{try{i(!0);const x=(await Je.getWalletTransactions()).transactions||[];a(x)}catch(f){console.error("Failed to load data:",f),a([])}finally{i(!1)}},m=f=>{o(x=>({...x,currentPage:f}))},u=f=>{o(x=>({...x,perPage:f,currentPage:1}))};c.useEffect(()=>{const f=r.length,x=Math.ceil(f/l.perPage)||1,y=l.currentPage>x?Math.max(1,x):l.currentPage;o(w=>({...w,totalItems:f,totalPages:x,currentPage:y}))},[r.length,l.perPage]);const p=c.useMemo(()=>{const f=(l.currentPage-1)*l.perPage,x=f+l.perPage;return r.slice(f,x)},[r,l.currentPage,l.perPage]);return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):p.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(tt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your transaction history will appear here"})]})})}):p.map((f,x)=>{const y={completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Ke},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:nt},failed:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ht},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:ht}},w=y[f.status]||y.pending,j=w.icon,v=f.type==="deposit";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${x*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${v?"from-green-100 to-green-200":"from-red-100 to-red-200"}`,children:t.jsx(os,{className:`h-5 w-5 ${v?"text-green-600":"text-red-600"}`})}),t.jsx("div",{children:t.jsx("div",{className:`text-sm font-semibold group-hover:text-primary-700 transition-colors capitalize ${v?"text-green-700":"text-red-700"}`,children:f.type})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`text-lg font-bold ${v?"text-green-600":"text-red-600"}`,children:[v?"+":"-","$",parseFloat(f.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${w.bg} ${w.text} border ${w.border}`,children:[t.jsx(j,{size:14,className:"mr-1"}),f.status?f.status.charAt(0).toUpperCase()+f.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[t.jsx(At,{className:"h-4 w-4 mr-2 text-gray-400"}),f.created_at?new Date(f.created_at).toLocaleDateString():"N/A"]})})]},f.id||x)})})]})}),!n&&l.totalItems>0&&t.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:t.jsx(Ft,{currentPage:l.currentPage,totalPages:l.totalPages,totalItems:l.totalItems,perPage:l.perPage,onPageChange:m,onPerPageChange:u})})]})})},p6=()=>{const[e,s]=c.useState([]),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState("marketplace"),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(null),[y,w]=c.useState(!1);c.useEffect(()=>{j()},[l]);const j=async()=>{try{if(l==="marketplace"){const A=await Je.browseMaterials();s(A.materials||[])}else{const A=await Je.getLibrary();a(A.library||[])}}catch(A){console.error("Failed to load data:",A)}finally{i(!1)}},v=A=>{x(A),m(!0)},h=A=>{x(A),p(!0)},g=async()=>{w(!0);try{await Je.purchaseFromMarketplace({purchase_type:"material",item_id:f.id,acc_id:f.acc_id,payment_method:"credit_card"}),await j(),p(!1),alert("Purchase successful!")}catch(A){alert("Failed to purchase: "+(A.message||"Unknown error"))}finally{w(!1)}},b=A=>{var R;(R=A.item)!=null&&R.file_url?window.open(A.item.file_url,"_blank"):alert("File not available")},_=[{header:"Material",accessor:"name",render:(A,R)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:A}),t.jsx("div",{className:"text-sm text-gray-500",children:R.material_type})]})]})},{header:"ACC",accessor:"acc",render:A=>typeof A=="string"?A:(A==null?void 0:A.name)||"N/A"},{header:"Course",accessor:"course",render:A=>typeof A=="string"?A:(A==null?void 0:A.name)||"N/A"},{header:"Price",accessor:"price",render:A=>`$${parseFloat(A||0).toFixed(2)}`},{header:"Status",accessor:"status",render:A=>t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A})}],P=[{header:"Item",accessor:"item",render:(A,R)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(ac,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:(A==null?void 0:A.name)||"N/A"}),t.jsx("div",{className:"text-sm text-gray-500",children:R.purchase_type})]})]})},{header:"Type",accessor:"purchase_type",render:A=>A?A.charAt(0).toUpperCase()+A.slice(1):"N/A"},{header:"Purchased Date",accessor:"purchased_at",render:A=>A?new Date(A).toLocaleDateString():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Browse and purchase course materials"})]}),t.jsxs("div",{className:"mb-6 flex space-x-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{o("marketplace"),i(!0),j()},className:`px-4 py-2 font-medium ${l==="marketplace"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["Marketplace (",e.length,")"]}),t.jsxs("button",{onClick:()=>{o("library"),i(!0),j()},className:`px-4 py-2 font-medium ${l==="library"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["My Library (",r.length,")"]})]}),l==="marketplace"?t.jsx(ws,{columns:_,data:e,onView:v,onRowClick:v,isLoading:n,emptyMessage:"No materials available in marketplace."}):t.jsx(ws,{columns:P,data:r,onView:A=>b(A),onRowClick:A=>b(A),isLoading:n,emptyMessage:"No purchased items in library."}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),x(null)},title:"Material Details",size:"lg",children:f&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:f.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:f.material_type})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ACC"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:f.acc})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(f.price||0).toFixed(2)]})]})]}),f.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:f.description})]}),f.preview_url&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("a",{href:f.preview_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[t.jsx(Ot,{size:16,className:"mr-2"}),"View Preview"]})}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{m(!1),h(f)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(ap,{size:20,className:"mr-2"}),"Purchase"]})})]})}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),x(null)},title:"Confirm Purchase",size:"md",children:f&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to purchase ",t.jsx("strong",{children:f.name}),"?"]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(f.price||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{p(!1),x(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:g,disabled:y,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Processing...":"Confirm Purchase"})]})]})})]})},f6=()=>{var U,Y,Z,z,O,M,re,J;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState([]),[i,l]=c.useState(!0),[o,d]=c.useState(!1),[m,u]=c.useState(!1),[p,f]=c.useState(null),[x,y]=c.useState({payment_method:"credit_card",payment_intent_id:""}),[w,j]=c.useState({}),[v,h]=c.useState(!1),[g,b]=c.useState(null),[_,P]=c.useState(!1),[A,R]=c.useState(!1),[k,L]=c.useState("all"),[$,C]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});c.useEffect(()=>{E()},[$.currentPage,$.perPage]),c.useEffect(()=>(s("Instructor Authorizations"),r("View and pay for instructor authorization requests"),e(t.jsxs("button",{onClick:E,disabled:i,className:"header-refresh-btn",title:"Refresh data",children:[t.jsx(jv,{size:18,className:i?"animate-spin":""}),"Refresh"]})),()=>{e(null),s(null),r(null)}),[e,s,r,i]),c.useEffect(()=>{a.length>0?console.log("Authorizations loaded:",a):i||console.log("No authorizations found. Make sure you have requested authorization for instructors.")},[a,i]);const E=async()=>{var te,K,ie,V;try{l(!0);const ae={page:$.currentPage,per_page:$.perPage};try{const ce=await Je.getInstructorAuthorizations(ae);console.log("Instructor Authorizations API Response:",ce);let B=[],pe=0,W=1;ce!=null&&ce.authorizations?(B=ce.authorizations,pe=ce.total||ce.total_items||B.length,W=ce.total_pages||ce.last_page||Math.ceil(pe/$.perPage)||1):(te=ce==null?void 0:ce.data)!=null&&te.authorizations?(B=ce.data.authorizations,pe=ce.data.total||ce.data.total_items||B.length,W=ce.data.total_pages||ce.data.last_page||Math.ceil(pe/$.perPage)||1):Array.isArray(ce==null?void 0:ce.data)?(B=ce.data,pe=ce.total||ce.total_items||B.length,W=ce.total_pages||ce.last_page||Math.ceil(pe/$.perPage)||1):Array.isArray(ce)&&(B=ce,pe=B.length,W=Math.ceil(pe/$.perPage)||1),console.log("Processed authorizations:",B),n(B),C(ge=>({...ge,totalItems:pe,totalPages:W,currentPage:ge.currentPage>W?1:ge.currentPage}));return}catch(ce){if(((K=ce.response)==null?void 0:K.status)===404){console.warn("Main endpoint not found, trying alternative endpoint...");try{const B=await Je.getAuthorizationStatus(ae);console.log("Alternative API Response:",B);const W=((B==null?void 0:B.authorizations)||(B==null?void 0:B.data)||[]).filter(ge=>ge.instructor_id||ge.instructor||ge.type==="instructor");if(W.length>0){n(W);const ge=W.length,G=Math.ceil(ge/$.perPage)||1;C(ue=>({...ue,totalItems:ge,totalPages:G,currentPage:ue.currentPage>G?1:ue.currentPage}));return}}catch(B){console.warn("Alternative endpoint also failed:",B)}}throw ce}}catch(ae){console.error("Failed to load authorizations:",ae),console.error("Error details:",{status:(ie=ae.response)==null?void 0:ie.status,data:(V=ae.response)==null?void 0:V.data,message:ae.message}),n([]),C(ce=>({...ce,totalItems:0,totalPages:1}))}finally{l(!1)}},T=te=>{if(te.status!=="approved"||te.group_admin_status!=="commission_set"){alert("This authorization is not ready for payment. Please wait for Group Admin approval.");return}if(te.payment_status==="paid"){alert("This authorization has already been paid.");return}f(te),y({payment_method:"credit_card",payment_intent_id:""}),j({}),b(null),d(!0)},N=async(te,K)=>{var ie,V,ae;if(!p){j({general:"No authorization selected"});return}try{const ce={payment_method:"credit_card",payment_intent_id:K||te.id};if(te&&te.status!=="succeeded"){j({general:`Payment not completed. Status: ${te.status}`});return}await Je.payInstructorAuthorization(p.id,ce),await E(),d(!1),R(!1),f(null),b(null),alert("Payment successful. Instructor is now officially authorized.")}catch(ce){if(console.error("Failed to complete authorization payment:",ce),((ie=ce.response)==null?void 0:ie.status)===400){const B=ce.response.data;j({general:(B==null?void 0:B.message)||"Payment verification failed. Please contact support."})}else if(((V=ce.response)==null?void 0:V.status)===422){const B=ce.response.data;if(B.errors){const pe={};Object.keys(B.errors).forEach(W=>{pe[W]=Array.isArray(B.errors[W])?B.errors[W][0]:B.errors[W]}),j(pe)}else j({general:(B==null?void 0:B.message)||"Validation failed. Please check your input."})}else if((ae=ce.response)!=null&&ae.data){const B=ce.response.data;B.message?j({general:B.message}):j({general:"Payment succeeded but failed to complete authorization. Please contact support."})}else j({general:"Payment succeeded but failed to complete authorization. Please contact support."});throw ce}},S=async()=>{var K,ie,V,ae;if(!p){j({general:"No authorization selected"});return}const te=parseFloat(p.authorization_price||0);if(isNaN(te)||te<=0){j({general:"Invalid authorization price. Please contact support."});return}P(!0),j({}),b(null);try{const ce=await Je.createInstructorAuthorizationPaymentIntent(p.id,{authorization_price:te});ce.success&&ce.client_secret&&ce.payment_intent_id?(b({...ce,commission_amount:ce.commission_amount,provider_amount:ce.provider_amount,payment_type:ce.payment_type||"standard"}),y(B=>({...B,payment_intent_id:ce.payment_intent_id})),R(!0)):j({general:"Failed to create payment intent. Invalid response from server."})}catch(ce){if(console.error("Failed to create payment intent:",ce),((K=ce.response)==null?void 0:K.status)===422){const B=ce.response.data;if(B.errors){const pe={};Object.keys(B.errors).forEach(W=>{pe[W]=Array.isArray(B.errors[W])?B.errors[W][0]:B.errors[W]}),j(pe)}else B.message?j({general:B.message}):j({general:"Validation failed. Please check your input."})}else if(((ie=ce.response)==null?void 0:ie.status)===400){const B=ce.response.data;j({general:(B==null?void 0:B.message)||"Payment service unavailable. Please contact support."})}else if(((V=ce.response)==null?void 0:V.status)===500){const B=ce.response.data;j({general:(B==null?void 0:B.message)||"Failed to create payment intent. Please try again later."})}else if((ae=ce.response)!=null&&ae.data){const B=ce.response.data;if(B.errors){const pe={};Object.keys(B.errors).forEach(W=>{pe[W]=Array.isArray(B.errors[W])?B.errors[W][0]:B.errors[W]}),j(pe)}else B.message?j({general:B.message}):j({general:"Failed to create payment intent. Please try again."})}else ce.message?j({general:ce.message}):j({general:"Failed to create payment intent. Please try again."})}finally{P(!1)}},I=async te=>{te.preventDefault(),p&&await S()},D=te=>{f(te),u(!0)},q=te=>{C(K=>({...K,currentPage:te}))},X=te=>{C(K=>({...K,perPage:te,currentPage:1}))},ne=c.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:(te,K)=>{var ie,V,ae;return t.jsxs("div",{className:"instructor-container",children:[t.jsx("div",{className:"instructor-icon-container",children:t.jsx(dt,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructor-name",children:[(ie=K.instructor)==null?void 0:ie.first_name," ",(V=K.instructor)==null?void 0:V.last_name]}),((ae=K.instructor)==null?void 0:ae.email)&&t.jsx("div",{className:"instructor-email",children:K.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:(te,K)=>{var ie;return t.jsxs("div",{className:"acc-container",children:[t.jsx(Xe,{className:"acc-icon"}),((ie=K.acc)==null?void 0:ie.name)||"N/A"]})}},{header:"Courses",accessor:"courses",sortable:!1,render:(te,K)=>{var ie,V;return t.jsx("div",{className:"courses-container",children:K.courses&&Array.isArray(K.courses)&&K.courses.length>0?K.courses.map((ae,ce)=>t.jsxs("div",{className:"course-item",children:[t.jsx(ts,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof ae=="object"?(ae==null?void 0:ae.name)||(ae==null?void 0:ae.course_name)||"N/A":ae||"N/A"})]},ce)):K.course?t.jsxs("div",{className:"course-item",children:[t.jsx(ts,{className:"course-icon"}),t.jsx("span",{className:"course-text",children:typeof K.course=="object"?((ie=K.course)==null?void 0:ie.name)||((V=K.course)==null?void 0:V.course_name)||"N/A":K.course||"N/A"})]}):t.jsx("span",{className:"course-na",children:"N/A"})})}},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:(te,K)=>t.jsxs("div",{className:"price-container",children:[t.jsx(os,{className:"price-icon"}),parseFloat(K.authorization_price||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!0,render:(te,K)=>{const ie=K.status==="approved"?"approved":K.status==="rejected"?"rejected":K.status==="returned"?"returned":"pending";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${ie}`,children:[K.status==="pending"&&t.jsx(nt,{size:12,className:"status-icon"}),K.status==="approved"&&t.jsx(Ke,{size:12,className:"status-icon"}),K.status?K.status.charAt(0).toUpperCase()+K.status.slice(1):"N/A"]})})}},{header:"Payment Status",accessor:"payment_status",sortable:!0,render:(te,K)=>{const ie=K.payment_status==="paid"?"paid":K.payment_status==="failed"?"failed":"pending";return t.jsx("div",{className:"payment-status-container",children:t.jsxs("span",{className:`payment-status-badge ${ie}`,children:[K.payment_status==="pending"&&t.jsx(nt,{size:12,className:"payment-status-icon"}),K.payment_status==="paid"&&t.jsx(Ke,{size:12,className:"payment-status-icon"}),K.payment_status==="failed"&&t.jsx(ln,{size:12,className:"payment-status-icon"}),K.payment_status?K.payment_status.charAt(0).toUpperCase()+K.payment_status.slice(1):"Pending"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(te,K)=>{const ie=K.status==="approved"&&K.group_admin_status==="commission_set"&&K.payment_status==="pending";return t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:V=>{V.stopPropagation(),D(K)},className:"action-btn-view",title:"View Details",children:t.jsx(Ot,{size:16})}),ie&&t.jsx("button",{onClick:V=>{V.stopPropagation(),T(K)},className:"action-btn-pay",title:"Pay Authorization",children:t.jsx(Bs,{size:16})})]})}}],[T,D]),H=c.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"pending",label:"Pending",filterFn:te=>te.status==="pending"},{value:"approved",label:"Approved",filterFn:te=>te.status==="approved"},{value:"rejected",label:"Rejected",filterFn:te=>te.status==="rejected"},{value:"returned",label:"Returned",filterFn:te=>te.status==="returned"}],[]),F=c.useMemo(()=>a.map(te=>{var pe,W,ge,G,ue,fe,se;const K=`${((pe=te.instructor)==null?void 0:pe.first_name)||""} ${((W=te.instructor)==null?void 0:W.last_name)||""}`.trim(),ie=((ge=te.instructor)==null?void 0:ge.email)||"",V=((G=te.acc)==null?void 0:G.name)||"",ae=((ue=te.training_center)==null?void 0:ue.name)||"",ce=te.courses&&Array.isArray(te.courses)?te.courses.map(he=>typeof he=="object"?(he==null?void 0:he.name)||(he==null?void 0:he.course_name)||"":he||"").join(" "):te.course?typeof te.course=="object"?((fe=te.course)==null?void 0:fe.name)||((se=te.course)==null?void 0:se.course_name)||"":te.course||"":"",B=[K,ie,V,ae,ce,te.authorization_price||"",te.status||"",te.payment_status||""].filter(Boolean).join(" ").toLowerCase();return{...te,_searchText:B}}),[a]);return t.jsxs("div",{children:[t.jsxs("div",{className:"datatable-container",children:[t.jsx(ws,{columns:ne,data:F,onRowClick:D,isLoading:i,emptyMessage:a.length===0&&!i?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(dt,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No authorization requests found"}),t.jsx("p",{className:"empty-state-subtitle",children:"To see authorizations here, you need to request authorization for an instructor first"}),t.jsxs("div",{className:"empty-state-help",children:[t.jsx("p",{className:"empty-state-help-title",children:" How to get started:"}),t.jsxs("ol",{className:"empty-state-help-list",children:[t.jsxs("li",{children:["Go to ",t.jsx("strong",{children:"Instructors"})," page and create/add an instructor"]}),t.jsxs("li",{children:["Click ",t.jsx("strong",{children:"Request Authorization"})," button for that instructor"]}),t.jsx("li",{children:"Select an ACC and courses for authorization"}),t.jsx("li",{children:"Wait for ACC Admin to approve and set authorization price"}),t.jsx("li",{children:"Wait for Group Admin approval"}),t.jsx("li",{children:"Then come back here to complete payment!"})]}),t.jsx("div",{className:"empty-state-help-note",children:t.jsxs("p",{className:"empty-state-help-note-text",children:[t.jsx("strong",{children:"Note:"})," Authorizations will only appear here after you've submitted a request and it's been approved by ACC Admin."]})})]})]}):"No authorizations found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by instructor name, ACC, course, or training center...",filterOptions:H,sortable:!0,defaultFilter:k}),!i&&$.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Ft,{currentPage:$.currentPage,totalPages:$.totalPages,totalItems:$.totalItems,perPage:$.perPage,onPageChange:q,onPerPageChange:X})})]}),t.jsx(Be,{isOpen:o,onClose:()=>{d(!1),f(null),j({})},title:"Pay Instructor Authorization",size:"md",children:t.jsxs("form",{onSubmit:I,className:"payment-modal-form",children:[w.general&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"payment-error-text",children:w.general})}),p&&t.jsxs("div",{className:"payment-info-container",children:[t.jsxs("p",{className:"payment-info-text",children:["Instructor: ",t.jsxs("span",{className:"payment-info-value",children:[(U=p.instructor)==null?void 0:U.first_name," ",(Y=p.instructor)==null?void 0:Y.last_name]})]}),t.jsxs("p",{className:"payment-info-text",children:["ACC: ",t.jsx("span",{className:"payment-info-value",children:(Z=p.acc)==null?void 0:Z.name})]}),t.jsxs("p",{className:"payment-info-text",children:["Authorization Price: ",t.jsxs("span",{className:"payment-info-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-method-info",children:[t.jsx("p",{className:"payment-method-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-method-text",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'}),t.jsxs("p",{className:"payment-method-price",children:[t.jsx("strong",{children:"Authorization Price:"})," $",parseFloat((p==null?void 0:p.authorization_price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"payment-modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>{d(!1),f(null),j({})},className:"payment-modal-btn payment-modal-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:_||v||!p,className:"payment-modal-btn payment-modal-btn-submit",children:_||v?"Processing...":"Pay Now"})]})]})}),t.jsx(Be,{isOpen:m,onClose:()=>{u(!1),f(null)},title:"Authorization Details",size:"lg",children:p&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Instructor"}),t.jsxs("p",{className:"detail-modal-value",children:[(z=p.instructor)==null?void 0:z.first_name," ",(O=p.instructor)==null?void 0:O.last_name]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"ACC"}),t.jsx("p",{className:"detail-modal-value",children:((M=p.acc)==null?void 0:M.name)||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Courses"}),t.jsx("div",{className:"detail-modal-courses-list",children:p.courses&&Array.isArray(p.courses)&&p.courses.length>0?p.courses.map((te,K)=>t.jsx("p",{className:"detail-modal-value",children:typeof te=="object"?(te==null?void 0:te.name)||(te==null?void 0:te.course_name)||"N/A":te||"N/A"},K)):p.course?t.jsx("p",{className:"detail-modal-value",children:typeof p.course=="object"?((re=p.course)==null?void 0:re.name)||((J=p.course)==null?void 0:J.course_name)||"N/A":p.course||"N/A"}):t.jsx("p",{className:"detail-modal-value",children:"N/A"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Authorization Price"}),t.jsxs("p",{className:"detail-modal-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${p.status==="approved"?"approved":p.status==="rejected"?"rejected":p.status==="returned"?"returned":"pending"}`,children:p.status})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Payment Status"}),t.jsx("span",{className:`detail-modal-badge ${p.payment_status==="paid"?"paid":p.payment_status==="failed"?"failed":"pending"}`,children:p.payment_status||"pending"})]})]}),p.group_admin_status&&t.jsxs("div",{className:"detail-modal-group-admin",children:[t.jsx("p",{className:"detail-modal-group-admin-title",children:"Group Admin Status"}),t.jsxs("p",{className:"detail-modal-group-admin-text",children:[p.group_admin_status==="pending"&&"Waiting for Group Admin approval",p.group_admin_status==="commission_set"&&"Ready for payment",p.group_admin_status==="completed"&&"Authorization completed"]})]}),p.status==="approved"&&p.group_admin_status==="commission_set"&&p.payment_status==="pending"&&t.jsx("div",{className:"detail-modal-pay-section",children:t.jsxs("button",{onClick:()=>{u(!1),T(p)},className:"detail-modal-pay-btn",children:[t.jsx(Bs,{size:20,className:"detail-modal-pay-icon"}),"Pay Authorization"]})})]})}),t.jsx(ed,{isOpen:A,onClose:()=>{R(!1)},clientSecret:g==null?void 0:g.client_secret,paymentIntentId:g==null?void 0:g.payment_intent_id,amount:(g==null?void 0:g.amount)||(p==null?void 0:p.authorization_price)||0,currency:(g==null?void 0:g.currency)||"USD",paymentSummary:g,onPaymentSuccess:N,onPaymentError:te=>{j({general:te})}})]})},h6=()=>{var C,E,T;const{setHeaderTitle:e,setHeaderSubtitle:s}=ct(),[r,a]=c.useState([]),[n,i]=c.useState(null),[l,o]=c.useState(!0),[d,m]=c.useState(!1),[u,p]=c.useState(null),[f,x]=c.useState(""),[y,w]=c.useState("all"),[j,v]=c.useState("all");c.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),c.useEffect(()=>{h()},[]);const h=async()=>{var N,S;o(!0);try{const I=await Je.getPaymentTransactions({}),D=(I==null?void 0:I.data)||I||[],q=(I==null?void 0:I.summary)||null;a(Array.isArray(D)?D:(D==null?void 0:D.data)||[]),i(q)}catch(I){console.error("Failed to load transactions:",I),(S=(N=I==null?void 0:I.response)==null?void 0:N.data)!=null&&S.message||I!=null&&I.message,console.error("Error details:",I),a([]),i(null)}finally{o(!1)}},g=N=>{p(N),m(!0)},b=c.useMemo(()=>r.map(N=>{var U,Y;const S=N.transaction_type||"",I=String(N.amount||""),D=N.currency||"",q=N.status||"",X=N.description||"",ne=((U=N.payer)==null?void 0:U.name)||"",H=((Y=N.payee)==null?void 0:Y.name)||"",F=[S,I,D,q,X,ne,H].filter(Boolean).join(" ").toLowerCase();return{...N,_searchText:F}}),[r]),_=c.useMemo(()=>{let N=[...b];if(y!=="all"&&(N=N.filter(S=>S.transaction_type===y)),j!=="all"&&(N=N.filter(S=>S.status===j)),f){const S=f.toLowerCase();N=N.filter(I=>I._searchText?I._searchText.includes(S):!0)}return N},[b,y,j,f]),P=c.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(N,S)=>{const I=$(S);return t.jsxs("div",{className:"type-column",children:[t.jsx("div",{className:`type-icon-container ${I?"received":"sent"}`,children:I?t.jsx(rp,{className:"type-icon received",size:20}):t.jsx(Lc,{className:"type-icon sent",size:20})}),t.jsx("div",{children:t.jsx("div",{className:"type-label",children:L(S.transaction_type)})})]})}},{header:"Payer",accessor:"payer",sortable:!0,render:(N,S)=>S.payer?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payer",children:S.payer.type==="acc"||S.payer.type==="training_center"?t.jsx(Xe,{className:"payer-payee-icon payer",size:16}):t.jsx(Xs,{className:"payer-payee-icon payer",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:S.payer.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:S.payer.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:(N,S)=>S.payee?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payee",children:S.payee.type==="acc"||S.payee.type==="training_center"?t.jsx(Xe,{className:"payer-payee-icon payee",size:16}):t.jsx(Xs,{className:"payer-payee-icon payee",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:S.payee.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:S.payee.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(N,S)=>t.jsxs("div",{className:`amount-column ${$(S)?"received":"sent"}`,children:[$(S)?"+":"-"," ",A(S.amount,S.currency)]})},{header:"Status",accessor:"status",sortable:!0,render:(N,S)=>{var q,X;const I=S.status||"",D=I==="completed"?"completed":I==="pending"?"pending":I==="failed"?"failed":"refunded";return t.jsx("span",{className:`status-badge ${D}`,children:((q=S.status)==null?void 0:q.charAt(0).toUpperCase())+((X=S.status)==null?void 0:X.slice(1))||"N/A"})}},{header:"Date",accessor:"created_at",sortable:!0,render:(N,S)=>t.jsxs("div",{className:"date-column",children:[t.jsx(At,{className:"date-icon",size:16}),R(S.created_at)]})}],[]),A=(N,S="USD")=>`${parseFloat(N||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${S}`,R=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",k=N=>N?new Date(N).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",L=N=>(N==null?void 0:N.split("_").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "))||"N/A",$=N=>N.payee&&N.payee.type==="training_center";return t.jsxs("div",{className:"payment-transactions-container",children:[n&&t.jsxs("div",{className:"summary-cards-grid",children:[t.jsx(js,{name:"Total Transactions",value:n.total_transactions||0,icon:cr,colorType:"indigo"}),t.jsx(js,{name:"Total Spent",value:A(n.total_spent||0),icon:Lc,colorType:"red"})]}),t.jsx("div",{className:"search-filters-section",children:t.jsxs("div",{className:"search-filters-container",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(It,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by type, amount, status, payer, payee...",value:f,onChange:N=>x(N.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Et,{className:"filter-icon",size:20}),t.jsxs("select",{value:y,onChange:N=>w(N.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(Et,{className:"filter-icon",size:20}),t.jsxs("select",{value:j,onChange:N=>v(N.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),t.jsx("div",{className:"datatable-container",children:t.jsx(ws,{columns:P,data:_,onView:g,onRowClick:g,isLoading:l,emptyMessage:r.length===0&&!l?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsx(cr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-text",children:"No transactions found"}),t.jsx("p",{className:"empty-state-subtext",children:"No transactions available"})]}):"No transactions found matching your filters",searchable:!1,filterable:!1,sortable:!0})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),p(null)},title:"Transaction Details",size:"lg",children:u&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value",children:L(u.transaction_type)})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${u.status==="completed"?"completed":u.status==="pending"?"pending":u.status==="failed"?"failed":"refunded"}`,children:((C=u.status)==null?void 0:C.charAt(0).toUpperCase())+((E=u.status)==null?void 0:E.slice(1))||"N/A"})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Amount"}),t.jsxs("p",{className:`modal-amount ${$(u)?"received":"sent"}`,children:[$(u)?"+":"-"," ",A(u.amount,u.currency)]})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Payment Method"}),t.jsx("p",{className:"modal-value capitalize",children:((T=u.payment_method)==null?void 0:T.replace("_"," "))||"N/A"})]})]}),u.payer&&t.jsxs("div",{className:"payer-info-section",children:[t.jsx("p",{className:"info-section-title payer",children:"Payer Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Xe,{className:"info-section-icon payer",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:u.payer.name})]}),u.payer.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:u.payer.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:u.payer.type})]})]})]}),u.payee&&t.jsxs("div",{className:"payee-info-section",children:[t.jsx("p",{className:"info-section-title payee",children:"Payee Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Xe,{className:"info-section-icon payee",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:u.payee.name})]}),u.payee.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:u.payee.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:u.payee.type})]})]})]}),u.description&&t.jsxs("div",{className:"description-section",children:[t.jsx("p",{className:"modal-label",children:"Description"}),t.jsx("p",{className:"description-text",children:u.description})]}),u.reference&&t.jsxs("div",{className:"reference-section",children:[t.jsx("p",{className:"reference-title",children:"Reference Information"}),t.jsxs("div",{className:"reference-content",children:[t.jsxs("div",{children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",style:{marginLeft:"0.5rem"},children:u.reference.type})]}),u.reference.details&&t.jsx("div",{className:"reference-details-box",children:t.jsx("pre",{className:"reference-details-pre",children:JSON.stringify(u.reference.details,null,2)})})]})]}),t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Created At"}),t.jsx("p",{className:"modal-value",children:k(u.created_at)})]}),u.completed_at&&t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Completed At"}),t.jsx("p",{className:"modal-value",children:k(u.completed_at)})]})]}),u.payment_gateway_transaction_id&&t.jsxs("div",{className:"payment-gateway-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"modal-value modal-mono",children:u.payment_gateway_transaction_id})]})]})})]})},g6=()=>{var E,T,N;const[e]=yd(),s=e.get("status"),[r,a]=c.useState([]),[n,i]=c.useState(!0),[l,o]=c.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[d,m]=c.useState(!1),[u,p]=c.useState(!1),[f,x]=c.useState(null),[y,w]=c.useState({completion_rate_percentage:"",notes:""}),j=()=>s?s==="scheduled"?"scheduled":s==="completed"?"completed":"all":"all",[v,h]=c.useState(()=>j());c.useEffect(()=>{g()},[l.currentPage,l.perPage]),c.useEffect(()=>{const S=j();h(S)},[s]);const g=async()=>{i(!0);try{const S={page:l.currentPage,per_page:l.perPage},I=await As.listClasses(S);let D=[];I.data?(D=I.data||[],o(q=>({...q,totalPages:I.last_page||I.total_pages||1,totalItems:I.total||0}))):I.classes?(D=I.classes||[],o(q=>{var X;return{...q,totalPages:1,totalItems:((X=I.classes)==null?void 0:X.length)||0}})):(D=Array.isArray(I)?I:[],o(q=>({...q,totalPages:1,totalItems:D.length}))),a(D)}catch(S){console.error("Failed to load classes:",S),a([])}finally{i(!1)}},b=S=>{o(I=>({...I,currentPage:S}))},_=S=>{o(I=>({...I,perPage:S,currentPage:1}))},P=async S=>{try{const I=await As.getClassDetails(S.id);x(I.class),m(!0)}catch(I){console.error("Failed to load class details:",I),x(S),m(!0)}},A=S=>{x(S),w({completion_rate_percentage:"",notes:""}),p(!0)},R=async()=>{if(!y.completion_rate_percentage){alert("Please enter completion rate percentage");return}try{await As.markClassComplete(f.id,y),await g(),p(!1),x(null),w({completion_rate_percentage:"",notes:""}),o(S=>({...S,currentPage:1})),alert("Class marked as complete!")}catch(S){alert("Failed to mark complete: "+(S.message||"Unknown error"))}},k=S=>S==="completed"?"status-completed":S==="scheduled"?"status-scheduled":"status-default",L=S=>S==="completed"?"modal-status-completed":S==="scheduled"?"modal-status-scheduled":"modal-status-default",$=[{header:"Course",accessor:"course",render:(S,I)=>{var q;const D=typeof S=="string"?S:(S==null?void 0:S.name)||((q=I.course)==null?void 0:q.name)||"N/A";return t.jsxs("div",{className:"course-cell",children:[t.jsx(es,{className:"course-icon"}),t.jsx("span",{className:"course-name",children:D})]})}},{header:"Training Center",accessor:"training_center",render:S=>typeof S=="string"?S:(S==null?void 0:S.name)||"N/A"},{header:"Start Date",accessor:"start_date",render:S=>S?new Date(S).toLocaleDateString():"N/A"},{header:"End Date",accessor:"end_date",render:S=>S?new Date(S).toLocaleDateString():"N/A"},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`status-badge ${k(S)}`,children:S})},{header:"Enrolled",accessor:"enrolled_count",render:(S,I)=>{var D;return`${S||0}/${((D=I.course)==null?void 0:D.max_capacity)||"N/A"}`}}],C=[{value:"all",label:"All Classes"},{value:"scheduled",label:"Scheduled",filterFn:S=>S.status==="scheduled"},{value:"completed",label:"Completed",filterFn:S=>S.status==="completed"}];return t.jsxs("div",{children:[t.jsx(ws,{columns:$,data:r,onView:P,onRowClick:P,isLoading:n,emptyMessage:"No classes assigned yet.",searchable:!0,filterable:!0,filterOptions:C,sortable:!0,searchPlaceholder:"Search classes...",defaultFilter:v}),!n&&l.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(Ft,{currentPage:l.currentPage,totalPages:l.totalPages,totalItems:l.totalItems,perPage:l.perPage,onPageChange:b,onPerPageChange:_})}),t.jsx(Be,{isOpen:d,onClose:()=>{m(!1),x(null)},title:"Class Details",size:"lg",children:f&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(es,{size:16,className:"modal-field-label-icon"}),"Course"]}),t.jsx("p",{className:"modal-field-value",children:typeof f.course=="string"?f.course:((E=f.course)==null?void 0:E.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Training Center"}),t.jsx("p",{className:"modal-field-value",children:typeof f.training_center=="string"?f.training_center:((T=f.training_center)==null?void 0:T.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(At,{size:16,className:"modal-field-label-icon"}),"Start Date"]}),t.jsx("p",{className:"modal-field-value",children:f.start_date?new Date(f.start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(At,{size:16,className:"modal-field-label-icon"}),"End Date"]}),t.jsx("p",{className:"modal-field-value",children:f.end_date?new Date(f.end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(dt,{size:16,className:"modal-field-label-icon"}),"Enrollment"]}),t.jsxs("p",{className:"modal-field-value",children:[f.enrolled_count||0," / ",((N=f.course)==null?void 0:N.max_capacity)||"N/A"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Status"}),t.jsx("span",{className:`modal-status-badge ${L(f.status)}`,children:f.status})]})]}),f.location_details&&t.jsxs("div",{className:"location-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(Wt,{size:16,className:"modal-field-label-icon"}),"Location"]}),t.jsx("p",{className:"modal-field-value",children:f.location_details})]}),f.materials&&f.materials.length>0&&t.jsxs("div",{className:"materials-section",children:[t.jsx("h3",{className:"materials-title",children:"Course Materials"}),t.jsx("div",{className:"materials-list",children:f.materials.map((S,I)=>t.jsxs("div",{className:"material-item",children:[t.jsx("p",{className:"material-name",children:S.name}),S.file_url&&t.jsx("a",{href:S.file_url,target:"_blank",rel:"noopener noreferrer",className:"material-link",children:"Download"})]},I))})]}),f.status!=="completed"&&t.jsx("div",{className:"modal-actions",children:t.jsxs("button",{onClick:()=>{m(!1),A(f)},className:"complete-button",children:[t.jsx(Ke,{size:20,className:"complete-button-icon"}),"Mark as Complete"]})})]})}),t.jsx(Be,{isOpen:u,onClose:()=>{p(!1),x(null),w({completion_rate_percentage:"",notes:""})},title:"Mark Class as Complete",size:"md",children:t.jsxs("div",{className:"complete-modal-content",children:[t.jsx(ve,{label:"Completion Rate (%)",name:"completion_rate_percentage",type:"number",value:y.completion_rate_percentage,onChange:S=>w({...y,completion_rate_percentage:S.target.value}),required:!0,min:"0",max:"100",placeholder:"e.g., 95"}),t.jsx(ve,{label:"Notes (Optional)",name:"notes",value:y.notes,onChange:S=>w({...y,notes:S.target.value}),textarea:!0,rows:4,placeholder:"Add any notes about the class completion..."}),t.jsxs("div",{className:"complete-modal-actions",children:[t.jsx("button",{onClick:()=>{p(!1),x(null),w({completion_rate_percentage:"",notes:""})},className:"cancel-button",children:"Cancel"}),t.jsx("button",{onClick:R,className:"confirm-button",children:"Mark Complete"})]})]})})]})},x6=()=>{var f;const[e,s]=c.useState([]),[r,a]=c.useState(!0),[n,i]=c.useState(!1),[l,o]=c.useState(null);c.useEffect(()=>{d()},[]);const d=async()=>{try{const x=await As.getAvailableMaterials();s(x.materials||[])}catch(x){console.error("Failed to load materials:",x)}finally{a(!1)}},m=x=>{o(x),i(!0)},u=x=>{x.file_url?window.open(x.file_url,"_blank"):alert("File not available")},p=[{header:"Material",accessor:"name",render:(x,y)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(tt,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:x}),t.jsx("div",{className:"text-sm text-gray-500",children:y.material_type})]})]})},{header:"Course",accessor:"course",render:x=>typeof x=="string"?x:(x==null?void 0:x.name)||"N/A"},{header:"Type",accessor:"material_type",render:x=>x?x.toUpperCase():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Access course materials for your classes"})]}),t.jsx(ws,{columns:p,data:e,onView:m,onRowClick:m,isLoading:r,emptyMessage:"No materials available."}),t.jsx(Be,{isOpen:n,onClose:()=>{i(!1),o(null)},title:"Material Details",size:"md",children:l&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:l.course})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((f=l.material_type)==null?void 0:f.toUpperCase())||"N/A"})]}),l.file_url&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>u(l),className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(Oc,{size:20,className:"mr-2"}),"Download"]})})]})})]})},y6=()=>{const[e,s]=c.useState([]),[r,a]=c.useState(null),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(null);c.useEffect(()=>{u()},[]);const u=async()=>{try{const x=await As.getEarnings();s(x.earnings||[]),a(x.summary)}catch(x){console.error("Failed to load earnings:",x)}finally{i(!1)}},p=x=>{m(x),o(!0)},f=[{header:"Certificate",accessor:"certificate",render:(x,y)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(os,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:x})]})},{header:"Amount",accessor:"amount",render:x=>`$${parseFloat(x||0).toFixed(2)}`},{header:"Commission %",accessor:"commission_percentage",render:x=>`${x||0}%`},{header:"Status",accessor:"status",render:x=>{const y={paid:{bg:"bg-green-100",text:"text-green-800",icon:Ke},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:nt}},w=y[x]||y.pending,j=w.icon;return t.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${w.bg} ${w.text}`,children:[t.jsx(j,{size:12,className:"mr-1"}),x]})}},{header:"Paid Date",accessor:"paid_at",render:x=>x?new Date(x).toLocaleDateString():"-"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View your earnings and payment history"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(os,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-green-100 mb-2",children:"Total Earnings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(nt,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-yellow-100 mb-2",children:"Pending"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.pending||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Ke,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-blue-100 mb-2",children:"Paid"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.paid||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsx(ws,{columns:f,data:e,onView:p,onRowClick:p,isLoading:n,emptyMessage:"No earnings found."}),t.jsx(Be,{isOpen:l,onClose:()=>{o(!1),m(null)},title:"Earning Details",size:"md",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Certificate"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:d.certificate})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(d.amount||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[d.commission_percentage||0,"%"]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${d.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.status})]}),d.paid_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Paid Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(d.paid_at).toLocaleDateString()})]})]})})]})},b6="modulepreload",v6=function(e){return"/"+e},j0={},j6=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(r.map(d=>{if(d=v6(d),d in j0)return;j0[d]=!0;const m=d.endsWith(".css"),u=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":b6,m||(p.as="script"),p.crossOrigin="",p.href=d,o&&p.setAttribute("nonce",o),document.head.appendChild(p),m)return new Promise((f,x)=>{p.addEventListener("load",f),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})},N6=()=>{const{user:e}=fr(),{setHeaderTitle:s,setHeaderSubtitle:r}=ct(),[a,n]=c.useState(!1),[i,l]=c.useState(!1),[o,d]=c.useState(null),[m,u]=c.useState(null),[p,f]=c.useState(!1),[x,y]=c.useState([]),[w,j]=c.useState([]),[v,h]=c.useState(!1),[g,b]=c.useState(!1),[_,P]=c.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[]}),[A,R]=c.useState({current_password:"",password:"",password_confirmation:""}),[k,L]=c.useState({}),[$,C]=c.useState("");c.useEffect(()=>(s("Profile"),r("Manage your account settings and preferences"),()=>{s(null),r(null)}),[s,r]),c.useEffect(()=>{T()},[]),c.useEffect(()=>{x.length>0&&E()},[x.length]),c.useEffect(()=>{_.country?N(_.country):(j([]),P(H=>({...H,city:""})))},[_.country]),c.useEffect(()=>{w.length>0&&(o!=null&&o.city)&&!_.city&&w.some(F=>F.name===o.city)&&P(F=>({...F,city:o.city}))},[w.length,o==null?void 0:o.city]);const E=async()=>{n(!0);try{const H=await As.getProfile(),F=H.profile||H.instructor||H;d(F);let U=F.country||"";if(U&&x.length>0){const Z=x.find(z=>z.name===U||z.code===U);Z&&(U=Z.code)}const Y=F.city||"";P({first_name:F.first_name||"",last_name:F.last_name||"",email:F.email||(e==null?void 0:e.email)||"",phone:F.phone||"",country:U,city:Y,id_number:F.id_number||"",specializations:F.specializations||[]}),U&&await N(U),(F.cv_url||F.cv||F.resume_url||F.resume)&&u(F.cv_url||F.cv||F.resume_url||F.resume)}catch(H){console.error("Failed to load profile:",H)}finally{n(!1)}},T=async()=>{h(!0);try{const H=await Fl.getCountries();y(H.countries||[])}catch(H){console.error("Failed to load countries:",H),y([])}finally{h(!1)}},N=async H=>{var F;if(!H){j([]);return}b(!0);try{const U=await Fl.getCities(H);let Y=U.cities||((F=U.data)==null?void 0:F.cities)||U.data||U||[];!Array.isArray(Y)&&typeof Y=="object"&&(Y=Object.values(Y)),j(Array.isArray(Y)?Y:[])}catch(U){console.error("Failed to load cities:",U),j([])}finally{b(!1)}},S=H=>{P({..._,[H.target.name]:H.target.value}),L({}),C("")},I=H=>{R({...A,[H.target.name]:H.target.value}),L({}),C("")},D=async H=>{var F,U,Y,Z;H.preventDefault(),l(!0),L({}),C("");try{const z={first_name:_.first_name,last_name:_.last_name,email:_.email,phone:_.phone||null,country:_.country||null,city:_.city||null,id_number:_.id_number||null,specializations:_.specializations||[]},O=await As.updateProfile(z),M=O.profile||O.instructor||O;d(M),C("Profile updated successfully!"),P(re=>({...re,first_name:M.first_name||re.first_name,last_name:M.last_name||re.last_name,email:M.email||re.email,phone:M.phone||re.phone||"",country:M.country||re.country||"",city:M.city||re.city||"",id_number:M.id_number||re.id_number||"",specializations:M.specializations||re.specializations||[]})),(M.cv_url||M.cv)&&u(M.cv_url||M.cv)}catch(z){(U=(F=z.response)==null?void 0:F.data)!=null&&U.errors?L(z.response.data.errors):z.errors?L(z.errors):L({general:((Z=(Y=z.response)==null?void 0:Y.data)==null?void 0:Z.message)||z.message||"Failed to update profile"})}finally{l(!1)}},q=async H=>{H.preventDefault(),l(!0),L({}),C("");try{const{authAPI:F}=await j6(async()=>{const{authAPI:U}=await Promise.resolve().then(()=>iS);return{authAPI:U}},void 0);await F.changePassword(A),C("Password changed successfully!"),R({current_password:"",password:"",password_confirmation:""})}catch(F){F.errors?L(F.errors):L({password:F.message||"Failed to change password"})}finally{l(!1)}},X=async H=>{var U,Y,Z,z;const F=H.target.files[0];if(F){if(F.type!=="application/pdf"){L({cv:"Only PDF files are allowed"}),H.target.value="";return}if(F.size>10*1024*1024){L({cv:"File size must be less than 10MB"}),H.target.value="";return}L({}),C(""),f(!0);try{const O=new FormData;O.append("cv",F);const M=await As.updateProfile(O),re=M.profile||M.instructor||M;if(re.cv_url||re.cv)u(re.cv_url||re.cv),d(re),C("CV uploaded successfully!");else throw new Error("CV upload failed - no CV URL returned");H.target.value=""}catch(O){console.error("Failed to upload CV:",O),(Y=(U=O.response)==null?void 0:U.data)!=null&&Y.message?L({cv:O.response.data.message}):(z=(Z=O.response)==null?void 0:Z.data)!=null&&z.errors?L(O.response.data.errors):L({cv:O.message||"Failed to upload CV"})}finally{f(!1)}}},ne=async()=>{var H,F;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){f(!0),L({}),C("");try{const U=new FormData;U.append("cv","");const Y=await As.updateProfile(U),Z=Y.profile||Y.instructor||Y;d(Z),u(null),C("CV removed successfully!")}catch(U){console.error("Failed to remove CV:",U),(F=(H=U.response)==null?void 0:H.data)!=null&&F.message?L({cv:U.response.data.message}):L({cv:U.message||"Failed to remove CV"})}finally{f(!1)}}};return a?t.jsx("div",{className:"instructor-profile-loading",children:t.jsx("div",{className:"instructor-profile-spinner"})}):t.jsxs("div",{className:"instructor-profile-container",children:[$&&t.jsxs("div",{className:"instructor-profile-success",children:[t.jsx(Ll,{className:"instructor-profile-success-icon",size:24}),t.jsx("p",{className:"instructor-profile-success-text",children:$})]}),t.jsx("div",{className:"instructor-profile-content",children:t.jsxs("div",{className:"instructor-profile-section",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper",children:t.jsx(Xs,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Profile Information"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:D,className:"instructor-profile-form",children:[t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(ve,{label:"First Name",name:"first_name",value:_.first_name,onChange:S,required:!0,error:k.first_name}),t.jsx(ve,{label:"Last Name",name:"last_name",value:_.last_name,onChange:S,required:!0,error:k.last_name})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(ve,{label:"Email Address",type:"email",name:"email",value:_.email,onChange:S,required:!0,error:k.email}),t.jsx(ve,{label:"Phone Number",name:"phone",type:"tel",value:_.phone,onChange:S,error:k.phone})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Country"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(Wt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"country",value:_.country,onChange:S,className:"instructor-profile-select",disabled:v,children:[t.jsx("option",{value:"",children:"Select Country"}),x.map(H=>t.jsx("option",{value:H.code,children:H.name},H.code))]})]}),k.country&&t.jsx("p",{className:"instructor-profile-error",children:k.country})]}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"City"}),t.jsxs("div",{className:"instructor-profile-select-container",children:[t.jsx(Wt,{className:"instructor-profile-select-icon",size:18}),t.jsxs("select",{name:"city",value:_.city,onChange:S,className:"instructor-profile-select",disabled:!_.country||g,children:[t.jsx("option",{value:"",children:"Select City"}),Array.isArray(w)&&w.map((H,F)=>t.jsx("option",{value:H.name,children:H.name},F))]})]}),k.city&&t.jsx("p",{className:"instructor-profile-error",children:k.city})]})]}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(ve,{label:"ID Number",name:"id_number",value:_.id_number,onChange:S,error:k.id_number}),t.jsxs("div",{className:"instructor-profile-select-wrapper",children:[t.jsx("label",{className:"instructor-profile-select-label",children:"Type"}),t.jsx("div",{className:"instructor-profile-select-container",children:o!=null&&o.is_assessor?t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Assessor"}):t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 border border-gray-200",children:"Instructor"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field is managed by your Training Center"})]})]}),t.jsx(dh,{label:"Languages",value:_.specializations,onChange:H=>{P({..._,specializations:H}),L({})},error:k.specializations}),k.general&&t.jsx("div",{className:"instructor-profile-error-box",children:t.jsx("p",{className:"instructor-profile-error-text",children:k.general})}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(rt,{type:"submit",variant:"primary",fullWidth:!0,disabled:i,loading:i,icon:t.jsx(Ll,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"instructor-profile-grid-2",children:[t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-red",children:t.jsx(bv,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"Change Password"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:q,className:"instructor-profile-form",children:[t.jsx(ve,{label:"Current Password",type:"password",name:"current_password",value:A.current_password,onChange:I,required:!0,error:k.current_password}),t.jsxs("div",{className:"instructor-profile-form-grid",children:[t.jsx(ve,{label:"New Password",type:"password",name:"password",value:A.password,onChange:I,required:!0,error:k.password}),t.jsx(ve,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:A.password_confirmation,onChange:I,required:!0,error:k.password_confirmation})]}),t.jsx("div",{className:"instructor-profile-form-actions",children:t.jsx(rt,{type:"submit",variant:"danger",disabled:i,loading:i,icon:t.jsx(zf,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),t.jsxs("div",{className:"instructor-profile-card",children:[t.jsxs("div",{className:"instructor-profile-card-header",children:[t.jsx("div",{className:"instructor-profile-card-icon-wrapper instructor-profile-card-icon-indigo",children:t.jsx(tt,{className:"instructor-profile-card-icon",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"instructor-profile-card-title",children:"CV / Resume"}),t.jsx("p",{className:"instructor-profile-card-subtitle",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"instructor-profile-cv-content",children:[m&&t.jsx("div",{className:"mb-4 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(tt,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Current CV"}),t.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"View CV"})]})]}),t.jsx("button",{onClick:ne,disabled:p,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Remove CV",children:t.jsx(dr,{size:18})})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m?"Update CV":"Upload CV"}),t.jsxs("label",{className:"block w-full p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:border-primary-400 hover:bg-primary-50/30 transition-all cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:X,disabled:p,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mb-3",children:t.jsx(ta,{className:"text-primary-600",size:24})}),p?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Uploading CV..."}),t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary-600 border-t-transparent mt-2"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:m?"Click to update CV":"Click to upload CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PDF only, maximum 10MB"})]})]})]}),k.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:k.cv})]})]})]})]})]})})]})},w6=()=>{const{user:e,updateUser:s}=fr(),{setHeaderTitle:r,setHeaderSubtitle:a}=ct(),[n,i]=c.useState(!1),[l,o]=c.useState(!1),d=(e==null?void 0:e.role)==="instructor",m=(e==null?void 0:e.role)==="training_center_admin",[u,p]=c.useState(null),[f,x]=c.useState(null),[y,w]=c.useState(null),[j,v]=c.useState(!1),[h,g]=c.useState(null),[b,_]=c.useState(null),[P,A]=c.useState(!1),[R,k]=c.useState([]),[L,$]=c.useState([]),[C,E]=c.useState(!1),[T,N]=c.useState(!1),[S,I]=c.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[],name:"",address:"",state:"",postal_code:"",website:"",description:""}),[D,q]=c.useState({current_password:"",password:"",password_confirmation:""}),[X,ne]=c.useState({}),[H,F]=c.useState("");c.useEffect(()=>{Y()},[]),c.useEffect(()=>{(R.length>0||!d&&!m||m&&R.length>0)&&U()},[R.length,d,m]),c.useEffect(()=>{m&&S.country?Z(S.country):m&&!S.country&&$([])},[S.country,m]),c.useEffect(()=>{d&&S.country?Z(S.country):d&&!S.country&&($([]),I(V=>({...V,city:""})))},[S.country,d]),c.useEffect(()=>(r("Profile"),a("Manage your account settings and preferences"),()=>{r(null),a(null)}),[r,a]);const U=async()=>{i(!0);try{if(d){const V=await As.getProfile(),ae=V.profile||V.instructor||V;p(ae);let ce=ae.country||"";if(ce&&R.length>0){const pe=R.find(W=>W.name===ce||W.code===ce);pe&&(ce=pe.code)}const B=ae.city||"";I({first_name:ae.first_name||"",last_name:ae.last_name||"",email:ae.email||(e==null?void 0:e.email)||"",phone:ae.phone||"",country:ce,city:B,id_number:ae.id_number||"",specializations:ae.specializations||[]}),ce&&await Z(ce),(ae.cv_url||ae.cv||ae.resume_url||ae.resume)&&w(ae.cv_url||ae.cv||ae.resume_url||ae.resume)}else if(m){const V=await sr.getProfile(),ae=V.training_center||V.user||V;let ce=ae.country||"";if(ce&&R.length>0){const B=R.find(pe=>pe.name===ce||pe.code===ce);B&&(ce=B.code)}I({name:ae.name||ae.training_center_name||"",email:ae.email||(e==null?void 0:e.email)||"",phone:ae.phone||ae.phone_number||"",address:ae.address||"",city:ae.city||"",state:ae.state||ae.province||"",country:ce,postal_code:ae.postal_code||ae.zip_code||"",website:ae.website||ae.website_url||"",description:ae.description||ae.bio||""}),(ae.logo||ae.logo_url||ae.avatar)&&_(ae.logo||ae.logo_url||ae.avatar),ce&&await Z(ce),s(V.user||ae)}else{const V=await sr.getProfile();I({first_name:"",last_name:"",name:V.user.name||"",email:V.user.email||"",phone:"",country:"",city:""}),s(V.user)}}catch(V){console.error("Failed to load profile:",V)}finally{i(!1)}},Y=async()=>{E(!0);try{const V=await Fl.getCountries();k(V.countries||[])}catch(V){console.error("Failed to load countries:",V),k([])}finally{E(!1)}},Z=async V=>{var ae;if(!V){$([]);return}N(!0);try{const ce=await Fl.getCities(V);let B=ce.cities||((ae=ce.data)==null?void 0:ae.cities)||ce.data||ce||[];!Array.isArray(B)&&typeof B=="object"&&(B=Object.values(B)),$(Array.isArray(B)?B:[])}catch(ce){console.error("Failed to load cities:",ce),$([])}finally{N(!1)}},z=V=>{const{name:ae,value:ce}=V.target;I({...S,[ae]:ce,...ae==="country"&&{city:""}}),ne({}),F("")},O=V=>{const ae=V.target.files[0];if(ae){if(!ae.type.startsWith("image/")){ne({...X,logo:"Please select an image file"});return}if(ae.size>5*1024*1024){ne({...X,logo:"Image size must be less than 5MB"});return}g(ae);const ce=new FileReader;ce.onloadend=()=>{_(ce.result)},ce.readAsDataURL(ae),ne({...X,logo:null})}},M=V=>{q({...D,[V.target.name]:V.target.value}),ne({}),F("")},re=async V=>{var ae,ce,B,pe;V.preventDefault(),o(!0),ne({}),F("");try{if(d){const W={first_name:S.first_name,last_name:S.last_name,email:S.email,phone:S.phone||null,country:S.country||null,city:S.city||null,id_number:S.id_number||null,specializations:S.specializations||[]},ge=await As.updateProfile(W),G=ge.profile||ge.instructor||ge;p(G),F("Profile updated successfully!"),I(ue=>({...ue,first_name:G.first_name||ue.first_name,last_name:G.last_name||ue.last_name,email:G.email||ue.email,phone:G.phone||ue.phone||"",country:G.country||ue.country||"",city:G.city||ue.city||"",id_number:G.id_number||ue.id_number||"",specializations:G.specializations||ue.specializations||[]})),(G.cv_url||G.cv)&&w(G.cv_url||G.cv)}else if(m){const W=new FormData;Object.keys(S).forEach(se=>{S[se]!==null&&S[se]!==""&&W.append(se,S[se])}),h instanceof File&&W.append("logo",h);const ge=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),ue=await ot.post("https://aeroenix.com/v1/api/auth/profile?_method=PUT",W,{headers:{Authorization:`Bearer ${ge}`,Accept:"application/json"}}),fe=ue.data.training_center||ue.data.user||ue.data;s(ue.data.user||fe),(fe.logo||fe.logo_url)&&_(fe.logo||fe.logo_url),g(null),A(!1),F("Profile updated successfully!")}else{const W=await sr.updateProfile(S);s(W.user),F("Profile updated successfully!")}}catch(W){(ce=(ae=W.response)==null?void 0:ae.data)!=null&&ce.errors?ne(W.response.data.errors):W.errors?ne(W.errors):ne({general:((pe=(B=W.response)==null?void 0:B.data)==null?void 0:pe.message)||W.message||"Failed to update profile"})}finally{o(!1)}},J=async V=>{V.preventDefault(),o(!0),ne({}),F("");try{await sr.changePassword(D),F("Password changed successfully!"),q({current_password:"",password:"",password_confirmation:""})}catch(ae){ae.errors?ne(ae.errors):ne({password:ae.message||"Failed to change password"})}finally{o(!1)}},te=V=>{const ae=V.target.files[0];if(ae){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(ae.type)){ne({cv:"Please upload a PDF or Word document"});return}if(ae.size>5*1024*1024){ne({cv:"File size must be less than 5MB"});return}x(ae),ne({})}},K=async()=>{var V,ae,ce,B;if(f){v(!0),ne({}),F("");try{const pe=new FormData;pe.append("cv",f);const W=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),G=await ot.put("https://aeroenix.com/v1/api/instructor/profile",pe,{headers:{Authorization:`Bearer ${W}`,Accept:"application/json"}}),ue=G.data.profile||G.data.instructor||G.data;(ue.cv_url||ue.cv)&&w(ue.cv_url||ue.cv),p(ue),I(fe=>({...fe,first_name:ue.first_name||fe.first_name,last_name:ue.last_name||fe.last_name,email:ue.email||fe.email,phone:ue.phone||fe.phone,country:ue.country||fe.country,city:ue.city||fe.city,id_number:ue.id_number||fe.id_number,specializations:ue.specializations||fe.specializations})),x(null),F("CV uploaded successfully!")}catch(pe){console.error("Failed to upload CV:",pe),(ae=(V=pe.response)==null?void 0:V.data)!=null&&ae.errors?ne(pe.response.data.errors):ne({cv:((B=(ce=pe.response)==null?void 0:ce.data)==null?void 0:B.message)||pe.message||"Failed to upload CV"})}finally{v(!1)}}},ie=async()=>{var V,ae,ce,B;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){v(!0),ne({}),F("");try{const pe=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),W="https://aeroenix.com/v1/api",ge=new FormData;ge.append("cv","");const G=await ot.put(`${W}/instructor/profile`,ge,{headers:{Authorization:`Bearer ${pe}`,Accept:"application/json"}}),ue=G.data.profile||G.data.instructor||G.data;p(ue),w(null),x(null),F("CV removed successfully!"),I(fe=>({...fe,first_name:ue.first_name||fe.first_name,last_name:ue.last_name||fe.last_name,email:ue.email||fe.email,phone:ue.phone||fe.phone,country:ue.country||fe.country,city:ue.city||fe.city,id_number:ue.id_number||fe.id_number,specializations:ue.specializations||fe.specializations}))}catch(pe){console.error("Failed to remove CV:",pe),(ae=(V=pe.response)==null?void 0:V.data)!=null&&ae.errors?ne(pe.response.data.errors):ne({cv:((B=(ce=pe.response)==null?void 0:ce.data)==null?void 0:B.message)||pe.message||"Failed to remove CV"})}finally{v(!1)}}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[H&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(Ke,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:H})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Xs,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:re,className:"space-y-5",children:[m?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b border-gray-200",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:b?t.jsx("img",{src:b,alt:"Logo",className:"w-full h-full object-cover"}):t.jsx(Xe,{className:"text-gray-400",size:40})}),P&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[t.jsx(ta,{size:16}),t.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Center Logo"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your training center logo"}),!P&&t.jsxs("button",{type:"button",onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[t.jsx(rs,{size:16}),"Edit Profile"]}),X.logo&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:X.logo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"Training Center Name",name:"name",value:S.name,onChange:z,required:!0,disabled:!P,error:X.name}),t.jsx(ve,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:z,required:!0,disabled:!P,error:X.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"Phone Number",name:"phone",type:"tel",value:S.phone,onChange:z,disabled:!P,error:X.phone}),t.jsx(ve,{label:"Website",name:"website",type:"url",value:S.website,onChange:z,disabled:!P,error:X.website,placeholder:"https://example.com"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5",children:t.jsx(ve,{label:"Address",name:"address",value:S.address,onChange:z,disabled:!P,error:X.address})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:S.country,onChange:z,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!P||C,children:[t.jsx("option",{value:"",children:"Select Country"}),R.map(V=>t.jsx("option",{value:V.code,children:V.name},V.code))]})]}),X.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:X.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:S.city,onChange:z,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!P||!S.country||T,children:[t.jsx("option",{value:"",children:"Select City"}),L.map((V,ae)=>t.jsx("option",{value:V.name,children:V.name},ae))]})]}),X.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:X.city})]}),t.jsx(ve,{label:"State/Province",name:"state",value:S.state,onChange:z,disabled:!P,error:X.state})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(ve,{label:"Postal Code",name:"postal_code",value:S.postal_code,onChange:z,disabled:!P,error:X.postal_code})}),t.jsx(ve,{label:"Description",name:"description",textarea:!0,rows:6,value:S.description,onChange:z,disabled:!P,error:X.description,placeholder:"Tell us about your training center..."}),P&&t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(rt,{type:"button",variant:"secondary",onClick:()=>{A(!1),g(null),U()},disabled:l,children:"Cancel"}),t.jsx(rt,{type:"submit",variant:"primary",fullWidth:!0,disabled:l,loading:l,icon:t.jsx(Ll,{size:20}),children:"Save Changes"})]})]}):d?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"First Name",name:"first_name",value:S.first_name,onChange:z,required:!0,error:X.first_name}),t.jsx(ve,{label:"Last Name",name:"last_name",value:S.last_name,onChange:z,required:!0,error:X.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:z,required:!0,error:X.email}),t.jsx(ve,{label:"Phone Number",name:"phone",type:"tel",value:S.phone,onChange:z,error:X.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:S.country,onChange:z,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:C,children:[t.jsx("option",{value:"",children:"Select Country"}),R.map(V=>t.jsx("option",{value:V.code,children:V.name},V.code))]})]}),X.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:X.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:S.city,onChange:z,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:!S.country||T,children:[t.jsx("option",{value:"",children:"Select City"}),L.map((V,ae)=>t.jsx("option",{value:V.name,children:V.name},ae))]})]}),X.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:X.city})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(ve,{label:"ID Number",name:"id_number",value:S.id_number,onChange:z,error:X.id_number})}),t.jsx(dh,{label:"Languages",value:S.specializations,onChange:V=>{I({...S,specializations:V}),ne({})},error:X.specializations})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"Full Name",name:"name",value:S.name,onChange:z,required:!0,error:X.name}),t.jsx(ve,{label:"Email Address",type:"email",name:"email",value:S.email,onChange:z,required:!0,error:X.email})]}),X.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:X.general})}),!m&&t.jsx("div",{className:"pt-2",children:t.jsx(rt,{type:"submit",variant:"primary",fullWidth:!0,disabled:l,loading:l,icon:t.jsx(Ll,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(bv,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:J,className:"space-y-5",children:[t.jsx(ve,{label:"Current Password",type:"password",name:"current_password",value:D.current_password,onChange:M,required:!0,error:X.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(ve,{label:"New Password",type:"password",name:"password",value:D.password,onChange:M,required:!0,error:X.password}),t.jsx(ve,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:D.password_confirmation,onChange:M,required:!0,error:X.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(rt,{type:"submit",variant:"danger",disabled:l,loading:l,icon:t.jsx(zf,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),d&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(tt,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"space-y-4",children:[y&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(tt,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(tt,{size:16}),y.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]}),t.jsx("button",{onClick:ie,disabled:j,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(dr,{size:18})})]})}),!y&&!f&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tt,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your CV below to get started"})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:y?"Update CV":"Upload CV"}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:te,className:"hidden"}),t.jsx("div",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ta,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:f?f.name:"Click to select PDF or Word document"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max size: 5MB"})]})})]})}),X.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:X.cv})]}),f&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(rt,{onClick:K,disabled:j,loading:j,icon:t.jsx(ta,{size:18}),children:j?"Uploading...":"Upload CV"}),t.jsx(rt,{onClick:()=>x(null),variant:"secondary",disabled:j,children:"Cancel"})]})]})]})]})]})})]})},C6=()=>{const{user:e}=fr();return t.jsx(En,{children:(e==null?void 0:e.role)==="acc_admin"?t.jsx(qE,{}):t.jsx(w6,{})})};function S6(){return t.jsx(lS,{children:t.jsx(oS,{children:t.jsx(dS,{children:t.jsx(SC,{children:t.jsxs(Di,{children:[t.jsx(Qe,{path:"/login",element:t.jsx(d0,{})}),t.jsx(Qe,{path:"/register",element:t.jsx(d0,{})}),t.jsx(Qe,{path:"/reset-password",element:t.jsx(G3,{})}),t.jsx(Qe,{path:"/pending-account",element:t.jsx(qa,{allowPending:!0,children:t.jsx(K3,{})})}),t.jsx(Qe,{path:"/unauthorized",element:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700",children:"Go to Dashboard"})]})})}),t.jsx(Qe,{path:"/dashboard",element:t.jsx(qa,{children:t.jsx(En,{children:t.jsx(X3,{})})})}),t.jsx(Qe,{path:"/admin/*",element:t.jsx(qa,{allowedRoles:["group_admin"],children:t.jsx(En,{children:t.jsxs(Di,{children:[t.jsx(Qe,{path:"accs",element:t.jsx(J3,{})}),t.jsx(Qe,{path:"training-center-applications",element:t.jsx(Z3,{})}),t.jsx(Qe,{path:"all-accs",element:t.jsx(eE,{})}),t.jsx(Qe,{path:"all-training-centers",element:t.jsx(tE,{})}),t.jsx(Qe,{path:"all-instructors",element:t.jsx(sE,{})}),t.jsx(Qe,{path:"all-courses",element:t.jsx(rE,{})}),t.jsx(Qe,{path:"categories",element:t.jsx(aE,{})}),t.jsx(Qe,{path:"financial",element:t.jsx(nE,{})}),t.jsx(Qe,{path:"payment-transactions",element:t.jsx(iE,{})}),t.jsx(Qe,{path:"reports",element:t.jsx(lE,{})}),t.jsx(Qe,{path:"instructor-authorizations",element:t.jsx(oE,{})}),t.jsx(Qe,{path:"stripe-settings",element:t.jsx(cE,{})})]})})})}),t.jsx(Qe,{path:"/acc/*",element:t.jsx(qa,{allowedRoles:["acc_admin"],children:t.jsx(En,{children:t.jsxs(Di,{children:[t.jsx(Qe,{path:"dashboard",element:t.jsx(Ej,{})}),t.jsx(Qe,{path:"subscription",element:t.jsx(BE,{})}),t.jsx(Qe,{path:"training-centers",element:t.jsx(VE,{})}),t.jsx(Qe,{path:"instructors",element:t.jsx(WE,{})}),t.jsx(Qe,{path:"courses",element:t.jsx(YE,{})}),t.jsx(Qe,{path:"certificates",element:t.jsx(QE,{})}),t.jsx(Qe,{path:"materials",element:t.jsx(XE,{})}),t.jsx(Qe,{path:"discount-codes",element:t.jsx(JE,{})}),t.jsx(Qe,{path:"categories",element:t.jsx(ZE,{})}),t.jsx(Qe,{path:"classes",element:t.jsx(t6,{})}),t.jsx(Qe,{path:"payment-transactions",element:t.jsx(e6,{})})]})})})}),t.jsx(Qe,{path:"/training-center/*",element:t.jsx(qa,{allowedRoles:["training_center_admin"],children:t.jsx(En,{children:t.jsxs(Di,{children:[t.jsx(Qe,{path:"dashboard",element:t.jsx(zj,{})}),t.jsx(Qe,{path:"accs",element:t.jsx(n6,{})}),t.jsx(Qe,{path:"instructors",element:t.jsx(l6,{})}),t.jsx(Qe,{path:"trainees",element:t.jsx(o6,{})}),t.jsx(Qe,{path:"classes",element:t.jsx(c6,{})}),t.jsx(Qe,{path:"codes",element:t.jsx(d6,{})}),t.jsx(Qe,{path:"certificates",element:t.jsx(u6,{})}),t.jsx(Qe,{path:"wallet",element:t.jsx(m6,{})}),t.jsx(Qe,{path:"marketplace",element:t.jsx(p6,{})}),t.jsx(Qe,{path:"instructor-authorizations",element:t.jsx(f6,{})}),t.jsx(Qe,{path:"payment-transactions",element:t.jsx(h6,{})})]})})})}),t.jsx(Qe,{path:"/instructor/*",element:t.jsx(qa,{allowedRoles:["instructor"],children:t.jsx(En,{children:t.jsxs(Di,{children:[t.jsx(Qe,{path:"dashboard",element:t.jsx(Tj,{})}),t.jsx(Qe,{path:"classes",element:t.jsx(g6,{})}),t.jsx(Qe,{path:"materials",element:t.jsx(x6,{})}),t.jsx(Qe,{path:"earnings",element:t.jsx(y6,{})}),t.jsx(Qe,{path:"profile",element:t.jsx(N6,{})})]})})})}),t.jsx(Qe,{path:"/profile",element:t.jsx(qa,{children:t.jsx(C6,{})})}),t.jsx(Qe,{path:"/",element:t.jsx(Zo,{to:"/dashboard",replace:!0})})]})})})})})}sm.createRoot(document.getElementById("root")).render(t.jsx(it.StrictMode,{children:t.jsx(S6,{})}));
