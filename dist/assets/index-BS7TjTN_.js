var c1=Object.defineProperty;var d1=(e,s,r)=>s in e?c1(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var Pi=(e,s,r)=>d1(e,typeof s!="symbol"?s+"":s,r);function u1(e,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A0={exports:{}},ld={},k0={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Symbol.for("react.element"),m1=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),h1=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),v1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),Ch=Symbol.iterator;function N1(e){return e===null||typeof e!="object"?null:(e=Ch&&e[Ch]||e["@@iterator"],typeof e=="function"?e:null)}var P0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0=Object.assign,T0={};function bi(e,s,r){this.props=e,this.context=s,this.refs=T0,this.updater=r||P0}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z0(){}z0.prototype=bi.prototype;function $p(e,s,r){this.props=e,this.context=s,this.refs=T0,this.updater=r||P0}var Mp=$p.prototype=new z0;Mp.constructor=$p;E0(Mp,bi.prototype);Mp.isPureReactComponent=!0;var wh=Array.isArray,R0=Object.prototype.hasOwnProperty,Ip={current:null},F0={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,s,r){var n,a={},i=null,o=null;if(s!=null)for(n in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)R0.call(s,n)&&!F0.hasOwnProperty(n)&&(a[n]=s[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Jo,type:e,key:i,ref:o,props:a,_owner:Ip.current}}function C1(e,s){return{$$typeof:Jo,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jo}function w1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var _h=/\/+/g;function bu(e,s){return typeof e=="object"&&e!==null&&e.key!=null?w1(""+e.key):s.toString(36)}function Wl(e,s,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jo:case m1:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+bu(o,0):n,wh(a)?(r="",e!=null&&(r=e.replace(_h,"$&/")+"/"),Wl(a,s,r,"",function(h){return h})):a!=null&&(Lp(a)&&(a=C1(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_h,"$&/")+"/")+e)),s.push(a)),1;if(o=0,n=n===""?".":n+":",wh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+bu(i,l);o+=Wl(i,s,r,c,a)}else if(c=N1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+bu(i,l++),o+=Wl(i,s,r,c,a);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function hl(e,s,r){if(e==null)return e;var n=[],a=0;return Wl(e,n,"","",function(i){return s.call(r,i,a++)}),n}function _1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Ps={current:null},Vl={transition:null},S1={ReactCurrentDispatcher:Ps,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:Ip};function $0(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:hl,forEach:function(e,s,r){hl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return hl(e,function(){s++}),s},toArray:function(e){return hl(e,function(s){return s})||[]},only:function(e){if(!Lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=bi;it.Fragment=p1;it.Profiler=h1;it.PureComponent=$p;it.StrictMode=f1;it.Suspense=b1;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S1;it.act=$0;it.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=E0({},e.props),a=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Ip.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)R0.call(s,c)&&!F0.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:Jo,type:e.type,key:a,ref:i,props:n,_owner:o}};it.createContext=function(e){return e={$$typeof:x1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g1,_context:e},e.Consumer=e};it.createElement=D0;it.createFactory=function(e){var s=D0.bind(null,e);return s.type=e,s};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:y1,render:e}};it.isValidElement=Lp;it.lazy=function(e){return{$$typeof:j1,_payload:{_status:-1,_result:e},_init:_1}};it.memo=function(e,s){return{$$typeof:v1,type:e,compare:s===void 0?null:s}};it.startTransition=function(e){var s=Vl.transition;Vl.transition={};try{e()}finally{Vl.transition=s}};it.unstable_act=$0;it.useCallback=function(e,s){return Ps.current.useCallback(e,s)};it.useContext=function(e){return Ps.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return Ps.current.useDeferredValue(e)};it.useEffect=function(e,s){return Ps.current.useEffect(e,s)};it.useId=function(){return Ps.current.useId()};it.useImperativeHandle=function(e,s,r){return Ps.current.useImperativeHandle(e,s,r)};it.useInsertionEffect=function(e,s){return Ps.current.useInsertionEffect(e,s)};it.useLayoutEffect=function(e,s){return Ps.current.useLayoutEffect(e,s)};it.useMemo=function(e,s){return Ps.current.useMemo(e,s)};it.useReducer=function(e,s,r){return Ps.current.useReducer(e,s,r)};it.useRef=function(e){return Ps.current.useRef(e)};it.useState=function(e){return Ps.current.useState(e)};it.useSyncExternalStore=function(e,s,r){return Ps.current.useSyncExternalStore(e,s,r)};it.useTransition=function(){return Ps.current.useTransition()};it.version="18.3.1";k0.exports=it;var f=k0.exports;const at=Dp(f),hc=u1({__proto__:null,default:at},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=f,k1=Symbol.for("react.element"),P1=Symbol.for("react.fragment"),E1=Object.prototype.hasOwnProperty,T1=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z1={key:!0,ref:!0,__self:!0,__source:!0};function M0(e,s,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(n in s)E1.call(s,n)&&!z1.hasOwnProperty(n)&&(a[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:k1,type:e,key:i,ref:o,props:a,_owner:T1.current}}ld.Fragment=P1;ld.jsx=M0;ld.jsxs=M0;A0.exports=ld;var t=A0.exports,dm={},I0={exports:{}},tr={},L0={exports:{}},O0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(O,D){var L=O.length;O.push(D);e:for(;0<L;){var W=L-1>>>1,H=O[W];if(0<a(H,D))O[W]=D,O[L]=H,L=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var D=O[0],L=O.pop();if(L!==D){O[0]=L;e:for(var W=0,H=O.length,B=H>>>1;W<B;){var K=2*(W+1)-1,q=O[K],V=K+1,te=O[V];if(0>a(q,L))V<H&&0>a(te,q)?(O[W]=te,O[V]=L,W=V):(O[W]=q,O[K]=L,W=K);else if(V<H&&0>a(te,L))O[W]=te,O[V]=L,W=V;else break e}}return D}function a(O,D){var L=O.sortIndex-D.sortIndex;return L!==0?L:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,p=null,m=3,u=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var D=r(h);D!==null;){if(D.callback===null)n(h);else if(D.startTime<=O)n(h),D.sortIndex=D.expirationTime,s(c,D);else break;D=r(h)}}function _(O){if(y=!1,w(O),!g)if(r(c)!==null)g=!0,v(z);else{var D=r(h);D!==null&&k(_,D.startTime-O)}}function z(O,D){g=!1,y&&(y=!1,x(E),E=-1),u=!0;var L=m;try{for(w(D),p=r(c);p!==null&&(!(p.expirationTime>D)||O&&!$());){var W=p.callback;if(typeof W=="function"){p.callback=null,m=p.priorityLevel;var H=W(p.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(c)&&n(c),w(D)}else n(c);p=r(c)}if(p!==null)var B=!0;else{var K=r(h);K!==null&&k(_,K.startTime-D),B=!1}return B}finally{p=null,m=L,u=!1}}var P=!1,b=null,E=-1,j=5,F=-1;function $(){return!(e.unstable_now()-F<j)}function N(){if(b!==null){var O=e.unstable_now();F=O;var D=!0;try{D=b(!0,O)}finally{D?A():(P=!1,b=null)}}else P=!1}var A;if(typeof C=="function")A=function(){C(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,T=R.port2;R.port1.onmessage=N,A=function(){T.postMessage(null)}}else A=function(){S(N,0)};function v(O){b=O,P||(P=!0,A())}function k(O,D){E=S(function(){O(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||u||(g=!0,v(z))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var L=m;m=D;try{return O()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=m;m=O;try{return D()}finally{m=L}},e.unstable_scheduleCallback=function(O,D,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,O={id:d++,callback:D,priorityLevel:O,startTime:L,expirationTime:H,sortIndex:-1},L>W?(O.sortIndex=L,s(h,O),r(c)===null&&O===r(h)&&(y?(x(E),E=-1):y=!0,k(_,L-W))):(O.sortIndex=H,s(c,O),g||u||(g=!0,v(z))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var D=m;return function(){var L=m;m=D;try{return O.apply(this,arguments)}finally{m=L}}}})(O0);L0.exports=O0;var R1=L0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=f,er=R1;function Re(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U0=new Set,wo={};function va(e,s){ni(e,s),ni(e+"Capture",s)}function ni(e,s){for(wo[e]=s,e=0;e<s.length;e++)U0.add(s[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=Object.prototype.hasOwnProperty,D1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},Ah={};function $1(e){return um.call(Ah,e)?!0:um.call(Sh,e)?!1:D1.test(e)?Ah[e]=!0:(Sh[e]=!0,!1)}function M1(e,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I1(e,s,r,n){if(s===null||typeof s>"u"||M1(e,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Es(e,s,r,n,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){os[e]=new Es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];os[s]=new Es(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){os[e]=new Es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){os[e]=new Es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){os[e]=new Es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){os[e]=new Es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){os[e]=new Es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){os[e]=new Es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){os[e]=new Es(e,5,!1,e.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Up(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Op,Up);os[s]=new Es(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Op,Up);os[s]=new Es(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Op,Up);os[s]=new Es(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){os[e]=new Es(e,1,!1,e.toLowerCase(),null,!1,!1)});os.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){os[e]=new Es(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bp(e,s,r,n){var a=os.hasOwnProperty(s)?os[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(I1(s,r,a,n)&&(r=null),n||a===null?$1(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,s,r):e.setAttribute(s,r))))}var hn=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Da=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),Wp=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),fm=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),W0=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Ei(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,vu;function Ji(e){if(vu===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);vu=s&&s[1]||""}return`
`+vu+e}var ju=!1;function Nu(e,s){if(!e||ju)return"";ju=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var n=h}Reflect.construct(e,[],s)}else{try{s.call()}catch(h){n=h}e.call(s.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ju=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ji(e):""}function L1(e){switch(e.tag){case 5:return Ji(e.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 2:case 15:return e=Nu(e.type,!1),e;case 11:return e=Nu(e.type.render,!1),e;case 1:return e=Nu(e.type,!0),e;default:return""}}function hm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Da:return"Fragment";case Fa:return"Portal";case mm:return"Profiler";case qp:return"StrictMode";case pm:return"Suspense";case fm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q0:return(e.displayName||"Context")+".Consumer";case B0:return(e._context.displayName||"Context")+".Provider";case Wp:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vp:return s=e.displayName||null,s!==null?s:hm(e.type)||"Memo";case yn:s=e._payload,e=e._init;try{return hm(e(s))}catch{}}return null}function O1(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(s);case 8:return s===qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V0(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function U1(e){var s=V0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function xl(e){e._valueTracker||(e._valueTracker=U1(e))}function H0(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return e&&(n=V0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(s.setValue(e),!0):!1}function gc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gm(e,s){var r=s.checked;return Ot({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ph(e,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=$n(s.value!=null?s.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function G0(e,s){s=s.checked,s!=null&&Bp(e,"checked",s,!1)}function xm(e,s){G0(e,s);var r=$n(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?ym(e,s.type,r):s.hasOwnProperty("defaultValue")&&ym(e,s.type,$n(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Eh(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ym(e,s,r){(s!=="number"||gc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xi=Array.isArray;function Ka(e,s,r,n){if(e=e.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=s.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$n(r),s=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function bm(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Ot({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Th(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Re(92));if(Xi(r)){if(1<r.length)throw Error(Re(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:$n(r)}}function K0(e,s){var r=$n(s.value),n=$n(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zh(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Q0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vm(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Q0(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yl,Y0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(s,r,n,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function _o(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B1=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){B1.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),ao[s]=ao[e]})});function J0(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||ao.hasOwnProperty(e)&&ao[e]?(""+s).trim():s+"px"}function X0(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=J0(r,s[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var q1=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(e,s){if(s){if(q1[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Re(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Re(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Re(62))}}function Nm(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wm=null,Qa=null,Ya=null;function Rh(e){if(e=el(e)){if(typeof wm!="function")throw Error(Re(280));var s=e.stateNode;s&&(s=pd(s),wm(e.stateNode,e.type,s))}}function Z0(e){Qa?Ya?Ya.push(e):Ya=[e]:Qa=e}function ey(){if(Qa){var e=Qa,s=Ya;if(Ya=Qa=null,Rh(e),s)for(e=0;e<s.length;e++)Rh(s[e])}}function ty(e,s){return e(s)}function sy(){}var Cu=!1;function ry(e,s,r){if(Cu)return e(s,r);Cu=!0;try{return ty(e,s,r)}finally{Cu=!1,(Qa!==null||Ya!==null)&&(sy(),ey())}}function So(e,s){var r=e.stateNode;if(r===null)return null;var n=pd(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Re(231,s,typeof r));return r}var _m=!1;if(on)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){_m=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{_m=!1}function W1(e,s,r,n,a,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{s.apply(r,h)}catch(d){this.onError(d)}}var io=!1,xc=null,yc=!1,Sm=null,V1={onError:function(e){io=!0,xc=e}};function H1(e,s,r,n,a,i,o,l,c){io=!1,xc=null,W1.apply(V1,arguments)}function G1(e,s,r,n,a,i,o,l,c){if(H1.apply(this,arguments),io){if(io){var h=xc;io=!1,xc=null}else throw Error(Re(198));yc||(yc=!0,Sm=h)}}function ja(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function ny(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Fh(e){if(ja(e)!==e)throw Error(Re(188))}function K1(e){var s=e.alternate;if(!s){if(s=ja(e),s===null)throw Error(Re(188));return s!==e?null:e}for(var r=e,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Fh(a),e;if(i===n)return Fh(a),s;i=i.sibling}throw Error(Re(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?e:s}function ay(e){return e=K1(e),e!==null?iy(e):null}function iy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=iy(e);if(s!==null)return s;e=e.sibling}return null}var oy=er.unstable_scheduleCallback,Dh=er.unstable_cancelCallback,Q1=er.unstable_shouldYield,Y1=er.unstable_requestPaint,Vt=er.unstable_now,J1=er.unstable_getCurrentPriorityLevel,Gp=er.unstable_ImmediatePriority,ly=er.unstable_UserBlockingPriority,bc=er.unstable_NormalPriority,X1=er.unstable_LowPriority,cy=er.unstable_IdlePriority,cd=null,qr=null;function Z1(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(cd,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:sN,eN=Math.log,tN=Math.LN2;function sN(e){return e>>>=0,e===0?32:31-(eN(e)/tN|0)|0}var bl=64,vl=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vc(e,s){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Zi(l):(i&=o,i!==0&&(n=Zi(i)))}else o=r&~a,o!==0?n=Zi(o):i!==0&&(n=Zi(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)r=31-_r(s),a=1<<r,n|=e[r],s&=~a;return n}function rN(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nN(e,s){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_r(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=rN(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function Am(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dy(){var e=bl;return bl<<=1,!(bl&4194240)&&(bl=64),e}function wu(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Xo(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-_r(s),e[s]=r}function aN(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_r(r),i=1<<a;s[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Kp(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var n=31-_r(r),a=1<<n;a&s|e[n]&s&&(e[n]|=s),r&=~a}}var Ct=0;function uy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var my,Qp,py,fy,hy,km=!1,jl=[],_n=null,Sn=null,An=null,Ao=new Map,ko=new Map,vn=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $h(e,s){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Ao.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(s.pointerId)}}function zi(e,s,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=el(s),s!==null&&Qp(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function oN(e,s,r,n,a){switch(s){case"focusin":return _n=zi(_n,e,s,r,n,a),!0;case"dragenter":return Sn=zi(Sn,e,s,r,n,a),!0;case"mouseover":return An=zi(An,e,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ao.set(i,zi(Ao.get(i)||null,e,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ko.set(i,zi(ko.get(i)||null,e,s,r,n,a)),!0}return!1}function gy(e){var s=Zn(e.target);if(s!==null){var r=ja(s);if(r!==null){if(s=r.tag,s===13){if(s=ny(r),s!==null){e.blockedOn=s,hy(e.priority,function(){py(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hl(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Pm(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cm=n,r.target.dispatchEvent(n),Cm=null}else return s=el(r),s!==null&&Qp(s),e.blockedOn=r,!1;s.shift()}return!0}function Mh(e,s,r){Hl(e)&&r.delete(s)}function lN(){km=!1,_n!==null&&Hl(_n)&&(_n=null),Sn!==null&&Hl(Sn)&&(Sn=null),An!==null&&Hl(An)&&(An=null),Ao.forEach(Mh),ko.forEach(Mh)}function Ri(e,s){e.blockedOn===s&&(e.blockedOn=null,km||(km=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,lN)))}function Po(e){function s(a){return Ri(a,e)}if(0<jl.length){Ri(jl[0],e);for(var r=1;r<jl.length;r++){var n=jl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_n!==null&&Ri(_n,e),Sn!==null&&Ri(Sn,e),An!==null&&Ri(An,e),Ao.forEach(s),ko.forEach(s),r=0;r<vn.length;r++)n=vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vn.length&&(r=vn[0],r.blockedOn===null);)gy(r),r.blockedOn===null&&vn.shift()}var Ja=hn.ReactCurrentBatchConfig,jc=!0;function cN(e,s,r,n){var a=Ct,i=Ja.transition;Ja.transition=null;try{Ct=1,Yp(e,s,r,n)}finally{Ct=a,Ja.transition=i}}function dN(e,s,r,n){var a=Ct,i=Ja.transition;Ja.transition=null;try{Ct=4,Yp(e,s,r,n)}finally{Ct=a,Ja.transition=i}}function Yp(e,s,r,n){if(jc){var a=Pm(e,s,r,n);if(a===null)Fu(e,s,n,Nc,r),$h(e,n);else if(oN(a,e,s,r,n))n.stopPropagation();else if($h(e,n),s&4&&-1<iN.indexOf(e)){for(;a!==null;){var i=el(a);if(i!==null&&my(i),i=Pm(e,s,r,n),i===null&&Fu(e,s,n,Nc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Fu(e,s,n,null,r)}}var Nc=null;function Pm(e,s,r,n){if(Nc=null,e=Hp(n),e=Zn(e),e!==null)if(s=ja(e),s===null)e=null;else if(r=s.tag,r===13){if(e=ny(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Nc=e,null}function xy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J1()){case Gp:return 1;case ly:return 4;case bc:case X1:return 16;case cy:return 536870912;default:return 16}default:return 16}}var Nn=null,Jp=null,Gl=null;function yy(){if(Gl)return Gl;var e,s=Jp,r=s.length,n,a="value"in Nn?Nn.value:Nn.textContent,i=a.length;for(e=0;e<r&&s[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&s[r-n]===a[i-n];n++);return Gl=a.slice(e,1<n?1-n:void 0)}function Kl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function Ih(){return!1}function sr(e){function s(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nl:Ih,this.isPropagationStopped=Ih,this}return Ot(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),s}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=sr(vi),Zo=Ot({},vi,{view:0,detail:0}),uN=sr(Zo),_u,Su,Fi,dd=Ot({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(_u=e.screenX-Fi.screenX,Su=e.screenY-Fi.screenY):Su=_u=0,Fi=e),_u)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Lh=sr(dd),mN=Ot({},dd,{dataTransfer:0}),pN=sr(mN),fN=Ot({},Zo,{relatedTarget:0}),Au=sr(fN),hN=Ot({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gN=sr(hN),xN=Ot({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yN=sr(xN),bN=Ot({},vi,{data:0}),Oh=sr(bN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CN(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=NN[e])?!!s[e]:!1}function Zp(){return CN}var wN=Ot({},Zo,{key:function(e){if(e.key){var s=vN[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_N=sr(wN),SN=Ot({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=sr(SN),AN=Ot({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),kN=sr(AN),PN=Ot({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),EN=sr(PN),TN=Ot({},dd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zN=sr(TN),RN=[9,13,27,32],ef=on&&"CompositionEvent"in window,oo=null;on&&"documentMode"in document&&(oo=document.documentMode);var FN=on&&"TextEvent"in window&&!oo,by=on&&(!ef||oo&&8<oo&&11>=oo),Bh=" ",qh=!1;function vy(e,s){switch(e){case"keyup":return RN.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function DN(e,s){switch(e){case"compositionend":return jy(s);case"keypress":return s.which!==32?null:(qh=!0,Bh);case"textInput":return e=s.data,e===Bh&&qh?null:e;default:return null}}function $N(e,s){if($a)return e==="compositionend"||!ef&&vy(e,s)?(e=yy(),Gl=Jp=Nn=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return by&&s.locale!=="ko"?null:s.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!MN[e.type]:s==="textarea"}function Ny(e,s,r,n){Z0(n),s=Cc(s,"onChange"),0<s.length&&(r=new Xp("onChange","change",null,r,n),e.push({event:r,listeners:s}))}var lo=null,Eo=null;function IN(e){Ry(e,0)}function ud(e){var s=La(e);if(H0(s))return e}function LN(e,s){if(e==="change")return s}var Cy=!1;if(on){var ku;if(on){var Pu="oninput"in document;if(!Pu){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Pu=typeof Vh.oninput=="function"}ku=Pu}else ku=!1;Cy=ku&&(!document.documentMode||9<document.documentMode)}function Hh(){lo&&(lo.detachEvent("onpropertychange",wy),Eo=lo=null)}function wy(e){if(e.propertyName==="value"&&ud(Eo)){var s=[];Ny(s,Eo,e,Hp(e)),ry(IN,s)}}function ON(e,s,r){e==="focusin"?(Hh(),lo=s,Eo=r,lo.attachEvent("onpropertychange",wy)):e==="focusout"&&Hh()}function UN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(Eo)}function BN(e,s){if(e==="click")return ud(s)}function qN(e,s){if(e==="input"||e==="change")return ud(s)}function WN(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ar=typeof Object.is=="function"?Object.is:WN;function To(e,s){if(Ar(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!um.call(s,a)||!Ar(e[a],s[a]))return!1}return!0}function Gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kh(e,s){var r=Gh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=s&&n>=s)return{node:r,offset:s-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gh(r)}}function _y(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?_y(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Sy(){for(var e=window,s=gc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=gc(e.document)}return s}function tf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function VN(e){var s=Sy(),r=e.focusedElem,n=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&_y(r.ownerDocument.documentElement,r)){if(n!==null&&tf(r)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Kh(r,i);var o=Kh(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HN=on&&"documentMode"in document&&11>=document.documentMode,Ma=null,Em=null,co=null,Tm=!1;function Qh(e,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tm||Ma==null||Ma!==gc(n)||(n=Ma,"selectionStart"in n&&tf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),co&&To(co,n)||(co=n,n=Cc(Em,"onSelect"),0<n.length&&(s=new Xp("onSelect","select",null,s,r),e.push({event:s,listeners:n}),s.target=Ma)))}function Cl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var Ia={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Eu={},Ay={};on&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function md(e){if(Eu[e])return Eu[e];if(!Ia[e])return e;var s=Ia[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Ay)return Eu[e]=s[r];return e}var ky=md("animationend"),Py=md("animationiteration"),Ey=md("animationstart"),Ty=md("transitionend"),zy=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,s){zy.set(e,s),va(s,[e])}for(var Tu=0;Tu<Yh.length;Tu++){var zu=Yh[Tu],GN=zu.toLowerCase(),KN=zu[0].toUpperCase()+zu.slice(1);Ln(GN,"on"+KN)}Ln(ky,"onAnimationEnd");Ln(Py,"onAnimationIteration");Ln(Ey,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Ty,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QN=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Jh(e,s,r){var n=e.type||"unknown-event";e.currentTarget=r,G1(n,s,void 0,e),e.currentTarget=null}function Ry(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Jh(a,l,h),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Jh(a,l,h),i=c}}}if(yc)throw e=Sm,yc=!1,Sm=null,e}function zt(e,s){var r=s[$m];r===void 0&&(r=s[$m]=new Set);var n=e+"__bubble";r.has(n)||(Fy(s,e,2,!1),r.add(n))}function Ru(e,s,r){var n=0;s&&(n|=4),Fy(r,e,n,s)}var wl="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[wl]){e[wl]=!0,U0.forEach(function(r){r!=="selectionchange"&&(QN.has(r)||Ru(r,!1,e),Ru(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[wl]||(s[wl]=!0,Ru("selectionchange",!1,s))}}function Fy(e,s,r,n){switch(xy(s)){case 1:var a=cN;break;case 4:a=dN;break;default:a=Yp}r=a.bind(null,s,r,e),a=void 0,!_m||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(s,r,{capture:!0,passive:a}):e.addEventListener(s,r,!0):a!==void 0?e.addEventListener(s,r,{passive:a}):e.addEventListener(s,r,!1)}function Fu(e,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Zn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ry(function(){var h=i,d=Hp(r),p=[];e:{var m=zy.get(e);if(m!==void 0){var u=Xp,g=e;switch(e){case"keypress":if(Kl(r)===0)break e;case"keydown":case"keyup":u=_N;break;case"focusin":g="focus",u=Au;break;case"focusout":g="blur",u=Au;break;case"beforeblur":case"afterblur":u=Au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=kN;break;case ky:case Py:case Ey:u=gN;break;case Ty:u=EN;break;case"scroll":u=uN;break;case"wheel":u=zN;break;case"copy":case"cut":case"paste":u=yN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Uh}var y=(s&4)!==0,S=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var C=h,w;C!==null;){w=C;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=So(C,x),_!=null&&y.push(Ro(C,_,w)))),S)break;C=C.return}0<y.length&&(m=new u(m,g,null,r,d),p.push({event:m,listeners:y}))}}if(!(s&7)){e:{if(m=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",m&&r!==Cm&&(g=r.relatedTarget||r.fromElement)&&(Zn(g)||g[ln]))break e;if((u||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=h,g=g?Zn(g):null,g!==null&&(S=ja(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=h),u!==g)){if(y=Lh,_="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(y=Uh,_="onPointerLeave",x="onPointerEnter",C="pointer"),S=u==null?m:La(u),w=g==null?m:La(g),m=new y(_,C+"leave",u,r,d),m.target=S,m.relatedTarget=w,_=null,Zn(d)===h&&(y=new y(x,C+"enter",g,r,d),y.target=w,y.relatedTarget=S,_=y),S=_,u&&g)t:{for(y=u,x=g,C=0,w=y;w;w=wa(w))C++;for(w=0,_=x;_;_=wa(_))w++;for(;0<C-w;)y=wa(y),C--;for(;0<w-C;)x=wa(x),w--;for(;C--;){if(y===x||x!==null&&y===x.alternate)break t;y=wa(y),x=wa(x)}y=null}else y=null;u!==null&&Xh(p,m,u,y,!1),g!==null&&S!==null&&Xh(p,S,g,y,!0)}}e:{if(m=h?La(h):window,u=m.nodeName&&m.nodeName.toLowerCase(),u==="select"||u==="input"&&m.type==="file")var z=LN;else if(Wh(m))if(Cy)z=qN;else{z=UN;var P=ON}else(u=m.nodeName)&&u.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(z=BN);if(z&&(z=z(e,h))){Ny(p,z,r,d);break e}P&&P(e,m,h),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&ym(m,"number",m.value)}switch(P=h?La(h):window,e){case"focusin":(Wh(P)||P.contentEditable==="true")&&(Ma=P,Em=h,co=null);break;case"focusout":co=Em=Ma=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,Qh(p,r,d);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":Qh(p,r,d)}var b;if(ef)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $a?vy(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(by&&r.locale!=="ko"&&($a||E!=="onCompositionStart"?E==="onCompositionEnd"&&$a&&(b=yy()):(Nn=d,Jp="value"in Nn?Nn.value:Nn.textContent,$a=!0)),P=Cc(h,E),0<P.length&&(E=new Oh(E,e,null,r,d),p.push({event:E,listeners:P}),b?E.data=b:(b=jy(r),b!==null&&(E.data=b)))),(b=FN?DN(e,r):$N(e,r))&&(h=Cc(h,"onBeforeInput"),0<h.length&&(d=new Oh("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:h}),d.data=b))}Ry(p,s)})}function Ro(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Cc(e,s){for(var r=s+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=So(e,r),i!=null&&n.unshift(Ro(e,i,a)),i=So(e,s),i!=null&&n.push(Ro(e,i,a))),e=e.return}return n}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xh(e,s,r,n,a){for(var i=s._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,a?(c=So(r,i),c!=null&&o.unshift(Ro(r,c,l))):a||(c=So(r,i),c!=null&&o.push(Ro(r,c,l)))),r=r.return}o.length!==0&&e.push({event:s,listeners:o})}var YN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function Zh(e){return(typeof e=="string"?e:""+e).replace(YN,`
`).replace(JN,"")}function _l(e,s,r){if(s=Zh(s),Zh(e)!==s&&r)throw Error(Re(425))}function wc(){}var zm=null,Rm=null;function Fm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(e){return eg.resolve(null).then(e).catch(e2)}:Dm;function e2(e){setTimeout(function(){throw e})}function Du(e,s){var r=s,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Po(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Po(s)}function kn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function tg(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Ur="__reactFiber$"+ji,Fo="__reactProps$"+ji,ln="__reactContainer$"+ji,$m="__reactEvents$"+ji,t2="__reactListeners$"+ji,s2="__reactHandles$"+ji;function Zn(e){var s=e[Ur];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ln]||r[Ur]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=tg(e);e!==null;){if(r=e[Ur])return r;e=tg(e)}return s}e=r,r=e.parentNode}return null}function el(e){return e=e[Ur]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function La(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function pd(e){return e[Fo]||null}var Mm=[],Oa=-1;function On(e){return{current:e}}function Ft(e){0>Oa||(e.current=Mm[Oa],Mm[Oa]=null,Oa--)}function Et(e,s){Oa++,Mm[Oa]=e.current,e.current=s}var Mn={},ys=On(Mn),$s=On(!1),ua=Mn;function ai(e,s){var r=e.type.contextTypes;if(!r)return Mn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ms(e){return e=e.childContextTypes,e!=null}function _c(){Ft($s),Ft(ys)}function sg(e,s,r){if(ys.current!==Mn)throw Error(Re(168));Et(ys,s),Et($s,r)}function Dy(e,s,r){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Re(108,O1(e)||"Unknown",a));return Ot({},r,n)}function Sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,ua=ys.current,Et(ys,e),Et($s,$s.current),!0}function rg(e,s,r){var n=e.stateNode;if(!n)throw Error(Re(169));r?(e=Dy(e,s,ua),n.__reactInternalMemoizedMergedChildContext=e,Ft($s),Ft(ys),Et(ys,e)):Ft($s),Et($s,r)}var en=null,fd=!1,$u=!1;function $y(e){en===null?en=[e]:en.push(e)}function r2(e){fd=!0,$y(e)}function Un(){if(!$u&&en!==null){$u=!0;var e=0,s=Ct;try{var r=en;for(Ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}en=null,fd=!1}catch(a){throw en!==null&&(en=en.slice(e+1)),oy(Gp,Un),a}finally{Ct=s,$u=!1}}return null}var Ua=[],Ba=0,Ac=null,kc=0,ir=[],or=0,ma=null,rn=1,nn="";function Qn(e,s){Ua[Ba++]=kc,Ua[Ba++]=Ac,Ac=e,kc=s}function My(e,s,r){ir[or++]=rn,ir[or++]=nn,ir[or++]=ma,ma=e;var n=rn;e=nn;var a=32-_r(n)-1;n&=~(1<<a),r+=1;var i=32-_r(s)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,rn=1<<32-_r(s)+a|r<<a|n,nn=i+e}else rn=1<<i|r<<a|n,nn=e}function sf(e){e.return!==null&&(Qn(e,1),My(e,1,0))}function rf(e){for(;e===Ac;)Ac=Ua[--Ba],Ua[Ba]=null,kc=Ua[--Ba],Ua[Ba]=null;for(;e===ma;)ma=ir[--or],ir[or]=null,nn=ir[--or],ir[or]=null,rn=ir[--or],ir[or]=null}var Ys=null,Qs=null,$t=!1,Cr=null;function Iy(e,s){var r=dr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function ng(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Ys=e,Qs=kn(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Ys=e,Qs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=ma!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=dr(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Ys=e,Qs=null,!0):!1;default:return!1}}function Im(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lm(e){if($t){var s=Qs;if(s){var r=s;if(!ng(e,s)){if(Im(e))throw Error(Re(418));s=kn(r.nextSibling);var n=Ys;s&&ng(e,s)?Iy(n,r):(e.flags=e.flags&-4097|2,$t=!1,Ys=e)}}else{if(Im(e))throw Error(Re(418));e.flags=e.flags&-4097|2,$t=!1,Ys=e}}}function ag(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ys=e}function Sl(e){if(e!==Ys)return!1;if(!$t)return ag(e),$t=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Fm(e.type,e.memoizedProps)),s&&(s=Qs)){if(Im(e))throw Ly(),Error(Re(418));for(;s;)Iy(e,s),s=kn(s.nextSibling)}if(ag(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Qs=kn(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Qs=null}}else Qs=Ys?kn(e.stateNode.nextSibling):null;return!0}function Ly(){for(var e=Qs;e;)e=kn(e.nextSibling)}function ii(){Qs=Ys=null,$t=!1}function nf(e){Cr===null?Cr=[e]:Cr.push(e)}var n2=hn.ReactCurrentBatchConfig;function Di(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,e));var a=n,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,e))}return e}function Al(e,s){throw e=Object.prototype.toString.call(s),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function ig(e){var s=e._init;return s(e._payload)}function Oy(e){function s(x,C){if(e){var w=x.deletions;w===null?(x.deletions=[C],x.flags|=16):w.push(C)}}function r(x,C){if(!e)return null;for(;C!==null;)s(x,C),C=C.sibling;return null}function n(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function a(x,C){return x=zn(x,C),x.index=0,x.sibling=null,x}function i(x,C,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<C?(x.flags|=2,C):w):(x.flags|=2,C)):(x.flags|=1048576,C)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,C,w,_){return C===null||C.tag!==6?(C=qu(w,x.mode,_),C.return=x,C):(C=a(C,w),C.return=x,C)}function c(x,C,w,_){var z=w.type;return z===Da?d(x,C,w.props.children,_,w.key):C!==null&&(C.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===yn&&ig(z)===C.type)?(_=a(C,w.props),_.ref=Di(x,C,w),_.return=x,_):(_=tc(w.type,w.key,w.props,null,x.mode,_),_.ref=Di(x,C,w),_.return=x,_)}function h(x,C,w,_){return C===null||C.tag!==4||C.stateNode.containerInfo!==w.containerInfo||C.stateNode.implementation!==w.implementation?(C=Wu(w,x.mode,_),C.return=x,C):(C=a(C,w.children||[]),C.return=x,C)}function d(x,C,w,_,z){return C===null||C.tag!==7?(C=oa(w,x.mode,_,z),C.return=x,C):(C=a(C,w),C.return=x,C)}function p(x,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return C=qu(""+C,x.mode,w),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gl:return w=tc(C.type,C.key,C.props,null,x.mode,w),w.ref=Di(x,null,C),w.return=x,w;case Fa:return C=Wu(C,x.mode,w),C.return=x,C;case yn:var _=C._init;return p(x,_(C._payload),w)}if(Xi(C)||Ei(C))return C=oa(C,x.mode,w,null),C.return=x,C;Al(x,C)}return null}function m(x,C,w,_){var z=C!==null?C.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return z!==null?null:l(x,C,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:return w.key===z?c(x,C,w,_):null;case Fa:return w.key===z?h(x,C,w,_):null;case yn:return z=w._init,m(x,C,z(w._payload),_)}if(Xi(w)||Ei(w))return z!==null?null:d(x,C,w,_,null);Al(x,w)}return null}function u(x,C,w,_,z){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(C,x,""+_,z);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gl:return x=x.get(_.key===null?w:_.key)||null,c(C,x,_,z);case Fa:return x=x.get(_.key===null?w:_.key)||null,h(C,x,_,z);case yn:var P=_._init;return u(x,C,w,P(_._payload),z)}if(Xi(_)||Ei(_))return x=x.get(w)||null,d(C,x,_,z,null);Al(C,_)}return null}function g(x,C,w,_){for(var z=null,P=null,b=C,E=C=0,j=null;b!==null&&E<w.length;E++){b.index>E?(j=b,b=null):j=b.sibling;var F=m(x,b,w[E],_);if(F===null){b===null&&(b=j);break}e&&b&&F.alternate===null&&s(x,b),C=i(F,C,E),P===null?z=F:P.sibling=F,P=F,b=j}if(E===w.length)return r(x,b),$t&&Qn(x,E),z;if(b===null){for(;E<w.length;E++)b=p(x,w[E],_),b!==null&&(C=i(b,C,E),P===null?z=b:P.sibling=b,P=b);return $t&&Qn(x,E),z}for(b=n(x,b);E<w.length;E++)j=u(b,x,E,w[E],_),j!==null&&(e&&j.alternate!==null&&b.delete(j.key===null?E:j.key),C=i(j,C,E),P===null?z=j:P.sibling=j,P=j);return e&&b.forEach(function($){return s(x,$)}),$t&&Qn(x,E),z}function y(x,C,w,_){var z=Ei(w);if(typeof z!="function")throw Error(Re(150));if(w=z.call(w),w==null)throw Error(Re(151));for(var P=z=null,b=C,E=C=0,j=null,F=w.next();b!==null&&!F.done;E++,F=w.next()){b.index>E?(j=b,b=null):j=b.sibling;var $=m(x,b,F.value,_);if($===null){b===null&&(b=j);break}e&&b&&$.alternate===null&&s(x,b),C=i($,C,E),P===null?z=$:P.sibling=$,P=$,b=j}if(F.done)return r(x,b),$t&&Qn(x,E),z;if(b===null){for(;!F.done;E++,F=w.next())F=p(x,F.value,_),F!==null&&(C=i(F,C,E),P===null?z=F:P.sibling=F,P=F);return $t&&Qn(x,E),z}for(b=n(x,b);!F.done;E++,F=w.next())F=u(b,x,E,F.value,_),F!==null&&(e&&F.alternate!==null&&b.delete(F.key===null?E:F.key),C=i(F,C,E),P===null?z=F:P.sibling=F,P=F);return e&&b.forEach(function(N){return s(x,N)}),$t&&Qn(x,E),z}function S(x,C,w,_){if(typeof w=="object"&&w!==null&&w.type===Da&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:e:{for(var z=w.key,P=C;P!==null;){if(P.key===z){if(z=w.type,z===Da){if(P.tag===7){r(x,P.sibling),C=a(P,w.props.children),C.return=x,x=C;break e}}else if(P.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===yn&&ig(z)===P.type){r(x,P.sibling),C=a(P,w.props),C.ref=Di(x,P,w),C.return=x,x=C;break e}r(x,P);break}else s(x,P);P=P.sibling}w.type===Da?(C=oa(w.props.children,x.mode,_,w.key),C.return=x,x=C):(_=tc(w.type,w.key,w.props,null,x.mode,_),_.ref=Di(x,C,w),_.return=x,x=_)}return o(x);case Fa:e:{for(P=w.key;C!==null;){if(C.key===P)if(C.tag===4&&C.stateNode.containerInfo===w.containerInfo&&C.stateNode.implementation===w.implementation){r(x,C.sibling),C=a(C,w.children||[]),C.return=x,x=C;break e}else{r(x,C);break}else s(x,C);C=C.sibling}C=Wu(w,x.mode,_),C.return=x,x=C}return o(x);case yn:return P=w._init,S(x,C,P(w._payload),_)}if(Xi(w))return g(x,C,w,_);if(Ei(w))return y(x,C,w,_);Al(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,C!==null&&C.tag===6?(r(x,C.sibling),C=a(C,w),C.return=x,x=C):(r(x,C),C=qu(w,x.mode,_),C.return=x,x=C),o(x)):r(x,C)}return S}var oi=Oy(!0),Uy=Oy(!1),Pc=On(null),Ec=null,qa=null,af=null;function of(){af=qa=Ec=null}function lf(e){var s=Pc.current;Ft(Pc),e._currentValue=s}function Om(e,s,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===r)break;e=e.return}}function Xa(e,s){Ec=e,af=qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Fs=!0),e.firstContext=null)}function pr(e){var s=e._currentValue;if(af!==e)if(e={context:e,memoizedValue:s,next:null},qa===null){if(Ec===null)throw Error(Re(308));qa=e,Ec.dependencies={lanes:0,firstContext:e}}else qa=qa.next=e;return s}var ea=null;function cf(e){ea===null?ea=[e]:ea.push(e)}function By(e,s,r,n){var a=s.interleaved;return a===null?(r.next=r,cf(s)):(r.next=a.next,a.next=r),s.interleaved=r,cn(e,n)}function cn(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bn=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function Pn(e,s,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ut&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,cn(e,r)}return a=n.interleaved,a===null?(s.next=s,cf(n)):(s.next=a.next,a.next=s),n.interleaved=s,cn(e,r)}function Ql(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Kp(e,r)}}function og(e,s){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Tc(e,s,r,n){var a=e.updateQueue;bn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;o=0,d=h=c=null,l=i;do{var m=l.lane,u=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:u,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=s,u=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){p=g.call(u,p,m);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(u,p,m):g,m==null)break e;p=Ot({},p,m);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else u={eventTime:u,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=u,c=p):d=d.next=u,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=p),a.baseState=c,a.firstBaseUpdate=h,a.lastBaseUpdate=d,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);fa|=o,e.lanes=o,e.memoizedState=p}}function lg(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Re(191,a));a.call(n)}}}var tl={},Wr=On(tl),Do=On(tl),$o=On(tl);function ta(e){if(e===tl)throw Error(Re(174));return e}function uf(e,s){switch(Et($o,s),Et(Do,e),Et(Wr,tl),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vm(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=vm(s,e)}Ft(Wr),Et(Wr,s)}function li(){Ft(Wr),Ft(Do),Ft($o)}function Wy(e){ta($o.current);var s=ta(Wr.current),r=vm(s,e.type);s!==r&&(Et(Do,e),Et(Wr,r))}function mf(e){Do.current===e&&(Ft(Wr),Ft(Do))}var It=On(0);function zc(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mu=[];function pf(){for(var e=0;e<Mu.length;e++)Mu[e]._workInProgressVersionPrimary=null;Mu.length=0}var Yl=hn.ReactCurrentDispatcher,Iu=hn.ReactCurrentBatchConfig,pa=0,Lt=null,Jt=null,Zt=null,Rc=!1,uo=!1,Mo=0,a2=0;function ls(){throw Error(Re(321))}function ff(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Ar(e[r],s[r]))return!1;return!0}function hf(e,s,r,n,a,i){if(pa=i,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Yl.current=e===null||e.memoizedState===null?c2:d2,e=r(n,a),uo){i=0;do{if(uo=!1,Mo=0,25<=i)throw Error(Re(301));i+=1,Zt=Jt=null,s.updateQueue=null,Yl.current=u2,e=r(n,a)}while(uo)}if(Yl.current=Fc,s=Jt!==null&&Jt.next!==null,pa=0,Zt=Jt=Lt=null,Rc=!1,s)throw Error(Re(300));return e}function gf(){var e=Mo!==0;return Mo=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Lt.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function fr(){if(Jt===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var s=Zt===null?Lt.memoizedState:Zt.next;if(s!==null)Zt=s,Jt=e;else{if(e===null)throw Error(Re(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Zt===null?Lt.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Io(e,s){return typeof s=="function"?s(e):s}function Lu(e){var s=fr(),r=s.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=Jt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,h=i;do{var d=h.lane;if((pa&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,Lt.lanes|=d,fa|=d}h=h.next}while(h!==null&&h!==i);c===null?o=n:c.next=l,Ar(n,s.memoizedState)||(Fs=!0),s.memoizedState=n,s.baseState=o,s.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Lt.lanes|=i,fa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Ou(e){var s=fr(),r=s.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ar(i,s.memoizedState)||(Fs=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function Vy(){}function Hy(e,s){var r=Lt,n=fr(),a=s(),i=!Ar(n.memoizedState,a);if(i&&(n.memoizedState=a,Fs=!0),n=n.queue,xf(Qy.bind(null,r,n,e),[e]),n.getSnapshot!==s||i||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,Lo(9,Ky.bind(null,r,n,a,s),void 0,null),es===null)throw Error(Re(349));pa&30||Gy(r,s,a)}return a}function Gy(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Ky(e,s,r,n){s.value=r,s.getSnapshot=n,Yy(s)&&Jy(e)}function Qy(e,s,r){return r(function(){Yy(s)&&Jy(e)})}function Yy(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Ar(e,r)}catch{return!0}}function Jy(e){var s=cn(e,1);s!==null&&Sr(s,e,1,-1)}function cg(e){var s=$r();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},s.queue=e,e=e.dispatch=l2.bind(null,Lt,e),[s.memoizedState,e]}function Lo(e,s,r,n){return e={tag:e,create:s,destroy:r,deps:n,next:null},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,s.lastEffect=e)),e}function Xy(){return fr().memoizedState}function Jl(e,s,r,n){var a=$r();Lt.flags|=e,a.memoizedState=Lo(1|s,r,void 0,n===void 0?null:n)}function hd(e,s,r,n){var a=fr();n=n===void 0?null:n;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,n!==null&&ff(n,o.deps)){a.memoizedState=Lo(s,r,i,n);return}}Lt.flags|=e,a.memoizedState=Lo(1|s,r,i,n)}function dg(e,s){return Jl(8390656,8,e,s)}function xf(e,s){return hd(2048,8,e,s)}function Zy(e,s){return hd(4,2,e,s)}function eb(e,s){return hd(4,4,e,s)}function tb(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function sb(e,s,r){return r=r!=null?r.concat([e]):null,hd(4,4,tb.bind(null,s,e),r)}function yf(){}function rb(e,s){var r=fr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&ff(s,n[1])?n[0]:(r.memoizedState=[e,s],e)}function nb(e,s){var r=fr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&ff(s,n[1])?n[0]:(e=e(),r.memoizedState=[e,s],e)}function ab(e,s,r){return pa&21?(Ar(r,s)||(r=dy(),Lt.lanes|=r,fa|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Fs=!0),e.memoizedState=r)}function i2(e,s){var r=Ct;Ct=r!==0&&4>r?r:4,e(!0);var n=Iu.transition;Iu.transition={};try{e(!1),s()}finally{Ct=r,Iu.transition=n}}function ib(){return fr().memoizedState}function o2(e,s,r){var n=Tn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ob(e))lb(s,r);else if(r=By(e,s,r,n),r!==null){var a=ws();Sr(r,e,n,a),cb(r,s,n)}}function l2(e,s,r){var n=Tn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ob(e))lb(s,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ar(l,o)){var c=s.interleaved;c===null?(a.next=a,cf(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=By(e,s,a,n),r!==null&&(a=ws(),Sr(r,e,n,a),cb(r,s,n))}}function ob(e){var s=e.alternate;return e===Lt||s!==null&&s===Lt}function lb(e,s){uo=Rc=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function cb(e,s,r){if(r&4194240){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Kp(e,r)}}var Fc={readContext:pr,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},c2={readContext:pr,useCallback:function(e,s){return $r().memoizedState=[e,s===void 0?null:s],e},useContext:pr,useEffect:dg,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Jl(4194308,4,tb.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Jl(4194308,4,e,s)},useInsertionEffect:function(e,s){return Jl(4,2,e,s)},useMemo:function(e,s){var r=$r();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var n=$r();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=o2.bind(null,Lt,e),[n.memoizedState,e]},useRef:function(e){var s=$r();return e={current:e},s.memoizedState=e},useState:cg,useDebugValue:yf,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=cg(!1),s=e[0];return e=i2.bind(null,e[1]),$r().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var n=Lt,a=$r();if($t){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=s(),es===null)throw Error(Re(349));pa&30||Gy(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,dg(Qy.bind(null,n,i,e),[e]),n.flags|=2048,Lo(9,Ky.bind(null,n,i,r,s),void 0,null),r},useId:function(){var e=$r(),s=es.identifierPrefix;if($t){var r=nn,n=rn;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Mo++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=a2++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},d2={readContext:pr,useCallback:rb,useContext:pr,useEffect:xf,useImperativeHandle:sb,useInsertionEffect:Zy,useLayoutEffect:eb,useMemo:nb,useReducer:Lu,useRef:Xy,useState:function(){return Lu(Io)},useDebugValue:yf,useDeferredValue:function(e){var s=fr();return ab(s,Jt.memoizedState,e)},useTransition:function(){var e=Lu(Io)[0],s=fr().memoizedState;return[e,s]},useMutableSource:Vy,useSyncExternalStore:Hy,useId:ib,unstable_isNewReconciler:!1},u2={readContext:pr,useCallback:rb,useContext:pr,useEffect:xf,useImperativeHandle:sb,useInsertionEffect:Zy,useLayoutEffect:eb,useMemo:nb,useReducer:Ou,useRef:Xy,useState:function(){return Ou(Io)},useDebugValue:yf,useDeferredValue:function(e){var s=fr();return Jt===null?s.memoizedState=e:ab(s,Jt.memoizedState,e)},useTransition:function(){var e=Ou(Io)[0],s=fr().memoizedState;return[e,s]},useMutableSource:Vy,useSyncExternalStore:Hy,useId:ib,unstable_isNewReconciler:!1};function jr(e,s){if(e&&e.defaultProps){s=Ot({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Um(e,s,r,n){s=e.memoizedState,r=r(n,s),r=r==null?s:Ot({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gd={isMounted:function(e){return(e=e._reactInternals)?ja(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var n=ws(),a=Tn(e),i=an(n,a);i.payload=s,r!=null&&(i.callback=r),s=Pn(e,i,a),s!==null&&(Sr(s,e,a,n),Ql(s,e,a))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var n=ws(),a=Tn(e),i=an(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Pn(e,i,a),s!==null&&(Sr(s,e,a,n),Ql(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=ws(),n=Tn(e),a=an(r,n);a.tag=2,s!=null&&(a.callback=s),s=Pn(e,a,n),s!==null&&(Sr(s,e,n,r),Ql(s,e,n))}};function ug(e,s,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):s.prototype&&s.prototype.isPureReactComponent?!To(r,n)||!To(a,i):!0}function db(e,s,r){var n=!1,a=Mn,i=s.contextType;return typeof i=="object"&&i!==null?i=pr(i):(a=Ms(s)?ua:ys.current,n=s.contextTypes,i=(n=n!=null)?ai(e,a):Mn),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gd,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),s}function mg(e,s,r,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==e&&gd.enqueueReplaceState(s,s.state,null)}function Bm(e,s,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},df(e);var i=s.contextType;typeof i=="object"&&i!==null?a.context=pr(i):(i=Ms(s)?ua:ys.current,a.context=ai(e,i)),a.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Um(e,s,i,r),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&gd.enqueueReplaceState(a,a.state,null),Tc(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,s){try{var r="",n=s;do r+=L1(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:a,digest:null}}function Uu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function qm(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var m2=typeof WeakMap=="function"?WeakMap:Map;function ub(e,s,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){$c||($c=!0,Zm=n),qm(e,s)},r}function mb(e,s,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){qm(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,s),typeof n!="function"&&(En===null?En=new Set([this]):En.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function pg(e,s,r){var n=e.pingCache;if(n===null){n=e.pingCache=new m2;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),e=S2.bind(null,e,s,r),s.then(e,e))}function fg(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function hg(e,s,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=an(-1,1),s.tag=2,Pn(r,s,1))),r.lanes|=1),e)}var p2=hn.ReactCurrentOwner,Fs=!1;function Ns(e,s,r,n){s.child=e===null?Uy(s,null,r,n):oi(s,e.child,r,n)}function gg(e,s,r,n,a){r=r.render;var i=s.ref;return Xa(s,a),n=hf(e,s,r,n,i,a),r=gf(),e!==null&&!Fs?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,dn(e,s,a)):($t&&r&&sf(s),s.flags|=1,Ns(e,s,n,a),s.child)}function xg(e,s,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Sf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,pb(e,s,i,n,a)):(e=tc(r.type,null,n,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(o,n)&&e.ref===s.ref)return dn(e,s,a)}return s.flags|=1,e=zn(i,n),e.ref=s.ref,e.return=s,s.child=e}function pb(e,s,r,n,a){if(e!==null){var i=e.memoizedProps;if(To(i,n)&&e.ref===s.ref)if(Fs=!1,s.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Fs=!0);else return s.lanes=e.lanes,dn(e,s,a)}return Wm(e,s,r,n,a)}function fb(e,s,r){var n=s.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Va,Gs),Gs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Et(Va,Gs),Gs|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Et(Va,Gs),Gs|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,Et(Va,Gs),Gs|=n;return Ns(e,s,a,r),s.child}function hb(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Wm(e,s,r,n,a){var i=Ms(r)?ua:ys.current;return i=ai(s,i),Xa(s,a),r=hf(e,s,r,n,i,a),n=gf(),e!==null&&!Fs?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,dn(e,s,a)):($t&&n&&sf(s),s.flags|=1,Ns(e,s,r,a),s.child)}function yg(e,s,r,n,a){if(Ms(r)){var i=!0;Sc(s)}else i=!1;if(Xa(s,a),s.stateNode===null)Xl(e,s),db(s,r,n),Bm(s,r,n,a),n=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=pr(h):(h=Ms(r)?ua:ys.current,h=ai(s,h));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==h)&&mg(s,o,n,h),bn=!1;var m=s.memoizedState;o.state=m,Tc(s,n,o,a),c=s.memoizedState,l!==n||m!==c||$s.current||bn?(typeof d=="function"&&(Um(s,r,d,n),c=s.memoizedState),(l=bn||ug(s,r,l,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),o.props=n,o.state=c,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{o=s.stateNode,qy(e,s),l=s.memoizedProps,h=s.type===s.elementType?l:jr(s.type,l),o.props=h,p=s.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=Ms(r)?ua:ys.current,c=ai(s,c));var u=r.getDerivedStateFromProps;(d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&mg(s,o,n,c),bn=!1,m=s.memoizedState,o.state=m,Tc(s,n,o,a);var g=s.memoizedState;l!==p||m!==g||$s.current||bn?(typeof u=="function"&&(Um(s,r,u,n),g=s.memoizedState),(h=bn||ug(s,r,h,n,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=g),o.props=n,o.state=g,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(s.flags|=1024),n=!1)}return Vm(e,s,r,n,i,a)}function Vm(e,s,r,n,a,i){hb(e,s);var o=(s.flags&128)!==0;if(!n&&!o)return a&&rg(s,r,!1),dn(e,s,i);n=s.stateNode,p2.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&o?(s.child=oi(s,e.child,null,i),s.child=oi(s,null,l,i)):Ns(e,s,l,i),s.memoizedState=n.state,a&&rg(s,r,!0),s.child}function gb(e){var s=e.stateNode;s.pendingContext?sg(e,s.pendingContext,s.pendingContext!==s.context):s.context&&sg(e,s.context,!1),uf(e,s.containerInfo)}function bg(e,s,r,n,a){return ii(),nf(a),s.flags|=256,Ns(e,s,r,n),s.child}var Hm={dehydrated:null,treeContext:null,retryLane:0};function Gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function xb(e,s,r){var n=s.pendingProps,a=It.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Et(It,a&1),e===null)return Lm(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=n.children,e=n.fallback,i?(n=s.mode,i=s.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bd(o,n,0,null),e=oa(e,n,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=Gm(r),s.memoizedState=Hm,e):bf(s,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return f2(e,s,o,n,l,a,r);if(i){i=n.fallback,o=s.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=zn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=zn(l,i):(i=oa(i,o,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,o=e.child.memoizedState,o=o===null?Gm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,s.memoizedState=Hm,n}return i=e.child,e=i.sibling,n=zn(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=n,s.memoizedState=null,n}function bf(e,s){return s=bd({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function kl(e,s,r,n){return n!==null&&nf(n),oi(s,e.child,null,r),e=bf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function f2(e,s,r,n,a,i,o){if(r)return s.flags&256?(s.flags&=-257,n=Uu(Error(Re(422))),kl(e,s,o,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=bd({mode:"visible",children:n.children},a,0,null),i=oa(i,a,o,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&oi(s,e.child,null,o),s.child.memoizedState=Gm(o),s.memoizedState=Hm,i);if(!(s.mode&1))return kl(e,s,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Re(419)),n=Uu(i,n,void 0),kl(e,s,o,n)}if(l=(o&e.childLanes)!==0,Fs||l){if(n=es,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,cn(e,a),Sr(n,e,a,-1))}return _f(),n=Uu(Error(Re(421))),kl(e,s,o,n)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=A2.bind(null,e),a._reactRetry=s,null):(e=i.treeContext,Qs=kn(a.nextSibling),Ys=s,$t=!0,Cr=null,e!==null&&(ir[or++]=rn,ir[or++]=nn,ir[or++]=ma,rn=e.id,nn=e.overflow,ma=s),s=bf(s,n.children),s.flags|=4096,s)}function vg(e,s,r){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),Om(e.return,s,r)}function Bu(e,s,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function yb(e,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Ns(e,s,n.children,r),n=It.current,n&2)n=n&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vg(e,r,s);else if(e.tag===19)vg(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Et(It,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)e=r.alternate,e!==null&&zc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Bu(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&zc(e)===null){s.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bu(s,!0,r,null,i);break;case"together":Bu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xl(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function dn(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),fa|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(Re(153));if(s.child!==null){for(e=s.child,r=zn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=zn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function h2(e,s,r){switch(s.tag){case 3:gb(s),ii();break;case 5:Wy(s);break;case 1:Ms(s.type)&&Sc(s);break;case 4:uf(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Et(Pc,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Et(It,It.current&1),s.flags|=128,null):r&s.child.childLanes?xb(e,s,r):(Et(It,It.current&1),e=dn(e,s,r),e!==null?e.sibling:null);Et(It,It.current&1);break;case 19:if(n=(r&s.childLanes)!==0,e.flags&128){if(n)return yb(e,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Et(It,It.current),n)break;return null;case 22:case 23:return s.lanes=0,fb(e,s,r)}return dn(e,s,r)}var bb,Km,vb,jb;bb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Km=function(){};vb=function(e,s,r,n){var a=e.memoizedProps;if(a!==n){e=s.stateNode,ta(Wr.current);var i=null;switch(r){case"input":a=gm(e,a),n=gm(e,n),i=[];break;case"select":a=Ot({},a,{value:void 0}),n=Ot({},n,{value:void 0}),i=[];break;case"textarea":a=bm(e,a),n=bm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wc)}jm(r,n);var o;r=null;for(h in a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var l=a[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in n){var c=n[h];if(l=a!=null?a[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wo.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&zt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(h,c))}r&&(i=i||[]).push("style",r);var h=i;(s.updateQueue=h)&&(s.flags|=4)}};jb=function(e,s,r,n){r!==n&&(s.flags|=4)};function $i(e,s){if(!$t)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cs(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(s)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,s}function g2(e,s,r){var n=s.pendingProps;switch(rf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(s),null;case 1:return Ms(s.type)&&_c(),cs(s),null;case 3:return n=s.stateNode,li(),Ft($s),Ft(ys),pf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Cr!==null&&(sp(Cr),Cr=null))),Km(e,s),cs(s),null;case 5:mf(s);var a=ta($o.current);if(r=s.type,e!==null&&s.stateNode!=null)vb(e,s,r,n,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(Re(166));return cs(s),null}if(e=ta(Wr.current),Sl(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[Ur]=s,n[Fo]=i,e=(s.mode&1)!==0,r){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(a=0;a<eo.length;a++)zt(eo[a],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":Ph(n,i),zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},zt("invalid",n);break;case"textarea":Th(n,i),zt("invalid",n)}jm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&_l(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_l(n.textContent,l,e),a=["children",""+l]):wo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&zt("scroll",n)}switch(r){case"input":xl(n),Eh(n,i,!0);break;case"textarea":xl(n),zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wc)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ur]=s,e[Fo]=n,bb(e,s,!1,!1),s.stateNode=e;e:{switch(o=Nm(r,n),r){case"dialog":zt("cancel",e),zt("close",e),a=n;break;case"iframe":case"object":case"embed":zt("load",e),a=n;break;case"video":case"audio":for(a=0;a<eo.length;a++)zt(eo[a],e);a=n;break;case"source":zt("error",e),a=n;break;case"img":case"image":case"link":zt("error",e),zt("load",e),a=n;break;case"details":zt("toggle",e),a=n;break;case"input":Ph(e,n),a=gm(e,n),zt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ot({},n,{value:void 0}),zt("invalid",e);break;case"textarea":Th(e,n),a=bm(e,n),zt("invalid",e);break;default:a=n}jm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?X0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_o(e,c):typeof c=="number"&&_o(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&zt("scroll",e):c!=null&&Bp(e,i,c,o))}switch(r){case"input":xl(e),Eh(e,n,!1);break;case"textarea":xl(e),zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$n(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ka(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ka(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return cs(s),null;case 6:if(e&&s.stateNode!=null)jb(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(Re(166));if(r=ta($o.current),ta(Wr.current),Sl(s)){if(n=s.stateNode,r=s.memoizedProps,n[Ur]=s,(i=n.nodeValue!==r)&&(e=Ys,e!==null))switch(e.tag){case 3:_l(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(n.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ur]=s,s.stateNode=n}return cs(s),null;case 13:if(Ft(It),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&Qs!==null&&s.mode&1&&!(s.flags&128))Ly(),ii(),s.flags|=98560,i=!1;else if(i=Sl(s),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Re(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Ur]=s}else ii(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;cs(s),i=!1}else Cr!==null&&(sp(Cr),Cr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(e===null||It.current&1?Xt===0&&(Xt=3):_f())),s.updateQueue!==null&&(s.flags|=4),cs(s),null);case 4:return li(),Km(e,s),e===null&&zo(s.stateNode.containerInfo),cs(s),null;case 10:return lf(s.type._context),cs(s),null;case 17:return Ms(s.type)&&_c(),cs(s),null;case 19:if(Ft(It),i=s.memoizedState,i===null)return cs(s),null;if(n=(s.flags&128)!==0,o=i.rendering,o===null)if(n)$i(i,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=zc(e),o!==null){for(s.flags|=128,$i(i,!1),n=o.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Et(It,It.current&1|2),s.child}e=e.sibling}i.tail!==null&&Vt()>di&&(s.flags|=128,n=!0,$i(i,!1),s.lanes=4194304)}else{if(!n)if(e=zc(o),e!==null){if(s.flags|=128,n=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$t)return cs(s),null}else 2*Vt()-i.renderingStartTime>di&&r!==1073741824&&(s.flags|=128,n=!0,$i(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Vt(),s.sibling=null,r=It.current,Et(It,n?r&1|2:r&1),s):(cs(s),null);case 22:case 23:return wf(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Gs&1073741824&&(cs(s),s.subtreeFlags&6&&(s.flags|=8192)):cs(s),null;case 24:return null;case 25:return null}throw Error(Re(156,s.tag))}function x2(e,s){switch(rf(s),s.tag){case 1:return Ms(s.type)&&_c(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return li(),Ft($s),Ft(ys),pf(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return mf(s),null;case 13:if(Ft(It),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(Re(340));ii()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Ft(It),null;case 4:return li(),null;case 10:return lf(s.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var Pl=!1,fs=!1,y2=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Wa(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qt(e,s,n)}else r.current=null}function Qm(e,s,r){try{r()}catch(n){qt(e,s,n)}}var jg=!1;function b2(e,s){if(zm=jc,e=Sy(),tf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,d=0,p=e,m=null;t:for(;;){for(var u;p!==r||a!==0&&p.nodeType!==3||(l=o+a),p!==i||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(u=p.firstChild)!==null;)m=p,p=u;for(;;){if(p===e)break t;if(m===r&&++h===a&&(l=o),m===i&&++d===n&&(c=o),(u=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=u}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rm={focusedElem:e,selectionRange:r},jc=!1,Le=s;Le!==null;)if(s=Le,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Le=e;else for(;Le!==null;){s=Le;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,x=s.stateNode,C=x.getSnapshotBeforeUpdate(s.elementType===s.type?y:jr(s.type,y),S);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var w=s.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(_){qt(s,s.return,_)}if(e=s.sibling,e!==null){e.return=s.return,Le=e;break}Le=s.return}return g=jg,jg=!1,g}function mo(e,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Qm(s,r,i)}a=a.next}while(a!==n)}}function xd(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Ym(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function Nb(e){var s=e.alternate;s!==null&&(e.alternate=null,Nb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Ur],delete s[Fo],delete s[$m],delete s[t2],delete s[s2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cb(e){return e.tag===5||e.tag===3||e.tag===4}function Ng(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jm(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=wc));else if(n!==4&&(e=e.child,e!==null))for(Jm(e,s,r),e=e.sibling;e!==null;)Jm(e,s,r),e=e.sibling}function Xm(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xm(e,s,r),e=e.sibling;e!==null;)Xm(e,s,r),e=e.sibling}var ns=null,Nr=!1;function gn(e,s,r){for(r=r.child;r!==null;)wb(e,s,r),r=r.sibling}function wb(e,s,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(cd,r)}catch{}switch(r.tag){case 5:fs||Wa(r,s);case 6:var n=ns,a=Nr;ns=null,gn(e,s,r),ns=n,Nr=a,ns!==null&&(Nr?(e=ns,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ns.removeChild(r.stateNode));break;case 18:ns!==null&&(Nr?(e=ns,r=r.stateNode,e.nodeType===8?Du(e.parentNode,r):e.nodeType===1&&Du(e,r),Po(e)):Du(ns,r.stateNode));break;case 4:n=ns,a=Nr,ns=r.stateNode.containerInfo,Nr=!0,gn(e,s,r),ns=n,Nr=a;break;case 0:case 11:case 14:case 15:if(!fs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qm(r,s,o),a=a.next}while(a!==n)}gn(e,s,r);break;case 1:if(!fs&&(Wa(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){qt(r,s,l)}gn(e,s,r);break;case 21:gn(e,s,r);break;case 22:r.mode&1?(fs=(n=fs)||r.memoizedState!==null,gn(e,s,r),fs=n):gn(e,s,r);break;default:gn(e,s,r)}}function Cg(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new y2),s.forEach(function(n){var a=k2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function yr(e,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:ns=l.stateNode,Nr=!1;break e;case 3:ns=l.stateNode.containerInfo,Nr=!0;break e;case 4:ns=l.stateNode.containerInfo,Nr=!0;break e}l=l.return}if(ns===null)throw Error(Re(160));wb(i,o,a),ns=null,Nr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(h){qt(a,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_b(s,e),s=s.sibling}function _b(e,s){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yr(s,e),zr(e),n&4){try{mo(3,e,e.return),xd(3,e)}catch(y){qt(e,e.return,y)}try{mo(5,e,e.return)}catch(y){qt(e,e.return,y)}}break;case 1:yr(s,e),zr(e),n&512&&r!==null&&Wa(r,r.return);break;case 5:if(yr(s,e),zr(e),n&512&&r!==null&&Wa(r,r.return),e.flags&32){var a=e.stateNode;try{_o(a,"")}catch(y){qt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&G0(a,i),Nm(l,o);var h=Nm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?X0(a,p):d==="dangerouslySetInnerHTML"?Y0(a,p):d==="children"?_o(a,p):Bp(a,d,p,h)}switch(l){case"input":xm(a,i);break;case"textarea":K0(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var u=i.value;u!=null?Ka(a,!!i.multiple,u,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ka(a,!!i.multiple,i.defaultValue,!0):Ka(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fo]=i}catch(y){qt(e,e.return,y)}}break;case 6:if(yr(s,e),zr(e),n&4){if(e.stateNode===null)throw Error(Re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){qt(e,e.return,y)}}break;case 3:if(yr(s,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(y){qt(e,e.return,y)}break;case 4:yr(s,e),zr(e);break;case 13:yr(s,e),zr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Nf=Vt())),n&4&&Cg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fs=(h=fs)||d,yr(s,e),fs=h):yr(s,e),zr(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(p=Le=d;Le!==null;){switch(m=Le,u=m.child,m.tag){case 0:case 11:case 14:case 15:mo(4,m,m.return);break;case 1:Wa(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{s=n,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(y){qt(n,r,y)}}break;case 5:Wa(m,m.return);break;case 22:if(m.memoizedState!==null){_g(p);continue}}u!==null?(u.return=m,Le=u):_g(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{a=p.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J0("display",o))}catch(y){qt(e,e.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){qt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yr(s,e),zr(e),n&4&&Cg(e);break;case 21:break;default:yr(s,e),zr(e)}}function zr(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Cb(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_o(a,""),n.flags&=-33);var i=Ng(e);Xm(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ng(e);Jm(e,l,o);break;default:throw Error(Re(161))}}catch(c){qt(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function v2(e,s,r){Le=e,Sb(e)}function Sb(e,s,r){for(var n=(e.mode&1)!==0;Le!==null;){var a=Le,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Pl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||fs;l=Pl;var h=fs;if(Pl=o,(fs=c)&&!h)for(Le=a;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?Sg(a):c!==null?(c.return=o,Le=c):Sg(a);for(;i!==null;)Le=i,Sb(i),i=i.sibling;Le=a,Pl=l,fs=h}wg(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Le=i):wg(e)}}function wg(e){for(;Le!==null;){var s=Le;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:fs||xd(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!fs)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:jr(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&lg(s,i,n);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}lg(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Po(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}fs||s.flags&512&&Ym(s)}catch(m){qt(s,s.return,m)}}if(s===e){Le=null;break}if(r=s.sibling,r!==null){r.return=s.return,Le=r;break}Le=s.return}}function _g(e){for(;Le!==null;){var s=Le;if(s===e){Le=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Le=r;break}Le=s.return}}function Sg(e){for(;Le!==null;){var s=Le;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{xd(4,s)}catch(c){qt(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){qt(s,a,c)}}var i=s.return;try{Ym(s)}catch(c){qt(s,i,c)}break;case 5:var o=s.return;try{Ym(s)}catch(c){qt(s,o,c)}}}catch(c){qt(s,s.return,c)}if(s===e){Le=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Le=l;break}Le=s.return}}var j2=Math.ceil,Dc=hn.ReactCurrentDispatcher,vf=hn.ReactCurrentOwner,mr=hn.ReactCurrentBatchConfig,ut=0,es=null,Yt=null,is=0,Gs=0,Va=On(0),Xt=0,Oo=null,fa=0,yd=0,jf=0,po=null,zs=null,Nf=0,di=1/0,Zr=null,$c=!1,Zm=null,En=null,El=!1,Cn=null,Mc=0,fo=0,ep=null,Zl=-1,ec=0;function ws(){return ut&6?Vt():Zl!==-1?Zl:Zl=Vt()}function Tn(e){return e.mode&1?ut&2&&is!==0?is&-is:n2.transition!==null?(ec===0&&(ec=dy()),ec):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:xy(e.type)),e):1}function Sr(e,s,r,n){if(50<fo)throw fo=0,ep=null,Error(Re(185));Xo(e,r,n),(!(ut&2)||e!==es)&&(e===es&&(!(ut&2)&&(yd|=r),Xt===4&&jn(e,is)),Is(e,n),r===1&&ut===0&&!(s.mode&1)&&(di=Vt()+500,fd&&Un()))}function Is(e,s){var r=e.callbackNode;nN(e,s);var n=vc(e,e===es?is:0);if(n===0)r!==null&&Dh(r),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(r!=null&&Dh(r),s===1)e.tag===0?r2(Ag.bind(null,e)):$y(Ag.bind(null,e)),ZN(function(){!(ut&6)&&Un()}),r=null;else{switch(uy(n)){case 1:r=Gp;break;case 4:r=ly;break;case 16:r=bc;break;case 536870912:r=cy;break;default:r=bc}r=Fb(r,Ab.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Ab(e,s){if(Zl=-1,ec=0,ut&6)throw Error(Re(327));var r=e.callbackNode;if(Za()&&e.callbackNode!==r)return null;var n=vc(e,e===es?is:0);if(n===0)return null;if(n&30||n&e.expiredLanes||s)s=Ic(e,n);else{s=n;var a=ut;ut|=2;var i=Pb();(es!==e||is!==s)&&(Zr=null,di=Vt()+500,ia(e,s));do try{w2();break}catch(l){kb(e,l)}while(!0);of(),Dc.current=i,ut=a,Yt!==null?s=0:(es=null,is=0,s=Xt)}if(s!==0){if(s===2&&(a=Am(e),a!==0&&(n=a,s=tp(e,a))),s===1)throw r=Oo,ia(e,0),jn(e,n),Is(e,Vt()),r;if(s===6)jn(e,n);else{if(a=e.current.alternate,!(n&30)&&!N2(a)&&(s=Ic(e,n),s===2&&(i=Am(e),i!==0&&(n=i,s=tp(e,i))),s===1))throw r=Oo,ia(e,0),jn(e,n),Is(e,Vt()),r;switch(e.finishedWork=a,e.finishedLanes=n,s){case 0:case 1:throw Error(Re(345));case 2:Yn(e,zs,Zr);break;case 3:if(jn(e,n),(n&130023424)===n&&(s=Nf+500-Vt(),10<s)){if(vc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ws(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Dm(Yn.bind(null,e,zs,Zr),s);break}Yn(e,zs,Zr);break;case 4:if(jn(e,n),(n&4194240)===n)break;for(s=e.eventTimes,a=-1;0<n;){var o=31-_r(n);i=1<<o,o=s[o],o>a&&(a=o),n&=~i}if(n=a,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*j2(n/1960))-n,10<n){e.timeoutHandle=Dm(Yn.bind(null,e,zs,Zr),n);break}Yn(e,zs,Zr);break;case 5:Yn(e,zs,Zr);break;default:throw Error(Re(329))}}}return Is(e,Vt()),e.callbackNode===r?Ab.bind(null,e):null}function tp(e,s){var r=po;return e.current.memoizedState.isDehydrated&&(ia(e,s).flags|=256),e=Ic(e,s),e!==2&&(s=zs,zs=r,s!==null&&sp(s)),e}function sp(e){zs===null?zs=e:zs.push.apply(zs,e)}function N2(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ar(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jn(e,s){for(s&=~jf,s&=~yd,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-_r(s),n=1<<r;e[r]=-1,s&=~n}}function Ag(e){if(ut&6)throw Error(Re(327));Za();var s=vc(e,0);if(!(s&1))return Is(e,Vt()),null;var r=Ic(e,s);if(e.tag!==0&&r===2){var n=Am(e);n!==0&&(s=n,r=tp(e,n))}if(r===1)throw r=Oo,ia(e,0),jn(e,s),Is(e,Vt()),r;if(r===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Yn(e,zs,Zr),Is(e,Vt()),null}function Cf(e,s){var r=ut;ut|=1;try{return e(s)}finally{ut=r,ut===0&&(di=Vt()+500,fd&&Un())}}function ha(e){Cn!==null&&Cn.tag===0&&!(ut&6)&&Za();var s=ut;ut|=1;var r=mr.transition,n=Ct;try{if(mr.transition=null,Ct=1,e)return e()}finally{Ct=n,mr.transition=r,ut=s,!(ut&6)&&Un()}}function wf(){Gs=Va.current,Ft(Va)}function ia(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XN(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(rf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_c();break;case 3:li(),Ft($s),Ft(ys),pf();break;case 5:mf(n);break;case 4:li();break;case 13:Ft(It);break;case 19:Ft(It);break;case 10:lf(n.type._context);break;case 22:case 23:wf()}r=r.return}if(es=e,Yt=e=zn(e.current,null),is=Gs=s,Xt=0,Oo=null,jf=yd=fa=0,zs=po=null,ea!==null){for(s=0;s<ea.length;s++)if(r=ea[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ea=null}return e}function kb(e,s){do{var r=Yt;try{if(of(),Yl.current=Fc,Rc){for(var n=Lt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rc=!1}if(pa=0,Zt=Jt=Lt=null,uo=!1,Mo=0,vf.current=null,r===null||r.return===null){Xt=1,Oo=s,Yt=null;break}e:{var i=e,o=r.return,l=r,c=s;if(s=is,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var u=fg(o);if(u!==null){u.flags&=-257,hg(u,o,l,i,s),u.mode&1&&pg(i,h,s),s=u,c=h;var g=s.updateQueue;if(g===null){var y=new Set;y.add(c),s.updateQueue=y}else g.add(c);break e}else{if(!(s&1)){pg(i,h,s),_f();break e}c=Error(Re(426))}}else if($t&&l.mode&1){var S=fg(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hg(S,o,l,i,s),nf(ci(c,l));break e}}i=c=ci(c,l),Xt!==4&&(Xt=2),po===null?po=[i]:po.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var x=ub(i,c,s);og(i,x);break e;case 1:l=c;var C=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(En===null||!En.has(w)))){i.flags|=65536,s&=-s,i.lanes|=s;var _=mb(i,l,s);og(i,_);break e}}i=i.return}while(i!==null)}Tb(r)}catch(z){s=z,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(!0)}function Pb(){var e=Dc.current;return Dc.current=Fc,e===null?Fc:e}function _f(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),es===null||!(fa&268435455)&&!(yd&268435455)||jn(es,is)}function Ic(e,s){var r=ut;ut|=2;var n=Pb();(es!==e||is!==s)&&(Zr=null,ia(e,s));do try{C2();break}catch(a){kb(e,a)}while(!0);if(of(),ut=r,Dc.current=n,Yt!==null)throw Error(Re(261));return es=null,is=0,Xt}function C2(){for(;Yt!==null;)Eb(Yt)}function w2(){for(;Yt!==null&&!Q1();)Eb(Yt)}function Eb(e){var s=Rb(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,s===null?Tb(e):Yt=s,vf.current=null}function Tb(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=x2(r,s),r!==null){r.flags&=32767,Yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Yt=null;return}}else if(r=g2(r,s,Gs),r!==null){Yt=r;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=e}while(s!==null);Xt===0&&(Xt=5)}function Yn(e,s,r){var n=Ct,a=mr.transition;try{mr.transition=null,Ct=1,_2(e,s,r,n)}finally{mr.transition=a,Ct=n}return null}function _2(e,s,r,n){do Za();while(Cn!==null);if(ut&6)throw Error(Re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aN(e,i),e===es&&(Yt=es=null,is=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||El||(El=!0,Fb(bc,function(){return Za(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var o=Ct;Ct=1;var l=ut;ut|=4,vf.current=null,b2(e,r),_b(r,e),VN(Rm),jc=!!zm,Rm=zm=null,e.current=r,v2(r),Y1(),ut=l,Ct=o,mr.transition=i}else e.current=r;if(El&&(El=!1,Cn=e,Mc=a),i=e.pendingLanes,i===0&&(En=null),Z1(r.stateNode),Is(e,Vt()),s!==null)for(n=e.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($c)throw $c=!1,e=Zm,Zm=null,e;return Mc&1&&e.tag!==0&&Za(),i=e.pendingLanes,i&1?e===ep?fo++:(fo=0,ep=e):fo=0,Un(),null}function Za(){if(Cn!==null){var e=uy(Mc),s=mr.transition,r=Ct;try{if(mr.transition=null,Ct=16>e?16:e,Cn===null)var n=!1;else{if(e=Cn,Cn=null,Mc=0,ut&6)throw Error(Re(331));var a=ut;for(ut|=4,Le=e.current;Le!==null;){var i=Le,o=i.child;if(Le.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Le=h;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:mo(8,d,i)}var p=d.child;if(p!==null)p.return=d,Le=p;else for(;Le!==null;){d=Le;var m=d.sibling,u=d.return;if(Nb(d),d===h){Le=null;break}if(m!==null){m.return=u,Le=m;break}Le=u}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Le=o;else e:for(;Le!==null;){if(i=Le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mo(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Le=x;break e}Le=i.return}}var C=e.current;for(Le=C;Le!==null;){o=Le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Le=w;else e:for(o=C;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xd(9,l)}}catch(z){qt(l,l.return,z)}if(l===o){Le=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Le=_;break e}Le=l.return}}if(ut=a,Un(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(cd,e)}catch{}n=!0}return n}finally{Ct=r,mr.transition=s}}return!1}function kg(e,s,r){s=ci(r,s),s=ub(e,s,1),e=Pn(e,s,1),s=ws(),e!==null&&(Xo(e,1,s),Is(e,s))}function qt(e,s,r){if(e.tag===3)kg(e,e,r);else for(;s!==null;){if(s.tag===3){kg(s,e,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(En===null||!En.has(n))){e=ci(r,e),e=mb(s,e,1),s=Pn(s,e,1),e=ws(),s!==null&&(Xo(s,1,e),Is(s,e));break}}s=s.return}}function S2(e,s,r){var n=e.pingCache;n!==null&&n.delete(s),s=ws(),e.pingedLanes|=e.suspendedLanes&r,es===e&&(is&r)===r&&(Xt===4||Xt===3&&(is&130023424)===is&&500>Vt()-Nf?ia(e,0):jf|=r),Is(e,s)}function zb(e,s){s===0&&(e.mode&1?(s=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):s=1);var r=ws();e=cn(e,s),e!==null&&(Xo(e,s,r),Is(e,r))}function A2(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),zb(e,r)}function k2(e,s){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(s),zb(e,r)}var Rb;Rb=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||$s.current)Fs=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Fs=!1,h2(e,s,r);Fs=!!(e.flags&131072)}else Fs=!1,$t&&s.flags&1048576&&My(s,kc,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Xl(e,s),e=s.pendingProps;var a=ai(s,ys.current);Xa(s,r),a=hf(null,s,n,e,a,r);var i=gf();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ms(n)?(i=!0,Sc(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,df(s),a.updater=gd,s.stateNode=a,a._reactInternals=s,Bm(s,n,e,r),s=Vm(null,s,n,!0,i,r)):(s.tag=0,$t&&i&&sf(s),Ns(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Xl(e,s),e=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=E2(n),e=jr(n,e),a){case 0:s=Wm(null,s,n,e,r);break e;case 1:s=yg(null,s,n,e,r);break e;case 11:s=gg(null,s,n,e,r);break e;case 14:s=xg(null,s,n,jr(n.type,e),r);break e}throw Error(Re(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:jr(n,a),Wm(e,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:jr(n,a),yg(e,s,n,a,r);case 3:e:{if(gb(s),e===null)throw Error(Re(387));n=s.pendingProps,i=s.memoizedState,a=i.element,qy(e,s),Tc(s,n,null,r);var o=s.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=ci(Error(Re(423)),s),s=bg(e,s,n,r,a);break e}else if(n!==a){a=ci(Error(Re(424)),s),s=bg(e,s,n,r,a);break e}else for(Qs=kn(s.stateNode.containerInfo.firstChild),Ys=s,$t=!0,Cr=null,r=Uy(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ii(),n===a){s=dn(e,s,r);break e}Ns(e,s,n,r)}s=s.child}return s;case 5:return Wy(s),e===null&&Lm(s),n=s.type,a=s.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Fm(n,a)?o=null:i!==null&&Fm(n,i)&&(s.flags|=32),hb(e,s),Ns(e,s,o,r),s.child;case 6:return e===null&&Lm(s),null;case 13:return xb(e,s,r);case 4:return uf(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=oi(s,null,n,r):Ns(e,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:jr(n,a),gg(e,s,n,a,r);case 7:return Ns(e,s,s.pendingProps,r),s.child;case 8:return Ns(e,s,s.pendingProps.children,r),s.child;case 12:return Ns(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,Et(Pc,n._currentValue),n._currentValue=o,i!==null)if(Ar(i.value,o)){if(i.children===a.children&&!$s.current){s=dn(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=an(-1,r&-r),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Om(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Re(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Om(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ns(e,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Xa(s,r),a=pr(a),n=n(a),s.flags|=1,Ns(e,s,n,r),s.child;case 14:return n=s.type,a=jr(n,s.pendingProps),a=jr(n.type,a),xg(e,s,n,a,r);case 15:return pb(e,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:jr(n,a),Xl(e,s),s.tag=1,Ms(n)?(e=!0,Sc(s)):e=!1,Xa(s,r),db(s,n,a),Bm(s,n,a,r),Vm(null,s,n,!0,e,r);case 19:return yb(e,s,r);case 22:return fb(e,s,r)}throw Error(Re(156,s.tag))};function Fb(e,s){return oy(e,s)}function P2(e,s,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,s,r,n){return new P2(e,s,r,n)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return Sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wp)return 11;if(e===Vp)return 14}return 2}function zn(e,s){var r=e.alternate;return r===null?(r=dr(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tc(e,s,r,n,a,i){var o=2;if(n=e,typeof e=="function")Sf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Da:return oa(r.children,a,i,s);case qp:o=8,a|=8;break;case mm:return e=dr(12,r,s,a|2),e.elementType=mm,e.lanes=i,e;case pm:return e=dr(13,r,s,a),e.elementType=pm,e.lanes=i,e;case fm:return e=dr(19,r,s,a),e.elementType=fm,e.lanes=i,e;case W0:return bd(r,a,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B0:o=10;break e;case q0:o=9;break e;case Wp:o=11;break e;case Vp:o=14;break e;case yn:o=16,n=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return s=dr(o,r,s,a),s.elementType=e,s.type=n,s.lanes=i,s}function oa(e,s,r,n){return e=dr(7,e,n,s),e.lanes=r,e}function bd(e,s,r,n){return e=dr(22,e,n,s),e.elementType=W0,e.lanes=r,e.stateNode={isHidden:!1},e}function qu(e,s,r){return e=dr(6,e,null,s),e.lanes=r,e}function Wu(e,s,r){return s=dr(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function T2(e,s,r,n,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wu(0),this.expirationTimes=wu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wu(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Af(e,s,r,n,a,i,o,l,c){return e=new T2(e,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=dr(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(i),e}function z2(e,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:n==null?null:""+n,children:e,containerInfo:s,implementation:r}}function Db(e){if(!e)return Mn;e=e._reactInternals;e:{if(ja(e)!==e||e.tag!==1)throw Error(Re(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ms(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Re(171))}if(e.tag===1){var r=e.type;if(Ms(r))return Dy(e,r,s)}return s}function $b(e,s,r,n,a,i,o,l,c){return e=Af(r,n,!0,e,a,i,o,l,c),e.context=Db(null),r=e.current,n=ws(),a=Tn(r),i=an(n,a),i.callback=s??null,Pn(r,i,a),e.current.lanes=a,Xo(e,a,n),Is(e,n),e}function vd(e,s,r,n){var a=s.current,i=ws(),o=Tn(a);return r=Db(r),s.context===null?s.context=r:s.pendingContext=r,s=an(i,o),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=Pn(a,s,o),e!==null&&(Sr(e,a,o,i),Ql(e,a,o)),o}function Lc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pg(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function kf(e,s){Pg(e,s),(e=e.alternate)&&Pg(e,s)}function R2(){return null}var Mb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pf(e){this._internalRoot=e}jd.prototype.render=Pf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(Re(409));vd(e,s,null,null)};jd.prototype.unmount=Pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;ha(function(){vd(null,e,null,null)}),s[ln]=null}};function jd(e){this._internalRoot=e}jd.prototype.unstable_scheduleHydration=function(e){if(e){var s=fy();e={blockedOn:null,target:e,priority:s};for(var r=0;r<vn.length&&s!==0&&s<vn[r].priority;r++);vn.splice(r,0,e),r===0&&gy(e)}};function Ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eg(){}function F2(e,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var h=Lc(o);i.call(h)}}var o=$b(s,n,e,0,null,!1,!1,"",Eg);return e._reactRootContainer=o,e[ln]=o.current,zo(e.nodeType===8?e.parentNode:e),ha(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var h=Lc(c);l.call(h)}}var c=Af(e,0,!1,null,null,!1,!1,"",Eg);return e._reactRootContainer=c,e[ln]=c.current,zo(e.nodeType===8?e.parentNode:e),ha(function(){vd(s,c,r,n)}),c}function Cd(e,s,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Lc(o);l.call(c)}}vd(s,o,e,a)}else o=F2(r,s,e,a,n);return Lc(o)}my=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=Zi(s.pendingLanes);r!==0&&(Kp(s,r|1),Is(s,Vt()),!(ut&6)&&(di=Vt()+500,Un()))}break;case 13:ha(function(){var n=cn(e,1);if(n!==null){var a=ws();Sr(n,e,1,a)}}),kf(e,1)}};Qp=function(e){if(e.tag===13){var s=cn(e,134217728);if(s!==null){var r=ws();Sr(s,e,134217728,r)}kf(e,134217728)}};py=function(e){if(e.tag===13){var s=Tn(e),r=cn(e,s);if(r!==null){var n=ws();Sr(r,e,s,n)}kf(e,s)}};fy=function(){return Ct};hy=function(e,s){var r=Ct;try{return Ct=e,s()}finally{Ct=r}};wm=function(e,s,r){switch(s){case"input":if(xm(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==e&&n.form===e.form){var a=pd(n);if(!a)throw Error(Re(90));H0(n),xm(n,a)}}}break;case"textarea":K0(e,r);break;case"select":s=r.value,s!=null&&Ka(e,!!r.multiple,s,!1)}};ty=Cf;sy=ha;var D2={usingClientEntryPoint:!1,Events:[el,La,pd,Z0,ey,Cf]},Mi={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ay(e),e===null?null:e.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||R2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{cd=Tl.inject($2),qr=Tl}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D2;tr.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(s))throw Error(Re(200));return z2(e,s,null,r)};tr.createRoot=function(e,s){if(!Ef(e))throw Error(Re(299));var r=!1,n="",a=Mb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Af(e,1,!1,null,null,r,!1,n,a),e[ln]=s.current,zo(e.nodeType===8?e.parentNode:e),new Pf(s)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=ay(s),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return ha(e)};tr.hydrate=function(e,s,r){if(!Nd(s))throw Error(Re(200));return Cd(null,e,s,!0,r)};tr.hydrateRoot=function(e,s,r){if(!Ef(e))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Mb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=$b(s,null,e,1,r??null,a,!1,i,o),e[ln]=s.current,zo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new jd(s)};tr.render=function(e,s,r){if(!Nd(s))throw Error(Re(200));return Cd(null,e,s,!1,r)};tr.unmountComponentAtNode=function(e){if(!Nd(e))throw Error(Re(40));return e._reactRootContainer?(ha(function(){Cd(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1};tr.unstable_batchedUpdates=Cf;tr.unstable_renderSubtreeIntoContainer=function(e,s,r,n){if(!Nd(r))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return Cd(e,s,r,!1,n)};tr.version="18.3.1-next-f1338f8080-20240426";function Ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ib)}catch(e){console.error(e)}}Ib(),I0.exports=tr;var Tf=I0.exports;const zl=Dp(Tf);var Tg=Tf;dm.createRoot=Tg.createRoot,dm.hydrateRoot=Tg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const zg="popstate";function M2(e){e===void 0&&(e={});function s(n,a){let{pathname:i,search:o,hash:l}=n.location;return rp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Oc(a)}return L2(s,r,null,e)}function Ht(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function zf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function I2(){return Math.random().toString(36).substr(2,8)}function Rg(e,s){return{usr:e.state,key:e.key,idx:s}}function rp(e,s,r,n){return r===void 0&&(r=null),Uo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Ni(s):s,{state:r,key:s&&s.key||n||I2()})}function Oc(e){let{pathname:s="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Ni(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(s.search=e.substr(n),e=e.substr(0,n)),e&&(s.pathname=e)}return s}function L2(e,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=wn.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(Uo({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=wn.Pop;let S=d(),x=S==null?null:S-h;h=S,c&&c({action:l,location:y.location,delta:x})}function m(S,x){l=wn.Push;let C=rp(y.location,S,x);h=d()+1;let w=Rg(C,h),_=y.createHref(C);try{o.pushState(w,"",_)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(_)}i&&c&&c({action:l,location:y.location,delta:1})}function u(S,x){l=wn.Replace;let C=rp(y.location,S,x);h=d();let w=Rg(C,h),_=y.createHref(C);o.replaceState(w,"",_),i&&c&&c({action:l,location:y.location,delta:0})}function g(S){let x=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof S=="string"?S:Oc(S);return C=C.replace(/ $/,"%20"),Ht(x,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,x)}let y={get action(){return l},get location(){return e(a,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(zg,p),c=S,()=>{a.removeEventListener(zg,p),c=null}},createHref(S){return s(a,S)},createURL:g,encodeLocation(S){let x=g(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:u,go(S){return o.go(S)}};return y}var Fg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fg||(Fg={}));function O2(e,s,r){return r===void 0&&(r="/"),U2(e,s,r)}function U2(e,s,r,n){let a=typeof s=="string"?Ni(s):s,i=Rf(a.pathname||"/",r);if(i==null)return null;let o=Lb(e);B2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=eC(i);l=J2(o[c],h)}return l}function Lb(e,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Rn([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Lb(i.children,s,d,h)),!(i.path==null&&!i.index)&&s.push({path:h,score:Q2(h,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Ob(i.path))a(i,o,c)}),s}function Ob(e){let s=e.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Ob(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function B2(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Y2(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q2=/^:[\w-]+$/,W2=3,V2=2,H2=1,G2=10,K2=-2,Dg=e=>e==="*";function Q2(e,s){let r=e.split("/"),n=r.length;return r.some(Dg)&&(n+=K2),s&&(n+=V2),r.filter(a=>!Dg(a)).reduce((a,i)=>a+(q2.test(i)?W2:i===""?H2:G2),n)}function Y2(e,s){return e.length===s.length&&e.slice(0,-1).every((n,a)=>n===s[a])?e[e.length-1]-s[s.length-1]:0}function J2(e,s,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,d=i==="/"?s:s.slice(i.length)||"/",p=X2({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),m=c.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:Rn([i,p.pathname]),pathnameBase:aC(Rn([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=Rn([i,p.pathnameBase]))}return o}function X2(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z2(e.path,e.caseSensitive,e.end),a=s.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((h,d,p)=>{let{paramName:m,isOptional:u}=d;if(m==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[p];return u&&!g?h[m]=void 0:h[m]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:e}}function Z2(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),zf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function eC(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return zf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function Rf(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sC=e=>tC.test(e);function rC(e,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ni(e):e,i;if(r)if(sC(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),zf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=$g(r.substring(1),"/"):i=$g(r,s)}else i=s;return{pathname:i,search:iC(n),hash:oC(a)}}function $g(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Vu(e,s,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nC(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ff(e,s){let r=nC(e);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Df(e,s,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ni(e):(a=Uo({},e),Ht(!a.pathname||!a.pathname.includes("?"),Vu("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),Vu("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),Vu("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let p=s.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}l=p>=0?s[p]:"/"}let c=rC(a,l),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Rn=e=>e.join("/").replace(/\/\/+/g,"/"),aC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ub=["post","put","patch","delete"];new Set(Ub);const cC=["get",...Ub];new Set(cC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}const $f=f.createContext(null),dC=f.createContext(null),Bn=f.createContext(null),wd=f.createContext(null),qn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Bb=f.createContext(null);function uC(e,s){let{relative:r}=s===void 0?{}:s;Ci()||Ht(!1);let{basename:n,navigator:a}=f.useContext(Bn),{hash:i,pathname:o,search:l}=Wb(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Rn([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Ci(){return f.useContext(wd)!=null}function Wn(){return Ci()||Ht(!1),f.useContext(wd).location}function qb(e){f.useContext(Bn).static||f.useLayoutEffect(e)}function Pr(){let{isDataRoute:e}=f.useContext(qn);return e?wC():mC()}function mC(){Ci()||Ht(!1);let e=f.useContext($f),{basename:s,future:r,navigator:n}=f.useContext(Bn),{matches:a}=f.useContext(qn),{pathname:i}=Wn(),o=JSON.stringify(Ff(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return qb(()=>{l.current=!0}),f.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=Df(h,JSON.parse(o),i,d.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Rn([s,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[s,n,o,i,e])}function Wb(e,s){let{relative:r}=s===void 0?{}:s,{future:n}=f.useContext(Bn),{matches:a}=f.useContext(qn),{pathname:i}=Wn(),o=JSON.stringify(Ff(a,n.v7_relativeSplatPath));return f.useMemo(()=>Df(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function pC(e,s){return fC(e,s)}function fC(e,s,r,n){Ci()||Ht(!1);let{navigator:a}=f.useContext(Bn),{matches:i}=f.useContext(qn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Wn(),d;if(s){var p;let S=typeof s=="string"?Ni(s):s;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||Ht(!1),d=S}else d=h;let m=d.pathname||"/",u=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");u="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=O2(e,{pathname:u}),y=bC(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Rn([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Rn([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return s&&y?f.createElement(wd.Provider,{value:{location:Bo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wn.Pop}},y):y}function hC(){let e=CC(),s=lC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},s),r?f.createElement("pre",{style:a},r):null,null)}const gC=f.createElement(hC,null);class xC extends f.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?f.createElement(qn.Provider,{value:this.props.routeContext},f.createElement(Bb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yC(e){let{routeContext:s,match:r,children:n}=e,a=f.useContext($f);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(qn.Provider,{value:s},n)}function bC(e,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:u}=r,g=p.route.loader&&m[p.route.id]===void 0&&(!u||u[p.route.id]===void 0);if(p.route.lazy||g){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let u,g=!1,y=null,S=null;r&&(u=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||gC,c&&(h<0&&m===0?(_C("route-fallback"),g=!0,S=null):h===m&&(g=!0,S=p.route.hydrateFallbackElement||null)));let x=s.concat(o.slice(0,m+1)),C=()=>{let w;return u?w=y:g?w=S:p.route.Component?w=f.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=d,f.createElement(yC,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?f.createElement(xC,{location:r.location,revalidation:r.revalidation,component:y,error:u,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}var Vb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vb||{}),Hb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hb||{});function vC(e){let s=f.useContext($f);return s||Ht(!1),s}function jC(e){let s=f.useContext(dC);return s||Ht(!1),s}function NC(e){let s=f.useContext(qn);return s||Ht(!1),s}function Gb(e){let s=NC(),r=s.matches[s.matches.length-1];return r.route.id||Ht(!1),r.route.id}function CC(){var e;let s=f.useContext(Bb),r=jC(),n=Gb();return s!==void 0?s:(e=r.errors)==null?void 0:e[n]}function wC(){let{router:e}=vC(Vb.UseNavigateStable),s=Gb(Hb.UseNavigateStable),r=f.useRef(!1);return qb(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bo({fromRouteId:s},i)))},[e,s])}const Mg={};function _C(e,s,r){Mg[e]||(Mg[e]=!0)}function SC(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sc(e){let{to:s,replace:r,state:n,relative:a}=e;Ci()||Ht(!1);let{future:i,static:o}=f.useContext(Bn),{matches:l}=f.useContext(qn),{pathname:c}=Wn(),h=Pr(),d=Df(s,Ff(l,i.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(d);return f.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:a}),[h,p,a,r,n]),null}function He(e){Ht(!1)}function AC(e){let{basename:s="/",children:r=null,location:n,navigationType:a=wn.Pop,navigator:i,static:o=!1,future:l}=e;Ci()&&Ht(!1);let c=s.replace(/^\/*/,"/"),h=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Bo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ni(n));let{pathname:d="/",search:p="",hash:m="",state:u=null,key:g="default"}=n,y=f.useMemo(()=>{let S=Rf(d,c);return S==null?null:{location:{pathname:S,search:p,hash:m,state:u,key:g},navigationType:a}},[c,d,p,m,u,g,a]);return y==null?null:f.createElement(Bn.Provider,{value:h},f.createElement(wd.Provider,{children:r,value:y}))}function Ii(e){let{children:s,location:r}=e;return pC(np(s),r)}new Promise(()=>{});function np(e,s){s===void 0&&(s=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...s,a];if(n.type===f.Fragment){r.push.apply(r,np(n.props.children,i));return}n.type!==He&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=np(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function kC(e,s){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=e[a]);return r}function PC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EC(e,s){return e.button===0&&(!s||s==="_self")&&!PC(e)}function ip(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let n=e[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function TC(e,s){let r=ip(e);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(i=>{r.append(a,i)})}),r}const zC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RC="6";try{window.__reactRouterVersion=RC}catch{}const FC="startTransition",Ig=hc[FC];function DC(e){let{basename:s,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=M2({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},d=f.useCallback(p=>{h&&Ig?Ig(()=>c(p)):c(p)},[c,h]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.useEffect(()=>SC(n),[n]),f.createElement(AC,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rl=f.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:d,viewTransition:p}=s,m=kC(s,zC),{basename:u}=f.useContext(Bn),g,y=!1;if(typeof h=="string"&&MC.test(h)&&(g=h,$C))try{let w=new URL(window.location.href),_=h.startsWith("//")?new URL(w.protocol+h):new URL(h),z=Rf(_.pathname,u);_.origin===w.origin&&z!=null?h=z+_.search+_.hash:y=!0}catch{}let S=uC(h,{relative:a}),x=IC(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:p});function C(w){n&&n(w),w.defaultPrevented||x(w)}return f.createElement("a",ap({},m,{href:g||S,onClick:y||i?n:C,ref:r,target:c}))});var Lg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lg||(Lg={}));var Og;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Og||(Og={}));function IC(e,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=Pr(),h=Wn(),d=Wb(e,{relative:o});return f.useCallback(p=>{if(EC(p,r)){p.preventDefault();let m=n!==void 0?n:Oc(h)===Oc(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,d,n,a,r,e,i,o,l])}function _d(e){let s=f.useRef(ip(e)),r=f.useRef(!1),n=Wn(),a=f.useMemo(()=>TC(n.search,r.current?null:s.current),[n.search]),i=Pr(),o=f.useCallback((l,c)=>{const h=ip(typeof l=="function"?l(a):l);r.current=!0,i("?"+h,c)},[i,a]);return[a,o]}function Kb(e,s){return function(){return e.apply(s,arguments)}}const{toString:LC}=Object.prototype,{getPrototypeOf:Mf}=Object,{iterator:Sd,toStringTag:Qb}=Symbol,Ad=(e=>s=>{const r=LC.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Er=e=>(e=e.toLowerCase(),s=>Ad(s)===e),kd=e=>s=>typeof s===e,{isArray:wi}=Array,ui=kd("undefined");function sl(e){return e!==null&&!ui(e)&&e.constructor!==null&&!ui(e.constructor)&&Ls(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yb=Er("ArrayBuffer");function OC(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Yb(e.buffer),s}const UC=kd("string"),Ls=kd("function"),Jb=kd("number"),rl=e=>e!==null&&typeof e=="object",BC=e=>e===!0||e===!1,rc=e=>{if(Ad(e)!=="object")return!1;const s=Mf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Qb in e)&&!(Sd in e)},qC=e=>{if(!rl(e)||sl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},WC=Er("Date"),VC=Er("File"),HC=Er("Blob"),GC=Er("FileList"),KC=e=>rl(e)&&Ls(e.pipe),QC=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Ls(e.append)&&((s=Ad(e))==="formdata"||s==="object"&&Ls(e.toString)&&e.toString()==="[object FormData]"))},YC=Er("URLSearchParams"),[JC,XC,ZC,ew]=["ReadableStream","Request","Response","Headers"].map(Er),tw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nl(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),wi(e))for(n=0,a=e.length;n<a;n++)s.call(null,e[n],n,e);else{if(sl(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],s.call(null,e[l],l,e)}}function Xb(e,s){if(sl(e))return null;s=s.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zb=e=>!ui(e)&&e!==sa;function op(){const{caseless:e,skipUndefined:s}=Zb(this)&&this||{},r={},n=(a,i)=>{const o=e&&Xb(r,i)||i;rc(r[o])&&rc(a)?r[o]=op(r[o],a):rc(a)?r[o]=op({},a):wi(a)?r[o]=a.slice():(!s||!ui(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&nl(arguments[a],n);return r}const sw=(e,s,r,{allOwnKeys:n}={})=>(nl(s,(a,i)=>{r&&Ls(a)?e[i]=Kb(a,r):e[i]=a},{allOwnKeys:n}),e),rw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nw=(e,s,r,n)=>{e.prototype=Object.create(s.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},aw=(e,s,r,n)=>{let a,i,o;const l={};if(s=s||{},e==null)return s;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,s))&&!l[o]&&(s[o]=e[o],l[o]=!0);e=r!==!1&&Mf(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},iw=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const n=e.indexOf(s,r);return n!==-1&&n===r},ow=e=>{if(!e)return null;if(wi(e))return e;let s=e.length;if(!Jb(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},lw=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Mf(Uint8Array)),cw=(e,s)=>{const n=(e&&e[Sd]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;s.call(e,i[0],i[1])}},dw=(e,s)=>{let r;const n=[];for(;(r=e.exec(s))!==null;)n.push(r);return n},uw=Er("HTMLFormElement"),mw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Ug=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),pw=Er("RegExp"),ev=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),n={};nl(r,(a,i)=>{let o;(o=s(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},fw=e=>{ev(e,(s,r)=>{if(Ls(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ls(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hw=(e,s)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return wi(e)?n(e):n(String(e).split(s)),r},gw=()=>{},xw=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function yw(e){return!!(e&&Ls(e.append)&&e[Qb]==="FormData"&&e[Sd])}const bw=e=>{const s=new Array(10),r=(n,a)=>{if(rl(n)){if(s.indexOf(n)>=0)return;if(sl(n))return n;if(!("toJSON"in n)){s[a]=n;const i=wi(n)?[]:{};return nl(n,(o,l)=>{const c=r(o,a+1);!ui(c)&&(i[l]=c)}),s[a]=void 0,i}}return n};return r(e,0)},vw=Er("AsyncFunction"),jw=e=>e&&(rl(e)||Ls(e))&&Ls(e.then)&&Ls(e.catch),tv=((e,s)=>e?setImmediate:s?((r,n)=>(sa.addEventListener("message",({source:a,data:i})=>{a===sa&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),sa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ls(sa.postMessage)),Nw=typeof queueMicrotask<"u"?queueMicrotask.bind(sa):typeof process<"u"&&process.nextTick||tv,Cw=e=>e!=null&&Ls(e[Sd]),ve={isArray:wi,isArrayBuffer:Yb,isBuffer:sl,isFormData:QC,isArrayBufferView:OC,isString:UC,isNumber:Jb,isBoolean:BC,isObject:rl,isPlainObject:rc,isEmptyObject:qC,isReadableStream:JC,isRequest:XC,isResponse:ZC,isHeaders:ew,isUndefined:ui,isDate:WC,isFile:VC,isBlob:HC,isRegExp:pw,isFunction:Ls,isStream:KC,isURLSearchParams:YC,isTypedArray:lw,isFileList:GC,forEach:nl,merge:op,extend:sw,trim:tw,stripBOM:rw,inherits:nw,toFlatObject:aw,kindOf:Ad,kindOfTest:Er,endsWith:iw,toArray:ow,forEachEntry:cw,matchAll:dw,isHTMLForm:uw,hasOwnProperty:Ug,hasOwnProp:Ug,reduceDescriptors:ev,freezeMethods:fw,toObjectSet:hw,toCamelCase:mw,noop:gw,toFiniteNumber:xw,findKey:Xb,global:sa,isContextDefined:Zb,isSpecCompliantForm:yw,toJSONObject:bw,isAsyncFn:vw,isThenable:jw,setImmediate:tv,asap:Nw,isIterable:Cw};function et(e,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const sv=et.prototype,rv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rv[e]={value:e}});Object.defineProperties(et,rv);Object.defineProperty(sv,"isAxiosError",{value:!0});et.from=(e,s,r,n,a,i)=>{const o=Object.create(sv);ve.toFlatObject(e,o,function(d){return d!==Error.prototype},h=>h!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return et.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const ww=null;function lp(e){return ve.isPlainObject(e)||ve.isArray(e)}function nv(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Bg(e,s,r){return e?e.concat(s).map(function(a,i){return a=nv(a),!r&&i?"["+a+"]":a}).join(r?".":""):s}function _w(e){return ve.isArray(e)&&!e.some(lp)}const Sw=ve.toFlatObject(ve,{},null,function(s){return/^is[A-Z]/.test(s)});function Pd(e,s,r){if(!ve.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!ve.isUndefined(S[y])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(s);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(ve.isDate(g))return g.toISOString();if(ve.isBoolean(g))return g.toString();if(!c&&ve.isBlob(g))throw new et("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(g)||ve.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,S){let x=g;if(g&&!S&&typeof g=="object"){if(ve.endsWith(y,"{}"))y=n?y:y.slice(0,-2),g=JSON.stringify(g);else if(ve.isArray(g)&&_w(g)||(ve.isFileList(g)||ve.endsWith(y,"[]"))&&(x=ve.toArray(g)))return y=nv(y),x.forEach(function(w,_){!(ve.isUndefined(w)||w===null)&&s.append(o===!0?Bg([y],_,i):o===null?y:y+"[]",h(w))}),!1}return lp(g)?!0:(s.append(Bg(S,y,i),h(g)),!1)}const p=[],m=Object.assign(Sw,{defaultVisitor:d,convertValue:h,isVisitable:lp});function u(g,y){if(!ve.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(g),ve.forEach(g,function(x,C){(!(ve.isUndefined(x)||x===null)&&a.call(s,x,ve.isString(C)?C.trim():C,y,m))===!0&&u(x,y?y.concat(C):[C])}),p.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return u(e),s}function qg(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function If(e,s){this._pairs=[],e&&Pd(e,this,s)}const av=If.prototype;av.append=function(s,r){this._pairs.push([s,r])};av.toString=function(s){const r=s?function(n){return s.call(this,n,qg)}:qg;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Aw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iv(e,s,r){if(!s)return e;const n=r&&r.encode||Aw;ve.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(s,r):i=ve.isURLSearchParams(s)?s.toString():new If(s,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Wg{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){ve.forEach(this.handlers,function(n){n!==null&&s(n)})}}const ov={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kw=typeof URLSearchParams<"u"?URLSearchParams:If,Pw=typeof FormData<"u"?FormData:null,Ew=typeof Blob<"u"?Blob:null,Tw={isBrowser:!0,classes:{URLSearchParams:kw,FormData:Pw,Blob:Ew},protocols:["http","https","file","blob","url","data"]},Lf=typeof window<"u"&&typeof document<"u",cp=typeof navigator=="object"&&navigator||void 0,zw=Lf&&(!cp||["ReactNative","NativeScript","NS"].indexOf(cp.product)<0),Rw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fw=Lf&&window.location.href||"http://localhost",Dw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lf,hasStandardBrowserEnv:zw,hasStandardBrowserWebWorkerEnv:Rw,navigator:cp,origin:Fw},Symbol.toStringTag,{value:"Module"})),hs={...Dw,...Tw};function $w(e,s){return Pd(e,new hs.classes.URLSearchParams,{visitor:function(r,n,a,i){return hs.isNode&&ve.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Mw(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Iw(e){const s={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],s[i]=e[i];return s}function lv(e){function s(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&ve.isArray(a)?a.length:o,c?(ve.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ve.isObject(a[o]))&&(a[o]=[]),s(r,n,a[o],i)&&ve.isArray(a[o])&&(a[o]=Iw(a[o])),!l)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(n,a)=>{s(Mw(n),a,r,0)}),r}return null}function Lw(e,s,r){if(ve.isString(e))try{return(s||JSON.parse)(e),ve.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const al={transitional:ov,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ve.isObject(s);if(i&&ve.isHTMLForm(s)&&(s=new FormData(s)),ve.isFormData(s))return a?JSON.stringify(lv(s)):s;if(ve.isArrayBuffer(s)||ve.isBuffer(s)||ve.isStream(s)||ve.isFile(s)||ve.isBlob(s)||ve.isReadableStream(s))return s;if(ve.isArrayBufferView(s))return s.buffer;if(ve.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $w(s,this.formSerializer).toString();if((l=ve.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pd(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Lw(s)):s}],transformResponse:[function(s){const r=this.transitional||al.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(s)||ve.isReadableStream(s))return s;if(s&&ve.isString(s)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?et.from(l,et.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{al.headers[e]={}});const Ow=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uw=e=>{const s={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||s[r]&&Ow[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},Vg=Symbol("internals");function Li(e){return e&&String(e).trim().toLowerCase()}function nc(e){return e===!1||e==null?e:ve.isArray(e)?e.map(nc):String(e)}function Bw(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)s[n[1]]=n[2];return s}const qw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hu(e,s,r,n,a){if(ve.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!ve.isString(s)){if(ve.isString(n))return s.indexOf(n)!==-1;if(ve.isRegExp(n))return n.test(s)}}function Ww(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function Vw(e,s){const r=ve.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,s,a,i,o)},configurable:!0})})}let Os=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function i(l,c,h){const d=Li(c);if(!d)throw new Error("header name must be a non-empty string");const p=ve.findKey(a,d);(!p||a[p]===void 0||h===!0||h===void 0&&a[p]!==!1)&&(a[p||c]=nc(l))}const o=(l,c)=>ve.forEach(l,(h,d)=>i(h,d,c));if(ve.isPlainObject(s)||s instanceof this.constructor)o(s,r);else if(ve.isString(s)&&(s=s.trim())&&!qw(s))o(Uw(s),r);else if(ve.isObject(s)&&ve.isIterable(s)){let l={},c,h;for(const d of s){if(!ve.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(c=l[h])?ve.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else s!=null&&i(r,s,n);return this}get(s,r){if(s=Li(s),s){const n=ve.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return Bw(a);if(ve.isFunction(r))return r.call(this,a,n);if(ve.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Li(s),s){const n=ve.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||Hu(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function i(o){if(o=Li(o),o){const l=ve.findKey(n,o);l&&(!r||Hu(n,n[l],l,r))&&(delete n[l],a=!0)}}return ve.isArray(s)?s.forEach(i):i(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!s||Hu(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const r=this,n={};return ve.forEach(this,(a,i)=>{const o=ve.findKey(n,i);if(o){r[o]=nc(a),delete r[i];return}const l=s?Ww(i):String(i).trim();l!==i&&delete r[i],r[l]=nc(a),n[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return ve.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&ve.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[Vg]=this[Vg]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Li(o);n[l]||(Vw(a,o),n[l]=!0)}return ve.isArray(s)?s.forEach(i):i(s),this}};Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Os.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(n){this[r]=n}}});ve.freezeMethods(Os);function Gu(e,s){const r=this||al,n=s||r,a=Os.from(n.headers);let i=n.data;return ve.forEach(e,function(l){i=l.call(r,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function cv(e){return!!(e&&e.__CANCEL__)}function _i(e,s,r){et.call(this,e??"canceled",et.ERR_CANCELED,s,r),this.name="CanceledError"}ve.inherits(_i,et,{__CANCEL__:!0});function dv(e,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):s(new et("Request failed with status code "+r.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hw(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Gw(e,s){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const h=Date.now(),d=n[i];o||(o=h),r[a]=c,n[a]=h;let p=i,m=0;for(;p!==a;)m+=r[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),h-o<s)return;const u=d&&h-d;return u?Math.round(m*1e3/u):void 0}}function Kw(e,s){let r=0,n=1e3/s,a,i;const o=(h,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const d=Date.now(),p=d-r;p>=n?o(h,d):(a=h,i||(i=setTimeout(()=>{i=null,o(a)},n-p)))},()=>a&&o(a)]}const Uc=(e,s,r=3)=>{let n=0;const a=Gw(50,250);return Kw(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,h=a(c),d=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(p)},r)},Hg=(e,s)=>{const r=e!=null;return[n=>s[0]({lengthComputable:r,total:e,loaded:n}),s[1]]},Gg=e=>(...s)=>ve.asap(()=>e(...s)),Qw=hs.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,hs.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,Yw=hs.hasStandardBrowserEnv?{write(e,s,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(s)}`];ve.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ve.isString(n)&&l.push(`path=${n}`),ve.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),ve.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xw(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function uv(e,s,r){let n=!Jw(s);return e&&(n||r==!1)?Xw(e,s):s}const Kg=e=>e instanceof Os?{...e}:e;function ga(e,s){s=s||{};const r={};function n(h,d,p,m){return ve.isPlainObject(h)&&ve.isPlainObject(d)?ve.merge.call({caseless:m},h,d):ve.isPlainObject(d)?ve.merge({},d):ve.isArray(d)?d.slice():d}function a(h,d,p,m){if(ve.isUndefined(d)){if(!ve.isUndefined(h))return n(void 0,h,p,m)}else return n(h,d,p,m)}function i(h,d){if(!ve.isUndefined(d))return n(void 0,d)}function o(h,d){if(ve.isUndefined(d)){if(!ve.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function l(h,d,p){if(p in s)return n(h,d);if(p in e)return n(void 0,h)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,p)=>a(Kg(h),Kg(d),p,!0)};return ve.forEach(Object.keys({...e,...s}),function(d){const p=c[d]||a,m=p(e[d],s[d],d);ve.isUndefined(m)&&p!==l||(r[d]=m)}),r}const mv=e=>{const s=ga({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=s;if(s.headers=o=Os.from(o),s.url=iv(uv(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(r)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const c=r.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{h.includes(d.toLowerCase())&&o.set(d,p)})}}if(hs.hasStandardBrowserEnv&&(n&&ve.isFunction(n)&&(n=n(s)),n||n!==!1&&Qw(s.url))){const c=a&&i&&Yw.read(i);c&&o.set(a,c)}return s},Zw=typeof XMLHttpRequest<"u",e_=Zw&&function(e){return new Promise(function(r,n){const a=mv(e);let i=a.data;const o=Os.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=a,d,p,m,u,g;function y(){u&&u(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function x(){if(!S)return;const w=Os.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),z={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:e,request:S};dv(function(b){r(b),y()},function(b){n(b),y()},z),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(n(new et("Request aborted",et.ECONNABORTED,e,S)),S=null)},S.onerror=function(_){const z=_&&_.message?_.message:"Network Error",P=new et(z,et.ERR_NETWORK,e,S);P.event=_||null,n(P),S=null},S.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const z=a.transitional||ov;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new et(_,z.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&ve.forEach(o.toJSON(),function(_,z){S.setRequestHeader(z,_)}),ve.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),l&&l!=="json"&&(S.responseType=a.responseType),h&&([m,g]=Uc(h,!0),S.addEventListener("progress",m)),c&&S.upload&&([p,u]=Uc(c),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",u)),(a.cancelToken||a.signal)&&(d=w=>{S&&(n(!w||w.type?new _i(null,e,S):w),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const C=Hw(a.url);if(C&&hs.protocols.indexOf(C)===-1){n(new et("Unsupported protocol "+C+":",et.ERR_BAD_REQUEST,e));return}S.send(i||null)})},t_=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let n=new AbortController,a;const i=function(h){if(!a){a=!0,l();const d=h instanceof Error?h:this.reason;n.abort(d instanceof et?d:new _i(d instanceof Error?d.message:d))}};let o=s&&setTimeout(()=>{o=null,i(new et(`timeout ${s} of ms exceeded`,et.ETIMEDOUT))},s);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>ve.asap(l),c}},s_=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let n=0,a;for(;n<r;)a=n+s,yield e.slice(n,a),n=a},r_=async function*(e,s){for await(const r of n_(e))yield*s_(r,s)},n_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},Qg=(e,s,r,n)=>{const a=r_(e,s);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await a.next();if(h){l(),c.close();return}let p=d.byteLength;if(r){let m=i+=p;r(m)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Yg=64*1024,{isFunction:Fl}=ve,a_=(({Request:e,Response:s})=>({Request:e,Response:s}))(ve.global),{ReadableStream:Jg,TextEncoder:Xg}=ve.global,Zg=(e,...s)=>{try{return!!e(...s)}catch{return!1}},i_=e=>{e=ve.merge.call({skipUndefined:!0},a_,e);const{fetch:s,Request:r,Response:n}=e,a=s?Fl(s):typeof fetch=="function",i=Fl(r),o=Fl(n);if(!a)return!1;const l=a&&Fl(Jg),c=a&&(typeof Xg=="function"?(g=>y=>g.encode(y))(new Xg):async g=>new Uint8Array(await new r(g).arrayBuffer())),h=i&&l&&Zg(()=>{let g=!1;const y=new r(hs.origin,{body:new Jg,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=o&&l&&Zg(()=>ve.isReadableStream(new n("").body)),p={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!p[g]&&(p[g]=(y,S)=>{let x=y&&y[g];if(x)return x.call(y);throw new et(`Response type '${g}' is not supported`,et.ERR_NOT_SUPPORT,S)})});const m=async g=>{if(g==null)return 0;if(ve.isBlob(g))return g.size;if(ve.isSpecCompliantForm(g))return(await new r(hs.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(g)||ve.isArrayBuffer(g))return g.byteLength;if(ve.isURLSearchParams(g)&&(g=g+""),ve.isString(g))return(await c(g)).byteLength},u=async(g,y)=>{const S=ve.toFiniteNumber(g.getContentLength());return S??m(y)};return async g=>{let{url:y,method:S,data:x,signal:C,cancelToken:w,timeout:_,onDownloadProgress:z,onUploadProgress:P,responseType:b,headers:E,withCredentials:j="same-origin",fetchOptions:F}=mv(g),$=s||fetch;b=b?(b+"").toLowerCase():"text";let N=t_([C,w&&w.toAbortSignal()],_),A=null;const R=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let T;try{if(P&&h&&S!=="get"&&S!=="head"&&(T=await u(E,x))!==0){let W=new r(y,{method:"POST",body:x,duplex:"half"}),H;if(ve.isFormData(x)&&(H=W.headers.get("content-type"))&&E.setContentType(H),W.body){const[B,K]=Hg(T,Uc(Gg(P)));x=Qg(W.body,Yg,B,K)}}ve.isString(j)||(j=j?"include":"omit");const v=i&&"credentials"in r.prototype,k={...F,signal:N,method:S.toUpperCase(),headers:E.normalize().toJSON(),body:x,duplex:"half",credentials:v?j:void 0};A=i&&new r(y,k);let O=await(i?$(A,F):$(y,k));const D=d&&(b==="stream"||b==="response");if(d&&(z||D&&R)){const W={};["status","statusText","headers"].forEach(q=>{W[q]=O[q]});const H=ve.toFiniteNumber(O.headers.get("content-length")),[B,K]=z&&Hg(H,Uc(Gg(z),!0))||[];O=new n(Qg(O.body,Yg,B,()=>{K&&K(),R&&R()}),W)}b=b||"text";let L=await p[ve.findKey(p,b)||"text"](O,g);return!D&&R&&R(),await new Promise((W,H)=>{dv(W,H,{data:L,headers:Os.from(O.headers),status:O.status,statusText:O.statusText,config:g,request:A})})}catch(v){throw R&&R(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,g,A),{cause:v.cause||v}):et.from(v,v&&v.code,g,A)}}},o_=new Map,pv=e=>{let s=e&&e.env||{};const{fetch:r,Request:n,Response:a}=s,i=[n,a,r];let o=i.length,l=o,c,h,d=o_;for(;l--;)c=i[l],h=d.get(c),h===void 0&&d.set(c,h=l?new Map:i_(s)),d=h;return h};pv();const Of={http:ww,xhr:e_,fetch:{get:pv}};ve.forEach(Of,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const ex=e=>`- ${e}`,l_=e=>ve.isFunction(e)||e===null||e===!1;function c_(e,s){e=ve.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!l_(n)&&(a=Of[(l=String(n)).toLowerCase()],a===void 0))throw new et(`Unknown adapter '${l}'`);if(a&&(ve.isFunction(a)||(a=a.get(s))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(ex).join(`
`):" "+ex(o[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const fv={getAdapter:c_,adapters:Of};function Ku(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _i(null,e)}function tx(e){return Ku(e),e.headers=Os.from(e.headers),e.data=Gu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fv.getAdapter(e.adapter||al.adapter,e)(e).then(function(n){return Ku(e),n.data=Gu.call(e,e.transformResponse,n),n.headers=Os.from(n.headers),n},function(n){return cv(n)||(Ku(e),n&&n.response&&(n.response.data=Gu.call(e,e.transformResponse,n.response),n.response.headers=Os.from(n.response.headers))),Promise.reject(n)})}const hv="1.13.2",Ed={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Ed[e]=function(n){return typeof n===e||"a"+(s<1?"n ":" ")+e}});const sx={};Ed.transitional=function(s,r,n){function a(i,o){return"[Axios v"+hv+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(s===!1)throw new et(a(o," has been removed"+(r?" in "+r:"")),et.ERR_DEPRECATED);return r&&!sx[o]&&(sx[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,o,l):!0}};Ed.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function d_(e,s,r){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=s[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new et("option "+i+" must be "+c,et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new et("Unknown option "+i,et.ERR_BAD_OPTION)}}const ac={assertOptions:d_,validators:Ed},Rr=ac.validators;let la=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Wg,response:new Wg}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ga(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&ac.assertOptions(n,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),a!=null&&(ve.isFunction(a)?r.paramsSerializer={serialize:a}:ac.assertOptions(a,{encode:Rr.function,serialize:Rr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ac.assertOptions(r,{baseUrl:Rr.spelling("baseURL"),withXsrfToken:Rr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ve.merge(i.common,i[r.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Os.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let d,p=0,m;if(!c){const g=[tx.bind(this),void 0];for(g.unshift(...l),g.push(...h),m=g.length,d=Promise.resolve(r);p<m;)d=d.then(g[p++],g[p++]);return d}m=l.length;let u=r;for(;p<m;){const g=l[p++],y=l[p++];try{u=g(u)}catch(S){y.call(this,S);break}}try{d=tx.call(this,u)}catch(g){return Promise.reject(g)}for(p=0,m=h.length;p<m;)d=d.then(h[p++],h[p++]);return d}getUri(s){s=ga(this.defaults,s);const r=uv(s.baseURL,s.url,s.allowAbsoluteUrls);return iv(r,s.params,s.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(s){la.prototype[s]=function(r,n){return this.request(ga(n||{},{method:s,url:r,data:(n||{}).data}))}});ve.forEach(["post","put","patch"],function(s){function r(n){return function(i,o,l){return this.request(ga(l||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}la.prototype[s]=r(),la.prototype[s+"Form"]=r(!0)});let u_=class gv{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},s(function(i,o,l){n.reason||(n.reason=new _i(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new gv(function(a){s=a}),cancel:s}}};function m_(e){return function(r){return e.apply(null,r)}}function p_(e){return ve.isObject(e)&&e.isAxiosError===!0}const dp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dp).forEach(([e,s])=>{dp[s]=e});function xv(e){const s=new la(e),r=Kb(la.prototype.request,s);return ve.extend(r,la.prototype,s,{allOwnKeys:!0}),ve.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return xv(ga(e,a))},r}const bt=xv(al);bt.Axios=la;bt.CanceledError=_i;bt.CancelToken=u_;bt.isCancel=cv;bt.VERSION=hv;bt.toFormData=Pd;bt.AxiosError=et;bt.Cancel=bt.CanceledError;bt.all=function(s){return Promise.all(s)};bt.spread=m_;bt.isAxiosError=p_;bt.mergeConfig=ga;bt.AxiosHeaders=Os;bt.formToJSON=e=>lv(ve.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=fv.getAdapter;bt.HttpStatusCode=dp;bt.default=bt;const{Axios:QT,AxiosError:YT,CanceledError:JT,isCancel:XT,CancelToken:ZT,VERSION:e6,all:t6,Cancel:s6,isAxiosError:r6,spread:n6,toFormData:a6,AxiosHeaders:i6,HttpStatusCode:o6,formToJSON:l6,getAdapter:c6,mergeConfig:d6}=bt,up="https://aeroenix.com/v1/api",mp=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),Oi=new Map,f_=(e,s,r)=>{const n=(e==null?void 0:e.toUpperCase())||"GET",a=r?JSON.stringify(r):"";return`${n}:${s}:${a}`},le=bt.create({baseURL:up,headers:{"Content-Type":"application/json",Accept:"application/json"}}),h_=le.get.bind(le);le.post.bind(le);le.put.bind(le);le.delete.bind(le);le.get=function(e,s={}){const r=f_("GET",e,s.params);if(Oi.has(r))return console.log(" Deduplicating request:",r),Oi.get(r);const n=h_(e,s).then(a=>(Oi.delete(r),a)).catch(a=>{throw Oi.delete(r),a});return Oi.set(r,n),n};le.interceptors.request.use(e=>{var r;const s=mp();return s&&(e.headers.Authorization=`Bearer ${s}`),e.data instanceof FormData&&delete e.headers["Content-Type"],console.log(" API Request:",{method:(r=e.method)==null?void 0:r.toUpperCase(),url:`${e.baseURL}${e.url}`,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data,params:e.params}),e},e=>Promise.reject(e));le.interceptors.response.use(e=>{var s;return console.log(" API Response:",{status:e.status,statusText:e.statusText,url:(s=e.config)==null?void 0:s.url,data:e.data}),e.data},e=>{var s,r,n,a,i;return console.error(" API Error:",{status:(s=e.response)==null?void 0:s.status,statusText:(r=e.response)==null?void 0:r.statusText,url:(n=e.config)==null?void 0:n.url,data:(a=e.response)==null?void 0:a.data,message:e.message}),((i=e.response)==null?void 0:i.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("token"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token")),Promise.reject(e)});const We={getACCApplications:e=>le.get("/admin/accs/applications",{params:e}),getACCApplication:e=>le.get(`/admin/accs/applications/${e}`),approveACCApplication:e=>le.put(`/admin/accs/applications/${e}/approve`),rejectACCApplication:(e,s)=>le.put(`/admin/accs/applications/${e}/reject`,s),createACCSpace:e=>le.post(`/admin/accs/${e}/create-space`),generateACCCredentials:e=>le.post(`/admin/accs/${e}/generate-credentials`),listACCs:e=>le.get("/admin/accs",{params:e}),getACCDetails:e=>le.get(`/admin/accs/${e}`),updateACC:(e,s)=>le.put(`/admin/accs/${e}`,s),setCommissionPercentage:(e,s)=>le.put(`/admin/accs/${e}/commission-percentage`,s),getACCTransactions:(e,s)=>le.get(`/admin/accs/${e}/transactions`,{params:s}),assignCategoryToACC:(e,s)=>le.post(`/admin/accs/${e}/assign-category`,s),removeCategoryFromACC:(e,s)=>le.delete(`/admin/accs/${e}/remove-category`,{data:s}),getACCCategories:e=>le.get(`/admin/accs/${e}/categories`),addStripeAccountToACC:(e,s)=>le.put(`/admin/accs/${e}/stripe-account`,s),removeStripeAccountFromACC:e=>le.delete(`/admin/accs/${e}/stripe-account`),listTrainingCenters:e=>le.get("/admin/training-centers",{params:e}),getTrainingCenterDetails:e=>le.get(`/admin/training-centers/${e}`),updateTrainingCenter:(e,s)=>le.put(`/admin/training-centers/${e}`,s),getTrainingCenterApplications:e=>le.get("/admin/training-centers/applications",{params:e}),approveTrainingCenterApplication:e=>le.put(`/admin/training-centers/applications/${e}/approve`),rejectTrainingCenterApplication:(e,s)=>le.put(`/admin/training-centers/applications/${e}/reject`,s),listInstructors:e=>le.get("/admin/instructors",{params:e}),getInstructorDetails:e=>le.get(`/admin/instructors/${e}`),updateInstructor:(e,s)=>le.put(`/admin/instructors/${e}`,s),getPendingCommissionRequests:e=>le.get("/admin/instructor-authorizations/pending-commission",{params:e}),setInstructorAuthorizationCommission:(e,s)=>le.put(`/admin/instructor-authorizations/${e}/set-commission`,s),createCategory:e=>le.post("/admin/categories",e),listCategories:e=>le.get("/admin/categories",{params:e}),updateCategory:(e,s)=>le.put(`/admin/categories/${e}`,s),deleteCategory:e=>le.delete(`/admin/categories/${e}`),createSubCategory:e=>le.post("/admin/sub-categories",e),listSubCategories:e=>le.get("/admin/sub-categories",{params:e}),updateSubCategory:(e,s)=>le.put(`/admin/sub-categories/${e}`,s),deleteSubCategory:e=>le.delete(`/admin/sub-categories/${e}`),listCourses:e=>le.get("/admin/courses",{params:e}),getCourseDetails:e=>le.get(`/admin/courses/${e}`),createClass:e=>le.post("/admin/classes",e),listClasses:e=>le.get("/admin/classes",{params:e}),updateClass:(e,s)=>le.put(`/admin/classes/${e}`,s),deleteClass:e=>le.delete(`/admin/classes/${e}`),getDashboard:()=>le.get("/admin/dashboard"),getFinancialDashboard:()=>le.get("/admin/financial/dashboard"),getFinancialTransactions:e=>le.get("/admin/financial/transactions",{params:e}),getPaymentTransactions:e=>le.get("/admin/financial/transactions",{params:e}),getSettlements:e=>le.get("/admin/financial/settlements",{params:e}),requestPayment:e=>le.post(`/admin/financial/settlements/${e}/request-payment`),getRevenueReport:e=>le.get("/admin/reports/revenue",{params:e}),getACCsReport:e=>le.get("/admin/reports/accs",{params:e}),getTrainingCentersReport:e=>le.get("/admin/reports/training-centers",{params:e}),getCertificatesReport:e=>le.get("/admin/reports/certificates",{params:e}),listStripeSettings:e=>le.get("/admin/stripe-settings",{params:e}),getActiveStripeSetting:()=>le.get("/admin/stripe-settings/active"),createStripeSetting:e=>le.post("/admin/stripe-settings",e),updateStripeSetting:(e,s)=>le.put(`/admin/stripe-settings/${e}`,s),deleteStripeSetting:e=>le.delete(`/admin/stripe-settings/${e}`),getPendingPayments:e=>le.get("/admin/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>le.put(`/admin/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>le.put(`/admin/code-batches/${e}/reject-payment`,s)},Qe={getDashboard:()=>le.get("/acc/dashboard"),getProfile:()=>le.get("/acc/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),le.post("/acc/profile",e)),verifyStripeAccount:e=>le.post("/acc/profile/verify-stripe-account",{stripe_account_id:e}),getSubscription:()=>le.get("/acc/subscription"),createSubscriptionPaymentIntent:e=>le.post("/acc/subscription/payment-intent",e),createRenewalPaymentIntent:e=>le.post("/acc/subscription/renew-payment-intent",e),paySubscription:e=>le.post("/acc/subscription/payment",e),renewSubscription:e=>le.put("/acc/subscription/renew",e),getTrainingCenterRequests:e=>le.get("/acc/training-centers/requests",{params:e}),approveTrainingCenterRequest:e=>le.put(`/acc/training-centers/requests/${e}/approve`),rejectTrainingCenterRequest:(e,s)=>le.put(`/acc/training-centers/requests/${e}/reject`,s),returnTrainingCenterRequest:(e,s)=>le.put(`/acc/training-centers/requests/${e}/return`,s),listAuthorizedTrainingCenters:e=>le.get("/acc/training-centers",{params:e}),getInstructorRequests:e=>le.get("/acc/instructors/requests",{params:e}),approveInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/approve`,s),rejectInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/reject`,s),returnInstructorRequest:(e,s)=>le.put(`/acc/instructors/requests/${e}/return`,s),listAuthorizedInstructors:e=>le.get("/acc/instructors",{params:e}),createCourse:e=>le.post("/acc/courses",e),listCourses:e=>le.get("/acc/courses",{params:e}),getCourseDetails:e=>le.get(`/acc/courses/${e}`),updateCourse:(e,s)=>le.put(`/acc/courses/${e}`,s),deleteCourse:e=>le.delete(`/acc/courses/${e}`),setCoursePricing:(e,s)=>le.post(`/acc/courses/${e}/pricing`,s),updateCoursePricing:(e,s)=>le.put(`/acc/courses/${e}/pricing`,s),createCertificateTemplate:e=>le.post("/acc/certificate-templates",e),listCertificateTemplates:e=>le.get("/acc/certificate-templates",{params:e}),getTemplateDetails:e=>le.get(`/acc/certificate-templates/${e}`),updateTemplate:(e,s)=>le.put(`/acc/certificate-templates/${e}`,s),deleteTemplate:e=>le.delete(`/acc/certificate-templates/${e}`),previewTemplate:(e,s)=>le.post(`/acc/certificate-templates/${e}/preview`,s),createDiscountCode:e=>le.post("/acc/discount-codes",e),listDiscountCodes:e=>le.get("/acc/discount-codes",{params:e}),getDiscountCodeDetails:e=>le.get(`/acc/discount-codes/${e}`),updateDiscountCode:(e,s)=>le.put(`/acc/discount-codes/${e}`,s),deleteDiscountCode:e=>le.delete(`/acc/discount-codes/${e}`),validateDiscountCode:e=>le.post("/acc/discount-codes/validate",e),createMaterial:e=>le.post("/acc/materials",e),listMaterials:e=>le.get("/acc/materials",{params:e}),getMaterialDetails:e=>le.get(`/acc/materials/${e}`),updateMaterial:(e,s)=>le.put(`/acc/materials/${e}`,s),deleteMaterial:e=>le.delete(`/acc/materials/${e}`),listCertificates:e=>le.get("/acc/certificates",{params:e}),createCertificate:e=>le.post("/acc/certificates",e),listClasses:e=>le.get("/acc/classes",{params:e}),getClassDetails:e=>le.get(`/acc/classes/${e}`),getFinancialTransactions:e=>le.get("/acc/financial/transactions",{params:e}),getPaymentTransactions:e=>le.get("/acc/financial/transactions",{params:e}),getSettlements:e=>le.get("/acc/financial/settlements",{params:e}),listCategories:e=>le.get("/acc/categories",{params:e}),getCategory:e=>le.get(`/acc/categories/${e}`),createCategory:e=>le.post("/acc/categories",e),updateCategory:(e,s)=>le.put(`/acc/categories/${e}`,s),deleteCategory:e=>le.delete(`/acc/categories/${e}`),listSubCategories:e=>le.get("/acc/sub-categories",{params:e}),getSubCategory:e=>le.get(`/acc/sub-categories/${e}`),createSubCategory:e=>le.post("/acc/sub-categories",e),updateSubCategory:(e,s)=>le.put(`/acc/sub-categories/${e}`,s),deleteSubCategory:e=>le.delete(`/acc/sub-categories/${e}`),getPendingPayments:e=>le.get("/acc/code-batches/pending-payments",{params:e}),approvePayment:(e,s)=>le.put(`/acc/code-batches/${e}/approve-payment`,s),rejectPayment:(e,s)=>le.put(`/acc/code-batches/${e}/reject-payment`,s)},Ue={getDashboard:()=>le.get("/training-center/dashboard"),getProfile:()=>le.get("/training-center/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),le.post("/training-center/profile",e)),listACCs:e=>le.get("/training-center/accs",{params:e}),requestAuthorization:(e,s)=>{const r=mp(),n={Accept:"application/json"};return r&&(n.Authorization=`Bearer ${r}`),bt.post(`${up}/training-center/accs/${e}/request-authorization`,s,{headers:n}).then(a=>a.data)},getAuthorizationStatus:e=>le.get("/training-center/authorizations",{params:e}),createInstructor:e=>{if(e instanceof FormData){const r={Authorization:`Bearer ${mp()}`,Accept:"application/json"};return bt.post(`${up}/training-center/instructors`,e,{headers:r}).then(n=>n.data)}return le.post("/training-center/instructors",e)},listInstructors:e=>le.get("/training-center/instructors",e?{params:e}:{}),getInstructorDetails:e=>le.get(`/training-center/instructors/${e}`),updateInstructor:(e,s)=>(s instanceof FormData&&s.append("_method","PUT"),le.post(`/training-center/instructors/${e}`,s)),deleteInstructor:e=>le.delete(`/training-center/instructors/${e}`),requestInstructorAuthorization:(e,s)=>le.post(`/training-center/instructors/${e}/request-authorization`,s),getSubCategoriesForACC:e=>le.get(`/training-center/accs/${e}/sub-categories`),getCoursesForACC:(e,s)=>le.get(`/training-center/accs/${e}/courses`,{params:s}),getInstructorAuthorizations:e=>le.get("/training-center/instructors/authorizations",{params:e}),createInstructorAuthorizationPaymentIntent:(e,s)=>le.post(`/training-center/instructors/authorizations/${e}/payment-intent`,s),payInstructorAuthorization:(e,s)=>le.post(`/training-center/instructors/authorizations/${e}/pay`,s),createPaymentIntent:e=>le.post("/training-center/codes/create-payment-intent",e),purchaseCodes:e=>le.post("/training-center/codes/purchase",e),getCodeInventory:e=>le.get("/training-center/codes/inventory",{params:e}),getCodeBatches:e=>le.get("/training-center/codes/batches",{params:e}),addFunds:e=>le.post("/training-center/wallet/add-funds",e),getWalletBalance:()=>le.get("/training-center/wallet/balance"),getWalletTransactions:e=>le.get("/training-center/wallet/transactions",{params:e}),getPaymentTransactions:e=>le.get("/training-center/financial/transactions",{params:e}),createClass:e=>le.post("/training-center/classes",e),listClasses:e=>le.get("/training-center/classes",{params:e}),getClassDetails:e=>le.get(`/training-center/classes/${e}`),updateClass:(e,s)=>le.put(`/training-center/classes/${e}`,s),deleteClass:e=>le.delete(`/training-center/classes/${e}`),markClassComplete:e=>le.put(`/training-center/classes/${e}/complete`),generateCertificate:e=>le.post("/training-center/certificates/generate",e),listCertificates:e=>le.get("/training-center/certificates",{params:e}),getCertificateDetails:e=>le.get(`/training-center/certificates/${e}`),browseMaterials:e=>le.get("/training-center/marketplace/materials",{params:e}),getMaterialDetails:e=>le.get(`/training-center/marketplace/materials/${e}`),purchaseFromMarketplace:e=>le.post("/training-center/marketplace/purchase",e),getLibrary:e=>le.get("/training-center/library",{params:e}),createTrainee:e=>le.post("/training-center/trainees",e),listTrainees:e=>le.get("/training-center/trainees",{params:e}),getTraineeDetails:e=>le.get(`/training-center/trainees/${e}`),updateTrainee:(e,s)=>(s instanceof FormData&&s.append("_method","PUT"),le.post(`/training-center/trainees/${e}`,s)),deleteTrainee:e=>le.delete(`/training-center/trainees/${e}`)},Cs={getDashboard:()=>le.get("/instructor/dashboard"),getProfile:()=>le.get("/instructor/profile"),updateProfile:e=>(e instanceof FormData&&e.append("_method","PUT"),le.post("/instructor/profile",e)),listClasses:e=>le.get("/instructor/classes",{params:e}),getClassDetails:e=>le.get(`/instructor/classes/${e}`),markClassComplete:(e,s)=>le.put(`/instructor/classes/${e}/mark-complete`,s),getTrainingCenters:()=>le.get("/instructor/training-centers"),getACCs:()=>le.get("/instructor/accs"),getAvailableMaterials:e=>le.get("/instructor/materials",{params:e}),getEarnings:e=>le.get("/instructor/earnings",{params:e})},Fn={getCountries:()=>le.get("/countries"),getCities:e=>le.get("/cities",{params:e?{country:e}:{}}),verifyCertificate:e=>le.get(`/certificates/verify/${e}`)},yv={getConfig:()=>le.get("/stripe/config"),createPaymentIntent:e=>le.post("/stripe/payment-intent",e),confirmPayment:e=>le.post("/stripe/confirm",e)},nr={login:e=>le.post("/auth/login",e),register:e=>le.post("/auth/register",e),logout:()=>le.post("/auth/logout"),getProfile:()=>le.get("/auth/profile"),updateProfile:e=>le.put("/auth/profile",e),changePassword:e=>le.put("/auth/change-password",e),forgotPassword:e=>le.post("/auth/forgot-password",e),resetPassword:e=>le.post("/auth/reset-password",e)},xn={getNotifications:e=>le.get("/notifications",{params:e}),getUnreadCount:()=>le.get("/notifications/unread-count"),getNotification:e=>le.get(`/notifications/${e}`),markAsRead:e=>le.put(`/notifications/${e}/read`),markAsUnread:e=>le.put(`/notifications/${e}/unread`),markAllAsRead:()=>le.post("/notifications/mark-all-read"),deleteNotification:e=>le.delete(`/notifications/${e}`),deleteAllRead:()=>le.delete("/notifications/read")},g_=Object.freeze(Object.defineProperty({__proto__:null,accAPI:Qe,adminAPI:We,authAPI:nr,instructorAPI:Cs,notificationsAPI:xn,publicAPI:Fn,stripeAPI:yv,trainingCenterAPI:Ue},Symbol.toStringTag,{value:"Module"})),_a=e=>{e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},ic=()=>sessionStorage.getItem("auth_token")||sessionStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("token"),bv=f.createContext(null),hr=()=>{const e=f.useContext(bv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},x_=({children:e})=>{const[s,r]=f.useState(null),[n,a]=f.useState(!0),[i,o]=f.useState(!1),l=f.useRef(!1),c=f.useRef(!1);f.useEffect(()=>{c.current||(c.current=!0,h())},[]);const h=async()=>{var C;if(l.current){console.log(" Auth check already in progress, skipping duplicate request");return}l.current=!0;try{if(a(!0),ic())try{const _=await nr.getProfile();_.user?(r(_.user),o(!0)):(_a(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1))}catch(_){((C=_.response)==null?void 0:C.status)===401?(_a(null),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("token"),r(null),o(!1)):(console.error("Profile fetch error:",_),r(null),o(!1))}else r(null),o(!1)}catch(w){console.error("Auth check failed:",w),r(null),o(!1)}finally{a(!1),l.current=!1}},d=async(C,w)=>{var _,z,P,b,E,j,F,$,N,A,R;try{const T=await nr.login({email:C,password:w});return T.token?(((_=T.user)==null?void 0:_.role)==="acc_admin"&&(((z=T.user)==null?void 0:z.status)==="pending"||((P=T.user)==null?void 0:P.status)==="inactive")?(sessionStorage.setItem("auth_token",T.token),sessionStorage.setItem("token",T.token)):_a(T.token),r(T.user),o(!0),{success:!0,data:T,isActive:((b=T.user)==null?void 0:b.status)==="active",userStatus:(E=T.user)==null?void 0:E.status}):{success:!1,error:"Login failed. Please try again."}}catch(T){console.error("Login error:",T);let v="Login failed. Please try again.";if((F=(j=T.response)==null?void 0:j.data)!=null&&F.message)v=T.response.data.message;else if((N=($=T.response)==null?void 0:$.data)!=null&&N.error)v=T.response.data.error;else if((R=(A=T.response)==null?void 0:A.data)!=null&&R.errors){const k=T.response.data.errors,O=Object.values(k)[0];v=Array.isArray(O)?O[0]:O}else T.message&&(v=T.message);return{success:!1,error:v}}},p=async(C,w,_,z,P)=>{var b,E,j,F,$,N,A,R;try{const T=await nr.register({name:C,email:w,password:_,password_confirmation:z,role:P});return T.token?(_a(T.token),r(T.user),o(!0),{success:!0,data:T,isActive:((b=T.user)==null?void 0:b.status)==="active",userStatus:(E=T.user)==null?void 0:E.status}):{success:!1,error:"Registration failed. Please try again."}}catch(T){console.error("Register error:",T);let v="Registration failed. Please try again.";if((F=(j=T.response)==null?void 0:j.data)!=null&&F.message)v=T.response.data.message;else if((N=($=T.response)==null?void 0:$.data)!=null&&N.error)v=T.response.data.error;else if((R=(A=T.response)==null?void 0:A.data)!=null&&R.errors){const k=T.response.data.errors,O=Object.values(k)[0];v=Array.isArray(O)?O[0]:O}else T.message&&(v=T.message);return{success:!1,error:v}}},m=async()=>{try{if((s==null?void 0:s.role)==="acc_admin"&&((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="inactive")){sessionStorage.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("token"),_a(null),r(null),o(!1);return}await nr.logout()}catch(C){console.error("Logout error:",C)}finally{_a(null),r(null),o(!1),localStorage.removeItem("sidebarOpen"),localStorage.removeItem("sidebarCollapsed")}},u=C=>{r(C)},g=async C=>{var w,_;try{return{success:!0,data:await nr.forgotPassword({email:C})}}catch(z){let P="Failed to send reset email. Please try again.";return(_=(w=z.response)==null?void 0:w.data)!=null&&_.message&&(P=z.response.data.message),{success:!1,error:P}}},y=async(C,w,_,z)=>{var P,b,E,j,F,$;try{return{success:!0,data:await nr.resetPassword({token:C,email:w,password:_,password_confirmation:z})}}catch(N){let A="Failed to reset password. Please try again.";if((b=(P=N.response)==null?void 0:P.data)!=null&&b.message)A=N.response.data.message;else if((j=(E=N.response)==null?void 0:E.data)!=null&&j.error)A=N.response.data.error;else if(($=(F=N.response)==null?void 0:F.data)!=null&&$.errors){const R=N.response.data.errors,T=Object.values(R)[0];A=Array.isArray(T)?T[0]:T}return{success:!1,error:A}}},S=async()=>{try{const C=await nr.getProfile();C.user&&(r(C.user),o(!0))}catch(C){console.error("Failed to refresh user:",C)}},x=f.useMemo(()=>({user:s,loading:n,isAuthenticated:i,login:d,register:p,logout:m,updateUser:u,checkAuth:h,forgotPassword:g,resetPassword:y,refreshUser:S}),[s,n,i]);return t.jsx(bv.Provider,{value:x,children:e})},vv=f.createContext(null),ot=()=>{const e=f.useContext(vv);return e||{setHeaderActions:()=>{},setHeaderTitle:()=>{},setHeaderSubtitle:()=>{},headerActions:null,headerTitle:null,headerSubtitle:null}},y_=({children:e})=>{const[s,r]=f.useState(null),[n,a]=f.useState(null),[i,o]=f.useState(null),l=f.useCallback(p=>{r(p)},[]),c=f.useCallback(p=>{a(p)},[]),h=f.useCallback(p=>{o(p)},[]),d=f.useMemo(()=>({headerActions:s,headerTitle:n,headerSubtitle:i,setHeaderActions:l,setHeaderTitle:c,setHeaderSubtitle:h}),[s,n,i]);return t.jsx(vv.Provider,{value:d,children:e})},jv=f.createContext(null),b_=()=>{const e=f.useContext(jv);if(!e)throw new Error("useNotificationsContext must be used within a NotificationsProvider");return e},v_=({children:e})=>{const[s,r]=f.useState([]),[n,a]=f.useState(0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState({currentPage:1,lastPage:1,perPage:15,total:0}),p=f.useRef(!1),m=f.useRef(!1),u=f.useCallback(async(z={},P=1,b=15)=>{if(m.current){console.log(" Notifications fetch already in progress, skipping duplicate request");return}m.current=!0,o(!0),c(null);try{const E={...z,page:P,per_page:b},j=await xn.getNotifications(E);if(j.success){const F=j.notifications||[];r(F),a(j.unread_count||0),j.pagination&&d({currentPage:j.pagination.current_page||P,lastPage:j.pagination.last_page||1,perPage:j.pagination.per_page||b,total:j.pagination.total||0})}}catch(E){console.error("Failed to fetch notifications:",E),c(E.message||"Failed to fetch notifications")}finally{o(!1),m.current=!1}},[]),g=f.useCallback(async()=>{try{const z=await xn.getUnreadCount();z.success&&a(z.unread_count||0)}catch{}},[]),y=f.useCallback(async z=>{try{const P=await xn.markAsRead(z);P.success&&(r(b=>b.map(E=>{var j;return E.id===z?{...E,is_read:!0,read_at:((j=P.notification)==null?void 0:j.read_at)||new Date().toISOString()}:E})),a(b=>Math.max(0,b-1)))}catch(P){throw console.error("Failed to mark as read:",P),P}},[]),S=f.useCallback(async z=>{try{(await xn.markAsUnread(z)).success&&(r(b=>b.map(E=>E.id===z?{...E,is_read:!1,read_at:null}:E)),a(b=>b+1))}catch(P){throw console.error("Failed to mark as unread:",P),P}},[]),x=f.useCallback(async()=>{try{(await xn.markAllAsRead()).success&&(r(P=>P.map(b=>({...b,is_read:!0}))),a(0))}catch(z){throw console.error("Failed to mark all as read:",z),z}},[]),C=f.useCallback(async z=>{try{(await xn.deleteNotification(z)).success&&r(b=>{const E=b.find($=>$.id===z),j=E&&!E.is_read,F=b.filter($=>$.id!==z);return j&&a($=>Math.max(0,$-1)),F})}catch(P){throw console.error("Failed to delete notification:",P),P}},[]),w=f.useCallback(async()=>{try{(await xn.deleteAllRead()).success&&r(P=>P.filter(b=>!b.is_read))}catch(z){throw console.error("Failed to delete all read notifications:",z),z}},[]);f.useEffect(()=>{p.current||(p.current=!0,u({},1,15))},[u]);const _={notifications:s,unreadCount:n,loading:i,error:l,pagination:h,fetchNotifications:u,fetchUnreadCount:g,markAsRead:y,markAsUnread:S,markAllAsRead:x,deleteNotification:C,deleteAllRead:w,refresh:()=>u({},h.currentPage,h.perPage)};return t.jsx(jv.Provider,{value:_,children:e})},Vn=({children:e,allowedRoles:s=[],allowPending:r=!1})=>{const{isAuthenticated:n,user:a,loading:i}=hr();return i?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?!r&&((a==null?void 0:a.role)==="acc_admin"||(a==null?void 0:a.role)==="training_center_admin")&&(a==null?void 0:a.status)!=="active"?t.jsx(sc,{to:"/pending-account",replace:!0}):s.length>0&&!s.includes(a==null?void 0:a.role)?t.jsx(sc,{to:"/unauthorized",replace:!0}):e:t.jsx(sc,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(e,s)=>{const r=f.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...h},d)=>f.createElement("svg",{ref:d,...j_,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${N_(e)}`,l].join(" "),...h},[...s.map(([p,m])=>f.createElement(p,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=De("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=De("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=De("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=De("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=De("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=De("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=De("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=De("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=De("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=De("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=De("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=De("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=De("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=De("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=De("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=De("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=De("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=De("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=De("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=De("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=De("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=De("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=De("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=De("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=De("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=De("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=De("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cx=()=>{const[e,s]=f.useState(!1),[r,n]=f.useState({top:0,right:0}),a=f.useRef(null),i=f.useRef(null),{notifications:o,unreadCount:l,loading:c,markAsRead:h,markAllAsRead:d,deleteNotification:p,deleteAllRead:m,fetchNotifications:u}=b_();f.useEffect(()=>{if(e&&a.current){const z=a.current.getBoundingClientRect(),P=400,b=window.innerWidth-32,E=Math.min(P,b);let j=window.innerWidth-z.right;j+E>window.innerWidth-16&&(j=16),n({top:z.bottom+12,right:j}),c||u({},1,15)}},[e]),f.useEffect(()=>{const z=P=>{a.current&&!a.current.contains(P.target)&&i.current&&!i.current.contains(P.target)&&s(!1)};return e&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[e]);const g=async z=>{if(!z.is_read)try{await h(z.id)}catch(P){console.error("Failed to mark notification as read:",P)}},y=async()=>{try{await d()}catch(z){console.error("Failed to mark all as read:",z)}},S=async(z,P)=>{z.stopPropagation();try{await p(P)}catch(b){console.error("Failed to delete notification:",b)}},x=async()=>{try{await m()}catch(z){console.error("Failed to delete all read notifications:",z)}},C=z=>{const P=new Date(z),E=Math.floor((new Date-P)/1e3);return E<60?"Just now":E<3600?`${Math.floor(E/60)}m ago`:E<86400?`${Math.floor(E/3600)}h ago`:E<604800?`${Math.floor(E/86400)}d ago`:P.toLocaleDateString()},w=o.filter(z=>!z.is_read),_=o.filter(z=>z.is_read);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"notification-bell-container",ref:a,children:t.jsxs("button",{onClick:()=>s(!e),className:"notification-bell-button","aria-label":"Notifications",children:[t.jsx(rx,{size:20}),l>0&&t.jsx("span",{className:"notification-badge",children:l>99?"99+":l})]})}),e&&t.jsxs("div",{className:"notification-dropdown",ref:i,style:{top:`${r.top}px`,right:`${r.right}px`},children:[t.jsxs("div",{className:"notification-header",children:[t.jsx("h3",{className:"notification-title",children:"Notifications"}),t.jsxs("div",{className:"notification-actions",children:[l>0&&t.jsx("button",{onClick:y,className:"notification-action-btn",title:"Mark all as read",children:t.jsx(A_,{size:16})}),_.length>0&&t.jsx("button",{onClick:x,className:"notification-action-btn",title:"Delete all read",children:t.jsx(Ss,{size:16})}),t.jsx("button",{onClick:()=>s(!1),className:"notification-action-btn",title:"Close",children:t.jsx(ks,{size:16})})]})]}),t.jsx("div",{className:"notification-list",children:c&&o.length===0?t.jsx("div",{className:"notification-empty",children:t.jsx("div",{className:"notification-loading",children:"Loading notifications..."})}):o.length===0?t.jsxs("div",{className:"notification-empty",children:[t.jsx(rx,{size:48,className:"notification-empty-icon"}),t.jsx("p",{className:"notification-empty-text",children:"No notifications"})]}):t.jsxs(t.Fragment,{children:[w.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Unread"}),w.map(z=>t.jsxs("div",{className:"notification-item unread",onClick:()=>g(z),children:[t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:z.title}),t.jsx("button",{onClick:P=>S(P,z.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(ks,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:z.message}),t.jsxs("div",{className:"notification-item-footer",children:[t.jsx("span",{className:"notification-item-time",children:C(z.created_at)}),t.jsx("div",{className:"notification-item-actions",children:t.jsx("button",{onClick:P=>{P.stopPropagation(),h(z.id)},className:"notification-item-action",title:"Mark as read",children:t.jsx(P_,{size:14})})})]})]}),t.jsx("div",{className:"notification-indicator"})]},z.id))]}),_.length>0&&t.jsxs("div",{className:"notification-section",children:[t.jsx("div",{className:"notification-section-header",children:"Read"}),_.map(z=>t.jsx("div",{className:"notification-item",onClick:()=>g(z),children:t.jsxs("div",{className:"notification-item-content",children:[t.jsxs("div",{className:"notification-item-header",children:[t.jsx("h4",{className:"notification-item-title",children:z.title}),t.jsx("button",{onClick:P=>S(P,z.id),className:"notification-delete-btn",title:"Delete",children:t.jsx(ks,{size:14})})]}),t.jsx("p",{className:"notification-item-message",children:z.message}),t.jsx("div",{className:"notification-item-footer",children:t.jsx("span",{className:"notification-item-time",children:C(z.created_at)})})]})},z.id))]})]})})]})]})},za=({children:e})=>{var E;const{user:s,logout:r}=hr(),{headerActions:n,headerTitle:a,headerSubtitle:i}=ot(),o=Pr(),l=Wn(),[c,h]=f.useState(null),[d,p]=f.useState(!1);f.useEffect(()=>{(async()=>{var F;if((s==null?void 0:s.role)==="instructor")try{const $=await Cs.getDashboard(),N=((F=$==null?void 0:$.profile)==null?void 0:F.is_assessor)||($==null?void 0:$.is_assessor)||!1;p(N===!0||N==="true"||N===1)}catch($){console.error("Failed to load instructor assessor status:",$),p((s==null?void 0:s.is_assessor)===!0||(s==null?void 0:s.is_assessor)==="true"||(s==null?void 0:s.is_assessor)===1)}else p(!1)})()},[s]);const[m,u]=f.useState(()=>{const j=localStorage.getItem("sidebarOpen");return j!==null?JSON.parse(j):!0}),[g,y]=f.useState(()=>{const j=localStorage.getItem("sidebarCollapsed");return j!==null?JSON.parse(j):!1}),[S,x]=f.useState(()=>{const j=localStorage.getItem("expandedGroups");return j?JSON.parse(j):{}});f.useEffect(()=>{localStorage.setItem("expandedGroups",JSON.stringify(S))},[S]);const C=j=>{x(F=>({...F,[j]:!F[j]}))};if(f.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(m))},[m]),f.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(g))},[g]),f.useEffect(()=>{s&&(async()=>{if((s==null?void 0:s.role)==="acc_admin")try{const $=(await Qe.getSubscription()).subscription;if($&&$.subscription_end_date){const N=new Date($.subscription_end_date);h(N>new Date)}else h(!1)}catch(F){console.error("Failed to load subscription:",F),h(!1)}else h(!0)})()},[s]),l.pathname==="/pending-account")return e;f.useEffect(()=>{(s==null?void 0:s.role)==="acc_admin"&&c===!1&&(["/acc/subscription","/profile"].some(F=>l.pathname.startsWith(F))||o("/acc/subscription"))},[s,c,l.pathname,o]);const w=async()=>{await r(),o("/login")},z=(()=>{const j=[{type:"single",path:"/dashboard",icon:F_,label:"Dashboard"}];switch(s==null?void 0:s.role){case"group_admin":return[...j,{type:"group",key:"acc-management",icon:Je,label:"ACC Management",items:[{path:"/admin/accs",icon:nx,label:"ACC Applications"},{path:"/admin/training-center-applications",icon:nx,label:"TC Applications"},{path:"/admin/all-accs",icon:Je,label:"Accreditation Bodies"}]},{type:"group",key:"training-management",icon:_t,label:"Training & Instructors",items:[{path:"/admin/all-training-centers",icon:Wc,label:"Training Centers"},{path:"/admin/all-instructors",icon:_t,label:"Instructors"},{path:"/admin/instructor-authorizations",icon:go,label:"Instructor Commissions"}]},{type:"group",key:"courses-management",icon:ps,label:"Courses & Categories",items:[{path:"/admin/all-courses",icon:ps,label:"Courses"},{path:"/admin/categories",icon:ix,label:"Course Categories"}]},{type:"group",key:"financial-settings",icon:wr,label:"Financial & Settings",items:[{path:"/admin/payment-transactions",icon:Vr,label:"Payment Transactions"},{path:"/admin/pending-payments",icon:Ve,label:"Pending Payments"},{path:"/admin/stripe-settings",icon:O_,label:"Stripe Settings"}]}];case"acc_admin":return c===!1?[{type:"single",path:"/acc/subscription",icon:wr,label:"Subscription"}]:[...j,{type:"single",path:"/acc/subscription",icon:wr,label:"Subscription"},{type:"group",key:"management",icon:_t,label:"Management",items:[{path:"/acc/training-centers",icon:Je,label:"Training Centers"},{path:"/acc/instructors",icon:_t,label:"Instructors"}]},{type:"group",key:"courses-content",icon:ps,label:"Courses & Content",items:[{path:"/acc/courses",icon:ps,label:"Courses"},{path:"/acc/classes",icon:Wc,label:"Classes"},{path:"/acc/certificates",icon:Js,label:"Certificates"},{path:"/acc/discount-codes",icon:pi,label:"Discount Codes"},{path:"/acc/categories",icon:ix,label:"Course Categories"}]},{type:"group",key:"financial",icon:wr,label:"Financial",items:[{path:"/acc/payment-transactions",icon:Vr,label:"Payment Transactions"},{path:"/acc/pending-payments",icon:Ve,label:"Pending Payments"}]}];case"training_center_admin":return[...j,{type:"single",path:"/training-center/accs",icon:Je,label:"Accreditation Bodies"},{type:"group",key:"people-management",icon:_t,label:"People Management",items:[{path:"/training-center/instructors",icon:_t,label:"Instructors"},{path:"/training-center/trainees",icon:go,label:"Trainees"},{path:"/training-center/instructor-authorizations",icon:go,label:"Instructor Auth"}]},{type:"group",key:"courses-classes",icon:ps,label:"Courses & Classes",items:[{path:"/training-center/classes",icon:ps,label:"Classes"},{path:"/training-center/certificates",icon:Js,label:"Certificates"}]},{type:"group",key:"financial",icon:U_,label:"Financial",items:[{path:"/training-center/codes",icon:pi,label:"Codes"},{path:"/training-center/payment-transactions",icon:Vr,label:"Payment Transactions"}]}];case"instructor":return[...j,{type:"single",path:"/instructor/classes",icon:ps,label:"Classes"}];default:return j}})(),P=()=>{if(a)return a;const j=l.pathname;if(j==="/dashboard")return"Dashboard";if(j==="/admin/accs")return"ACC Applications";if(j==="/admin/training-center-applications")return"TC Applications";if(j==="/admin/all-accs")return"Accreditation Bodies";if(j==="/admin/all-training-centers")return"Training Centers";if(j==="/admin/all-instructors")return"Instructors";if(j==="/admin/all-courses")return"Courses";if(j==="/admin/categories")return"Course Categories";if(j==="/admin/instructor-authorizations")return"Instructor Commissions";if(j==="/admin/payment-transactions")return"Payment Transactions";if(j==="/admin/pending-payments")return"Pending Payments";if(j==="/admin/stripe-settings")return"Stripe Settings";if(j==="/acc/dashboard")return"Dashboard";if(j==="/acc/subscription")return"Subscription Management";if(j==="/acc/training-centers")return"Training Centers";if(j==="/acc/instructors")return"Instructors";if(j==="/acc/courses")return"Courses";if(j==="/acc/certificates")return"Certificates";if(j==="/acc/materials")return"Materials";if(j==="/acc/discount-codes")return"Discount Codes";if(j==="/acc/categories")return"Course Categories";if(j==="/acc/classes")return"Classes";if(j==="/acc/payment-transactions")return"Payment Transactions";if(j==="/acc/pending-payments")return"Pending Payments";if(j==="/training-center/dashboard")return"Dashboard";if(j==="/training-center/accs")return"Accreditation Bodies";if(j==="/training-center/instructors")return"Instructors";if(j==="/training-center/trainees")return"Trainees";if(j==="/training-center/classes")return"Classes";if(j==="/training-center/codes")return"Codes";if(j==="/training-center/certificates")return"Certificates";if(j==="/training-center/instructor-authorizations")return"Instructor Authorizations";if(j==="/training-center/payment-transactions"||j==="/training-center/wallet")return"Payment Transactions";if(j==="/training-center/marketplace")return"Marketplace";if(j==="/instructor/dashboard")return"Dashboard";if(j==="/instructor/classes")return"Classes";if(j==="/instructor/materials")return"Materials";if(j==="/instructor/earnings")return"Earnings";if(j==="/profile")return"Profile";const F=j.split("/").filter(Boolean);return F.length>0?F[F.length-1].split("-").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "):"Dashboard"},b=()=>{if(i)return i;const j=l.pathname;return j==="/dashboard"||j==="/acc/dashboard"||j==="/training-center/dashboard"||j==="/instructor/dashboard"?"Welcome back! Here's your overview":j==="/profile"?"Manage your account settings and preferences":"Manage and view your information"};return t.jsxs("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-sm shadow-lg px-4 py-3 flex items-center justify-between layout-gradient-primary",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cx,{}),t.jsx("button",{onClick:()=>u(!m),className:"p-2 rounded-lg text-white/80 sidebar-hover transition-all duration-200 hover:scale-110",children:m?t.jsx(ks,{size:24}):t.jsx(D_,{size:24})})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 border-r shadow-xl lg:shadow-none transform transition-all duration-300 ease-out layout-gradient-sidebar ${m?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${g?"w-16":"w-64"}`,style:{overflow:"visible"},children:t.jsxs("div",{className:"flex flex-col h-full max-h-screen overflow-visible",children:[t.jsx("div",{className:`flex-shrink-0 border-b animate-slide-down layout-section-bg ${g?"p-3":"p-4"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[!g&&t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"BOMEQP"}),t.jsx("p",{className:"text-xs text-primary-100 mt-1 font-medium truncate",children:(s==null?void 0:s.name)||"User"}),t.jsx("p",{className:"text-xs text-primary-200 mt-0.5 capitalize",children:(s==null?void 0:s.role)==="instructor"?d?"Assessor":"Instructor":((E=s==null?void 0:s.role)==null?void 0:E.replace("_"," "))||""})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>y(!g),className:`p-1.5 rounded-lg text-white/70 sidebar-hover transition-all duration-200 hover:scale-110 ${g?"w-full flex justify-center":""}`,title:g?"Expand sidebar":"Collapse sidebar",children:g?t.jsx(_v,{size:16}):t.jsx(wv,{size:16})})})]})}),t.jsx("nav",{className:`flex-1 min-h-0 ${g?"p-2 overflow-visible":"p-4 overflow-y-auto custom-scrollbar"}`,style:g?{overflowX:"visible",overflowY:"visible"}:{overflowX:"visible"},children:t.jsx("ul",{className:"space-y-1.5",style:{overflow:"visible"},children:z.map((j,F)=>{if(j.type==="single"){const $=j.icon,N=l.pathname===j.path;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${F*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx(Rl,{to:j.path,onClick:()=>{u(!1),y(!1)},className:`flex items-center rounded-xl transition-all duration-200 ease-out relative px-2 py-2 justify-center w-full group-hover-trigger ${N?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:bg-white/10"}`,children:$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 ${N?"scale-110":"group-hover:scale-110"}`})}),t.jsx("div",{className:"sidebar-tooltip",children:j.label})]}):t.jsxs(Rl,{to:j.path,onClick:()=>u(!1),className:`flex items-center rounded-xl transition-all duration-200 ease-out relative group px-4 py-3 min-w-0 ${N?"text-[var(--tertiary-color)]":"text-white/80 nav-item-hover hover:scale-105 hover:shadow-md"}`,children:[$&&t.jsx($,{size:20,className:`transition-all duration-200 flex-shrink-0 mr-3 ${N?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:j.label}),N&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"}),!N&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white/50 rounded-r-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})},`${j.path}-${F}`)}else if(j.type==="group"){const $=j.icon,N=j.items.some(R=>l.pathname===R.path),A=S[j.key]!==!1;return t.jsx("li",{className:"stagger-item",style:{"--animation-delay":`${F*.03}s`,overflow:"visible"},children:g?t.jsxs("div",{className:"relative group sidebar-item-collapsed",children:[t.jsx("button",{onClick:()=>y(!1),className:"px-2 py-2 flex justify-center w-full rounded-xl transition-all duration-200 hover:bg-white/10 nav-item-hover group-hover-trigger",children:t.jsx($,{size:20,className:"text-white/80"})}),t.jsx("div",{className:"sidebar-tooltip",children:j.label})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>C(j.key),className:`w-full flex items-center px-3 py-2 rounded-xl transition-all duration-200 ease-out relative group ${N?"bg-white/10 backdrop-blur-sm":"text-white/80 nav-item-hover hover:bg-white/5"}`,children:[$&&t.jsx($,{size:20,className:"transition-all duration-200 flex-shrink-0 mr-3 group-hover:scale-110 text-white/80"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap flex-1 min-w-0 text-left text-white/80",children:j.label}),A?t.jsx(Sv,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"}):t.jsx(Cv,{size:16,className:"flex-shrink-0 ml-2 transition-transform duration-200 text-white/80"})]}),A&&t.jsx("ul",{className:"mt-1 ml-3 space-y-0.5 pl-3 border-l-2 border-white/10",children:j.items.map((R,T)=>{const v=R.icon,k=l.pathname===R.path;return t.jsx("li",{children:t.jsxs(Rl,{to:R.path,onClick:()=>u(!1),className:`flex items-center px-2 py-1.5 rounded-lg transition-all duration-200 ease-out relative group ${k?"text-[var(--tertiary-color)]":"text-white/70 nav-item-hover hover:bg-white/10 hover:text-white"}`,children:[v&&t.jsx(v,{size:18,className:"transition-all duration-200 flex-shrink-0 mr-2.5 group-hover:scale-110"}),t.jsx("span",{className:"font-medium text-sm whitespace-nowrap truncate flex-1 min-w-0",children:R.label}),k&&t.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-[var(--tertiary-color)] rounded-full flex-shrink-0"})]})},`${R.path}-${T}`)})})]})},j.key)}return null})})}),t.jsxs("div",{className:"flex-shrink-0 p-3 border-t animate-slide-up layout-section-bg",children:[t.jsxs(Rl,{to:"/profile",className:`flex items-center px-3 py-2 rounded-lg text-white/80 sidebar-hover mb-1.5 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Settings":"",children:[t.jsx(I_,{size:16,className:`transition-transform duration-200 group-hover:rotate-90 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),t.jsxs("button",{onClick:w,className:`w-full flex items-center px-3 py-2 rounded-lg text-red-300 hover:bg-red-500/20 transition-all duration-200 hover:scale-105 group ${g?"justify-center":""}`,title:g?"Logout":"",children:[t.jsx(Av,{size:16,className:`transition-transform duration-200 group-hover:translate-x-1 flex-shrink-0 ${g?"":"mr-2"}`}),!g&&t.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 min-w-0 transition-all duration-300 overflow-y-auto h-screen lg:ml-0",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full px-8",children:t.jsxs("div",{className:"rounded-b-2xl shadow-xl p-4 lg:p-6 relative overflow-hidden screen-header-gradient",children:[t.jsx("div",{className:"absolute inset-0 opacity-20 screen-pattern-overlay"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:P()}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:b()})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[n&&t.jsx("div",{className:"flex items-center gap-2",children:n}),t.jsx(cx,{})]})]})]})}),t.jsx("main",{className:"p-4 lg:p-9 animate-fade-in min-h-full",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden animate-fade-in",onClick:()=>u(!1)})]})},Vo={black:"#000",white:"#fff"},Sa={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Aa={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ka={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Pa={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ea={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ui={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},B_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function un(e,...s){const r=new URL(`https://mui.com/production-error/?code=${e}`);return s.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const zd="$$material";function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(null,arguments)}function q_(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]}function W_(e){var s=document.createElement("style");return s.setAttribute("data-emotion",e.key),e.nonce!==void 0&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var V_=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var s=e.prototype;return s.hydrate=function(n){n.forEach(this._insertTag)},s.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W_(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=q_(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},s.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ds="-ms-",Gc="-moz-",ft="-webkit-",Pv="comm",Bf="rule",qf="decl",H_="@import",Ev="@keyframes",G_="@layer",K_=Math.abs,Rd=String.fromCharCode,Q_=Object.assign;function Y_(e,s){return as(e,0)^45?(((s<<2^as(e,0))<<2^as(e,1))<<2^as(e,2))<<2^as(e,3):0}function Tv(e){return e.trim()}function J_(e,s){return(e=s.exec(e))?e[0]:e}function ht(e,s,r){return e.replace(s,r)}function hp(e,s){return e.indexOf(s)}function as(e,s){return e.charCodeAt(s)|0}function Ho(e,s,r){return e.slice(s,r)}function Mr(e){return e.length}function Wf(e){return e.length}function $l(e,s){return s.push(e),e}function X_(e,s){return e.map(s).join("")}var Fd=1,fi=1,zv=0,Bs=0,Qt=0,Ai="";function Dd(e,s,r,n,a,i,o){return{value:e,root:s,parent:r,type:n,props:a,children:i,line:Fd,column:fi,length:o,return:""}}function Bi(e,s){return Q_(Dd("",null,null,"",null,null,0),e,{length:-e.length},s)}function Z_(){return Qt}function eS(){return Qt=Bs>0?as(Ai,--Bs):0,fi--,Qt===10&&(fi=1,Fd--),Qt}function Xs(){return Qt=Bs<zv?as(Ai,Bs++):0,fi++,Qt===10&&(fi=1,Fd++),Qt}function Hr(){return as(Ai,Bs)}function lc(){return Bs}function il(e,s){return Ho(Ai,e,s)}function Go(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rv(e){return Fd=fi=1,zv=Mr(Ai=e),Bs=0,[]}function Fv(e){return Ai="",e}function cc(e){return Tv(il(Bs-1,gp(e===91?e+2:e===40?e+1:e)))}function tS(e){for(;(Qt=Hr())&&Qt<33;)Xs();return Go(e)>2||Go(Qt)>3?"":" "}function sS(e,s){for(;--s&&Xs()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return il(e,lc()+(s<6&&Hr()==32&&Xs()==32))}function gp(e){for(;Xs();)switch(Qt){case e:return Bs;case 34:case 39:e!==34&&e!==39&&gp(Qt);break;case 40:e===41&&gp(e);break;case 92:Xs();break}return Bs}function rS(e,s){for(;Xs()&&e+Qt!==57;)if(e+Qt===84&&Hr()===47)break;return"/*"+il(s,Bs-1)+"*"+Rd(e===47?e:Xs())}function nS(e){for(;!Go(Hr());)Xs();return il(e,Bs)}function aS(e){return Fv(dc("",null,null,null,[""],e=Rv(e),0,[0],e))}function dc(e,s,r,n,a,i,o,l,c){for(var h=0,d=0,p=o,m=0,u=0,g=0,y=1,S=1,x=1,C=0,w="",_=a,z=i,P=n,b=w;S;)switch(g=C,C=Xs()){case 40:if(g!=108&&as(b,p-1)==58){hp(b+=ht(cc(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:b+=cc(C);break;case 9:case 10:case 13:case 32:b+=tS(g);break;case 92:b+=sS(lc()-1,7);continue;case 47:switch(Hr()){case 42:case 47:$l(iS(rS(Xs(),lc()),s,r),c);break;default:b+="/"}break;case 123*y:l[h++]=Mr(b)*x;case 125*y:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+d:x==-1&&(b=ht(b,/\f/g,"")),u>0&&Mr(b)-p&&$l(u>32?ux(b+";",n,r,p-1):ux(ht(b," ","")+";",n,r,p-2),c);break;case 59:b+=";";default:if($l(P=dx(b,s,r,h,d,a,l,w,_=[],z=[],p),i),C===123)if(d===0)dc(b,s,P,P,_,i,p,l,z);else switch(m===99&&as(b,3)===110?100:m){case 100:case 108:case 109:case 115:dc(e,P,P,n&&$l(dx(e,P,P,0,0,a,l,w,a,_=[],p),z),a,z,p,l,n?_:z);break;default:dc(b,P,P,P,[""],z,0,l,z)}}h=d=u=0,y=x=1,w=b="",p=o;break;case 58:p=1+Mr(b),u=g;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&eS()==125)continue}switch(b+=Rd(C),C*y){case 38:x=d>0?1:(b+="\f",-1);break;case 44:l[h++]=(Mr(b)-1)*x,x=1;break;case 64:Hr()===45&&(b+=cc(Xs())),m=Hr(),d=p=Mr(w=b+=nS(lc())),C++;break;case 45:g===45&&Mr(b)==2&&(y=0)}}return i}function dx(e,s,r,n,a,i,o,l,c,h,d){for(var p=a-1,m=a===0?i:[""],u=Wf(m),g=0,y=0,S=0;g<n;++g)for(var x=0,C=Ho(e,p+1,p=K_(y=o[g])),w=e;x<u;++x)(w=Tv(y>0?m[x]+" "+C:ht(C,/&\f/g,m[x])))&&(c[S++]=w);return Dd(e,s,r,a===0?Bf:l,c,h,d)}function iS(e,s,r){return Dd(e,s,r,Pv,Rd(Z_()),Ho(e,2,-2),0)}function ux(e,s,r,n){return Dd(e,s,r,qf,Ho(e,0,n),Ho(e,n+1,-1),n)}function ti(e,s){for(var r="",n=Wf(e),a=0;a<n;a++)r+=s(e[a],a,e,s)||"";return r}function oS(e,s,r,n){switch(e.type){case G_:if(e.children.length)break;case H_:case qf:return e.return=e.return||e.value;case Pv:return"";case Ev:return e.return=e.value+"{"+ti(e.children,n)+"}";case Bf:e.value=e.props.join(",")}return Mr(r=ti(e.children,n))?e.return=e.value+"{"+r+"}":""}function lS(e){var s=Wf(e);return function(r,n,a,i){for(var o="",l=0;l<s;l++)o+=e[l](r,n,a,i)||"";return o}}function cS(e){return function(s){s.root||(s=s.return)&&e(s)}}function Dv(e){var s=Object.create(null);return function(r){return s[r]===void 0&&(s[r]=e(r)),s[r]}}var dS=function(s,r,n){for(var a=0,i=0;a=i,i=Hr(),a===38&&i===12&&(r[n]=1),!Go(i);)Xs();return il(s,Bs)},uS=function(s,r){var n=-1,a=44;do switch(Go(a)){case 0:a===38&&Hr()===12&&(r[n]=1),s[n]+=dS(Bs-1,r,n);break;case 2:s[n]+=cc(a);break;case 4:if(a===44){s[++n]=Hr()===58?"&\f":"",r[n]=s[n].length;break}default:s[n]+=Rd(a)}while(a=Xs());return s},mS=function(s,r){return Fv(uS(Rv(s),r))},mx=new WeakMap,pS=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var r=s.value,n=s.parent,a=s.column===n.column&&s.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(s.props.length===1&&r.charCodeAt(0)!==58&&!mx.get(n))&&!a){mx.set(s,!0);for(var i=[],o=mS(r,i),l=n.props,c=0,h=0;c<o.length;c++)for(var d=0;d<l.length;d++,h++)s.props[h]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},fS=function(s){if(s.type==="decl"){var r=s.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(s.return="",s.value="")}};function $v(e,s){switch(Y_(e,s)){case 5103:return ft+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+e+Gc+e+ds+e+e;case 6828:case 4268:return ft+e+ds+e+e;case 6165:return ft+e+ds+"flex-"+e+e;case 5187:return ft+e+ht(e,/(\w+).+(:[^]+)/,ft+"box-$1$2"+ds+"flex-$1$2")+e;case 5443:return ft+e+ds+"flex-item-"+ht(e,/flex-|-self/,"")+e;case 4675:return ft+e+ds+"flex-line-pack"+ht(e,/align-content|flex-|-self/,"")+e;case 5548:return ft+e+ds+ht(e,"shrink","negative")+e;case 5292:return ft+e+ds+ht(e,"basis","preferred-size")+e;case 6060:return ft+"box-"+ht(e,"-grow","")+ft+e+ds+ht(e,"grow","positive")+e;case 4554:return ft+ht(e,/([^-])(transform)/g,"$1"+ft+"$2")+e;case 6187:return ht(ht(ht(e,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),e,"")+e;case 5495:case 3959:return ht(e,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return ht(ht(e,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+e+e;case 4095:case 3583:case 4068:case 2532:return ht(e,/(.+)-inline(.+)/,ft+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mr(e)-1-s>6)switch(as(e,s+1)){case 109:if(as(e,s+4)!==45)break;case 102:return ht(e,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+Gc+(as(e,s+3)==108?"$3":"$2-$3"))+e;case 115:return~hp(e,"stretch")?$v(ht(e,"stretch","fill-available"),s)+e:e}break;case 4949:if(as(e,s+1)!==115)break;case 6444:switch(as(e,Mr(e)-3-(~hp(e,"!important")&&10))){case 107:return ht(e,":",":"+ft)+e;case 101:return ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ft+(as(e,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+ds+"$2box$3")+e}break;case 5936:switch(as(e,s+11)){case 114:return ft+e+ds+ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ft+e+ds+ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ft+e+ds+ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ft+e+ds+e+e}return e}var hS=function(s,r,n,a){if(s.length>-1&&!s.return)switch(s.type){case qf:s.return=$v(s.value,s.length);break;case Ev:return ti([Bi(s,{value:ht(s.value,"@","@"+ft)})],a);case Bf:if(s.length)return X_(s.props,function(i){switch(J_(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ti([Bi(s,{props:[ht(i,/:(read-\w+)/,":"+Gc+"$1")]})],a);case"::placeholder":return ti([Bi(s,{props:[ht(i,/:(plac\w+)/,":"+ft+"input-$1")]}),Bi(s,{props:[ht(i,/:(plac\w+)/,":"+Gc+"$1")]}),Bi(s,{props:[ht(i,/:(plac\w+)/,ds+"input-$1")]})],a)}return""})}},gS=[hS],xS=function(s){var r=s.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=s.stylisPlugins||gS,i={},o,l=[];o=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)i[S[x]]=!0;l.push(y)});var c,h=[pS,fS];{var d,p=[oS,cS(function(y){d.insert(y)})],m=lS(h.concat(a,p)),u=function(S){return ti(aS(S),m)};c=function(S,x,C,w){d=C,u(S?S+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new V_({key:r,container:o,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:i,registered:{},insert:c};return g.sheet.hydrate(l),g},Mv={exports:{}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=typeof Symbol=="function"&&Symbol.for,Vf=ss?Symbol.for("react.element"):60103,Hf=ss?Symbol.for("react.portal"):60106,$d=ss?Symbol.for("react.fragment"):60107,Md=ss?Symbol.for("react.strict_mode"):60108,Id=ss?Symbol.for("react.profiler"):60114,Ld=ss?Symbol.for("react.provider"):60109,Od=ss?Symbol.for("react.context"):60110,Gf=ss?Symbol.for("react.async_mode"):60111,Ud=ss?Symbol.for("react.concurrent_mode"):60111,Bd=ss?Symbol.for("react.forward_ref"):60112,qd=ss?Symbol.for("react.suspense"):60113,yS=ss?Symbol.for("react.suspense_list"):60120,Wd=ss?Symbol.for("react.memo"):60115,Vd=ss?Symbol.for("react.lazy"):60116,bS=ss?Symbol.for("react.block"):60121,vS=ss?Symbol.for("react.fundamental"):60117,jS=ss?Symbol.for("react.responder"):60118,NS=ss?Symbol.for("react.scope"):60119;function rr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Vf:switch(e=e.type,e){case Gf:case Ud:case $d:case Id:case Md:case qd:return e;default:switch(e=e&&e.$$typeof,e){case Od:case Bd:case Vd:case Wd:case Ld:return e;default:return s}}case Hf:return s}}}function Iv(e){return rr(e)===Ud}wt.AsyncMode=Gf;wt.ConcurrentMode=Ud;wt.ContextConsumer=Od;wt.ContextProvider=Ld;wt.Element=Vf;wt.ForwardRef=Bd;wt.Fragment=$d;wt.Lazy=Vd;wt.Memo=Wd;wt.Portal=Hf;wt.Profiler=Id;wt.StrictMode=Md;wt.Suspense=qd;wt.isAsyncMode=function(e){return Iv(e)||rr(e)===Gf};wt.isConcurrentMode=Iv;wt.isContextConsumer=function(e){return rr(e)===Od};wt.isContextProvider=function(e){return rr(e)===Ld};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vf};wt.isForwardRef=function(e){return rr(e)===Bd};wt.isFragment=function(e){return rr(e)===$d};wt.isLazy=function(e){return rr(e)===Vd};wt.isMemo=function(e){return rr(e)===Wd};wt.isPortal=function(e){return rr(e)===Hf};wt.isProfiler=function(e){return rr(e)===Id};wt.isStrictMode=function(e){return rr(e)===Md};wt.isSuspense=function(e){return rr(e)===qd};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$d||e===Ud||e===Id||e===Md||e===qd||e===yS||typeof e=="object"&&e!==null&&(e.$$typeof===Vd||e.$$typeof===Wd||e.$$typeof===Ld||e.$$typeof===Od||e.$$typeof===Bd||e.$$typeof===vS||e.$$typeof===jS||e.$$typeof===NS||e.$$typeof===bS)};wt.typeOf=rr;Mv.exports=wt;var CS=Mv.exports,Lv=CS,wS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_S={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ov={};Ov[Lv.ForwardRef]=wS;Ov[Lv.Memo]=_S;var SS=!0;function Uv(e,s,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?s.push(e[a]+";"):a&&(n+=a+" ")}),n}var Kf=function(s,r,n){var a=s.key+"-"+r.name;(n===!1||SS===!1)&&s.registered[a]===void 0&&(s.registered[a]=r.styles)},Qf=function(s,r,n){Kf(s,r,n);var a=s.key+"-"+r.name;if(s.inserted[r.name]===void 0){var i=r;do s.insert(r===i?"."+a:"",i,s.sheet,!0),i=i.next;while(i!==void 0)}};function AS(e){for(var s=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,s=(r&65535)*1540483477+((r>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(a){case 3:s^=(e.charCodeAt(n+2)&255)<<16;case 2:s^=(e.charCodeAt(n+1)&255)<<8;case 1:s^=e.charCodeAt(n)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var kS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PS=/[A-Z]|^ms/g,ES=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bv=function(s){return s.charCodeAt(1)===45},px=function(s){return s!=null&&typeof s!="boolean"},Qu=Dv(function(e){return Bv(e)?e:e.replace(PS,"-$&").toLowerCase()}),fx=function(s,r){switch(s){case"animation":case"animationName":if(typeof r=="string")return r.replace(ES,function(n,a,i){return Ir={name:a,styles:i,next:Ir},a})}return kS[s]!==1&&!Bv(s)&&typeof r=="number"&&r!==0?r+"px":r};function Ko(e,s,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ir={name:a.name,styles:a.styles,next:Ir},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ir={name:o.name,styles:o.styles,next:Ir},o=o.next;var l=i.styles+";";return l}return TS(e,s,r)}case"function":{if(e!==void 0){var c=Ir,h=r(e);return Ir=c,Ko(e,s,h)}break}}var d=r;if(s==null)return d;var p=s[d];return p!==void 0?p:d}function TS(e,s,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Ko(e,s,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;s!=null&&s[l]!==void 0?n+=i+"{"+s[l]+"}":px(l)&&(n+=Qu(i)+":"+fx(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(s==null||s[o[0]]===void 0))for(var c=0;c<o.length;c++)px(o[c])&&(n+=Qu(i)+":"+fx(i,o[c])+";");else{var h=Ko(e,s,o);switch(i){case"animation":case"animationName":{n+=Qu(i)+":"+h+";";break}default:n+=i+"{"+h+"}"}}}return n}var hx=/label:\s*([^\s;{]+)\s*(;|$)/g,Ir;function ol(e,s,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Ir=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=Ko(r,s,i);else{var o=i;a+=o[0]}for(var l=1;l<e.length;l++)if(a+=Ko(r,s,e[l]),n){var c=i;a+=c[l]}hx.lastIndex=0;for(var h="",d;(d=hx.exec(a))!==null;)h+="-"+d[1];var p=AS(a)+h;return{name:p,styles:a,next:Ir}}var zS=function(s){return s()},qv=hc.useInsertionEffect?hc.useInsertionEffect:!1,Wv=qv||zS,gx=qv||f.useLayoutEffect,Vv=f.createContext(typeof HTMLElement<"u"?xS({key:"css"}):null);Vv.Provider;var Yf=function(s){return f.forwardRef(function(r,n){var a=f.useContext(Vv);return s(r,a,n)})},Hd=f.createContext({}),Jf={}.hasOwnProperty,xp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",RS=function(s,r){var n={};for(var a in r)Jf.call(r,a)&&(n[a]=r[a]);return n[xp]=s,n},FS=function(s){var r=s.cache,n=s.serialized,a=s.isStringTag;return Kf(r,n,a),Wv(function(){return Qf(r,n,a)}),null},DS=Yf(function(e,s,r){var n=e.css;typeof n=="string"&&s.registered[n]!==void 0&&(n=s.registered[n]);var a=e[xp],i=[n],o="";typeof e.className=="string"?o=Uv(s.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=ol(i,void 0,f.useContext(Hd));o+=s.key+"-"+l.name;var c={};for(var h in e)Jf.call(e,h)&&h!=="css"&&h!==xp&&(c[h]=e[h]);return c.className=o,r&&(c.ref=r),f.createElement(f.Fragment,null,f.createElement(FS,{cache:s,serialized:l,isStringTag:typeof a=="string"}),f.createElement(a,c))}),$S=DS,xx=function(s,r){var n=arguments;if(r==null||!Jf.call(r,"css"))return f.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=$S,i[1]=RS(s,r);for(var o=2;o<a;o++)i[o]=n[o];return f.createElement.apply(null,i)};(function(e){var s;s||(s=e.JSX||(e.JSX={}))})(xx||(xx={}));var MS=Yf(function(e,s){var r=e.styles,n=ol([r],void 0,f.useContext(Hd)),a=f.useRef();return gx(function(){var i=s.key+"-global",o=new s.sheet.constructor({key:i,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return s.sheet.tags.length&&(o.before=s.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),a.current=[o,l],function(){o.flush()}},[s]),gx(function(){var i=a.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(n.next!==void 0&&Qf(s,n.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}s.insert("",n,o,!1)},[s,n.name]),null});function Xf(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return ol(s)}function ll(){var e=Xf.apply(void 0,arguments),s="animation-"+e.name;return{name:s,styles:"@keyframes "+s+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var IS=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,LS=Dv(function(e){return IS.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),OS=LS,US=function(s){return s!=="theme"},yx=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?OS:US},bx=function(s,r,n){var a;if(r){var i=r.shouldForwardProp;a=s.__emotion_forwardProp&&i?function(o){return s.__emotion_forwardProp(o)&&i(o)}:i}return typeof a!="function"&&n&&(a=s.__emotion_forwardProp),a},BS=function(s){var r=s.cache,n=s.serialized,a=s.isStringTag;return Kf(r,n,a),Wv(function(){return Qf(r,n,a)}),null},qS=function e(s,r){var n=s.__emotion_real===s,a=n&&s.__emotion_base||s,i,o;r!==void 0&&(i=r.label,o=r.target);var l=bx(s,r,n),c=l||yx(a),h=!c("as");return function(){var d=arguments,p=n&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var m=d[0];p.push(m[0]);for(var u=d.length,g=1;g<u;g++)p.push(d[g],m[g])}var y=Yf(function(S,x,C){var w=h&&S.as||a,_="",z=[],P=S;if(S.theme==null){P={};for(var b in S)P[b]=S[b];P.theme=f.useContext(Hd)}typeof S.className=="string"?_=Uv(x.registered,z,S.className):S.className!=null&&(_=S.className+" ");var E=ol(p.concat(z),x.registered,P);_+=x.key+"-"+E.name,o!==void 0&&(_+=" "+o);var j=h&&l===void 0?yx(w):c,F={};for(var $ in S)h&&$==="as"||j($)&&(F[$]=S[$]);return F.className=_,C&&(F.ref=C),f.createElement(f.Fragment,null,f.createElement(BS,{cache:x,serialized:E,isStringTag:typeof w=="string"}),f.createElement(w,F))});return y.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",y.defaultProps=s.defaultProps,y.__emotion_real=y,y.__emotion_base=a,y.__emotion_styles=p,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(S,x){var C=e(S,Hc({},r,x,{shouldForwardProp:bx(y,x,!0)}));return C.apply(void 0,p)},y}},WS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yp=qS.bind(null);WS.forEach(function(e){yp[e]=yp(e)});var Hv={exports:{}},VS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HS=VS,GS=HS;function Gv(){}function Kv(){}Kv.resetWarningCache=Gv;var KS=function(){function e(n,a,i,o,l,c){if(c!==GS){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function s(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:Kv,resetWarningCache:Gv};return r.PropTypes=r,r};Hv.exports=KS();var QS=Hv.exports;const At=Dp(QS);function YS(e){return e==null||Object.keys(e).length===0}function JS(e){const{styles:s,defaultTheme:r={}}=e,n=typeof s=="function"?a=>s(YS(a)?r:a):s;return t.jsx(MS,{styles:n})}function Qv(e,s){return yp(e,s)}function XS(e,s){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=s(e.__emotion_styles))}const vx=[];function Dn(e){return vx[0]=e,ol(vx)}var Yv={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.transitional.element"),eh=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Yd=Symbol.for("react.consumer"),Jd=Symbol.for("react.context"),Xd=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),su=Symbol.for("react.lazy"),ZS=Symbol.for("react.view_transition"),eA=Symbol.for("react.client.reference");function gr(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case Zf:switch(e=e.type,e){case Gd:case Qd:case Kd:case Zd:case eu:case ZS:return e;default:switch(e=e&&e.$$typeof,e){case Jd:case Xd:case su:case tu:return e;case Yd:return e;default:return s}}case eh:return s}}}Pt.ContextConsumer=Yd;Pt.ContextProvider=Jd;Pt.Element=Zf;Pt.ForwardRef=Xd;Pt.Fragment=Gd;Pt.Lazy=su;Pt.Memo=tu;Pt.Portal=eh;Pt.Profiler=Qd;Pt.StrictMode=Kd;Pt.Suspense=Zd;Pt.SuspenseList=eu;Pt.isContextConsumer=function(e){return gr(e)===Yd};Pt.isContextProvider=function(e){return gr(e)===Jd};Pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf};Pt.isForwardRef=function(e){return gr(e)===Xd};Pt.isFragment=function(e){return gr(e)===Gd};Pt.isLazy=function(e){return gr(e)===su};Pt.isMemo=function(e){return gr(e)===tu};Pt.isPortal=function(e){return gr(e)===eh};Pt.isProfiler=function(e){return gr(e)===Qd};Pt.isStrictMode=function(e){return gr(e)===Kd};Pt.isSuspense=function(e){return gr(e)===Zd};Pt.isSuspenseList=function(e){return gr(e)===eu};Pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gd||e===Qd||e===Kd||e===Zd||e===eu||typeof e=="object"&&e!==null&&(e.$$typeof===su||e.$$typeof===tu||e.$$typeof===Jd||e.$$typeof===Yd||e.$$typeof===Xd||e.$$typeof===eA||e.getModuleId!==void 0)};Pt.typeOf=gr;Yv.exports=Pt;var Jv=Yv.exports;function Br(e){if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xv(e){if(f.isValidElement(e)||Jv.isValidElementType(e)||!Br(e))return e;const s={};return Object.keys(e).forEach(r=>{s[r]=Xv(e[r])}),s}function xs(e,s,r={clone:!0}){const n=r.clone?{...e}:e;return Br(e)&&Br(s)&&Object.keys(s).forEach(a=>{f.isValidElement(s[a])||Jv.isValidElementType(s[a])?n[a]=s[a]:Br(s[a])&&Object.prototype.hasOwnProperty.call(e,a)&&Br(e[a])?n[a]=xs(e[a],s[a],r):r.clone?n[a]=Br(s[a])?Xv(s[a]):s[a]:n[a]=s[a]}),n}const tA=e=>{const s=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return s.sort((r,n)=>r.val-n.val),s.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function sA(e){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...a}=e,i=tA(s),o=Object.keys(i);function l(m){return`@media (min-width:${typeof s[m]=="number"?s[m]:m}${r})`}function c(m){return`@media (max-width:${(typeof s[m]=="number"?s[m]:m)-n/100}${r})`}function h(m,u){const g=o.indexOf(u);return`@media (min-width:${typeof s[m]=="number"?s[m]:m}${r}) and (max-width:${(g!==-1&&typeof s[o[g]]=="number"?s[o[g]]:u)-n/100}${r})`}function d(m){return o.indexOf(m)+1<o.length?h(m,o[o.indexOf(m)+1]):l(m)}function p(m){const u=o.indexOf(m);return u===0?l(o[1]):u===o.length-1?c(o[u]):h(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:l,down:c,between:h,only:d,not:p,unit:r,...a}}function jx(e,s){if(!e.containerQueries)return s;const r=Object.keys(s).filter(n=>n.startsWith("@container")).sort((n,a)=>{var o,l;const i=/min-width:\s*([0-9.]+)/;return+(((o=n.match(i))==null?void 0:o[1])||0)-+(((l=a.match(i))==null?void 0:l[1])||0)});return r.length?r.reduce((n,a)=>{const i=s[a];return delete n[a],n[a]=i,n},{...s}):s}function rA(e,s){return s==="@"||s.startsWith("@")&&(e.some(r=>s.startsWith(`@${r}`))||!!s.match(/^@\d/))}function nA(e,s){const r=s.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,a]=r,i=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(i)}function aA(e){const s=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...l)=>s(e.breakpoints.up(...l),o),i.down=(...l)=>s(e.breakpoints.down(...l),o),i.between=(...l)=>s(e.breakpoints.between(...l),o),i.only=(...l)=>s(e.breakpoints.only(...l),o),i.not=(...l)=>{const c=s(e.breakpoints.not(...l),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const n={},a=i=>(r(n,i),n);return r(a),{...e,containerQueries:a}}const iA={borderRadius:4};function xo(e,s){return s?xs(e,s,{clone:!1}):e}const ru={xs:0,sm:600,md:900,lg:1200,xl:1536},Nx={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ru[e]}px)`},oA={containerQueries:e=>({up:s=>{let r=typeof s=="number"?s:ru[s]||s;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function mn(e,s,r){const n=e.theme||{};if(Array.isArray(s)){const i=n.breakpoints||Nx;return s.reduce((o,l,c)=>(o[i.up(i.keys[c])]=r(s[c]),o),{})}if(typeof s=="object"){const i=n.breakpoints||Nx;return Object.keys(s).reduce((o,l)=>{if(rA(i.keys,l)){const c=nA(n.containerQueries?n:oA,l);c&&(o[c]=r(s[l],l))}else if(Object.keys(i.values||ru).includes(l)){const c=i.up(l);o[c]=r(s[l],l)}else{const c=l;o[c]=s[c]}return o},{})}return r(s)}function lA(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,a)=>{const i=e.up(a);return n[i]={},n},{}))||{}}function Cx(e,s){return e.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},s)}function Be(e){if(typeof e!="string")throw new Error(un(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Lr(e,s,r=!0){if(!s||typeof s!="string")return null;if(e&&e.vars&&r){const n=`vars.${s}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,e);if(n!=null)return n}return s.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function Kc(e,s,r,n=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||n:a=Lr(e,r)||n,s&&(a=s(a,n,e)),a}function Gt(e){const{prop:s,cssProperty:r=e.prop,themeKey:n,transform:a}=e,i=o=>{if(o[s]==null)return null;const l=o[s],c=o.theme,h=Lr(c,n)||{};return mn(o,l,p=>{let m=Kc(h,a,p);return p===m&&typeof p=="string"&&(m=Kc(h,a,`${s}${p==="default"?"":Be(p)}`,p)),r===!1?m:{[r]:m}})};return i.propTypes={},i.filterProps=[s],i}function cA(e){const s={};return r=>(s[r]===void 0&&(s[r]=e(r)),s[r])}const dA={m:"margin",p:"padding"},uA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},wx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mA=cA(e=>{if(e.length>2)if(wx[e])e=wx[e];else return[e];const[s,r]=e.split(""),n=dA[s],a=uA[r]||"";return Array.isArray(a)?a.map(i=>n+i):[n+a]}),th=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sh=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...th,...sh];function cl(e,s,r,n){const a=Lr(e,s,!0)??r;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),l=a[o];return i>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof a=="function"?a:()=>{}}function rh(e){return cl(e,"spacing",8)}function dl(e,s){return typeof s=="string"||s==null?s:e(s)}function pA(e,s){return r=>e.reduce((n,a)=>(n[a]=dl(s,r),n),{})}function fA(e,s,r,n){if(!s.includes(r))return null;const a=mA(r),i=pA(a,n),o=e[r];return mn(e,o,i)}function Zv(e,s){const r=rh(e.theme);return Object.keys(e).map(n=>fA(e,s,n,r)).reduce(xo,{})}function Ut(e){return Zv(e,th)}Ut.propTypes={};Ut.filterProps=th;function Bt(e){return Zv(e,sh)}Bt.propTypes={};Bt.filterProps=sh;function ej(e=8,s=rh({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const o=s(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function nu(...e){const s=e.reduce((n,a)=>(a.filterProps.forEach(i=>{n[i]=a}),n),{}),r=n=>Object.keys(n).reduce((a,i)=>s[i]?xo(a,s[i](n)):a,{});return r.propTypes={},r.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),r}function lr(e){return typeof e!="number"?e:`${e}px solid`}function xr(e,s){return Gt({prop:e,themeKey:"borders",transform:s})}const hA=xr("border",lr),gA=xr("borderTop",lr),xA=xr("borderRight",lr),yA=xr("borderBottom",lr),bA=xr("borderLeft",lr),vA=xr("borderColor"),jA=xr("borderTopColor"),NA=xr("borderRightColor"),CA=xr("borderBottomColor"),wA=xr("borderLeftColor"),_A=xr("outline",lr),SA=xr("outlineColor"),au=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const s=cl(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:dl(s,n)});return mn(e,e.borderRadius,r)}return null};au.propTypes={};au.filterProps=["borderRadius"];nu(hA,gA,xA,yA,bA,vA,jA,NA,CA,wA,au,_A,SA);const iu=e=>{if(e.gap!==void 0&&e.gap!==null){const s=cl(e.theme,"spacing",8),r=n=>({gap:dl(s,n)});return mn(e,e.gap,r)}return null};iu.propTypes={};iu.filterProps=["gap"];const ou=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const s=cl(e.theme,"spacing",8),r=n=>({columnGap:dl(s,n)});return mn(e,e.columnGap,r)}return null};ou.propTypes={};ou.filterProps=["columnGap"];const lu=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const s=cl(e.theme,"spacing",8),r=n=>({rowGap:dl(s,n)});return mn(e,e.rowGap,r)}return null};lu.propTypes={};lu.filterProps=["rowGap"];const AA=Gt({prop:"gridColumn"}),kA=Gt({prop:"gridRow"}),PA=Gt({prop:"gridAutoFlow"}),EA=Gt({prop:"gridAutoColumns"}),TA=Gt({prop:"gridAutoRows"}),zA=Gt({prop:"gridTemplateColumns"}),RA=Gt({prop:"gridTemplateRows"}),FA=Gt({prop:"gridTemplateAreas"}),DA=Gt({prop:"gridArea"});nu(iu,ou,lu,AA,kA,PA,EA,TA,zA,RA,FA,DA);function si(e,s){return s==="grey"?s:e}const $A=Gt({prop:"color",themeKey:"palette",transform:si}),MA=Gt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:si}),IA=Gt({prop:"backgroundColor",themeKey:"palette",transform:si});nu($A,MA,IA);function Ks(e){return e<=1&&e!==0?`${e*100}%`:e}const LA=Gt({prop:"width",transform:Ks}),nh=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const s=r=>{var a,i,o,l,c;const n=((o=(i=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:i.values)==null?void 0:o[r])||ru[r];return n?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Ks(r)}};return mn(e,e.maxWidth,s)}return null};nh.filterProps=["maxWidth"];const OA=Gt({prop:"minWidth",transform:Ks}),UA=Gt({prop:"height",transform:Ks}),BA=Gt({prop:"maxHeight",transform:Ks}),qA=Gt({prop:"minHeight",transform:Ks});Gt({prop:"size",cssProperty:"width",transform:Ks});Gt({prop:"size",cssProperty:"height",transform:Ks});const WA=Gt({prop:"boxSizing"});nu(LA,nh,OA,UA,BA,qA,WA);const ul={border:{themeKey:"borders",transform:lr},borderTop:{themeKey:"borders",transform:lr},borderRight:{themeKey:"borders",transform:lr},borderBottom:{themeKey:"borders",transform:lr},borderLeft:{themeKey:"borders",transform:lr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:lr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:au},color:{themeKey:"palette",transform:si},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:si},backgroundColor:{themeKey:"palette",transform:si},p:{style:Bt},pt:{style:Bt},pr:{style:Bt},pb:{style:Bt},pl:{style:Bt},px:{style:Bt},py:{style:Bt},padding:{style:Bt},paddingTop:{style:Bt},paddingRight:{style:Bt},paddingBottom:{style:Bt},paddingLeft:{style:Bt},paddingX:{style:Bt},paddingY:{style:Bt},paddingInline:{style:Bt},paddingInlineStart:{style:Bt},paddingInlineEnd:{style:Bt},paddingBlock:{style:Bt},paddingBlockStart:{style:Bt},paddingBlockEnd:{style:Bt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:iu},rowGap:{style:lu},columnGap:{style:ou},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ks},maxWidth:{style:nh},minWidth:{transform:Ks},height:{transform:Ks},maxHeight:{transform:Ks},minHeight:{transform:Ks},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function VA(...e){const s=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(s);return e.every(n=>r.size===Object.keys(n).length)}function HA(e,s){return typeof e=="function"?e(s):e}function GA(){function e(r,n,a,i){const o={[r]:n,theme:a},l=i[r];if(!l)return{[r]:n};const{cssProperty:c=r,themeKey:h,transform:d,style:p}=l;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const m=Lr(a,h)||{};return p?p(o):mn(o,n,g=>{let y=Kc(m,d,g);return g===y&&typeof g=="string"&&(y=Kc(m,d,`${r}${g==="default"?"":Be(g)}`,g)),c===!1?y:{[c]:y}})}function s(r){const{sx:n,theme:a={},nested:i}=r||{};if(!n)return null;const o=a.unstable_sxConfig??ul;function l(c){let h=c;if(typeof c=="function")h=c(a);else if(typeof c!="object")return c;if(!h)return null;const d=lA(a.breakpoints),p=Object.keys(d);let m=d;return Object.keys(h).forEach(u=>{const g=HA(h[u],a);if(g!=null)if(typeof g=="object")if(o[u])m=xo(m,e(u,g,a,o));else{const y=mn({theme:a},g,S=>({[u]:S}));VA(y,g)?m[u]=s({sx:g,theme:a,nested:!0}):m=xo(m,y)}else m=xo(m,e(u,g,a,o))}),!i&&a.modularCssLayers?{"@layer sx":jx(a,Cx(p,m))}:jx(a,Cx(p,m))}return Array.isArray(n)?n.map(l):l(n)}return s}const ya=GA();ya.filterProps=["sx"];function KA(e,s){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let a=r.getColorSchemeSelector(e);return a==="&"?s:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:s})}return r.palette.mode===e?s:{}}function ah(e={},...s){const{breakpoints:r={},palette:n={},spacing:a,shape:i={},...o}=e,l=sA(r),c=ej(a);let h=xs({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:c,shape:{...iA,...i}},o);return h=aA(h),h.applyStyles=KA,h=s.reduce((d,p)=>xs(d,p),h),h.unstable_sxConfig={...ul,...o==null?void 0:o.unstable_sxConfig},h.unstable_sx=function(p){return ya({sx:p,theme:this})},h}function QA(e){return Object.keys(e).length===0}function YA(e=null){const s=f.useContext(Hd);return!s||QA(s)?e:s}const JA=ah();function ih(e=JA){return YA(e)}function Yu(e){const s=Dn(e);return e!==s&&s.styles?(s.styles.match(/^@layer\s+[^{]*$/)||(s.styles=`@layer global{${s.styles}}`),s):e}function XA({styles:e,themeId:s,defaultTheme:r={}}){const n=ih(r),a=s&&n[s]||n;let i=typeof e=="function"?e(a):e;return a.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>Yu(typeof o=="function"?o(a):o)):i=Yu(i)),t.jsx(JS,{styles:i})}const ZA=e=>{var n;const s={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??ul;return Object.keys(e).forEach(a=>{r[a]?s.systemProps[a]=e[a]:s.otherProps[a]=e[a]}),s};function tj(e){const{sx:s,...r}=e,{systemProps:n,otherProps:a}=ZA(r);let i;return Array.isArray(s)?i=[n,...s]:typeof s=="function"?i=(...o)=>{const l=s(...o);return Br(l)?{...n,...l}:n}:i={...n,...s},{...a,sx:i}}const _x=e=>e,ek=()=>{let e=_x;return{configure(s){e=s},generate(s){return e(s)},reset(){e=_x}}},sj=ek();function rj(e){var s,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(r=rj(e[s]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,s,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(s=rj(e))&&(n&&(n+=" "),n+=s);return n}function tk(e={}){const{themeId:s,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:a}=e,i=Qv("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(ya);return f.forwardRef(function(c,h){const d=ih(r),{className:p,component:m="div",...u}=tj(c);return t.jsx(i,{as:m,ref:h,className:Xe(p,a?a(n):n),theme:s&&d[s]||d,...u})})}const sk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gt(e,s,r="Mui"){const n=sk[s];return n?`${r}-${n}`:`${sj.generate(e)}-${s}`}function mt(e,s,r="Mui"){const n={};return s.forEach(a=>{n[a]=gt(e,a,r)}),n}function nj(e){const{variants:s,...r}=e,n={variants:s,style:Dn(r),isProcessed:!0};return n.style===r||s&&s.forEach(a=>{typeof a.style!="function"&&(a.style=Dn(a.style))}),n}const rk=ah();function Ju(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ra(e,s){return s&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${s}{${String(e.styles)}}`),e}function nk(e){return e?(s,r)=>r[e]:null}function ak(e,s,r){e.theme=lk(e.theme)?r:e.theme[s]||e.theme}function uc(e,s,r){const n=typeof s=="function"?s(e):s;if(Array.isArray(n))return n.flatMap(a=>uc(e,a,r));if(Array.isArray(n==null?void 0:n.variants)){let a;if(n.isProcessed)a=r?ra(n.style,r):n.style;else{const{variants:i,...o}=n;a=r?ra(Dn(o),r):o}return aj(e,n.variants,[a],r)}return n!=null&&n.isProcessed?r?ra(Dn(n.style),r):n.style:r?ra(Dn(n),r):n}function aj(e,s,r=[],n=void 0){var i;let a;e:for(let o=0;o<s.length;o+=1){const l=s[o];if(typeof l.props=="function"){if(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(a))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(a??(a={...e,...e.ownerState,ownerState:e.ownerState}),r.push(n?ra(Dn(l.style(a)),n):l.style(a))):r.push(n?ra(Dn(l.style),n):l.style)}return r}function ik(e={}){const{themeId:s,defaultTheme:r=rk,rootShouldForwardProp:n=Ju,slotShouldForwardProp:a=Ju}=e;function i(l){ak(l,s,r)}return(l,c={})=>{XS(l,P=>P.filter(b=>b!==ya));const{name:h,slot:d,skipVariantsResolver:p,skipSx:m,overridesResolver:u=nk(dk(d)),...g}=c,y=h&&h.startsWith("Mui")||d?"components":"custom",S=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,x=m||!1;let C=Ju;d==="Root"||d==="root"?C=n:d?C=a:ck(l)&&(C=void 0);const w=Qv(l,{shouldForwardProp:C,label:ok(),...g}),_=P=>{if(P.__emotion_real===P)return P;if(typeof P=="function")return function(E){return uc(E,P,E.theme.modularCssLayers?y:void 0)};if(Br(P)){const b=nj(P);return function(j){return b.variants?uc(j,b,j.theme.modularCssLayers?y:void 0):j.theme.modularCssLayers?ra(b.style,y):b.style}}return P},z=(...P)=>{const b=[],E=P.map(_),j=[];if(b.push(i),h&&u&&j.push(function(A){var k,O;const T=(O=(k=A.theme.components)==null?void 0:k[h])==null?void 0:O.styleOverrides;if(!T)return null;const v={};for(const D in T)v[D]=uc(A,T[D],A.theme.modularCssLayers?"theme":void 0);return u(A,v)}),h&&!S&&j.push(function(A){var v,k;const R=A.theme,T=(k=(v=R==null?void 0:R.components)==null?void 0:v[h])==null?void 0:k.variants;return T?aj(A,T,[],A.theme.modularCssLayers?"theme":void 0):null}),x||j.push(ya),Array.isArray(E[0])){const N=E.shift(),A=new Array(b.length).fill(""),R=new Array(j.length).fill("");let T;T=[...A,...N,...R],T.raw=[...A,...N.raw,...R],b.unshift(T)}const F=[...b,...E,...j],$=w(...F);return l.muiName&&($.muiName=l.muiName),$};return w.withConfig&&(z.withConfig=w.withConfig),z}}function ok(e,s){return void 0}function lk(e){for(const s in e)return!1;return!0}function ck(e){return typeof e=="string"&&e.charCodeAt(0)>96}function dk(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Qc(e,s,r=!1){const n={...s};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=a;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],l=s[i];if(!l)n[i]=o||{};else if(!o)n[i]=l;else{n[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const h=c;n[i][h]=Qc(o[h],l[h],r)}}}else i==="className"&&r&&s.className?n.className=Xe(e==null?void 0:e.className,s==null?void 0:s.className):i==="style"&&r&&s.style?n.style={...e==null?void 0:e.style,...s==null?void 0:s.style}:n[i]===void 0&&(n[i]=e[i])}return n}const ba=typeof window<"u"?f.useLayoutEffect:f.useEffect;function uk(e,s=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(e,r))}function oh(e,s=0,r=1){return uk(e,s,r)}function mk(e){e=e.slice(1);const s=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(s);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function In(e){if(e.type)return e;if(e.charAt(0)==="#")return In(mk(e));const s=e.indexOf("("),r=e.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(un(9,e));let n=e.substring(s+1,e.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(un(10,a))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:a}}const pk=e=>{const s=In(e);return s.values.slice(0,3).map((r,n)=>s.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},to=(e,s)=>{try{return pk(e)}catch{return e}};function cu(e){const{type:s,colorSpace:r}=e;let{values:n}=e;return s.includes("rgb")?n=n.map((a,i)=>i<3?parseInt(a,10):a):s.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),s.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${s}(${n})`}function ij(e){e=In(e);const{values:s}=e,r=s[0],n=s[1]/100,a=s[2]/100,i=n*Math.min(a,1-a),o=(h,d=(h+r/30)%12)=>a-i*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",c.push(s[3])),cu({type:l,values:c})}function bp(e){e=In(e);let s=e.type==="hsl"||e.type==="hsla"?In(ij(e)).values:e.values;return s=s.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function fk(e,s){const r=bp(e),n=bp(s);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Qo(e,s){return e=In(e),s=oh(s),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${s}`:e.values[3]=s,cu(e)}function Hn(e,s,r){try{return Qo(e,s)}catch{return e}}function du(e,s){if(e=In(e),s=oh(s),e.type.includes("hsl"))e.values[2]*=1-s;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-s;return cu(e)}function jt(e,s,r){try{return du(e,s)}catch{return e}}function uu(e,s){if(e=In(e),s=oh(s),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*s;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*s;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*s;return cu(e)}function Nt(e,s,r){try{return uu(e,s)}catch{return e}}function hk(e,s=.15){return bp(e)>.5?du(e,s):uu(e,s)}function Ml(e,s,r){try{return hk(e,s)}catch{return e}}const gk=f.createContext(),xk=()=>f.useContext(gk)??!1,yk=f.createContext(void 0);function bk(e){const{theme:s,name:r,props:n}=e;if(!s||!s.components||!s.components[r])return n;const a=s.components[r];return a.defaultProps?Qc(a.defaultProps,n,s.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?Qc(a,n,s.components.mergeClassNameAndStyle):n}function vk({props:e,name:s}){const r=f.useContext(yk);return bk({props:e,name:s,theme:{components:r}})}let Sx=0;function jk(e){const[s,r]=f.useState(e),n=e||s;return f.useEffect(()=>{s==null&&(Sx+=1,r(`mui-${Sx}`))},[s]),n}const Nk={...hc},Ax=Nk.useId;function ml(e){if(Ax!==void 0){const s=Ax();return e??s}return jk(e)}const kx={theme:void 0};function Ck(e){let s,r;return function(a){let i=s;return(i===void 0||a.theme!==r)&&(kx.theme=a.theme,i=nj(e(kx)),s=i,r=a.theme),i}}function wk(e=""){function s(...n){if(!n.length)return"";const a=n[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${s(...n.slice(1))})`:`, ${a}`}return(n,...a)=>`var(--${e?`${e}-`:""}${n}${s(...a)})`}const Px=(e,s,r,n=[])=>{let a=e;s.forEach((i,o)=>{o===s.length-1?Array.isArray(a)?a[Number(i)]=r:a&&typeof a=="object"&&(a[i]=r):a&&typeof a=="object"&&(a[i]||(a[i]=n.includes(i)?[]:{}),a=a[i])})},_k=(e,s,r)=>{function n(a,i=[],o=[]){Object.entries(a).forEach(([l,c])=>{(!r||r&&!r([...i,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...i,l],Array.isArray(c)?[...o,l]:o):s([...i,l],c,o))})}n(e)},Sk=(e,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function Xu(e,s){const{prefix:r,shouldSkipGeneratingVar:n}=s||{},a={},i={},o={};return _k(e,(l,c,h)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(l,c))){const d=`--${r?`${r}-`:""}${l.join("-")}`,p=Sk(l,c);Object.assign(a,{[d]:p}),Px(i,l,`var(${d})`,h),Px(o,l,`var(${d}, ${p})`,h)}},l=>l[0]==="vars"),{css:a,vars:i,varsWithDefaults:o}}function Ak(e,s={}){const{getSelector:r=x,disableCssColorScheme:n,colorSchemeSelector:a,enableContrastVars:i}=s,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...h}=e,{vars:d,css:p,varsWithDefaults:m}=Xu(h,s);let u=m;const g={},{[c]:y,...S}=o;if(Object.entries(S||{}).forEach(([_,z])=>{const{vars:P,css:b,varsWithDefaults:E}=Xu(z,s);u=xs(u,E),g[_]={css:b,vars:P}}),y){const{css:_,vars:z,varsWithDefaults:P}=Xu(y,s);u=xs(u,P),g[c]={css:_,vars:z}}function x(_,z){var b,E;let P=a;if(a==="class"&&(P=".%s"),a==="data"&&(P="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(P=`[${a}="%s"]`),_){if(P==="media")return e.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((E=(b=o[_])==null?void 0:b.palette)==null?void 0:E.mode)||_})`]:{":root":z}};if(P)return e.defaultColorScheme===_?`:root, ${P.replace("%s",String(_))}`:P.replace("%s",String(_))}return":root"}return{vars:u,generateThemeVars:()=>{let _={...d};return Object.entries(g).forEach(([,{vars:z}])=>{_=xs(_,z)}),_},generateStyleSheets:()=>{var j,F;const _=[],z=e.defaultColorScheme||"light";function P($,N){Object.keys(N).length&&_.push(typeof $=="string"?{[$]:{...N}}:$)}P(r(void 0,{...p}),p);const{[z]:b,...E}=g;if(b){const{css:$}=b,N=(F=(j=o[z])==null?void 0:j.palette)==null?void 0:F.mode,A=!n&&N?{colorScheme:N,...$}:{...$};P(r(z,{...A}),A)}return Object.entries(E).forEach(([$,{css:N}])=>{var T,v;const A=(v=(T=o[$])==null?void 0:T.palette)==null?void 0:v.mode,R=!n&&A?{colorScheme:A,...N}:{...N};P(r($,{...R}),R)}),i&&_.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),_}}}function kk(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function xt(e,s,r=void 0){const n={};for(const a in e){const i=e[a];let o="",l=!0;for(let c=0;c<i.length;c+=1){const h=i[c];h&&(o+=(l===!0?"":" ")+s(h),l=!1,r&&r[h]&&(o+=" "+r[h]))}n[a]=o}return n}function Zu(e,s){var r,n,a;return f.isValidElement(e)&&s.indexOf(e.type.muiName??((a=(n=(r=e.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:a.muiName))!==-1}function oj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vo.white,default:Vo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const lj=oj();function cj(){return{text:{primary:Vo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vp=cj();function Ex(e,s,r,n){const a=n.light||n,i=n.dark||n*1.5;e[s]||(e.hasOwnProperty(r)?e[s]=e[r]:s==="light"?e.light=uu(e.main,a):s==="dark"&&(e.dark=du(e.main,i)))}function Tx(e,s,r,n,a){const i=a.light||a,o=a.dark||a*1.5;s[r]||(s.hasOwnProperty(n)?s[r]=s[n]:r==="light"?s.light=`color-mix(in ${e}, ${s.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(s.dark=`color-mix(in ${e}, ${s.main}, #000 ${(o*100).toFixed(0)}%)`))}function Pk(e="light"){return e==="dark"?{main:ka[200],light:ka[50],dark:ka[400]}:{main:ka[700],light:ka[400],dark:ka[800]}}function Ek(e="light"){return e==="dark"?{main:Aa[200],light:Aa[50],dark:Aa[400]}:{main:Aa[500],light:Aa[300],dark:Aa[700]}}function Tk(e="light"){return e==="dark"?{main:Sa[500],light:Sa[300],dark:Sa[700]}:{main:Sa[700],light:Sa[400],dark:Sa[800]}}function zk(e="light"){return e==="dark"?{main:Pa[400],light:Pa[300],dark:Pa[700]}:{main:Pa[700],light:Pa[500],dark:Pa[900]}}function Rk(e="light"){return e==="dark"?{main:Ea[400],light:Ea[300],dark:Ea[700]}:{main:Ea[800],light:Ea[500],dark:Ea[900]}}function Fk(e="light"){return e==="dark"?{main:Ui[400],light:Ui[300],dark:Ui[700]}:{main:"#ed6c02",light:Ui[500],dark:Ui[900]}}function Dk(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function lh(e){const{mode:s="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:a,...i}=e,o=e.primary||Pk(s),l=e.secondary||Ek(s),c=e.error||Tk(s),h=e.info||zk(s),d=e.success||Rk(s),p=e.warning||Fk(s);function m(S){return a?Dk(S):fk(S,vp.text.primary)>=r?vp.text.primary:lj.text.primary}const u=({color:S,name:x,mainShade:C=500,lightShade:w=300,darkShade:_=700})=>{if(S={...S},!S.main&&S[C]&&(S.main=S[C]),!S.hasOwnProperty("main"))throw new Error(un(11,x?` (${x})`:"",C));if(typeof S.main!="string")throw new Error(un(12,x?` (${x})`:"",JSON.stringify(S.main)));return a?(Tx(a,S,"light",w,n),Tx(a,S,"dark",_,n)):(Ex(S,"light",w,n),Ex(S,"dark",_,n)),S.contrastText||(S.contrastText=m(S.main)),S};let g;return s==="light"?g=oj():s==="dark"&&(g=cj()),xs({common:{...Vo},mode:s,primary:u({color:o,name:"primary"}),secondary:u({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:c,name:"error"}),warning:u({color:p,name:"warning"}),info:u({color:h,name:"info"}),success:u({color:d,name:"success"}),grey:B_,contrastThreshold:r,getContrastText:m,augmentColor:u,tonalOffset:n,...g},i)}function $k(e){const s={};return Object.entries(e).forEach(n=>{const[a,i]=n;typeof i=="object"&&(s[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),s}function Mk(e,s){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...s}}function Ik(e){return Math.round(e*1e5)/1e5}const zx={textTransform:"uppercase"},Rx='"Roboto", "Helvetica", "Arial", sans-serif';function Lk(e,s){const{fontFamily:r=Rx,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:d,...p}=typeof s=="function"?s(e):s,m=n/14,u=d||(S=>`${S/c*m}rem`),g=(S,x,C,w,_)=>({fontFamily:r,fontWeight:S,fontSize:u(x),lineHeight:C,...r===Rx?{letterSpacing:`${Ik(w/x)}em`}:{},..._,...h}),y={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(i,48,1.167,0),h4:g(i,34,1.235,.25),h5:g(i,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(i,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(i,16,1.5,.15),body2:g(i,14,1.43,.15),button:g(o,14,1.75,.4,zx),caption:g(i,12,1.66,.4),overline:g(i,12,2.66,1,zx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xs({htmlFontSize:c,pxToRem:u,fontFamily:r,fontSize:n,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:l,...y},p,{clone:!1})}const Ok=.2,Uk=.14,Bk=.12;function Dt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Ok})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Uk})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Bk})`].join(",")}const qk=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],Wk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Fx(e){return`${Math.round(e)}ms`}function Hk(e){if(!e)return 0;const s=e/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function Gk(e){const s={...Wk,...e.easing},r={...Vk,...e.duration};return{getAutoHeightDuration:Hk,create:(a=["all"],i={})=>{const{duration:o=r.standard,easing:l=s.easeInOut,delay:c=0,...h}=i;return(Array.isArray(a)?a:[a]).map(d=>`${d} ${typeof o=="string"?o:Fx(o)} ${l} ${typeof c=="string"?c:Fx(c)}`).join(",")},...e,easing:s,duration:r}}const Kk={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Qk(e){return Br(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function dj(e={}){const s={...e};function r(n){const a=Object.entries(n);for(let i=0;i<a.length;i++){const[o,l]=a[i];!Qk(l)||o.startsWith("unstable_")?delete n[o]:Br(l)&&(n[o]={...l},r(n[o]))}}return r(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Dx(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const Yk=e=>{if(!Number.isNaN(+e))return+e;const s=e.match(/\d*\.?\d+/g);if(!s)return 0;let r=0;for(let n=0;n<s.length;n+=1)r+=+s[n];return r};function Jk(e){Object.assign(e,{alpha(s,r){const n=this||e;return n.colorSpace?`oklch(from ${s} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${s.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Qo(s,Yk(r))},lighten(s,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${s}, #fff ${Dx(r)})`:uu(s,r)},darken(s,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${s}, #000 ${Dx(r)})`:du(s,r)}})}function jp(e={},...s){const{breakpoints:r,mixins:n={},spacing:a,palette:i={},transitions:o={},typography:l={},shape:c,colorSpace:h,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(un(20));const p=lh({...i,colorSpace:h}),m=ah(e);let u=xs(m,{mixins:Mk(m.breakpoints,n),palette:p,shadows:qk.slice(),typography:Lk(p,l),transitions:Gk(o),zIndex:{...Kk}});return u=xs(u,d),u=s.reduce((g,y)=>xs(g,y),u),u.unstable_sxConfig={...ul,...d==null?void 0:d.unstable_sxConfig},u.unstable_sx=function(y){return ya({sx:y,theme:this})},u.toRuntimeSource=dj,Jk(u),u}function Np(e){let s;return e<1?s=5.11916*e**2:s=4.5*Math.log(e+1)+2,Math.round(s*10)/1e3}const Xk=[...Array(25)].map((e,s)=>{if(s===0)return"none";const r=Np(s);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function uj(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function mj(e){return e==="dark"?Xk:[]}function Zk(e){const{palette:s={mode:"light"},opacity:r,overlays:n,colorSpace:a,...i}=e,o=lh({...s,colorSpace:a});return{palette:o,opacity:{...uj(o.mode),...r},overlays:n||mj(o.mode),...i}}function e4(e){var s;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((s=e[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const t4=e=>[...[...Array(25)].map((s,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],s4=e=>(s,r)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),e.defaultColorScheme===s){if(s==="dark"){const o={};return t4(e.cssVarPrefix).forEach(l=>{o[l]=r[l],delete r[l]}),i==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:o}}:i?{[i.replace("%s",s)]:o,[`${n}, ${i.replace("%s",s)}`]:r}:{[n]:{...r,...o}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(s))}`}else if(s){if(i==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[n]:r}};if(i)return i.replace("%s",String(s))}return n};function r4(e,s){s.forEach(r=>{e[r]||(e[r]={})})}function Se(e,s,r){!e[s]&&r&&(e[s]=r)}function so(e){return typeof e!="string"||!e.startsWith("hsl")?e:ij(e)}function Yr(e,s){`${s}Channel`in e||(e[`${s}Channel`]=to(so(e[s])))}function n4(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Fr=e=>{try{return e()}catch{}},a4=(e="mui")=>wk(e);function em(e,s,r,n,a){if(!r)return;r=r===!0?{}:r;const i=a==="dark"?"dark":"light";if(!n){s[a]=Zk({...r,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return}const{palette:o,...l}=jp({...n,palette:{mode:i,...r==null?void 0:r.palette},colorSpace:e});return s[a]={...r,palette:o,opacity:{...uj(i),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||mj(i)},l}function i4(e={},...s){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:l=e4,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:h=":root",...d}=e,p=Object.keys(r)[0],m=n||(r.light&&p!=="light"?"light":p),u=a4(i),{[m]:g,light:y,dark:S,...x}=r,C={...x};let w=g;if((m==="dark"&&!("dark"in r)||m==="light"&&!("light"in r))&&(w=!0),!w)throw new Error(un(21,m));let _;o&&(_="oklch");const z=em(_,C,w,d,m);y&&!C.light&&em(_,C,y,void 0,"light"),S&&!C.dark&&em(_,C,S,void 0,"dark");let P={defaultColorScheme:m,...z,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:h,getCssVar:u,colorSchemes:C,font:{...$k(z.typography),...z.font},spacing:n4(d.spacing)};Object.keys(P.colorSchemes).forEach($=>{const N=P.colorSchemes[$].palette,A=T=>{const v=T.split("-"),k=v[1],O=v[2];return u(T,N[k][O])};N.mode==="light"&&(Se(N.common,"background","#fff"),Se(N.common,"onBackground","#000")),N.mode==="dark"&&(Se(N.common,"background","#000"),Se(N.common,"onBackground","#fff"));function R(T,v,k){if(_){let O;return T===Hn&&(O=`transparent ${((1-k)*100).toFixed(0)}%`),T===jt&&(O=`#000 ${(k*100).toFixed(0)}%`),T===Nt&&(O=`#fff ${(k*100).toFixed(0)}%`),`color-mix(in ${_}, ${v}, ${O})`}return T(v,k)}if(r4(N,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N.mode==="light"){Se(N.Alert,"errorColor",R(jt,N.error.light,.6)),Se(N.Alert,"infoColor",R(jt,N.info.light,.6)),Se(N.Alert,"successColor",R(jt,N.success.light,.6)),Se(N.Alert,"warningColor",R(jt,N.warning.light,.6)),Se(N.Alert,"errorFilledBg",A("palette-error-main")),Se(N.Alert,"infoFilledBg",A("palette-info-main")),Se(N.Alert,"successFilledBg",A("palette-success-main")),Se(N.Alert,"warningFilledBg",A("palette-warning-main")),Se(N.Alert,"errorFilledColor",Fr(()=>N.getContrastText(N.error.main))),Se(N.Alert,"infoFilledColor",Fr(()=>N.getContrastText(N.info.main))),Se(N.Alert,"successFilledColor",Fr(()=>N.getContrastText(N.success.main))),Se(N.Alert,"warningFilledColor",Fr(()=>N.getContrastText(N.warning.main))),Se(N.Alert,"errorStandardBg",R(Nt,N.error.light,.9)),Se(N.Alert,"infoStandardBg",R(Nt,N.info.light,.9)),Se(N.Alert,"successStandardBg",R(Nt,N.success.light,.9)),Se(N.Alert,"warningStandardBg",R(Nt,N.warning.light,.9)),Se(N.Alert,"errorIconColor",A("palette-error-main")),Se(N.Alert,"infoIconColor",A("palette-info-main")),Se(N.Alert,"successIconColor",A("palette-success-main")),Se(N.Alert,"warningIconColor",A("palette-warning-main")),Se(N.AppBar,"defaultBg",A("palette-grey-100")),Se(N.Avatar,"defaultBg",A("palette-grey-400")),Se(N.Button,"inheritContainedBg",A("palette-grey-300")),Se(N.Button,"inheritContainedHoverBg",A("palette-grey-A100")),Se(N.Chip,"defaultBorder",A("palette-grey-400")),Se(N.Chip,"defaultAvatarColor",A("palette-grey-700")),Se(N.Chip,"defaultIconColor",A("palette-grey-700")),Se(N.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Se(N.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Se(N.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Se(N.LinearProgress,"primaryBg",R(Nt,N.primary.main,.62)),Se(N.LinearProgress,"secondaryBg",R(Nt,N.secondary.main,.62)),Se(N.LinearProgress,"errorBg",R(Nt,N.error.main,.62)),Se(N.LinearProgress,"infoBg",R(Nt,N.info.main,.62)),Se(N.LinearProgress,"successBg",R(Nt,N.success.main,.62)),Se(N.LinearProgress,"warningBg",R(Nt,N.warning.main,.62)),Se(N.Skeleton,"bg",_?R(Hn,N.text.primary,.11):`rgba(${A("palette-text-primaryChannel")} / 0.11)`),Se(N.Slider,"primaryTrack",R(Nt,N.primary.main,.62)),Se(N.Slider,"secondaryTrack",R(Nt,N.secondary.main,.62)),Se(N.Slider,"errorTrack",R(Nt,N.error.main,.62)),Se(N.Slider,"infoTrack",R(Nt,N.info.main,.62)),Se(N.Slider,"successTrack",R(Nt,N.success.main,.62)),Se(N.Slider,"warningTrack",R(Nt,N.warning.main,.62));const T=_?R(jt,N.background.default,.6825):Ml(N.background.default,.8);Se(N.SnackbarContent,"bg",T),Se(N.SnackbarContent,"color",Fr(()=>_?vp.text.primary:N.getContrastText(T))),Se(N.SpeedDialAction,"fabHoverBg",Ml(N.background.paper,.15)),Se(N.StepConnector,"border",A("palette-grey-400")),Se(N.StepContent,"border",A("palette-grey-400")),Se(N.Switch,"defaultColor",A("palette-common-white")),Se(N.Switch,"defaultDisabledColor",A("palette-grey-100")),Se(N.Switch,"primaryDisabledColor",R(Nt,N.primary.main,.62)),Se(N.Switch,"secondaryDisabledColor",R(Nt,N.secondary.main,.62)),Se(N.Switch,"errorDisabledColor",R(Nt,N.error.main,.62)),Se(N.Switch,"infoDisabledColor",R(Nt,N.info.main,.62)),Se(N.Switch,"successDisabledColor",R(Nt,N.success.main,.62)),Se(N.Switch,"warningDisabledColor",R(Nt,N.warning.main,.62)),Se(N.TableCell,"border",R(Nt,R(Hn,N.divider,1),.88)),Se(N.Tooltip,"bg",R(Hn,N.grey[700],.92))}if(N.mode==="dark"){Se(N.Alert,"errorColor",R(Nt,N.error.light,.6)),Se(N.Alert,"infoColor",R(Nt,N.info.light,.6)),Se(N.Alert,"successColor",R(Nt,N.success.light,.6)),Se(N.Alert,"warningColor",R(Nt,N.warning.light,.6)),Se(N.Alert,"errorFilledBg",A("palette-error-dark")),Se(N.Alert,"infoFilledBg",A("palette-info-dark")),Se(N.Alert,"successFilledBg",A("palette-success-dark")),Se(N.Alert,"warningFilledBg",A("palette-warning-dark")),Se(N.Alert,"errorFilledColor",Fr(()=>N.getContrastText(N.error.dark))),Se(N.Alert,"infoFilledColor",Fr(()=>N.getContrastText(N.info.dark))),Se(N.Alert,"successFilledColor",Fr(()=>N.getContrastText(N.success.dark))),Se(N.Alert,"warningFilledColor",Fr(()=>N.getContrastText(N.warning.dark))),Se(N.Alert,"errorStandardBg",R(jt,N.error.light,.9)),Se(N.Alert,"infoStandardBg",R(jt,N.info.light,.9)),Se(N.Alert,"successStandardBg",R(jt,N.success.light,.9)),Se(N.Alert,"warningStandardBg",R(jt,N.warning.light,.9)),Se(N.Alert,"errorIconColor",A("palette-error-main")),Se(N.Alert,"infoIconColor",A("palette-info-main")),Se(N.Alert,"successIconColor",A("palette-success-main")),Se(N.Alert,"warningIconColor",A("palette-warning-main")),Se(N.AppBar,"defaultBg",A("palette-grey-900")),Se(N.AppBar,"darkBg",A("palette-background-paper")),Se(N.AppBar,"darkColor",A("palette-text-primary")),Se(N.Avatar,"defaultBg",A("palette-grey-600")),Se(N.Button,"inheritContainedBg",A("palette-grey-800")),Se(N.Button,"inheritContainedHoverBg",A("palette-grey-700")),Se(N.Chip,"defaultBorder",A("palette-grey-700")),Se(N.Chip,"defaultAvatarColor",A("palette-grey-300")),Se(N.Chip,"defaultIconColor",A("palette-grey-300")),Se(N.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Se(N.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Se(N.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Se(N.LinearProgress,"primaryBg",R(jt,N.primary.main,.5)),Se(N.LinearProgress,"secondaryBg",R(jt,N.secondary.main,.5)),Se(N.LinearProgress,"errorBg",R(jt,N.error.main,.5)),Se(N.LinearProgress,"infoBg",R(jt,N.info.main,.5)),Se(N.LinearProgress,"successBg",R(jt,N.success.main,.5)),Se(N.LinearProgress,"warningBg",R(jt,N.warning.main,.5)),Se(N.Skeleton,"bg",_?R(Hn,N.text.primary,.13):`rgba(${A("palette-text-primaryChannel")} / 0.13)`),Se(N.Slider,"primaryTrack",R(jt,N.primary.main,.5)),Se(N.Slider,"secondaryTrack",R(jt,N.secondary.main,.5)),Se(N.Slider,"errorTrack",R(jt,N.error.main,.5)),Se(N.Slider,"infoTrack",R(jt,N.info.main,.5)),Se(N.Slider,"successTrack",R(jt,N.success.main,.5)),Se(N.Slider,"warningTrack",R(jt,N.warning.main,.5));const T=_?R(Nt,N.background.default,.985):Ml(N.background.default,.98);Se(N.SnackbarContent,"bg",T),Se(N.SnackbarContent,"color",Fr(()=>_?lj.text.primary:N.getContrastText(T))),Se(N.SpeedDialAction,"fabHoverBg",Ml(N.background.paper,.15)),Se(N.StepConnector,"border",A("palette-grey-600")),Se(N.StepContent,"border",A("palette-grey-600")),Se(N.Switch,"defaultColor",A("palette-grey-300")),Se(N.Switch,"defaultDisabledColor",A("palette-grey-600")),Se(N.Switch,"primaryDisabledColor",R(jt,N.primary.main,.55)),Se(N.Switch,"secondaryDisabledColor",R(jt,N.secondary.main,.55)),Se(N.Switch,"errorDisabledColor",R(jt,N.error.main,.55)),Se(N.Switch,"infoDisabledColor",R(jt,N.info.main,.55)),Se(N.Switch,"successDisabledColor",R(jt,N.success.main,.55)),Se(N.Switch,"warningDisabledColor",R(jt,N.warning.main,.55)),Se(N.TableCell,"border",R(jt,R(Hn,N.divider,1),.68)),Se(N.Tooltip,"bg",R(Hn,N.grey[700],.92))}Yr(N.background,"default"),Yr(N.background,"paper"),Yr(N.common,"background"),Yr(N.common,"onBackground"),Yr(N,"divider"),Object.keys(N).forEach(T=>{const v=N[T];T!=="tonalOffset"&&v&&typeof v=="object"&&(v.main&&Se(N[T],"mainChannel",to(so(v.main))),v.light&&Se(N[T],"lightChannel",to(so(v.light))),v.dark&&Se(N[T],"darkChannel",to(so(v.dark))),v.contrastText&&Se(N[T],"contrastTextChannel",to(so(v.contrastText))),T==="text"&&(Yr(N[T],"primary"),Yr(N[T],"secondary")),T==="action"&&(v.active&&Yr(N[T],"active"),v.selected&&Yr(N[T],"selected")))})}),P=s.reduce(($,N)=>xs($,N),P);const b={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:s4(P),enableContrastVars:o},{vars:E,generateThemeVars:j,generateStyleSheets:F}=Ak(P,b);return P.vars=E,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([$,N])=>{P[$]=N}),P.generateThemeVars=j,P.generateStyleSheets=F,P.generateSpacing=function(){return ej(d.spacing,rh(this))},P.getColorSchemeSelector=kk(c),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=l,P.unstable_sxConfig={...ul,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(N){return ya({sx:N,theme:this})},P.toRuntimeSource=dj,P}function $x(e,s,r){e.colorSchemes&&r&&(e.colorSchemes[s]={...r!==!0&&r,palette:lh({...r===!0?{}:r.palette,mode:s})})}function pj(e={},...s){const{palette:r,cssVariables:n=!1,colorSchemes:a=r?void 0:{light:!0},defaultColorScheme:i=r==null?void 0:r.mode,...o}=e,l=i||"light",c=a==null?void 0:a[l],h={...a,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return jp(e,...s);let d=r;"palette"in e||h[l]&&(h[l]!==!0?d=h[l].palette:l==="dark"&&(d={mode:"dark"}));const p=jp({...e,palette:d},...s);return p.defaultColorScheme=l,p.colorSchemes=h,p.palette.mode==="light"&&(p.colorSchemes.light={...h.light!==!0&&h.light,palette:p.palette},$x(p,"dark",h.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:p.palette},$x(p,"light",h.light)),p}return!r&&!("light"in h)&&l==="light"&&(h.light=!0),i4({...o,colorSchemes:h,defaultColorScheme:l,...typeof n!="boolean"&&n},...s)}const ch=pj();function pl(){const e=ih(ch);return e[zd]||e}function fj(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Tr=e=>fj(e)&&e!=="classes",Oe=ik({themeId:zd,defaultTheme:ch,rootShouldForwardProp:Tr});function Mx(...e){return e.reduce((s,r)=>r==null?s:function(...a){s.apply(this,a),r.apply(this,a)},()=>{})}function o4(e){return t.jsx(XA,{...e,defaultTheme:ch,themeId:zd})}function l4(e){return function(r){return t.jsx(o4,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function c4(){return tj}const St=Ck;function vt(e){return vk(e)}function d4(e){return gt("MuiSvgIcon",e)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const u4=e=>{const{color:s,fontSize:r,classes:n}=e,a={root:["root",s!=="inherit"&&`color${Be(s)}`,`fontSize${Be(r)}`]};return xt(a,d4,n)},m4=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color!=="inherit"&&s[`color${Be(r.color)}`],s[`fontSize${Be(r.fontSize)}`]]}})(St(({theme:e})=>{var s,r,n,a,i,o,l,c,h,d,p,m,u,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(s=e.transitions)==null?void 0:s.create)==null?void 0:a.call(s,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,y])=>y&&y.main).map(([y])=>{var S,x;return{props:{color:y},style:{color:(x=(S=(e.vars??e).palette)==null?void 0:S[y])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(m=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(g=(u=(e.vars??e).palette)==null?void 0:u.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Cp=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiSvgIcon"}),{children:a,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:h,inheritViewBox:d=!1,titleAccess:p,viewBox:m="0 0 24 24",...u}=n,g=f.isValidElement(a)&&a.type==="svg",y={...n,color:o,component:l,fontSize:c,instanceFontSize:s.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:g},S={};d||(S.viewBox=m);const x=u4(y);return t.jsxs(m4,{as:l,className:Xe(x.root,i),focusable:"false",color:h,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r,...S,...u,...g&&a.props,ownerState:y,children:[g?a.props.children:a,p?t.jsx("title",{children:p}):null]})});Cp.muiName="SvgIcon";function Ws(e,s){function r(n,a){return t.jsx(Cp,{"data-testid":void 0,ref:a,...n,children:e})}return r.muiName=Cp.muiName,f.memo(f.forwardRef(r))}function hj(e,s=166){let r;function n(...a){const i=()=>{e.apply(this,a)};clearTimeout(r),r=setTimeout(i,s)}return n.clear=()=>{clearTimeout(r)},n}function kr(e){return e&&e.ownerDocument||document}function pn(e){return kr(e).defaultView||window}function Ix(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function Lx(e){const{controlled:s,default:r,name:n,state:a="value"}=e,{current:i}=f.useRef(s!==void 0),[o,l]=f.useState(r),c=i?s:o,h=f.useCallback(d=>{i||l(d)},[]);return[c,h]}function da(e){const s=f.useRef(e);return ba(()=>{s.current=e}),f.useRef((...r)=>(0,s.current)(...r)).current}function qs(...e){const s=f.useRef(void 0),r=f.useCallback(n=>{const a=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(n);return typeof l=="function"?l:()=>{o(null)}}return i.current=n,()=>{i.current=null}});return()=>{a.forEach(i=>i==null?void 0:i())}},e);return f.useMemo(()=>e.every(n=>n==null)?null:n=>{s.current&&(s.current(),s.current=void 0),n!=null&&(s.current=r(n))},e)}function p4(e,s){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof s=="function"}function f4(e,s){if(!e)return s;function r(o,l){const c={};return Object.keys(l).forEach(h=>{p4(h,l[h])&&typeof o[h]=="function"&&(c[h]=(...d)=>{o[h](...d),l[h](...d)})}),c}if(typeof e=="function"||typeof s=="function")return o=>{const l=typeof s=="function"?s(o):s,c=typeof e=="function"?e({...o,...l}):e,h=Xe(o==null?void 0:o.className,l==null?void 0:l.className,c==null?void 0:c.className),d=r(c,l);return{...l,...c,...d,...!!h&&{className:h},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const n=s,a=r(e,n),i=Xe(n==null?void 0:n.className,e==null?void 0:e.className);return{...s,...e,...a,...!!i&&{className:i},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function gj(e,s){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(s.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wp(e,s){return wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wp(e,s)}function xj(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,wp(e,s)}const Ox={disabled:!1},Yc=at.createContext(null);var h4=function(s){return s.scrollTop},ro="unmounted",Jn="exited",Xn="entering",Ra="entered",_p="exiting",Kr=function(e){xj(s,e);function s(n,a){var i;i=e.call(this,n,a)||this;var o=a,l=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?l?(c=Jn,i.appearStatus=Xn):c=Ra:n.unmountOnExit||n.mountOnEnter?c=ro:c=Jn,i.state={status:c},i.nextCallback=null,i}s.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===ro?{status:Jn}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==Xn&&o!==Ra&&(i=Xn):(o===Xn||o===Ra)&&(i=_p)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,i,o,l;return i=o=l=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,l=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:l}},r.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Xn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this);o&&h4(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jn&&this.setState({status:ro})},r.performEnter=function(a){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:a,c=this.props.nodeRef?[l]:[zl.findDOMNode(this),l],h=c[0],d=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!a&&!o||Ox.disabled){this.safeSetState({status:Ra},function(){i.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:Xn},function(){i.props.onEntering(h,d),i.onTransitionEnd(m,function(){i.safeSetState({status:Ra},function(){i.props.onEntered(h,d)})})})},r.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:zl.findDOMNode(this);if(!i||Ox.disabled){this.safeSetState({status:Jn},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_p},function(){a.props.onExiting(l),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:Jn},function(){a.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},r.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,a(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=c[0],d=c[1];this.props.addEndListener(h,d)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===ro)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=gj(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return at.createElement(Yc.Provider,{value:null},typeof o=="function"?o(a,l):at.cloneElement(at.Children.only(o),l))},s}(at.Component);Kr.contextType=Yc;Kr.propTypes={};function Ta(){}Kr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ta,onEntering:Ta,onEntered:Ta,onExit:Ta,onExiting:Ta,onExited:Ta};Kr.UNMOUNTED=ro;Kr.EXITED=Jn;Kr.ENTERING=Xn;Kr.ENTERED=Ra;Kr.EXITING=_p;function g4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dh(e,s){var r=function(i){return s&&f.isValidElement(i)?s(i):i},n=Object.create(null);return e&&f.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function x4(e,s){e=e||{},s=s||{};function r(d){return d in s?s[d]:e[d]}var n=Object.create(null),a=[];for(var i in e)i in s?a.length&&(n[i]=a,a=[]):a.push(i);var o,l={};for(var c in s){if(n[c])for(o=0;o<n[c].length;o++){var h=n[c][o];l[n[c][o]]=r(h)}l[c]=r(c)}for(o=0;o<a.length;o++)l[a[o]]=r(a[o]);return l}function na(e,s,r){return r[s]!=null?r[s]:e.props[s]}function y4(e,s){return dh(e.children,function(r){return f.cloneElement(r,{onExited:s.bind(null,r),in:!0,appear:na(r,"appear",e),enter:na(r,"enter",e),exit:na(r,"exit",e)})})}function b4(e,s,r){var n=dh(e.children),a=x4(s,n);return Object.keys(a).forEach(function(i){var o=a[i];if(f.isValidElement(o)){var l=i in s,c=i in n,h=s[i],d=f.isValidElement(h)&&!h.props.in;c&&(!l||d)?a[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:na(o,"exit",e),enter:na(o,"enter",e)}):!c&&l&&!d?a[i]=f.cloneElement(o,{in:!1}):c&&l&&f.isValidElement(h)&&(a[i]=f.cloneElement(o,{onExited:r.bind(null,o),in:h.props.in,exit:na(o,"exit",e),enter:na(o,"enter",e)}))}}),a}var v4=Object.values||function(e){return Object.keys(e).map(function(s){return e[s]})},j4={component:"div",childFactory:function(s){return s}},uh=function(e){xj(s,e);function s(n,a){var i;i=e.call(this,n,a)||this;var o=i.handleExited.bind(g4(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=s.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(a,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?y4(a,l):b4(a,o,l),firstRender:!1}},r.handleExited=function(a,i){var o=dh(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(l){var c=Hc({},l.children);return delete c[a.key],{children:c}}))},r.render=function(){var a=this.props,i=a.component,o=a.childFactory,l=gj(a,["component","childFactory"]),c=this.state.contextValue,h=v4(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?at.createElement(Yc.Provider,{value:c},h):at.createElement(Yc.Provider,{value:c},at.createElement(i,l,h))},s}(at.Component);uh.propTypes={};uh.defaultProps=j4;const Ux={};function yj(e,s){const r=f.useRef(Ux);return r.current===Ux&&(r.current=e(s)),r}const N4=[];function C4(e){f.useEffect(e,N4)}class mh{constructor(){Pi(this,"currentId",null);Pi(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Pi(this,"disposeEffect",()=>this.clear)}static create(){return new mh}start(s,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},s)}}function bj(){const e=yj(mh.create).current;return C4(e.disposeEffect),e}const vj=e=>e.scrollTop;function Jc(e,s){const{timeout:r,easing:n,style:a={}}=e;return{duration:a.transitionDuration??(typeof r=="number"?r:r[s.mode]||0),easing:a.transitionTimingFunction??(typeof n=="object"?n[s.mode]:n),delay:a.transitionDelay}}function Xc(e){return typeof e=="string"}function jj(e,s,r){return e===void 0||Xc(e)?s:{...s,ownerState:{...s.ownerState,...r}}}function Nj(e,s,r){return typeof e=="function"?e(s,r):e}function Cj(e,s=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!s.includes(n)).forEach(n=>{r[n]=e[n]}),r}function Bx(e){if(e===void 0)return{};const s={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{s[r]=e[r]}),s}function wj(e){const{getSlotProps:s,additionalProps:r,externalSlotProps:n,externalForwardedProps:a,className:i}=e;if(!s){const u=Xe(r==null?void 0:r.className,i,a==null?void 0:a.className,n==null?void 0:n.className),g={...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},y={...r,...a,...n};return u.length>0&&(y.className=u),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:void 0}}const o=Cj({...a,...n}),l=Bx(n),c=Bx(a),h=s(o),d=Xe(h==null?void 0:h.className,r==null?void 0:r.className,i,a==null?void 0:a.className,n==null?void 0:n.className),p={...h==null?void 0:h.style,...r==null?void 0:r.style,...a==null?void 0:a.style,...n==null?void 0:n.style},m={...h,...r,...c,...l};return d.length>0&&(m.className=d),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:h.ref}}function kt(e,s){const{className:r,elementType:n,ownerState:a,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...c}=s,{component:h,slots:d={[e]:void 0},slotProps:p={[e]:void 0},...m}=i,u=d[e]||n,g=Nj(p[e],a),{props:{component:y,...S},internalRef:x}=wj({className:r,...c,externalForwardedProps:e==="root"?m:void 0,externalSlotProps:g}),C=qs(x,g==null?void 0:g.ref,s.ref),w=e==="root"?y||h:y,_=jj(u,{...e==="root"&&!h&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...S,...w&&!l&&{as:w},...w&&l&&{component:w},ref:C},a);return[u,_]}function w4(e){return gt("MuiPaper",e)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _4=e=>{const{square:s,elevation:r,variant:n,classes:a}=e,i={root:["root",n,!s&&"rounded",n==="elevation"&&`elevation${r}`]};return xt(i,w4,a)},S4=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],!r.square&&s.rounded,r.variant==="elevation"&&s[`elevation${r.elevation}`]]}})(St(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),hi=f.forwardRef(function(s,r){var u;const n=vt({props:s,name:"MuiPaper"}),a=pl(),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:h="elevation",...d}=n,p={...n,component:o,elevation:l,square:c,variant:h},m=_4(p);return t.jsx(S4,{as:o,ownerState:p,className:Xe(m.root,i),ref:r,...d,style:{...h==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[l],...a.vars&&{"--Paper-overlay":(u=a.vars.overlays)==null?void 0:u[l]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Qo("#fff",Np(l))}, ${Qo("#fff",Np(l))})`}},...d.style}})});function Zc(e){try{return e.matches(":focus-visible")}catch{}return!1}class ed{constructor(){Pi(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new ed}static use(){const s=yj(ed.create).current,[r,n]=f.useState(!1);return s.shouldMount=r,s.setShouldMount=n,f.useEffect(s.mountEffect,[r]),s}mount(){return this.mounted||(this.mounted=k4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...s)})}stop(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...s)})}pulsate(...s){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...s)})}}function A4(){return ed.use()}function k4(){let e,s;const r=new Promise((n,a)=>{e=n,s=a});return r.resolve=e,r.reject=s,r}function P4(e){const{className:s,classes:r,pulsate:n=!1,rippleX:a,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:h}=e,[d,p]=f.useState(!1),m=Xe(s,r.ripple,r.rippleVisible,n&&r.ripplePulsate),u={width:o,height:o,top:-(o/2)+i,left:-(o/2)+a},g=Xe(r.child,d&&r.childLeaving,n&&r.childPulsate);return!l&&!d&&p(!0),f.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,h);return()=>{clearTimeout(y)}}},[c,l,h]),t.jsx("span",{className:m,style:u,children:t.jsx("span",{className:g})})}const ar=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sp=550,E4=80,T4=ll`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,z4=ll`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,R4=ll`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,F4=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),D4=Oe(P4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ar.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${T4};
    animation-duration: ${Sp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ar.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ar.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ar.childLeaving} {
    opacity: 0;
    animation-name: ${z4};
    animation-duration: ${Sp}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ar.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${R4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,$4=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:o,...l}=n,[c,h]=f.useState([]),d=f.useRef(0),p=f.useRef(null);f.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const m=f.useRef(!1),u=bj(),g=f.useRef(null),y=f.useRef(null),S=f.useCallback(_=>{const{pulsate:z,rippleX:P,rippleY:b,rippleSize:E,cb:j}=_;h(F=>[...F,t.jsx(D4,{classes:{ripple:Xe(i.ripple,ar.ripple),rippleVisible:Xe(i.rippleVisible,ar.rippleVisible),ripplePulsate:Xe(i.ripplePulsate,ar.ripplePulsate),child:Xe(i.child,ar.child),childLeaving:Xe(i.childLeaving,ar.childLeaving),childPulsate:Xe(i.childPulsate,ar.childPulsate)},timeout:Sp,pulsate:z,rippleX:P,rippleY:b,rippleSize:E},d.current)]),d.current+=1,p.current=j},[i]),x=f.useCallback((_={},z={},P=()=>{})=>{const{pulsate:b=!1,center:E=a||z.pulsate,fakeElement:j=!1}=z;if((_==null?void 0:_.type)==="mousedown"&&m.current){m.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(m.current=!0);const F=j?null:y.current,$=F?F.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,A,R;if(E||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)N=Math.round($.width/2),A=Math.round($.height/2);else{const{clientX:T,clientY:v}=_.touches&&_.touches.length>0?_.touches[0]:_;N=Math.round(T-$.left),A=Math.round(v-$.top)}if(E)R=Math.sqrt((2*$.width**2+$.height**2)/3),R%2===0&&(R+=1);else{const T=Math.max(Math.abs((F?F.clientWidth:0)-N),N)*2+2,v=Math.max(Math.abs((F?F.clientHeight:0)-A),A)*2+2;R=Math.sqrt(T**2+v**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{S({pulsate:b,rippleX:N,rippleY:A,rippleSize:R,cb:P})},u.start(E4,()=>{g.current&&(g.current(),g.current=null)})):S({pulsate:b,rippleX:N,rippleY:A,rippleSize:R,cb:P})},[a,S,u]),C=f.useCallback(()=>{x({},{pulsate:!0})},[x]),w=f.useCallback((_,z)=>{if(u.clear(),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,u.start(0,()=>{w(_,z)});return}g.current=null,h(P=>P.length>0?P.slice(1):P),p.current=z},[u]);return f.useImperativeHandle(r,()=>({pulsate:C,start:x,stop:w}),[C,x,w]),t.jsx(F4,{className:Xe(ar.root,i.root,o),ref:y,...l,children:t.jsx(uh,{component:null,exit:!0,children:c})})});function M4(e){return gt("MuiButtonBase",e)}const I4=mt("MuiButtonBase",["root","disabled","focusVisible"]),L4=e=>{const{disabled:s,focusVisible:r,focusVisibleClassName:n,classes:a}=e,o=xt({root:["root",s&&"disabled",r&&"focusVisible"]},M4,a);return r&&n&&(o.root+=` ${n}`),o},O4=Oe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${I4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_j=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:h=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:u,LinkComponent:g="a",onBlur:y,onClick:S,onContextMenu:x,onDragLeave:C,onFocus:w,onFocusVisible:_,onKeyDown:z,onKeyUp:P,onMouseDown:b,onMouseLeave:E,onMouseUp:j,onTouchEnd:F,onTouchMove:$,onTouchStart:N,tabIndex:A=0,TouchRippleProps:R,touchRippleRef:T,type:v,...k}=n,O=f.useRef(null),D=A4(),L=qs(D.ref,T),[W,H]=f.useState(!1);h&&W&&H(!1),f.useImperativeHandle(a,()=>({focusVisible:()=>{H(!0),O.current.focus()}}),[]);const B=D.shouldMount&&!d&&!h;f.useEffect(()=>{W&&m&&!d&&D.pulsate()},[d,m,W,D]);const K=Jr(D,"start",b,p),q=Jr(D,"stop",x,p),V=Jr(D,"stop",C,p),te=Jr(D,"stop",j,p),U=Jr(D,"stop",Q=>{W&&Q.preventDefault(),E&&E(Q)},p),M=Jr(D,"start",N,p),G=Jr(D,"stop",F,p),X=Jr(D,"stop",$,p),fe=Jr(D,"stop",Q=>{Zc(Q.target)||H(!1),y&&y(Q)},!1),Ne=da(Q=>{O.current||(O.current=Q.currentTarget),Zc(Q.target)&&(H(!0),_&&_(Q)),w&&w(Q)}),ge=()=>{const Q=O.current;return c&&c!=="button"&&!(Q.tagName==="A"&&Q.href)},Pe=da(Q=>{m&&!Q.repeat&&W&&Q.key===" "&&D.stop(Q,()=>{D.start(Q)}),Q.target===Q.currentTarget&&ge()&&Q.key===" "&&Q.preventDefault(),z&&z(Q),Q.target===Q.currentTarget&&ge()&&Q.key==="Enter"&&!h&&(Q.preventDefault(),S&&S(Q))}),Fe=da(Q=>{m&&Q.key===" "&&W&&!Q.defaultPrevented&&D.stop(Q,()=>{D.pulsate(Q)}),P&&P(Q),S&&Q.target===Q.currentTarget&&ge()&&Q.key===" "&&!Q.defaultPrevented&&S(Q)});let ie=c;ie==="button"&&(k.href||k.to)&&(ie=g);const Y={};if(ie==="button"){const Q=!!k.formAction;Y.type=v===void 0&&!Q?"button":v,Y.disabled=h}else!k.href&&!k.to&&(Y.role="button"),h&&(Y["aria-disabled"]=h);const Z=qs(r,O),xe={...n,centerRipple:i,component:c,disabled:h,disableRipple:d,disableTouchRipple:p,focusRipple:m,tabIndex:A,focusVisible:W},ye=L4(xe);return t.jsxs(O4,{as:ie,className:Xe(ye.root,l),ownerState:xe,onBlur:fe,onClick:S,onContextMenu:q,onFocus:Ne,onKeyDown:Pe,onKeyUp:Fe,onMouseDown:K,onMouseLeave:U,onMouseUp:te,onDragLeave:V,onTouchEnd:G,onTouchMove:X,onTouchStart:M,ref:Z,tabIndex:h?-1:A,type:v,...Y,...k,children:[o,B?t.jsx($4,{ref:L,center:i,...R}):null]})});function Jr(e,s,r,n=!1){return da(a=>(r&&r(a),n||e[s](a),!0))}function U4(e){return typeof e.main=="string"}function B4(e,s=[]){if(!U4(e))return!1;for(const r of s)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Zs(e=[]){return([,s])=>s&&B4(s,e)}function q4(e){return gt("MuiAlert",e)}const qx=mt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function W4(e){return gt("MuiCircularProgress",e)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const br=44,Ap=ll`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,kp=ll`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,V4=typeof Ap!="string"?Xf`
        animation: ${Ap} 1.4s linear infinite;
      `:null,H4=typeof kp!="string"?Xf`
        animation: ${kp} 1.4s ease-in-out infinite;
      `:null,G4=e=>{const{classes:s,variant:r,color:n,disableShrink:a}=e,i={root:["root",r,`color${Be(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Be(r)}`,a&&"circleDisableShrink"]};return xt(i,W4,s)},K4=Oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`color${Be(r.color)}`]]}})(St(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:V4||{animation:`${Ap} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}}))]}))),Q4=Oe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Y4=Oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.circle,s[`circle${Be(r.variant)}`],r.disableShrink&&s.circleDisableShrink]}})(St(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:H4||{animation:`${kp} 1.4s ease-in-out infinite`}}]}))),J4=Oe("circle",{name:"MuiCircularProgress",slot:"Track"})(St(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),gi=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,enableTrackSlot:l=!1,size:c=40,style:h,thickness:d=3.6,value:p=0,variant:m="indeterminate",...u}=n,g={...n,color:i,disableShrink:o,size:c,thickness:d,value:p,variant:m,enableTrackSlot:l},y=G4(g),S={},x={},C={};if(m==="determinate"){const w=2*Math.PI*((br-d)/2);S.strokeDasharray=w.toFixed(3),C["aria-valuenow"]=Math.round(p),S.strokeDashoffset=`${((100-p)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return t.jsx(K4,{className:Xe(y.root,a),style:{width:c,height:c,...x,...h},ownerState:g,ref:r,role:"progressbar",...C,...u,children:t.jsxs(Q4,{className:y.svg,ownerState:g,viewBox:`${br/2} ${br/2} ${br} ${br}`,children:[l?t.jsx(J4,{className:y.track,ownerState:g,cx:br,cy:br,r:(br-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,t.jsx(Y4,{className:y.circle,style:S,ownerState:g,cx:br,cy:br,r:(br-d)/2,fill:"none",strokeWidth:d})]})})});function X4(e){return gt("MuiIconButton",e)}const Wx=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Z4=e=>{const{classes:s,disabled:r,color:n,edge:a,size:i,loading:o}=e,l={root:["root",o&&"loading",r&&"disabled",n!=="default"&&`color${Be(n)}`,a&&`edge${Be(a)}`,`size${Be(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return xt(l,X4,s)},e5=Oe(_j,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.loading&&s.loading,r.color!=="default"&&s[`color${Be(r.color)}`],r.edge&&s[`edge${Be(r.edge)}`],s[`size${Be(r.size)}`]]}})(St(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),St(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].main}})),...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Wx.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Wx.loading}`]:{color:"transparent"}}))),t5=Oe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ri=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiIconButton"}),{edge:a=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:h=!1,size:d="medium",id:p,loading:m=null,loadingIndicator:u,...g}=n,y=ml(p),S=u??t.jsx(gi,{"aria-labelledby":y,color:"inherit",size:16}),x={...n,edge:a,color:l,disabled:c,disableFocusRipple:h,loading:m,loadingIndicator:S,size:d},C=Z4(x);return t.jsxs(e5,{id:m?y:p,className:Xe(C.root,o),centerRipple:!0,focusRipple:!h,disabled:c||m,ref:r,...g,ownerState:x,children:[typeof m=="boolean"&&t.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:t.jsx(t5,{className:C.loadingIndicator,ownerState:x,children:m&&S})}),i]})}),s5=Ws(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),r5=Ws(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),n5=Ws(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),a5=Ws(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),i5=Ws(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),o5=e=>{const{variant:s,color:r,severity:n,classes:a}=e,i={root:["root",`color${Be(r||n)}`,`${s}${Be(r||n)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return xt(i,q4,a)},l5=Oe(hi,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${Be(r.color||r.severity)}`]]}})(St(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Zs(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:s(e.palette[n].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${n}StandardBg`]:r(e.palette[n].light,.9),[`& .${qx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(Zs(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:s(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${qx.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(Zs(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${n}FilledColor`],backgroundColor:e.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[n].dark:e.palette[n].main,color:e.palette.getContrastText(e.palette[n].main)}}}))]}})),c5=Oe("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),d5=Oe("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),u5=Oe("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Vx={success:t.jsx(s5,{fontSize:"inherit"}),warning:t.jsx(r5,{fontSize:"inherit"}),error:t.jsx(n5,{fontSize:"inherit"}),info:t.jsx(a5,{fontSize:"inherit"})},yo=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiAlert"}),{action:a,children:i,className:o,closeText:l="Close",color:c,components:h={},componentsProps:d={},icon:p,iconMapping:m=Vx,onClose:u,role:g="alert",severity:y="success",slotProps:S={},slots:x={},variant:C="standard",...w}=n,_={...n,color:c,severity:y,variant:C,colorSeverity:c||y},z=o5(_),P={slots:{closeButton:h.CloseButton,closeIcon:h.CloseIcon,...x},slotProps:{...d,...S}},[b,E]=kt("root",{ref:r,shouldForwardComponentProp:!0,className:Xe(z.root,o),elementType:l5,externalForwardedProps:{...P,...w},ownerState:_,additionalProps:{role:g,elevation:0}}),[j,F]=kt("icon",{className:z.icon,elementType:c5,externalForwardedProps:P,ownerState:_}),[$,N]=kt("message",{className:z.message,elementType:d5,externalForwardedProps:P,ownerState:_}),[A,R]=kt("action",{className:z.action,elementType:u5,externalForwardedProps:P,ownerState:_}),[T,v]=kt("closeButton",{elementType:ri,externalForwardedProps:P,ownerState:_}),[k,O]=kt("closeIcon",{elementType:i5,externalForwardedProps:P,ownerState:_});return t.jsxs(b,{...E,children:[p!==!1?t.jsx(j,{...F,children:p||m[y]||Vx[y]}):null,t.jsx($,{...N,children:i}),a!=null?t.jsx(A,{...R,children:a}):null,a==null&&u?t.jsx(A,{...R,children:t.jsx(T,{size:"small","aria-label":l,title:l,color:"inherit",onClick:u,...v,children:t.jsx(k,{fontSize:"small",...O})})}):null]})});function m5(e){return gt("MuiTypography",e)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const p5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},f5=c4(),h5=e=>{const{align:s,gutterBottom:r,noWrap:n,paragraph:a,variant:i,classes:o}=e,l={root:["root",i,e.align!=="inherit"&&`align${Be(s)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return xt(l,m5,o)},g5=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.variant&&s[r.variant],r.align!=="inherit"&&s[`align${Be(r.align)}`],r.noWrap&&s.noWrap,r.gutterBottom&&s.gutterBottom,r.paragraph&&s.paragraph]}})(St(({theme:e})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(Zs()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((s=e.palette)==null?void 0:s.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Be(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),Hx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ms=f.forwardRef(function(s,r){const{color:n,...a}=vt({props:s,name:"MuiTypography"}),i=!p5[n],o=f5({...a,...i&&{color:n}}),{align:l="inherit",className:c,component:h,gutterBottom:d=!1,noWrap:p=!1,paragraph:m=!1,variant:u="body1",variantMapping:g=Hx,...y}=o,S={...o,align:l,color:n,className:c,component:h,gutterBottom:d,noWrap:p,paragraph:m,variant:u,variantMapping:g},x=h||(m?"p":g[u]||Hx[u])||"span",C=h5(S);return t.jsx(g5,{as:x,ref:r,className:Xe(C.root,c),...y,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function x5(e){var p;const{elementType:s,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:a=!1,...i}=e,o=a?{}:Nj(r,n),{props:l,internalRef:c}=wj({...i,externalSlotProps:o}),h=qs(c,o==null?void 0:o.ref,(p=e.additionalProps)==null?void 0:p.ref);return jj(s,{...l,ref:h},n)}function fl(e){var s;return parseInt(f.version,10)>=19?((s=e==null?void 0:e.props)==null?void 0:s.ref)||null:(e==null?void 0:e.ref)||null}function y5(e){return typeof e=="function"?e():e}const b5=f.forwardRef(function(s,r){const{children:n,container:a,disablePortal:i=!1}=s,[o,l]=f.useState(null),c=qs(f.isValidElement(n)?fl(n):null,r);if(ba(()=>{i||l(y5(a)||document.body)},[a,i]),ba(()=>{if(o&&!i)return Ix(r,o),()=>{Ix(r,null)}},[r,o,i]),i){if(f.isValidElement(n)){const h={ref:c};return f.cloneElement(n,h)}return n}return o&&Tf.createPortal(n,o)});function Il(e){return parseInt(e,10)||0}const v5={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function j5(e){for(const s in e)return!1;return!0}function Gx(e){return j5(e)||e.outerHeightStyle===0&&!e.overflowing}const N5=f.forwardRef(function(s,r){const{onChange:n,maxRows:a,minRows:i=1,style:o,value:l,...c}=s,{current:h}=f.useRef(l!=null),d=f.useRef(null),p=qs(r,d),m=f.useRef(null),u=f.useRef(null),g=f.useCallback(()=>{const w=d.current,_=u.current;if(!w||!_)return;const P=pn(w).getComputedStyle(w);if(P.width==="0px")return{outerHeightStyle:0,overflowing:!1};_.style.width=P.width,_.value=w.value||s.placeholder||"x",_.value.slice(-1)===`
`&&(_.value+=" ");const b=P.boxSizing,E=Il(P.paddingBottom)+Il(P.paddingTop),j=Il(P.borderBottomWidth)+Il(P.borderTopWidth),F=_.scrollHeight;_.value="x";const $=_.scrollHeight;let N=F;i&&(N=Math.max(Number(i)*$,N)),a&&(N=Math.min(Number(a)*$,N)),N=Math.max(N,$);const A=N+(b==="border-box"?E+j:0),R=Math.abs(N-F)<=1;return{outerHeightStyle:A,overflowing:R}},[a,i,s.placeholder]),y=da(()=>{const w=d.current,_=g();if(!w||!_||Gx(_))return!1;const z=_.outerHeightStyle;return m.current!=null&&m.current!==z}),S=f.useCallback(()=>{const w=d.current,_=g();if(!w||!_||Gx(_))return;const z=_.outerHeightStyle;m.current!==z&&(m.current=z,w.style.height=`${z}px`),w.style.overflow=_.overflowing?"hidden":""},[g]),x=f.useRef(-1);ba(()=>{const w=hj(S),_=d==null?void 0:d.current;if(!_)return;const z=pn(_);z.addEventListener("resize",w);let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>{y()&&(P.unobserve(_),cancelAnimationFrame(x.current),S(),x.current=requestAnimationFrame(()=>{P.observe(_)}))}),P.observe(_)),()=>{w.clear(),cancelAnimationFrame(x.current),z.removeEventListener("resize",w),P&&P.disconnect()}},[g,S,y]),ba(()=>{S()});const C=w=>{h||S();const _=w.target,z=_.value.length,P=_.value.endsWith(`
`),b=_.selectionStart===z;P&&b&&_.setSelectionRange(z,z),n&&n(w)};return t.jsxs(f.Fragment,{children:[t.jsx("textarea",{value:l,onChange:C,ref:p,rows:i,style:o,...c}),t.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:u,tabIndex:-1,style:{...v5.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function ki({props:e,states:s,muiFormControl:r}){return s.reduce((n,a)=>(n[a]=e[a],r&&typeof e[a]>"u"&&(n[a]=r[a]),n),{})}const mu=f.createContext(void 0);function Na(){return f.useContext(mu)}function Kx(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function td(e,s=!1){return e&&(Kx(e.value)&&e.value!==""||s&&Kx(e.defaultValue)&&e.defaultValue!=="")}function C5(e){return e.startAdornment}function w5(e){return gt("MuiInputBase",e)}const xi=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Qx;const pu=(e,s)=>{const{ownerState:r}=e;return[s.root,r.formControl&&s.formControl,r.startAdornment&&s.adornedStart,r.endAdornment&&s.adornedEnd,r.error&&s.error,r.size==="small"&&s.sizeSmall,r.multiline&&s.multiline,r.color&&s[`color${Be(r.color)}`],r.fullWidth&&s.fullWidth,r.hiddenLabel&&s.hiddenLabel]},fu=(e,s)=>{const{ownerState:r}=e;return[s.input,r.size==="small"&&s.inputSizeSmall,r.multiline&&s.inputMultiline,r.type==="search"&&s.inputTypeSearch,r.startAdornment&&s.inputAdornedStart,r.endAdornment&&s.inputAdornedEnd,r.hiddenLabel&&s.inputHiddenLabel]},_5=e=>{const{classes:s,color:r,disabled:n,error:a,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:h,multiline:d,readOnly:p,size:m,startAdornment:u,type:g}=e,y={root:["root",`color${Be(r)}`,n&&"disabled",a&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",m&&m!=="medium"&&`size${Be(m)}`,d&&"multiline",u&&"adornedStart",i&&"adornedEnd",h&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",g==="search"&&"inputTypeSearch",d&&"inputMultiline",m==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",u&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return xt(y,w5,s)},hu=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pu})(St(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xi.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:r})=>s.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),gu=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:fu})(St(({theme:e})=>{const s=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xi.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${xi.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Yx=l4({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ph=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:o,className:l,color:c,components:h={},componentsProps:d={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:u,endAdornment:g,error:y,fullWidth:S=!1,id:x,inputComponent:C="input",inputProps:w={},inputRef:_,margin:z,maxRows:P,minRows:b,multiline:E=!1,name:j,onBlur:F,onChange:$,onClick:N,onFocus:A,onKeyDown:R,onKeyUp:T,placeholder:v,readOnly:k,renderSuffix:O,rows:D,size:L,slotProps:W={},slots:H={},startAdornment:B,type:K="text",value:q,...V}=n,te=w.value!=null?w.value:q,{current:U}=f.useRef(te!=null),M=f.useRef(),G=f.useCallback(re=>{},[]),X=qs(M,_,w.ref,G),[fe,Ne]=f.useState(!1),ge=Na(),Pe=ki({props:n,muiFormControl:ge,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Pe.focused=ge?ge.focused:fe,f.useEffect(()=>{!ge&&m&&fe&&(Ne(!1),F&&F())},[ge,m,fe,F]);const Fe=ge&&ge.onFilled,ie=ge&&ge.onEmpty,Y=f.useCallback(re=>{td(re)?Fe&&Fe():ie&&ie()},[Fe,ie]);ba(()=>{U&&Y({value:te})},[te,Y,U]);const Z=re=>{A&&A(re),w.onFocus&&w.onFocus(re),ge&&ge.onFocus?ge.onFocus(re):Ne(!0)},xe=re=>{F&&F(re),w.onBlur&&w.onBlur(re),ge&&ge.onBlur?ge.onBlur(re):Ne(!1)},ye=(re,...I)=>{if(!U){const J=re.target||M.current;if(J==null)throw new Error(un(1));Y({value:J.value})}w.onChange&&w.onChange(re,...I),$&&$(re,...I)};f.useEffect(()=>{Y(M.current)},[]);const Q=re=>{M.current&&re.currentTarget===re.target&&M.current.focus(),N&&N(re)};let se=C,ce=w;E&&se==="input"&&(D?ce={type:void 0,minRows:D,maxRows:D,...ce}:ce={type:void 0,maxRows:P,minRows:b,...ce},se=N5);const Ae=re=>{Y(re.animationName==="mui-auto-fill-cancel"?M.current:{value:"x"})};f.useEffect(()=>{ge&&ge.setAdornedStart(!!B)},[ge,B]);const ae={...n,color:Pe.color||"primary",disabled:Pe.disabled,endAdornment:g,error:Pe.error,focused:Pe.focused,formControl:ge,fullWidth:S,hiddenLabel:Pe.hiddenLabel,multiline:E,size:Pe.size,startAdornment:B,type:K},_e=_5(ae),Ee=H.root||h.Root||hu,ne=W.root||d.root||{},oe=H.input||h.Input||gu;return ce={...ce,...W.input??d.input},t.jsxs(f.Fragment,{children:[!u&&typeof Yx=="function"&&(Qx||(Qx=t.jsx(Yx,{}))),t.jsxs(Ee,{...ne,ref:r,onClick:Q,...V,...!Xc(Ee)&&{ownerState:{...ae,...ne.ownerState}},className:Xe(_e.root,ne.className,l,k&&"MuiInputBase-readOnly"),children:[B,t.jsx(mu.Provider,{value:null,children:t.jsx(oe,{"aria-invalid":Pe.error,"aria-describedby":a,autoComplete:i,autoFocus:o,defaultValue:p,disabled:Pe.disabled,id:x,onAnimationStart:Ae,name:j,placeholder:v,readOnly:k,required:Pe.required,rows:D,value:te,onKeyDown:R,onKeyUp:T,type:K,...ce,...!Xc(oe)&&{as:se,ownerState:{...ae,...ce.ownerState}},ref:X,className:Xe(_e.input,ce.className,k&&"MuiInputBase-readOnly"),onBlur:xe,onChange:ye,onFocus:Z})}),g,O?O({...Pe,startAdornment:B}):null]})]})});function S5(e){return gt("MuiInput",e)}const qi={...xi,...mt("MuiInput",["root","underline","input"])};function A5(e){return gt("MuiOutlinedInput",e)}const Dr={...xi,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function k5(e){return gt("MuiFilledInput",e)}const Gn={...xi,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},P5=Ws(t.jsx("path",{d:"M7 10l5 5 5-5z"})),E5={entering:{opacity:1},entered:{opacity:1}},Pp=f.forwardRef(function(s,r){const n=pl(),a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:h,onEnter:d,onEntered:p,onEntering:m,onExit:u,onExited:g,onExiting:y,style:S,timeout:x=a,TransitionComponent:C=Kr,...w}=s,_=f.useRef(null),z=qs(_,fl(l),r),P=R=>T=>{if(R){const v=_.current;T===void 0?R(v):R(v,T)}},b=P(m),E=P((R,T)=>{vj(R);const v=Jc({style:S,timeout:x,easing:c},{mode:"enter"});R.style.webkitTransition=n.transitions.create("opacity",v),R.style.transition=n.transitions.create("opacity",v),d&&d(R,T)}),j=P(p),F=P(y),$=P(R=>{const T=Jc({style:S,timeout:x,easing:c},{mode:"exit"});R.style.webkitTransition=n.transitions.create("opacity",T),R.style.transition=n.transitions.create("opacity",T),u&&u(R)}),N=P(g),A=R=>{i&&i(_.current,R)};return t.jsx(C,{appear:o,in:h,nodeRef:_,onEnter:E,onEntered:j,onEntering:b,onExit:$,onExited:N,onExiting:F,addEndListener:A,timeout:x,...w,children:(R,{ownerState:T,...v})=>f.cloneElement(l,{style:{opacity:0,visibility:R==="exited"&&!h?"hidden":void 0,...E5[R],...S,...l.props.style},ref:z,...v})})});function T5(e){return gt("MuiBackdrop",e)}mt("MuiBackdrop",["root","invisible"]);const z5=e=>{const{classes:s,invisible:r}=e;return xt({root:["root",r&&"invisible"]},T5,s)},R5=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Sj=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiBackdrop"}),{children:a,className:i,component:o="div",invisible:l=!1,open:c,components:h={},componentsProps:d={},slotProps:p={},slots:m={},TransitionComponent:u,transitionDuration:g,...y}=n,S={...n,component:o,invisible:l},x=z5(S),C={transition:u,root:h.Root,...m},w={...d,...p},_={component:o,slots:C,slotProps:w},[z,P]=kt("root",{elementType:R5,externalForwardedProps:_,className:Xe(x.root,i),ownerState:S}),[b,E]=kt("transition",{elementType:Pp,externalForwardedProps:_,ownerState:S});return t.jsx(b,{in:c,timeout:g,...y,...E,children:t.jsx(z,{"aria-hidden":!0,...P,classes:x,ref:r,children:a})})}),F5=mt("MuiBox",["root"]),D5=pj(),Xr=tk({themeId:zd,defaultTheme:D5,defaultClassName:F5.root,generateClassName:sj.generate});function $5(e){return gt("MuiButton",e)}const Kn=mt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),M5=f.createContext({}),I5=f.createContext(void 0),L5=e=>{const{color:s,disableElevation:r,fullWidth:n,size:a,variant:i,loading:o,loadingPosition:l,classes:c}=e,h={root:["root",o&&"loading",i,`${i}${Be(s)}`,`size${Be(a)}`,`${i}Size${Be(a)}`,`color${Be(s)}`,r&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Be(l)}`],startIcon:["icon","startIcon",`iconSize${Be(a)}`],endIcon:["icon","endIcon",`iconSize${Be(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=xt(h,$5,c);return{...c,...d}},Aj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],O5=Oe(_j,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${Be(r.color)}`],s[`size${Be(r.size)}`],s[`${r.variant}Size${Be(r.size)}`],r.color==="inherit"&&s.colorInherit,r.disableElevation&&s.disableElevation,r.fullWidth&&s.fullWidth,r.loading&&s.loading]}})(St(({theme:e})=>{const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Kn.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Kn.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Kn.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Kn.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Zs()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Kn.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Kn.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Kn.loading}`]:{color:"transparent"}}}]}})),U5=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.startIcon,r.loading&&s.startIconLoadingStart,s[`iconSize${Be(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Aj]})),B5=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.endIcon,r.loading&&s.endIconLoadingEnd,s[`iconSize${Be(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Aj]})),q5=Oe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Jx=Oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Xx=f.forwardRef(function(s,r){const n=f.useContext(M5),a=f.useContext(I5),i=Qc(n,s),o=vt({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:h="button",className:d,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:u=!1,endIcon:g,focusVisibleClassName:y,fullWidth:S=!1,id:x,loading:C=null,loadingIndicator:w,loadingPosition:_="center",size:z="medium",startIcon:P,type:b,variant:E="text",...j}=o,F=ml(x),$=w??t.jsx(gi,{"aria-labelledby":F,color:"inherit",size:16}),N={...o,color:c,component:h,disabled:p,disableElevation:m,disableFocusRipple:u,fullWidth:S,loading:C,loadingIndicator:$,loadingPosition:_,size:z,type:b,variant:E},A=L5(N),R=(P||C&&_==="start")&&t.jsx(U5,{className:A.startIcon,ownerState:N,children:P||t.jsx(Jx,{className:A.loadingIconPlaceholder,ownerState:N})}),T=(g||C&&_==="end")&&t.jsx(B5,{className:A.endIcon,ownerState:N,children:g||t.jsx(Jx,{className:A.loadingIconPlaceholder,ownerState:N})}),v=a||"",k=typeof C=="boolean"?t.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:C&&t.jsx(q5,{className:A.loadingIndicator,ownerState:N,children:$})}):null;return t.jsxs(O5,{ownerState:N,className:Xe(n.className,A.root,d,v),component:h,disabled:p||C,focusRipple:!u,focusVisibleClassName:Xe(A.focusVisible,y),ref:r,type:b,id:C?F:x,...j,classes:A,children:[R,_!=="end"&&k,l,_==="end"&&k,T]})});function kj(e=window){const s=e.document.documentElement.clientWidth;return e.innerWidth-s}function W5(e){const s=kr(e);return s.body===e?pn(e).innerWidth>s.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function bo(e,s){s?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Zx(e){return parseInt(pn(e).getComputedStyle(e).paddingRight,10)||0}function V5(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function e0(e,s,r,n,a){const i=[s,r,...n];[].forEach.call(e.children,o=>{const l=!i.includes(o),c=!V5(o);l&&c&&bo(o,a)})}function tm(e,s){let r=-1;return e.some((n,a)=>s(n)?(r=a,!0):!1),r}function H5(e,s){const r=[],n=e.container;if(!s.disableScrollLock){if(W5(n)){const o=kj(pn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${Zx(n)+o}px`;const l=kr(n).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Zx(c)+o}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=kr(n).body;else{const o=n.parentElement,l=pn(n);i=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function G5(e){const s=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&s.push(r)}),s}class K5{constructor(){this.modals=[],this.containers=[]}add(s,r){let n=this.modals.indexOf(s);if(n!==-1)return n;n=this.modals.length,this.modals.push(s),s.modalRef&&bo(s.modalRef,!1);const a=G5(r);e0(r,s.mount,s.modalRef,a,!0);const i=tm(this.containers,o=>o.container===r);return i!==-1?(this.containers[i].modals.push(s),n):(this.containers.push({modals:[s],container:r,restore:null,hiddenSiblings:a}),n)}mount(s,r){const n=tm(this.containers,i=>i.modals.includes(s)),a=this.containers[n];a.restore||(a.restore=H5(a,r))}remove(s,r=!0){const n=this.modals.indexOf(s);if(n===-1)return n;const a=tm(this.containers,o=>o.modals.includes(s)),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(s),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),s.modalRef&&bo(s.modalRef,r),e0(i.container,s.mount,s.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&bo(o.modalRef,!1)}return n}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function no(e){var r;let s=e.activeElement;for(;((r=s==null?void 0:s.shadowRoot)==null?void 0:r.activeElement)!=null;)s=s.shadowRoot.activeElement;return s}const Q5=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Y5(e){const s=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(s)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:s}function J5(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const s=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=s(`[name="${e.name}"]:checked`);return r||(r=s(`[name="${e.name}"]`)),r!==e}function X5(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||J5(e))}function Z5(e){const s=[],r=[];return Array.from(e.querySelectorAll(Q5)).forEach((n,a)=>{const i=Y5(n);i===-1||!X5(n)||(i===0?s.push(n):r.push({documentOrder:a,tabIndex:i,node:n}))}),r.sort((n,a)=>n.tabIndex===a.tabIndex?n.documentOrder-a.documentOrder:n.tabIndex-a.tabIndex).map(n=>n.node).concat(s)}function eP(){return!0}function tP(e){const{children:s,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:a=!1,getTabbable:i=Z5,isEnabled:o=eP,open:l}=e,c=f.useRef(!1),h=f.useRef(null),d=f.useRef(null),p=f.useRef(null),m=f.useRef(null),u=f.useRef(!1),g=f.useRef(null),y=qs(fl(s),g),S=f.useRef(null);f.useEffect(()=>{!l||!g.current||(u.current=!r)},[r,l]),f.useEffect(()=>{if(!l||!g.current)return;const w=kr(g.current),_=no(w);return g.current.contains(_)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),u.current&&g.current.focus()),()=>{a||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),f.useEffect(()=>{if(!l||!g.current)return;const w=kr(g.current),_=no(w),z=E=>{S.current=E,!(n||!o()||E.key!=="Tab")&&_===g.current&&E.shiftKey&&(c.current=!0,d.current&&d.current.focus())},P=()=>{var $,N;const E=g.current;if(E===null)return;const j=no(w);if(!w.hasFocus()||!o()||c.current){c.current=!1;return}if(E.contains(j)||n&&j!==h.current&&j!==d.current)return;if(j!==m.current)m.current=null;else if(m.current!==null)return;if(!u.current)return;let F=[];if((j===h.current||j===d.current)&&(F=i(g.current)),F.length>0){const A=!!(($=S.current)!=null&&$.shiftKey&&((N=S.current)==null?void 0:N.key)==="Tab"),R=F[0],T=F[F.length-1];typeof R!="string"&&typeof T!="string"&&(A?T.focus():R.focus())}else E.focus()};w.addEventListener("focusin",P),w.addEventListener("keydown",z,!0);const b=setInterval(()=>{const E=no(w);E&&E.tagName==="BODY"&&P()},50);return()=>{clearInterval(b),w.removeEventListener("focusin",P),w.removeEventListener("keydown",z,!0)}},[r,n,a,o,l,i]);const x=w=>{p.current===null&&(p.current=w.relatedTarget),u.current=!0,m.current=w.target;const _=s.props.onFocus;_&&_(w)},C=w=>{p.current===null&&(p.current=w.relatedTarget),u.current=!0};return t.jsxs(f.Fragment,{children:[t.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:h,"data-testid":"sentinelStart"}),f.cloneElement(s,{ref:y,onFocus:x}),t.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}function sP(e){return typeof e=="function"?e():e}function rP(e){return e?e.props.hasOwnProperty("in"):!1}const t0=()=>{},Ll=new K5;function nP(e){const{container:s,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:o,children:l,onClose:c,open:h,rootRef:d}=e,p=f.useRef({}),m=f.useRef(null),u=f.useRef(null),g=qs(u,d),[y,S]=f.useState(!h),x=rP(l);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const w=()=>kr(m.current),_=()=>(p.current.modalRef=u.current,p.current.mount=m.current,p.current),z=()=>{Ll.mount(_(),{disableScrollLock:n}),u.current&&(u.current.scrollTop=0)},P=da(()=>{const T=sP(s)||w().body;Ll.add(_(),T),u.current&&z()}),b=()=>Ll.isTopModal(_()),E=da(T=>{m.current=T,T&&(h&&b()?z():u.current&&bo(u.current,C))}),j=f.useCallback(()=>{Ll.remove(_(),C)},[C]);f.useEffect(()=>()=>{j()},[j]),f.useEffect(()=>{h?P():(!x||!a)&&j()},[h,j,x,a,P]);const F=T=>v=>{var k;(k=T.onKeyDown)==null||k.call(T,v),!(v.key!=="Escape"||v.which===229||!b())&&(r||(v.stopPropagation(),c&&c(v,"escapeKeyDown")))},$=T=>v=>{var k;(k=T.onClick)==null||k.call(T,v),v.target===v.currentTarget&&c&&c(v,"backdropClick")};return{getRootProps:(T={})=>{const v=Cj(e);delete v.onTransitionEnter,delete v.onTransitionExited;const k={...v,...T};return{role:"presentation",...k,onKeyDown:F(k),ref:g}},getBackdropProps:(T={})=>{const v=T;return{"aria-hidden":!0,...v,onClick:$(v),open:h}},getTransitionProps:()=>{const T=()=>{S(!1),i&&i()},v=()=>{S(!0),o&&o(),a&&j()};return{onEnter:Mx(T,(l==null?void 0:l.props.onEnter)??t0),onExited:Mx(v,(l==null?void 0:l.props.onExited)??t0)}},rootRef:g,portalRef:E,isTopModal:b,exited:y,hasTransition:x}}function aP(e){return gt("MuiModal",e)}mt("MuiModal",["root","hidden","backdrop"]);const iP=e=>{const{open:s,exited:r,classes:n}=e;return xt({root:["root",!s&&r&&"hidden"],backdrop:["backdrop"]},aP,n)},oP=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.open&&r.exited&&s.hidden]}})(St(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),lP=Oe(Sj,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Pj=f.forwardRef(function(s,r){const n=vt({name:"MuiModal",props:s}),{BackdropComponent:a=lP,BackdropProps:i,classes:o,className:l,closeAfterTransition:c=!1,children:h,container:d,component:p,components:m={},componentsProps:u={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:S=!1,disablePortal:x=!1,disableRestoreFocus:C=!1,disableScrollLock:w=!1,hideBackdrop:_=!1,keepMounted:z=!1,onClose:P,onTransitionEnter:b,onTransitionExited:E,open:j,slotProps:F={},slots:$={},theme:N,...A}=n,R={...n,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:S,disablePortal:x,disableRestoreFocus:C,disableScrollLock:w,hideBackdrop:_,keepMounted:z},{getRootProps:T,getBackdropProps:v,getTransitionProps:k,portalRef:O,isTopModal:D,exited:L,hasTransition:W}=nP({...R,rootRef:r}),H={...R,exited:L},B=iP(H),K={};if(h.props.tabIndex===void 0&&(K.tabIndex="-1"),W){const{onEnter:G,onExited:X}=k();K.onEnter=G,K.onExited=X}const q={slots:{root:m.Root,backdrop:m.Backdrop,...$},slotProps:{...u,...F}},[V,te]=kt("root",{ref:r,elementType:oP,externalForwardedProps:{...q,...A,component:p},getSlotProps:T,ownerState:H,className:Xe(l,B==null?void 0:B.root,!H.open&&H.exited&&(B==null?void 0:B.hidden))}),[U,M]=kt("backdrop",{ref:i==null?void 0:i.ref,elementType:a,externalForwardedProps:q,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:G=>v({...G,onClick:X=>{G!=null&&G.onClick&&G.onClick(X)}}),className:Xe(i==null?void 0:i.className,B==null?void 0:B.backdrop),ownerState:H});return!z&&!j&&(!W||L)?null:t.jsx(b5,{ref:O,container:d,disablePortal:x,children:t.jsxs(V,{...te,children:[!_&&a?t.jsx(U,{...M}):null,t.jsx(tP,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:C,isEnabled:D,open:j,children:f.cloneElement(h,K)})]})})});function cP(e){return gt("MuiDialog",e)}const sm=mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ej=f.createContext({}),dP=Oe(Sj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,s)=>s.backdrop})({zIndex:-1}),uP=e=>{const{classes:s,scroll:r,maxWidth:n,fullWidth:a,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${Be(r)}`],paper:["paper",`paperScroll${Be(r)}`,`paperWidth${Be(String(n))}`,a&&"paperFullWidth",i&&"paperFullScreen"]};return xt(o,cP,s)},mP=Oe(Pj,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),pP=Oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.container,s[`scroll${Be(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),fP=Oe(hi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.paper,s[`scrollPaper${Be(r.scroll)}`],s[`paperWidth${Be(String(r.maxWidth))}`],r.fullWidth&&s.paperFullWidth,r.fullScreen&&s.paperFullScreen]}})(St(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${sm.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${e.breakpoints.values[s]}${e.breakpoints.unit}`,[`&.${sm.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${sm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),hP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiDialog"}),a=pl(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:h,BackdropProps:d,children:p,className:m,disableEscapeKeyDown:u=!1,fullScreen:g=!1,fullWidth:y=!1,maxWidth:S="sm",onClick:x,onClose:C,open:w,PaperComponent:_=hi,PaperProps:z={},scroll:P="paper",slots:b={},slotProps:E={},TransitionComponent:j=Pp,transitionDuration:F=i,TransitionProps:$,...N}=n,A={...n,disableEscapeKeyDown:u,fullScreen:g,fullWidth:y,maxWidth:S,scroll:P},R=uP(A),T=f.useRef(),v=Ne=>{T.current=Ne.target===Ne.currentTarget},k=Ne=>{x&&x(Ne),T.current&&(T.current=null,C&&C(Ne,"backdropClick"))},O=ml(l),D=f.useMemo(()=>({titleId:O}),[O]),L={transition:j,...b},W={transition:$,paper:z,backdrop:d,...E},H={slots:L,slotProps:W},[B,K]=kt("root",{elementType:mP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:A,className:Xe(R.root,m),ref:r}),[q,V]=kt("backdrop",{elementType:dP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:A}),[te,U]=kt("paper",{elementType:fP,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:A,className:Xe(R.paper,z.className)}),[M,G]=kt("container",{elementType:pP,externalForwardedProps:H,ownerState:A,className:R.container}),[X,fe]=kt("transition",{elementType:Pp,externalForwardedProps:H,ownerState:A,additionalProps:{appear:!0,in:w,timeout:F,role:"presentation"}});return t.jsx(B,{closeAfterTransition:!0,slots:{backdrop:q},slotProps:{backdrop:{transitionDuration:F,as:h,...V}},disableEscapeKeyDown:u,onClose:C,open:w,onClick:k,...K,...N,children:t.jsx(X,{...fe,children:t.jsx(M,{onMouseDown:v,...G,children:t.jsx(te,{as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":O,"aria-modal":c,...U,children:t.jsx(Ej.Provider,{value:D,children:p})})})})})});function gP(e){return gt("MuiDialogActions",e)}mt("MuiDialogActions",["root","spacing"]);const xP=e=>{const{classes:s,disableSpacing:r}=e;return xt({root:["root",!r&&"spacing"]},gP,s)},yP=Oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),bP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiDialogActions"}),{className:a,disableSpacing:i=!1,...o}=n,l={...n,disableSpacing:i},c=xP(l);return t.jsx(yP,{className:Xe(c.root,a),ownerState:l,ref:r,...o})});function vP(e){return gt("MuiDialogContent",e)}mt("MuiDialogContent",["root","dividers"]);function jP(e){return gt("MuiDialogTitle",e)}const NP=mt("MuiDialogTitle",["root"]),CP=e=>{const{classes:s,dividers:r}=e;return xt({root:["root",r&&"dividers"]},vP,s)},wP=Oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.dividers&&s.dividers]}})(St(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${NP.root} + &`]:{paddingTop:0}}}]}))),_P=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiDialogContent"}),{className:a,dividers:i=!1,...o}=n,l={...n,dividers:i},c=CP(l);return t.jsx(wP,{className:Xe(c.root,a),ownerState:l,ref:r,...o})}),SP=e=>{const{classes:s}=e;return xt({root:["root"]},jP,s)},AP=Oe(ms,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),kP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiDialogTitle"}),{className:a,id:i,...o}=n,l=n,c=SP(l),{titleId:h=i}=f.useContext(Ej);return t.jsx(AP,{component:"h2",className:Xe(c.root,a),ownerState:l,ref:r,variant:"h6",id:i??h,...o})}),PP=e=>{const{classes:s,disableUnderline:r,startAdornment:n,endAdornment:a,size:i,hiddenLabel:o,multiline:l}=e,c={root:["root",!r&&"underline",n&&"adornedStart",a&&"adornedEnd",i==="small"&&`size${Be(i)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},h=xt(c,k5,s);return{...s,...h}},EP=Oe(hu,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...pu(e,s),!r.disableUnderline&&s.underline]}})(St(({theme:e})=>{const s=e.palette.mode==="light",r=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${Gn.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${Gn.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gn.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gn.disabled}, .${Gn.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Gn.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zs()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),TP=Oe(gu,{name:"MuiFilledInput",slot:"Input",overridesResolver:fu})(St(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),fh=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:l=!1,hiddenLabel:c,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:m={},type:u="text",...g}=n,y={...n,disableUnderline:a,fullWidth:l,inputComponent:h,multiline:d,type:u},S=PP(n),x={root:{ownerState:y},input:{ownerState:y}},C=p??o?xs(x,p??o):x,w=m.root??i.Root??EP,_=m.input??i.Input??TP;return t.jsx(ph,{slots:{root:w,input:_},slotProps:C,fullWidth:l,inputComponent:h,multiline:d,ref:r,type:u,...g,classes:S})});fh.muiName="Input";function zP(e){return gt("MuiFormControl",e)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const RP=e=>{const{classes:s,margin:r,fullWidth:n}=e,a={root:["root",r!=="none"&&`margin${Be(r)}`,n&&"fullWidth"]};return xt(a,zP,s)},FP=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`margin${Be(r.margin)}`],r.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),DP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiFormControl"}),{children:a,className:i,color:o="primary",component:l="div",disabled:c=!1,error:h=!1,focused:d,fullWidth:p=!1,hiddenLabel:m=!1,margin:u="none",required:g=!1,size:y="medium",variant:S="outlined",...x}=n,C={...n,color:o,component:l,disabled:c,error:h,fullWidth:p,hiddenLabel:m,margin:u,required:g,size:y,variant:S},w=RP(C),[_,z]=f.useState(()=>{let T=!1;return a&&f.Children.forEach(a,v=>{if(!Zu(v,["Input","Select"]))return;const k=Zu(v,["Select"])?v.props.input:v;k&&C5(k.props)&&(T=!0)}),T}),[P,b]=f.useState(()=>{let T=!1;return a&&f.Children.forEach(a,v=>{Zu(v,["Input","Select"])&&(td(v.props,!0)||td(v.props.inputProps,!0))&&(T=!0)}),T}),[E,j]=f.useState(!1);c&&E&&j(!1);const F=d!==void 0&&!c?d:E;let $;f.useRef(!1);const N=f.useCallback(()=>{b(!0)},[]),A=f.useCallback(()=>{b(!1)},[]),R=f.useMemo(()=>({adornedStart:_,setAdornedStart:z,color:o,disabled:c,error:h,filled:P,focused:F,fullWidth:p,hiddenLabel:m,size:y,onBlur:()=>{j(!1)},onFocus:()=>{j(!0)},onEmpty:A,onFilled:N,registerEffect:$,required:g,variant:S}),[_,o,c,h,P,F,p,m,$,A,N,g,y,S]);return t.jsx(mu.Provider,{value:R,children:t.jsx(FP,{as:l,ownerState:C,className:Xe(w.root,i),ref:r,...x,children:a})})});function $P(e){return gt("MuiFormHelperText",e)}const s0=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var r0;const MP=e=>{const{classes:s,contained:r,size:n,disabled:a,error:i,filled:o,focused:l,required:c}=e,h={root:["root",a&&"disabled",i&&"error",n&&`size${Be(n)}`,r&&"contained",l&&"focused",o&&"filled",c&&"required"]};return xt(h,$P,s)},IP=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.size&&s[`size${Be(r.size)}`],r.contained&&s.contained,r.filled&&s.filled]}})(St(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${s0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${s0.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),LP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiFormHelperText"}),{children:a,className:i,component:o="p",disabled:l,error:c,filled:h,focused:d,margin:p,required:m,variant:u,...g}=n,y=Na(),S=ki({props:n,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...n,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete x.ownerState;const C=MP(x);return t.jsx(IP,{as:o,className:Xe(C.root,i),ref:r,...g,ownerState:x,children:a===" "?r0||(r0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function OP(e){return gt("MuiFormLabel",e)}const vo=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),UP=e=>{const{classes:s,color:r,focused:n,disabled:a,error:i,filled:o,required:l}=e,c={root:["root",`color${Be(r)}`,a&&"disabled",i&&"error",o&&"filled",n&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return xt(c,OP,s)},BP=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,r.color==="secondary"&&s.colorSecondary,r.filled&&s.filled]}})(St(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{color:s},style:{[`&.${vo.focused}`]:{color:(e.vars||e).palette[s].main}}})),{props:{},style:{[`&.${vo.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${vo.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),qP=Oe("span",{name:"MuiFormLabel",slot:"Asterisk"})(St(({theme:e})=>({[`&.${vo.error}`]:{color:(e.vars||e).palette.error.main}}))),WP=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiFormLabel"}),{children:a,className:i,color:o,component:l="label",disabled:c,error:h,filled:d,focused:p,required:m,...u}=n,g=Na(),y=ki({props:n,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),S={...n,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=UP(S);return t.jsxs(BP,{as:l,ownerState:S,className:Xe(x.root,i),ref:r,...u,children:[a,y.required&&t.jsxs(qP,{ownerState:S,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function Ep(e){return`scale(${e}, ${e**2})`}const VP={entering:{opacity:1,transform:Ep(1)},entered:{opacity:1,transform:"none"}},rm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tp=f.forwardRef(function(s,r){const{addEndListener:n,appear:a=!0,children:i,easing:o,in:l,onEnter:c,onEntered:h,onEntering:d,onExit:p,onExited:m,onExiting:u,style:g,timeout:y="auto",TransitionComponent:S=Kr,...x}=s,C=bj(),w=f.useRef(),_=pl(),z=f.useRef(null),P=qs(z,fl(i),r),b=T=>v=>{if(T){const k=z.current;v===void 0?T(k):T(k,v)}},E=b(d),j=b((T,v)=>{vj(T);const{duration:k,delay:O,easing:D}=Jc({style:g,timeout:y,easing:o},{mode:"enter"});let L;y==="auto"?(L=_.transitions.getAutoHeightDuration(T.clientHeight),w.current=L):L=k,T.style.transition=[_.transitions.create("opacity",{duration:L,delay:O}),_.transitions.create("transform",{duration:rm?L:L*.666,delay:O,easing:D})].join(","),c&&c(T,v)}),F=b(h),$=b(u),N=b(T=>{const{duration:v,delay:k,easing:O}=Jc({style:g,timeout:y,easing:o},{mode:"exit"});let D;y==="auto"?(D=_.transitions.getAutoHeightDuration(T.clientHeight),w.current=D):D=v,T.style.transition=[_.transitions.create("opacity",{duration:D,delay:k}),_.transitions.create("transform",{duration:rm?D:D*.666,delay:rm?k:k||D*.333,easing:O})].join(","),T.style.opacity=0,T.style.transform=Ep(.75),p&&p(T)}),A=b(m),R=T=>{y==="auto"&&C.start(w.current||0,T),n&&n(z.current,T)};return t.jsx(S,{appear:a,in:l,nodeRef:z,onEnter:j,onEntered:F,onEntering:E,onExit:N,onExited:A,onExiting:$,addEndListener:R,timeout:y==="auto"?null:y,...x,children:(T,{ownerState:v,...k})=>f.cloneElement(i,{style:{opacity:0,transform:Ep(.75),visibility:T==="exited"&&!l?"hidden":void 0,...VP[T],...g,...i.props.style},ref:P,...k})})});Tp&&(Tp.muiSupportAuto=!0);const HP=e=>{const{classes:s,disableUnderline:r}=e,a=xt({root:["root",!r&&"underline"],input:["input"]},S5,s);return{...s,...a}},GP=Oe(hu,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[...pu(e,s),!r.disableUnderline&&s.underline]}})(St(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qi.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qi.disabled}, .${qi.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${qi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zs()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),KP=Oe(gu,{name:"MuiInput",slot:"Input",overridesResolver:fu})({}),hh=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:l=!1,inputComponent:c="input",multiline:h=!1,slotProps:d,slots:p={},type:m="text",...u}=n,g=HP(n),S={root:{ownerState:{disableUnderline:a}}},x=d??o?xs(d??o,S):S,C=p.root??i.Root??GP,w=p.input??i.Input??KP;return t.jsx(ph,{slots:{root:C,input:w},slotProps:x,fullWidth:l,inputComponent:c,multiline:h,ref:r,type:m,...u,classes:g})});hh.muiName="Input";function QP(e){return gt("MuiInputAdornment",e)}const n0=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var a0;const YP=(e,s)=>{const{ownerState:r}=e;return[s.root,s[`position${Be(r.position)}`],r.disablePointerEvents===!0&&s.disablePointerEvents,s[r.variant]]},JP=e=>{const{classes:s,disablePointerEvents:r,hiddenLabel:n,position:a,size:i,variant:o}=e,l={root:["root",r&&"disablePointerEvents",a&&`position${Be(a)}`,o,n&&"hiddenLabel",i&&`size${Be(i)}`]};return xt(l,QP,s)},XP=Oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:YP})(St(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${n0.positionStart}&:not(.${n0.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),i0=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiInputAdornment"}),{children:a,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:h,variant:d,...p}=n,m=Na()||{};let u=d;d&&m.variant,m&&!u&&(u=m.variant);const g={...n,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:l,position:h,variant:u},y=JP(g);return t.jsx(mu.Provider,{value:null,children:t.jsx(XP,{as:o,ownerState:g,className:Xe(y.root,i),ref:r,...p,children:typeof a=="string"&&!c?t.jsx(ms,{color:"textSecondary",children:a}):t.jsxs(f.Fragment,{children:[h==="start"?a0||(a0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,a]})})})});function ZP(e){return gt("MuiInputLabel",e)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const e3=e=>{const{classes:s,formControl:r,size:n,shrink:a,disableAnimation:i,variant:o,required:l}=e,c={root:["root",r&&"formControl",!i&&"animated",a&&"shrink",n&&n!=="medium"&&`size${Be(n)}`,o],asterisk:[l&&"asterisk"]},h=xt(c,ZP,s);return{...s,...h}},t3=Oe(WP,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${vo.asterisk}`]:s.asterisk},s.root,r.formControl&&s.formControl,r.size==="small"&&s.sizeSmall,r.shrink&&s.shrink,!r.disableAnimation&&s.animated,r.focused&&s.focused,s[r.variant]]}})(St(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:r,size:n})=>s==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:r})=>s==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),s3=f.forwardRef(function(s,r){const n=vt({name:"MuiInputLabel",props:s}),{disableAnimation:a=!1,margin:i,shrink:o,variant:l,className:c,...h}=n,d=Na();let p=o;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const m=ki({props:n,muiFormControl:d,states:["size","variant","required","focused"]}),u={...n,disableAnimation:a,formControl:d,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused},g=e3(u);return t.jsx(t3,{"data-shrink":p,ref:r,className:Xe(g.root,c),...h,ownerState:u,classes:g})});function r3(e){return gt("MuiLink",e)}const n3=mt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),a3=({theme:e,ownerState:s})=>{const r=s.color;if("colorSpace"in e&&e.colorSpace){const i=Lr(e,`palette.${r}.main`)||Lr(e,`palette.${r}`)||s.color;return e.alpha(i,.4)}const n=Lr(e,`palette.${r}.main`,!1)||Lr(e,`palette.${r}`,!1)||s.color,a=Lr(e,`palette.${r}.mainChannel`)||Lr(e,`palette.${r}Channel`);return"vars"in e&&a?`rgba(${a} / 0.4)`:Qo(n,.4)},o0={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},i3=e=>{const{classes:s,component:r,focusVisible:n,underline:a}=e,i={root:["root",`underline${Be(a)}`,r==="button"&&"button",n&&"focusVisible"]};return xt(i,r3,s)},o3=Oe(ms,{name:"MuiLink",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[`underline${Be(r.underline)}`],r.component==="button"&&s.button]}})(St(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:s,ownerState:r})=>s==="always"&&r.color==="inherit",style:e.colorSpace?{textDecorationColor:e.alpha("currentColor",.4)}:null},...Object.entries(e.palette).filter(Zs()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.alpha((e.vars||e).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${n3.focusVisible}`]:{outline:"auto"}}}]}))),mc=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiLink"}),a=pl(),{className:i,color:o="primary",component:l="a",onBlur:c,onFocus:h,TypographyClasses:d,underline:p="always",variant:m="inherit",sx:u,...g}=n,[y,S]=f.useState(!1),x=z=>{Zc(z.target)||S(!1),c&&c(z)},C=z=>{Zc(z.target)&&S(!0),h&&h(z)},w={...n,color:o,component:l,focusVisible:y,underline:p,variant:m},_=i3(w);return t.jsx(o3,{color:o,className:Xe(_.root,i),classes:d,component:l,onBlur:x,onFocus:C,ref:r,ownerState:w,variant:m,...g,sx:[...o0[o]===void 0?[{color:o}]:[],...Array.isArray(u)?u:[u]],style:{...g.style,...p==="always"&&o!=="inherit"&&!o0[o]&&{"--Link-underlineColor":a3({theme:a,ownerState:w})}}})}),l3=f.createContext({});function c3(e){return gt("MuiList",e)}mt("MuiList",["root","padding","dense","subheader"]);const d3=e=>{const{classes:s,disablePadding:r,dense:n,subheader:a}=e;return xt({root:["root",!r&&"padding",n&&"dense",a&&"subheader"]},c3,s)},u3=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,!r.disablePadding&&s.padding,r.dense&&s.dense,r.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),m3=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiList"}),{children:a,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:h,...d}=n,p=f.useMemo(()=>({dense:l}),[l]),m={...n,component:o,dense:l,disablePadding:c},u=d3(m);return t.jsx(l3.Provider,{value:p,children:t.jsxs(u3,{as:o,className:Xe(u.root,i),ref:r,ownerState:m,...d,children:[h,a]})})});function nm(e,s,r){return e===s?e.firstChild:s&&s.nextElementSibling?s.nextElementSibling:r?null:e.firstChild}function l0(e,s,r){return e===s?r?e.firstChild:e.lastChild:s&&s.previousElementSibling?s.previousElementSibling:r?null:e.lastChild}function Tj(e,s){if(s===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:s.repeating?r[0]===s.keys[0]:r.startsWith(s.keys.join(""))}function Wi(e,s,r,n,a,i){let o=!1,l=a(e,s,s?r:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const c=n?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Tj(l,i)||c)l=a(e,l,r);else return l.focus(),!0}return!1}const p3=f.forwardRef(function(s,r){const{actions:n,autoFocus:a=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:h=!1,onKeyDown:d,variant:p="selectedMenu",...m}=s,u=f.useRef(null),g=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ba(()=>{a&&u.current.focus()},[a]),f.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(w,{direction:_})=>{const z=!u.current.style.width;if(w.clientHeight<u.current.clientHeight&&z){const P=`${kj(pn(w))}px`;u.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=P,u.current.style.width=`calc(100% + ${P})`}return u.current}}),[]);const y=w=>{const _=u.current,z=w.key;if(w.ctrlKey||w.metaKey||w.altKey){d&&d(w);return}const b=no(kr(_));if(z==="ArrowDown")w.preventDefault(),Wi(_,b,h,c,nm);else if(z==="ArrowUp")w.preventDefault(),Wi(_,b,h,c,l0);else if(z==="Home")w.preventDefault(),Wi(_,null,h,c,nm);else if(z==="End")w.preventDefault(),Wi(_,null,h,c,l0);else if(z.length===1){const E=g.current,j=z.toLowerCase(),F=performance.now();E.keys.length>0&&(F-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&j!==E.keys[0]&&(E.repeating=!1)),E.lastTime=F,E.keys.push(j);const $=b&&!E.repeating&&Tj(b,E);E.previousKeyMatched&&($||Wi(_,b,!1,c,nm,E))?w.preventDefault():E.previousKeyMatched=!1}d&&d(w)},S=qs(u,r);let x=-1;f.Children.forEach(o,(w,_)=>{if(!f.isValidElement(w)){x===_&&(x+=1,x>=o.length&&(x=-1));return}w.props.disabled||(p==="selectedMenu"&&w.props.selected||x===-1)&&(x=_),x===_&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=f.Children.map(o,(w,_)=>{if(_===x){const z={};return i&&(z.autoFocus=!0),w.props.tabIndex===void 0&&p==="selectedMenu"&&(z.tabIndex=0),f.cloneElement(w,z)}return w});return t.jsx(m3,{role:"menu",ref:S,className:l,onKeyDown:y,tabIndex:a?0:-1,...m,children:C})});function f3(e){return gt("MuiPopover",e)}mt("MuiPopover",["root","paper"]);function c0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.height/2:s==="bottom"&&(r=e.height),r}function d0(e,s){let r=0;return typeof s=="number"?r=s:s==="center"?r=e.width/2:s==="right"&&(r=e.width),r}function u0(e){return[e.horizontal,e.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function Ol(e){return typeof e=="function"?e():e}const h3=e=>{const{classes:s}=e;return xt({root:["root"],paper:["paper"]},f3,s)},g3=Oe(Pj,{name:"MuiPopover",slot:"Root"})({}),zj=Oe(hi,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),x3=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:h,className:d,container:p,elevation:m=8,marginThreshold:u=16,open:g,PaperProps:y={},slots:S={},slotProps:x={},transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:_="auto",TransitionProps:z={},disableScrollLock:P=!1,...b}=n,E=f.useRef(),j={...n,anchorOrigin:o,anchorReference:c,elevation:m,marginThreshold:u,transformOrigin:C,TransitionComponent:w,transitionDuration:_,TransitionProps:z},F=h3(j),$=f.useCallback(()=>{if(c==="anchorPosition")return l;const G=Ol(i),fe=(G&&G.nodeType===1?G:kr(E.current).body).getBoundingClientRect();return{top:fe.top+c0(fe,o.vertical),left:fe.left+d0(fe,o.horizontal)}},[i,o.horizontal,o.vertical,l,c]),N=f.useCallback(G=>({vertical:c0(G,C.vertical),horizontal:d0(G,C.horizontal)}),[C.horizontal,C.vertical]),A=f.useCallback(G=>{const X={width:G.offsetWidth,height:G.offsetHeight},fe=N(X);if(c==="none")return{top:null,left:null,transformOrigin:u0(fe)};const Ne=$();let ge=Ne.top-fe.vertical,Pe=Ne.left-fe.horizontal;const Fe=ge+X.height,ie=Pe+X.width,Y=pn(Ol(i)),Z=Y.innerHeight-u,xe=Y.innerWidth-u;if(u!==null&&ge<u){const ye=ge-u;ge-=ye,fe.vertical+=ye}else if(u!==null&&Fe>Z){const ye=Fe-Z;ge-=ye,fe.vertical+=ye}if(u!==null&&Pe<u){const ye=Pe-u;Pe-=ye,fe.horizontal+=ye}else if(ie>xe){const ye=ie-xe;Pe-=ye,fe.horizontal+=ye}return{top:`${Math.round(ge)}px`,left:`${Math.round(Pe)}px`,transformOrigin:u0(fe)}},[i,c,$,N,u]),[R,T]=f.useState(g),v=f.useCallback(()=>{const G=E.current;if(!G)return;const X=A(G);X.top!==null&&G.style.setProperty("top",X.top),X.left!==null&&(G.style.left=X.left),G.style.transformOrigin=X.transformOrigin,T(!0)},[A]);f.useEffect(()=>(P&&window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)),[i,P,v]);const k=()=>{v()},O=()=>{T(!1)};f.useEffect(()=>{g&&v()}),f.useImperativeHandle(a,()=>g?{updatePosition:()=>{v()}}:null,[g,v]),f.useEffect(()=>{if(!g)return;const G=hj(()=>{v()}),X=pn(Ol(i));return X.addEventListener("resize",G),()=>{G.clear(),X.removeEventListener("resize",G)}},[i,g,v]);let D=_;const L={slots:{transition:w,...S},slotProps:{transition:z,paper:y,...x}},[W,H]=kt("transition",{elementType:Tp,externalForwardedProps:L,ownerState:j,getSlotProps:G=>({...G,onEntering:(X,fe)=>{var Ne;(Ne=G.onEntering)==null||Ne.call(G,X,fe),k()},onExited:X=>{var fe;(fe=G.onExited)==null||fe.call(G,X),O()}}),additionalProps:{appear:!0,in:g}});_==="auto"&&!W.muiSupportAuto&&(D=void 0);const B=p||(i?kr(Ol(i)).body:void 0),[K,{slots:q,slotProps:V,...te}]=kt("root",{ref:r,elementType:g3,externalForwardedProps:{...L,...b},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:f4(typeof x.backdrop=="function"?x.backdrop(j):x.backdrop,{invisible:!0})},container:B,open:g},ownerState:j,className:Xe(F.root,d)}),[U,M]=kt("paper",{ref:E,className:F.paper,elementType:zj,externalForwardedProps:L,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:R?void 0:{opacity:0}},ownerState:j});return t.jsx(K,{...te,...!Xc(K)&&{slots:q,slotProps:V,disableScrollLock:P},children:t.jsx(W,{...H,timeout:D,children:t.jsx(U,{...M,children:h})})})});function y3(e){return gt("MuiMenu",e)}mt("MuiMenu",["root","paper","list"]);const b3={vertical:"top",horizontal:"right"},v3={vertical:"top",horizontal:"left"},j3=e=>{const{classes:s}=e;return xt({root:["root"],paper:["paper"],list:["list"]},y3,s)},N3=Oe(x3,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),C3=Oe(zj,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),w3=Oe(p3,{name:"MuiMenu",slot:"List"})({outline:0}),_3=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:o,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:h,open:d,PaperProps:p={},PopoverClasses:m,transitionDuration:u="auto",TransitionProps:{onEntering:g,...y}={},variant:S="selectedMenu",slots:x={},slotProps:C={},...w}=n,_=xk(),z={...n,autoFocus:a,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:p,transitionDuration:u,TransitionProps:y,variant:S},P=j3(z),b=a&&!l&&d,E=f.useRef(null),j=(D,L)=>{E.current&&E.current.adjustStyleForScrollbar(D,{direction:_?"rtl":"ltr"}),g&&g(D,L)},F=D=>{D.key==="Tab"&&(D.preventDefault(),h&&h(D,"tabKeyDown"))};let $=-1;f.Children.map(i,(D,L)=>{f.isValidElement(D)&&(D.props.disabled||(S==="selectedMenu"&&D.props.selected||$===-1)&&($=L))});const N={slots:x,slotProps:{list:c,transition:y,paper:p,...C}},A=x5({elementType:x.root,externalSlotProps:C.root,ownerState:z,className:[P.root,o]}),[R,T]=kt("paper",{className:P.paper,elementType:C3,externalForwardedProps:N,shouldForwardComponentProp:!0,ownerState:z}),[v,k]=kt("list",{className:Xe(P.list,c.className),elementType:w3,shouldForwardComponentProp:!0,externalForwardedProps:N,getSlotProps:D=>({...D,onKeyDown:L=>{var W;F(L),(W=D.onKeyDown)==null||W.call(D,L)}}),ownerState:z}),O=typeof N.slotProps.transition=="function"?N.slotProps.transition(z):N.slotProps.transition;return t.jsx(N3,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?b3:v3,slots:{root:x.root,paper:R,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:A,paper:T,backdrop:typeof C.backdrop=="function"?C.backdrop(z):C.backdrop,transition:{...O,onEntering:(...D)=>{var L;j(...D),(L=O==null?void 0:O.onEntering)==null||L.call(O,...D)}}},open:d,ref:r,transitionDuration:u,ownerState:z,...w,classes:m,children:t.jsx(v,{actions:E,autoFocus:a&&($===-1||l),autoFocusItem:b,variant:S,...k,children:i})})});function S3(e){return gt("MuiNativeSelect",e)}const gh=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),A3=e=>{const{classes:s,variant:r,disabled:n,multiple:a,open:i,error:o}=e,l={select:["select",r,n&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${Be(r)}`,i&&"iconOpen",n&&"disabled"]};return xt(l,S3,s)},Rj=Oe("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${gh.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),k3=Oe(Rj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Tr,overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.select,s[r.variant],r.error&&s.error,{[`&.${gh.multiple}`]:s.multiple}]}})({}),Fj=Oe("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${gh.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),P3=Oe(Fj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${Be(r.variant)}`],r.open&&s.iconOpen]}})({}),E3=f.forwardRef(function(s,r){const{className:n,disabled:a,error:i,IconComponent:o,inputRef:l,variant:c="standard",...h}=s,d={...s,disabled:a,variant:c,error:i},p=A3(d);return t.jsxs(f.Fragment,{children:[t.jsx(k3,{ownerState:d,className:Xe(p.select,n),disabled:a,ref:l||r,...h}),s.multiple?null:t.jsx(P3,{as:o,ownerState:d,className:p.icon})]})});var m0;const T3=Oe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Tr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),z3=Oe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Tr})(St(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function R3(e){const{children:s,classes:r,className:n,label:a,notched:i,...o}=e,l=a!=null&&a!=="",c={...e,notched:i,withLabel:l};return t.jsx(T3,{"aria-hidden":!0,className:n,ownerState:c,...o,children:t.jsx(z3,{ownerState:c,children:l?t.jsx("span",{children:a}):m0||(m0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const F3=e=>{const{classes:s}=e,n=xt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},A5,s);return{...s,...n}},D3=Oe(hu,{shouldForwardProp:e=>Tr(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pu})(St(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dr.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}},[`&.${Dr.focused} .${Dr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Zs()).map(([r])=>({props:{color:r},style:{[`&.${Dr.focused} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Dr.error} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Dr.disabled} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),$3=Oe(R3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(St(({theme:e})=>{const s=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):s}})),M3=Oe(gu,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:fu})(St(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),xh=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiOutlinedInput"}),{components:a={},fullWidth:i=!1,inputComponent:o="input",label:l,multiline:c=!1,notched:h,slots:d={},slotProps:p={},type:m="text",...u}=n,g=F3(n),y=Na(),S=ki({props:n,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...n,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:y,fullWidth:i,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:m},C=d.root??a.Root??D3,w=d.input??a.Input??M3,[_,z]=kt("notchedOutline",{elementType:$3,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:d,slotProps:p},additionalProps:{label:l!=null&&l!==""&&S.required?t.jsxs(f.Fragment,{children:[l,"","*"]}):l}});return t.jsx(ph,{slots:{root:C,input:w},slotProps:p,renderSuffix:P=>t.jsx(_,{...z,notched:typeof h<"u"?h:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:r,type:m,...u,classes:{...g,notchedOutline:null}})});xh.muiName="Input";function Dj(e){return gt("MuiSelect",e)}const Vi=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var p0;const I3=Oe(Rj,{name:"MuiSelect",slot:"Select",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`&.${Vi.select}`]:s.select},{[`&.${Vi.select}`]:s[r.variant]},{[`&.${Vi.error}`]:s.error},{[`&.${Vi.multiple}`]:s.multiple}]}})({[`&.${Vi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),L3=Oe(Fj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.icon,r.variant&&s[`icon${Be(r.variant)}`],r.open&&s.iconOpen]}})({}),O3=Oe("input",{shouldForwardProp:e=>fj(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function f0(e,s){return typeof s=="object"&&s!==null?e===s:String(e)===String(s)}function U3(e){return e==null||typeof e=="string"&&!e.trim()}const B3=e=>{const{classes:s,variant:r,disabled:n,multiple:a,open:i,error:o}=e,l={select:["select",r,n&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${Be(r)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return xt(l,Dj,s)},q3=f.forwardRef(function(s,r){var pe,we,ke,je;const{"aria-describedby":n,"aria-label":a,autoFocus:i,autoWidth:o,children:l,className:c,defaultOpen:h,defaultValue:d,disabled:p,displayEmpty:m,error:u=!1,IconComponent:g,inputRef:y,labelId:S,MenuProps:x={},multiple:C,name:w,onBlur:_,onChange:z,onClose:P,onFocus:b,onKeyDown:E,onMouseDown:j,onOpen:F,open:$,readOnly:N,renderValue:A,required:R,SelectDisplayProps:T={},tabIndex:v,type:k,value:O,variant:D="standard",...L}=s,[W,H]=Lx({controlled:O,default:d,name:"Select"}),[B,K]=Lx({controlled:$,default:h,name:"Select"}),q=f.useRef(null),V=f.useRef(null),[te,U]=f.useState(null),{current:M}=f.useRef($!=null),[G,X]=f.useState(),fe=qs(r,y),Ne=f.useCallback(ee=>{V.current=ee,ee&&U(ee)},[]),ge=te==null?void 0:te.parentNode;f.useImperativeHandle(fe,()=>({focus:()=>{V.current.focus()},node:q.current,value:W}),[W]),f.useEffect(()=>{h&&B&&te&&!M&&(X(o?null:ge.clientWidth),V.current.focus())},[te,o]),f.useEffect(()=>{i&&V.current.focus()},[i]),f.useEffect(()=>{if(!S)return;const ee=kr(V.current).getElementById(S);if(ee){const de=()=>{getSelection().isCollapsed&&V.current.focus()};return ee.addEventListener("click",de),()=>{ee.removeEventListener("click",de)}}},[S]);const Pe=(ee,de)=>{ee?F&&F(de):P&&P(de),M||(X(o?null:ge.clientWidth),K(ee))},Fe=ee=>{j==null||j(ee),ee.button===0&&(ee.preventDefault(),V.current.focus(),Pe(!0,ee))},ie=ee=>{Pe(!1,ee)},Y=f.Children.toArray(l),Z=ee=>{const de=Y.find(Ce=>Ce.props.value===ee.target.value);de!==void 0&&(H(de.props.value),z&&z(ee,de))},xe=ee=>de=>{let Ce;if(de.currentTarget.hasAttribute("tabindex")){if(C){Ce=Array.isArray(W)?W.slice():[];const Te=W.indexOf(ee.props.value);Te===-1?Ce.push(ee.props.value):Ce.splice(Te,1)}else Ce=ee.props.value;if(ee.props.onClick&&ee.props.onClick(de),W!==Ce&&(H(Ce),z)){const Te=de.nativeEvent||de,ze=new Te.constructor(Te.type,Te);Object.defineProperty(ze,"target",{writable:!0,value:{value:Ce,name:w}}),z(ze,ee)}C||Pe(!1,de)}},ye=ee=>{N||([" ","ArrowUp","ArrowDown","Enter"].includes(ee.key)&&(ee.preventDefault(),Pe(!0,ee)),E==null||E(ee))},Q=te!==null&&B,se=ee=>{!Q&&_&&(Object.defineProperty(ee,"target",{writable:!0,value:{value:W,name:w}}),_(ee))};delete L["aria-invalid"];let ce,Ae;const ae=[];let _e=!1;(td({value:W})||m)&&(A?ce=A(W):_e=!0);const Ee=Y.map(ee=>{if(!f.isValidElement(ee))return null;let de;if(C){if(!Array.isArray(W))throw new Error(un(2));de=W.some(Ce=>f0(Ce,ee.props.value)),de&&_e&&ae.push(ee.props.children)}else de=f0(W,ee.props.value),de&&_e&&(Ae=ee.props.children);return f.cloneElement(ee,{"aria-selected":de?"true":"false",onClick:xe(ee),onKeyUp:Ce=>{Ce.key===" "&&Ce.preventDefault(),ee.props.onKeyUp&&ee.props.onKeyUp(Ce)},role:"option",selected:de,value:void 0,"data-value":ee.props.value})});_e&&(C?ae.length===0?ce=null:ce=ae.reduce((ee,de,Ce)=>(ee.push(de),Ce<ae.length-1&&ee.push(", "),ee),[]):ce=Ae);let ne=G;!o&&M&&te&&(ne=ge.clientWidth);let oe;typeof v<"u"?oe=v:oe=p?null:0;const re=T.id||(w?`mui-component-select-${w}`:void 0),I={...s,variant:D,value:W,open:Q,error:u},J=B3(I),ue={...x.PaperProps,...typeof((pe=x.slotProps)==null?void 0:pe.paper)=="function"?x.slotProps.paper(I):(we=x.slotProps)==null?void 0:we.paper},me={...x.MenuListProps,...typeof((ke=x.slotProps)==null?void 0:ke.list)=="function"?x.slotProps.list(I):(je=x.slotProps)==null?void 0:je.list},be=ml();return t.jsxs(f.Fragment,{children:[t.jsx(I3,{as:"div",ref:Ne,tabIndex:oe,role:"combobox","aria-controls":Q?be:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[S,re].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":R?"true":void 0,"aria-invalid":u?"true":void 0,onKeyDown:ye,onMouseDown:p||N?null:Fe,onBlur:se,onFocus:b,...T,ownerState:I,className:Xe(T.className,J.select,c),id:re,children:U3(ce)?p0||(p0=t.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ce}),t.jsx(O3,{"aria-invalid":u,value:Array.isArray(W)?W.join(","):W,name:w,ref:q,"aria-hidden":!0,onChange:Z,tabIndex:-1,disabled:p,className:J.nativeInput,autoFocus:i,required:R,...L,ownerState:I}),t.jsx(L3,{as:g,className:J.icon,ownerState:I}),t.jsx(_3,{id:`menu-${w||""}`,anchorEl:ge,open:Q,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:be,...me},paper:{...ue,style:{minWidth:ne,...ue!=null?ue.style:null}}},children:Ee})]})}),W3=e=>{const{classes:s}=e,n=xt({root:["root"]},Dj,s);return{...s,...n}},yh={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Tr(e)&&e!=="variant"},V3=Oe(hh,yh)(""),H3=Oe(xh,yh)(""),G3=Oe(fh,yh)(""),$j=f.forwardRef(function(s,r){const n=vt({name:"MuiSelect",props:s}),{autoWidth:a=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:h=!1,IconComponent:d=P5,id:p,input:m,inputProps:u,label:g,labelId:y,MenuProps:S,multiple:x=!1,native:C=!1,onClose:w,onOpen:_,open:z,renderValue:P,SelectDisplayProps:b,variant:E="outlined",...j}=n,F=C?E3:q3,$=Na(),N=ki({props:n,muiFormControl:$,states:["variant","error"]}),A=N.variant||E,R={...n,variant:A,classes:o},T=W3(R),{root:v,...k}=T,O=m||{standard:t.jsx(V3,{ownerState:R}),outlined:t.jsx(H3,{label:g,ownerState:R}),filled:t.jsx(G3,{ownerState:R})}[A],D=qs(r,fl(O));return t.jsx(f.Fragment,{children:f.cloneElement(O,{inputComponent:F,inputProps:{children:i,error:N.error,IconComponent:d,variant:A,type:void 0,multiple:x,...C?{id:p}:{autoWidth:a,defaultOpen:c,displayEmpty:h,labelId:y,MenuProps:S,onClose:w,onOpen:_,open:z,renderValue:P,SelectDisplayProps:{id:p,...b}},...u,classes:u?xs(k,u.classes):k,...m?m.props.inputProps:{}},...(x&&C||h)&&A==="outlined"?{notched:!0}:{},ref:D,className:Xe(O.props.className,l,T.root),...!m&&{variant:A},...j})})});$j.muiName="Select";function K3(e){return gt("MuiTextField",e)}mt("MuiTextField",["root"]);const Q3={standard:hh,filled:fh,outlined:xh},Y3=e=>{const{classes:s}=e;return xt({root:["root"]},K3,s)},J3=Oe(DP,{name:"MuiTextField",slot:"Root"})({}),X3=f.forwardRef(function(s,r){const n=vt({props:s,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:h,disabled:d=!1,error:p=!1,FormHelperTextProps:m,fullWidth:u=!1,helperText:g,id:y,InputLabelProps:S,inputProps:x,InputProps:C,inputRef:w,label:_,maxRows:z,minRows:P,multiline:b=!1,name:E,onBlur:j,onChange:F,onFocus:$,placeholder:N,required:A=!1,rows:R,select:T=!1,SelectProps:v,slots:k={},slotProps:O={},type:D,value:L,variant:W="outlined",...H}=n,B={...n,autoFocus:i,color:c,disabled:d,error:p,fullWidth:u,multiline:b,required:A,select:T,variant:W},K=Y3(B),q=ml(y),V=g&&q?`${q}-helper-text`:void 0,te=_&&q?`${q}-label`:void 0,U=Q3[W],M={slots:k,slotProps:{input:C,inputLabel:S,htmlInput:x,formHelperText:m,select:v,...O}},G={},X=M.slotProps.inputLabel;W==="outlined"&&(X&&typeof X.shrink<"u"&&(G.notched=X.shrink),G.label=_),T&&((!v||!v.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const[fe,Ne]=kt("root",{elementType:J3,shouldForwardComponentProp:!0,externalForwardedProps:{...M,...H},ownerState:B,className:Xe(K.root,l),ref:r,additionalProps:{disabled:d,error:p,fullWidth:u,required:A,color:c,variant:W}}),[ge,Pe]=kt("input",{elementType:U,externalForwardedProps:M,additionalProps:G,ownerState:B}),[Fe,ie]=kt("inputLabel",{elementType:s3,externalForwardedProps:M,ownerState:B}),[Y,Z]=kt("htmlInput",{elementType:"input",externalForwardedProps:M,ownerState:B}),[xe,ye]=kt("formHelperText",{elementType:LP,externalForwardedProps:M,ownerState:B}),[Q,se]=kt("select",{elementType:$j,externalForwardedProps:M,ownerState:B}),ce=t.jsx(ge,{"aria-describedby":V,autoComplete:a,autoFocus:i,defaultValue:h,fullWidth:u,multiline:b,name:E,rows:R,maxRows:z,minRows:P,type:D,value:L,id:q,inputRef:w,onBlur:j,onChange:F,onFocus:$,placeholder:N,inputProps:Z,slots:{input:k.htmlInput?Y:void 0},...Pe});return t.jsxs(fe,{...Ne,children:[_!=null&&_!==""&&t.jsx(Fe,{htmlFor:q,id:te,...ie,children:_}),T?t.jsx(Q,{"aria-describedby":V,id:q,labelId:te,value:L,input:ce,...se,children:o}):ce,g&&t.jsx(xe,{id:V,...ye,children:g})]})}),Z3=Ws(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),zp=Ws(t.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),jo=Ws(t.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),eE=Ws(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),tE=Ws(t.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),sE=Ws(t.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),No=Ws(t.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Co=Ws(t.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),tn=({placeholder:e,name:s,type:r="text",value:n,onChange:a,required:i=!1,startIcon:o,endIcon:l,error:c,helperText:h,InputProps:d,...p})=>{const m=f.useRef(null);f.useEffect(()=>{var _;if(r==="password"&&m.current){const z=()=>{var R,T;const A=(R=m.current)==null?void 0:R.querySelector('input[type="password"]');if(A){const v=A.closest(".MuiOutlinedInput-root");v&&([...v.querySelectorAll("button"),...((T=v.parentElement)==null?void 0:T.querySelectorAll("button"))||[]].forEach(D=>{if(!(D.closest(".MuiInputAdornment-root")!==null)){D.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important; position: absolute !important; left: -9999px !important;";try{D.remove()}catch{}}}),v.querySelectorAll("*").forEach(D=>{if((D.tagName==="BUTTON"||D.getAttribute("role")==="button"||D.tagName==="SPAN")&&!(D.closest(".MuiInputAdornment-root")!==null)){const W=D.getBoundingClientRect(),H=A.getBoundingClientRect();if(W.width<50&&W.height<50&&Math.abs(W.right-H.right)<50||D.className&&(D.className.indexOf("reveal")!==-1||D.className.indexOf("password")!==-1)){D.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important; position: absolute !important; left: -9999px !important;";try{D.remove()}catch{if(D.parentNode)try{D.parentNode.removeChild(D)}catch{}}}}}),A.parentElement&&Array.from(A.parentElement.children).forEach(L=>{if(L!==A&&L!==v&&!(L.closest(".MuiInputAdornment-root")!==null)){const H=L.getBoundingClientRect(),B=A.getBoundingClientRect();if(H.width<30&&H.height<30&&Math.abs(H.right-B.right)<40&&Math.abs(H.top-B.top)<20){L.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; pointer-events: none !important; width: 0 !important; height: 0 !important;";try{L.remove()}catch{if(L.parentNode)try{L.parentNode.removeChild(L)}catch{}}}}}))}},P="hide-browser-password-button";let b=document.getElementById(P);b||(b=document.createElement("style"),b.id=P,b.textContent=`
          input[type="password"]::-webkit-credentials-auto-fill-button,
          input[type="password"]::-webkit-strong-password-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-credentials-auto-fill-button,
          .custom-input-field input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            appearance: none !important;
            -webkit-appearance: none !important;
          }
          /* Internet Explorer specific */
          input[type="password"]::-ms-reveal,
          .custom-input-field input[type="password"]::-ms-reveal,
          .custom-input-field .MuiOutlinedInput-input[type="password"]::-ms-reveal {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
          }
        `,document.head.appendChild(b)),z();const E=[];for(let A=0;A<20;A++)E.push(setTimeout(z,A*50));const j=(_=m.current)==null?void 0:_.querySelector('input[type="password"]'),F=j==null?void 0:j.closest(".MuiOutlinedInput-root");let $=null;F&&typeof MutationObserver<"u"&&($=new MutationObserver(()=>{z()}),$.observe(F,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}));const N=setInterval(z,100);if(j){const A=["input","focus","click","keydown","keyup","paste","change","blur","mousedown","mouseup"];return A.forEach(R=>{j.addEventListener(R,z,{capture:!0,passive:!0}),F==null||F.addEventListener(R,z,{capture:!0,passive:!0})}),()=>{E.forEach(R=>clearTimeout(R)),clearInterval(N),$&&$.disconnect(),A.forEach(R=>{j.removeEventListener(R,z,{capture:!0}),F==null||F.removeEventListener(R,z,{capture:!0})})}}return()=>{E.forEach(A=>clearTimeout(A)),clearInterval(N),$&&$.disconnect()}}},[r,n,l]);let u=null;o?u=t.jsx(i0,{position:"start",className:"custom-input-icon",children:o}):d!=null&&d.startAdornment&&(u=d.startAdornment);let g=null;l?g=t.jsx(i0,{position:"end",children:l}):d!=null&&d.endAdornment&&(g=d.endAdornment);const y={...d,startAdornment:u,endAdornment:g},{InputProps:S,inputProps:x,...C}=p,w={autoComplete:r==="password"?"new-password":"off",...x};return t.jsx("div",{ref:m,className:"custom-input-wrapper",children:t.jsx(X3,{className:"custom-input-field",placeholder:e,name:s,type:r,value:n,onChange:a,required:i,error:c,helperText:h,fullWidth:!0,variant:"outlined",InputProps:y,inputProps:w,...C})})},rE=({open:e,onClose:s})=>{const[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,h]=f.useState(""),{forgotPassword:d}=hr(),p=async u=>{u.preventDefault(),i(!0),h("");try{const g=await d(r);g.success?l(!0):h(g.error||"Failed to send reset email. Please try again.")}catch{h("Failed to send reset email. Please try again.")}finally{i(!1)}},m=()=>{n(""),l(!1),h(""),s()};return t.jsxs(hP,{open:e,onClose:m,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",padding:"8px"}},children:[t.jsx(kP,{sx:{fontWeight:600,textAlign:"center"},children:"Reset Password"}),t.jsx(_P,{children:o?t.jsx(yo,{severity:"success",sx:{mt:1},children:"Password reset link has been sent to your email address."}):t.jsxs(t.Fragment,{children:[t.jsx(ms,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:p,children:[t.jsx(tn,{placeholder:"Email",name:"email",type:"email",value:r,onChange:u=>n(u.target.value),required:!0,startIcon:t.jsx(zp,{})}),c&&t.jsx(yo,{severity:"error",sx:{mt:1,mb:2},children:c})]})]})}),t.jsxs(bP,{sx:{padding:"16px 24px",gap:1},children:[t.jsx(Xx,{onClick:m,color:"inherit",children:o?"Close":"Cancel"}),!o&&t.jsx(Xx,{onClick:p,variant:"contained",disabled:a||!r,sx:{backgroundColor:"var(--primary-color, #1a2c49)","&:hover":{backgroundColor:"var(--secondary-color, #2c4a5f)"}},children:a?t.jsx(gi,{size:20,color:"inherit"}):"Send Reset Link"})]})]})},sd="/assets/logo-circle-GKaFD2GP.png";function h0(){const e=Pr(),s=Wn(),{login:r,register:n,isAuthenticated:a,loading:i}=hr(),o=s.pathname==="/register",[l,c]=f.useState(o);f.useEffect(()=>{c(s.pathname==="/register")},[s.pathname]),f.useEffect(()=>{!i&&a&&s.pathname!=="/dashboard"&&e("/dashboard",{replace:!0})},[a,i,e,s.pathname]);const[h,d]=f.useState({email:"",password:""}),[p,m]=f.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"training_center_admin"}),[u,g]=f.useState(!1),[y,S]=f.useState(!1),[x,C]=f.useState(""),[w,_]=f.useState(""),[z,P]=f.useState(!1),[b,E]=f.useState(!1),[j,F]=f.useState(!1),$=()=>g(!u),N=()=>S(!y),A=O=>{d({...h,[O.target.name]:O.target.value}),C("")},R=O=>{m({...p,[O.target.name]:O.target.value}),_("")},T=async O=>{O.preventDefault(),C(""),P(!0);try{const D=await r(h.email,h.password);D.success?D.userStatus==="pending"||D.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):C(D.error||"Invalid email or password.")}catch(D){console.error("Login error:",D),C("An error occurred. Please try again.")}finally{P(!1)}},v=async O=>{if(O.preventDefault(),_(""),p.password!==p.confirmPassword){_("Passwords do not match.");return}if(p.password.length<8){_("Password must be at least 8 characters long.");return}E(!0);try{const D=await n(p.fullName,p.email,p.password,p.confirmPassword,p.role);D.success?D.userStatus==="pending"||D.userStatus==="inactive"?e("/pending-account",{replace:!0}):e("/dashboard",{replace:!0}):_(D.error||"Registration failed. Please try again.")}catch(D){console.error("Registration error:",D),_("An error occurred. Please try again.")}finally{E(!1)}},k=O=>{c(O),e(O?"/register":"/login",{replace:!0})};return t.jsxs("div",{className:"auth-page",children:[t.jsxs("div",{className:`auth-container container ${l?"right-panel-active":""}`,id:"container",children:[t.jsx("div",{className:"form-container sign-up-container",children:t.jsxs("form",{onSubmit:v,children:[t.jsx(ms,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Register"}),t.jsx(tn,{placeholder:"Name",name:"fullName",value:p.fullName,onChange:R,required:!0,startIcon:t.jsx(eE,{})}),t.jsx(tn,{placeholder:"Email",name:"email",type:"email",value:p.email,onChange:R,required:!0,startIcon:t.jsx(zp,{})}),t.jsx(tn,{placeholder:"Password",name:"password",type:u?"text":"password",value:p.password,onChange:R,required:!0,startIcon:t.jsx(jo,{}),endIcon:t.jsx(ri,{onClick:$,edge:"end",size:"small",children:u?t.jsx(Co,{}):t.jsx(No,{})})}),t.jsx(tn,{placeholder:"Confirm Password",name:"confirmPassword",type:y?"text":"password",value:p.confirmPassword,onChange:R,required:!0,startIcon:t.jsx(jo,{}),endIcon:t.jsx(ri,{onClick:N,edge:"end",size:"small",children:y?t.jsx(Co,{}):t.jsx(No,{})})}),t.jsxs(Xr,{sx:{mb:2,display:"flex",flexDirection:"row",gap:1,width:"100%"},children:[t.jsx(Xr,{sx:{flex:1},children:t.jsx(hi,{onClick:()=>m({...p,role:"training_center_admin"}),elevation:p.role==="training_center_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="training_center_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Xr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Xr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="training_center_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(tE,{sx:{fontSize:22,color:p.role==="training_center_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Xr,{sx:{textAlign:"center"},children:t.jsx(ms,{variant:"caption",sx:{fontWeight:p.role==="training_center_admin"?600:500,fontSize:"0.75rem",color:p.role==="training_center_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Training Center"})})]})})}),t.jsx(Xr,{sx:{flex:1},children:t.jsx(hi,{onClick:()=>m({...p,role:"acc_admin"}),elevation:p.role==="acc_admin"?2:0,sx:{p:1.5,cursor:"pointer",border:"1.5px solid",borderColor:p.role==="acc_admin"?"var(--primary-color)":"divider",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.08)":"background.paper",borderRadius:"8px",transition:"all 0.2s ease-in-out",width:"100%","&:hover":{backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.12)":"action.hover",borderColor:"var(--primary-color)",boxShadow:1}},children:t.jsxs(Xr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:[t.jsx(Xr,{sx:{width:40,height:40,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:p.role==="acc_admin"?"rgba(26, 44, 73, 0.1)":"rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease"},children:t.jsx(sE,{sx:{fontSize:22,color:p.role==="acc_admin"?"var(--primary-color)":"text.secondary"}})}),t.jsx(Xr,{sx:{textAlign:"center"},children:t.jsx(ms,{variant:"caption",sx:{fontWeight:p.role==="acc_admin"?600:500,fontSize:"0.75rem",color:p.role==="acc_admin"?"var(--primary-color)":"text.primary",display:"block",lineHeight:1.2},children:"Accreditation"})})]})})})]}),w&&t.jsx(ms,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:w}),t.jsx("button",{type:"submit",disabled:b,children:b?t.jsx(gi,{size:20,color:"inherit"}):"Register"})]})}),t.jsx("div",{className:"form-container sign-in-container",children:t.jsxs("form",{onSubmit:T,children:[t.jsx(ms,{variant:"h4",fontWeight:"bold",sx:{mb:2},children:"Login"}),t.jsx(tn,{placeholder:"Email",name:"email",value:h.email,onChange:A,required:!0,startIcon:t.jsx(zp,{})}),t.jsx(tn,{placeholder:"Password",name:"password",type:u?"text":"password",value:h.password,onChange:A,required:!0,startIcon:t.jsx(jo,{}),endIcon:t.jsx(ri,{onClick:$,edge:"end",size:"small",children:u?t.jsx(Co,{}):t.jsx(No,{})})}),x&&t.jsx(ms,{color:"error",variant:"caption",sx:{mb:1,display:"block"},children:x}),t.jsx(mc,{href:"#",underline:"hover",sx:{mt:1,mb:2,cursor:"pointer"},onClick:O=>{O.preventDefault(),F(!0)},children:"Forgot your password?"}),t.jsx("button",{type:"submit",disabled:z,children:z?t.jsx(gi,{size:20,color:"inherit"}):"Login"})]})}),t.jsx("div",{className:"overlay-container",children:t.jsxs("div",{className:"overlay",children:[t.jsxs("div",{className:"overlay-panel overlay-left",children:[t.jsx("img",{src:sd,alt:"Logo",className:"overlay-logo"}),t.jsx(ms,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Welcome Back!"}),t.jsx("p",{children:"To keep connected with us please login with your personal info as Training Center Admin"}),t.jsx("button",{className:"ghost",id:"signIn",onClick:()=>k(!1),children:"Login"})]}),t.jsxs("div",{className:"overlay-panel overlay-right",children:[t.jsx("img",{src:sd,alt:"Logo",className:"overlay-logo"}),t.jsx(ms,{variant:"h4",fontWeight:"bold",color:"white",sx:{mb:2},children:"Hello, Friend!"}),t.jsx("p",{children:"Enter your personal details and start journey with us"}),t.jsx("button",{className:"ghost",id:"signUp",onClick:()=>k(!0),children:"Register"})]})]})})]}),t.jsx(rE,{open:j,onClose:()=>F(!1)})]})}const nE=()=>{const{logout:e,user:s,refreshUser:r}=hr(),n=Pr(),[a,i]=f.useState(null);f.useEffect(()=>{(s==null?void 0:s.status)==="active"&&n("/dashboard",{replace:!0})},[s,n]),f.useEffect(()=>{const c=setInterval(()=>{r()},3e4);return()=>clearInterval(c)},[r]);const o=async()=>{await e(),n("/login")},l=(s==null?void 0:s.role)==="training_center_admin";return s==null||s.role,t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ve,{className:"text-red-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Application Rejected"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["Your ",l?"Training Center":"ACC"," application has been rejected."]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:a})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l?t.jsx(Je,{className:"text-amber-600",size:40}):t.jsx(L_,{className:"text-amber-600",size:40})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:l?"Training Center Application Pending":"Account Pending Approval"}),t.jsx("p",{className:"text-gray-600 mb-4",children:l?"Your Training Center application has been submitted and is pending approval from a Group Admin.":"Your account is currently pending approval. Please wait for an administrator to review and approve your account."}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l?"A Group Admin will review your application shortly. You will receive a notification once your application is approved or rejected.":"You will be notified once your account has been approved."}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Status: Pending Review"}),t.jsx("p",{className:"text-xs text-blue-700",children:l?"Waiting for Group Admin approval":"Waiting for administrator approval"})]})]}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-800 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:[t.jsx(Av,{size:18}),"Logout"]})]})})},aE=()=>{const e=Pr(),[s]=_d(),{resetPassword:r,isAuthenticated:n}=hr(),a=s.get("token"),i=s.get("email")?decodeURIComponent(s.get("email")):null,[o,l]=f.useState({password:"",confirmPassword:""}),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(""),[S,x]=f.useState(!1),[C,w]=f.useState(!0);f.useEffect(()=>{(!a||!i)&&w(!1),n&&e("/dashboard",{replace:!0})},[a,i,n,e]);const _=P=>{l({...o,[P.target.name]:P.target.value}),y("")},z=async P=>{if(P.preventDefault(),y(""),o.password!==o.confirmPassword){y("Passwords do not match.");return}if(o.password.length<8){y("Password must be at least 8 characters long.");return}u(!0);try{const b=await r(a,i,o.password,o.confirmPassword);b.success?(x(!0),setTimeout(()=>{e("/login",{replace:!0})},3e3)):y(b.error||"Failed to reset password. Please try again.")}catch(b){console.error("Reset password error:",b),y("An error occurred. Please try again.")}finally{u(!1)}};return C?S?t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("div",{className:"success-icon-wrapper",children:t.jsx(Z3,{className:"success-icon"})}),t.jsx(ms,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Password Reset Successful!"}),t.jsx(yo,{severity:"success",sx:{mb:2},children:"Your password has been successfully reset. Redirecting to login page..."}),t.jsx(mc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login Now"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:sd,alt:"Logo",className:"reset-password-logo"}),t.jsx(ms,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Reset Password"}),t.jsx(ms,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Enter your new password below. Please make sure it's at least 8 characters long."}),t.jsxs("form",{onSubmit:z,children:[t.jsx(tn,{placeholder:"New Password",name:"password",type:c?"text":"password",value:o.password,onChange:_,required:!0,startIcon:t.jsx(jo,{}),endIcon:t.jsx(ri,{onClick:()=>h(!c),edge:"end",size:"small",children:c?t.jsx(Co,{}):t.jsx(No,{})})}),t.jsx(tn,{placeholder:"Confirm New Password",name:"confirmPassword",type:d?"text":"password",value:o.confirmPassword,onChange:_,required:!0,startIcon:t.jsx(jo,{}),endIcon:t.jsx(ri,{onClick:()=>p(!d),edge:"end",size:"small",children:d?t.jsx(Co,{}):t.jsx(No,{})})}),g&&t.jsx(yo,{severity:"error",sx:{mt:1,mb:2},children:g}),t.jsx("button",{type:"submit",disabled:m,className:"reset-password-submit-button",children:m?t.jsx(gi,{size:20,color:"inherit"}):"Reset Password"})]}),t.jsx(mc,{href:"/login",underline:"hover",sx:{mt:2,cursor:"pointer",color:"var(--primary-color)"},children:"Back to Login"})]})})}):t.jsx("div",{className:"reset-password-page",children:t.jsx("div",{className:"reset-password-container",children:t.jsxs("div",{className:"reset-password-form",children:[t.jsx("img",{src:sd,alt:"Logo",className:"reset-password-logo"}),t.jsx(ms,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"var(--primary-color)"},children:"Invalid Reset Link"}),t.jsx(yo,{severity:"error",sx:{mb:2},children:"The password reset link is invalid or has expired. Please request a new one."}),t.jsx(mc,{href:"/login",underline:"hover",sx:{cursor:"pointer",color:"var(--primary-color)"},children:"Go to Login"})]})})})},ur=({icon:e,colorType:s,label:r,value:n,hint:a,onClick:i})=>t.jsxs("div",{onClick:i,className:`dashboard-card dashboard-card-${s}`,children:[t.jsxs("div",{className:"dashboard-card-header",children:[t.jsx("div",{className:`dashboard-card-icon-wrapper-${s}`,children:t.jsx(e,{className:"dashboard-card-icon"})}),t.jsx(Nv,{className:`dashboard-card-arrow-${s}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:`dashboard-card-label-${s}`,children:r}),t.jsx("p",{className:`dashboard-card-value-${s}`,children:n}),t.jsx("p",{className:`dashboard-card-hint-${s}`,children:a})]})]}),iE=()=>{var c,h,d;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),r=Pr(),[n,a]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const l=async()=>{try{const p=await We.getDashboard();a({accreditation_bodies:p.accreditation_bodies||0,training_centers:p.training_centers||0,instructors:p.instructors||0,revenue:p.revenue||{monthly:0,total:0}})}catch(p){console.error("Failed to load dashboard:",p),a({accreditation_bodies:0,training_centers:0,instructors:0,revenue:{monthly:0,total:0}})}finally{o(!1)}};return i?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:n&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(ur,{icon:Mt,colorType:"acc",label:"Commission Revenue",value:`$${(((c=n.revenue)==null?void 0:c.total)||0).toLocaleString()}`,hint:"Total commission received",onClick:()=>r("/admin/payment-transactions")}),t.jsx(ur,{icon:Je,colorType:"instructors",label:"Accreditation Bodies",value:n.accreditation_bodies||0,hint:"Click to view details",onClick:()=>r("/admin/all-accs")}),t.jsx(ur,{icon:Wc,colorType:"certificates",label:"Training Centers",value:n.training_centers||0,hint:"Click to view details",onClick:()=>r("/admin/all-training-centers")}),t.jsx(ur,{icon:_t,colorType:"classes",label:"Instructors",value:n.instructors||0,hint:"Click to view details",onClick:()=>r("/admin/all-instructors")})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Monthly Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((h=n.revenue)==null?void 0:h.monthly)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Commission this month"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" Total Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((d=n.revenue)==null?void 0:d.total)||0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total commission received"})]})]})]})]})})},Mj=()=>{var o,l;const e=Pr(),[s,r]=f.useState(null),[n,a]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await Qe.getDashboard();r(c)}catch(c){console.error("Failed to load dashboard:",c)}finally{a(!1)}};return n?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})}):t.jsx("div",{className:"space-y-4",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(ur,{icon:Mt,colorType:"acc",label:"Total Revenue",value:`$${(((o=s.revenue)==null?void 0:o.total)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hint:"Click to view details",onClick:()=>e("/acc/payment-transactions")}),t.jsx(ur,{icon:Ve,colorType:"classes",label:"Pending Requests",value:s.pending_requests||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=pending")}),t.jsx(ur,{icon:Je,colorType:"instructors",label:"Active Training Centers",value:s.active_training_centers||0,hint:"Click to view details",onClick:()=>e("/acc/training-centers?filter=active")}),t.jsx(ur,{icon:_t,colorType:"certificates",label:"Active Instructors",value:s.active_instructors||0,hint:"Click to view details",onClick:()=>e("/acc/instructors?filter=active")})]}),s.revenue&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(((l=s.revenue)==null?void 0:l.monthly)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]})})},Yo=({size:e="md",className:s=""})=>{const r={sm:"loading-spinner-sm",md:"loading-spinner-md",lg:"loading-spinner-lg"};return t.jsx("div",{className:`loading-spinner-container ${s}`,children:t.jsx("div",{className:`loading-spinner ${r[e]}`})})},oE=({title:e,titleIcon:s,children:r})=>t.jsxs("div",{className:"state-section",children:[t.jsxs("h2",{className:"state-section-title",children:[s&&t.jsx(s,{className:"state-section-title-icon"}),e]}),t.jsx("div",{className:"state-section-grid",children:r})]}),am=({icon:e,iconColorType:s,label:r,value:n,capitalize:a=!1})=>t.jsx("div",{className:"state-item",children:t.jsxs("div",{className:"state-item-content",children:[t.jsx("div",{className:`state-icon-wrapper state-icon-wrapper-${s}`,children:t.jsx(e,{className:`state-icon state-icon-${s}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"state-label",children:r}),t.jsx("p",{className:`state-value ${a?"state-value-capitalize":""}`,children:n})]})]})}),Ij=()=>{var c,h,d;const e=Pr(),[s,r]=f.useState(null),[n,a]=f.useState({accs:0,classes:0,instructors:0,certificates:0}),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[]);const l=async()=>{try{const p=await Ue.getDashboard();r(p),a({accs:p.authorized_accreditations||0,classes:p.classes||0,instructors:p.instructors||0,certificates:p.certificates||0})}catch(p){console.error("Failed to load dashboard:",p),r(null),a({accs:0,classes:0,instructors:0,certificates:0})}finally{o(!1)}};return i?t.jsx(Yo,{}):t.jsx("div",{className:"dashboard-container",children:s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"dashboard-stats-grid",children:[t.jsx(ur,{icon:Js,colorType:"certificates",label:"Certificates",value:n.certificates,hint:"Click to view details",onClick:()=>e("/training-center/certificates")}),t.jsx(ur,{icon:Je,colorType:"acc",label:"Authorized Accreditation",value:n.accs,hint:"Click to view details",onClick:()=>e("/training-center/accs")}),t.jsx(ur,{icon:_s,colorType:"classes",label:"Classes",value:n.classes,hint:"Click to view details",onClick:()=>e("/training-center/classes")}),t.jsx(ur,{icon:_t,colorType:"instructors",label:"Instructors",value:n.instructors,hint:"Click to view details",onClick:()=>e("/training-center/instructors")})]}),t.jsxs(oE,{title:"Training Center State",titleIcon:Je,children:[t.jsx(am,{icon:Me,iconColorType:"green",label:"Status",value:((c=s.training_center_state)==null?void 0:c.status)||"N/A",capitalize:!0}),t.jsx(am,{icon:tt,iconColorType:"blue",label:"Registration Date",value:((h=s.training_center_state)==null?void 0:h.registration_date)||"N/A"}),t.jsx(am,{icon:Js,iconColorType:"purple",label:"Accreditation Status",value:((d=s.training_center_state)==null?void 0:d.accreditation_status)||"Not Verified"})]})]})})},Lj=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),r=Pr(),[n,a]=f.useState(null),[i,o]=f.useState(!0),l=f.useRef(!1),c=f.useRef(!1),h=f.useCallback(async()=>{if(c.current){console.log(" Dashboard load already in progress, skipping duplicate request");return}c.current=!0;try{const b=await Cs.getDashboard();a(b||{})}catch(b){console.error("Failed to load dashboard:",b),a(null)}finally{o(!1),c.current=!1}},[]);f.useEffect(()=>{l.current||(l.current=!0,h())},[h]),f.useEffect(()=>(e(null),s(null),()=>{e(null),s(null)}),[e,s]);const d=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",p=b=>{switch(b){case"scheduled":return"status-scheduled";case"in_progress":return"status-in-progress";case"completed":return"status-completed";case"cancelled":return"status-cancelled";default:return"status-default"}},m=b=>b==="active"?"training-item-status-active":"training-item-status-inactive";if(i)return t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})});if(!n)return t.jsx("div",{className:"error-container",children:t.jsx("div",{className:"error-text",children:t.jsx("p",{children:"Failed to load dashboard data"})})});const u=(n==null?void 0:n.statistics)||{},g=(n==null?void 0:n.recent_classes)||[],y=(n==null?void 0:n.training_centers)||[],S=(n==null?void 0:n.accs)||[],x=(n==null?void 0:n.profile)||{};n!=null&&n.unread_notifications_count;const C=Number((u==null?void 0:u.total_classes)||0),w=Number((u==null?void 0:u.upcoming_classes)||(u==null?void 0:u.scheduled)||0),_=Number((u==null?void 0:u.completed)||0),z=Array.isArray(y)?y.length:0,P=Array.isArray(S)?S.length:0;return t.jsxs("div",{className:"dashboard-container",children:[t.jsxs("div",{className:"stats-grid",children:[t.jsx("div",{onClick:()=>r("/instructor/classes"),className:"stat-card stat-card-blue",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Total Classes"}),t.jsx("p",{className:"stat-value",children:C}),t.jsx("p",{className:"stat-description",children:"Click to view all"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(_s,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=scheduled"),className:"stat-card stat-card-purple",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Scheduled"}),t.jsx("p",{className:"stat-value",children:w}),t.jsx("p",{className:"stat-description",children:"Scheduled classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(tt,{className:"stat-icon"})})]})}),t.jsx("div",{onClick:()=>r("/instructor/classes?status=completed"),className:"stat-card stat-card-green",children:t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"stat-card-content",children:[t.jsx("p",{className:"stat-label",children:"Completed"}),t.jsx("p",{className:"stat-value",children:_}),t.jsx("p",{className:"stat-description",children:"Finished classes"})]}),t.jsx("div",{className:"stat-icon-container",children:t.jsx(Me,{className:"stat-icon"})})]})})]}),t.jsxs("div",{className:"main-grid",children:[t.jsxs("div",{className:"card recent-classes-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(_s,{className:"card-title-icon",size:24}),"Recent Classes"]}),t.jsxs("button",{onClick:()=>r("/instructor/classes"),className:"card-button",children:["View All",t.jsx(Nv,{size:16,className:"card-button-icon"})]})]})}),t.jsx("div",{className:"table-container",children:g&&g.length>0?t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Course"}),t.jsx("th",{children:"Training Center"}),t.jsx("th",{children:"Dates"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Students"})]})}),t.jsx("tbody",{children:g.slice(0,3).map((b,E)=>{var N,A,R,T;const j=b.max_capacity??((N=b.course)==null?void 0:N.max_capacity),F=b.enrolled_count||0,$=j!==void 0?Math.min(100,F/j*100):0;return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((A=b.course)==null?void 0:A.name)||"N/A"}),((R=b.course)==null?void 0:R.code)&&t.jsxs("div",{className:"table-cell-secondary",children:["Code: ",b.course.code]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"table-cell-content",children:[t.jsx("div",{className:"table-cell-main",children:((T=b.training_center)==null?void 0:T.name)||"N/A"}),b.location_details&&t.jsxs("div",{className:"table-cell-secondary",children:[t.jsx(Rt,{size:12,className:"table-cell-icon"}),b.location==="physical"?b.location_details:"Online"]})]})}),t.jsx("td",{children:b.start_date?t.jsxs("div",{className:"table-cell-date",children:[t.jsx("div",{className:"table-cell-date-main",children:d(b.start_date)}),b.end_date&&t.jsxs("div",{className:"table-cell-date-sub",children:["to ",d(b.end_date)]})]}):t.jsx("span",{className:"table-cell-na",children:"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`status-badge ${p(b.status)}`,children:b.status?b.status.replace("_"," "):"N/A"})}),t.jsx("td",{children:t.jsxs("div",{className:"students-cell",children:[t.jsxs("div",{className:"students-count",children:[F," / ",j??"N/A"]}),j!==void 0&&t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${$}%`}})})]})})]},b.id)})})]}):t.jsxs("div",{className:"empty-state",children:[t.jsx(_s,{className:"empty-state-icon",size:48}),t.jsx("p",{className:"empty-state-text",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtext",children:"You don't have any classes yet"})]})})]}),t.jsxs("div",{className:"card profile-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h2",{className:"card-title",children:[t.jsx(As,{className:"card-title-icon",size:24}),"Profile Summary"]})}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-field",children:[t.jsx("p",{className:"profile-label",children:"Name"}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.name)||"N/A"})]}),t.jsxs("div",{className:"profile-field",children:[t.jsxs("p",{className:"profile-label",children:[t.jsx(Wt,{size:14,className:"profile-label-icon"}),"Email"]}),t.jsx("p",{className:"profile-value",children:(x==null?void 0:x.email)||"N/A"})]}),t.jsx("button",{onClick:()=>r("/profile"),className:"profile-button",children:"View Full Profile"})]})]})]}),t.jsxs("div",{className:"training-grid",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Je,{className:"card-title-icon",size:24}),"Training Centers"]}),z>0&&t.jsx("span",{className:"badge",children:z})]})}),t.jsx("div",{className:"profile-content",children:z>0?t.jsxs("div",{className:"training-list",children:[y.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.city&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Rt,{size:12,className:"training-item-location-icon"}),b.city,", ",b.country]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${m(b.status)}`,children:b.status})]})},b.id)),z>3&&t.jsxs("button",{onClick:()=>r("/instructor/training-centers"),className:"training-view-all",children:["View All (",z,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Je,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No training centers found"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"card-header-content",children:[t.jsxs("h2",{className:"card-title",children:[t.jsx(Js,{className:"card-title-icon",size:24}),"Accreditation Bodies"]}),P>0&&t.jsx("span",{className:"badge",children:P})]})}),t.jsx("div",{className:"profile-content",children:P>0?t.jsxs("div",{className:"training-list",children:[S.slice(0,3).map(b=>t.jsx("div",{className:"training-item",children:t.jsxs("div",{className:"training-item-content",children:[t.jsxs("div",{className:"training-item-main",children:[t.jsx("p",{className:"training-item-name",children:b.name}),b.country&&t.jsxs("p",{className:"training-item-location",children:[t.jsx(Rt,{size:12,className:"training-item-location-icon"}),b.country]}),b.is_authorized&&t.jsxs("div",{className:"authorized-badge",children:[t.jsx(Me,{size:14,className:"authorized-icon"}),t.jsx("span",{className:"authorized-text",children:"Authorized"}),b.authorization_date&&t.jsx("span",{className:"authorized-date",children:d(b.authorization_date)})]}),b.classes_count!==void 0&&t.jsxs("p",{className:"training-item-count",children:[b.classes_count," ",b.classes_count===1?"class":"classes"]})]}),b.status&&t.jsx("span",{className:`training-item-status ${m(b.status)}`,children:b.status})]})},b.id)),P>3&&t.jsxs("button",{onClick:()=>r("/instructor/accs"),className:"training-view-all",children:["View All (",P,")"]})]}):t.jsxs("div",{className:"empty-training",children:[t.jsx(Js,{className:"empty-training-icon",size:48}),t.jsx("p",{className:"empty-training-text",children:"No ACCs found"})]})})]})]})]})},lE=()=>{const{user:e,loading:s}=hr();if(s)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-[var(--primary-color)]"})});switch(e==null?void 0:e.role){case"group_admin":return t.jsx(iE,{});case"acc_admin":return t.jsx(Mj,{});case"training_center_admin":return t.jsx(Ij,{});case"instructor":return t.jsx(Lj,{});default:return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome!"}),t.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})]})})}},Ie=({isOpen:e,onClose:s,title:r,children:n,size:a="md"})=>{if(f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:`bg-white rounded-xl shadow-2xl w-full ${i[a]} max-h-[90vh] overflow-y-auto animate-scale-in`,children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10 backdrop-blur-sm bg-white/95",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-2 rounded-lg hover:bg-gray-100 hover:rotate-90 transform",children:t.jsx(ks,{size:24})})]}),t.jsx("div",{className:"p-6 animate-fade-in",children:n})]})})},Ye=f.forwardRef(({children:e,variant:s="primary",size:r="md",className:n="",disabled:a=!1,loading:i=!1,icon:o,iconPosition:l="left",fullWidth:c=!1,type:h="button",onClick:d,...p},m)=>{const u="btn-base",g={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",warning:"btn-warning",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"},y={sm:"btn-sm",md:"btn-md",lg:"btn-lg"},S=`
    ${u}
    ${g[s]}
    ${y[r]}
    ${c?"btn-full-width":""}
    ${a||i?"btn-disabled":""}
    ${n}
  `.trim().replace(/\s+/g," "),x=o&&t.jsx("span",{className:`btn-icon ${l==="right"?"btn-icon-right":""}`,children:o});return t.jsxs("button",{ref:m,type:h,className:S,disabled:a||i,onClick:d,...p,children:[i&&t.jsx("span",{className:"btn-spinner",children:t.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!i&&l==="left"&&x,!i&&t.jsx("span",{className:"btn-content",children:e}),!i&&l==="right"&&x]})});Ye.displayName="Button";const qe=({name:e,value:s,icon:r,colorType:n,isActive:a,onClick:i})=>t.jsx("div",{onClick:i,className:`tab-card tab-card-${n} ${a?"active":""}`,children:t.jsxs("div",{className:"tab-card-content",children:[t.jsxs("div",{children:[t.jsx("p",{className:`tab-card-label tab-card-label-${n}`,children:e}),t.jsx("p",{className:`tab-card-value tab-card-value-${n}`,children:s})]}),t.jsx("div",{className:`tab-card-icon-wrapper tab-card-icon-wrapper-${n}`,children:t.jsx(r,{className:"tab-card-icon",size:32})})]})}),Ts=({children:e,columns:s={mobile:1,tablet:2,desktop:2}})=>t.jsx("div",{className:"tab-cards-grid",style:{"--columns-mobile":s.mobile,"--columns-tablet":s.tablet,"--columns-desktop":s.desktop},children:e}),lt=({columns:e,data:s,onEdit:r,onDelete:n,onView:a,onRowClick:i,isLoading:o=!1,emptyMessage:l="No data available",searchable:c=!0,filterable:h=!0,searchPlaceholder:d="Search...",filterOptions:p=null,sortable:m=!0,defaultFilter:u="all",customFilters:g=null})=>{var $;const[y,S]=f.useState(""),[x,C]=f.useState(u),[w,_]=f.useState(!1),[z,P]=f.useState({key:null,direction:"asc"}),b=f.useRef(null);f.useEffect(()=>{C(u)},[u]),f.useEffect(()=>{const N=A=>{b.current&&!b.current.contains(A.target)&&_(!1)};return w&&document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[w]);const E=(N,A)=>{A.target.closest("button")||A.target.closest("a")||A.target.closest(".enrollment-clickable")||A.target.classList.contains("enrollment-clickable")||(i?i(N):a&&a(N))},j=N=>{if(!m||N.sortable===!1)return;let A="asc";z.key===N.accessor&&z.direction==="asc"&&(A="desc"),P({key:N.accessor,direction:A})},F=f.useMemo(()=>{let N=[...s];if(c&&y){const A=y.toLowerCase().trim();N=N.filter(R=>R._searchText&&typeof R._searchText=="string"&&R._searchText.includes(A)?!0:e.some(v=>{if(v.accessor==="actions"||v.accessor==="enrolled_count"||v.accessor==="max_capacity"||v.accessor==="capacity"||v.accessor==="duration_hours"||v.accessor==="base_price")return!1;const k=R[v.accessor];if(k==null||typeof k=="number")return!1;if(typeof k=="object"&&!Array.isArray(k)){const O=["name","code","email","first_name","last_name","title","name_ar"];return Object.keys(k).some(D=>{if(O.includes(D.toLowerCase())){const L=k[D];if(L&&typeof L=="string")return L.toLowerCase().includes(A)}return!1})}return Array.isArray(k)?k.some(O=>String(O).toLowerCase().includes(A)):typeof k=="string"?k.toLowerCase().includes(A):!1}))}if(h&&p&&x!=="all"){const A=p.find(R=>R.value===x);A&&A.filterFn&&(N=N.filter(A.filterFn))}return m&&z.key&&N.sort((A,R)=>{if(!e.find(O=>O.accessor===z.key))return 0;let v=A[z.key],k=R[z.key];return v&&typeof v=="object"&&!Array.isArray(v)&&(v=v.name||v.title||JSON.stringify(v)),k&&typeof k=="object"&&!Array.isArray(k)&&(k=k.name||k.title||JSON.stringify(k)),v&&k&&(z.key.includes("date")||z.key.includes("Date"))&&(v=new Date(v),k=new Date(k)),typeof v=="number"&&typeof k=="number"?z.direction==="asc"?v-k:k-v:(v=(v==null?void 0:v.toString().toLowerCase())||"",k=(k==null?void 0:k.toString().toLowerCase())||"",v<k?z.direction==="asc"?-1:1:v>k?z.direction==="asc"?1:-1:0)}),N},[s,y,x,z,e,c,h,p,m]);return t.jsxs(t.Fragment,{children:[(c||h&&p||g)&&t.jsxs("div",{className:"data-table-search-container",children:[t.jsxs("div",{className:"data-table-search-content",children:[c&&t.jsxs("div",{className:"data-table-search-input-wrapper",children:[t.jsx(Wo,{className:"data-table-search-icon",size:18}),t.jsx("input",{type:"text",placeholder:d,value:y,onChange:N=>S(N.target.value),className:"data-table-search-input"}),y&&t.jsx("button",{onClick:()=>S(""),className:"data-table-search-clear",children:t.jsx(ks,{size:16})})]}),t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexShrink:0},children:[g&&t.jsx("div",{style:{flexShrink:0},children:g}),h&&p&&t.jsxs("div",{className:"data-table-filter-wrapper",ref:b,children:[t.jsxs("button",{onClick:()=>_(!w),className:`data-table-filter-button ${x!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(xa,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:(($=p.find(N=>N.value===x))==null?void 0:$.label)||"All"})]}),w&&t.jsx("div",{className:"data-table-filter-dropdown",children:p.map(N=>t.jsx("button",{onClick:()=>{C(N.value),_(!1)},className:`data-table-filter-option ${x===N.value?"data-table-filter-option-active":""}`,children:N.label},N.value))})]})]})]}),y&&t.jsxs("div",{className:"data-table-search-results",children:["Showing ",F.length," of ",s.length," results"]})]}),t.jsx("div",{className:"data-table-container",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"data-table-header",children:t.jsxs("tr",{children:[e.map((N,A)=>{const R=m&&N.sortable!==!1,T=z.key===N.accessor;return t.jsx("th",{className:`data-table-th ${R?"data-table-th-sortable":""}`,onClick:()=>R&&j(N),children:t.jsxs("div",{className:"data-table-th-content",children:[t.jsx("span",{children:N.header}),R&&t.jsx("span",{className:"data-table-sort-icon",children:T?z.direction==="asc"?t.jsx(S_,{size:14}):t.jsx(w_,{size:14}):t.jsx(__,{size:14})})]})},A)}),(r||n||a)&&t.jsx("th",{className:"data-table-th",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||n||a?1:0),className:"px-6 py-12 text-center",children:t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"})})})}):F.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(r||n||a?1:0),className:"px-6 py-12 text-center text-gray-500",children:y||x!=="all"?"No results found. Try adjusting your search or filters.":l})}):F.map((N,A)=>t.jsxs("tr",{className:`hover:bg-gray-50 transition-all duration-200 ease-out hover:shadow-sm ${i||a?"cursor-pointer":""} stagger-item`,onClick:R=>E(N,R),style:{"--animation-delay":`${A*.03}s`},children:[e.map((R,T)=>{const v=N[R.accessor];let k=v;return!R.render&&v&&typeof v=="object"&&!Array.isArray(v)&&(k=v.name||v.title||v.first_name||JSON.stringify(v)),t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900",children:R.render?R.render(v,N):k},T)}),(r||n||a)&&t.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium",onClick:R=>R.stopPropagation(),children:t.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const R=[];return r&&n?(R.push(t.jsx("button",{onClick:()=>r(N),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(gs,{size:18})},"edit")),R.push(t.jsx("button",{onClick:()=>n(N),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Ss,{size:18})},"delete"))):a&&r?(R.push(t.jsx("button",{onClick:()=>a(N),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ts,{size:18})},"view")),R.push(t.jsx("button",{onClick:()=>r(N),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(gs,{size:18})},"edit"))):a&&n?(R.push(t.jsx("button",{onClick:()=>a(N),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ts,{size:18})},"view")),R.push(t.jsx("button",{onClick:()=>n(N),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Ss,{size:18})},"delete"))):r?R.push(t.jsx("button",{onClick:()=>r(N),className:"data-table-action-btn data-table-action-edit",title:"Edit",children:t.jsx(gs,{size:18})},"edit")):n?R.push(t.jsx("button",{onClick:()=>n(N),className:"data-table-action-btn data-table-action-delete",title:"Delete",children:t.jsx(Ss,{size:18})},"delete")):a&&R.push(t.jsx("button",{onClick:()=>a(N),className:"data-table-action-btn data-table-action-view",title:"View",children:t.jsx(ts,{size:18})},"view")),R})()})})]},N.id||A))})]})})})]})},Qr=({data:e,isLoading:s,emptyMessage:r="No data available"})=>{if(s)return t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!e)return t.jsx("div",{className:"text-center py-8 text-gray-500",children:r});const n=(i,o,l=null,c="")=>!o&&o!==0&&o!==!1?null:t.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg ${c}`,children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[l&&t.jsx("span",{className:"mr-2",children:l}),i]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o})]}),a=i=>{const o={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ve},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ve}},l=o[i]||o.pending,c=l.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${l.badgeClass}`,children:[t.jsx(c,{size:12,className:"mr-1"}),i?i.charAt(0).toUpperCase()+i.slice(1):"N/A"]})};return t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.name&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name})]}),e.name_ar&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Name (Arabic)"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.name_ar})]}),e.legal_name&&n("Legal Name",e.legal_name),e.first_name&&n("First Name",e.first_name),e.last_name&&n("Last Name",e.last_name),e.full_name&&n("Full Name",e.full_name),e.email&&n("Email",e.email,t.jsx(Wt,{size:16})),e.phone&&n("Phone",e.phone,t.jsx(Gr,{size:16})),e.country&&n("Country",e.country,t.jsx(Rt,{size:16})),e.city&&n("City",e.city,t.jsx(Rt,{size:16})),e.address&&n("Address",e.address,t.jsx(Rt,{size:16}),"md:col-span-2"),e.registration_number&&n("Registration Number",e.registration_number),e.id_number&&n("ID Number",e.id_number),e.code&&n(e.code.includes("Course")?"Course Code":"Code",e.code),e.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:e.level})]}),e.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:16,className:"mr-2"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[e.duration_hours," hours"]})]}),e.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),a(e.status)]}),e.commission_percentage!==void 0&&e.commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:e.commission_percentage?`${e.commission_percentage}%`:"Not Set"})]}),e.authorization_price&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Mt,{size:16,className:"mr-2"}),"Authorization Price"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(e.authorization_price||0).toFixed(2)]})]}),e.stripe_account_configured!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stripe Account"}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx(Me,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[t.jsx(cr,{size:12,className:"mr-1"}),"Not Configured"]}),e.stripe_account_id&&t.jsx("span",{className:"text-xs text-gray-500 font-mono",children:e.stripe_account_id})]})]}),e.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Website"}),t.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:e.website})]}),e.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]}),e.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:16,className:"mr-2"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(e.request_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:e.description})]}),e.acc&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Je,{className:"h-5 w-5 text-purple-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Accreditation Body (ACC)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.acc.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.name})]}),e.acc.legal_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.legal_name})]}),e.acc.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.email})]}),e.acc.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.acc.phone})]}),e.acc.status&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${e.acc.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.acc.status})]})]})]}),e.training_center&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg border border-indigo-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Je,{className:"h-5 w-5 text-indigo-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"Training Center"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:typeof e.training_center=="string"?t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center}):t.jsxs(t.Fragment,{children:[e.training_center.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.name})]}),e.training_center.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-indigo-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.training_center.email})]})]})})]}),e.instructor&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(_t,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Instructor"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.instructor.first_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"First Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.first_name})]}),e.instructor.last_name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.last_name})]}),e.instructor.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Email"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.email})]}),e.instructor.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.instructor.phone})]})]})]}),e.sub_category&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(ca,{className:"h-5 w-5 text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Sub Category"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.sub_category.name&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Sub Category Name"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.name}),e.sub_category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.name_ar})]}),e.sub_category.category&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Parent Category"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sub_category.category.name||"N/A"}),e.sub_category.category.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.sub_category.category.name_ar})]})]})]}),e.certificate_pricing&&Array.isArray(e.certificate_pricing)&&e.certificate_pricing.length>0&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Certificate Pricing"})]}),t.jsx("div",{className:"space-y-3",children:e.certificate_pricing.map((i,o)=>t.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.base_price!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[parseFloat(i.base_price||0).toFixed(2)," ",i.currency||"USD"]})]}),i.group_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.group_commission_percentage||"0","%"]})]}),i.training_center_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.training_center_commission_percentage||"0","%"]})]}),i.instructor_commission_percentage!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.instructor_commission_percentage||"0","%"]})]}),i.effective_from&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective From"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_from).toLocaleDateString()})]}),i.effective_to&&t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Effective To"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(i.effective_to).toLocaleDateString()})]})]})},o))})]}),(e.documents||e.documents_json)&&Array.isArray(e.documents||e.documents_json)&&(e.documents||e.documents_json).length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ge,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:(e.documents||e.documents_json).map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:i.document_type||i.type||`Document ${o+1}`}),i.verified!==void 0&&t.jsx("p",{className:"text-sm text-gray-500",children:i.verified?"Verified":"Not Verified"}),i.description&&t.jsx("p",{className:"text-sm text-gray-500",children:i.description})]}),(i.document_url||i.url)&&t.jsx("a",{href:(i.document_url||i.url).startsWith("http")?i.document_url||i.url:`https://aeroenix.com/v1/api${i.document_url||i.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]},o))})]}),e.subscriptions&&Array.isArray(e.subscriptions)&&e.subscriptions.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Subscriptions"}),t.jsx("div",{className:"space-y-2",children:e.subscriptions.map((i,o)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"font-medium text-gray-900",children:[i.subscription_start_date," - ",i.subscription_end_date]}),i.payment_status&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",i.payment_status]})]},o))})]}),e.categories&&Array.isArray(e.categories)&&e.categories.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(pi,{className:"mr-2",size:20}),"Assigned Categories"]}),t.jsx("div",{className:"space-y-2",children:e.categories.map((i,o)=>{const l=typeof i=="object"?i.id:i,c=typeof i=="object"?i.name:`Category ${l}`;return t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:c}),typeof i=="object"&&i.status&&t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},l||o)})})]}),e.languages&&Array.isArray(e.languages)&&e.languages.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(mi,{className:"mr-2",size:20}),"Languages"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.languages.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:i},o))})]}),e.specializations&&Array.isArray(e.specializations)&&e.specializations.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(mi,{className:"mr-2",size:20}),"Specializations"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.specializations.map((i,o)=>t.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:i},o))})]}),e.certificates_json&&Array.isArray(e.certificates_json)&&e.certificates_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Js,{className:"mr-2",size:20}),"Certificates"]}),t.jsx("div",{className:"space-y-3",children:e.certificates_json.map((i,o)=>{const l=typeof i=="object"?i.name||i.title||i.certificate_name||`Certificate ${o+1}`:i,c=typeof i=="object"&&i.date?i.date:null,h=typeof i=="object"&&i.url?i.url:typeof i=="object"&&i.file_url?i.file_url:null;return t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Js,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:l}),c&&t.jsx("p",{className:"text-xs text-gray-600",children:new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),!c&&t.jsx("p",{className:"text-xs text-gray-600",children:"Certificate document"})]})]}),h&&t.jsxs("a",{href:h.startsWith("http")?h:`https://aeroenix.com/v1/api${h}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ge,{size:18,className:"mr-2"}),"View PDF"]})]})},o)})})]}),e.cv_url&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ge,{className:"mr-2",size:20}),"CV / Resume"]}),t.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(Ge,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Curriculum Vitae"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Click to view the CV"})]})]}),t.jsxs("a",{href:e.cv_url.startsWith("http")?e.cv_url:`https://aeroenix.com/v1/api${e.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",children:[t.jsx(Ge,{size:18,className:"mr-2"}),"View CV"]})]})})]}),e.classes&&Array.isArray(e.classes)&&e.classes.length>0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Classes (",e.classes.length,")"]}),t.jsx("div",{className:"space-y-2",children:e.classes.map(i=>t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name||`Class ${i.id}`}),i.status&&t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]},i.id))})]}),e.commission_percentage!==null&&e.commission_percentage!==void 0&&e.authorization_price&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Mt,{className:"mr-2",size:20}),"Commission Information"]}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[parseFloat(e.commission_percentage).toFixed(2),"%"]}),e.authorization_price&&t.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*parseFloat(e.commission_percentage)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(e.authorization_price)*(100-parseFloat(e.commission_percentage))/100).toFixed(2)]})]})]})]})]}),(e.created_at||e.updated_at)&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.created_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.created_at).toLocaleString()})]}),e.updated_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Updated At"}),t.jsx("p",{className:"text-sm text-gray-700",children:new Date(e.updated_at).toLocaleString()})]})]})]})},he=({label:e,type:s="text",name:r,value:n,onChange:a,placeholder:i,required:o=!1,error:l,helpText:c,options:h=null,textarea:d=!1,rows:p=4,className:m="",disabled:u=!1,min:g,max:y,step:S})=>t.jsxs("div",{className:m,children:[e&&t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e,o&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d?t.jsx("textarea",{name:r,value:n,onChange:a,placeholder:i,required:o,rows:p,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}):s==="select"?t.jsx("select",{name:r,value:n,onChange:a,required:o,disabled:u,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`,children:h&&h.length>0&&h[0].value===""?h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value)):t.jsxs(t.Fragment,{children:[t.jsxs("option",{value:"",children:["Select ",e]}),h==null?void 0:h.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))]})}):t.jsx("input",{type:s,name:r,value:n,onChange:a,placeholder:i,required:o,disabled:u,min:g,max:y,step:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${l?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${u?"opacity-50 cursor-not-allowed bg-gray-50":""}`}),l&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),c&&!l&&t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),cE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("ACC Applications"),s("Review and manage ACC registration applications"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{i(!0);try{const F=await We.getACCApplications();n(F.applications||[])}catch(F){console.error("Failed to load applications:",F),n([])}finally{i(!1)}};f.useEffect(()=>{S()},[]);const x=async F=>{try{await We.approveACCApplication(F),await S()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},C=async F=>{try{const $=await We.getACCApplication(F.id);l($.application),h(!0)}catch($){console.error("Failed to load application details:",$),l(F),h(!0)}},w=F=>{l(F),u(""),p(!0)},_=async()=>{if(!m.trim()){alert("Please provide a rejection reason");return}try{await We.rejectACCApplication(o.id,{rejection_reason:m}),await S(),p(!1),l(null),u("")}catch(F){alert("Failed to reject application: "+(F.message||"Unknown error"))}},z=f.useMemo(()=>{let F=[...r];return g!=="all"&&(F=F.filter($=>$.status===g)),F.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),P=r.length,b=r.filter(F=>F.status==="pending").length,E=r.filter(F=>F.status==="rejected").length,j=f.useMemo(()=>[{header:"Organization",accessor:"name",sortable:!0,render:(F,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Je,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:F||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:F=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),F||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:F=>{const $={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},N=$[F]||$.pending,A=N.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${N.badgeClass}`,children:[t.jsx(A,{size:12,className:"mr-1"}),F?F.charAt(0).toUpperCase()+F.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:F=>t.jsx("span",{className:"text-sm text-gray-600",children:F?new Date(F).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(qe,{name:"Total",value:P,icon:Si,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(qe,{name:"Pending",value:b,icon:Ve,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(qe,{name:"Rejected",value:E,icon:st,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:j,data:z,onView:C,onRowClick:C,isLoading:a,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by organization name, email, or legal name..."})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"ACC Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,icon:t.jsx(st,{size:20}),onClick:()=>{h(!1),w(o)},children:"Reject Application"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),l(null),u("")},title:"Reject ACC Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",value:m,onChange:F=>u(F.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),l(null),u("")},children:"Cancel"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,onClick:_,children:"Reject Application"})]})]})})]})},dE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(""),[g,y]=f.useState("all");f.useEffect(()=>(e("Training Center Applications"),s("Review and manage Training Center registration applications"),()=>{e(null),s(null)}),[e,s]);const S=async()=>{try{i(!0);const F=await We.getTrainingCenterApplications();n(F.applications||[])}catch(F){console.error("Failed to load applications:",F),alert("Failed to load applications: "+(F.message||"Unknown error"))}finally{i(!1)}};f.useEffect(()=>{S()},[]);const x=async F=>{if(confirm("Are you sure you want to approve this Training Center application?"))try{await We.approveTrainingCenterApplication(F),alert("Training Center application approved successfully!"),await S()}catch($){alert("Failed to approve application: "+($.message||"Unknown error"))}},C=F=>{l(F),h(!0)},w=F=>{l(F),u(""),p(!0)},_=async()=>{if(!m.trim()){alert("Please provide a rejection reason");return}try{await We.rejectTrainingCenterApplication(o.id,{rejection_reason:m}),alert("Training Center application rejected"),await S(),p(!1),l(null),u("")}catch(F){alert("Failed to reject application: "+(F.message||"Unknown error"))}},z=f.useMemo(()=>{let F=[...r];return g==="rejected"?F=F.filter($=>$.status==="inactive"||$.status==="rejected"):g!=="all"&&(F=F.filter($=>$.status===g)),F.map($=>({...$,_searchText:`${$.name||""} ${$.email||""} ${$.legal_name||""}`.toLowerCase()}))},[r,g]),P=r.length,b=r.filter(F=>F.status==="pending").length,E=r.filter(F=>F.status==="inactive"||F.status==="rejected").length,j=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:(F,$)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Je,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:F||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500",children:$.legal_name||""})]})]})},{header:"Email",accessor:"email",sortable:!0,render:F=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),F||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:F=>{const $={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},inactive:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},N=$[F]||$.pending,A=N.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${N.badgeClass}`,children:[t.jsx(A,{size:12,className:"mr-1"}),F?F.charAt(0).toUpperCase()+F.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:F=>t.jsx("span",{className:"text-sm text-gray-600",children:F?new Date(F).toLocaleDateString():"N/A"})}],[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(qe,{name:"Total",value:P,icon:Si,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(qe,{name:"Pending",value:b,icon:Ve,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(qe,{name:"Rejected",value:E,icon:st,colorType:"red",isActive:g==="rejected",onClick:()=>y("rejected")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:j,data:z,onView:C,onRowClick:C,isLoading:a,emptyMessage:"No applications found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center name, email, or legal name..."})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),l(null)},title:"Training Center Application Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:o,isLoading:!1,emptyMessage:"No application data available"}),o&&o.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:async()=>{await x(o.id),h(!1)},children:"Approve Application"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,icon:t.jsx(st,{size:20}),onClick:()=>{h(!1),w(o)},children:"Reject Application"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),l(null),u("")},title:"Reject Training Center Application",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this application:"}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",value:m,onChange:F=>u(F.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),l(null),u("")},children:"Cancel"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,onClick:_,children:"Reject Application"})]})]})})]})},uE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState(""),[C,w]=f.useState(!1),[_,z]=f.useState([]),[P,b]=f.useState(""),[E,j]=f.useState("all"),[F,$]=f.useState({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),[N,A]=f.useState({});f.useEffect(()=>(e("All Accreditation Bodies"),s("Manage all accreditation bodies"),()=>{e(null),s(null)}),[e,s]);const R=async()=>{try{const M=await We.listCategories();z(M.categories||[])}catch(M){console.error("Failed to load categories:",M)}},T=async()=>{i(!0);try{const M=await We.listACCs({per_page:1e3});let G=[];M.data?G=M.data||[]:M.accs?G=M.accs||[]:G=Array.isArray(M)?M:[],n(G)}catch(M){console.error("Failed to load ACCs:",M),n([])}finally{i(!1)}};f.useEffect(()=>{T(),R()},[]);const v=async M=>{try{const G=await We.getACCDetails(M.id),X={...G.acc,categories:G.acc.categories||[]};y(X),l(!0)}catch(G){console.error("Failed to load ACC details:",G);const X={...M,categories:M.categories||[]};y(X),l(!0)}},k=async()=>{if(!S||isNaN(S)){alert("Please enter a valid commission percentage");return}const M=parseFloat(S);if(M<0||M>100){alert("Commission percentage must be between 0 and 100");return}w(!0);try{await We.setCommissionPercentage(g.id,{commission_percentage:M}),await T(),h(!1),y(null),x(""),alert("Commission percentage set successfully!")}catch(G){alert("Failed to set commission: "+(G.message||"Unknown error"))}finally{w(!1)}},O=async M=>{try{const X=(await We.getACCDetails(M.id)).acc;y(X),$({name:X.name||"",legal_name:X.legal_name||"",registration_number:X.registration_number||"",country:X.country||"",address:X.address||"",phone:X.phone||"",email:X.email||"",website:X.website||"",logo_url:X.logo_url||"",status:X.status||"active",registration_fee_paid:X.registration_fee_paid||!1,registration_fee_amount:X.registration_fee_amount||"",commission_percentage:X.commission_percentage||""}),A({}),p(!0)}catch(G){console.error("Failed to load ACC details:",G),alert("Failed to load ACC details")}},D=M=>{const{name:G,value:X,type:fe,checked:Ne}=M.target;$({...F,[G]:fe==="checkbox"?Ne:X}),A({})},L=async M=>{var G,X,fe,Ne;M.preventDefault(),w(!0),A({});try{await We.updateACC(g.id,F),await T(),p(!1),y(null),alert("ACC updated successfully!")}catch(ge){(X=(G=ge.response)==null?void 0:G.data)!=null&&X.errors?A(ge.response.data.errors):A({general:((Ne=(fe=ge.response)==null?void 0:fe.data)==null?void 0:Ne.message)||ge.message||"Failed to update ACC"})}finally{w(!1)}},W=async M=>{try{const G=await We.getACCCategories(M.id),X={...G.acc,categories:G.categories||[]};y(X),u(!0)}catch(G){console.error("Failed to load ACC categories:",G);try{const X=await We.getACCDetails(M.id),fe={...X.acc,categories:X.acc.categories||[]};y(fe),u(!0)}catch(X){console.error("Failed to load ACC details:",X);const fe={...M,categories:M.categories||[]};y(fe),u(!0)}}},H=async()=>{var M,G;if(!P){alert("Please select a category");return}w(!0);try{await We.assignCategoryToACC(g.id,{category_id:parseInt(P)});const X=await We.getACCCategories(g.id),fe={...X.acc,categories:X.categories||[]};y(fe),b(""),await R(),alert("Category assigned successfully!")}catch(X){const fe=((G=(M=X.response)==null?void 0:M.data)==null?void 0:G.message)||X.message||"Unknown error";alert("Failed to assign category: "+fe)}finally{w(!1)}},B=async M=>{var G,X;if(confirm("Are you sure you want to remove this category?")){w(!0);try{await We.removeCategoryFromACC(g.id,{category_id:M});const fe=await We.getACCCategories(g.id),Ne={...fe.acc,categories:fe.categories||[]};y(Ne),await R(),alert("Category removed successfully!")}catch(fe){const Ne=((X=(G=fe.response)==null?void 0:G.data)==null?void 0:X.message)||fe.message||"Unknown error";alert("Failed to remove category: "+Ne)}finally{w(!1)}}},K=f.useMemo(()=>{let M=[...r];return E!=="all"&&(M=M.filter(G=>G.status===E)),M.map(G=>({...G,_searchText:`${G.name||""} ${G.email||""}`.toLowerCase()}))},[r,E]),q=r.length,V=r.filter(M=>M.status==="active").length,te=r.filter(M=>M.status==="pending").length,U=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:M=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Je,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:M||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:M=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),M||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:M=>{const G={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ve}},X=G[M]||G.pending,fe=X.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${X.badgeClass}`,children:[t.jsx(fe,{size:12,className:"mr-1"}),M?M.charAt(0).toUpperCase()+M.slice(1):"N/A"]})}},{header:"Commission %",accessor:"commission_percentage",sortable:!0,render:M=>t.jsx("span",{className:"text-sm text-gray-600",children:M?`${M}%`:t.jsx("span",{className:"text-gray-400",children:"Not Set"})})},{header:"Stripe Account",accessor:"stripe_account_configured",sortable:!0,render:(M,G)=>t.jsx("div",{className:"flex items-center",children:G.stripe_account_configured?t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx(Me,{size:12,className:"mr-1"}),"Configured"]}):t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:[t.jsx(cr,{size:12,className:"mr-1"}),"Not Configured"]})})},{header:"Created",accessor:"created_at",sortable:!0,render:M=>t.jsx("span",{className:"text-sm text-gray-600",children:M?new Date(M).toLocaleDateString():"N/A"})}],[]);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:3},children:[t.jsx(qe,{name:"Total",value:q,icon:Si,colorType:"indigo",isActive:E==="all",onClick:()=>j("all")}),t.jsx(qe,{name:"Active",value:V,icon:Me,colorType:"green",isActive:E==="active",onClick:()=>j("active")}),t.jsx(qe,{name:"Pending",value:te,icon:Ve,colorType:"yellow",isActive:E==="pending",onClick:()=>j("pending")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:U,data:K,onView:v,onRowClick:v,onEdit:O,isLoading:a,emptyMessage:"No ACCs found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),y(null)},title:"ACC Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:g,isLoading:!1,emptyMessage:"No ACC data available"}),g&&t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,icon:t.jsx(gs,{size:20}),onClick:()=>{l(!1),O(g)},children:"Edit ACC"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,icon:t.jsx(pi,{size:20}),onClick:()=>{l(!1),W(g)},children:"Manage Categories"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),y(null),x("")},title:`Set Commission for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(he,{label:"Commission Percentage (0-100)",name:"commission_percentage",type:"number",value:S,onChange:M=>x(M.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"e.g., 15.5"}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),y(null),x("")},children:"Cancel"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,onClick:k,disabled:C,loading:C,children:"Save Commission"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),y(null),$({name:"",legal_name:"",registration_number:"",country:"",address:"",phone:"",email:"",website:"",logo_url:"",status:"active",registration_fee_paid:!1,registration_fee_amount:"",commission_percentage:""}),A({})},title:`Edit ACC: ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Name",name:"name",value:F.name,onChange:D,error:N.name}),t.jsx(he,{label:"Legal Name",name:"legal_name",value:F.legal_name,onChange:D,error:N.legal_name}),t.jsx(he,{label:"Registration Number",name:"registration_number",value:F.registration_number,onChange:D,error:N.registration_number}),t.jsx(he,{label:"Country",name:"country",value:F.country,onChange:D,error:N.country}),t.jsx(he,{label:"Address",name:"address",value:F.address,onChange:D,textarea:!0,rows:2,error:N.address}),t.jsx(he,{label:"Phone",name:"phone",value:F.phone,onChange:D,error:N.phone}),t.jsx(he,{label:"Email",name:"email",type:"email",value:F.email,onChange:D,error:N.email}),t.jsx(he,{label:"Website",name:"website",type:"url",value:F.website,onChange:D,error:N.website}),t.jsx(he,{label:"Logo URL",name:"logo_url",type:"url",value:F.logo_url,onChange:D,error:N.logo_url}),t.jsx(he,{label:"Status",name:"status",type:"select",value:F.status,onChange:D,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"expired",label:"Expired"},{value:"rejected",label:"Rejected"}],error:N.status}),t.jsx(he,{label:"Registration Fee Amount",name:"registration_fee_amount",type:"number",value:F.registration_fee_amount,onChange:D,min:"0",step:"0.01",error:N.registration_fee_amount}),t.jsx(he,{label:"Commission Percentage",name:"commission_percentage",type:"number",value:F.commission_percentage,onChange:D,min:"0",max:"100",step:"0.1",error:N.commission_percentage}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"registration_fee_paid",checked:F.registration_fee_paid,onChange:D,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Registration Fee Paid"})]})]}),N.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:N.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{p(!1),y(null),A({})},children:"Cancel"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,type:"submit",disabled:C,loading:C,children:"Save Changes"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),y(null),b("")},title:`Manage Categories for ${g==null?void 0:g.name}`,size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assign Category"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("select",{value:P,onChange:M=>b(M.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer category-select",children:[t.jsx("option",{value:"",children:"Select a category..."}),_.filter(M=>!(g!=null&&g.categories)||g.categories.length===0?!0:!g.categories.some(G=>{const X=typeof G=="object"?G.id:G,fe=typeof M=="object"?M.id:M;return X===fe})).map(M=>t.jsx("option",{value:M.id,children:M.name},M.id))]}),t.jsx(Ye,{onClick:H,disabled:!P||C,loading:C,icon:t.jsx(Us,{size:20}),children:"Assign"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Assigned Categories ",(g==null?void 0:g.categories)&&Array.isArray(g.categories)&&g.categories.length>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",g.categories.length,")"]})]}),g!=null&&g.categories&&Array.isArray(g.categories)&&g.categories.length>0?t.jsx("div",{className:"space-y-3",children:g.categories.map(M=>{const G=M.id,X=M.sub_categories||[],fe=M.pivot;return t.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:M.name}),M.name_ar&&t.jsxs("span",{className:"text-sm text-gray-500",children:["(",M.name_ar,")"]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.status})]}),M.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),X.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:["Sub Categories (",X.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:X.map(Ne=>t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded",children:Ne.name},Ne.id))})]}),fe&&t.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Assigned on: ",new Date(fe.created_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:()=>B(G),disabled:C,className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-4",title:"Remove Category",children:t.jsx(ks,{size:16})})]})},G)})}):t.jsxs("div",{className:"p-6 text-center bg-gray-50 rounded-lg",children:[t.jsx(pi,{className:"mx-auto text-gray-400 mb-2",size:32}),t.jsx("p",{className:"text-gray-500",children:"No categories assigned"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Assign categories to this ACC to get started"})]})]}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{u(!1),y(null),b("")},children:"Close"})})]})})]})},mE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState(!1),[S,x]=f.useState({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),[C,w]=f.useState({});f.useEffect(()=>(e("All Training Centers"),s("Manage all training centers"),()=>{e(null),s(null)}),[e,s]);const _=async()=>{i(!0);try{const T=await We.listTrainingCenters({per_page:1e3});let v=[];T.data?v=T.data||[]:T.training_centers?v=T.training_centers||[]:v=Array.isArray(T)?T:[],n(v)}catch(T){console.error("Failed to load training centers:",T),n([])}finally{i(!1)}};f.useEffect(()=>{_()},[]);const z=async T=>{try{const v=await We.getTrainingCenterDetails(T.id);p(v.training_center),l(!0)}catch(v){console.error("Failed to load training center details:",v),p(T),l(!0)}},P=async T=>{try{const k=(await We.getTrainingCenterDetails(T.id)).training_center;p(k),x({name:k.name||"",legal_name:k.legal_name||"",registration_number:k.registration_number||"",country:k.country||"",city:k.city||"",address:k.address||"",phone:k.phone||"",email:k.email||"",website:k.website||"",logo_url:k.logo_url||"",referred_by_group:k.referred_by_group||!1,status:k.status||"active"}),w({}),h(!0)}catch(v){console.error("Failed to load training center details:",v),alert("Failed to load training center details")}},b=T=>{const{name:v,value:k,type:O,checked:D}=T.target;x({...S,[v]:O==="checkbox"?D:k}),w({})},E=async T=>{var v,k,O,D;T.preventDefault(),y(!0),w({});try{await We.updateTrainingCenter(d.id,S),await _(),h(!1),p(null),alert("Training center updated successfully!")}catch(L){(k=(v=L.response)==null?void 0:v.data)!=null&&k.errors?w(L.response.data.errors):w({general:((D=(O=L.response)==null?void 0:O.data)==null?void 0:D.message)||L.message||"Failed to update training center"})}finally{y(!1)}},j=f.useMemo(()=>{let T=[...r];return m!=="all"&&(T=T.filter(v=>v.status===m)),T.map(v=>({...v,_searchText:`${v.name||""} ${v.email||""}`.toLowerCase()}))},[r,m]),F=r.length,$=r.filter(T=>T.status==="active").length,N=r.filter(T=>T.status==="pending").length,A=r.filter(T=>T.status==="inactive").length,R=f.useMemo(()=>[{header:"Training Center",accessor:"name",sortable:!0,render:T=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Wc,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:T||"N/A"})]})},{header:"Email",accessor:"email",sortable:!0,render:T=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),T||"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:T=>{const v={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ve}},k=v[T]||v.pending,O=k.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${k.badgeClass}`,children:[t.jsx(O,{size:12,className:"mr-1"}),T?T.charAt(0).toUpperCase()+T.slice(1):"N/A"]})}},{header:"Country",accessor:"country",sortable:!0,render:T=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Rt,{className:"h-4 w-4 mr-2 text-gray-400"}),T||"N/A"]})},{header:"Created",accessor:"created_at",sortable:!0,render:T=>t.jsx("span",{className:"text-sm text-gray-600",children:T?new Date(T).toLocaleDateString():"N/A"})}],[]);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total",value:F,icon:Si,colorType:"indigo",isActive:m==="all",onClick:()=>u("all")}),t.jsx(qe,{name:"Active",value:$,icon:Me,colorType:"green",isActive:m==="active",onClick:()=>u("active")}),t.jsx(qe,{name:"Pending",value:N,icon:Ve,colorType:"yellow",isActive:m==="pending",onClick:()=>u("pending")}),t.jsx(qe,{name:"Inactive",value:A,icon:st,colorType:"gray",isActive:m==="inactive",onClick:()=>u("inactive")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:R,data:j,onView:z,onRowClick:z,onEdit:P,isLoading:a,emptyMessage:"No training centers found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name or email..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Training Center Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:d,isLoading:!1,emptyMessage:"No training center data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ye,{variant:"outline",fullWidth:!0,icon:t.jsx(gs,{size:20}),onClick:()=>{l(!1),P(d)},children:"Edit Training Center"})})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null),x({name:"",legal_name:"",registration_number:"",country:"",city:"",address:"",phone:"",email:"",website:"",logo_url:"",referred_by_group:!1,status:"active"}),w({})},title:`Edit Training Center: ${d==null?void 0:d.name}`,size:"lg",children:t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Name",name:"name",value:S.name,onChange:b,error:C.name}),t.jsx(he,{label:"Legal Name",name:"legal_name",value:S.legal_name,onChange:b,error:C.legal_name}),t.jsx(he,{label:"Registration Number",name:"registration_number",value:S.registration_number,onChange:b,error:C.registration_number}),t.jsx(he,{label:"Country",name:"country",value:S.country,onChange:b,error:C.country}),t.jsx(he,{label:"City",name:"city",value:S.city,onChange:b,error:C.city}),t.jsx(he,{label:"Address",name:"address",value:S.address,onChange:b,textarea:!0,rows:2,error:C.address}),t.jsx(he,{label:"Phone",name:"phone",value:S.phone,onChange:b,error:C.phone}),t.jsx(he,{label:"Email",name:"email",type:"email",value:S.email,onChange:b,error:C.email}),t.jsx(he,{label:"Website",name:"website",type:"url",value:S.website,onChange:b,error:C.website}),t.jsx(he,{label:"Logo URL",name:"logo_url",type:"url",value:S.logo_url,onChange:b,error:C.logo_url}),t.jsx(he,{label:"Status",name:"status",type:"select",value:S.status,onChange:b,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:C.status}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"referred_by_group",checked:S.referred_by_group,onChange:b,className:"mr-2"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Referred by Group"})]})]}),C.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:C.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),p(null),w({})},children:"Cancel"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,type:"submit",disabled:g,loading:g,children:"Save Changes"})]})]})})]})},pE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(!1),[g,y]=f.useState("all"),[S,x]=f.useState(!1),[C,w]=f.useState(null),[_,z]=f.useState(null),[P,b]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),[E,j]=f.useState({});f.useEffect(()=>(e("Instructors"),s("View and manage all instructors across all ACCs"),()=>{e(null),s(null)}),[e,s]);const F=async()=>{i(!0);try{const q=await We.listInstructors({per_page:1e3});let V=[];q.data?V=q.data||[]:q.instructors?V=q.instructors||[]:V=Array.isArray(q)?q:[],n(V)}catch(q){console.error("Failed to load instructors:",q),n([])}finally{i(!1)}};f.useEffect(()=>{F()},[]);const $=async q=>{var V;u(!0),l(!0);try{const te=await We.getInstructorDetails(q.id);p(te.instructor)}catch(te){console.error("Failed to load instructor details:",te),p(q),((V=te.response)==null?void 0:V.status)===404&&alert("Instructor not found")}finally{u(!1)}},N=async q=>{try{const te=(await We.getInstructorDetails(q.id)).instructor;p(te),b({first_name:te.first_name||"",last_name:te.last_name||"",email:te.email||"",phone:te.phone||"",id_number:te.id_number||"",certificates_json:te.certificates_json||[],specializations:te.specializations||[],languages:te.languages||[],status:te.status||"active"}),w(null),z(te.cv_url||null),j({}),h(!0)}catch(V){console.error("Failed to load instructor details:",V),alert("Failed to load instructor details")}},A=q=>{const{name:V,value:te}=q.target;b({...P,[V]:te}),j({})},R=q=>{const V=q.target.files[0];if(V){const te=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],U=[".pdf",".doc",".docx"],M="."+V.name.split(".").pop().toLowerCase();if(!te.includes(V.type)&&!U.includes(M)){j({cv_file:"CV must be a PDF or DOC/DOCX file"}),q.target.value="";return}if(V.size>10*1024*1024){j({cv_file:"CV file size must not exceed 10MB"}),q.target.value="";return}w(V),z(URL.createObjectURL(V)),E.cv_file&&j(G=>{const X={...G};return delete X.cv_file,X})}},T=()=>{w(null),z(null);const q=document.querySelector('input[name="cv_file"]');q&&(q.value="")},v=q=>{const te=q.target.value.split(",").map(U=>U.trim()).filter(U=>U);b({...P,specializations:te})},k=q=>{const te=q.target.value.split(",").map(U=>U.trim()).filter(U=>U);b({...P,languages:te})},O=async q=>{var V,te,U,M;q.preventDefault(),x(!0),j({});try{let G={...P};if(C){const X=new FormData;Object.keys(G).forEach(fe=>{fe==="certificates_json"||fe==="specializations"||fe==="languages"?X.append(fe,JSON.stringify(G[fe])):X.append(fe,G[fe])}),X.append("cv_file",C),await We.updateInstructor(d.id,X)}else{const X={...G,certificates_json:JSON.stringify(G.certificates_json),specializations:JSON.stringify(G.specializations),languages:JSON.stringify(G.languages)};await We.updateInstructor(d.id,X)}await F(),h(!1),p(null),w(null),z(null),alert("Instructor updated successfully!")}catch(G){(te=(V=G.response)==null?void 0:V.data)!=null&&te.errors?j(G.response.data.errors):j({general:((M=(U=G.response)==null?void 0:U.data)==null?void 0:M.message)||G.message||"Failed to update instructor"})}finally{x(!1)}},D=f.useMemo(()=>{let q=[...r];return g!=="all"&&(q=q.filter(V=>V.status===g)),q.map(V=>{const te=V.training_center?typeof V.training_center=="string"?V.training_center:V.training_center.name:"";return{...V,_searchText:`${V.first_name||""} ${V.last_name||""} ${V.email||""} ${te}`.toLowerCase()}})},[r,g]),L=r.length,W=r.filter(q=>q.status==="active").length,H=r.filter(q=>q.status==="pending").length,B=r.filter(q=>q.status==="suspended").length,K=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(q,V)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(_t,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[V.first_name," ",V.last_name]}),V.id_number&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",V.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:q=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),q||"N/A"]})},{header:"Phone",accessor:"phone",sortable:!0,render:q=>q?t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Gr,{className:"h-4 w-4 mr-2 text-gray-400"}),q]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Training Center",accessor:"training_center",sortable:!0,render:q=>{const V=q?typeof q=="string"?q:q.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Je,{className:"h-4 w-4 mr-2 text-gray-400"}),V]})}},{header:"Status",accessor:"status",sortable:!0,render:q=>{const V={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve},suspended:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},inactive:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:Ve}},te=V[q]||V.pending,U=te.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${te.badgeClass}`,children:[t.jsx(U,{size:12,className:"mr-1"}),q?q.charAt(0).toUpperCase()+q.slice(1):"N/A"]})}}],[]);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total",value:L,icon:Si,colorType:"indigo",isActive:g==="all",onClick:()=>y("all")}),t.jsx(qe,{name:"Active",value:W,icon:Me,colorType:"green",isActive:g==="active",onClick:()=>y("active")}),t.jsx(qe,{name:"Pending",value:H,icon:Ve,colorType:"yellow",isActive:g==="pending",onClick:()=>y("pending")}),t.jsx(qe,{name:"Suspended",value:B,icon:st,colorType:"red",isActive:g==="suspended",onClick:()=>y("suspended")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:K,data:D,onView:$,onRowClick:$,onEdit:N,isLoading:a,emptyMessage:"No instructors found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, email, or training center..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null)},title:"Instructor Details",size:"lg",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:d,isLoading:m,emptyMessage:"No instructor data available"}),d&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsx(Ye,{variant:"outline",fullWidth:!0,icon:t.jsx(gs,{size:20}),onClick:()=>{l(!1),N(d)},children:"Edit Instructor"})})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null),b({first_name:"",last_name:"",email:"",phone:"",id_number:"",certificates_json:[],specializations:[],languages:[],status:"active"}),w(null),z(null),j({})},title:`Edit Instructor: ${d==null?void 0:d.first_name} ${d==null?void 0:d.last_name}`,size:"lg",children:t.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"First Name",name:"first_name",value:P.first_name,onChange:A,error:E.first_name}),t.jsx(he,{label:"Last Name",name:"last_name",value:P.last_name,onChange:A,error:E.last_name}),t.jsx(he,{label:"Email",name:"email",type:"email",value:P.email,onChange:A,error:E.email}),t.jsx(he,{label:"Phone",name:"phone",value:P.phone,onChange:A,error:E.phone}),t.jsx(he,{label:"ID Number",name:"id_number",value:P.id_number,onChange:A,error:E.id_number}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CV Document (PDF or DOC/DOCX)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-primary-400 transition-colors",children:_||d!=null&&d.cv_url?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:t.jsx(Ge,{className:"text-primary-600",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:C?C.name:"Current CV"}),t.jsx("p",{className:"text-xs text-gray-500",children:C?`${(C.size/1024/1024).toFixed(2)} MB`:"Click to replace"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[(_||(d==null?void 0:d.cv_url))&&!C&&t.jsx("a",{href:d==null?void 0:d.cv_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:"View"}),t.jsxs("label",{className:"cursor-pointer px-3 py-1.5 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",children:["Replace",t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:R,className:"hidden"})]}),t.jsx("button",{type:"button",onClick:T,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(ks,{size:16})})]})]}):t.jsxs("label",{className:"cursor-pointer flex flex-col items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-3",children:t.jsx(Ds,{className:"text-gray-400",size:24})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click to upload CV"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX (Max 10MB)"}),t.jsx("input",{type:"file",name:"cv_file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:R,className:"hidden"})]})}),E.cv_file&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.cv_file})]}),t.jsx(he,{label:"Status",name:"status",type:"select",value:P.status,onChange:A,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"inactive",label:"Inactive"}],error:E.status}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages (comma-separated)"}),t.jsx("input",{type:"text",value:Array.isArray(P.languages)?P.languages.join(", "):P.languages||"",onChange:k,placeholder:"e.g., English, Arabic, French",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${E.languages?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}),E.languages&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.languages})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),t.jsx("input",{type:"text",value:Array.isArray(P.specializations)?P.specializations.join(", "):P.specializations||"",onChange:v,placeholder:"e.g., Aviation Safety, Aircraft Maintenance",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all ${E.specializations?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`}),E.specializations&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.specializations})]})]}),E.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:E.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{h(!1),p(null),j({})},children:"Cancel"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,type:"submit",disabled:S,loading:S,children:"Save Changes"})]})]})})]})},fE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState("all");f.useEffect(()=>(e("Courses"),s("View and manage all courses across all ACCs"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{i(!0);try{const P=await We.listCourses({per_page:1e3});let b=[];P.data?b=P.data||[]:P.courses?b=P.courses||[]:b=Array.isArray(P)?P:[],n(b)}catch(P){console.error("Failed to load courses:",P),n([])}finally{i(!1)}};f.useEffect(()=>{g()},[]);const y=async P=>{l(!0),p(!0);try{const b=await We.getCourseDetails(P.id);h(b.course||P)}catch(b){console.error("Failed to load course details:",b),h(P)}finally{p(!1)}},S=f.useMemo(()=>{let P=[...r];return m!=="all"&&(P=P.filter(b=>b.status===m)),P.map(b=>{const E=b.acc&&typeof b.acc=="object"?b.acc.name:"",j=b.sub_category&&typeof b.sub_category=="object"?b.sub_category.name:"";return{...b,_searchText:`${b.name||""} ${b.code||""} ${b.name_ar||""} ${E} ${j}`.toLowerCase()}})},[r,m]),x=r.length,C=r.filter(P=>P.status==="active").length,w=r.filter(P=>P.status==="inactive").length,_=r.filter(P=>P.status==="archived").length,z=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(P,b)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(ps,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:P||"N/A"}),b.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:b.name_ar}),b.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",b.code]})]})]})},{header:"ACC",accessor:"acc",sortable:!0,render:P=>{const b=P&&typeof P=="object"?P.name:"N/A";return t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Je,{className:"h-4 w-4 mr-2 text-gray-400"}),b]})}},{header:"Sub Category",accessor:"sub_category",sortable:!0,render:P=>{const b=P&&typeof P=="object"?P.name:"N/A";return t.jsx("div",{className:"text-sm text-gray-600",children:b})}},{header:"Level",accessor:"level",sortable:!0,render:P=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:P||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:P=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2 text-gray-400"}),P?`${P} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:P=>{const b={active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},inactive:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:st},archived:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:st}},E=b[P]||b.inactive,j=E.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${E.badgeClass}`,children:[t.jsx(j,{size:12,className:"mr-1"}),P?P.charAt(0).toUpperCase()+P.slice(1):"N/A"]})}}],[]);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total",value:x,icon:Si,colorType:"indigo",isActive:m==="all",onClick:()=>u("all")}),t.jsx(qe,{name:"Active",value:C,icon:Me,colorType:"green",isActive:m==="active",onClick:()=>u("active")}),t.jsx(qe,{name:"Inactive",value:w,icon:st,colorType:"yellow",isActive:m==="inactive",onClick:()=>u("inactive")}),t.jsx(qe,{name:"Archived",value:_,icon:st,colorType:"gray",isActive:m==="archived",onClick:()=>u("archived")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:z,data:S,onView:y,onRowClick:y,isLoading:a,emptyMessage:"No courses found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, code, ACC, or sub category..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Course Details",size:"xl",children:t.jsx(Qr,{data:c,isLoading:d,emptyMessage:"No course data available"})})]})},fn=({isOpen:e,onClose:s,onConfirm:r,title:n,message:a,confirmText:i="Delete",cancelText:o="Cancel",variant:l="danger"})=>{if(!e)return null;const c=l==="danger"?"danger":l==="warning"?"warning":"primary";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4 animate-slide-down",children:[t.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-100":l==="warning"?"bg-yellow-100":"bg-primary-100"} mr-4 animate-pulse`,children:t.jsx(C_,{className:`${l==="danger"?"text-red-600":l==="warning"?"text-yellow-600":"text-primary-600"}`,size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n})]}),t.jsx("p",{className:"text-gray-600 mb-6 ml-16 animate-fade-in",children:a}),t.jsxs("div",{className:"flex justify-end space-x-3 animate-slide-up",children:[t.jsx(Ye,{variant:"outline",onClick:s,children:o}),t.jsx(Ye,{variant:c,onClick:()=>{r(),s()},children:i})]})]})})})},hE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState("categories"),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[S,x]=f.useState({}),[C,w]=f.useState(!1),[_,z]=f.useState([]),[P,b]=f.useState(!0),[E,j]=f.useState(!1),[F,$]=f.useState(!1),[N,A]=f.useState(null),[R,T]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[v,k]=f.useState({}),[O,D]=f.useState(!1);f.useEffect(()=>(e("Course Categories"),s("Manage global categories and sub-categories"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{L(),te()},[]);const L=async()=>{try{l(!0);const Q=await We.listCategories({per_page:1e3});let se=[];Q!=null&&Q.data?se=Array.isArray(Q.data)?Q.data:[]:Q!=null&&Q.categories?se=Array.isArray(Q.categories)?Q.categories:[]:se=Array.isArray(Q)?Q:[],i(se)}catch(Q){console.error("Failed to load categories:",Q),i([])}finally{l(!1)}},W=(Q=null)=>{Q?(u(Q),y({name:Q.name||"",name_ar:Q.name_ar||"",description:Q.description||"",status:Q.status||"active"})):(u(null),y({name:"",name_ar:"",description:"",status:"active"})),x({}),h(!0)},H=()=>{h(!1),u(null),y({name:"",name_ar:"",description:"",status:"active"}),x({})},B=Q=>{y({...g,[Q.target.name]:Q.target.value}),x({})},K=async Q=>{Q.preventDefault(),w(!0),x({});try{m?await We.updateCategory(m.id,g):await We.createCategory(g),await L(),H()}catch(se){se.errors?x(se.errors):x({general:se.message||"Failed to save category"})}finally{w(!1)}},q=Q=>{u(Q),p(!0)},V=async()=>{try{await We.deleteCategory(m.id),await L()}catch(Q){alert("Failed to delete category: "+(Q.message||"Unknown error"))}p(!1),u(null)},te=async(Q=null)=>{b(!0);try{const se={per_page:1e3};Q&&(se.category_id=Q);const ce=await We.listSubCategories(se);let Ae=[];ce!=null&&ce.data?Ae=Array.isArray(ce.data)?ce.data:[]:ce!=null&&ce.sub_categories?Ae=Array.isArray(ce.sub_categories)?ce.sub_categories:[]:Ae=Array.isArray(ce)?ce:[],z(Ae)}catch(se){console.error("Failed to load sub categories:",se),z([])}finally{b(!1)}},U=f.useMemo(()=>a.map(Q=>({...Q,_searchText:`${Q.name||""} ${Q.name_ar||""} ${Q.description||""}`.toLowerCase()})),[a]),M=f.useMemo(()=>_.map(Q=>{const se=a.find(ce=>ce.id===Q.category_id);return{...Q,_searchText:`${Q.name||""} ${Q.name_ar||""} ${(se==null?void 0:se.name)||""}`.toLowerCase()}}),[_,a]),G=(Q=null)=>{Q?(A(Q),T({category_id:Q.category_id||"",name:Q.name||"",name_ar:Q.name_ar||"",description:Q.description||"",status:Q.status||"active"})):(A(null),T({category_id:"",name:"",name_ar:"",description:"",status:"active"})),k({}),j(!0)},X=()=>{j(!1),A(null),T({category_id:"",name:"",name_ar:"",description:"",status:"active"}),k({})},fe=Q=>{T({...R,[Q.target.name]:Q.target.value}),k({})},Ne=async Q=>{var se,ce,Ae,ae;Q.preventDefault(),D(!0),k({});try{N?await We.updateSubCategory(N.id,R):await We.createSubCategory(R),await te(),X()}catch(_e){(ce=(se=_e.response)==null?void 0:se.data)!=null&&ce.errors?k(_e.response.data.errors):(ae=(Ae=_e.response)==null?void 0:Ae.data)!=null&&ae.message?k({general:_e.response.data.message}):k({general:_e.message||"Failed to save sub category"})}finally{D(!1)}},ge=Q=>{A(Q),$(!0)},Pe=async()=>{try{await We.deleteSubCategory(N.id),await te()}catch(Q){alert("Failed to delete sub category: "+(Q.message||"Unknown error"))}$(!1),A(null)},Fe=a.length,ie=a.filter(Q=>Q.status==="active").length,Y=_.length,Z=_.filter(Q=>Q.status==="active").length,xe=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(Q,se)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ge,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:Q||"N/A"}),se.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:se.name_ar})]})]})},{header:"Description",accessor:"description",sortable:!0,render:Q=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:Q||"-"})},{header:"Status",accessor:"status",sortable:!0,render:Q=>{const se=Q==="active";return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${se?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[se&&t.jsx(Me,{size:12,className:"mr-1"}),Q?Q.charAt(0).toUpperCase()+Q.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Q,se)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:ce=>ce.stopPropagation(),children:[t.jsx("button",{onClick:()=>W(se),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:()=>q(se),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Ss,{size:16})})]})}],[]),ye=f.useMemo(()=>[{header:"Sub Category",accessor:"name",sortable:!0,render:(Q,se)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(ca,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:Q||"N/A"}),se.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:se.name_ar})]})]})},{header:"Category",accessor:"category_id",sortable:!0,render:Q=>{const se=a.find(ce=>ce.id===Q);return t.jsx("div",{className:"text-sm text-gray-600",children:se?se.name:`Category ID: ${Q}`})}},{header:"Status",accessor:"status",sortable:!0,render:Q=>{const se=Q==="active";return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${se?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[se&&t.jsx(Me,{size:12,className:"mr-1"}),Q?Q.charAt(0).toUpperCase()+Q.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(Q,se)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:ce=>ce.stopPropagation(),children:[t.jsx("button",{onClick:()=>G(se),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:()=>ge(se),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Ss,{size:16})})]})}],[a]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total Categories",value:Fe,icon:Ge,colorType:"indigo"}),t.jsx(qe,{name:"Active Categories",value:ie,icon:Me,colorType:"green"}),t.jsx(qe,{name:"Total Sub Categories",value:Y,icon:ca,colorType:"blue"}),t.jsx(qe,{name:"Active Sub Categories",value:Z,icon:Me,colorType:"purple"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>n("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ge,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>n("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(ca,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsx(Ye,{onClick:()=>W(),icon:t.jsx(Us,{size:20}),children:"Add Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:xe,data:U,isLoading:o,emptyMessage:"No categories found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, description..."})})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Ye,{onClick:()=>G(),icon:t.jsx(Us,{size:20}),children:"Add Sub Category"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:ye,data:M,isLoading:P,emptyMessage:"No sub categories found",searchable:!0,filterable:!1,searchPlaceholder:"Search by name, category..."})})]}),t.jsx(Ie,{isOpen:c,onClose:H,title:m?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:K,className:"space-y-4",children:[t.jsx(he,{label:"Category Name (English)",name:"name",value:g.name,onChange:B,required:!0,error:S.name}),t.jsx(he,{label:"Category Name (Arabic)",name:"name_ar",value:g.name_ar,onChange:B,error:S.name_ar}),t.jsx(he,{label:"Description",name:"description",value:g.description,onChange:B,textarea:!0,rows:3,error:S.description}),t.jsx(he,{label:"Status",name:"status",type:"select",value:g.status,onChange:B,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:S.status}),S.general&&t.jsx("p",{className:"text-sm text-red-600",children:S.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:H,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Ye,{type:"submit",disabled:C,loading:C,fullWidth:!0,children:m?"Update":"Create"})]})]})}),t.jsx(fn,{isOpen:d,onClose:()=>{p(!1),u(null)},onConfirm:V,title:"Delete Category",message:`Are you sure you want to delete "${m==null?void 0:m.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:E,onClose:X,title:N?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[t.jsx(he,{label:"Category",name:"category_id",type:"select",value:R.category_id,onChange:fe,required:!0,options:a.map(Q=>({value:Q.id,label:Q.name||`Category ${Q.id}`})),error:v.category_id}),t.jsx(he,{label:"Sub Category Name (English)",name:"name",value:R.name,onChange:fe,required:!0,error:v.name}),t.jsx(he,{label:"Sub Category Name (Arabic)",name:"name_ar",value:R.name_ar,onChange:fe,error:v.name_ar}),t.jsx(he,{label:"Description",name:"description",value:R.description,onChange:fe,textarea:!0,rows:3,error:v.description}),t.jsx(he,{label:"Status",name:"status",type:"select",value:R.status,onChange:fe,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:v.status}),v.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:v.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:X,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Ye,{type:"submit",disabled:O,loading:O,fullWidth:!0,children:N?"Update":"Create"})]})]})}),t.jsx(fn,{isOpen:F,onClose:()=>{$(!1),A(null)},onConfirm:Pe,title:"Delete Sub Category",message:`Are you sure you want to delete "${N==null?void 0:N.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},gE=()=>{var $;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState(null),[a,i]=f.useState([]),[o,l]=f.useState(null),[c,h]=f.useState([]),[d,p]=f.useState(!0),[m,u]=f.useState("overview"),[g,y]=f.useState(!1),[S,x]=f.useState(null),[C,w]=f.useState(""),[_,z]=f.useState("all");f.useEffect(()=>{P()},[m]),f.useEffect(()=>(e("Financial Overview"),s("View all financial transactions and settlements"),()=>{e(null),s(null)}),[e,s]);const P=async()=>{p(!0);try{if(m==="overview"){const[N,A]=await Promise.all([We.getFinancialDashboard(),We.getFinancialTransactions({page:1,per_page:10})]);n(N);const R=(A==null?void 0:A.data)||(A==null?void 0:A.transactions)||[];i(Array.isArray(R)?R:[]),l((A==null?void 0:A.summary)||null)}else{const N=await We.getSettlements();h(N.settlements||[])}}catch(N){console.error("Failed to load data:",N)}finally{p(!1)}},b=N=>{x(N),y(!0)},E=f.useMemo(()=>{let N=[...a];if(C){const A=C.toLowerCase();N=N.filter(R=>{const T=R.transaction_type||"",v=String(R.amount||""),k=R.currency||"",O=R.status||"";return T.toLowerCase().includes(A)||v.includes(A)||k.toLowerCase().includes(A)||O.toLowerCase().includes(A)})}return _!=="all"&&(N=N.filter(A=>A.status===_)),N},[a,C,_]),j=f.useMemo(()=>{let N=[...c];if(C){const A=C.toLowerCase();N=N.filter(R=>{const T=R.settlement_month||"",v=String(R.total_revenue||""),k=String(R.group_commission_amount||""),O=R.status||"";return T.toLowerCase().includes(A)||v.includes(A)||k.includes(A)||O.toLowerCase().includes(A)})}return _!=="all"&&(N=N.filter(A=>A.status===_)),N},[c,C,_]),F=N=>{u(N),w(""),z("all")};return t.jsxs("div",{className:"space-y-4",children:[r&&m==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl shadow-lg p-6 border border-primary-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-primary-700 mb-2",children:" Commission Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-primary-900",children:["$",parseFloat(r.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Total commission received"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ho,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl shadow-lg p-6 border border-green-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" Monthly Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["$",parseFloat(r.monthly_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Commission this month"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Mt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl shadow-lg p-6 border border-yellow-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-2",children:"Pending Settlements"}),t.jsxs("p",{className:"text-3xl font-bold text-yellow-900",children:["$",parseFloat(r.pending_settlements||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(tt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl shadow-lg p-6 border border-blue-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-2",children:"Active ACCs"}),t.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.active_accs||0})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ho,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>F("overview"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${m==="overview"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Vr,{size:20,className:m==="overview"?"text-white":"text-gray-500"}),"Overview"]}),t.jsxs("button",{onClick:()=>F("settlements"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${m==="settlements"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ge,{size:20,className:m==="settlements"?"text-white":"text-gray-500"}),"Settlements"]})]})}),m==="overview"&&t.jsxs(t.Fragment,{children:[o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl shadow-lg p-6 border border-emerald-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-2",children:" Total Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-emerald-900 commission-amount",children:["$",parseFloat(o.total_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"From all transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Mt,{className:"text-white",size:32})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl shadow-lg p-6 border border-teal-200 hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-teal-700 mb-2",children:" Completed Commission"}),t.jsxs("p",{className:"text-3xl font-bold text-teal-900 commission-amount",children:["$",parseFloat(o.completed_commission||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"From completed transactions"})]}),t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(ho,{className:"text-white",size:32})})]})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search transactions...",value:C,onChange:N=>w(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:_,onChange:N=>z(N.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider commission-column",children:" Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Provider Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Currency"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Vr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:C||_!=="all"?"No transactions match your search criteria":"No transactions available"})]})})}):E.map((N,A)=>{var R,T,v;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${A*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(Mt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors capitalize",children:((R=N.transaction_type)==null?void 0:R.replace("_"," "))||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(N.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:N.commission_amount?t.jsxs("div",{className:"text-sm font-semibold commission-cell highlight",children:[t.jsx("span",{className:"commission-icon",children:""}),t.jsxs("strong",{children:["$",parseFloat(N.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):t.jsx("span",{className:"text-sm text-gray-400 no-commission",children:"$0.00"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:N.provider_amount?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["$",parseFloat(N.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600 uppercase",children:N.currency||"USD"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${N.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:((T=N.status)==null?void 0:T.charAt(0).toUpperCase())+((v=N.status)==null?void 0:v.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:N.created_at?new Date(N.created_at).toLocaleDateString():"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>b(N),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ts,{size:16})})})})]},N.id||A)})})]})})})]}),m==="settlements"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100 mb-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search settlements...",value:C,onChange:N=>w(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsxs("select",{value:_,onChange:N=>z(N.target.value),className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Settlement Month"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Total Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Request Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:j.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ge,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No settlements found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:C||_!=="all"?"No settlements match your search criteria":"No settlements available"})]})})}):j.map((N,A)=>{var R,T;return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${A*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:t.jsx(tt,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-700 transition-colors",children:N.settlement_month||"-"})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(N.total_revenue||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(N.group_commission_amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${N.status==="paid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":N.status==="pending"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:((R=N.status)==null?void 0:R.charAt(0).toUpperCase())+((T=N.status)==null?void 0:T.slice(1))||"N/A"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-600",children:N.request_date?new Date(N.request_date).toLocaleDateString():"N/A"})})]},N.id||A)})})]})})})]}),t.jsx(Ie,{isOpen:g,onClose:()=>{y(!1),x(null)},title:"Transaction Details",size:"md",children:S&&t.jsxs("div",{className:"modal-content-wrapper",children:[t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:($=S.transaction_type)==null?void 0:$.replace("_"," ")})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Total Amount"}),t.jsxs("p",{className:"modal-amount",children:["$",parseFloat(S.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),S.commission_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#92400E"},children:"Platform Commission"}),t.jsxs("p",{className:"modal-amount",style:{color:"#92400E"},children:["$",parseFloat(S.commission_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by platform"})]}),S.provider_amount&&t.jsxs("div",{className:"modal-content-section",style:{backgroundColor:"#D1FAE5",border:"1px solid #6EE7B7",borderRadius:"8px",padding:"12px"},children:[t.jsx("p",{className:"modal-label",style:{color:"#065F46"},children:"Provider Amount"}),t.jsxs("p",{className:"modal-amount",style:{color:"#065F46"},children:["$",parseFloat(S.provider_amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount received by ACC/provider"})]}),S.payment_type&&t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Type"}),t.jsx("p",{className:"modal-value modal-value-capitalize",children:S.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Currency"}),t.jsx("p",{className:"modal-value modal-value-uppercase",children:S.currency||"USD"})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${S.status==="completed"?"status-completed":"status-pending"}`,children:S.status})]}),t.jsxs("div",{className:"modal-content-section",children:[t.jsx("p",{className:"modal-label",children:"Date"}),t.jsx("p",{className:"modal-value",children:S.created_at?new Date(S.created_at).toLocaleDateString():"N/A"})]})]})})]})},xE=()=>{var F,$,N;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{S()},[m,g]);const S=async()=>{l(!0);try{const A={per_page:1e3};m!=="all"&&(A.type=m),g!=="all"&&(A.status=g);const R=await We.getPaymentTransactions(A),T=(R==null?void 0:R.data)||R||[],v=(R==null?void 0:R.summary)||null;n(Array.isArray(T)?T:(T==null?void 0:T.data)||[]),i(v)}catch(A){console.error("Failed to load transactions:",A),n([]),i(null)}finally{l(!1)}},x=A=>{p(A),h(!0)},C=f.useMemo(()=>r.map(A=>{var R,T;return{...A,_searchText:`${A.transaction_type||""} ${((R=A.payer)==null?void 0:R.name)||""} ${((T=A.payee)==null?void 0:T.name)||""} ${A.amount||""} ${A.currency||""} ${A.status||""} ${A.description||""}`.toLowerCase()}}),[r]),w=(A,R="USD")=>`${parseFloat(A||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${R}`,_=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",z=A=>A?new Date(A).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=A=>{switch(A){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=A=>(A==null?void 0:A.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "))||"N/A",E=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:A=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Vr,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{className:"font-medium text-gray-900",children:b(A)})]})},{header:"Payer",accessor:"payer",sortable:!0,render:A=>A?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:A.type==="acc"||A.type==="training_center"?t.jsx(Je,{className:"h-4 w-4 text-blue-600"}):t.jsx(As,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:A.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:A=>A?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:A.type==="acc"||A.type==="training_center"?t.jsx(Je,{className:"h-4 w-4 text-green-600"}):t.jsx(As,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:A.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(A,R)=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:w(A,R.currency)})},{header:"Status",accessor:"status",sortable:!0,render:A=>{const R={completed:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve},failed:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},refunded:{badgeClass:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300",icon:cr}},T=R[A]||R.pending,v=T.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${T.badgeClass}`,children:[t.jsx(v,{size:12,className:"mr-1"}),A?A.charAt(0).toUpperCase()+A.slice(1):"N/A"]})}},{header:"Date",accessor:"created_at",sortable:!0,render:A=>t.jsx("div",{className:"text-sm text-gray-600",children:_(A)})}],[]),j=f.useMemo(()=>{let A=[...C];return m!=="all"&&(A=A.filter(R=>R.transaction_type===m)),g!=="all"&&(A=A.filter(R=>R.status===g)),A},[C,m,g]);return t.jsxs("div",{className:"space-y-4",children:[a&&t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total Transactions",value:a.total_transactions||0,icon:Vr,colorType:"indigo"}),t.jsx(qe,{name:"Total Amount",value:w(a.total_amount||0),icon:Mt,colorType:"green"}),t.jsx(qe,{name:"Completed",value:w(a.completed_amount||0),icon:ho,colorType:"blue"}),t.jsx(qe,{name:"Pending",value:w(a.pending_amount||0),icon:tt,colorType:"yellow"})]}),t.jsx(lt,{columns:E,data:j,isLoading:o,onView:x,searchable:!0,filterable:!1,emptyMessage:"No transactions found",customFilters:t.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[t.jsxs("select",{value:m,onChange:A=>u(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"commission",children:"Commission"})]}),t.jsxs("select",{value:g,onChange:A=>y(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all text-sm",style:{minWidth:"150px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${P(d.status)}`,children:((F=d.status)==null?void 0:F.charAt(0).toUpperCase())+(($=d.status)==null?void 0:$.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(d.amount,d.currency)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((N=d.payment_method)==null?void 0:N.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((A,R)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[A.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:A.acc.name})]}),A.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:A.training_center.name})]}),A.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[w(A.group_commission_amount)," (",A.group_commission_percentage,"%)"]})]}),A.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[w(A.acc_commission_amount)," (",A.acc_commission_percentage,"%)"]})]})]})},A.id||R))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:z(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:z(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},yE=()=>{const[e,s]=f.useState(null),[r,n]=f.useState(null),[a,i]=f.useState(null),[o,l]=f.useState(null),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),g=async S=>{h(!0);try{let x;switch(S){case"revenue":x=await We.getRevenueReport({group_by:"month"}),s(x),u({type:"revenue",data:x});break;case"accs":x=await We.getACCsReport(),n(x),u({type:"accs",data:x});break;case"certificates":x=await We.getCertificatesReport(),i(x),u({type:"certificates",data:x});break;case"training-centers":x=await We.getTrainingCentersReport(),l(x),u({type:"training-centers",data:x});break;default:break}p(!0)}catch(x){console.error("Failed to load report:",x),alert("Failed to load report: "+(x.message||"Unknown error"))}finally{h(!1)}},y=()=>{if(!m)return null;switch(m.type){case"revenue":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(m.data.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),m.data.revenue&&m.data.revenue.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Revenue by Period"}),t.jsx("div",{className:"space-y-2",children:m.data.revenue.map((S,x)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between",children:[t.jsx("span",{className:"font-medium text-gray-900",children:S.period||"N/A"}),t.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(S.amount||0).toFixed(2)]})]},x))})]})]});case"accs":return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.total_active||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.data.total_pending||0})]})]}),m.data.accs&&m.data.accs.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ACC Details"}),t.jsx(lt,{columns:[{header:"Name",accessor:"name"},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S})}],data:m.data.accs,isLoading:!1,emptyMessage:"No ACCs found."})]})]});case"certificates":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Generated"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.data.total_generated||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Valid"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.valid||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Revoked"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.data.revoked||0})]})]})});case"training-centers":return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.data.total||0})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.data.active||0})]})]})});default:return null}};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View system reports and analytics"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{onClick:()=>g("revenue"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Ge,{className:"h-12 w-12 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"View revenue analytics and trends"})]}),t.jsxs("div",{onClick:()=>g("accs"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Je,{className:"h-12 w-12 text-blue-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ACCs Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"ACC statistics and performance"})]}),t.jsxs("div",{onClick:()=>g("certificates"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(Js,{className:"h-12 w-12 text-green-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Certificates Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Certificate generation statistics"})]}),t.jsxs("div",{onClick:()=>g("training-centers"),className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[t.jsx(ho,{className:"h-12 w-12 text-purple-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Training Centers Report"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Training center statistics"})]})]}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null)},title:(m==null?void 0:m.type)==="revenue"?"Revenue Report":(m==null?void 0:m.type)==="accs"?"ACCs Report":(m==null?void 0:m.type)==="certificates"?"Certificates Report":"Training Centers Report",size:"lg",children:c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):y()})]})},bE=()=>{var E,j,F;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(""),[g,y]=f.useState({}),[S,x]=f.useState(!1);f.useEffect(()=>{C()},[]),f.useEffect(()=>(e("Instructor Authorization Commissions"),s("Set commission percentages for instructor authorizations"),()=>{e(null),s(null)}),[e,s]);const C=async()=>{try{i(!0);const $=await We.getPendingCommissionRequests();n($.authorizations||[])}catch($){console.error("Failed to load authorizations:",$),n([])}finally{i(!1)}},w=$=>{p($),u(""),y({}),l(!0)},_=$=>{p($),h(!0)},z=async $=>{var N;if($.preventDefault(),!m||parseFloat(m)<0||parseFloat(m)>100){y({commission_percentage:"Please enter a valid commission percentage (0-100)"});return}x(!0),y({});try{await We.setInstructorAuthorizationCommission(d.id,{commission_percentage:parseFloat(m)}),await C(),l(!1),p(null),u(""),alert("Commission percentage set successfully. Training Center can now complete payment.")}catch(A){if(console.error("Failed to set commission:",A),(N=A.response)!=null&&N.data){const R=A.response.data;R.errors?y(R.errors):R.message?y({general:R.message}):y(R)}else A.message?y({general:A.message}):y({general:"Failed to set commission percentage. Please try again."})}finally{x(!1)}},P=f.useMemo(()=>r.map($=>{var N,A,R,T,v;return{...$,_searchText:`${((N=$.instructor)==null?void 0:N.first_name)||""} ${((A=$.instructor)==null?void 0:A.last_name)||""} ${((R=$.instructor)==null?void 0:R.email)||""} ${((T=$.acc)==null?void 0:T.name)||""} ${((v=$.training_center)==null?void 0:v.name)||""}`.toLowerCase()}}),[r]),b=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:($,N)=>{var A,R,T;return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(_t,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(A=N.instructor)==null?void 0:A.first_name," ",(R=N.instructor)==null?void 0:R.last_name]}),((T=N.instructor)==null?void 0:T.email)&&t.jsx("div",{className:"text-xs text-gray-500",children:N.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Je,{className:"h-4 w-4 mr-2 text-gray-400"}),($==null?void 0:$.name)||"N/A"]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:$=>t.jsx("div",{className:"text-sm text-gray-600",children:($==null?void 0:$.name)||"N/A"})},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:$=>t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Mt,{className:"h-4 w-4 mr-1 text-green-600"}),parseFloat($||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!1,render:()=>t.jsxs("span",{className:"px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",children:[t.jsx(Ve,{size:12,className:"mr-1"}),"Pending Commission"]})},{header:"Actions",accessor:"actions",sortable:!1,render:($,N)=>t.jsx("div",{onClick:A=>A.stopPropagation(),children:t.jsxs("button",{onClick:()=>w(N),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-sm hover:shadow-md font-medium flex items-center gap-2",children:[t.jsx(M_,{size:16}),"Set Commission"]})})}],[]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:t.jsx(lt,{columns:b,data:P,onView:_,onRowClick:_,isLoading:a,emptyMessage:"No pending commission requests",searchable:!0,filterable:!1,searchPlaceholder:"Search by instructor name, email, ACC, or training center..."})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),p(null),u(""),y({})},title:"Set Commission Percentage",size:"md",children:t.jsxs("form",{onSubmit:z,className:"space-y-4",children:[g.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:g.general})}),d&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:[(E=d.instructor)==null?void 0:E.first_name," ",(j=d.instructor)==null?void 0:j.last_name]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["ACC: ",t.jsx("span",{className:"font-semibold text-gray-900",children:(F=d.acc)==null?void 0:F.name})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Authorization Price: ",t.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(d.authorization_price||0).toFixed(2)]})]})]}),t.jsx(he,{label:"Commission Percentage (%)",name:"commission_percentage",type:"number",value:m,onChange:$=>u($.target.value),required:!0,min:"0",max:"100",step:"0.1",placeholder:"15.5",error:g.commission_percentage,helpText:"Enter the percentage that Group will receive from the authorization payment"}),d&&m&&!isNaN(parseFloat(m))&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Commission Breakdown:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("p",{className:"text-gray-700",children:["Group receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*parseFloat(m)/100).toFixed(2)]})]}),t.jsxs("p",{className:"text-gray-700",children:["ACC receives: ",t.jsxs("span",{className:"font-semibold",children:["$",(parseFloat(d.authorization_price||0)*(100-parseFloat(m))/100).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"outline",fullWidth:!0,onClick:()=>{l(!1),p(null),u(""),y({})},children:"Cancel"}),t.jsx(Ye,{variant:"primary",fullWidth:!0,type:"submit",disabled:S,loading:S,children:"Set Commission"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Instructor Authorization Details",size:"lg",children:t.jsx(Qr,{data:d,isLoading:!1,emptyMessage:"No authorization data available"})})]})},vE=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null),[c,h]=f.useState({publishable_key:"",secret_key:"",is_active:!0}),[d,p]=f.useState({}),[m,u]=f.useState(!1);f.useEffect(()=>{g()},[]),f.useEffect(()=>(e("Stripe Settings"),s("Configure Stripe publishable and secret keys used for online payments"),()=>{e(null),s(null)}),[e,s]);const g=async()=>{var x,C;n(!0),p({});try{let w=null;try{const _=await We.getActiveStripeSetting();w=(_==null?void 0:_.stripe_setting)||(_==null?void 0:_.data)||_||null}catch{}if(!w){const _=await We.listStripeSettings(),z=(_==null?void 0:_.stripe_settings)||(_==null?void 0:_.data)||[];w=z.length>0?z[0]:null}l(w),w&&h({publishable_key:w.publishable_key||w.public_key||w.stripe_key||"",secret_key:w.secret_key||w.secret||w.stripe_secret||"",is_active:typeof w.is_active=="boolean"?w.is_active:w.status?w.status==="active":!0})}catch(w){console.error("Failed to load Stripe settings:",w),p({general:((C=(x=w.response)==null?void 0:x.data)==null?void 0:C.message)||w.message||"Failed to load Stripe settings. Please try again."})}finally{n(!1)}},y=(x,C)=>{h(w=>({...w,[x]:C})),p({})},S=async x=>{var w;x.preventDefault(),i(!0),p({});const C={publishable_key:c.publishable_key.trim(),secret_key:c.secret_key.trim(),is_active:!!c.is_active};try{o!=null&&o.id?await We.updateStripeSetting(o.id,C):await We.createStripeSetting(C),await g(),alert("Stripe settings saved successfully!")}catch(_){console.error("Failed to save Stripe settings:",_);const z=(w=_.response)==null?void 0:w.data;z!=null&&z.errors?p(z.errors):z!=null&&z.message?p({general:z.message}):p({general:_.message||"Failed to save Stripe settings. Please try again."})}finally{i(!1)}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-primary-600"})}):t.jsx("div",{className:"stripe-settings-screen",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg",children:t.jsx(wr,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Payment Configuration"}),t.jsx("p",{className:"text-sm text-primary-100 mt-1",children:"Manage your Stripe API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`text-sm font-medium ${c.is_active?"text-green-300":"text-gray-300"}`,children:c.is_active?"Active":"Inactive"}),t.jsx("button",{type:"button",onClick:()=>y("is_active",!c.is_active),className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white ${c.is_active?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gray-300"}`,children:t.jsx("span",{className:`absolute h-6 w-6 rounded-full bg-white shadow-lg transition-all duration-300 ease-in-out ${c.is_active?"left-[28px]":"left-[4px]"}`})})]})]})}),t.jsxs("div",{className:"p-8",children:[d.general&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 rounded-xl shadow-lg animate-fade-in",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cr,{className:"h-6 w-6 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-800 font-semibold",children:d.general})]})}),t.jsxs("form",{onSubmit:S,className:"space-y-8",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg",children:t.jsx(R_,{className:"h-5 w-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Publishable Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public key for client-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(he,{name:"publishable_key",value:c.publishable_key,onChange:x=>y("publishable_key",x.target.value),placeholder:"pk_live_51ABC...",required:!0,error:d.publishable_key}),c.publishable_key&&t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:t.jsx(Me,{className:"h-5 w-5 text-green-500"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx(ox,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-blue-800",children:["Your Stripe publishable key starts with ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_live_"})," or ",t.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded font-mono text-blue-900",children:"pk_test_"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg",children:t.jsx(Td,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Stripe Secret Key"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private key for server-side operations"})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(he,{name:"secret_key",type:m?"text":"password",value:c.secret_key,onChange:x=>y("secret_key",x.target.value),placeholder:"sk_live_51ABC...",required:!0,error:d.secret_key}),t.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-gray-700 transition-colors",children:m?t.jsx(z_,{className:"h-5 w-5"}):t.jsx(ts,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx(cr,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("p",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Keep this secure!"})," Your secret key starts with ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_live_"})," or ",t.jsx("code",{className:"bg-purple-100 px-1.5 py-0.5 rounded font-mono text-purple-900",children:"sk_test_"}),". Never share this key publicly."]})]})]}),t.jsx("div",{className:"pt-6 border-t-2 border-gray-200",children:t.jsx("button",{type:"submit",disabled:a,className:"w-full px-8 py-4 bg-gradient-to-r from-primary-600 via-primary-700 to-primary-600 text-white rounded-xl hover:from-primary-700 hover:via-primary-800 hover:to-primary-700 font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-2xl flex items-center justify-center gap-3 transform hover:scale-[1.02] active:scale-[0.98]",children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),t.jsx("span",{children:"Saving Settings..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(qo,{className:"h-6 w-6"}),t.jsx("span",{children:"Save Stripe Settings"})]})})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 h-fit sticky top-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-blue-200",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-md",children:t.jsx(ox,{className:"h-4 w-4 text-white"})}),t.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Quick Guide"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-blue-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"1"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Get Your Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Log in to Stripe Dashboard and navigate to API keys."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-indigo-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"2"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Enter Keys"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Copy and paste your keys into the form."})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-lg border border-purple-200",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"3"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-1",children:"Save"}),t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Click Save Settings to complete setup."})]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:t.jsxs("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx("span",{children:"Visit Stripe Dashboard"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})]})})},jE=()=>{var k,O,D,L,W,H;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[C,w]=f.useState({payment_amount:""}),[_,z]=f.useState({rejection_reason:""}),[P,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests from all ACCs"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{E()},[]);const E=async()=>{i(!0);try{const B=await We.getPendingPayments(),q=((B==null?void 0:B.batches)||(B==null?void 0:B.data)||[]).map(V=>{var te,U,M,G,X;return{...V,_searchText:[(te=V.training_center)==null?void 0:te.name,(U=V.training_center)==null?void 0:U.email,(M=V.acc)==null?void 0:M.name,(G=V.acc)==null?void 0:G.email,(X=V.course)==null?void 0:X.name,V.quantity,V.total_amount,V.payment_amount,V.payment_status].filter(Boolean).join(" ").toLowerCase()}});n(q)}catch(B){console.error("Failed to load pending payments:",B),n([])}finally{i(!1)}},j=B=>{h(B),l(!0)},F=B=>{h(B),w({payment_amount:B.final_amount||B.total_amount||""}),b({}),p(!0)},$=B=>{h(B),z({rejection_reason:""}),b({}),u(!0)},N=async()=>{var q,V,te;if(!c)return;if(!C.payment_amount||parseFloat(C.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const B=parseFloat(C.payment_amount),K=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(B-K)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${K.toFixed(2)}`});return}y(!0),b({});try{await We.approvePayment(c.id,{payment_amount:B}),await E(),p(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(U){if(console.error("Failed to approve payment:",U),((q=U.response)==null?void 0:q.status)===422){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),b(G)}else M.message&&b({general:M.message})}else(te=(V=U.response)==null?void 0:V.data)!=null&&te.message?b({general:U.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},A=async()=>{var B,K,q;if(c){if(!_.rejection_reason||_.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(_.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await We.rejectPayment(c.id,{rejection_reason:_.rejection_reason.trim()}),await E(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(V){if(console.error("Failed to reject payment:",V),((B=V.response)==null?void 0:B.status)===422){const te=V.response.data;if(te.errors){const U={};Object.keys(te.errors).forEach(M=>{U[M]=Array.isArray(te.errors[M])?te.errors[M][0]:te.errors[M]}),b(U)}else te.message&&b({general:te.message})}else(q=(K=V.response)==null?void 0:K.data)!=null&&q.message?b({general:V.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},R=B=>`$${parseFloat(B||0).toFixed(2)}`,T=B=>B?new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",v=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(B,K)=>{var q;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Je,{className:"batch-acc-icon",size:16}),t.jsx("span",{children:((q=K.acc)==null?void 0:q.name)||"N/A"})]})}},{header:"Training Center",accessor:"training_center",sortable:!0,render:(B,K)=>{var q;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Je,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((q=K.training_center)==null?void 0:q.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(B,K)=>{var q;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(_s,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((q=K.course)==null?void 0:q.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:B=>t.jsx("span",{children:B||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:B=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Mt,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:R(B)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:B=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Mt,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:R(B)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:B=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Ve,{className:"batch-date-icon",size:16}),t.jsx("span",{children:T(B)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(B,K)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>j(K),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ts,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(lt,{columns:v,data:r,isLoading:a,emptyMessage:r.length===0&&!a?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ve,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, training center, course, amount, or date...",sortable:!0}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ge,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:()=>{l(!1),F(c)},children:"Approve Payment"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,icon:t.jsx(st,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),w({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[P.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:P.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((k=c.acc)==null?void 0:k.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((O=c.training_center)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((D=c.course)==null?void 0:D.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",R(c.final_amount||c.total_amount)]})]}),t.jsx(he,{label:"Payment Amount",name:"payment_amount",type:"number",value:C.payment_amount,onChange:B=>w({...C,payment_amount:B.target.value}),required:!0,min:"0",step:"0.01",error:P.payment_amount,helpText:`Enter the payment amount (should match: ${R(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{p(!1),w({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:N,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),z({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[P.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:P.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"ACC:"})," ",((L=c.acc)==null?void 0:L.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((W=c.training_center)==null?void 0:W.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((H=c.course)==null?void 0:H.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",R(c.payment_amount||c.total_amount)]})]}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:_.rejection_reason,onChange:B=>z({..._,rejection_reason:B.target.value}),required:!0,error:P.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),z({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:A,disabled:S,className:"form-btn form-btn-danger",children:S?"Rejecting...":"Reject Payment"})]})]})})]})};var Oj="clover",NE=function(s){return s===3?"v3":s},Uj="https://js.stripe.com",CE="".concat(Uj,"/").concat(Oj,"/stripe.js"),wE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,_E=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var SE=function(s){return wE.test(s)||_E.test(s)},AE=function(){for(var s=document.querySelectorAll('script[src^="'.concat(Uj,'"]')),r=0;r<s.length;r++){var n=s[r];if(SE(n.src))return n}return null},g0=function(s){var r="",n=document.createElement("script");n.src="".concat(CE).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},kE=function(s,r){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:r})},Hi=null,Ul=null,Bl=null,PE=function(s){return function(r){s(new Error("Failed to load Stripe.js",{cause:r}))}},EE=function(s,r){return function(){window.Stripe?s(window.Stripe):r(new Error("Stripe.js not available"))}},TE=function(s){return Hi!==null?Hi:(Hi=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var a=AE();if(!(a&&s)){if(!a)a=g0(s);else if(a&&Bl!==null&&Ul!==null){var i;a.removeEventListener("load",Bl),a.removeEventListener("error",Ul),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=g0(s)}}Bl=EE(r,n),Ul=PE(n),a.addEventListener("load",Bl),a.addEventListener("error",Ul)}catch(o){n(o);return}}),Hi.catch(function(r){return Hi=null,Promise.reject(r)}))},zE=function(s,r,n){if(s===null)return null;var a=r[0],i=a.match(/^pk_test/),o=NE(s.version),l=Oj;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,r);return kE(c,n),c},Gi,Bj=!1,qj=function(){return Gi||(Gi=TE(null).catch(function(s){return Gi=null,Promise.reject(s)}),Gi)};Promise.resolve().then(function(){return qj()}).catch(function(e){Bj||console.warn(e)});var RE=function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];Bj=!0;var a=Date.now();return qj().then(function(i){return zE(i,r,a)})};function x0(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?x0(Object(r),!0).forEach(function(n){Wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pc=function(s){return typeof s}:pc=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},pc(e)}function Wj(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function FE(e,s){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=e[a]);return r}function DE(e,s){if(e==null)return{};var r=FE(e,s),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vj(e,s){return $E(e)||ME(e,s)||IE(e,s)||LE()}function $E(e){if(Array.isArray(e))return e}function ME(e,s){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(s&&n.length===s));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function IE(e,s){if(e){if(typeof e=="string")return b0(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(e,s)}}function b0(e,s){(s==null||s>e.length)&&(s=e.length);for(var r=0,n=new Array(s);r<s;r++)n[r]=e[r];return n}function LE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var js=function(s,r,n){var a=!!n,i=at.useRef(n);at.useEffect(function(){i.current=n},[n]),at.useEffect(function(){if(!a||!s)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return s.on(r,o),function(){s.off(r,o)}},[a,r,s,i])},Rp=function(s){var r=at.useRef(s);return at.useEffect(function(){r.current=s},[s]),r.current},yi=function(s){return s!==null&&pc(s)==="object"},OE=function(s){return yi(s)&&typeof s.then=="function"},UE=function(s){return yi(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},v0="[object Object]",BE=function e(s,r){if(!yi(s)||!yi(r))return s===r;var n=Array.isArray(s),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(s)===v0,o=Object.prototype.toString.call(r)===v0;if(i!==o)return!1;if(!i&&!n)return s===r;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(var h={},d=0;d<l.length;d+=1)h[l[d]]=!0;for(var p=0;p<c.length;p+=1)h[c[p]]=!0;var m=Object.keys(h);if(m.length!==l.length)return!1;var u=s,g=r,y=function(x){return e(u[x],g[x])};return m.every(y)},Hj=function(s,r,n){return yi(s)?Object.keys(s).reduce(function(a,i){var o=!yi(r)||!BE(s[i],r[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?y0(y0({},a||{}),{},Wj({},i,s[i])):a},null):null},Gj="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",j0=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gj;if(s===null||UE(s))return s;throw new Error(r)},qE=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gj;if(OE(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return j0(a,r)})};var n=j0(s,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},WE=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},xu=at.createContext(null);xu.displayName="ElementsContext";var Kj=function(s,r){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return s},Qj=function(s){var r=s.stripe,n=s.options,a=s.children,i=at.useMemo(function(){return qE(r)},[r]),o=at.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=Vj(o,2),c=l[0],h=l[1];at.useEffect(function(){var m=!0,u=function(y){h(function(S){return S.stripe?S:{stripe:y,elements:y.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&m&&u(g)}):i.tag==="sync"&&!c.stripe&&u(i.stripe),function(){m=!1}},[i,c,n]);var d=Rp(r);at.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var p=Rp(n);return at.useEffect(function(){if(c.elements){var m=Hj(n,p,["clientSecret","fonts"]);m&&c.elements.update(m)}},[n,p,c.elements]),at.useEffect(function(){WE(c.stripe)},[c.stripe]),at.createElement(xu.Provider,{value:c},a)};Qj.propTypes={stripe:At.any,options:At.object};var VE=function(s){var r=at.useContext(xu);return Kj(r,s)},HE=function(){var s=VE("calls useElements()"),r=s.elements;return r};At.func.isRequired;var Yj=at.createContext(null);Yj.displayName="CheckoutContext";At.any,At.shape({clientSecret:At.oneOfType([At.string,At.instanceOf(Promise)]).isRequired,elementsOptions:At.object}).isRequired;var Fp=function(s){var r=at.useContext(Yj),n=at.useContext(xu);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return r}else return Kj(n,s)},GE=["mode"],KE=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},Vs=function(s,r){var n="".concat(KE(s),"Element"),a=function(c){var h=c.id,d=c.className,p=c.options,m=p===void 0?{}:p,u=c.onBlur,g=c.onFocus,y=c.onReady,S=c.onChange,x=c.onEscape,C=c.onClick,w=c.onLoadError,_=c.onLoaderStart,z=c.onNetworksChange,P=c.onConfirm,b=c.onCancel,E=c.onShippingAddressChange,j=c.onShippingRateChange,F=c.onSavedPaymentMethodRemove,$=c.onSavedPaymentMethodUpdate,N=Fp("mounts <".concat(n,">")),A="elements"in N?N.elements:null,R="checkoutState"in N?N.checkoutState:null,T=(R==null?void 0:R.type)==="success"||(R==null?void 0:R.type)==="loading"?R.sdk:null,v=at.useState(null),k=Vj(v,2),O=k[0],D=k[1],L=at.useRef(null),W=at.useRef(null);js(O,"blur",u),js(O,"focus",g),js(O,"escape",x),js(O,"click",C),js(O,"loaderror",w),js(O,"loaderstart",_),js(O,"networkschange",z),js(O,"confirm",P),js(O,"cancel",b),js(O,"shippingaddresschange",E),js(O,"shippingratechange",j),js(O,"savedpaymentmethodremove",F),js(O,"savedpaymentmethodupdate",$),js(O,"change",S);var H;y&&(s==="expressCheckout"?H=y:H=function(){y(O)}),js(O,"ready",H),at.useLayoutEffect(function(){if(L.current===null&&W.current!==null&&(A||T)){var K=null;if(T)switch(s){case"paymentForm":K=T.createPaymentFormElement();break;case"payment":K=T.createPaymentElement(m);break;case"address":if("mode"in m){var q=m.mode,V=DE(m,GE);if(q==="shipping")K=T.createShippingAddressElement(V);else if(q==="billing")K=T.createBillingAddressElement(V);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=T.createExpressCheckoutElement(m);break;case"currencySelector":K=T.createCurrencySelectorElement();break;case"taxId":K=T.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else A&&(K=A.create(s,m));L.current=K,D(K),K&&K.mount(W.current)}},[A,T,m]);var B=Rp(m);return at.useEffect(function(){if(L.current){var K=Hj(m,B,["paymentRequest"]);K&&"update"in L.current&&L.current.update(K)}},[m,B]),at.useLayoutEffect(function(){return function(){if(L.current&&typeof L.current.destroy=="function")try{L.current.destroy(),L.current=null}catch{}}},[]),at.createElement("div",{id:h,className:d,ref:W})},i=function(c){Fp("mounts <".concat(n,">"));var h=c.id,d=c.className;return at.createElement("div",{id:h,className:d})},o=r?i:a;return o.propTypes={id:At.string,className:At.string,onChange:At.func,onBlur:At.func,onFocus:At.func,onReady:At.func,onEscape:At.func,onClick:At.func,onLoadError:At.func,onLoaderStart:At.func,onNetworksChange:At.func,onConfirm:At.func,onCancel:At.func,onShippingAddressChange:At.func,onShippingRateChange:At.func,onSavedPaymentMethodRemove:At.func,onSavedPaymentMethodUpdate:At.func,options:At.object},o.displayName=n,o.__elementType=s,o},Hs=typeof window>"u",QE=at.createContext(null);QE.displayName="EmbeddedCheckoutProviderContext";var YE=function(){var s=Fp("calls useStripe()"),r=s.stripe;return r};Vs("auBankAccount",Hs);var N0=Vs("card",Hs);Vs("cardNumber",Hs);Vs("cardExpiry",Hs);Vs("cardCvc",Hs);Vs("iban",Hs);Vs("payment",Hs);Vs("expressCheckout",Hs);Vs("paymentRequestButton",Hs);Vs("linkAuthentication",Hs);Vs("address",Hs);Vs("shippingAddress",Hs);Vs("paymentMethodMessaging",Hs);Vs("taxId",Hs);let Ki=null,Qi=!1,ql=!1;const JE=async()=>{if(Qi&&Ki)return Ki;if(ql){for(;ql;)await new Promise(e=>setTimeout(e,100));return Ki}try{ql=!0;const e=await yv.getConfig();return e.success&&e.publishable_key?(Ki=e.publishable_key,Qi=!0,Ki):e.is_configured===!1?(console.warn("Stripe is not configured on the backend"),Qi=!0,null):(console.warn("Stripe config response missing publishable_key"),Qi=!0,null)}catch(e){return console.error("Failed to get Stripe config from backend:",e),Qi=!0,null}finally{ql=!1}};let Yi=null,Ha=!1;const XE=async()=>{if(Yi)return Yi;if(Ha){for(;Ha;)await new Promise(e=>setTimeout(e,100));return Yi}try{Ha=!0;const e=await JE();return e?(Yi=RE(e),Yi):(console.warn("Stripe is not configured. Credit card payments will not be available."),null)}catch(e){return console.error("Failed to initialize Stripe:",e),null}finally{Ha=!1}},ZE=({clientSecret:e,amount:s,currency:r,onPaymentSuccess:n,onPaymentError:a,onCancel:i,loading:o})=>{const l=YE(),c=HE(),[h,d]=f.useState(!1),[p,m]=f.useState(null),[u,g]=f.useState(!1),y=C=>{g(C.complete),m(C.error?C.error.message:null)},S=async C=>{if(C.preventDefault(),!l||!c){m("Stripe is not loaded. Please refresh the page.");return}const w=c.getElement(N0);if(!w){m("Card element not found.");return}if(!u){m("Please complete the card details.");return}d(!0),m(null);try{const{error:_,paymentIntent:z}=await l.confirmCardPayment(e,{payment_method:{card:w,billing_details:{}}});if(_){m(_.message),a&&a(_.message),d(!1);return}if(!z){m("Payment intent not returned from Stripe. Please try again."),d(!1);return}if(z.status!=="succeeded"){const P=`Payment not completed. Status: ${z.status}. Please complete the payment and try again.`;m(P),a&&a(P),d(!1);return}w&&w.clear(),n&&n(z)}catch(_){const z=_.message||"Payment failed. Please try again.";m(z),a&&a(z)}finally{d(!1)}},x=h||o;return t.jsxs("form",{onSubmit:S,className:"stripe-payment-form",children:[t.jsxs("div",{className:"payment-amount-display",children:[t.jsx("span",{className:"amount-label",children:"Amount:"}),t.jsxs("span",{className:"amount-value",children:[r||"USD"," ",parseFloat(s||0).toFixed(2)]})]}),t.jsx("div",{className:"card-element-container",children:t.jsx(N0,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},onChange:y})}),p&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"error-message",children:p})}),t.jsxs("div",{className:"payment-actions",children:[t.jsx("button",{type:"button",onClick:i,disabled:x,className:"btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!l||!u||x,className:"btn-pay",children:x?"Processing...":"Pay Now"})]})]})},rd=({isOpen:e,onClose:s,clientSecret:r,paymentIntentId:n,amount:a,currency:i="USD",paymentSummary:o=null,onPaymentSuccess:l,onPaymentError:c})=>{const{user:h}=hr(),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState(null),S=(h==null?void 0:h.role)==="training_center";f.useEffect(()=>{e&&!m&&XE().then(w=>{u(w),w||y("Stripe is not configured on the backend")}).catch(w=>{console.error("Failed to load Stripe config:",w),y("Failed to load Stripe configuration")})},[e,m]),f.useEffect(()=>{e||p(!1)},[e]);const x=async w=>{p(!0);try{l&&await l(w,n)}catch(_){c&&c(_.message||"Payment succeeded but failed to complete transaction.")}finally{p(!1)}},C=w=>{c&&c(w)};return g||!m&&!Ha?t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Stripe Configuration Required"}),t.jsx("p",{className:"text-xs text-yellow-700",children:g||"Stripe is not configured on the backend. Please contact support to enable credit card payments."}),t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still proceed by entering the Payment Intent ID manually after completing payment on Stripe."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})}):Ha?t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment form..."})]})}):r?t.jsxs(Ie,{isOpen:e,onClose:s,title:"Complete Payment",size:"md",children:[o&&t.jsxs("div",{className:"payment-summary mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-2",children:"Payment Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800",children:[o.total_amount&&t.jsxs("p",{children:[t.jsx("strong",{children:"Total Amount:"})," ",o.currency||i," ",parseFloat(o.total_amount||0).toFixed(2)]}),o.discount_amount&&parseFloat(o.discount_amount)>0&&t.jsxs("p",{children:[t.jsx("strong",{children:"Discount:"})," -",o.currency||i," ",parseFloat(o.discount_amount).toFixed(2)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Final Amount:"})," ",o.currency||i," ",parseFloat(o.final_amount||a||0).toFixed(2)]}),o.quantity&&t.jsxs("p",{children:[t.jsx("strong",{children:"Quantity:"})," ",o.quantity]}),o.unit_price&&t.jsxs("p",{children:[t.jsx("strong",{children:"Unit Price:"})," ",o.currency||i," ",parseFloat(o.unit_price).toFixed(2)]}),!S&&(o.commission_amount||o.provider_amount)&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-green-300",children:[t.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Payment Breakdown:"}),o.provider_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Provider Receives:"})," ",o.currency||i," ",parseFloat(o.provider_amount).toFixed(2)]}),o.commission_amount&&t.jsxs("p",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Platform Commission:"})," ",o.currency||i," ",parseFloat(o.commission_amount).toFixed(2)]})]})]})]}),t.jsx(Qj,{stripe:m,children:t.jsx(ZE,{clientSecret:r,amount:a,currency:i,onPaymentSuccess:x,onPaymentError:C,onCancel:s,loading:d})})]}):t.jsx(Ie,{isOpen:e,onClose:s,title:"Payment",size:"md",children:t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-800",children:"Payment intent not created. Please create payment intent first."}),t.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Close"})]})})},eT=()=>{var W,H;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState({}),[g,y]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:""}),[S,x]=f.useState({amount:"",payment_method:"credit_card",payment_intent_id:"",auto_renew:!1}),[C,w]=f.useState(null),[_,z]=f.useState(null),[P,b]=f.useState(!1),[E,j]=f.useState(!1),[F,$]=f.useState(!1);f.useEffect(()=>{N()},[]),f.useEffect(()=>(e("Subscription Management"),s("Manage your ACC subscription and payment details"),()=>{e(null),s(null)}),[e,s]);const N=async()=>{try{i(!0);const B=await Qe.getSubscription();n(B.subscription||null)}catch(B){console.error("Failed to load subscription:",B),n(null)}finally{i(!1)}},A=()=>{y({amount:"",payment_method:"credit_card",payment_intent_id:""}),u({}),w(null),l(!0)},R=async(B,K)=>{var q,V,te;try{const U={amount:parseFloat(g.amount),payment_method:"credit_card",payment_intent_id:K||B.id};if(B&&B.status!=="succeeded"){u({general:`Payment not completed. Status: ${B.status}`});return}await Qe.paySubscription(U),await N(),l(!1),j(!1),w(null),alert("Subscription payment processed successfully!"),window.location.reload()}catch(U){if(console.error("Failed to complete subscription payment:",U),((q=U.response)==null?void 0:q.status)===400){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Payment verification failed. Please contact support."})}else if(((V=U.response)==null?void 0:V.status)===422){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else u({general:(M==null?void 0:M.message)||"Validation failed. Please check your input."})}else if((te=U.response)!=null&&te.data){const M=U.response.data;M.message?u({general:M.message}):u({general:"Payment succeeded but failed to process subscription. Please contact support."})}else u({general:"Payment succeeded but failed to process subscription. Please contact support."});throw U}},T=async()=>{var K,q,V,te;const B=parseFloat(g.amount);if(!g.amount||isNaN(B)||B<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(B<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),w(null);try{const U=await Qe.createSubscriptionPaymentIntent({amount:B});U.success&&U.client_secret&&U.payment_intent_id?(w(U),y(M=>({...M,payment_intent_id:U.payment_intent_id})),j(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(U){if(console.error("Failed to create payment intent:",U),((K=U.response)==null?void 0:K.status)===422){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else M.message?u({general:M.message}):u({general:"Validation failed. Please check your input."})}else if(((q=U.response)==null?void 0:q.status)===400){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Payment service unavailable. Please contact support."})}else if(((V=U.response)==null?void 0:V.status)===500){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Failed to create payment intent. Please try again later."})}else if((te=U.response)!=null&&te.data){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else M.message?u({general:M.message}):u({general:"Failed to create payment intent. Please try again."})}else U.message?u({general:U.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},v=async B=>{B.preventDefault(),await T()},k=()=>{x({amount:r!=null&&r.amount?r.amount.toString():"",payment_method:"credit_card",payment_intent_id:"",auto_renew:(r==null?void 0:r.auto_renew)||!1}),u({}),z(null),h(!0)},O=async(B,K)=>{var q,V,te;try{const U={amount:parseFloat(S.amount),payment_method:"credit_card",payment_intent_id:K||B.id,auto_renew:S.auto_renew||!1};if(B&&B.status!=="succeeded"){u({general:`Payment not completed. Status: ${B.status}`});return}await Qe.renewSubscription(U),await N(),h(!1),$(!1),z(null),alert("Subscription renewed successfully!")}catch(U){if(console.error("Failed to complete subscription renewal:",U),((q=U.response)==null?void 0:q.status)===400){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Payment verification failed. Please contact support."})}else if(((V=U.response)==null?void 0:V.status)===422){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else u({general:(M==null?void 0:M.message)||"Validation failed. Please check your input."})}else if((te=U.response)!=null&&te.data){const M=U.response.data;M.message?u({general:M.message}):u({general:"Payment succeeded but failed to renew subscription. Please contact support."})}else u({general:"Payment succeeded but failed to renew subscription. Please contact support."});throw U}},D=async()=>{var K,q,V,te;const B=parseFloat(S.amount);if(!S.amount||isNaN(B)||B<=0){u({amount:"Please enter a valid amount greater than 0"});return}if(B<1){u({amount:"Amount must be at least $1.00"});return}b(!0),u({}),z(null);try{const U=await Qe.createRenewalPaymentIntent({amount:B});U.success&&U.client_secret&&U.payment_intent_id?(z(U),x(M=>({...M,payment_intent_id:U.payment_intent_id})),$(!0)):u({general:"Failed to create payment intent. Invalid response from server."})}catch(U){if(console.error("Failed to create payment intent:",U),((K=U.response)==null?void 0:K.status)===422){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else M.message?u({general:M.message}):u({general:"Validation failed. Please check your input."})}else if(((q=U.response)==null?void 0:q.status)===400){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Payment service unavailable. Please contact support."})}else if(((V=U.response)==null?void 0:V.status)===500){const M=U.response.data;u({general:(M==null?void 0:M.message)||"Failed to create payment intent. Please try again later."})}else if((te=U.response)!=null&&te.data){const M=U.response.data;if(M.errors){const G={};Object.keys(M.errors).forEach(X=>{G[X]=Array.isArray(M.errors[X])?M.errors[X][0]:M.errors[X]}),u(G)}else M.message?u({general:M.message}):u({general:"Failed to create payment intent. Please try again."})}else U.message?u({general:U.message}):u({general:"Failed to create payment intent. Please try again."})}finally{b(!1)}},L=async B=>{B.preventDefault(),await D()};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[r?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Current Subscription"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription details"})]}),t.jsx("span",{className:`px-4 py-2 rounded-full font-medium ${r.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((W=r.payment_status)==null?void 0:W.toUpperCase())||"PENDING"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Start Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_start_date?new Date(r.subscription_start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tt,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"End Date"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(wr,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Amount"})]}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",((H=r.amount)==null?void 0:H.toLocaleString())||"0.00"]})]}),r.auto_renew!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Me,{className:"text-primary-600 mr-2",size:20}),t.jsx("span",{className:"font-medium text-gray-700",children:"Auto Renew"})]}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.auto_renew?"Enabled":"Disabled"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[r.payment_status!=="paid"&&t.jsxs("button",{onClick:A,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(wr,{className:"inline-block mr-2",size:18}),"Pay Subscription"]}),t.jsx("button",{onClick:k,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:"Manage Renewal"})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 border border-gray-200",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-yellow-100 mb-6",children:t.jsx(cr,{className:"h-10 w-10 text-yellow-600"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Active Subscription"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to subscribe to access all ACC features. Please complete your subscription payment to continue."}),t.jsxs("button",{onClick:A,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl font-semibold",children:[t.jsx(wr,{className:"inline-block mr-2",size:20}),"Subscribe Now"]})]})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),u({})},title:"Subscribe / Pay Subscription",size:"md",children:t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:m.general})}),t.jsx(he,{label:"Amount",name:"amount",type:"number",value:g.amount,onChange:B=>y({...g,amount:B.target.value}),required:!0,min:"1",step:"0.01",placeholder:"5000.00",error:m.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P||d||!g.amount||parseFloat(g.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:P||d?"Processing...":"Pay Now"})]})]})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u({})},title:"Manage Subscription Renewal",size:"md",children:t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:m.general})}),t.jsx(he,{label:"Amount",name:"amount",type:"number",value:S.amount,onChange:B=>x({...S,amount:B.target.value}),required:!0,min:"1",step:"0.01",placeholder:"10000.00",error:m.amount}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"text-xs text-blue-700",children:'Payment will be processed securely through Stripe. Click "Renew Subscription" below to enter your card details.'})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:S.auto_renew,onChange:B=>x({...S,auto_renew:B.target.checked}),className:"w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-gray-700 font-medium",children:"Enable Auto-Renewal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"When enabled, your subscription will automatically renew at the end of the current period."})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>{h(!1),u({})},className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:P||d||!S.amount||parseFloat(S.amount)<=0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-sm",children:P||d?"Processing...":"Renew Subscription"})]})]})}),t.jsx(rd,{isOpen:E,onClose:()=>{j(!1)},clientSecret:C==null?void 0:C.client_secret,paymentIntentId:C==null?void 0:C.payment_intent_id,amount:g.amount,currency:(C==null?void 0:C.currency)||"USD",onPaymentSuccess:R,onPaymentError:B=>{u({general:B})}}),t.jsx(rd,{isOpen:F,onClose:()=>{$(!1)},clientSecret:_==null?void 0:_.client_secret,paymentIntentId:_==null?void 0:_.payment_intent_id,amount:S.amount,currency:(_==null?void 0:_.currency)||"USD",onPaymentSuccess:O,onPaymentError:B=>{u({general:B})}})]})},tT=()=>{const{user:e}=hr(),{setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState({name:"",legal_name:"",email:"",phone:"",country:"",address:"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),[i,o]=f.useState(null),[l,c]=f.useState(null),[h,d]=f.useState([]),[p,m]=f.useState([]),[u,g]=f.useState([]),[y,S]=f.useState(!1),[x,C]=f.useState(null),[w,_]=f.useState(!1),[z,P]=f.useState(!0),[b,E]=f.useState(!1),[j,F]=f.useState({}),[$,N]=f.useState(""),[A,R]=f.useState({current_password:"",password:"",password_confirmation:""}),[T,v]=f.useState(!1),[k,O]=f.useState(!1),[D,L]=f.useState(null),[W,H]=f.useState(""),[B,K]=f.useState("license"),[q,V]=f.useState([]),[te,U]=f.useState([]),[M,G]=f.useState([]),[X,fe]=f.useState(!1),[Ne,ge]=f.useState(!1),[Pe,Fe]=f.useState(!1);f.useEffect(()=>{Y()},[]),f.useEffect(()=>{q.length>0&&ie()},[q.length]),f.useEffect(()=>{n.mailing_country?Z(n.mailing_country):U([])},[n.mailing_country]),f.useEffect(()=>{n.physical_country?xe(n.physical_country):G([])},[n.physical_country]);const ie=async()=>{var ee,de,Ce,Te,ze,$e,Ke,dt;try{P(!0);const yt=await Qe.getProfile(),rt=(yt==null?void 0:yt.profile)||(yt==null?void 0:yt.acc)||(yt==null?void 0:yt.data)||yt||{};C(rt),d(rt.documents||[]);let ct=rt.country||"",nt=((ee=rt.mailing_address)==null?void 0:ee.country)||"",Tt=((de=rt.physical_address)==null?void 0:de.country)||"";if(q.length>0){if(ct){const Ze=q.find(pt=>pt.name===ct||pt.code===ct);Ze&&(ct=Ze.code)}if(nt){const Ze=q.find(pt=>pt.name===nt||pt.code===nt);Ze&&(nt=Ze.code)}if(Tt){const Ze=q.find(pt=>pt.name===Tt||pt.code===Tt);Ze&&(Tt=Ze.code)}}a({name:rt.name||(e==null?void 0:e.name)||"",legal_name:rt.legal_name||"",email:rt.email||(e==null?void 0:e.email)||"",phone:rt.phone||(e==null?void 0:e.phone)||"",country:ct,address:rt.address||(e==null?void 0:e.address)||"",website:rt.website||"",registration_number:rt.registration_number||"",stripe_account_id:rt.stripe_account_id||"",mailing_street:((Ce=rt.mailing_address)==null?void 0:Ce.street)||"",mailing_city:((Te=rt.mailing_address)==null?void 0:Te.city)||"",mailing_country:nt,mailing_postal_code:((ze=rt.mailing_address)==null?void 0:ze.postal_code)||"",physical_street:(($e=rt.physical_address)==null?void 0:$e.street)||"",physical_city:((Ke=rt.physical_address)==null?void 0:Ke.city)||"",physical_country:Tt,physical_postal_code:((dt=rt.physical_address)==null?void 0:dt.postal_code)||""}),nt&&await Z(nt),Tt&&await xe(Tt),rt.logo_url?c(rt.logo_url):c(null)}catch(yt){console.error("Failed to load profile:",yt),e&&(a({name:e.name||"",legal_name:"",email:e.email||"",phone:e.phone||"",country:"",address:e.address||"",website:"",registration_number:"",stripe_account_id:"",mailing_street:"",mailing_city:"",mailing_country:"",mailing_postal_code:"",physical_street:"",physical_city:"",physical_country:"",physical_postal_code:""}),c(null)),d([])}finally{P(!1)}};f.useEffect(()=>(s("Profile"),r("Manage your account information"),()=>{s(null),r(null)}),[s,r]);const Y=async()=>{fe(!0);try{const ee=await Fn.getCountries();V(ee.countries||ee.data||[])}catch(ee){console.error("Failed to load countries:",ee),V([])}finally{fe(!1)}},Z=async ee=>{var de;if(!ee){U([]);return}ge(!0);try{const Ce=await Fn.getCities(ee);let Te=Ce.cities||((de=Ce.data)==null?void 0:de.cities)||Ce.data||Ce||[];!Array.isArray(Te)&&typeof Te=="object"&&(Te=Object.values(Te)),U(Array.isArray(Te)?Te:[])}catch(Ce){console.error("Failed to load mailing cities:",Ce),U([])}finally{ge(!1)}},xe=async ee=>{var de;if(!ee){G([]);return}Fe(!0);try{const Ce=await Fn.getCities(ee);let Te=Ce.cities||((de=Ce.data)==null?void 0:de.cities)||Ce.data||Ce||[];!Array.isArray(Te)&&typeof Te=="object"&&(Te=Object.values(Te)),G(Array.isArray(Te)?Te:[])}catch(Ce){console.error("Failed to load physical cities:",Ce),G([])}finally{Fe(!1)}},ye=ee=>{if(!ee)return"";const de=q.find(Ce=>Ce.code===ee||Ce.name===ee);return de?de.name:ee},Q=ee=>ee||"",se=ee=>{const{name:de,value:Ce}=ee.target,Te={...n,[de]:Ce};de==="mailing_country"?Te.mailing_city="":de==="physical_country"&&(Te.physical_city=""),a(Te),j[de]&&F(ze=>{const $e={...ze};return delete $e[de],$e})},ce=async(ee,de)=>{if(!ee||!de||ee.size!==de.size||ee.name!==de.name)return!1;try{const[Ce,Te]=await Promise.all([Ae(ee),Ae(de)]);return Ce===Te}catch(Ce){return console.error("Error comparing files:",Ce),ee.size===de.size&&ee.name===de.name&&ee.lastModified===de.lastModified}},Ae=ee=>new Promise((de,Ce)=>{const Te=new FileReader;Te.onload=ze=>{const $e=ze.target.result,Ke=new Uint8Array($e);let dt=0;const yt=Math.min(1e3,Ke.length);for(let rt=0;rt<yt;rt++)dt=(dt<<5)-dt+Ke[rt],dt=dt&dt;de(`${dt}_${ee.size}_${ee.name}`)},Te.onerror=Ce,Te.readAsArrayBuffer(ee)}),ae=async ee=>{if(!ee||!(x!=null&&x.logo_url))return!0;try{const Ce=await(await fetch(x.logo_url)).blob(),Te=new Dl([Ce],x.logo_url.split("/").pop(),{type:Ce.type});return!await ce(ee,Te)}catch(de){return console.error("Error comparing logo:",de),!0}},_e=async(ee,de)=>{if(!ee||!de)return!0;try{const Te=await(await fetch(de)).blob(),ze=new Dl([Te],de.split("/").pop(),{type:Te.type});return!await ce(ee,ze)}catch(Ce){return console.error("Error comparing document:",Ce),!0}},Ee=async ee=>{const de=ee.target.files[0];if(de){if(!["image/jpeg","image/jpg","image/png"].includes(de.type)){F({logo:"Logo must be an image file (JPG, JPEG, or PNG only)"}),ee.target.value="";return}if(de.size>5*1024*1024){F({logo:"Logo size must not exceed 5MB"}),ee.target.value="";return}if(!await ae(de)){F({logo:"This file is the same as the current logo. No changes needed."}),ee.target.value="";return}o(de);const ze=new FileReader;ze.onloadend=()=>{c(ze.result)},ze.readAsDataURL(de),j.logo&&F($e=>{const Ke={...$e};return delete Ke.logo,Ke})}},ne=async ee=>{var de,Ce,Te,ze,$e,Ke,dt,yt,rt;ee.preventDefault(),_(!0),F({}),N("");try{const ct=p.length>0||u.length>0,nt=i!==null,Tt=Object.keys(n).some(Ze=>{var bs,vs;const pt=n[Ze],Kt=(x==null?void 0:x[Ze])||(Ze.startsWith("mailing_")?(bs=x==null?void 0:x.mailing_address)==null?void 0:bs[Ze.replace("mailing_","")]:null)||(Ze.startsWith("physical_")?(vs=x==null?void 0:x.physical_address)==null?void 0:vs[Ze.replace("physical_","")]:null)||"";return pt!==Kt});if(!ct&&!nt&&!Tt){N("No changes to save."),setTimeout(()=>N(""),3e3),_(!1);return}if(ct||nt){const Ze=new FormData;Object.keys(n).forEach(bs=>{const vs=n[bs];vs!=null&&vs!==""&&Ze.append(bs,vs)}),i&&Ze.append("logo",i),p.forEach((bs,vs)=>{Ze.append(`documents[${vs}][document_type]`,bs.document_type),Ze.append(`documents[${vs}][file]`,bs.file)}),u.forEach((bs,vs)=>{const Ca=p.length+vs;Ze.append(`documents[${Ca}][id]`,bs.id.toString()),Ze.append(`documents[${Ca}][document_type]`,bs.document_type),bs.file&&Ze.append(`documents[${Ca}][file]`,bs.file)});const pt=await Qe.updateProfile(Ze),Kt=(pt==null?void 0:pt.profile)||pt||{};C(Kt),d(Kt.documents||[]),Kt.logo_url?c(Kt.logo_url):c(null),m([]),g([]),o(null)}else{const Ze={};if(Object.keys(n).forEach(pt=>{var vs,Ca;const Kt=n[pt],bs=(x==null?void 0:x[pt])||(pt.startsWith("mailing_")?(vs=x==null?void 0:x.mailing_address)==null?void 0:vs[pt.replace("mailing_","")]:null)||(pt.startsWith("physical_")?(Ca=x==null?void 0:x.physical_address)==null?void 0:Ca[pt.replace("physical_","")]:null)||"";Kt!==bs&&Kt!==null&&Kt!==void 0&&Kt!==""&&(Ze[pt]=Kt)}),Object.keys(Ze).length>0){const pt=await Qe.updateProfile(Ze),Kt=(pt==null?void 0:pt.profile)||pt||{};C(Kt),d(Kt.documents||[]),Kt.logo_url?c(Kt.logo_url):c(null)}}await ie(),N("Profile updated successfully!"),E(!1),setTimeout(()=>N(""),3e3)}catch(ct){if(console.error("Failed to update profile:",ct),((de=ct.response)==null?void 0:de.status)===401)F({general:"Unauthenticated. Please log in again."});else if(((Ce=ct.response)==null?void 0:Ce.status)===404)F({general:"ACC profile not found."});else if(((Te=ct.response)==null?void 0:Te.status)===422){const nt=ct.response.data;if(nt.errors){const Tt={};Object.keys(nt.errors).forEach(Ze=>{if(Ze.startsWith("documents.")){const pt=Ze.match(/^documents\.\d+\.(.+)$/);if(pt){pt[1];const Kt=Array.isArray(nt.errors[Ze])?nt.errors[Ze][0]:nt.errors[Ze];Tt.documents?Tt.documents+=`; ${Kt}`:Tt.documents=Kt}else Tt[Ze]=Array.isArray(nt.errors[Ze])?nt.errors[Ze][0]:nt.errors[Ze]}else Tt[Ze]=Array.isArray(nt.errors[Ze])?nt.errors[Ze][0]:nt.errors[Ze]}),F(Tt)}else nt.message?F({general:nt.message}):F({general:"Validation failed. Please check your input."})}else((ze=ct.response)==null?void 0:ze.status)===500?F({general:(($e=ct.response.data)==null?void 0:$e.message)||"Profile update failed. Please try again."}):(dt=(Ke=ct.response)==null?void 0:Ke.data)!=null&&dt.errors?F(ct.response.data.errors):(rt=(yt=ct.response)==null?void 0:yt.data)!=null&&rt.message?F({general:ct.response.data.message}):F({general:ct.message||"Failed to update profile. Please try again."})}finally{_(!1)}},oe=()=>{var ee,de,Ce,Te,ze,$e,Ke,dt;if(E(!1),F({}),m([]),g([]),o(null),x){let yt=x.country||"",rt=((ee=x.mailing_address)==null?void 0:ee.country)||"",ct=((de=x.physical_address)==null?void 0:de.country)||"";if(q.length>0){if(yt){const nt=q.find(Tt=>Tt.name===yt||Tt.code===yt);nt&&(yt=nt.code)}if(rt){const nt=q.find(Tt=>Tt.name===rt||Tt.code===rt);nt&&(rt=nt.code)}if(ct){const nt=q.find(Tt=>Tt.name===ct||Tt.code===ct);nt&&(ct=nt.code)}}a({name:x.name||(e==null?void 0:e.name)||"",legal_name:x.legal_name||"",email:x.email||(e==null?void 0:e.email)||"",phone:x.phone||(e==null?void 0:e.phone)||"",country:yt,address:x.address||(e==null?void 0:e.address)||"",website:x.website||"",registration_number:x.registration_number||"",stripe_account_id:x.stripe_account_id||"",mailing_street:((Ce=x.mailing_address)==null?void 0:Ce.street)||"",mailing_city:((Te=x.mailing_address)==null?void 0:Te.city)||"",mailing_country:rt,mailing_postal_code:((ze=x.mailing_address)==null?void 0:ze.postal_code)||"",physical_street:(($e=x.physical_address)==null?void 0:$e.street)||"",physical_city:((Ke=x.physical_address)==null?void 0:Ke.city)||"",physical_country:ct,physical_postal_code:((dt=x.physical_address)==null?void 0:dt.postal_code)||""}),d(x.documents||[]),x.logo_url?c(x.logo_url):c(null)}},re=(ee,de)=>{if(!ee||!de)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(ee.type)){F({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(ee.size>10*1024*1024){F({documents:"File size must not exceed 10MB"});return}m([...p,{file:ee,document_type:de}]),j.documents&&F(Te=>{const ze={...Te};return delete ze.documents,ze})},I=ee=>{m(p.filter((de,Ce)=>Ce!==ee))},J=async(ee,de,Ce)=>{if(!Ce)return;if(de){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(de.type)){F({documents:"File must be PDF, JPG, JPEG, or PNG"});return}if(de.size>10*1024*1024){F({documents:"File size must not exceed 10MB"});return}const $e=h.find(Ke=>Ke.id===ee);if($e!=null&&$e.document_url&&!await _e(de,$e.document_url)){F({documents:"This file is the same as the current document. No changes needed."});return}}const Te=u.findIndex(ze=>ze.id===ee);if(Te>=0){const ze=[...u];ze[Te]={id:ee,file:de||ze[Te].file,document_type:Ce},g(ze)}else g([...u,{id:ee,file:de,document_type:Ce}]);j.documents&&F(ze=>{const $e={...ze};return delete $e.documents,$e})},ue=ee=>{g(u.filter(de=>de.id!==ee))},me=ee=>({license:"License",registration:"Registration",certificate:"Certificate",other:"Other"})[ee]||ee,be=ee=>ee?new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",pe=ee=>{const{name:de,value:Ce}=ee.target;R({...A,[de]:Ce}),j[de]&&F(Te=>{const ze={...Te};return delete ze[de],ze})},we=async ee=>{var de,Ce,Te,ze;if(ee&&ee.preventDefault&&ee.preventDefault(),!A.current_password||!A.password||!A.password_confirmation){F({password:"All password fields are required"});return}v(!0),F({}),N("");try{await nr.changePassword(A),N("Password changed successfully!"),R({current_password:"",password:"",password_confirmation:""}),setTimeout(()=>N(""),3e3)}catch($e){console.error("Failed to change password:",$e),(Ce=(de=$e.response)==null?void 0:de.data)!=null&&Ce.errors?F($e.response.data.errors):(ze=(Te=$e.response)==null?void 0:Te.data)!=null&&ze.message?F({password:$e.response.data.message}):F({password:$e.message||"Failed to change password. Please try again."})}finally{v(!1)}},ke=async()=>{var ee,de,Ce,Te;if(!n.stripe_account_id||!n.stripe_account_id.trim()){H("Please enter a Stripe Account ID");return}if(!n.stripe_account_id.startsWith("acct_")){H('Stripe Account ID must start with "acct_"');return}O(!0),H(""),L(null);try{const ze=await Qe.verifyStripeAccount(n.stripe_account_id.trim());ze.valid&&ze.account?(L(ze.account),H("")):(H(ze.message||ze.error||"Invalid Stripe Account"),L(null))}catch(ze){const $e=((de=(ee=ze.response)==null?void 0:ee.data)==null?void 0:de.message)||((Te=(Ce=ze.response)==null?void 0:Ce.data)==null?void 0:Te.error)||ze.message||"Failed to verify Stripe Account";H($e),L(null)}finally{O(!1)}},je=async()=>{var de,Ce,Te,ze;if(!confirm("Are you sure you want to remove your Stripe Account? This will stop automatic payment splitting."))return;const ee={...n,stripe_account_id:""};a(ee),L(null),H("");try{_(!0);const $e=new FormData;Object.keys(ee).forEach(Ke=>{Ke==="stripe_account_id"?$e.append(Ke,""):ee[Ke]!==null&&ee[Ke]!==void 0&&$e.append(Ke,ee[Ke])}),await Qe.updateProfile($e),await ie(),N("Stripe Account removed successfully!"),setTimeout(()=>N(""),3e3)}catch($e){console.error("Failed to remove Stripe Account:",$e);const Ke={};(Ce=(de=$e.response)==null?void 0:de.data)!=null&&Ce.errors&&Object.assign(Ke,$e.response.data.errors),Ke.stripe_account=((ze=(Te=$e.response)==null?void 0:Te.data)==null?void 0:ze.message)||$e.message||"Failed to remove Stripe Account",F(Ke)}finally{_(!1)}};return z?t.jsx("div",{className:"profile-loading-container",children:t.jsx("div",{className:"profile-loading-spinner"})}):t.jsxs("div",{className:"profile-container",children:[$&&t.jsxs("div",{className:"profile-success-message",children:[t.jsx(Me,{size:20}),t.jsx("span",{children:$})]}),j.general&&t.jsxs("div",{className:"profile-error-message",children:[t.jsx(cr,{size:20}),t.jsx("span",{children:j.general})]}),t.jsxs("div",{className:"profile-content",children:[t.jsxs("div",{className:"profile-header",children:[t.jsx("div",{className:"profile-avatar-section",children:t.jsxs("div",{className:"profile-avatar-container",children:[l?t.jsx("img",{src:l,alt:"Organization Logo",className:"profile-avatar",onError:ee=>{ee.target.style.display="none",ee.target.nextSibling&&(ee.target.nextSibling.style.display="flex")}}):null,t.jsx("div",{className:"profile-avatar-placeholder",style:{display:l?"none":"flex"},children:t.jsx(Je,{size:48})}),b&&t.jsxs("label",{className:"profile-avatar-upload-overlay",title:"Click to upload logo",children:[t.jsx(Ds,{size:20}),t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Ee,style:{display:"none"}})]}),b&&i&&t.jsx("div",{className:"profile-avatar-file-info",children:t.jsx("p",{className:"text-xs text-white bg-black bg-opacity-70 px-2 py-1 rounded",children:i.name})}),b&&j.logo&&t.jsx("div",{className:"profile-avatar-file-info",style:{bottom:"-3.5rem"},children:t.jsx("p",{className:"text-xs text-red-600 bg-red-50 border border-red-200 px-2 py-1 rounded",children:j.logo})})]})}),t.jsxs("div",{className:"profile-header-info",children:[t.jsx("h1",{className:"profile-name",children:n.name||"ACC Admin"}),t.jsx("p",{className:"profile-email",children:n.email||"No email provided"}),!b&&t.jsxs("button",{onClick:()=>E(!0),className:"profile-edit-btn",children:[t.jsx(gs,{size:18}),"Edit Profile"]})]})]}),t.jsxs("form",{onSubmit:ne,className:"profile-form",children:[t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(As,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Basic Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your personal and contact details"})]})]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(he,{label:"Name",name:"name",type:"text",value:n.name,onChange:se,required:!0,disabled:!b,error:j.name}),t.jsx(he,{label:"Legal Name",name:"legal_name",type:"text",value:n.legal_name,onChange:se,disabled:!b,error:j.legal_name,helpText:"Official legal name of your organization"}),t.jsx(he,{label:"Email",name:"email",type:"email",value:n.email,onChange:se,required:!0,disabled:!b,error:j.email}),t.jsx(he,{label:"Phone",name:"phone",type:"tel",value:n.phone,onChange:se,disabled:!b,error:j.phone}),t.jsx(he,{label:"Website",name:"website",type:"url",value:n.website,onChange:se,placeholder:"https://example.com",disabled:!b,error:j.website}),t.jsx(he,{label:"Registration Number",name:"registration_number",type:"text",value:n.registration_number,onChange:se,disabled:!b,error:j.registration_number,helpText:"Official registration number of your organization"})]}),x&&t.jsxs("div",{className:"profile-readonly-info",children:[t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Status:"}),t.jsx("span",{className:`profile-status-badge ${x.status||"active"}`,children:x.status||"Active"})]}),x.commission_percentage!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Commission Percentage:"}),t.jsxs("span",{className:"profile-info-value",children:[x.commission_percentage,"%"]})]}),x.stripe_account_configured!==void 0&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Stripe Account:"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(cr,{size:14}),"Not Configured"]})}),x.stripe_account_id&&t.jsxs("span",{className:"profile-info-value",style:{marginLeft:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem"},children:["(",x.stripe_account_id,")"]})]}),x.created_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Created At:"}),t.jsx("span",{className:"profile-info-value",children:be(x.created_at)})]}),x.updated_at&&t.jsxs("div",{className:"profile-info-item",children:[t.jsx("span",{className:"profile-info-label",children:"Last Updated:"}),t.jsx("span",{className:"profile-info-value",children:be(x.updated_at)})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:t.jsx(Rt,{className:"text-green-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Address Information"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your location and address details"})]})]}),t.jsxs("div",{className:"profile-form-grid mb-6",children:[t.jsx(he,{label:"Address",name:"address",type:"text",value:n.address,onChange:se,disabled:!b,error:j.address}),b?t.jsx(he,{label:"Country",name:"country",type:"select",value:n.country,onChange:se,disabled:X,options:[{value:"",label:X?"Loading countries...":"Select Country"},...q.map(ee=>({value:ee.code,label:ee.name}))],error:j.country}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ye(n.country)||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(Wt,{className:"text-green-600",size:18}),"Mailing Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(he,{label:"Street",name:"mailing_street",type:"text",value:n.mailing_street,onChange:se,disabled:!b,error:j.mailing_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Country",name:"mailing_country",type:"select",value:n.mailing_country,onChange:se,disabled:X,options:[{value:"",label:X?"Loading countries...":"Select Country"},...q.map(ee=>({value:ee.code,label:ee.name}))],error:j.mailing_country}),t.jsx(he,{label:"City",name:"mailing_city",type:"select",value:n.mailing_city,onChange:se,disabled:!n.mailing_country||Ne,options:[{value:"",label:n.mailing_country?Ne?"Loading cities...":"Select City":"Select country first"},...te.map(ee=>({value:ee.name||ee,label:ee.name||ee}))],error:j.mailing_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ye(n.mailing_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:Q(n.mailing_city)||"Not specified"})]})]}),t.jsx(he,{label:"Postal Code",name:"mailing_postal_code",type:"text",value:n.mailing_postal_code,onChange:se,disabled:!b,error:j.mailing_postal_code})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(Rt,{className:"text-green-600",size:18}),"Physical Address"]}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(he,{label:"Street",name:"physical_street",type:"text",value:n.physical_street,onChange:se,disabled:!b,error:j.physical_street}),b?t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Country",name:"physical_country",type:"select",value:n.physical_country,onChange:se,disabled:X,options:[{value:"",label:X?"Loading countries...":"Select Country"},...q.map(ee=>({value:ee.code,label:ee.name}))],error:j.physical_country}),t.jsx(he,{label:"City",name:"physical_city",type:"select",value:n.physical_city,onChange:se,disabled:!n.physical_country||Pe,options:[{value:"",label:n.physical_country?Pe?"Loading cities...":"Select City":"Select country first"},...M.map(ee=>({value:ee.name||ee,label:ee.name||ee}))],error:j.physical_city})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:ye(n.physical_country)||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900",children:Q(n.physical_city)||"Not specified"})]})]}),t.jsx(he,{label:"Postal Code",name:"physical_postal_code",type:"text",value:n.physical_postal_code,onChange:se,disabled:!b,error:j.physical_postal_code})]})]})]}),t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:t.jsx(Ge,{className:"text-purple-600",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Documents"}),b&&t.jsxs("select",{id:"newDocumentType",className:"document-type-dropdown-header",value:B,onChange:ee=>{K(ee.target.value)},onClick:ee=>ee.stopPropagation(),children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization documents"})]})]}),j.documents&&t.jsxs("div",{className:"profile-error-message mb-4",children:[t.jsx(cr,{size:20}),t.jsx("span",{children:j.documents})]}),h.length>0&&t.jsx("div",{className:"documents-grid mb-6",children:h.map(ee=>{const de=u.find(Te=>Te.id===ee.id),Ce=(de==null?void 0:de.document_type)||ee.document_type;return t.jsxs("div",{className:"document-card",children:[t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(Dl,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:me(Ce)}),t.jsxs("p",{className:"document-date",children:["Uploaded: ",be(ee.uploaded_at)]})]}),ee.verified&&t.jsx("div",{className:"document-status",children:t.jsxs("span",{className:"status-badge verified",children:[t.jsx(Me,{size:14}),"Verified"]})})]}),ee.verified&&ee.verified_by&&t.jsxs("div",{className:"document-verification-info",children:[t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified by: ",ee.verified_by.name," (",ee.verified_by.email,")"]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Verified at: ",be(ee.verified_at)]})]}),t.jsxs("div",{className:"document-actions",children:[t.jsxs("a",{href:ee.document_url,target:"_blank",rel:"noopener noreferrer",className:"document-action-btn view",children:[t.jsx(ts,{size:16}),"View"]}),b&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"document-action-btn update",children:[t.jsx(Ds,{size:16}),de!=null&&de.file?"Change File":"Update",t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:Te=>{const ze=Te.target.files[0];ze&&J(ee.id,ze,Ce)}})]}),t.jsxs("select",{value:Ce,onChange:Te=>J(ee.id,null,Te.target.value),className:"document-type-select",disabled:!b,children:[t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"other",children:"Other"})]}),de&&t.jsxs("button",{onClick:()=>ue(ee.id),className:"document-action-btn remove",children:[t.jsx(ks,{size:16}),"Cancel"]})]})]}),(de==null?void 0:de.file)&&t.jsx("div",{className:"document-update-preview",children:t.jsxs("p",{className:"text-xs text-blue-600",children:["New file: ",de.file.name," (",(de.file.size/1024).toFixed(2)," KB)"]})})]},ee.id)})}),b&&p.length>0&&t.jsxs("div",{className:"new-documents-section mb-6",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"New Documents to Upload"}),t.jsx("div",{className:"documents-grid",children:p.map((ee,de)=>t.jsx("div",{className:"document-card new-document",children:t.jsxs("div",{className:"document-card-header",children:[t.jsx("div",{className:"document-icon",children:t.jsx(Dl,{size:24})}),t.jsxs("div",{className:"document-info",children:[t.jsx("h3",{className:"document-title",children:me(ee.document_type)}),t.jsxs("p",{className:"document-date",children:[ee.file.name," (",(ee.file.size/1024).toFixed(2)," KB)"]})]}),t.jsx("button",{onClick:()=>I(de),className:"document-remove-btn",children:t.jsx(Ss,{size:16})})]})},de))})]}),b&&t.jsxs("label",{className:"upload-document-section",htmlFor:"document-upload-input",children:[t.jsxs("div",{className:"upload-document-content",children:[t.jsx(Ds,{size:24,className:"upload-icon"}),t.jsxs("div",{className:"upload-text",children:[t.jsx("p",{className:"upload-main-text",children:"Click to upload document"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accepted formats: PDF, JPG, JPEG, PNG (Max 10MB)"})]})]}),t.jsx("input",{id:"document-upload-input",type:"file",accept:".pdf,.jpg,.jpeg,.png",style:{display:"none"},onChange:ee=>{const de=ee.target.files[0];de&&re(de,B),ee.target.value=""}})]}),!b&&h.length===0&&t.jsxs("div",{className:"no-documents-message",children:[t.jsx(Ge,{size:48,className:"text-gray-300"}),t.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"})]})]})]}),t.jsx("div",{className:"profile-content stripe-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(wr,{className:"text-blue-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Stripe Account"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your Stripe Connect account for automatic payment splitting"})]})]}),t.jsxs("div",{className:"space-y-4",children:[(x==null?void 0:x.stripe_account_configured)!==void 0&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Account Status"}),t.jsx("span",{className:`profile-status-badge ${x.stripe_account_configured?"verified":"pending"}`,children:x.stripe_account_configured?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:14}),"Configured"]}):t.jsxs(t.Fragment,{children:[t.jsx(cr,{size:14}),"Not Configured"]})})]}),x.stripe_account_id&&t.jsx("p",{className:"text-sm text-gray-600 font-mono mt-1",children:x.stripe_account_id})]}),t.jsxs("div",{children:[t.jsx(he,{label:"Stripe Account ID",name:"stripe_account_id",type:"text",value:n.stripe_account_id,onChange:ee=>{se(ee),H(""),L(null)},placeholder:"acct_...",disabled:!b,error:j.stripe_account_id||W,helpText:"Enter your Stripe Connect Account ID (must start with 'acct_')"}),b&&n.stripe_account_id&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:ke,disabled:!n.stripe_account_id.trim()||k||w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:16}),"Verify Account"]})})}),D&&t.jsxs("div",{className:"mt-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Me,{size:16,className:"text-green-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Account Verified"})]}),t.jsxs("div",{className:"space-y-1 text-xs text-green-800 mt-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account ID:"})," ",D.id]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Type:"})," ",D.type||"N/A"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Charges Enabled:"})," ",D.charges_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Payouts Enabled:"})," ",D.payouts_enabled?"Yes":"No"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Details Submitted:"})," ",D.details_submitted?"Yes":"No"]})]}),(!D.charges_enabled||!D.details_submitted)&&t.jsx("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded",children:t.jsxs("p",{className:"text-xs text-yellow-800",children:[t.jsx("strong",{children:"Warning:"})," This account may not be able to receive payments. Please ensure the account is fully configured in Stripe Dashboard."]})})]}),W&&!D&&t.jsxs("div",{className:"mt-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(cr,{size:16,className:"text-red-600 mr-2"}),t.jsx("p",{className:"text-sm font-semibold text-red-900",children:"Verification Failed"})]}),t.jsx("p",{className:"text-xs text-red-800",children:W})]})]}),b&&(x==null?void 0:x.stripe_account_id)&&t.jsx("div",{className:"pt-2 border-t border-gray-200",children:t.jsxs("button",{type:"button",onClick:je,disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:[t.jsx(Ss,{size:16}),"Remove Stripe Account"]})}),t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"About Stripe Connect Accounts"}),t.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:'Stripe Account ID must start with "acct_"'}),t.jsx("li",{children:"When configured, payments are automatically split between you and the platform"}),t.jsx("li",{children:"You receive: Total Amount - Commission"}),t.jsx("li",{children:"Platform receives: Commission (based on your commission percentage)"}),t.jsx("li",{children:"If not configured, all payments go to the platform for manual settlement"})]})]}),b&&t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 justify-end",children:[t.jsxs("button",{type:"button",onClick:oe,className:"profile-cancel-btn",disabled:w,children:[t.jsx(ks,{size:18}),"Cancel"]}),t.jsxs("button",{type:"button",onClick:ee=>{ee.preventDefault(),ne(ee)},className:"profile-save-btn",disabled:w,children:[t.jsx(qo,{size:18}),w?"Saving...":"Save Changes"]})]})]})]})}),t.jsx("div",{className:"profile-content password-section",children:t.jsxs("div",{className:"profile-form-section",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",style:{marginTop:0},children:[t.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:t.jsx(Uf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"profile-section-title",style:{margin:0},children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Update your account password"})]})]}),t.jsx("form",{onSubmit:we,className:"password-form",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(he,{label:"Current Password",type:"password",name:"current_password",value:A.current_password,onChange:pe,required:!0,error:j.current_password}),t.jsxs("div",{className:"profile-form-grid",children:[t.jsx(he,{label:"New Password",type:"password",name:"password",value:A.password,onChange:pe,required:!0,error:j.password}),t.jsx(he,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:A.password_confirmation,onChange:pe,required:!0,error:j.password_confirmation})]}),t.jsx("div",{className:"flex justify-end pt-2",children:t.jsxs("button",{type:"submit",className:"profile-change-password-btn",disabled:T,children:[t.jsx(Td,{size:18}),T?"Changing...":"Change Password"]})})]})})]})})]})]})},sT=()=>{var L,W,H,B,K,q,V,te,U,M,G,X,fe,Ne,ge,Pe,Fe,ie,Y,Z,xe,ye,Q;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r]=_d(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState(""),[x,C]=f.useState(""),[w,_]=f.useState("all"),z=f.useRef(!1);f.useEffect(()=>{const se=r.get("filter");se&&["pending","active","returned","all"].includes(se)&&_(se)},[r]),f.useEffect(()=>{z.current||(z.current=!0,P())},[w]),f.useEffect(()=>(e("Training Centers"),s("Manage training center authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const P=async()=>{o(!0);try{const se={per_page:1e3},[ce,Ae,ae]=await Promise.all([Qe.getTrainingCenterRequests({...se,status:"pending"}),Qe.getTrainingCenterRequests({...se,status:"returned"}),Qe.listAuthorizedTrainingCenters(se)]),_e=(ce.requests||[]).filter(je=>je.status==="pending").map(je=>{var ee,de;return{...je,_normalizedName:((ee=je.training_center)==null?void 0:ee.name)||je.name||"",_normalizedEmail:((de=je.training_center)==null?void 0:de.email)||je.email||"",_normalizedDate:je.request_date,_isRequest:!0}}),Ee=(Ae.requests||[]).filter(je=>je.status==="returned").map(je=>{var ee,de;return{...je,_normalizedName:((ee=je.training_center)==null?void 0:ee.name)||je.name||"",_normalizedEmail:((de=je.training_center)==null?void 0:de.email)||je.email||"",_normalizedDate:je.request_date,_isRequest:!0}}),ne=(ae.training_centers||[]).map(je=>({...je,_normalizedName:je.name||"",_normalizedEmail:je.email||"",_normalizedDate:je.authorized_at||je.created_at||je.updated_at,_isRequest:!1,status:je.status||"active"})),oe=je=>{var ee;return je._isRequest?((ee=je.training_center)==null?void 0:ee.id)||je.training_center_id||je.id:je.id||je.training_center_id},re=je=>{const ee=new Set;return je.filter(de=>{const Ce=oe(de);return Ce&&ee.has(Ce)?!1:(Ce&&ee.add(Ce),!0)})},I=re(_e),J=re(Ee),ue=re(ne),me=new Set;[...I,...J].forEach(je=>{const ee=oe(je);ee&&me.add(ee)});const be=ue.filter(je=>{const ee=oe(je);return!me.has(ee)}),pe=[...I,...J,...be],we=new Set,ke=pe.filter(je=>{const ee=oe(je);return ee?we.has(ee)?!1:(we.add(ee),!0):!0});a(ke)}catch(se){console.error("Failed to load data:",se),a([])}finally{o(!1)}},b=async se=>{if(window.confirm("Approve this training center request?"))try{await Qe.approveTrainingCenterRequest(se),await P(),alert("Training center request approved successfully!")}catch(ce){alert("Failed to approve: "+(ce.message||"Unknown error"))}},E=se=>{g(se),c(!0)},j=se=>{E(se)},F=f.useMemo(()=>[{header:"Training Center",accessor:"_normalizedName",sortable:!0,render:(se,ce)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Je,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:se||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:se=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),se||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:se=>t.jsx("span",{className:"text-sm text-gray-600",children:se?new Date(se).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(se,ce)=>{const Ae={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:sn},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},ae=Ae[se]||Ae.pending,_e=ae.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${ae.badgeClass}`,children:[t.jsx(_e,{size:12,className:"mr-1"}),se?se.charAt(0).toUpperCase()+se.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(se,ce)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Ae=>Ae.stopPropagation(),children:[t.jsx("button",{onClick:()=>E(ce),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ts,{size:16})}),(ce.status==="pending"||ce.status==="returned")&&t.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),b(ce.id)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Me,{size:16})})]})}],[E,b]),$=f.useMemo(()=>{let se=[...n];return w!=="all"&&(se=se.filter(ce=>w==="pending"?ce.status==="pending":w==="returned"?ce.status==="returned":w==="active"?ce.status==="active"||ce.status==="approved"||!ce._isRequest:!0)),se=se.map(ce=>{var Ae,ae;return{...ce,_searchText:`${ce._normalizedName||""} ${ce._normalizedEmail||""} ${((Ae=ce.training_center)==null?void 0:Ae.name)||""} ${((ae=ce.training_center)==null?void 0:ae.email)||""} ${ce.name||""} ${ce.email||""} ${ce.legal_name||""} ${ce.registration_number||""} ${ce.country||""} ${ce.city||""} ${ce.status||""}`.toLowerCase()}}),se},[n,w]),N=se=>{g(se),S(""),d(!0)},A=async()=>{if(!y.trim()){alert("Please provide a rejection reason");return}try{await Qe.rejectTrainingCenterRequest(u.id,{rejection_reason:y}),await P(),d(!1),g(null),S(""),alert("Training center request rejected")}catch(se){alert("Failed to reject: "+(se.message||"Unknown error"))}},R=se=>{g(se),C(""),m(!0)},T=async()=>{if(!x.trim()){alert("Please provide a return comment");return}try{await Qe.returnTrainingCenterRequest(u.id,{return_comment:x}),await P(),m(!1),g(null),C(""),alert("Request returned for revision")}catch(se){alert("Failed to return request: "+(se.message||"Unknown error"))}},v=n.filter(se=>se.status==="pending").length,k=n.filter(se=>se.status==="returned").length,O=n.filter(se=>se.status==="active"||se.status==="approved"||!se._isRequest).length,D=n.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total",value:D,icon:Je,colorType:"indigo",isActive:w==="all",onClick:()=>_("all")}),t.jsx(qe,{name:"Pending",value:v,icon:Ve,colorType:"yellow",isActive:w==="pending",onClick:()=>_("pending")}),t.jsx(qe,{name:"Active",value:O,icon:Me,colorType:"green",isActive:w==="active",onClick:()=>_("active")}),t.jsx(qe,{name:"Returned",value:k,icon:sn,colorType:"blue",isActive:w==="returned",onClick:()=>_("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(lt,{columns:F,data:$,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No training centers found",onRowClick:se=>j(se)})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),g(null)},title:u!=null&&u._isRequest?"Training Center Request Details":"Training Center Details",size:"lg",children:u&&t.jsxs("div",{className:"space-y-6",children:[u._isRequest&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ge,{className:"mr-2",size:20}),"Request Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ei,{size:14,className:"mr-1"}),"Request ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.id]})]}),u.training_center_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Je,{size:14,className:"mr-1"}),"Training Center ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",u.training_center_id]})]}),u.request_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Request Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.request_date).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),u.reviewed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Reviewed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.reviewed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${u.status==="approved"||u.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":u.status==="rejected"?"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300":u.status==="returned"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300"}`,children:[u.status==="pending"&&t.jsx(Ve,{size:12,className:"mr-1"}),u.status==="returned"&&t.jsx(sn,{size:12,className:"mr-1"}),u.status==="approved"&&t.jsx(Me,{size:12,className:"mr-1"}),u.status?u.status.charAt(0).toUpperCase()+u.status.slice(1):"N/A"]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Je,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Je,{size:14,className:"mr-1"}),"Name"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((L=u.training_center)==null?void 0:L.name)||u.name||u._normalizedName||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((W=u.training_center)==null?void 0:W.email)||u.email||u._normalizedEmail||"N/A"})]}),(((H=u.training_center)==null?void 0:H.legal_name)||u.legal_name)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Legal Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((B=u.training_center)==null?void 0:B.legal_name)||u.legal_name})]}),(((K=u.training_center)==null?void 0:K.registration_number)||u.registration_number)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((q=u.training_center)==null?void 0:q.registration_number)||u.registration_number})]}),(((V=u.training_center)==null?void 0:V.phone)||u.phone)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Gr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((te=u.training_center)==null?void 0:te.phone)||u.phone})]}),(((U=u.training_center)==null?void 0:U.website)||u.website)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(mi,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:(((M=u.training_center)==null?void 0:M.website)||u.website).startsWith("http")?((G=u.training_center)==null?void 0:G.website)||u.website:`https://${((X=u.training_center)==null?void 0:X.website)||u.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:((fe=u.training_center)==null?void 0:fe.website)||u.website})]}),(((Ne=u.training_center)==null?void 0:Ne.address)||u.address)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((ge=u.training_center)==null?void 0:ge.address)||u.address})]}),(((Pe=u.training_center)==null?void 0:Pe.city)||u.city)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Fe=u.training_center)==null?void 0:Fe.city)||u.city})]}),(((ie=u.training_center)==null?void 0:ie.country)||u.country)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((Y=u.training_center)==null?void 0:Y.country)||u.country})]}),(((Z=u.training_center)==null?void 0:Z.postal_code)||u.postal_code)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Postal Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((xe=u.training_center)==null?void 0:xe.postal_code)||u.postal_code})]}),(((ye=u.training_center)==null?void 0:ye.description)||u.description)&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:((Q=u.training_center)==null?void 0:Q.description)||u.description})]}),u.authorized_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Authorized At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(u.authorized_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),u._isRequest&&u.documents_json&&Array.isArray(u.documents_json)&&u.documents_json.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Ge,{className:"mr-2",size:20}),"Documents"]}),t.jsx("div",{className:"space-y-2",children:u.documents_json.map((se,ce)=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:se.type||se.document_type||`Document ${ce+1}`}),se.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:se.description})]}),se.url&&t.jsx("a",{href:se.url.startsWith("http")?se.url:`https://aeroenix.com/v1/api${se.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Document"})]})},ce))})]}),u._isRequest&&u.rejection_reason&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(st,{className:"h-5 w-5 text-red-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Rejection Reason"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.rejection_reason})]}),u._isRequest&&u.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(sn,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:u.return_comment})]}),u._isRequest&&u.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),N(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(st,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),R(u)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(sn,{size:20,className:"mr-2"}),"Return"]})]}),u._isRequest&&u.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{b(u.id),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),N(u)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(st,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),g(null),S("")},title:"Reject Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",value:y,onChange:se=>S(se.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),g(null),S("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),g(null),C("")},title:"Return Training Center Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(he,{label:"Return Comment",name:"return_comment",value:x,onChange:se=>C(se.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{m(!1),g(null),C("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:T,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})})]})},rT=()=>{var V,te,U;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r]=_d(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(!1),[y,S]=f.useState(null),[x,C]=f.useState(""),[w,_]=f.useState(""),[z,P]=f.useState(""),[b,E]=f.useState("all"),[j,F]=f.useState({});f.useEffect(()=>{const M=r.get("filter");M&&["pending","active","returned","all"].includes(M)&&E(M)},[r]),f.useEffect(()=>{$()},[b]),f.useEffect(()=>(e("Instructors"),s("Manage instructor authorizations and requests"),()=>{e(null),s(null)}),[e,s]);const $=async()=>{o(!0);try{const M={per_page:1e3},[G,X]=await Promise.all([Qe.getInstructorRequests(M),Qe.listAuthorizedTrainingCenters(M)]),fe=(G==null?void 0:G.requests)||(G==null?void 0:G.data)||[],Ne={};((X==null?void 0:X.training_centers)||(X==null?void 0:X.data)||[]).forEach(oe=>{oe.id&&(Ne[oe.id]=oe.name||oe.legal_name||`TC ${oe.id}`)}),F(Ne);const Pe=oe=>{var re;return((re=oe.instructor)==null?void 0:re.id)||oe.instructor_id||oe.id},Fe=fe.map(oe=>{var ue,me;const re=oe.instructor||oe,I=oe.training_center_id||((ue=oe.training_center)==null?void 0:ue.id),J=I?Ne[I]||((me=oe.training_center)==null?void 0:me.name)||`TC ${I}`:"N/A";return{...oe,_normalizedName:`${re.first_name||""} ${re.last_name||""}`.trim(),_normalizedEmail:re.email||"",_normalizedDate:oe.request_date||oe.created_at||oe.updated_at,_normalizedTrainingCenter:J,_trainingCenterId:I,_isRequest:!0}}),ie=Fe.filter(oe=>oe.status==="pending"),Y=Fe.filter(oe=>oe.status==="returned"),Z=Fe.filter(oe=>oe.status==="approved"||oe.status==="active"),xe=oe=>{const re=new Set;return oe.filter(I=>{const J=Pe(I);return J&&re.has(J)?!1:(J&&re.add(J),!0)})},ye=xe(ie),Q=xe(Y),ce=xe(Z).map(oe=>{const re=oe.instructor||oe;return{...oe,id:re.id||oe.id,first_name:re.first_name||oe.first_name,last_name:re.last_name||oe.last_name,email:re.email||oe.email,phone:re.phone||oe.phone,_normalizedName:`${re.first_name||""} ${re.last_name||""}`.trim(),_normalizedEmail:re.email||"",_normalizedDate:oe.request_date||oe.created_at||oe.updated_at,_normalizedTrainingCenter:oe._normalizedTrainingCenter||"N/A",_trainingCenterId:oe._trainingCenterId,_isRequest:!1,status:"active"}}),Ae=new Set;[...ye,...Q].forEach(oe=>{const re=Pe(oe);re&&Ae.add(re)});const ae=ce.filter(oe=>{const re=Pe(oe);return!Ae.has(re)}),_e=[...ye,...Q,...ae],Ee=new Set,ne=_e.filter(oe=>{const re=Pe(oe);return re?Ee.has(re)?!1:(Ee.add(re),!0):!0});a(ne)}catch(M){console.error("Failed to load data:",M),a([])}finally{o(!1)}},N=M=>{S(M),C(""),d(!0)},A=M=>{S(M),c(!0)},R=M=>{A(M)},T=f.useMemo(()=>[{header:"Instructor",accessor:"_normalizedName",sortable:!0,render:(M,G)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(_t,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:M||"N/A"})})]})},{header:"Email",accessor:"_normalizedEmail",sortable:!0,render:M=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Wt,{className:"h-4 w-4 mr-2 text-gray-400"}),M||"N/A"]})},{header:"Date",accessor:"_normalizedDate",sortable:!0,render:M=>t.jsx("span",{className:"text-sm text-gray-600",children:M?new Date(M).toLocaleDateString():"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:(M,G)=>{const X={approved:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},active:{badgeClass:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300",icon:Me},rejected:{badgeClass:"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300",icon:st},returned:{badgeClass:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",icon:sn},pending:{badgeClass:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300",icon:Ve}},fe=X[M]||X.pending,Ne=fe.icon;return t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${fe.badgeClass}`,children:[t.jsx(Ne,{size:12,className:"mr-1"}),M?M.charAt(0).toUpperCase()+M.slice(1):"N/A"]})}},{header:"Actions",accessor:"actions",sortable:!1,render:(M,G)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:X=>X.stopPropagation(),children:[t.jsx("button",{onClick:()=>A(G),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ts,{size:16})}),(G.status==="pending"||G.status==="returned")&&t.jsx("button",{onClick:X=>{X.stopPropagation(),N(G)},className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Approve",children:t.jsx(Me,{size:16})})]})}],[A,N]),v=f.useMemo(()=>{let M=[...n];return b!=="all"&&(M=M.filter(G=>b==="pending"?G.status==="pending":b==="returned"?G.status==="returned":b==="active"?G.status==="active"||G.status==="approved"||!G._isRequest&&(G.status==="active"||!G.status):!0)),M=M.map(G=>{var X,fe,Ne,ge;return{...G,_searchText:`${G._normalizedName||""} ${G._normalizedEmail||""} ${((X=G.instructor)==null?void 0:X.first_name)||""} ${((fe=G.instructor)==null?void 0:fe.last_name)||""} ${((Ne=G.instructor)==null?void 0:Ne.email)||""} ${((ge=G.training_center)==null?void 0:ge.name)||""} ${G.name||""} ${G.email||""} ${G.status||""}`.toLowerCase()}}),M},[n,b]),k=async()=>{if(!x||parseFloat(x)<=0){alert("Please enter a valid authorization price");return}try{await Qe.approveInstructorRequest(y.id,{authorization_price:parseFloat(x)}),await $(),d(!1),S(null),C(""),alert("Instructor approved successfully. Waiting for Group Admin to set commission percentage.")}catch(M){alert("Failed to approve: "+(M.message||"Unknown error"))}},O=M=>{S(M),_(""),m(!0)},D=async()=>{if(!w.trim()){alert("Please provide a rejection reason");return}try{await Qe.rejectInstructorRequest(y.id,{rejection_reason:w}),await $(),m(!1),S(null),_(""),alert("Instructor request rejected")}catch(M){alert("Failed to reject: "+(M.message||"Unknown error"))}},L=M=>{S(M),P(""),g(!0)},W=async()=>{if(!z.trim()){alert("Please provide a return comment");return}try{await Qe.returnInstructorRequest(y.id,{return_comment:z}),await $(),g(!1),S(null),P(""),alert("Request returned for revision")}catch(M){alert("Failed to return request: "+(M.message||"Unknown error"))}},H=n.filter(M=>M.status==="pending").length,B=n.filter(M=>M.status==="returned").length,K=n.filter(M=>M.status==="active"||M.status==="approved"||!M._isRequest&&(M.status==="active"||!M.status)).length,q=n.length;return t.jsxs("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total",value:q,icon:_t,colorType:"indigo",isActive:b==="all",onClick:()=>E("all")}),t.jsx(qe,{name:"Pending",value:H,icon:Ve,colorType:"yellow",isActive:b==="pending",onClick:()=>E("pending")}),t.jsx(qe,{name:"Active",value:K,icon:Me,colorType:"green",isActive:b==="active",onClick:()=>E("active")}),t.jsx(qe,{name:"Returned",value:B,icon:sn,colorType:"blue",isActive:b==="returned",onClick:()=>E("returned")})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(lt,{columns:T,data:v,isLoading:i,searchable:!0,sortable:!0,filterable:!1,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",onRowClick:M=>R(M)})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),S(null)},title:y!=null&&y._isRequest?"Instructor Request Details":"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"space-y-6",children:[(()=>{var Ne,ge,Pe,Fe,ie,Y;let M=null;if(y.instructor){const{cv_url:Z,certificates_json:xe,specializations:ye,...Q}=y.instructor;M=Q}else(y.first_name||y.last_name)&&(M={first_name:y.first_name,last_name:y.last_name,email:y.email||y._normalizedEmail,phone:y.phone,id_number:y.id_number,country:y.country,city:y.city});const G=y.training_center?{name:y.training_center.name||y.training_center.legal_name||y._normalizedTrainingCenter,email:y.training_center.email,phone:y.training_center.phone,address:y.training_center.address,city:y.training_center.city,country:y.training_center.country}:y._normalizedTrainingCenter?{name:y._normalizedTrainingCenter}:null,X=y.sub_category?{name:y.sub_category.name,name_ar:y.sub_category.name_ar,description:y.sub_category.description,category:y.sub_category.category}:null,fe={...M&&{instructor:M},...G&&{training_center:G},...X&&{sub_category:X},...(y._normalizedDate||y.request_date||y.created_at)&&{request_date:y._normalizedDate||y.request_date||y.created_at},...y.documents_json&&{documents_json:y.documents_json},...(((Ne=y.instructor)==null?void 0:Ne.cv_url)||y.cv_url)&&{cv_url:((ge=y.instructor)==null?void 0:ge.cv_url)||y.cv_url},...(((Pe=y.instructor)==null?void 0:Pe.certificates_json)||y.certificates_json)&&{certificates_json:((Fe=y.instructor)==null?void 0:Fe.certificates_json)||y.certificates_json},...(((ie=y.instructor)==null?void 0:ie.specializations)||y.specializations)&&{specializations:((Y=y.instructor)==null?void 0:Y.specializations)||y.specializations}};return t.jsx(Qr,{data:fe,isLoading:!1,emptyMessage:"No instructor data available"})})(),y._isRequest&&(y.sub_category_id||y.sub_category||y.courses||y.requested_courses)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(_s,{className:"mr-2",size:20}),"Course Authorization Request"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:y.sub_category_id||y.sub_category?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Sub-Category Selected:"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:(()=>{var M,G;return(M=y.sub_category)!=null&&M.name?y.sub_category.name:y.sub_category_name?y.sub_category_name:typeof y.sub_category=="string"?y.sub_category:(G=y.sub_category)!=null&&G.name_ar?y.sub_category.name_ar:"N/A"})()}),((V=y.sub_category)==null?void 0:V.description)&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.sub_category.description}),((te=y.sub_category)==null?void 0:te.courses)&&Array.isArray(y.sub_category.courses)&&y.sub_category.courses.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Courses in this Sub-Category:"}),t.jsx("div",{className:"space-y-2",children:y.sub_category.courses.map((M,G)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:M.name||M.code||`Course ${M.id||G+1}`}),M.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",M.code]})]})})},M.id||G))})]}),(!((U=y.sub_category)!=null&&U.courses)||y.sub_category.courses.length===0)&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All active courses in this sub-category will be authorized"})]}):t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Specific Courses Selected:"}),(()=>{const M=y.courses||y.requested_courses||[],G=Array.isArray(M)?M:[];return G.length>0?t.jsx("div",{className:"space-y-2",children:G.map((X,fe)=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:X.name||X.name_ar||X.code||`Course ${X.id||fe+1}`}),X.code&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Code: ",X.code]}),X.name_ar&&X.name&&X.name!==X.name_ar&&t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:X.name_ar}),X.sub_category&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sub-Category: ",typeof X.sub_category=="object"&&(X.sub_category.name||X.sub_category.name_ar)||X.sub_category]})]})})},X.id||fe))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No courses specified"})})()]})})]}),y.authorization_price&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Authorization Details"}),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Authorization Price"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["$",parseFloat(y.authorization_price).toFixed(2)]})]})]}),y.rejection_reason&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(st,{className:"mr-2 text-red-600",size:20}),"Rejection Reason"]}),t.jsx("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:t.jsx("p",{className:"text-base text-gray-900",children:y.rejection_reason})})]}),y._isRequest&&y.return_comment&&t.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(sn,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Return Comment"})]}),t.jsx("p",{className:"text-base text-gray-900",children:y.return_comment})]}),y._isRequest&&y.status==="pending"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),N(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),O(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(st,{size:20,className:"mr-2"}),"Reject"]}),t.jsxs("button",{onClick:()=>{c(!1),L(y)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(sn,{size:20,className:"mr-2"}),"Return"]})]}),y._isRequest&&y.status==="returned"&&t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsxs("button",{onClick:()=>{c(!1),N(y)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center",children:[t.jsx(Me,{size:20,className:"mr-2"}),"Approve"]}),t.jsxs("button",{onClick:()=>{c(!1),O(y)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center",children:[t.jsx(st,{size:20,className:"mr-2"}),"Reject"]})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),S(null),_("")},title:"Reject Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide a reason for rejecting this request:"}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",value:w,onChange:M=>_(M.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter the reason for rejection..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{m(!1),S(null),_("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Request"})]})]})}),t.jsx(Ie,{isOpen:u,onClose:()=>{g(!1),S(null),P("")},title:"Return Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please provide comments for returning this request:"}),t.jsx(he,{label:"Return Comment",name:"return_comment",value:z,onChange:M=>P(M.target.value),textarea:!0,rows:4,required:!0,placeholder:"Enter comments for returning the request..."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{g(!1),S(null),P("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Return Request"})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),S(null),C("")},title:"Approve Instructor Request",size:"md",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Please set the authorization price for this instructor:"}),t.jsx(he,{label:"Authorization Price",name:"authorization_price",type:"number",value:x,onChange:M=>C(M.target.value),required:!0,min:"0",step:"0.01",placeholder:"500.00"}),t.jsx("p",{className:"text-sm text-gray-500",children:"After approval, Group Admin will need to set the commission percentage before Training Center can pay."}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{d(!1),S(null),C("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),t.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})})]})},nT=(e,s="This field")=>!e||typeof e=="string"&&e.trim()===""?`${s} is required`:"",aT=(e,s,r="This field")=>e&&e.length>s?`${r} must be at most ${s} characters`:"",iT=(e,s="This field",r=null,n=null)=>{if(e===""||e===null||e===void 0)return`${s} is required`;const a=Number(e);return isNaN(a)?`${s} must be a valid number`:r!==null&&a<r?`${s} must be at least ${r}`:n!==null&&a>n?`${s} must be at most ${n}`:""},C0=(e,s={})=>{const{required:r=!0,maxSize:n=10*1024*1024,allowedTypes:a=[],fieldName:i="File"}=s;if(r&&!e)return`${i} is required`;if(e){if(e.size>n){const o=(n/1048576).toFixed(2);return`${i} size must be less than ${o}MB`}if(a.length>0){const o="."+e.name.split(".").pop().toLowerCase(),l=a.map(c=>c.toLowerCase());if(!a.includes(e.type)&&!l.includes(o))return`${i} type is not allowed. Allowed types: ${a.join(", ")}`}}return""},oT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),n=f.useRef(null),[a,i]=f.useState([]),[o,l]=f.useState([]),[c,h]=f.useState(!0),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState("all"),[C,w]=f.useState("all"),[_,z]=f.useState({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),[P,b]=f.useState({base_price:"",currency:"USD"}),[E,j]=f.useState({}),[F,$]=f.useState(!1);f.useEffect(()=>{R()},[]),f.useEffect(()=>{N()},[]),f.useEffect(()=>(s("Courses"),r("Manage and organize your course catalog"),e(t.jsxs("button",{onClick:()=>{n.current&&n.current()},className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Us,{size:20,className:"mr-2"}),"Add Course"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const N=async()=>{h(!0);try{const U={per_page:1e3},M=await Qe.listCourses(U);let G=[];M.data?G=M.data||[]:M.courses?G=M.courses||[]:G=Array.isArray(M)?M:[],i(G)}catch(U){console.error("Failed to load courses:",U),i([])}finally{h(!1)}},A=f.useMemo(()=>{let U=[...a];return S!=="all"&&(U=U.filter(M=>M.status===S)),C!=="all"&&(U=U.filter(M=>M.level===C)),U=U.map(M=>{var G,X,fe;return{...M,_searchText:`${M.name||""} ${M.code||""} ${M.name_ar||""} ${M.description||""} ${M.level||""} ${M.status||""} ${((G=M.sub_category)==null?void 0:G.name)||""} ${((fe=(X=M.sub_category)==null?void 0:X.category)==null?void 0:fe.name)||""}`.toLowerCase()}}),U},[a,S,C]),R=async()=>{try{const U=await Qe.listSubCategories();l(U.sub_categories||U||[])}catch(U){console.error("Failed to load sub categories:",U),l([])}},T=f.useCallback((U=null)=>{if(U){y(U),z({sub_category_id:U.sub_category_id||"",name:U.name||"",name_ar:U.name_ar||"",code:U.code||"",description:U.description||"",duration_hours:U.duration_hours||"",max_capacity:U.max_capacity||"",level:U.level||"beginner",status:U.status||"active",assessor_required:U.assessor_required||!1});const M=U.current_price||U.pricing||(U.certificate_pricing&&U.certificate_pricing.length>0?U.certificate_pricing[0]:null);b(M?{base_price:M.base_price||"",currency:M.currency||"USD"}:{base_price:"",currency:"USD"})}else y(null),z({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",max_capacity:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD"});j({}),p(!0)},[]);f.useEffect(()=>{n.current=()=>T()},[]);const v=()=>{p(!1),y(null),z({sub_category_id:"",name:"",name_ar:"",code:"",description:"",duration_hours:"",level:"beginner",status:"active",assessor_required:!1}),b({base_price:"",currency:"USD",group_commission_percentage:"",training_center_commission_percentage:"",instructor_commission_percentage:"",effective_from:"",effective_to:""}),j({})},k=U=>{z({..._,[U.target.name]:U.target.value}),j({})},O=U=>{b({...P,[U.target.name]:U.target.value}),j(M=>{const G={...M};return delete G[U.target.name],G})},D=()=>{const U={};!_.name||_.name.trim()===""?U.name="Course name is required":_.name.length>255&&(U.name="Course name must be at most 255 characters"),_.name_ar&&_.name_ar.length>255&&(U.name_ar="Arabic name must be at most 255 characters"),!_.code||_.code.trim()===""?U.code="Course code is required":_.code.length>255&&(U.code="Course code must be at most 255 characters"),_.sub_category_id||(U.sub_category_id="Sub category is required");const M=nT(_.duration_hours,"Duration");if(M)U.duration_hours=M;else{const G=parseInt(_.duration_hours);(isNaN(G)||G<1)&&(U.duration_hours="Duration must be at least 1 hour")}if(!_.max_capacity||_.max_capacity.toString().trim()==="")U.max_capacity="Max capacity is required";else{const G=parseInt(_.max_capacity);(isNaN(G)||G<1)&&(U.max_capacity="Max capacity must be at least 1")}if(_.level?["beginner","intermediate","advanced"].includes(_.level)||(U.level="Invalid level selected"):U.level="Level is required",_.status?["active","inactive","archived"].includes(_.status)||(U.status="Invalid status selected"):U.status="Status is required",P.base_price){const G=iT(P.base_price,"Base price",0);G&&(U.base_price=G),!P.currency||P.currency.trim()===""?U.currency="Currency is required when pricing is set":P.currency.length!==3&&(U.currency="Currency must be a 3-character code (e.g., USD)")}return U},L=async U=>{var G,X,fe,Ne,ge,Pe,Fe,ie;U.preventDefault(),$(!0),j({});const M=D();if(Object.keys(M).length>0){j(M),$(!1);return}try{const Y={..._,sub_category_id:parseInt(_.sub_category_id),duration_hours:parseInt(_.duration_hours),max_capacity:parseInt(_.max_capacity)};if((!_.name_ar||_.name_ar.trim()==="")&&delete Y.name_ar,(!_.description||_.description.trim()==="")&&delete Y.description,P.base_price){const xe={base_price:parseFloat(P.base_price),currency:P.currency};Y.pricing=xe}let Z;g?(Z=await Qe.updateCourse(g.id,Y),console.log("Course updated:",Z)):(Z=await Qe.createCourse(Y),console.log("Course created:",Z)),v(),await N(),alert(g?"Course updated successfully!":"Course created successfully!")}catch(Y){if(console.error("Failed to save course:",Y),console.error("Error response:",Y.response),console.error("Error data:",(G=Y.response)==null?void 0:G.data),console.error("Error status:",(X=Y.response)==null?void 0:X.status),(Ne=(fe=Y.response)==null?void 0:fe.data)!=null&&Ne.errors){const Z=Y.response.data.errors,xe={};Object.keys(Z).forEach(ye=>{ye.startsWith("pricing.")?xe[ye.replace("pricing.","")]=Z[ye]:xe[ye]=Z[ye]}),j(xe)}else Y.errors?j(Y.errors):j({general:((Pe=(ge=Y.response)==null?void 0:ge.data)==null?void 0:Pe.message)||Y.message||"Failed to save course"});alert(`Error: ${((ie=(Fe=Y.response)==null?void 0:Fe.data)==null?void 0:ie.message)||Y.message||"Failed to save course"}`)}finally{$(!1)}},W=f.useCallback(U=>{y(U),u(!0)},[]),H=async()=>{try{await Qe.deleteCourse(g.id),await N()}catch(U){alert("Failed to delete course: "+(U.message||"Unknown error"))}u(!1),y(null)},[B,K]=f.useState(!1),q=async U=>{try{const M=await Qe.getCourseDetails(U.id);y(M.course||M),K(!0)}catch(M){console.error("Failed to load course details:",M),y(U),K(!0)}},V=U=>{q(U)},te=f.useMemo(()=>[{header:"Course",accessor:"name",sortable:!0,render:(U,M)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(ps,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:U||"N/A"}),M.code&&t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",M.code]})]})]})},{header:"Level",accessor:"level",sortable:!0,render:U=>t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:U||"N/A"})},{header:"Duration",accessor:"duration_hours",sortable:!0,render:U=>t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2 text-gray-400"}),U?`${U} hrs`:"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:U=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${U==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:U?U.charAt(0).toUpperCase()+U.slice(1):"N/A"})},{header:"Pricing",accessor:"pricing",sortable:!1,render:(U,M)=>{const G=M.current_price||M.pricing||(M.certificate_pricing&&M.certificate_pricing.length>0?M.certificate_pricing[0]:null);return G?t.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-900",children:[t.jsx(Mt,{className:"h-4 w-4 mr-1 text-primary-600"}),parseFloat(G.base_price||0).toFixed(2)," ",G.currency||"USD"]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not set"})}},{header:"Assessor",accessor:"assessor_required",sortable:!0,render:U=>U?t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200",children:"Required"}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not Required"})},{header:"Actions",accessor:"actions",sortable:!1,render:(U,M)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:G=>G.stopPropagation(),children:[t.jsx("button",{onClick:()=>T(M),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Edit",children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:()=>W(M),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"Delete",children:t.jsx(Ss,{size:16})})]})}],[T,W]);return t.jsxs("div",{children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(lt,{columns:te,data:A,isLoading:c,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or code...",emptyMessage:"No courses found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:U=>U.status==="active"},{value:"inactive",label:"Inactive",filterFn:U=>U.status==="inactive"}],defaultFilter:S,onRowClick:U=>V(U)})}),t.jsx(Ie,{isOpen:d,onClose:v,title:g?"Edit Course":"Add New Course",size:"lg",children:t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Course Name (English)",name:"name",value:_.name,onChange:k,required:!0,error:E.name}),t.jsx(he,{label:"Course Name (Arabic)",name:"name_ar",value:_.name_ar,onChange:k,error:E.name_ar})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Course Code",name:"code",value:_.code,onChange:k,required:!0,placeholder:"e.g., AST-101",error:E.code}),t.jsx(he,{label:"Sub Category",name:"sub_category_id",type:"select",value:_.sub_category_id,onChange:k,required:!0,options:o.map(U=>({value:U.id,label:U.name||U.title||`Sub Category ${U.id}`})),error:E.sub_category_id})]}),t.jsx(he,{label:"Description",name:"description",value:_.description,onChange:k,textarea:!0,rows:4,error:E.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Duration (Hours)",name:"duration_hours",type:"number",value:_.duration_hours,onChange:k,required:!0,min:"1",error:E.duration_hours}),t.jsx(he,{label:"Max Capacity",name:"max_capacity",type:"number",value:_.max_capacity,onChange:k,required:!0,min:"1",placeholder:"Maximum number of trainees per class",error:E.max_capacity})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Level",name:"level",type:"select",value:_.level,onChange:k,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],error:E.level}),t.jsx(he,{label:"Status",name:"status",type:"select",value:_.status,onChange:k,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"archived",label:"Archived"}],error:E.status})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"assessor_required",name:"assessor_required",checked:_.assessor_required||!1,onChange:U=>z({..._,assessor_required:U.target.checked}),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),t.jsx("label",{htmlFor:"assessor_required",className:"text-sm font-medium text-gray-700",children:"Assessor Required"})]}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2 ml-6",children:"This course requires an assessor"}),t.jsxs("div",{className:"border-t pt-4 mt-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Mt,{size:20,className:"text-primary-600"}),"Pricing Information (Optional)"]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Optional: Set pricing at creation time. You can create a course without pricing and add it later if needed. Commission percentages are managed by Group Admins separately."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Base Price",name:"base_price",type:"number",value:P.base_price,onChange:O,placeholder:"0.00",step:"0.01",min:"0",error:E.base_price}),t.jsx(he,{label:"Currency",name:"currency",type:"select",value:P.currency,onChange:O,options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"SAR",label:"SAR"}],error:E.currency})]})]}),E.general&&t.jsx("p",{className:"text-sm text-red-600",children:E.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:v,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:F,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Saving...":g?"Update Course":"Create Course"})]})]})}),t.jsx(Ie,{isOpen:B,onClose:()=>{K(!1),y(null)},title:"Course Details",size:"lg",children:g&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ps,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ei,{size:14,className:"mr-1"}),"Course ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.id]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (English)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name||"N/A"})]}),g.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.name_ar})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.code||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:g.level||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Duration"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.duration_hours?`${g.duration_hours} hours`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.max_capacity?`${g.max_capacity} trainees`:"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${g.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":g.status==="inactive"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:g.status?g.status.charAt(0).toUpperCase()+g.status.slice(1):"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Assessor Required"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs font-medium rounded-full ${g.assessor_required?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:g.assessor_required?"Required":"Not Required"})]}),g.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(g.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),g.sub_category&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(_s,{className:"mr-2",size:20}),"Category Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.sub_category.id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ei,{size:14,className:"mr-1"}),"Sub Category ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",g.sub_category.id]})]}),g.sub_category.category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.category.name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.sub_category.name||"N/A"})]}),g.sub_category.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category Description"}),t.jsx("p",{className:"text-base text-gray-900",children:g.sub_category.description})]})]})]}),g.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:g.description})})]}),(()=>{const U=g.current_price||g.pricing||(g.certificate_pricing&&g.certificate_pricing.length>0?g.certificate_pricing[0]:null);return U?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Mt,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg border border-primary-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.id&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ei,{size:14,className:"mr-1"}),"Pricing ID"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["#",U.id]})]}),t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Base Price"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[parseFloat(U.base_price||0).toFixed(2)," ",U.currency||"USD"]})]}),U.group_commission_percentage!==void 0&&U.group_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Group Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.group_commission_percentage||0).toFixed(2),"%"]})]}),U.training_center_commission_percentage!==void 0&&U.training_center_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Training Center Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.training_center_commission_percentage||0).toFixed(2),"%"]})]}),U.instructor_commission_percentage!==void 0&&U.instructor_commission_percentage!==null&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Instructor Commission"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[parseFloat(U.instructor_commission_percentage||0).toFixed(2),"%"]})]}),U.effective_from&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Effective From"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.effective_from).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),U.effective_to&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Effective To"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.effective_to).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),U.created_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),U.updated_at&&t.jsxs("div",{className:"p-4 bg-white rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(U.updated_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Commission percentages are managed by Group Admins. Pricing is effective immediately when set."})]})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Mt,{size:20,className:"mr-2"}),"Pricing Information"]}),t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No pricing set"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can add pricing when editing the course"})]})]})})]})})()]})}),t.jsx(fn,{isOpen:m,onClose:()=>{u(!1),y(null)},onConfirm:H,title:"Delete Course",message:`Are you sure you want to delete "${g==null?void 0:g.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},lT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState({trainee_name:"",course:"",issue_date:"",status:"valid"}),[p,m]=f.useState({}),[u,g]=f.useState(!1);f.useEffect(()=>{y()},[]),f.useEffect(()=>(s("Certificates"),r("View and manage all generated certificates"),e(t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Us,{size:20}),"Create New Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const y=async()=>{o(!0);try{const b={per_page:1e3},E=await Qe.listCertificates(b);let j=[];E.data?j=E.data||[]:E.certificates?j=E.certificates||[]:j=Array.isArray(E)?E:[],j=j.map(F=>({...F,_searchText:[F.certificate_number,F.trainee_name,F.course,F.status].filter(Boolean).join(" ").toLowerCase()})),a(j)}catch(b){console.error("Failed to load certificates:",b),a([])}finally{o(!1)}},S=()=>{d({trainee_name:"",course:"",issue_date:new Date().toISOString().split("T")[0],status:"valid"}),m({}),c(!0)},x=()=>{c(!1),d({trainee_name:"",course:"",issue_date:"",status:"valid"}),m({})},C=b=>{d({...h,[b.target.name]:b.target.value}),m({})},w=async b=>{b.preventDefault(),g(!0),m({});try{await Qe.createCertificate(h),await y(),x()}catch(E){E.errors?m(E.errors):m({general:E.message||"Failed to create certificate"})}finally{g(!1)}},_=b=>b?new Date(b).toLocaleDateString():"N/A",z=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Js,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:b=>t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b||"N/A"})},{header:"Course",accessor:"course",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-700",children:b||"N/A"})},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-600",children:_(b)})},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${b==="valid"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300"}`,children:b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"})}],[]),P=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:b=>b.status==="valid"},{value:"invalid",label:"Invalid",filterFn:b=>b.status==="invalid"}],[]);return t.jsxs("div",{children:[t.jsx(lt,{columns:z,data:n,isLoading:i,searchable:!0,searchPlaceholder:"Search by number, trainee, or course...",filterable:!0,filterOptions:P,defaultFilter:"all",sortable:!0,emptyMessage:"No certificates found. Create your first certificate!"}),t.jsx(Ie,{isOpen:l,onClose:x,title:"Create New Certificate",size:"lg",children:t.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Trainee Name",name:"trainee_name",value:h.trainee_name,onChange:C,required:!0,error:p.trainee_name}),t.jsx(he,{label:"Course",name:"course",value:h.course,onChange:C,required:!0,error:p.course})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Issue Date",name:"issue_date",type:"date",value:h.issue_date,onChange:C,required:!0,error:p.issue_date}),t.jsx(he,{label:"Status",name:"status",type:"select",value:h.status,onChange:C,options:[{value:"valid",label:"Valid"},{value:"invalid",label:"Invalid"}],error:p.status})]}),p.general&&t.jsx("p",{className:"text-sm text-red-600",children:p.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:x,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Certificate"})]})]})})]})},bh=({currentPage:e=1,totalPages:s=1,totalItems:r=0,perPage:n=10,onPageChange:a,onPerPageChange:i,showPerPageSelector:o=!0,perPageOptions:l=[10,25,50,100],className:c=""})=>{if(s<=1&&!o)return null;const h=r===0?0:(e-1)*n+1,d=Math.min(e*n,r),p=u=>{u>=1&&u<=s&&u!==e&&a(u)},m=()=>{const u=[];if(s<=5)for(let y=1;y<=s;y++)u.push(y);else if(u.push(1),e<=3){for(let y=2;y<=4;y++)u.push(y);u.push("..."),u.push(s)}else if(e>=s-2){u.push("...");for(let y=s-3;y<=s;y++)u.push(y)}else{u.push("...");for(let y=e-1;y<=e+1;y++)u.push(y);u.push("..."),u.push(s)}return u};return t.jsx("div",{className:`pagination-container ${c}`,children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("span",{className:"font-semibold text-gray-900",children:h})," to"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:d})," of"," ",t.jsx("span",{className:"font-semibold text-gray-900",children:r})," results"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[o&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsx("select",{value:n,onChange:u=>i(Number(u.target.value)),className:"pagination-select px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm cursor-pointer bg-white hover:border-gray-400 transition-colors",children:l.map(u=>t.jsx("option",{value:u,children:u},u))})]}),s>1&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>p(1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"First page",children:t.jsx(E_,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Previous page",children:t.jsx(wv,{size:16,className:"text-gray-600"})}),t.jsx("div",{className:"flex items-center gap-1",children:m().map((u,g)=>u==="..."?t.jsx("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${g}`):t.jsx("button",{onClick:()=>p(u),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e===u?"bg-primary-600 text-white border border-primary-600 shadow-sm":"border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}`,children:u},u))}),t.jsx("button",{onClick:()=>p(e+1),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Next page",children:t.jsx(_v,{size:16,className:"text-gray-600"})}),t.jsx("button",{onClick:()=>p(s),disabled:e===s,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent transition-colors",title:"Last page",children:t.jsx(T_,{size:16,className:"text-gray-600"})})]})]})]})})},cT=()=>{const[e,s]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState({currentPage:1,perPage:12,totalPages:1,totalItems:0});f.useEffect(()=>{o()},[a.currentPage,a.perPage]);const o=async()=>{n(!0);try{const h={page:a.currentPage,per_page:a.perPage},d=await Qe.listMaterials(h);let p=[];d.data?(p=d.data||[],i(m=>({...m,totalPages:d.last_page||d.total_pages||1,totalItems:d.total||0}))):d.materials?(p=d.materials||[],i(m=>{var u;return{...m,totalPages:1,totalItems:((u=d.materials)==null?void 0:u.length)||0}})):(p=Array.isArray(d)?d:[],i(m=>({...m,totalPages:1,totalItems:p.length}))),s(p)}catch(h){console.error("Failed to load materials:",h),s([])}finally{n(!1)}},l=h=>{i(d=>({...d,currentPage:h}))},c=h=>{i(d=>({...d,perPage:h,currentPage:1}))};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage course materials"})]}),t.jsxs("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[t.jsx(Us,{size:20,className:"mr-2"}),"Add Material"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.length===0?t.jsxs("div",{className:"col-span-full text-center py-12",children:[t.jsx(Ge,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No materials found"})]}):e.map(h=>{var d;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[t.jsx(Ge,{className:"h-8 w-8 text-primary-600 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.name}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:h.material_type}),t.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",(d=h.price)==null?void 0:d.toLocaleString()]})]},h.id)})}),!r&&a.totalItems>0&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-200",children:t.jsx(bh,{currentPage:a.currentPage,totalPages:a.totalPages,totalItems:a.totalItems,perPage:a.perPage,onPageChange:l,onPerPageChange:c,perPageOptions:[12,24,48,96]})})]})},dT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),[x,C]=f.useState({}),[w,_]=f.useState(!1);f.useEffect(()=>{z(),P()},[]),f.useEffect(()=>(s("Discount Codes"),r("Manage and track all discount codes"),e(t.jsxs("button",{onClick:E,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 flex items-center gap-2 transition-colors shadow-lg hover:shadow-xl",children:[t.jsx(Us,{size:20}),"Add Code"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const z=async()=>{c(!0);try{const k={per_page:1e3},O=await Qe.listDiscountCodes(k);let D=[];O.data?D=O.data||[]:O.discount_codes?D=O.discount_codes||[]:D=Array.isArray(O)?O:[],D=D.map(L=>({...L,_searchText:[L.code,L.discount_type,L.status,...b(L)].filter(Boolean).join(" ").toLowerCase()})),a(D)}catch(k){console.error("Failed to load codes:",k),a([])}finally{c(!1)}},P=async()=>{try{const k=await Qe.listCourses();o(k.courses||[])}catch(k){console.error("Failed to load courses:",k)}},b=k=>{if(k.courses&&Array.isArray(k.courses)&&k.courses.length>0)return k.courses.map(D=>D.name||D.title||"Unknown Course");const O=k.applicable_course_ids||k.course_ids||[];return!Array.isArray(O)||O.length===0?[]:O.map(D=>{const L=i.find(W=>W.id===D);return L?L.name:null}).filter(D=>D!==null)},E=(k=null)=>{var O;if(C({}),g(null),k&&k.id){console.log("Opening modal for EDIT - code:",k),console.log("Code ID:",k.id),g(k);let D="";k.course_id?D=k.course_id.toString():k.applicable_course_ids&&k.applicable_course_ids.length>0?D=k.applicable_course_ids[0].toString():k.courses&&k.courses.length>0&&(D=((O=k.courses[0].id)==null?void 0:O.toString())||""),S({code:k.code||"",discount_percentage:k.discount_percentage||"",discount_type:k.discount_type||"time_limited",valid_from:k.start_date?k.start_date.split("T")[0]:"",valid_until:k.end_date?k.end_date.split("T")[0]:"",status:k.status||"active",course_id:D,total_quantity:k.total_quantity||""})}else console.log("Opening modal for CREATE - resetting all fields"),g(null),S({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""});d(!0)},j=()=>{d(!1),g(null),S({code:"",discount_percentage:"",discount_type:"time_limited",valid_from:"",valid_until:"",status:"active",course_id:"",total_quantity:""}),C({})},F=k=>{const{name:O,value:D}=k.target;S(L=>({...L,[O]:D})),x[O]&&C(L=>{const W={...L};return delete W[O],W})},$=async k=>{var D,L,W,H;k.preventDefault(),k.stopPropagation(),C({});const O={};if((!y.code||!y.code.trim())&&(O.code="Discount code is required"),(!y.discount_percentage||isNaN(y.discount_percentage)||parseFloat(y.discount_percentage)<=0)&&(O.discount_percentage="Valid discount percentage is required"),y.discount_type||(O.discount_type="Discount type is required"),y.course_id||(O.course_id="Course is required"),y.discount_type==="time_limited"?(y.valid_from||(O.valid_from="Valid from date is required"),y.valid_until||(O.valid_until="Valid until date is required"),y.valid_from&&y.valid_until&&new Date(y.valid_from)>=new Date(y.valid_until)&&(O.valid_until="Valid until date must be after valid from date")):y.discount_type==="quantity_based"&&(!y.total_quantity||isNaN(y.total_quantity)||parseInt(y.total_quantity)<=0)&&(O.total_quantity="Total quantity is required and must be greater than 0"),Object.keys(O).length>0){C(O);return}_(!0);try{const B={code:y.code.trim(),discount_type:y.discount_type,discount_percentage:parseFloat(y.discount_percentage),applicable_course_ids:[parseInt(y.course_id)],status:y.status};y.discount_type==="time_limited"?(B.start_date=y.valid_from,B.end_date=y.valid_until):y.discount_type==="quantity_based"&&(B.total_quantity=parseInt(y.total_quantity)),console.log("Submitting discount code:",JSON.stringify(B,null,2)),console.log("Selected code:",u),console.log("Is creating new code:",!u);let K;if(u&&(u.id||u.discount_code_id||(D=u.discount_code)!=null&&D.id)){const q=u.id||u.discount_code_id||((L=u.discount_code)==null?void 0:L.id);console.log("Updating discount code with ID:",q),K=await Qe.updateDiscountCode(q,B),console.log("Discount code updated:",K),alert("Discount code updated successfully!")}else u&&(console.warn("Warning: selectedCode exists but has no ID, treating as create"),g(null)),console.log("Creating new discount code via POST..."),K=await Qe.createDiscountCode(B),console.log("Discount code created:",K),alert("Discount code created successfully!");await z(),j()}catch(B){if(console.error("Failed to create discount code:",B),console.error("Error response:",B.response),console.error("Error data:",(W=B.response)==null?void 0:W.data),(H=B.response)!=null&&H.data){const K=B.response.data;if(K.errors){const q={};Object.keys(K.errors).forEach(V=>{q[V]=Array.isArray(K.errors[V])?K.errors[V][0]:K.errors[V]}),C(q)}else K.message?C({general:K.message}):C(K)}else B.message?C({general:B.message}):C({general:"Failed to create discount code. Please try again."})}finally{_(!1)}},N=k=>{g(k),m(!0)},A=async()=>{var k,O,D;try{const L=(u==null?void 0:u.id)||(u==null?void 0:u.discount_code_id)||((k=u==null?void 0:u.discount_code)==null?void 0:k.id);if(!L)throw new Error("Cannot delete: Discount code ID not found");console.log("Deleting discount code with ID:",L),await Qe.deleteDiscountCode(L),await z(),alert("Discount code deleted successfully!")}catch(L){console.error("Failed to delete discount code:",L),console.error("Selected code:",u),alert("Failed to delete discount code: "+(((D=(O=L.response)==null?void 0:O.data)==null?void 0:D.message)||L.message||"Unknown error"))}m(!1),g(null)},R=k=>k?new Date(k).toLocaleDateString():null,T=f.useMemo(()=>[{header:"Code",accessor:"code",sortable:!0,render:(k,O)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(pi,{className:"h-5 w-5 text-primary-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:k||"N/A"})})]})},{header:"Discount",accessor:"discount_percentage",sortable:!0,render:k=>t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:[parseFloat(k)||0,"%"]})},{header:"Type",accessor:"discount_type",sortable:!0,render:k=>t.jsx("span",{className:"px-3 py-1 bg-purple-50 text-purple-700 rounded-md text-xs font-medium capitalize",children:k?k.replace(/_/g," "):"N/A"})},{header:"Courses",accessor:"courses",sortable:!1,render:(k,O)=>{const D=b(O);return D.length===0?t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No courses assigned"}):t.jsx("div",{className:"flex flex-wrap gap-1.5",children:D.map((L,W)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-xs font-medium border border-blue-200",title:L,children:[t.jsx(_s,{size:12}),t.jsx("span",{className:"max-w-[150px] truncate",children:L})]},W))})}},{header:"Status",accessor:"status",sortable:!0,render:k=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${k==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:k?k.charAt(0).toUpperCase()+k.slice(1):"N/A"})},{header:"Start Date",accessor:"start_date",sortable:!0,render:k=>k?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:R(k)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"End Date",accessor:"end_date",sortable:!0,render:k=>k?t.jsx("span",{className:"text-sm text-gray-700 font-medium",children:R(k)}):t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-500 border border-gray-200",children:"Not Set"})},{header:"Quantity",accessor:"total_quantity",sortable:!0,render:(k,O)=>{if(O.discount_type==="quantity_based"){const D=O.used_quantity||0,L=k||0,W=L>0?Math.round(D/L*100):0;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-primary-700",children:D}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:L})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all",style:{width:`${W}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[W,"%"]})]})]})}else return t.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-600 border border-blue-200",children:"N/A"})}}],[i]),v=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:k=>k.status==="active"},{value:"inactive",label:"Inactive",filterFn:k=>k.status==="inactive"}],[]);return t.jsxs("div",{children:[t.jsx(lt,{columns:T,data:n,isLoading:l,searchable:!0,searchPlaceholder:"Search by code or type...",filterable:!0,filterOptions:v,defaultFilter:"all",sortable:!0,emptyMessage:"No discount codes found. Create your first discount code!",onEdit:E,onDelete:N}),t.jsx(Ie,{isOpen:h,onClose:j,title:u&&(u.id||u.discount_code_id)?"Edit Discount Code":"Add New Discount Code",size:"lg",children:t.jsxs("form",{onSubmit:$,className:"space-y-4",children:[x.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:x.general})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Discount Code",name:"code",value:y.code,onChange:F,required:!0,placeholder:"e.g., SAVE20",error:x.code}),t.jsx(he,{label:"Discount Percentage",name:"discount_percentage",type:"number",value:y.discount_percentage,onChange:F,required:!0,min:"0",max:"100",placeholder:"e.g., 20",error:x.discount_percentage})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"course_id",value:y.course_id,onChange:F,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.course_id?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"",children:"Select a course..."}),i.map(k=>t.jsxs("option",{value:k.id,children:[k.name," ",k.code?`(${k.code})`:""]},k.id))]}),x.course_id&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.course_id})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount Type ",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsxs("select",{name:"discount_type",value:y.discount_type,onChange:F,required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 cursor-pointer appearance-none bg-white form-input-select ${x.discount_type?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("option",{value:"time_limited",children:"Time Limited"}),t.jsx("option",{value:"quantity_based",children:"Quantity Based"})]}),x.discount_type&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.discount_type})]}),t.jsx(he,{label:"Status",name:"status",type:"select",value:y.status,onChange:F,required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:x.status})]}),y.discount_type==="time_limited"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(he,{label:"Valid From",name:"valid_from",type:"date",value:y.valid_from,onChange:F,required:!0,error:x.valid_from}),t.jsx(he,{label:"Valid Until",name:"valid_until",type:"date",value:y.valid_until,onChange:F,required:!0,error:x.valid_until})]}),y.discount_type==="quantity_based"&&t.jsx(he,{label:"Total Quantity",name:"total_quantity",type:"number",value:y.total_quantity,onChange:F,required:!0,min:"1",placeholder:"e.g., 100",error:x.total_quantity}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?u&&(u.id||u.discount_code_id)?"Updating...":"Creating...":u&&(u.id||u.discount_code_id)?"Update Discount Code":"Create Discount Code"})]})]})}),t.jsx(fn,{isOpen:p,onClose:()=>{m(!1),g(null)},onConfirm:A,title:"Delete Discount Code",message:`Are you sure you want to delete discount code "${u==null?void 0:u.code}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},uT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState("categories"),[a,i]=f.useState("categories"),[o,l]=f.useState([]),[c,h]=f.useState(!0),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(null),[S,x]=f.useState({name:"",name_ar:"",description:"",status:"active"}),[C,w]=f.useState({}),[_,z]=f.useState(!1),[P,b]=f.useState([]),[E,j]=f.useState(!0),[F,$]=f.useState(!1),[N,A]=f.useState(!1),[R,T]=f.useState(null),[v,k]=f.useState({category_id:"",name:"",name_ar:"",description:"",status:"active"}),[O,D]=f.useState({}),[L,W]=f.useState(!1);f.useEffect(()=>{H()},[]),f.useEffect(()=>(e("Categories"),s("View assigned categories and manage your own categories"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{r==="categories"&&a!=="categories"&&!c&&H(),i(r)},[r]);const H=async()=>{var ae;try{h(!0);const _e={per_page:1e3},Ee=await Qe.listCategories(_e);let ne=[];Ee!=null&&Ee.data?ne=Array.isArray(Ee.data)?Ee.data:[]:Ee!=null&&Ee.categories&&Array.isArray(Ee.categories)?ne=Ee.categories:Array.isArray(Ee)?ne=Ee:(console.warn("Unexpected API response structure:",Ee),ne=[]),ne=ne.map(re=>({...re,_searchText:[re.name,re.name_ar,re.description,re.status].filter(Boolean).join(" ").toLowerCase()})),l(ne);const oe=[];if(ne.forEach(re=>{re.sub_categories&&Array.isArray(re.sub_categories)&&oe.push(...re.sub_categories)}),ne.length>0)await M();else if(oe.length>0){const re=oe.map(I=>({...I,_searchText:[I.name,I.name_ar,I.description,I.status].filter(Boolean).join(" ").toLowerCase()}));b(re),j(!1)}}catch(_e){console.error("Failed to load categories:",_e),console.error("Error details:",((ae=_e.response)==null?void 0:ae.data)||_e.message),l([])}finally{h(!1)}},B=(ae=null)=>{ae?(y(ae),x({name:ae.name||"",name_ar:ae.name_ar||"",description:ae.description||"",status:ae.status||"active"})):(y(null),x({name:"",name_ar:"",description:"",status:"active"})),w({}),p(!0)},K=()=>{p(!1),y(null),x({name:"",name_ar:"",description:"",status:"active"}),w({})},q=ae=>{x({...S,[ae.target.name]:ae.target.value}),w({})},V=async ae=>{var _e,Ee,ne,oe;ae.preventDefault(),z(!0),w({});try{g?await Qe.updateCategory(g.id,S):await Qe.createCategory(S),await H(),K()}catch(re){(Ee=(_e=re.response)==null?void 0:_e.data)!=null&&Ee.errors?w(re.response.data.errors):(oe=(ne=re.response)==null?void 0:ne.data)!=null&&oe.message?w({general:re.response.data.message}):w({general:re.message||"Failed to save category"})}finally{z(!1)}},te=ae=>{y(ae),u(!0)},U=async()=>{var ae,_e;try{await Qe.deleteCategory(g.id),await H()}catch(Ee){alert("Failed to delete category: "+(((_e=(ae=Ee.response)==null?void 0:ae.data)==null?void 0:_e.message)||Ee.message||"Unknown error"))}u(!1),y(null)},M=async(ae=null)=>{j(!0);try{const _e={per_page:1e3};ae&&(_e.category_id=ae);const Ee=await Qe.listSubCategories(_e);let ne=[];Ee!=null&&Ee.data?ne=Array.isArray(Ee.data)?Ee.data:[]:Ee!=null&&Ee.sub_categories?ne=Array.isArray(Ee.sub_categories)?Ee.sub_categories:[]:ne=Array.isArray(Ee)?Ee:[],ne=ne.map(oe=>{const re=o.find(I=>I.id===oe.category_id);return{...oe,_searchText:[oe.name,oe.name_ar,oe.description,oe.status,(re==null?void 0:re.name)||""].filter(Boolean).join(" ").toLowerCase()}}),b(ne)}catch(_e){console.error("Failed to load sub categories:",_e),b([])}finally{j(!1)}};f.useEffect(()=>{r==="sub-categories"&&M()},[r]);const G=(ae=null)=>{ae?(T(ae),k({category_id:ae.category_id||"",name:ae.name||"",name_ar:ae.name_ar||"",description:ae.description||"",status:ae.status||"active"})):(T(null),k({category_id:"",name:"",name_ar:"",description:"",status:"active"})),D({}),$(!0)},X=()=>{$(!1),T(null),k({category_id:"",name:"",name_ar:"",description:"",status:"active"}),D({})},fe=ae=>{k({...v,[ae.target.name]:ae.target.value}),D({})},Ne=async ae=>{var _e,Ee,ne,oe;ae.preventDefault(),W(!0),D({});try{R?await Qe.updateSubCategory(R.id,v):await Qe.createSubCategory(v),await M(),X()}catch(re){(Ee=(_e=re.response)==null?void 0:_e.data)!=null&&Ee.errors?D(re.response.data.errors):(oe=(ne=re.response)==null?void 0:ne.data)!=null&&oe.message?D({general:re.response.data.message}):D({general:re.message||"Failed to save sub category"})}finally{W(!1)}},ge=ae=>{T(ae),A(!0)},Pe=async()=>{var ae,_e;try{await Qe.deleteSubCategory(R.id),await M()}catch(Ee){alert("Failed to delete sub category: "+(((_e=(ae=Ee.response)==null?void 0:ae.data)==null?void 0:_e.message)||Ee.message||"Unknown error"))}A(!1),T(null)},Fe=o.length,ie=o.filter(ae=>ae.status==="active").length,Y=P.length,Z=P.filter(ae=>ae.status==="active").length,xe=ae=>ae.created_by!=null&&ae.created_by!==void 0&&ae.created_by!==1,ye=ae=>ae.created_by!=null&&ae.created_by!==void 0&&ae.created_by!==1,Q=f.useMemo(()=>[{header:"Category",accessor:"name",sortable:!0,render:(ae,_e)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ge,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ae||"N/A"}),_e.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:_e.name_ar})]})]})},{header:"Description",accessor:"description",sortable:!0,render:ae=>t.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:ae||"-"})},{header:"Status",accessor:"status",sortable:!0,render:ae=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${ae==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:ae?ae.charAt(0).toUpperCase()+ae.slice(1):"N/A"})},{header:"Type",accessor:"created_by",sortable:!1,render:(ae,_e)=>t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${xe(_e)?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border border-purple-300"}`,children:xe(_e)?"Created by Me":"Assigned by Admin"}),_e.sub_categories&&_e.sub_categories.length>0&&t.jsxs("span",{className:"text-xs text-gray-500",children:[_e.sub_categories.length," sub-categor",_e.sub_categories.length===1?"y":"ies"]})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(ae,_e)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Ee=>Ee.stopPropagation(),children:[t.jsx("button",{onClick:()=>B(_e),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${xe(_e)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:xe(_e)?"Edit Category":"Cannot edit - Assigned by Admin",disabled:!xe(_e),children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:()=>te(_e),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${xe(_e)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:xe(_e)?"Delete Category":"Cannot delete - Assigned by Admin",disabled:!xe(_e),children:t.jsx(Ss,{size:16})})]})}],[B,te]),se=f.useMemo(()=>[{header:"Sub Category",accessor:"name",sortable:!0,render:(ae,_e)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(Ge,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ae||"N/A"}),_e.name_ar&&t.jsx("div",{className:"text-xs text-gray-500",children:_e.name_ar})]})]})},{header:"Category",accessor:"category_id",sortable:!0,render:(ae,_e)=>{const Ee=o.find(ne=>ne.id===ae);return t.jsx("div",{className:"text-sm text-gray-600",children:Ee?Ee.name:`Category ID: ${ae}`})}},{header:"Status",accessor:"status",sortable:!0,render:ae=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${ae==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:ae?ae.charAt(0).toUpperCase()+ae.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(ae,_e)=>t.jsxs("div",{className:"flex items-center gap-2",onClick:Ee=>Ee.stopPropagation(),children:[t.jsx("button",{onClick:()=>G(_e),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ye(_e)?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ye(_e)?"Edit Sub Category":"Cannot edit - Created by Admin",disabled:!ye(_e),children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:()=>ge(_e),className:`p-2 rounded-lg hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md ${ye(_e)?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-400 hover:bg-gray-100 cursor-not-allowed"}`,title:ye(_e)?"Delete Sub Category":"Cannot delete - Created by Admin",disabled:!ye(_e),children:t.jsx(Ss,{size:16})})]})}],[o,G,ge]),ce=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:ae=>ae.status==="active"},{value:"inactive",label:"Inactive",filterFn:ae=>ae.status==="inactive"}],[]),Ae=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"active",label:"Active",filterFn:ae=>ae.status==="active"},{value:"inactive",label:"Inactive",filterFn:ae=>ae.status==="inactive"}],[]);return c&&r==="categories"?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},className:"mb-6",children:[t.jsx(qe,{name:"Total Categories",value:Fe,icon:Ge,colorType:"indigo",isActive:r==="categories",onClick:()=>n("categories")}),t.jsx(qe,{name:"Active Categories",value:ie,icon:Ge,colorType:"green",isActive:r==="categories",onClick:()=>n("categories")}),t.jsx(qe,{name:"Sub Categories",value:Y,icon:ca,colorType:"blue",isActive:r==="sub-categories",onClick:()=>n("sub-categories")}),t.jsx(qe,{name:"Active Sub Categories",value:Z,icon:ca,colorType:"purple",isActive:r==="sub-categories",onClick:()=>n("sub-categories")})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-1.5",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>n("categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(Ge,{size:20,className:r==="categories"?"text-white":"text-gray-500"}),"Categories"]}),t.jsxs("button",{onClick:()=>n("sub-categories"),className:`tab-button flex-1 px-6 py-3.5 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2 ${r==="sub-categories"?"text-white shadow-lg tab-active-gradient":"text-gray-500 bg-gray-100 hover:text-primary-700 hover:bg-primary-50 border border-gray-200"}`,children:[t.jsx(ca,{size:20,className:r==="sub-categories"?"text-white":"text-gray-500"}),"Sub Categories"]})]})}),r==="categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ye,{onClick:()=>H(),icon:t.jsx(kv,{size:20}),variant:"outline",disabled:c,loading:c,title:"Refresh categories list",children:"Refresh"}),t.jsx(Ye,{onClick:()=>B(),icon:t.jsx(Us,{size:20}),children:"Add Category"})]})]}),t.jsx(lt,{columns:Q,data:o,isLoading:c,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:ce,defaultFilter:"all",sortable:!0,emptyMessage:"No categories found. Create your first category to get started!"})]}),r==="sub-categories"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sub Categories"}),t.jsx(Ye,{onClick:()=>G(),icon:t.jsx(Us,{size:20}),children:"Add Sub Category"})]}),t.jsx(lt,{columns:se,data:P,isLoading:E,searchable:!0,searchPlaceholder:"Search by name...",filterable:!0,filterOptions:Ae,defaultFilter:"all",sortable:!0,emptyMessage:"No sub categories found. Create your first sub category to get started!"})]}),t.jsx(Ie,{isOpen:d,onClose:K,title:g?"Edit Category":"Add New Category",size:"md",children:t.jsxs("form",{onSubmit:V,className:"space-y-4",children:[t.jsx(he,{label:"Category Name (English)",name:"name",value:S.name,onChange:q,required:!0,error:C.name}),t.jsx(he,{label:"Category Name (Arabic)",name:"name_ar",value:S.name_ar,onChange:q,error:C.name_ar}),t.jsx(he,{label:"Description",name:"description",value:S.description,onChange:q,textarea:!0,rows:3,error:C.description}),t.jsx(he,{label:"Status",name:"status",type:"select",value:S.status,onChange:q,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:C.status}),C.general&&t.jsx("p",{className:"text-sm text-red-600",children:C.general}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:K,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx(Ye,{type:"submit",disabled:_,loading:_,fullWidth:!0,children:g?"Update":"Create"})]})]})}),t.jsx(fn,{isOpen:m,onClose:()=>{u(!1),y(null)},onConfirm:U,title:"Delete Category",message:`Are you sure you want to delete "${g==null?void 0:g.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:F,onClose:X,title:R?"Edit Sub Category":"Add New Sub Category",size:"md",children:t.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[t.jsx(he,{label:"Category",name:"category_id",type:"select",value:v.category_id,onChange:fe,required:!0,options:o.filter(ae=>ae.id).map(ae=>({value:ae.id,label:ae.name||`Category ${ae.id}`})),error:O.category_id}),t.jsx(he,{label:"Sub Category Name (English)",name:"name",value:v.name,onChange:fe,required:!0,error:O.name}),t.jsx(he,{label:"Sub Category Name (Arabic)",name:"name_ar",value:v.name_ar,onChange:fe,error:O.name_ar}),t.jsx(he,{label:"Description",name:"description",value:v.description,onChange:fe,textarea:!0,rows:3,error:O.description}),t.jsx(he,{label:"Status",name:"status",type:"select",value:v.status,onChange:fe,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],error:O.status}),O.general&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600 font-medium",children:O.general})}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:X,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-all duration-200 hover:scale-105 transform",children:"Cancel"}),t.jsx(Ye,{type:"submit",disabled:L,loading:L,fullWidth:!0,children:R?"Update":"Create"})]})]})}),t.jsx(fn,{isOpen:N,onClose:()=>{A(!1),T(null)},onConfirm:Pe,title:"Delete Sub Category",message:`Are you sure you want to delete "${R==null?void 0:R.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},mT=()=>{var A,R,T,v;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState("all"),[g,y]=f.useState(!1),S=f.useRef(null);f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{x()},[]),f.useEffect(()=>{const k=O=>{S.current&&!S.current.contains(O.target)&&y(!1)};return g&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[g]);const x=async()=>{var k,O;l(!0);try{const D={per_page:1e3},L=await Qe.getPaymentTransactions(D),W=(L==null?void 0:L.data)||L||[],H=(L==null?void 0:L.summary)||null;let B=Array.isArray(W)?W:(W==null?void 0:W.data)||[];B=B.map(K=>{var q,V;return{...K,_searchText:[K.transaction_type,K.amount,K.currency,K.status,K.description,(q=K.payer)==null?void 0:q.name,(V=K.payee)==null?void 0:V.name].filter(Boolean).join(" ").toLowerCase()}}),n(B),i(H)}catch(D){console.error("Failed to load transactions:",D),(O=(k=D==null?void 0:D.response)==null?void 0:k.data)!=null&&O.message||D!=null&&D.message,console.error("Error details:",D),n([]),i(null)}finally{l(!1)}},C=k=>{p(k),h(!0)},w=(k,O="USD")=>`${parseFloat(k||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${O}`,_=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",z=k=>k?new Date(k).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=k=>{switch(k){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"pending":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"failed":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";case"refunded":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},b=k=>(k==null?void 0:k.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "))||"N/A",E=k=>k.payee&&k.payee.type==="acc",j=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(k,O)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mr-3 ${E(O)?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:E(O)?t.jsx(pp,{className:"h-5 w-5 text-green-600"}):t.jsx(Bc,{className:"h-5 w-5 text-red-600"})}),t.jsx("div",{children:t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:b(k)})})]})},{header:"Payer",accessor:"payer",sortable:!0,render:k=>k?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:k.type==="acc"||k.type==="training_center"?t.jsx(Je,{className:"h-4 w-4 text-blue-600"}):t.jsx(As,{className:"h-4 w-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:k.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:k=>k?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:k.type==="acc"||k.type==="training_center"?t.jsx(Je,{className:"h-4 w-4 text-green-600"}):t.jsx(As,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name||"N/A"}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:k.type||""})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Total Amount",accessor:"amount",sortable:!0,render:(k,O)=>t.jsxs("div",{className:`text-sm font-semibold ${E(O)?"text-green-700":"text-red-700"}`,children:[E(O)?"+":"-"," ",w(k,O.currency)]})},{header:"Received",accessor:"provider_amount",sortable:!0,render:(k,O)=>{const D=k||O.received_amount;return D?t.jsxs("div",{className:"text-sm font-semibold text-green-700",children:["+ ",w(D,O.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}},{header:"Commission",accessor:"commission_amount",sortable:!0,render:(k,O)=>k?t.jsxs("div",{className:"text-sm font-semibold text-amber-700",children:["- ",w(k,O.currency)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:k=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${P(k)}`,children:k?k.charAt(0).toUpperCase()+k.slice(1):"N/A"})},{header:"Date",accessor:"created_at",sortable:!0,render:k=>t.jsx("div",{className:"text-sm text-gray-600",children:_(k)})},{header:"Actions",accessor:"actions",sortable:!1,render:(k,O)=>t.jsx("div",{className:"flex items-center gap-2",onClick:D=>D.stopPropagation(),children:t.jsx("button",{onClick:()=>C(O),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ts,{size:16})})})}],[]),F=f.useMemo(()=>m==="all"?r:r.filter(k=>k.transaction_type===m),[r,m]),$=f.useMemo(()=>[{value:"all",label:"All Types"},{value:"subscription",label:"Subscription"},{value:"code_purchase",label:"Code Purchase"},{value:"material_purchase",label:"Material Purchase"},{value:"course_purchase",label:"Course Purchase"},{value:"commission",label:"Commission"},{value:"settlement",label:"Settlement"}],[]),N=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"completed",label:"Completed",filterFn:k=>k.status==="completed"},{value:"pending",label:"Pending",filterFn:k=>k.status==="pending"},{value:"failed",label:"Failed",filterFn:k=>k.status==="failed"},{value:"refunded",label:"Refunded",filterFn:k=>k.status==="refunded"}],[]);return t.jsxs("div",{className:"space-y-4",children:[a&&t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:3},className:"mb-6",children:[t.jsx(qe,{name:"Total Transactions",value:a.total_transactions||0,icon:Vr,colorType:"indigo"}),t.jsx(qe,{name:"Total Received",value:w(a.total_received||0),icon:pp,colorType:"green"}),t.jsx(qe,{name:"Total Paid",value:w(a.total_paid||0),icon:Bc,colorType:"red"})]}),t.jsxs("div",{children:[t.jsx("style",{children:`
          .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
          }
          .payment-transactions-filters-wrapper .data-table-search-input-wrapper {
            flex: 1;
            min-width: 200px;
          }
          .payment-transactions-filters-wrapper .data-table-filter-wrapper {
            flex-shrink: 0;
          }
          @media (max-width: 640px) {
            .payment-transactions-filters-wrapper .data-table-search-container .data-table-search-content {
              flex-direction: column;
            }
            .payment-transactions-filters-wrapper .data-table-filter-wrapper {
              width: 100%;
            }
          }
        `}),t.jsx("div",{className:"payment-transactions-filters-wrapper",children:t.jsx(lt,{columns:j,data:F,isLoading:o,searchable:!0,searchPlaceholder:"Search transactions...",filterable:!0,filterOptions:N,defaultFilter:"all",sortable:!0,emptyMessage:"No transactions found",onView:C,customFilters:t.jsxs("div",{className:"data-table-filter-wrapper",ref:S,children:[t.jsxs("button",{onClick:()=>y(!g),className:`data-table-filter-button ${m!=="all"?"data-table-filter-button-active":""}`,children:[t.jsx(xa,{size:18}),t.jsx("span",{className:"data-table-filter-text",children:((A=$.find(k=>k.value===m))==null?void 0:A.label)||"All Types"})]}),g&&t.jsx("div",{className:"data-table-filter-dropdown",children:$.map(k=>t.jsx("button",{onClick:()=>{u(k.value),y(!1)},className:`data-table-filter-option ${m===k.value?"data-table-filter-option-active":""}`,children:k.label},k.value))})]})})})]}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Transaction Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:b(d.transaction_type)})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full ${P(d.status)}`,children:((R=d.status)==null?void 0:R.charAt(0).toUpperCase())+((T=d.status)==null?void 0:T.slice(1))||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),t.jsxs("p",{className:`text-2xl font-bold ${E(d)?"text-green-700":"text-red-700"}`,children:[E(d)?"+":"-"," ",w(d.amount,d.currency)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:((v=d.payment_method)==null?void 0:v.replace("_"," "))||"N/A"})]}),d.provider_amount||d.received_amount?t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount Received"}),t.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["+ ",w(d.provider_amount||d.received_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Amount you received after commission"})]}):null,d.commission_amount?t.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Platform Commission"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["- ",w(d.commission_amount,d.currency)]}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Commission deducted from total amount"})]}):null,d.payment_type&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:d.payment_type==="destination_charge"?"Destination Charge":"Standard Payment"})]})]}),d.payer&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700 mb-3",children:"Payer Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payer.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-sm font-medium text-green-700 mb-3",children:"Payee Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d.payee.email})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:d.description})]}),d.reference&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-sm font-medium text-purple-700 mb-3",children:"Reference Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:d.reference.type})]}),d.reference.details&&t.jsx("div",{className:"mt-2 p-2 bg-white rounded border border-purple-100",children:t.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(d.reference.details,null,2)})})]})]}),d.commission_ledgers&&d.commission_ledgers.length>0&&t.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-3",children:"Commission Ledgers"}),t.jsx("div",{className:"space-y-3",children:d.commission_ledgers.map((k,O)=>t.jsx("div",{className:"p-3 bg-white rounded border border-yellow-100",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[k.acc&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:k.acc.name})]}),k.training_center&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Training Center:"}),t.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:k.training_center.name})]}),k.group_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Group Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[w(k.group_commission_amount)," (",k.group_commission_percentage,"%)"]})]}),k.acc_commission_amount&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ACC Commission:"}),t.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:[w(k.acc_commission_amount)," (",k.acc_commission_percentage,"%)"]})]})]})},k.id||O))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:z(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed At"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:z(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 font-mono",children:d.payment_gateway_transaction_id})]})]})})]})},pT=()=>{var z,P;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState("all");f.useEffect(()=>(e("Classes"),s("View all classes from authorized training centers"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{m()},[d]);const m=async()=>{i(!0);try{const b={per_page:1e3},E=await Qe.listClasses(b),j=(E==null?void 0:E.data)||E||[];n(Array.isArray(j)?j:(j==null?void 0:j.data)||[])}catch(b){console.error("Failed to load classes:",b),n([])}finally{i(!1)}},u=f.useCallback(async b=>{try{const E=await Qe.getClassDetails(b.id);h(E.class||E),l(!0)}catch(E){console.error("Failed to load class details:",E),h(b),l(!0)}},[]),g=f.useCallback(b=>{u(b)},[]),y=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center mr-3",children:t.jsx(_s,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),(b==null?void 0:b.code)&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",b.code]})]})]})},{header:"Training Center",accessor:"training_center",sortable:!0,render:b=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(Je,{className:"h-4 w-4 text-blue-600"})}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"})]})},{header:"Instructor",accessor:"instructor",sortable:!0,render:b=>b?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2",children:t.jsx(As,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:`${b.first_name||""} ${b.last_name||""}`.trim()||"N/A"}),b.email&&t.jsx("div",{className:"text-xs text-gray-500",children:b.email})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})},{header:"Schedule",accessor:"start_date",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(tt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}),E.end_date&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["to ",x(E.end_date)]})]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(tt,{className:"h-4 w-4 text-purple-400"}),t.jsx("span",{className:"font-medium",children:x(b)})]}):t.jsx("span",{className:"text-gray-400",children:"Not set"})})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:b=>t.jsx("div",{className:"text-sm text-gray-900",children:b!=null?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ge,{className:"h-4 w-4 text-indigo-400"}),t.jsxs("span",{className:"font-semibold",children:[parseFloat(b).toFixed(2),"%"]})]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Location",accessor:"location",sortable:!0,render:(b,E)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:_(b)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:b||"N/A"}),E.location_details&&t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:E.location_details})]})]})},{header:"Capacity",accessor:"enrolled_count",sortable:!0,render:(b,E)=>{var j,F;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_t,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[b||0," / ",((j=E.course)==null?void 0:j.max_capacity)||"N/A"]}),((F=E.course)==null?void 0:F.max_capacity)&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((b||0)/E.course.max_capacity*100),"% full"]})]})]})}},{header:"Status",accessor:"status",sortable:!0,render:b=>t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w(b)}`,children:b?b.charAt(0).toUpperCase()+b.slice(1).replace("_"," "):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(b,E)=>t.jsx("div",{className:"flex items-center gap-2",onClick:j=>j.stopPropagation(),children:t.jsx("button",{onClick:()=>u(E),className:"p-2 rounded-lg bg-primary-50 text-primary-600 hover:bg-primary-100 hover:scale-110 transition-all duration-200 shadow-sm hover:shadow-md",title:"View Details",children:t.jsx(ts,{size:16})})})}],[u]),S=f.useMemo(()=>{let b=[...r];return d!=="all"&&(b=b.filter(E=>E.status===d)),b=b.map(E=>{var j,F,$,N,A,R,T,v;return{...E,_searchText:`${((j=E.course)==null?void 0:j.name)||""} ${((F=E.course)==null?void 0:F.code)||""} ${(($=E.course)==null?void 0:$.name_ar)||""} ${((N=E.training_center)==null?void 0:N.name)||""} ${((A=E.training_center)==null?void 0:A.email)||""} ${((R=E.instructor)==null?void 0:R.first_name)||""} ${((T=E.instructor)==null?void 0:T.last_name)||""} ${((v=E.instructor)==null?void 0:v.email)||""} ${E.location||""} ${E.location_details||""} ${E.status||""}`.toLowerCase()}}),b},[r,d]),x=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",C=b=>b?new Date(b).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",w=b=>{switch(b){case"completed":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300";case"in_progress":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300";case"scheduled":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border border-yellow-300";case"cancelled":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border border-red-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}},_=b=>{switch(b){case"online":return"";case"hybrid":return"";default:return""}};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsx(lt,{columns:y,data:S,isLoading:a,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search classes...",emptyMessage:"No classes found",filterOptions:[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:b=>b.status==="scheduled"},{value:"in_progress",label:"In Progress",filterFn:b=>b.status==="in_progress"},{value:"completed",label:"Completed",filterFn:b=>b.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:b=>b.status==="cancelled"}],defaultFilter:d,onRowClick:b=>g(b)})}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Class Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(ps,{className:"mr-2",size:20}),"Class Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${w(c.status)}`,children:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1).replace("_"," "):"N/A"})]}),c.created_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Created At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:C(c.created_at)})]}),c.updated_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Updated At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:C(c.updated_at)})]})]})]}),c.course&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(_s,{className:"mr-2",size:20}),"Course Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name||"N/A"})]}),c.course.code&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Code"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.code})]}),c.course.name_ar&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Name (Arabic)"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.name_ar})]}),c.course.duration_hours&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Duration"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.duration_hours," hours"]})]}),c.course.level&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Level"}),t.jsx("span",{className:"px-3 py-1.5 inline-flex text-xs font-bold rounded-full shadow-sm bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300 capitalize",children:c.course.level})]}),c.course.max_capacity&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Max Capacity"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.course.max_capacity," trainees"]})]}),c.course.status&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course Status"}),t.jsx("span",{className:`px-3 py-1.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${c.course.status==="active"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:c.course.status.charAt(0).toUpperCase()+c.course.status.slice(1)})]}),c.course.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900 whitespace-pre-wrap",children:c.course.description})]}),c.course.sub_category&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sub Category"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.course.sub_category.name||"N/A"}),c.course.sub_category.category&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Category: ",c.course.sub_category.category.name||"N/A"]})]})]})]}),c.training_center&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Je,{className:"mr-2",size:20}),"Training Center Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.name||"N/A"})]}),c.training_center.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.email})]}),c.training_center.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Gr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.phone})]}),c.training_center.website&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(mi,{size:14,className:"mr-1"}),"Website"]}),t.jsx("a",{href:c.training_center.website.startsWith("http")?c.training_center.website:`https://${c.training_center.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-base font-semibold",children:c.training_center.website})]}),c.training_center.address&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg md:col-span-2",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"Address"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.address})]}),c.training_center.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.city})]}),c.training_center.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.training_center.country})]})]})]}),c.instructor&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(As,{className:"mr-2",size:20}),"Instructor Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"First Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.first_name||"N/A"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Last Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.last_name||"N/A"})]}),c.instructor.email&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.email})]}),c.instructor.phone&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Gr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.phone})]}),c.instructor.country&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"Country"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.country})]}),c.instructor.city&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Rt,{size:14,className:"mr-1"}),"City"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.instructor.city})]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(tt,{className:"mr-2",size:20}),"Schedule Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Start Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_date?C(c.start_date):"N/A"})]}),c.end_date&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"End Date"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:C(c.end_date)})]}),c.exam_date&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1 text-purple-600"}),"Exam Date"]}),t.jsx("p",{className:"text-base font-semibold text-purple-900",children:C(c.exam_date)})]}),c.exam_score!==null&&c.exam_score!==void 0&&t.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ge,{size:14,className:"mr-1 text-indigo-600"}),"Exam Score"]}),t.jsxs("p",{className:"text-base font-semibold text-indigo-900",children:[parseFloat(c.exam_score).toFixed(2),"%"]})]}),c.start_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Start Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.start_time})]}),c.end_time&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"End Time"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.end_time})]})]}),c.schedule_json&&Object.keys(c.schedule_json).length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Weekly Schedule"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.schedule_json).map(([b,E])=>t.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[t.jsxs("span",{className:"font-semibold text-gray-900 capitalize",children:[b,":"]}),t.jsx("span",{className:"text-gray-700 ml-2",children:E})]},b))})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location & Capacity"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(Rt,{size:14}),"Location Type"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize",children:c.location||"N/A"}),c.location_details&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location Details"}),t.jsx("p",{className:"text-sm text-gray-700",children:c.location_details})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-2",children:[t.jsx(_t,{size:14}),"Capacity"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.enrolled_count||0," / ",((z=c.course)==null?void 0:z.max_capacity)||"N/A"]}),((P=c.course)==null?void 0:P.max_capacity)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all",style:{width:`${Math.min((c.enrolled_count||0)/c.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((c.enrolled_count||0)/c.course.max_capacity*100),"% full"]})]})]})]})]}),c.trainees&&Array.isArray(c.trainees)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(_t,{className:"mr-2",size:20}),"Trainees (",c.trainees.length,")"]}),c.trainees.length===0?t.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg border border-gray-200 text-center",children:[t.jsx(_t,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No trainees enrolled in this class"})]}):t.jsx("div",{className:"space-y-2",children:c.trainees.map((b,E)=>{const j=b.profile_image_url||b.avatar_url||b.id_image_url||null,F=j?j.startsWith("http")?j:`https://aeroenix.com/v1/api${j}`:null;return t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-gray-100 transition-all",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[F?t.jsx("img",{src:F,alt:`${b.first_name} ${b.last_name}`,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}):null,t.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-2 border-primary-200 ${F?"hidden":""}`,children:t.jsx(As,{className:"h-5 w-5 text-primary-600"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[b.first_name," ",b.last_name]}),b.id_number&&t.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",b.id_number]})]})]})},b.id||E)})})]})]})})]})},fT=()=>{var k,O,D,L;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null),[d,p]=f.useState(!1),[m,u]=f.useState(!1),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[C,w]=f.useState({payment_amount:""}),[_,z]=f.useState({rejection_reason:""}),[P,b]=f.useState({});f.useEffect(()=>(e("Pending Manual Payments"),s("Review and approve manual payment requests"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{E()},[]);const E=async()=>{i(!0);try{const W=await Qe.getPendingPayments(),B=((W==null?void 0:W.batches)||(W==null?void 0:W.data)||[]).map(K=>{var q,V,te;return{...K,_searchText:[(q=K.training_center)==null?void 0:q.name,(V=K.training_center)==null?void 0:V.email,(te=K.course)==null?void 0:te.name,K.quantity,K.total_amount,K.payment_amount,K.payment_status].filter(Boolean).join(" ").toLowerCase()}});n(B)}catch(W){console.error("Failed to load pending payments:",W),n([])}finally{i(!1)}},j=W=>{h(W),l(!0)},F=W=>{h(W),w({payment_amount:W.final_amount||W.total_amount||""}),b({}),p(!0)},$=W=>{h(W),z({rejection_reason:""}),b({}),u(!0)},N=async()=>{var B,K,q;if(!c)return;if(!C.payment_amount||parseFloat(C.payment_amount)<=0){b({payment_amount:"Please enter a valid payment amount"});return}const W=parseFloat(C.payment_amount),H=parseFloat(c.final_amount||c.total_amount||0);if(Math.abs(W-H)>.01){b({payment_amount:`Payment amount must match the calculated total amount: $${H.toFixed(2)}`});return}y(!0),b({});try{await Qe.approvePayment(c.id,{payment_amount:W}),await E(),p(!1),l(!1),h(null),alert("Payment approved successfully. Codes have been generated.")}catch(V){if(console.error("Failed to approve payment:",V),((B=V.response)==null?void 0:B.status)===422){const te=V.response.data;if(te.errors){const U={};Object.keys(te.errors).forEach(M=>{U[M]=Array.isArray(te.errors[M])?te.errors[M][0]:te.errors[M]}),b(U)}else te.message&&b({general:te.message})}else(q=(K=V.response)==null?void 0:K.data)!=null&&q.message?b({general:V.response.data.message}):b({general:"Failed to approve payment. Please try again."})}finally{y(!1)}},A=async()=>{var W,H,B;if(c){if(!_.rejection_reason||_.rejection_reason.trim().length===0){b({rejection_reason:"Please enter a rejection reason"});return}if(_.rejection_reason.trim().length>1e3){b({rejection_reason:"Rejection reason must be less than 1000 characters"});return}x(!0),b({});try{await Qe.rejectPayment(c.id,{rejection_reason:_.rejection_reason.trim()}),await E(),u(!1),l(!1),h(null),alert("Payment rejected successfully.")}catch(K){if(console.error("Failed to reject payment:",K),((W=K.response)==null?void 0:W.status)===422){const q=K.response.data;if(q.errors){const V={};Object.keys(q.errors).forEach(te=>{V[te]=Array.isArray(q.errors[te])?q.errors[te][0]:q.errors[te]}),b(V)}else q.message&&b({general:q.message})}else(B=(H=K.response)==null?void 0:H.data)!=null&&B.message?b({general:K.response.data.message}):b({general:"Failed to reject payment. Please try again."})}finally{x(!1)}}},R=W=>`$${parseFloat(W||0).toFixed(2)}`,T=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",v=f.useMemo(()=>[{header:"Training Center",accessor:"training_center",sortable:!0,render:(W,H)=>{var B;return t.jsxs("div",{className:"batch-tc-container",children:[t.jsx(Je,{className:"batch-tc-icon",size:16}),t.jsx("span",{children:((B=H.training_center)==null?void 0:B.name)||"N/A"})]})}},{header:"Course",accessor:"course",sortable:!0,render:(W,H)=>{var B;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(_s,{className:"batch-course-icon",size:16}),t.jsx("span",{children:((B=H.course)==null?void 0:B.name)||"N/A"})]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:W=>t.jsx("span",{children:W||0})},{header:"Total Amount",accessor:"total_amount",sortable:!0,render:W=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Mt,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:R(W)})]})},{header:"Payment Amount",accessor:"payment_amount",sortable:!0,render:W=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Mt,{className:"batch-amount-icon",size:16}),t.jsx("span",{children:R(W)})]})},{header:"Submitted Date",accessor:"created_at",sortable:!0,render:W=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(Ve,{className:"batch-date-icon",size:16}),t.jsx("span",{children:T(W)})]})},{header:"Actions",accessor:"actions",sortable:!1,render:(W,H)=>t.jsx("div",{className:"batch-actions",children:t.jsx("button",{onClick:()=>j(H),className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ts,{size:16})})})}],[]);return t.jsxs("div",{className:"pending-payments-screen",children:[t.jsx(lt,{columns:v,data:r,isLoading:a,emptyMessage:r.length===0&&!a?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ve,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No pending payments"}),t.jsx("p",{className:"empty-state-subtitle",children:"All payment requests have been reviewed"})]}):"No pending payments found",searchable:!0,filterable:!1,searchPlaceholder:"Search by training center, course, amount, or date...",sortable:!0}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Payment Request Details",size:"lg",children:c&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(Qr,{data:c,isLoading:!1,emptyMessage:"No payment data available"}),c.payment_receipt_url&&t.jsxs("div",{className:"receipt-section",children:[t.jsxs("h3",{className:"receipt-title",children:[t.jsx(Ge,{size:20,className:"receipt-icon"}),"Payment Receipt"]}),t.jsx("div",{className:"receipt-container",children:t.jsx("a",{href:c.payment_receipt_url,target:"_blank",rel:"noopener noreferrer",className:"receipt-link",children:"View Receipt"})})]}),t.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[t.jsx(Ye,{variant:"success",fullWidth:!0,icon:t.jsx(Me,{size:20}),onClick:()=>{l(!1),F(c)},children:"Approve Payment"}),t.jsx(Ye,{variant:"danger",fullWidth:!0,icon:t.jsx(st,{size:20}),onClick:()=>{l(!1),$(c)},children:"Reject Payment"})]})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),w({payment_amount:""}),b({})},title:"Approve Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[P.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:P.general})}),t.jsxs("div",{className:"approve-info",children:[t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((k=c.training_center)==null?void 0:k.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((O=c.course)==null?void 0:O.name)||"N/A"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"approve-info-text",children:[t.jsx("strong",{children:"Calculated Total:"})," ",R(c.final_amount||c.total_amount)]})]}),t.jsx(he,{label:"Payment Amount",name:"payment_amount",type:"number",value:C.payment_amount,onChange:W=>w({...C,payment_amount:W.target.value}),required:!0,min:"0",step:"0.01",error:P.payment_amount,helpText:`Enter the payment amount (should match: ${R(c.final_amount||c.total_amount)})`}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{p(!1),w({payment_amount:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:N,disabled:g,className:"form-btn form-btn-submit",children:g?"Approving...":"Approve Payment"})]})]})}),t.jsx(Ie,{isOpen:m,onClose:()=>{u(!1),z({rejection_reason:""}),b({})},title:"Reject Payment",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[P.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:P.general})}),t.jsxs("div",{className:"reject-info",children:[t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Training Center:"})," ",((D=c.training_center)==null?void 0:D.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Course:"})," ",((L=c.course)==null?void 0:L.name)||"N/A"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Quantity:"})," ",c.quantity||0," codes"]}),t.jsxs("p",{className:"reject-info-text",children:[t.jsx("strong",{children:"Amount:"})," ",R(c.payment_amount||c.total_amount)]})]}),t.jsx(he,{label:"Rejection Reason",name:"rejection_reason",type:"textarea",textarea:!0,rows:4,value:_.rejection_reason,onChange:W=>z({..._,rejection_reason:W.target.value}),required:!0,error:P.rejection_reason,helpText:"Please provide a clear reason for rejecting this payment request (max 1000 characters)",placeholder:"Enter rejection reason..."}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{u(!1),z({rejection_reason:""}),b({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"button",onClick:A,disabled:S,className:"form-btn form-btn-danger",children:S?"Rejecting...":"Reject Payment"})]})]})})]})},hT=({onSubmit:e,onCancel:s,submitting:r=!1,initialData:n={documents:[],additional_info:""}})=>{const[a,i]=f.useState(n),[o,l]=f.useState({}),c=()=>{const x={};if(a.documents.length===0)return x.general="Please upload at least one document",x;if(a.documents.forEach((C,w)=>{if((!C.type||C.type.trim()==="")&&(x[`documents.${w}.type`]="Document type is required"),!C.file)x[`documents.${w}.file`]="Please upload a file";else{const _=C0(C.file,{required:!0,maxSize:10485760,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});_&&(x[`documents.${w}.file`]=_)}}),a.additional_info){const C=aT(a.additional_info,5e3,"Additional information");C&&(x.additional_info=C)}return x},h=async x=>{x.preventDefault();const C=c();if(Object.keys(C).length>0){l(C);return}e&&await e(a,l)},d=()=>{i({...a,documents:[...a.documents,{type:"",file:null}]})},p=x=>{i({...a,documents:a.documents.filter((w,_)=>_!==x)});const C={...o};Object.keys(C).forEach(w=>{w.startsWith(`documents.${x}.`)&&delete C[w]}),l(C)},m=(x,C,w)=>{const _=[...a.documents];if(_[x]={..._[x],[C]:w},i({...a,documents:_}),o[`documents.${x}.${C}`]){const z={...o};delete z[`documents.${x}.${C}`],l(z)}},u=(x,C)=>{if(!C)return;const w=C0(C,{required:!0,maxSize:10*1024*1024,allowedTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"],fieldName:"Document file"});if(w){l({...o,[`documents.${x}.file`]:w});return}const _=[...a.documents];if(_[x]={..._[x],file:C,fileName:C.name,fileSize:C.size,fileType:C.type},i({...a,documents:_}),o[`documents.${x}.file`]){const z={...o};delete z[`documents.${x}.file`],l(z)}},g=x=>{const C=[...a.documents];C[x]={...C[x],file:null,fileName:"",fileSize:null,fileType:null},i({...a,documents:C});const w=document.getElementById(`file-upload-${x}`);if(w&&(w.value=""),o[`documents.${x}.file`]){const _={...o};delete _[`documents.${x}.file`],l(_)}},y=x=>{if(i({...a,additional_info:x.target.value}),o.additional_info){const C={...o};delete C.additional_info,l(C)}},S=()=>{i(n),l({}),s&&s()};return t.jsxs("div",{className:"relative",children:[r&&t.jsx("div",{className:"authorization-request-form-overlay",children:t.jsxs("div",{className:"authorization-request-form-overlay-content",children:[t.jsx(lx,{size:32,className:"authorization-request-form-spinner"}),t.jsx("p",{className:"authorization-request-form-overlay-text",children:"Uploading files and submitting request..."}),t.jsx("p",{className:"authorization-request-form-overlay-hint",children:"Please wait, this may take a moment"})]})}),t.jsxs("form",{onSubmit:h,className:"authorization-request-form",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"authorization-request-form-section-header",children:[t.jsxs("h3",{className:"authorization-request-form-section-title",children:[t.jsx(Ge,{size:20,className:"authorization-request-form-section-title-icon"}),"Documents"]}),t.jsxs("button",{type:"button",onClick:d,disabled:r,className:"authorization-request-form-button-add",children:[t.jsx(Us,{size:16,className:"authorization-request-form-button-add-icon"}),"Add Document"]})]}),a.documents.length===0?t.jsxs("div",{className:"authorization-request-form-warning-box",children:[t.jsx("p",{className:"authorization-request-form-warning-text",children:"No documents added"}),t.jsx("p",{className:"authorization-request-form-warning-hint",children:'At least one document is required. Click "Add Document" to add one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.documents.map((x,C)=>t.jsxs("div",{className:"authorization-request-form-document-item",children:[t.jsxs("div",{className:"authorization-request-form-document-header",children:[t.jsxs("span",{className:"authorization-request-form-document-number",children:["Document ",C+1]}),t.jsx("button",{type:"button",onClick:()=>p(C),disabled:r,className:"authorization-request-form-document-remove",title:"Remove document",children:t.jsx(Ss,{size:16})})]}),t.jsxs("div",{className:"authorization-request-form-document-grid",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Document Type ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"})]}),t.jsxs("select",{value:x.type||"",onChange:w=>m(C,"type",w.target.value),required:!0,disabled:r,className:`authorization-request-form-select ${o[`documents.${C}.type`]?"error":""}`,children:[t.jsx("option",{value:"",children:"Select document type"}),t.jsx("option",{value:"license",children:"License"}),t.jsx("option",{value:"certificate",children:"Certificate"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"other",children:"Other"})]}),o[`documents.${C}.type`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${C}.type`]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"authorization-request-form-label",children:["Upload Document ",t.jsx("span",{className:"authorization-request-form-label-required",children:"*"}),t.jsx("span",{className:"authorization-request-form-label-hint",children:"(PDF, DOC, DOCX, JPG, JPEG, PNG - Max 10MB)"})]}),t.jsxs("div",{className:"authorization-request-form-file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/jpeg,image/png",onChange:w=>{var z;const _=(z=w.target.files)==null?void 0:z[0];_&&u(C,_)},disabled:r,className:"authorization-request-form-file-upload-input",id:`file-upload-${C}`}),t.jsx("label",{htmlFor:`file-upload-${C}`,className:`authorization-request-form-file-upload-label ${r?"disabled":x.file?"has-file":"empty"}`,children:x.file?t.jsxs(t.Fragment,{children:[t.jsx(Me,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-success",children:x.fileName||"File selected"}),x.fileSize&&t.jsxs("span",{className:"authorization-request-form-file-upload-size",children:["(",(x.fileSize/1024/1024).toFixed(2)," MB)"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ds,{size:16,className:"authorization-request-form-file-upload-icon"}),t.jsx("span",{className:"authorization-request-form-file-upload-text authorization-request-form-file-upload-text-default",children:"Click to upload file"})]})})]}),o[`documents.${C}.file`]&&t.jsx("p",{className:"authorization-request-form-error",children:o[`documents.${C}.file`]}),x.file&&t.jsx("div",{className:"authorization-request-form-file-remove",children:t.jsx("button",{type:"button",onClick:()=>g(C),disabled:r,className:"authorization-request-form-file-remove-button",children:"Remove File"})})]})]})]},C))})]}),t.jsx(he,{label:"Additional Information",name:"additional_info",value:a.additional_info,onChange:y,textarea:!0,rows:4,placeholder:"Provide any additional information about your training center...",error:o.additional_info,disabled:r,helpText:"Maximum 5000 characters"}),o.general&&t.jsxs("div",{className:"authorization-request-form-error-box",children:[t.jsx("p",{className:"authorization-request-form-error-text",children:o.general}),o.hint&&t.jsx("p",{className:"authorization-request-form-error-hint",children:o.hint})]}),t.jsxs("div",{className:"authorization-request-form-actions",children:[t.jsx("button",{type:"button",onClick:S,disabled:r,className:"authorization-request-form-button authorization-request-form-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:r,className:"authorization-request-form-button authorization-request-form-button-submit",children:r?t.jsxs(t.Fragment,{children:[t.jsx(lx,{size:16,className:"authorization-request-form-button-spinner"}),"Uploading & Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vc,{size:16,className:"authorization-request-form-button-icon"}),"Submit Request"]})})]})]})]})},rs=({label:e,value:s,icon:r,fullWidth:n=!1,children:a})=>t.jsxs("div",{className:`detail-item ${n?"detail-item-full":""}`,children:[t.jsxs("p",{className:`detail-label ${r?"detail-label-with-icon":""}`,children:[r&&t.jsx(r,{size:16,className:"detail-label-icon"}),e]}),a||t.jsx("p",{className:"detail-value",children:s||"N/A"})]}),im=({children:e})=>t.jsx("div",{className:"detail-grid",children:e}),om=({title:e,content:s,icon:r,variant:n="blue",showHeader:a=!1})=>t.jsx("div",{className:`info-box info-box-${n}`,children:a&&r?t.jsxs("div",{className:"info-box-header",children:[t.jsx(r,{className:`info-box-icon info-box-icon-${n}`}),t.jsxs("div",{className:"info-box-content-wrapper",children:[t.jsx("p",{className:`info-box-title info-box-title-${n}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:`info-box-title info-box-title-${n}`,children:e}),t.jsx("p",{className:"info-box-content",children:s})]})}),gT=({document:e,index:s})=>t.jsxs("div",{className:"document-item",children:[t.jsxs("div",{className:"document-content",children:[t.jsx(Ge,{size:20,className:"document-icon"}),t.jsxs("div",{className:"document-info",children:[t.jsx("p",{className:"document-name",children:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):`Document ${s+1}`}),e.file_name&&t.jsx("p",{className:"document-filename",children:e.file_name})]})]}),e.file_url&&t.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"document-download",title:"Download document",children:t.jsx(qc,{size:18})})]}),xT=({documents:e,title:s="Documents"})=>!e||e.length===0?null:t.jsxs("div",{children:[t.jsxs("p",{className:"documents-header",children:[t.jsx(Ge,{size:18,className:"documents-header-icon"}),s]}),t.jsx("div",{className:"documents-list",children:e.map((r,n)=>t.jsx(gT,{document:r,index:n},n))})]}),w0=({status:e,variant:s="detail"})=>{const r={active:{badgeClass:s==="detail"?"status-badge-detail-active":"status-badge-active",icon:Me},approved:{badgeClass:s==="detail"?"status-badge-detail-approved":"status-badge-approved",icon:Me},rejected:{badgeClass:s==="detail"?"status-badge-detail-rejected":"status-badge-rejected",icon:st},pending:{badgeClass:s==="detail"?"status-badge-detail-pending":"status-badge-pending",icon:Ve},returned:{badgeClass:s==="detail"?"status-badge-detail-returned":"status-badge-returned",icon:Ve}},n=r[e]||r.pending,a=n.icon;return t.jsxs("span",{className:`status-badge ${n.badgeClass}`,children:[s==="detail"&&t.jsx(a,{size:14,className:"status-badge-icon"}),e?e.charAt(0).toUpperCase()+e.slice(1):"N/A"]})},yT=()=>{var B,K,q;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,h]=f.useState("available"),[d,p]=f.useState(0),[m,u]=f.useState(0),[g,y]=f.useState(!1),[S,x]=f.useState(!1),[C,w]=f.useState(null),[_,z]=f.useState(null),[P,b]=f.useState(!1),[E,j]=f.useState({documents:[],additional_info:""}),[F,$]=f.useState({}),[N,A]=f.useState(!1),R=f.useCallback(async()=>{try{l(!0);const V=await Ue.listACCs({per_page:1e3});let te=[];if(V!=null&&V.data?te=Array.isArray(V.data)?V.data:[]:V!=null&&V.accs?te=Array.isArray(V.accs)?V.accs:[]:Array.isArray(V)&&(te=V),n(te),V){const U=V.total||te.length;p(U)}}catch(V){console.error("Failed to load ACCs:",V)}finally{l(!1)}},[]),T=f.useCallback(async()=>{try{l(!0);const V=await Ue.getAuthorizationStatus({per_page:1e3});let te=[];if(V!=null&&V.data?te=Array.isArray(V.data)?V.data:[]:V!=null&&V.authorizations?te=Array.isArray(V.authorizations)?V.authorizations:[]:Array.isArray(V)&&(te=V),i(te),V){const U=V.total||te.length;u(U)}}catch(V){console.error("Failed to load authorizations:",V)}finally{l(!1)}},[]);f.useEffect(()=>{R(),T()},[R,T]),f.useEffect(()=>(e("Accreditation Bodies"),s("Browse and request authorization from Accreditation Bodies"),()=>{e(null),s(null)}),[e,s]);const v=V=>{h(V)},k=f.useMemo(()=>[{header:"ACC Name",accessor:"name",sortable:!0,render:(V,te)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Je,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:V||"N/A"})})]})},{header:"Email",accessor:"email",sortable:!0,render:V=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Wt,{className:"accs-table-row-email-icon"}),V||"N/A"]})},{header:"Country",accessor:"country",sortable:!0,render:V=>t.jsx("span",{className:"accs-table-row-text",children:V||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:V=>t.jsx("span",{className:`accs-status-badge ${V==="active"?"accs-status-badge-active":"accs-status-badge-default"}`,children:V?V.charAt(0).toUpperCase()+V.slice(1):"N/A"})},{header:"Actions",accessor:"actions",sortable:!1,render:(V,te)=>t.jsxs("div",{className:"accs-action-buttons",onClick:U=>U.stopPropagation(),children:[t.jsx("button",{onClick:()=>W(te),className:"accs-action-button accs-action-button-primary",title:"View Details",children:t.jsx(ts,{size:16})}),te.status==="active"?t.jsx("button",{onClick:U=>{U.stopPropagation(),D(te)},className:"accs-action-button accs-action-button-green",title:"Request Authorization",children:t.jsx(Vc,{size:16})}):t.jsx("button",{onClick:U=>{U.stopPropagation(),W(te)},className:"accs-action-button accs-action-button-blue",title:"View Info",children:t.jsx(ts,{size:16})})]})}],[]),O=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:V=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{className:"accs-table-row-icon-wrapper",children:t.jsx(Je,{className:"accs-table-row-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"accs-table-row-name",children:(V==null?void 0:V.name)||"N/A"})})]})},{header:"Email",accessor:"acc",sortable:!0,render:V=>t.jsxs("div",{className:"accs-table-row-email",children:[t.jsx(Wt,{className:"accs-table-row-email-icon"}),(V==null?void 0:V.email)||"N/A"]})},{header:"Country",accessor:"acc",sortable:!0,render:V=>t.jsx("span",{className:"accs-table-row-text",children:(V==null?void 0:V.country)||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:V=>{const te={approved:{badgeClass:"accs-status-badge-approved",icon:Me},rejected:{badgeClass:"accs-status-badge-rejected",icon:st},pending:{badgeClass:"accs-status-badge-pending",icon:Ve},returned:{badgeClass:"accs-status-badge-returned",icon:Ve}},U=te[V]||te.pending,M=U.icon;return t.jsxs("span",{className:`accs-status-badge ${U.badgeClass}`,children:[t.jsx(M,{size:14,className:"accs-status-badge-icon"}),V||"N/A"]})}},{header:"Request Date",accessor:"request_date",sortable:!0,render:V=>t.jsx("span",{className:"accs-table-row-text",children:V?new Date(V).toLocaleDateString():"N/A"})},{header:"Reviewed At",accessor:"reviewed_at",sortable:!0,render:V=>t.jsx("span",{className:"accs-table-row-text",children:V?new Date(V).toLocaleDateString():"Pending"})}],[]),D=V=>{w(V),j({documents:[],additional_info:""}),$({}),y(!0)},L=async(V,te)=>{var U,M,G,X;A(!0),te&&te({});try{const fe=new FormData;V.documents.forEach((ge,Pe)=>{fe.append(`documents[${Pe}][type]`,ge.type),fe.append(`documents[${Pe}][file]`,ge.file)}),V.additional_info&&fe.append("additional_info",V.additional_info);const Ne=await Ue.requestAuthorization(C.id,fe);await Promise.all([R(),T()]),y(!1),j({documents:[],additional_info:""}),alert("Authorization request submitted successfully!")}catch(fe){if(te)if(fe.response){const Ne=fe.response.status,ge=fe.response.data;Ne===400&&((U=ge.message)!=null&&U.includes("already exists")||(M=ge.message)!=null&&M.includes("already been submitted"))?te({general:"An authorization request for this ACC already exists. Please check your existing authorizations."}):Ne===422&&((G=ge.message)!=null&&G.includes("No valid documents")||(X=ge.message)!=null&&X.includes("documents uploaded"))?te({general:"No valid documents uploaded. Please ensure files are uploaded correctly.",hint:"Use FormData with structure: documents[0][type]=license&documents[0][file]=<file>"}):Ne===422&&ge.errors?te(ge.errors):Ne===422&&ge.message?te({general:ge.message}):Ne===500?te({general:"Server error occurred. Please try again later or contact support if the problem persists."}):ge.message?te({general:ge.message}):te({general:"Failed to submit request. Please try again."})}else fe.errors?te(fe.errors):fe.message?te({general:fe.message||"Failed to submit request"}):te({general:"Failed to submit request. Please try again."})}finally{A(!1)}},W=V=>{w(V),x(!0)},H=V=>{z(V),b(!0)};return o?t.jsx(Yo,{}):t.jsxs("div",{className:"accs-container",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:2},children:[t.jsx(qe,{name:"Available Accreditation",value:d,icon:Je,colorType:"indigo",isActive:c==="available",onClick:()=>v("available")}),t.jsx(qe,{name:"My Authorizations",value:m,icon:Me,colorType:"blue",isActive:c==="authorizations",onClick:()=>v("authorizations")})]}),o?t.jsx("div",{className:"accs-table-container",children:t.jsx(Yo,{})}):c==="available"?t.jsx("div",{className:"accs-table-container",children:t.jsx(lt,{columns:k,data:r,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by name, email, or country...",emptyMessage:"No ACCs found",onRowClick:V=>W(V)})}):t.jsx("div",{className:"accs-table-container",children:t.jsx(lt,{columns:O,data:a,isLoading:o,searchable:!0,sortable:!0,searchPlaceholder:"Search by ACC name or status...",emptyMessage:"No authorization requests found",onView:V=>H(V),onRowClick:V=>H(V)})}),t.jsx(Ie,{isOpen:g,onClose:()=>{N||(y(!1),w(null),j({documents:[],additional_info:""}),$({}))},title:`Request Authorization from ${C==null?void 0:C.name}`,size:"lg",children:t.jsx(hT,{onSubmit:L,onCancel:()=>{y(!1),w(null),j({documents:[],additional_info:""}),$({})},submitting:N,initialData:E})}),t.jsx(Ie,{isOpen:S,onClose:()=>{x(!1),w(null)},title:"ACC Details",size:"lg",children:C&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(im,{children:[C.id&&t.jsx(rs,{label:"ID",value:C.id}),t.jsx(rs,{label:"Name",value:C.name}),t.jsx(rs,{label:"Email",value:C.email,icon:Wt}),C.phone&&t.jsx(rs,{label:"Phone",value:C.phone}),C.country&&t.jsx(rs,{label:"Country",value:C.country}),C.address&&t.jsx(rs,{label:"Address",value:C.address}),C.website&&t.jsx(rs,{label:"Website",children:t.jsx("a",{href:C.website,target:"_blank",rel:"noopener noreferrer",className:"accs-detail-link",children:C.website})}),t.jsx(rs,{label:"Status",children:t.jsx(w0,{status:C.status,variant:"detail"})}),C.description&&t.jsx(rs,{label:"Description",value:C.description,fullWidth:!0}),C.created_at&&t.jsx(rs,{label:"Created At",value:new Date(C.created_at).toLocaleString()}),C.updated_at&&t.jsx(rs,{label:"Updated At",value:new Date(C.updated_at).toLocaleString()})]}),C.status==="active"&&t.jsx("div",{className:"accs-detail-actions",children:t.jsxs("button",{onClick:()=>{x(!1),D(C)},className:"accs-detail-button",children:[t.jsx(Vc,{size:20,className:"accs-detail-button-icon"}),"Request Authorization"]})})]})}),t.jsx(Ie,{isOpen:P,onClose:()=>{b(!1),z(null)},title:"Authorization Request Details",size:"lg",children:_&&t.jsxs("div",{className:"accs-detail-section",children:[t.jsxs(im,{children:[t.jsx(rs,{label:"ACC Name",value:(B=_.acc)==null?void 0:B.name}),t.jsx(rs,{label:"Email",value:(K=_.acc)==null?void 0:K.email,icon:Wt}),((q=_.acc)==null?void 0:q.country)&&t.jsx(rs,{label:"Country",value:_.acc.country}),t.jsx(rs,{label:"Status",children:t.jsx(w0,{status:_.status,variant:"detail"})})]}),t.jsxs(im,{children:[t.jsx(rs,{label:"Request Date",value:_.request_date?new Date(_.request_date).toLocaleString():"N/A",icon:Ve}),_.reviewed_at&&t.jsx(rs,{label:"Reviewed At",value:new Date(_.reviewed_at).toLocaleString(),icon:Me})]}),_.additional_info&&t.jsx(om,{title:"Additional Information",content:_.additional_info,variant:"blue"}),_.status==="returned"&&_.return_comment&&t.jsx(om,{title:"ACC Comment / Return Reason",content:_.return_comment,icon:$_,variant:"yellow",showHeader:!0}),_.status==="rejected"&&_.rejection_reason&&t.jsx(om,{title:"Rejection Reason",content:_.rejection_reason,icon:st,variant:"red",showHeader:!0}),t.jsx(xT,{documents:_.documents,title:"Submitted Documents"})]})})]})},bT=["English","Arabic","French","Spanish","German","Italian","Portuguese","Russian","Chinese","Japanese","Korean","Hindi","Turkish","Dutch","Swedish","Norwegian","Danish","Finnish","Polish","Czech","Greek","Hebrew","Thai","Vietnamese","Indonesian","Malay","Tagalog","Urdu","Persian","Bengali","Punjabi","Tamil","Telugu","Marathi","Gujarati"],vh=({value:e=[],onChange:s,label:r="Languages",error:n,disabled:a=!1,placeholder:i="Select a language..."})=>{const[o,l]=f.useState(""),c=Array.isArray(e)?e:e?e.split(",").map(m=>m.trim()).filter(m=>m):[],h=bT.filter(m=>!c.includes(m)),d=m=>{const u=m.target.value;if(u&&!c.includes(u)){const g=[...c,u];s(g),l("")}},p=m=>{const u=c.filter(g=>g!==m);s(u)};return t.jsxs("div",{className:"language-selector-container",children:[t.jsx("label",{className:"language-selector-label",children:r}),t.jsx("div",{className:"language-selector-wrapper",children:t.jsxs("div",{className:"language-selector-input-wrapper",children:[t.jsx(mi,{className:"language-selector-icon",size:18}),t.jsxs("select",{value:o,onChange:d,disabled:a||h.length===0,className:"language-selector-select",children:[t.jsx("option",{value:"",children:i}),h.map(m=>t.jsx("option",{value:m,children:m},m))]})]})}),c.length>0&&t.jsx("div",{className:"language-selector-tags",children:c.map((m,u)=>t.jsxs("span",{className:"language-selector-tag",children:[t.jsx(mi,{size:12,className:"language-selector-tag-icon"}),m,!a&&t.jsx("button",{type:"button",onClick:()=>p(m),className:"language-selector-remove-btn",title:"Remove language",children:t.jsx(ks,{size:12})})]},u))}),n&&t.jsx("p",{className:"language-selector-error",children:n})]})},lm="https://aeroenix.com/v1/api",vT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(!1),[y,S]=f.useState(null),[x,C]=f.useState([]),[w,_]=f.useState([]),[z,P]=f.useState([]),[b,E]=f.useState(new Set),[j,F]=f.useState({acc_id:"",sub_category_id:"",course_ids:[]}),[$,N]=f.useState({}),[A,R]=f.useState(!1),[T,v]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),[k,O]=f.useState(null),[D,L]=f.useState(""),[W,H]=f.useState(""),[B,K]=f.useState({}),[q,V]=f.useState(!1),[te,U]=f.useState("all");f.useEffect(()=>{M()},[]),f.useEffect(()=>(s("Instructors"),r("Manage your instructors"),e(t.jsxs("button",{onClick:()=>G(),className:"instructors-header-button",children:[t.jsx(Us,{size:20,className:"instructors-header-button-icon"}),"Add Instructor"]})),()=>{e(null),s(null),r(null)}),[e,s,r]),f.useEffect(()=>{u&&y&&xe()},[u,y]),f.useEffect(()=>{j.acc_id&&z.length>0&&z.forEach(I=>{const ue=w.filter(pe=>{var we,ke;return pe.sub_category_id===I.id||((we=pe.sub_category)==null?void 0:we.id)===I.id||typeof pe.sub_category=="object"&&((ke=pe.sub_category)==null?void 0:ke.id)===I.id}).map(pe=>pe.id),me=ue.filter(pe=>{var we;return(we=j.course_ids)==null?void 0:we.includes(pe)}).length,be=document.querySelector(`input[data-category-id="${I.id}"]`);be&&(be.indeterminate=me>0&&me<ue.length)})},[j.course_ids,w,z,j.acc_id]);const M=async()=>{var I,J,ue;o(!0);try{const me=await Ue.listInstructors({per_page:1e3});let be=[];me!=null&&me.data?be=Array.isArray(me.data)?me.data:((I=me.data)==null?void 0:I.instructors)||[]:me!=null&&me.instructors?be=me.instructors:Array.isArray(me)?be=me:(console.warn("Unexpected response format:",me),be=[]),a(be)}catch(me){console.error("Failed to load instructors:",me),console.error("Error details:",{status:(J=me.response)==null?void 0:J.status,data:(ue=me.response)==null?void 0:ue.data,message:me.message}),a([])}finally{o(!1)}},G=(I=null)=>{I?(S(I),v({first_name:I.first_name||"",last_name:I.last_name||"",email:I.email||"",phone:I.phone||"",id_number:I.id_number||"",cv:null,specializations:Array.isArray(I.specializations)?I.specializations:I.specializations?I.specializations.split(",").map(J=>J.trim()).filter(J=>J):[],is_assessor:I.is_assessor||!1}),O(null),L(""),H(I.cv_url||"")):(S(null),v({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),O(null),L(""),H("")),K({}),c(!0)},X=()=>{c(!1),S(null),v({first_name:"",last_name:"",email:"",phone:"",id_number:"",cv:null,specializations:[],is_assessor:!1}),O(null),L(""),H(""),K({})},fe=I=>{v({...T,[I.target.name]:I.target.value}),K({})},Ne=I=>{const J=I.target.files[0];if(J){if(J.type!=="application/pdf"){K({cv:"Only PDF files are allowed"}),I.target.value="";return}if(J.size>10*1024*1024){K({cv:"File size must be less than 10MB"}),I.target.value="";return}O(J),L(J.name),v({...T,cv:J}),B.cv&&K(ue=>{const me={...ue};return delete me.cv,me})}},ge=I=>{v({...T,specializations:I}),K({})},Pe=async I=>{var J,ue,me,be,pe,we,ke,je,ee,de,Ce,Te;I.preventDefault(),V(!0),K({});try{const ze=k instanceof File;let $e;if(ze?($e=new FormData,$e.append("first_name",T.first_name.trim()),$e.append("last_name",T.last_name.trim()),$e.append("email",T.email.trim()),(J=T.phone)!=null&&J.trim()&&$e.append("phone",T.phone.trim()),(ue=T.id_number)!=null&&ue.trim()&&$e.append("id_number",T.id_number.trim()),$e.append("cv",k),T.specializations&&T.specializations.length>0&&T.specializations.forEach(Ke=>{$e.append("specializations[]",Ke)}),$e.append("is_assessor",T.is_assessor===!0||T.is_assessor==="true"||T.is_assessor===1||T.is_assessor==="1"?"1":"0"),console.log(" Using FormData (file upload required)")):($e={first_name:T.first_name.trim(),last_name:T.last_name.trim(),email:T.email.trim(),phone:((me=T.phone)==null?void 0:me.trim())||null,id_number:((be=T.id_number)==null?void 0:be.trim())||null,specializations:T.specializations||[],is_assessor:T.is_assessor},console.log(" Using JSON (no file upload):",JSON.stringify($e,null,2))),console.log("Submitting instructor data:",ze?"FormData":"JSON"),console.log("is_assessor value:",T.is_assessor,"Type:",typeof T.is_assessor),y){console.log(" Updating instructor with ID:",y.id),console.log(" Submit data type:",ze?"FormData":"JSON"),ze&&console.log(" CV File:",k.name,k.size,"bytes");const Ke=await Ue.updateInstructor(y.id,$e);console.log(" Update result:",Ke),ze&&((pe=Ke==null?void 0:Ke.instructor)!=null&&pe.cv_url)&&console.log(" CV updated successfully:",Ke.instructor.cv_url)}else console.log(" Creating new instructor"),await Ue.createInstructor($e);await M(),X()}catch(ze){console.error("Error submitting instructor:",ze),console.error("Error response:",(we=ze.response)==null?void 0:we.data),(je=(ke=ze.response)==null?void 0:ke.data)!=null&&je.errors?K(ze.response.data.errors):(de=(ee=ze.response)==null?void 0:ee.data)!=null&&de.message?K({general:ze.response.data.message}):(Te=(Ce=ze.response)==null?void 0:Ce.data)!=null&&Te.error?K({general:ze.response.data.error}):ze.errors?K(ze.errors):K({general:ze.message||"Failed to save instructor"})}finally{V(!1)}},Fe=I=>{S(I),d(!0)},ie=async()=>{try{await Ue.deleteInstructor(y.id),await M()}catch(I){alert("Failed to delete instructor: "+(I.message||"Unknown error"))}d(!1),S(null)},Y=async I=>{try{const J=await Ue.getInstructorDetails(I.id);S(J.instructor),m(!0)}catch(J){console.error("Failed to load instructor details:",J),S(I),m(!0)}},Z=I=>{S(I),F({acc_id:"",sub_category_id:"",course_ids:[]}),E(new Set),N({}),g(!0)},xe=async()=>{try{const[I,J]=await Promise.all([Ue.listACCs(),Ue.getAuthorizationStatus()]),ue=((J==null?void 0:J.authorizations)||[]).filter(we=>we.status==="approved"),me=new Set(ue.map(we=>{var ke;return we.acc_id||((ke=we.acc)==null?void 0:ke.id)})),pe=((I==null?void 0:I.accs)||[]).filter(we=>me.has(we.id));C(pe),_([]),P([])}catch(I){console.error("Failed to load request form data:",I),C([])}},ye=async I=>{if(F({...j,acc_id:I,sub_category_id:"",course_ids:[]}),_([]),P([]),E(new Set),!!I)try{const[J,ue]=await Promise.all([Ue.getSubCategoriesForACC(I).catch(()=>({sub_categories:[]})),Ue.getCoursesForACC(I).catch(()=>({courses:[]}))]),me=(J==null?void 0:J.sub_categories)||[];P(me);const be=(ue==null?void 0:ue.courses)||[];_(be)}catch(J){console.error("Failed to load ACC data:",J),_([]),P([])}},Q=I=>{E(J=>{const ue=new Set(J);return ue.has(I)?ue.delete(I):ue.add(I),ue})},se=I=>{const ue=w.filter(me=>{var be,pe;return me.sub_category_id===I||((be=me.sub_category)==null?void 0:be.id)===I||typeof me.sub_category=="object"&&((pe=me.sub_category)==null?void 0:pe.id)===I}).map(me=>me.id);F(me=>{const be=me.course_ids||[];if(ue.length>0&&ue.every(we=>be.includes(we))){const we=be.filter(je=>!ue.includes(je)),ke=me.sub_category_id===I.toString()||me.sub_category_id===I?"":me.sub_category_id;return{...me,course_ids:we,sub_category_id:ke}}else{const we=[...new Set([...be,...ue])];return{...me,course_ids:we,sub_category_id:I.toString()}}})},ce=(I,J)=>{F(ue=>{const me=ue.course_ids||[];if(me.includes(I)){const be=me.filter(we=>we!==I);let pe=ue.sub_category_id;return J&&!w.filter(je=>{var ee,de;return(je.sub_category_id===J||((ee=je.sub_category)==null?void 0:ee.id)===J||typeof je.sub_category=="object"&&((de=je.sub_category)==null?void 0:de.id)===J)&&je.id!==I}).some(je=>be.includes(je.id))&&(ue.sub_category_id===J.toString()||ue.sub_category_id===J)&&(pe=""),{...ue,course_ids:be,sub_category_id:pe}}else return{...ue,course_ids:[...me,I]}})},Ae=async I=>{var J;if(I.preventDefault(),!!y){R(!0),N({});try{if(!j.acc_id){N({general:"Please select an ACC"}),R(!1);return}if(!j.course_ids||j.course_ids.length===0){N({general:"Please select at least one course or category"}),R(!1);return}const ue={acc_id:parseInt(j.acc_id)};if(j.sub_category_id){const we=w.filter(je=>{var ee;return je.sub_category_id===parseInt(j.sub_category_id)||((ee=je.sub_category)==null?void 0:ee.id)===parseInt(j.sub_category_id)}).map(je=>je.id);we.every(je=>j.course_ids.includes(je))&&we.length===j.course_ids.length&&we.length>0?ue.sub_category_id=parseInt(j.sub_category_id):ue.course_ids=j.course_ids.map(je=>parseInt(je))}else ue.course_ids=j.course_ids.map(pe=>parseInt(pe));const me=await Ue.requestInstructorAuthorization(y.id,ue);g(!1),F({acc_id:"",sub_category_id:"",course_ids:[]}),E(new Set),S(null);const be=(me==null?void 0:me.courses_count)||j.course_ids.length;alert(`Authorization request submitted successfully! ${be} course(s) included.`)}catch(ue){if(console.error("Failed to submit request:",ue),(J=ue.response)!=null&&J.data){const me=ue.response.data;me.errors?N(me.errors):me.message?N({general:me.message}):N(me)}else ue.message?N({general:ue.message}):N({general:"Failed to submit request. Please try again."})}finally{R(!1)}}},ae=f.useMemo(()=>n,[n]),_e=f.useMemo(()=>[{header:"Instructor",accessor:"name",sortable:!0,render:(I,J)=>t.jsxs("div",{className:"instructors-column-instructor",children:[t.jsx("div",{className:"instructors-column-icon-wrapper",children:t.jsx(_t,{className:"instructors-column-icon"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructors-column-name",children:[J.first_name," ",J.last_name]}),J.id_number&&t.jsxs("div",{className:"instructors-column-id",children:["ID: ",J.id_number]})]})]})},{header:"Email",accessor:"email",sortable:!0,render:I=>t.jsxs("div",{className:"instructors-column-email",children:[t.jsx(Wt,{className:"instructors-column-email-icon"}),I]})},{header:"Phone",accessor:"phone",sortable:!0,render:I=>I?t.jsxs("div",{className:"instructors-column-phone",children:[t.jsx(Gr,{className:"instructors-column-phone-icon"}),I]}):t.jsx("span",{className:"instructors-column-na",children:"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:I=>{const J={active:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ve},suspended:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:st},inactive:{bg:"from-gray-100 to-gray-200",text:"text-gray-800",border:"border-gray-300",icon:Ve}},me=(J[I]||J.inactive).icon,be=I==="active"?"instructors-column-status-badge-active":I==="pending"?"instructors-column-status-badge-pending":I==="suspended"?"instructors-column-status-badge-suspended":"instructors-column-status-badge-inactive";return t.jsxs("span",{className:`instructors-column-status-badge ${be}`,children:[t.jsx(me,{size:14,className:"instructors-column-status-icon"}),I?I.charAt(0).toUpperCase()+I.slice(1):"N/A"]})}},{header:"Type",accessor:"is_assessor",sortable:!0,render:I=>I?t.jsx("span",{className:"instructors-column-type-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-column-type-badge-gray",children:"Instructor"})},{header:"Actions",accessor:"actions",sortable:!1,render:(I,J)=>t.jsxs("div",{className:"instructors-column-actions",onClick:ue=>ue.stopPropagation(),children:[t.jsx("button",{onClick:ue=>{ue.stopPropagation(),G(J)},className:"instructors-action-button instructors-action-button-edit",title:"Edit",children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:ue=>{ue.stopPropagation(),Z(J)},className:"instructors-action-button instructors-action-button-send",title:"Request Authorization",children:t.jsx(Vc,{size:16})}),t.jsx("button",{onClick:ue=>{ue.stopPropagation(),Fe(J)},className:"instructors-action-button instructors-action-button-delete",title:"Delete",children:t.jsx(Ss,{size:16})})]})}],[]),Ee=n.length,ne=n.filter(I=>I.status==="active").length,oe=n.filter(I=>I.status==="pending").length,re=n.filter(I=>I.status==="suspended").length;return i?t.jsx(Yo,{}):t.jsxs("div",{className:"instructors-container",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total Instructors",value:Ee,icon:_t,colorType:"indigo",isActive:te==="all",onClick:()=>U("all")}),t.jsx(qe,{name:"Active",value:ne,icon:Me,colorType:"green",isActive:te==="active",onClick:()=>U("active")}),t.jsx(qe,{name:"Pending",value:oe,icon:Ve,colorType:"yellow",isActive:te==="pending",onClick:()=>U("pending")}),t.jsx(qe,{name:"Suspended",value:re,icon:st,colorType:"red",isActive:te==="suspended",onClick:()=>U("suspended")})]}),t.jsx("div",{className:"instructors-table-container",children:t.jsx(lt,{columns:_e,data:ae,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name or email...",emptyMessage:"No instructors found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:I=>I.status==="active"},{value:"pending",label:"Pending",filterFn:I=>I.status==="pending"},{value:"suspended",label:"Suspended",filterFn:I=>I.status==="suspended"},{value:"inactive",label:"Inactive",filterFn:I=>I.status==="inactive"}],defaultFilter:te,onRowClick:I=>Y(I)})}),t.jsx(Ie,{isOpen:l,onClose:X,title:y?"Edit Instructor":"Add New Instructor",size:"lg",children:t.jsxs("form",{onSubmit:Pe,className:"instructors-form",children:[t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(he,{label:"First Name",name:"first_name",value:T.first_name,onChange:fe,required:!0,error:B.first_name}),t.jsx(he,{label:"Last Name",name:"last_name",value:T.last_name,onChange:fe,required:!0,error:B.last_name})]}),t.jsxs("div",{className:"instructors-form-grid",children:[t.jsx(he,{label:"Email",type:"email",name:"email",value:T.email,onChange:fe,required:!0,error:B.email}),t.jsx(he,{label:"Phone",type:"tel",name:"phone",value:T.phone,onChange:fe,error:B.phone})]}),t.jsx(he,{label:"ID Number",name:"id_number",value:T.id_number,onChange:fe,error:B.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"instructors-cv-label",children:"CV / Resume (PDF)"}),W&&!k&&t.jsx("div",{className:"instructors-cv-display-box",children:t.jsxs("div",{className:"instructors-cv-display-flex",children:[t.jsxs("div",{className:"instructors-cv-display-inner",children:[t.jsx("div",{className:"instructors-cv-icon-wrapper",children:t.jsx(Ge,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-text-title",children:"Current CV"}),t.jsx("p",{className:"instructors-cv-text-hint",children:"Click to view your current CV"})]})]}),t.jsxs("a",{href:W.startsWith("http")?W:`${lm}${W}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-link",children:[t.jsx(Ge,{size:14,className:"instructors-cv-link-icon"}),"View CV"]})]})}),t.jsxs("div",{className:"instructors-upload-area",children:[t.jsxs("label",{className:"instructors-upload-label",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:Ne,className:"instructors-upload-input",id:"cv-upload-input"}),t.jsx("div",{className:"instructors-upload-div",children:t.jsxs("div",{className:"instructors-upload-inner",children:[t.jsx("div",{className:"instructors-upload-icon-wrapper",children:t.jsx(Ge,{className:"text-primary-600",size:24})}),D?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:D}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to change file"})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"instructors-upload-text-title",children:W?"Update CV":"Upload CV"}),t.jsx("p",{className:"instructors-upload-text-hint",children:"Click to select PDF document"})]}),t.jsx("p",{className:"instructors-upload-text-small",children:"PDF only, maximum 10MB"})]})})]}),D&&t.jsxs("div",{className:"instructors-file-selected-box",children:[t.jsx(Me,{className:"text-green-600",size:18}),t.jsxs("p",{className:"instructors-file-selected-text",children:[t.jsx("span",{className:"instructors-file-selected-bold",children:"Selected:"})," ",D]})]}),B.cv&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:B.cv})})]})]}),t.jsx(vh,{label:"Languages",value:T.specializations,onChange:ge,error:B.specializations}),t.jsxs("div",{className:"instructors-checkbox-container",children:[t.jsx("input",{type:"checkbox",id:"is_assessor",name:"is_assessor",checked:T.is_assessor||!1,onChange:I=>v({...T,is_assessor:I.target.checked}),className:"instructors-checkbox"}),t.jsx("label",{htmlFor:"is_assessor",className:"instructors-checkbox-label",children:"Is Assessor"})]}),t.jsx("p",{className:"instructors-helper-text",children:"Mark this instructor as an assessor"}),B.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text-bold",children:B.general})}),Object.keys(B).filter(I=>I!=="general"&&I!=="specializations").map(I=>B[I]&&t.jsxs("p",{className:"instructors-error-text",children:[I,": ",B[I]]},I)),t.jsxs("div",{className:"instructors-form-actions",children:[t.jsx("button",{type:"button",onClick:X,className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:q,className:"instructors-button-submit",children:q?"Saving...":y?"Update Instructor":"Add Instructor"})]})]})}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),S(null)},title:"Instructor Details",size:"lg",children:y&&t.jsxs("div",{className:"instructors-detail-container",children:[t.jsxs("div",{className:"instructors-detail-grid",children:[t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"First Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.first_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Name"}),t.jsx("p",{className:"instructors-detail-value",children:y.last_name||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Wt,{size:16,className:"instructors-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"instructors-detail-value",children:y.email||"N/A"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Gr,{size:16,className:"instructors-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"instructors-detail-value",children:y.phone||"N/A"})]}),y.id_number&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"ID Number"}),t.jsx("p",{className:"instructors-detail-value",children:y.id_number})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Type"}),y.is_assessor?t.jsx("span",{className:"instructors-detail-badge-blue",children:"Assessor"}):t.jsx("span",{className:"instructors-detail-badge-gray",children:"Instructor"})]}),t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Status"}),t.jsx("span",{className:`instructors-detail-status ${y.status==="active"?"instructors-detail-status-active":y.status==="pending"?"instructors-detail-status-pending":y.status==="suspended"?"instructors-detail-status-suspended":"instructors-detail-status-inactive"}`,children:y.status})]})]}),y.specializations&&y.specializations.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Specializations / Languages"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(y.specializations)?y.specializations.map((I,J)=>t.jsx("span",{className:"instructors-specialization-badge",children:I},J)):t.jsx("span",{className:"instructors-specialization-badge",children:y.specializations})})]}),y.languages&&y.languages.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Languages"}),t.jsx("div",{className:"instructors-specializations-list",children:Array.isArray(y.languages)?y.languages.map((I,J)=>t.jsx("span",{className:"instructors-specialization-badge",children:I},J)):t.jsx("span",{className:"instructors-specialization-badge",children:y.languages})})]}),y.certificates_json&&Array.isArray(y.certificates_json)&&y.certificates_json.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"instructors-specializations-title",children:"Certificates"}),t.jsx("div",{className:"instructors-certificates-list",children:y.certificates_json.map((I,J)=>{const ue=typeof I=="object"?I.name||I.title||I.certificate_name||"Certificate":I,me=typeof I=="object"&&I.date?I.date:null,be=typeof I=="object"&&I.url?I.url:typeof I=="object"&&I.file_url?I.file_url:null;return t.jsx("div",{className:"instructors-certificate-box",children:t.jsxs("div",{className:"instructors-certificate-box-flex",children:[t.jsxs("div",{className:"instructors-certificate-box-inner",children:[t.jsx("div",{className:"instructors-certificate-icon-wrapper",children:t.jsx(Ge,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-certificate-text-title",children:ue}),me&&t.jsx("p",{className:"instructors-certificate-text-date",children:new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),!me&&t.jsx("p",{className:"instructors-certificate-text-hint",children:"Certificate document"})]})]}),be&&t.jsxs("a",{href:be.startsWith("http")?be:`${lm}${be}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-certificate-link",children:[t.jsx(Ge,{size:14,className:"instructors-certificate-link-icon"}),"View PDF"]})]})},J)})})]}),y.training_center&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsxs("p",{className:"instructors-detail-label",children:[t.jsx(Je,{size:16,className:"instructors-detail-label-icon"}),"Training Center"]}),t.jsx("p",{className:"instructors-detail-value",children:typeof y.training_center=="object"?y.training_center.name||y.training_center.email||"N/A":y.training_center})]}),y.created_at&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Created At"}),t.jsx("p",{className:"instructors-detail-value",children:new Date(y.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.updated_at&&t.jsxs("div",{className:"instructors-detail-item",children:[t.jsx("p",{className:"instructors-detail-label",children:"Last Updated"}),t.jsx("p",{className:"instructors-detail-value",children:new Date(y.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.cv_url&&t.jsx("div",{className:"instructors-cv-box",children:t.jsxs("div",{className:"instructors-cv-box-flex",children:[t.jsxs("div",{className:"instructors-cv-box-inner",children:[t.jsx("div",{className:"instructors-cv-box-icon-wrapper",children:t.jsx(Ge,{className:"text-white",size:28})}),t.jsxs("div",{children:[t.jsx("p",{className:"instructors-cv-box-text-title",children:"Curriculum Vitae"}),t.jsx("p",{className:"instructors-cv-box-text-hint",children:"Click the button to view the instructor's CV"})]})]}),t.jsxs("a",{href:y.cv_url.startsWith("http")?y.cv_url:`${lm}${y.cv_url}`,target:"_blank",rel:"noopener noreferrer",className:"instructors-cv-box-link",children:[t.jsx(Ge,{size:18,className:"instructors-cv-box-link-icon"}),"View CV"]})]})})]})}),t.jsx(fn,{isOpen:h,onClose:()=>{d(!1),S(null)},onConfirm:ie,title:"Delete Instructor",message:`Are you sure you want to delete "${y==null?void 0:y.first_name} ${y==null?void 0:y.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"}),t.jsx(Ie,{isOpen:u,onClose:()=>{g(!1),F({acc_id:"",sub_category_id:"",course_ids:[]}),E(new Set),N({}),_([]),P([])},title:`Request Authorization for ${y?`${y.first_name} ${y.last_name}`:"Instructor"}`,size:"lg",children:t.jsxs("form",{onSubmit:Ae,className:"instructors-request-form",children:[$.general&&t.jsx("div",{className:"instructors-error-box",children:t.jsx("p",{className:"instructors-error-text",children:$.general})}),t.jsx(he,{label:"ACC",name:"acc_id",type:"select",value:j.acc_id,onChange:I=>ye(I.target.value),required:!0,options:x.length>0?x.map(I=>({value:I.id,label:I.name||`ACC ${I.id}`})):[{value:"",label:"No approved ACCs available"}],error:$.acc_id,disabled:x.length===0}),x.length===0&&t.jsx("p",{className:"instructors-request-warning",children:"No approved ACCs found. Please request and get approval from an ACC first."}),j.acc_id&&t.jsxs("div",{children:[t.jsxs("label",{className:"instructors-request-label",children:["Select Categories & Courses ",t.jsx("span",{className:"instructors-request-label-required",children:"*"})]}),z.length===0&&w.length===0?t.jsx("p",{className:"instructors-request-warning",children:"No categories or courses available for the selected ACC"}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"instructors-categories-container",children:[z.map(I=>{var ee;const J=w.filter(de=>{var Ce,Te;return de.sub_category_id===I.id||((Ce=de.sub_category)==null?void 0:Ce.id)===I.id||typeof de.sub_category=="object"&&((Te=de.sub_category)==null?void 0:Te.id)===I.id}),ue=new Set(((ee=y==null?void 0:y.courses)==null?void 0:ee.filter(de=>{var Ce,Te;return((Ce=de.pivot)==null?void 0:Ce.acc_id)===parseInt(j.acc_id)&&((Te=de.pivot)==null?void 0:Te.status)==="active"}).map(de=>de.id))||[]),be=J.filter(de=>!ue.has(de.id)).map(de=>de.id),pe=be.length>0&&be.every(de=>{var Ce;return(Ce=j.course_ids)==null?void 0:Ce.includes(de)}),we=be.some(de=>{var Ce;return(Ce=j.course_ids)==null?void 0:Ce.includes(de)}),ke=b.has(I.id),je=J.length>0&&J.every(de=>ue.has(de.id));return t.jsxs("div",{className:"instructors-category-group",children:[t.jsxs("div",{className:"instructors-category-header",onClick:de=>{de.target.type==="checkbox"||de.target.closest(".instructors-category-expand-btn")||de.target.closest(".instructors-course-checkbox")||J.length>0&&Q(I.id)},children:[t.jsxs("div",{className:"instructors-category-header-left",children:[t.jsx("input",{type:"checkbox","data-category-id":I.id,checked:pe,disabled:je,ref:de=>{de&&(de.indeterminate=we&&!pe)},onChange:()=>se(I.id),className:"instructors-course-checkbox",onClick:de=>de.stopPropagation()}),t.jsx("span",{className:`instructors-category-name ${je?"instructors-category-name-disabled":""}`,children:I.name||`Category ${I.id}`}),t.jsxs("span",{className:`instructors-category-count ${je?"instructors-category-count-disabled":""}`,children:["(",J.length," ",J.length===1?"course":"courses",")",je&&" (All Authorized)"]})]}),J.length>0&&t.jsx("button",{type:"button",onClick:de=>{de.preventDefault(),de.stopPropagation(),Q(I.id)},className:"instructors-category-expand-btn",children:ke?t.jsx(Sv,{size:18}):t.jsx(Cv,{size:18})})]}),ke&&J.length>0&&t.jsx("div",{className:"instructors-category-courses",children:J.map(de=>{var Te,ze;const Ce=((Te=y==null?void 0:y.courses)==null?void 0:Te.some($e=>{var Ke,dt;return $e.id===de.id&&((Ke=$e.pivot)==null?void 0:Ke.acc_id)===parseInt(j.acc_id)&&((dt=$e.pivot)==null?void 0:dt.status)==="active"}))||!1;return t.jsxs("div",{className:`instructors-course-item instructors-course-item-nested ${Ce?"instructors-course-item-disabled":""}`,onClick:$e=>$e.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:((ze=j.course_ids)==null?void 0:ze.includes(de.id))||!1,onChange:()=>ce(de.id,I.id),className:"instructors-course-checkbox",onClick:$e=>$e.stopPropagation(),disabled:Ce}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:`instructors-course-name ${Ce?"instructors-course-name-disabled":""}`,children:de.name||de.code||`Course ${de.id}`}),de.code&&de.name!==de.code&&t.jsxs("span",{className:`instructors-course-subcategory ${Ce?"instructors-course-subcategory-disabled":""}`,children:["(",de.code,")"]}),Ce&&t.jsx("span",{className:"instructors-course-authorized-badge",children:"Already Authorized"})]})]},de.id)})})]},I.id)}),w.filter(I=>!z.some(ue=>{var me;return I.sub_category_id===ue.id||((me=I.sub_category)==null?void 0:me.id)===ue.id})).length>0&&t.jsxs("div",{className:"instructors-category-group",children:[t.jsx("div",{className:"instructors-category-header",children:t.jsx("span",{className:"instructors-category-name",children:"Other Courses"})}),t.jsx("div",{className:"instructors-category-courses",children:w.filter(I=>!z.some(ue=>{var me;return I.sub_category_id===ue.id||((me=I.sub_category)==null?void 0:me.id)===ue.id})).map(I=>{var J;return t.jsxs("div",{className:"instructors-course-item instructors-course-item-nested",onClick:ue=>ue.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:((J=j.course_ids)==null?void 0:J.includes(I.id))||!1,onChange:()=>ce(I.id,null),className:"instructors-course-checkbox",onClick:ue=>ue.stopPropagation()}),t.jsxs("div",{className:"instructors-course-info",children:[t.jsx("span",{className:"instructors-course-name",children:I.name||I.code||`Course ${I.id}`}),I.code&&I.name!==I.code&&t.jsxs("span",{className:"instructors-course-subcategory",children:["(",I.code,")"]})]})]},I.id)})})]})]}),j.course_ids.length>0&&t.jsxs("p",{className:"instructors-course-selected",children:["Selected: ",t.jsx("span",{className:"instructors-course-selected-bold",children:j.course_ids.length})," course(s)"]})]}),$.course_ids&&t.jsx("p",{className:"instructors-error-text",children:$.course_ids})]}),t.jsxs("div",{className:"instructors-request-actions",children:[t.jsx("button",{type:"button",onClick:()=>{g(!1),F({acc_id:"",sub_category_id:"",course_ids:[]}),E(new Set),N({}),_([]),P([])},className:"instructors-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:A,className:"instructors-button-submit",children:A?"Submitting...":"Submit Request"})]})]})})]})},jT=()=>{const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(!1),[u,g]=f.useState(null),[y,S]=f.useState([]),[x,C]=f.useState({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),[w,_]=f.useState(null),[z,P]=f.useState(null),[b,E]=f.useState({}),[j,F]=f.useState(!1),[$,N]=f.useState(null),[A,R]=f.useState(""),[T,v]=f.useState("all"),[k,O]=f.useState({key:null,direction:"asc"});f.useEffect(()=>{D(),L()},[]),f.useEffect(()=>(s("Trainees"),r("Manage your trainees"),e(t.jsxs("button",{onClick:()=>W(),className:"trainees-header-button",children:[t.jsx(Us,{size:20,className:"trainees-header-button-icon"}),"Add Trainee"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const D=async()=>{o(!0);try{const ie={per_page:1e3,...A&&{search:A}},Y=await Ue.listTrainees(ie);Y!=null&&Y.trainees?a(Y.trainees):Array.isArray(Y)?a(Y):a([])}catch(ie){console.error("Failed to load trainees:",ie),a([])}finally{o(!1)}},L=async()=>{try{const ie=await Ue.listClasses(),Y=(ie==null?void 0:ie.classes)||(ie==null?void 0:ie.data)||[];S(Y)}catch(ie){console.error("Failed to load training classes:",ie),S([])}};f.useEffect(()=>{D()},[A]);const W=(ie=null)=>{var Y;ie?(g(ie),C({first_name:ie.first_name||"",last_name:ie.last_name||"",email:ie.email||"",phone:ie.phone||"",id_number:ie.id_number||"",id_image:null,card_image:null,enrolled_classes:((Y=ie.training_classes)==null?void 0:Y.map(Z=>Z.id))||[],status:ie.status||"active"}),_(ie.id_image_url||null),P(ie.card_image_url||null)):(g(null),C({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),_(null),P(null)),E({}),c(!0)},H=()=>{c(!1),g(null),C({first_name:"",last_name:"",email:"",phone:"",id_number:"",id_image:null,card_image:null,enrolled_classes:[],status:"active"}),_(null),P(null),E({})},B=ie=>{const{name:Y,value:Z}=ie.target;C({...x,[Y]:Z}),E({})},K=(ie,Y=1920,Z=1920,xe=.8)=>new Promise(ye=>{if(ie.type==="application/pdf"){ye(ie);return}const Q=new FileReader;Q.onload=se=>{const ce=new Image;ce.onload=()=>{let Ae=ce.width,ae=ce.height;(Ae>Y||ae>Z)&&(Ae>ae?(ae=ae*Y/Ae,Ae=Y):(Ae=Ae*Z/ae,ae=Z));const _e=document.createElement("canvas");_e.width=Ae,_e.height=ae,_e.getContext("2d").drawImage(ce,0,0,Ae,ae),_e.toBlob(ne=>{if(ne){const oe=new File([ne],ie.name,{type:ie.type,lastModified:Date.now()});ye(oe)}else ye(ie)},ie.type,xe)},ce.onerror=()=>ye(ie),ce.src=se.target.result},Q.onerror=()=>ye(ie),Q.readAsDataURL(ie)}),q=async(ie,Y)=>{const Z=ie.target.files[0];if(Z){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Z.type)){E({[Y]:"File must be jpeg, jpg, png, or pdf"});return}if(Z.size>10*1024*1024){E({[Y]:"File size must be less than 10MB"});return}N(Y);try{let ye=Z;if(Z.type.startsWith("image/")&&(ye=await K(Z),console.log(`Image resized: ${Z.size} bytes -> ${ye.size} bytes`)),C({...x,[Y]:ye}),Y==="id_image"&&ye.type.startsWith("image/")){const Q=new FileReader;Q.onloadend=()=>{_(Q.result)},Q.readAsDataURL(ye)}else if(Y==="card_image"&&ye.type.startsWith("image/")){const Q=new FileReader;Q.onloadend=()=>{P(Q.result)},Q.readAsDataURL(ye)}E({})}catch(ye){console.error("Error processing image:",ye),E({[Y]:"Failed to process image. Please try again."})}finally{N(null)}}},V=ie=>{C(Y=>{const Z=Y.enrolled_classes||[];return Z.includes(ie)?{...Y,enrolled_classes:Z.filter(xe=>xe!==ie)}:{...Y,enrolled_classes:[...Z,ie]}})},te=ie=>{ie==="id_image"?(C(Y=>({...Y,id_image:null})),_(null)):ie==="card_image"&&(C(Y=>({...Y,card_image:null})),P(null)),E({})},U=async ie=>{var Y,Z,xe,ye;ie.preventDefault(),console.log(" handleSubmit called - UPDATE mode:",!!u),console.log(" Current formData:",x),F(!0),E({});try{const Q=new FormData;if(u){console.log(" Starting UPDATE for trainee ID:",u.id),x.first_name!==void 0&&x.first_name!==null&&x.first_name.trim()&&Q.append("first_name",x.first_name.trim()),x.last_name!==void 0&&x.last_name!==null&&x.last_name.trim()&&Q.append("last_name",x.last_name.trim()),x.email!==void 0&&x.email!==null&&x.email.trim()&&Q.append("email",x.email.trim()),x.phone!==void 0&&x.phone!==null&&x.phone.trim()&&Q.append("phone",x.phone.trim()),x.id_number!==void 0&&x.id_number!==null&&x.id_number.trim()&&Q.append("id_number",x.id_number.trim()),x.status!==void 0&&x.status!==null&&Q.append("status",x.status),x.id_image instanceof File&&Q.append("id_image",x.id_image),x.card_image instanceof File&&Q.append("card_image",x.card_image),x.enrolled_classes!==void 0&&Array.isArray(x.enrolled_classes)&&x.enrolled_classes.forEach(ce=>{Q.append("enrolled_classes[]",ce)}),console.log("========================================"),console.log(" UPDATE Trainee - FormData Contents"),console.log("========================================"),console.log("Trainee ID:",u.id),console.log("FormData entries:"),Q.forEach((ce,Ae)=>{ce instanceof File?console.log(`  ${Ae}: File - ${ce.name} (${ce.size} bytes, type: ${ce.type})`):console.log(`  ${Ae}: ${ce}`)});const se=Array.from(Q.entries());console.log("FormData entries array:",se.map(([ce,Ae])=>({key:ce,value:Ae instanceof File?`File: ${Ae.name}`:Ae})));try{const ce=Object.fromEntries(Q.entries());console.log("FormData as object:",ce)}catch(ce){console.log("Could not convert FormData to object:",ce.message)}console.log("========================================"),await Ue.updateTrainee(u.id,Q)}else{console.log(" Starting CREATE new trainee"),Q.append("first_name",x.first_name.trim()),Q.append("last_name",x.last_name.trim()),Q.append("email",x.email.trim()),Q.append("phone",x.phone.trim()),Q.append("id_number",x.id_number.trim()),Q.append("status",x.status),x.id_image instanceof File&&Q.append("id_image",x.id_image),x.card_image instanceof File&&Q.append("card_image",x.card_image),x.enrolled_classes&&Array.isArray(x.enrolled_classes)&&x.enrolled_classes.forEach(ce=>{Q.append("enrolled_classes[]",ce)}),console.log("========================================"),console.log(" CREATE Trainee - FormData Contents"),console.log("========================================"),console.log("FormData entries:"),Q.forEach((ce,Ae)=>{ce instanceof File?console.log(`  ${Ae}: File - ${ce.name} (${ce.size} bytes, type: ${ce.type})`):console.log(`  ${Ae}: ${ce}`)});const se=Array.from(Q.entries());console.log("FormData entries array:",se.map(([ce,Ae])=>({key:ce,value:Ae instanceof File?`File: ${Ae.name}`:Ae})));try{const ce=Object.fromEntries(Q.entries());console.log("FormData as object:",ce)}catch(ce){console.log("Could not convert FormData to object:",ce.message)}console.log("========================================"),await Ue.createTrainee(Q)}await D(),H()}catch(Q){console.error("Error submitting trainee:",Q),(Z=(Y=Q.response)==null?void 0:Y.data)!=null&&Z.errors?E(Q.response.data.errors):(ye=(xe=Q.response)==null?void 0:xe.data)!=null&&ye.message?E({general:Q.response.data.message}):E({general:Q.message||"Failed to save trainee"})}finally{F(!1)}},M=ie=>{g(ie),d(!0)},G=async()=>{try{await Ue.deleteTrainee(u.id),await D()}catch(ie){alert("Failed to delete trainee: "+(ie.message||"Unknown error"))}d(!1),g(null)},X=async ie=>{try{const Y=await Ue.getTraineeDetails(ie.id);g(Y.trainee),m(!0)}catch(Y){console.error("Failed to load trainee details:",Y),g(ie),m(!0)}},fe=n.length,Ne=n.filter(ie=>ie.status==="active").length,ge=n.filter(ie=>ie.status==="inactive").length,Pe=n.filter(ie=>ie.status==="suspended").length,Fe=f.useMemo(()=>[{header:"Trainee",accessor:"name",sortable:!0,render:(ie,Y)=>t.jsxs("div",{className:"trainees-column-trainee",children:[t.jsx("div",{className:"trainees-column-icon-wrapper",children:t.jsx(go,{className:"trainees-column-icon"})}),t.jsx("div",{children:t.jsxs("div",{className:"trainees-column-name",children:[Y.first_name," ",Y.last_name]})})]})},{header:"Email",accessor:"email",sortable:!0,render:ie=>t.jsxs("div",{className:"trainees-column-email",children:[t.jsx(Wt,{className:"trainees-column-email-icon"}),ie]})},{header:"Phone",accessor:"phone",sortable:!0,render:ie=>ie?t.jsxs("div",{className:"trainees-column-phone",children:[t.jsx(Gr,{className:"trainees-column-phone-icon"}),ie]}):t.jsx("span",{className:"trainees-column-na",children:"N/A"})},{header:"ID Number",accessor:"id_number",sortable:!0,render:ie=>t.jsx("span",{className:"trainees-column-id-number",children:ie||"N/A"})},{header:"Status",accessor:"status",sortable:!0,render:ie=>{const Y={active:{icon:Me,class:"trainees-column-status-badge-active"},inactive:{icon:Ve,class:"trainees-column-status-badge-inactive"},suspended:{icon:st,class:"trainees-column-status-badge-suspended"}},Z=Y[ie]||Y.inactive,xe=Z.icon;return t.jsxs("span",{className:`trainees-column-status-badge ${Z.class}`,children:[t.jsx(xe,{size:14,className:"trainees-column-status-icon"}),ie?ie.charAt(0).toUpperCase()+ie.slice(1):"N/A"]})}},{header:"Classes",accessor:"training_classes",sortable:!1,render:ie=>ie&&ie.length>0?t.jsxs("div",{className:"trainees-column-classes",children:[t.jsx(_s,{size:16,className:"trainees-column-classes-icon"}),t.jsx("span",{className:"trainees-column-classes-count",children:ie.length})]}):t.jsx("span",{className:"trainees-column-na",children:"0"})},{header:"Actions",accessor:"actions",sortable:!1,render:(ie,Y)=>t.jsxs("div",{className:"trainees-column-actions",onClick:Z=>Z.stopPropagation(),children:[t.jsx("button",{onClick:Z=>{Z.stopPropagation(),W(Y)},className:"trainees-action-button trainees-action-button-edit",title:"Edit",children:t.jsx(gs,{size:16})}),t.jsx("button",{onClick:Z=>{Z.stopPropagation(),M(Y)},className:"trainees-action-button trainees-action-button-delete",title:"Delete",children:t.jsx(Ss,{size:16})})]})}],[]);return i&&n.length===0?t.jsx(Yo,{}):t.jsxs("div",{className:"trainees-container",children:[t.jsxs(Ts,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(qe,{name:"Total Trainees",value:fe,icon:go,colorType:"indigo",isActive:T==="all",onClick:()=>v("all")}),t.jsx(qe,{name:"Active",value:Ne,icon:Me,colorType:"green",isActive:T==="active",onClick:()=>v("active")}),t.jsx(qe,{name:"Inactive",value:ge,icon:Ve,colorType:"blue",isActive:T==="inactive",onClick:()=>v("inactive")}),t.jsx(qe,{name:"Suspended",value:Pe,icon:st,colorType:"red",isActive:T==="suspended",onClick:()=>v("suspended")})]}),t.jsx("div",{className:"trainees-table-container",children:t.jsx(lt,{columns:Fe,data:n,isLoading:i,searchable:!0,sortable:!0,filterable:!0,searchPlaceholder:"Search by name, email, phone, or ID number...",emptyMessage:"No trainees found",filterOptions:[{value:"all",label:"All Status",filterFn:null},{value:"active",label:"Active",filterFn:ie=>ie.status==="active"},{value:"inactive",label:"Inactive",filterFn:ie=>ie.status==="inactive"},{value:"suspended",label:"Suspended",filterFn:ie=>ie.status==="suspended"}],defaultFilter:T,onRowClick:ie=>X(ie)})}),t.jsxs(Ie,{isOpen:l,onClose:H,title:u?"Edit Trainee":"Add New Trainee",size:"lg",children:[j&&t.jsx("div",{className:"trainees-form-loading-overlay",children:t.jsxs("div",{className:"trainees-form-loading-spinner",children:[t.jsx("div",{className:"trainees-form-spinner"}),t.jsx("p",{className:"trainees-form-loading-text",children:"Saving trainee..."})]})}),t.jsxs("form",{onSubmit:U,className:`trainees-form ${j?"trainees-form-saving":""}`,children:[t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(he,{label:"First Name",name:"first_name",value:x.first_name,onChange:B,required:!0,error:b.first_name,disabled:j}),t.jsx(he,{label:"Last Name",name:"last_name",value:x.last_name,onChange:B,required:!0,error:b.last_name,disabled:j})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(he,{label:"Email",type:"email",name:"email",value:x.email,onChange:B,required:!0,error:b.email,disabled:j}),t.jsx(he,{label:"Phone",type:"tel",name:"phone",value:x.phone,onChange:B,required:!0,error:b.phone,disabled:j})]}),t.jsxs("div",{className:"trainees-form-grid",children:[t.jsx(he,{label:"ID Number",name:"id_number",value:x.id_number,onChange:B,required:!0,error:b.id_number,disabled:j}),t.jsx(he,{label:"Status",name:"status",type:"select",value:x.status,onChange:B,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"}],error:b.status,disabled:j})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["ID Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="id_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):w?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:w,alt:"ID Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:ie=>q(ie,"id_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Ds,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>te("id_image"),className:"trainees-image-remove-button",disabled:j,children:[t.jsx(ks,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.id_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(ax,{size:14}),x.id_image.name," (",Math.round(x.id_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:ie=>q(ie,"id_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Ds,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload ID Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.id_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(st,{size:16}),Array.isArray(b.id_image)?b.id_image[0]:b.id_image]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"trainees-image-label",children:["Card Image ",!u&&t.jsx("span",{className:"trainees-image-label-required",children:"*"})]}),$==="card_image"?t.jsxs("div",{className:"trainees-image-resizing",children:[t.jsx("div",{className:"trainees-image-resizing-spinner"}),t.jsx("p",{className:"trainees-image-resizing-text",children:"Resizing image..."})]}):z?t.jsxs("div",{className:"trainees-image-preview-container",children:[t.jsxs("div",{className:"trainees-image-preview-box",children:[t.jsx("img",{src:z,alt:"Card Preview",className:"trainees-image-preview-img"}),t.jsx("div",{className:"trainees-image-preview-overlay",children:t.jsxs("div",{className:"trainees-image-preview-actions",children:[t.jsxs("label",{children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:ie=>q(ie,"card_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsxs("div",{className:"trainees-image-change-button",children:[t.jsx(Ds,{size:18}),t.jsx("span",{className:"trainees-image-change-text",children:"Change"})]})]}),t.jsxs("button",{type:"button",onClick:()=>te("card_image"),className:"trainees-image-remove-button",disabled:j,children:[t.jsx(ks,{size:18}),t.jsx("span",{className:"trainees-image-remove-text",children:"Remove"})]})]})})]}),x.card_image instanceof File&&t.jsxs("p",{className:"trainees-image-file-name",children:[t.jsx(ax,{size:14}),x.card_image.name," (",Math.round(x.card_image.size/1024)," KB)"]})]}):t.jsxs("label",{className:"trainees-image-upload-label",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:ie=>q(ie,"card_image"),className:"trainees-image-upload-input",disabled:j||$!==null}),t.jsx("div",{className:"trainees-image-upload-area",children:t.jsxs("div",{className:"trainees-image-upload-inner",children:[t.jsx("div",{className:"trainees-image-upload-icon-wrapper",children:t.jsx(Ds,{className:"text-white",size:28})}),t.jsx("p",{className:"trainees-image-upload-text-title",children:"Upload Card Image"}),t.jsx("p",{className:"trainees-image-upload-text-hint",children:"Click to browse or drag and drop"}),t.jsx("p",{className:"trainees-image-upload-text-small",children:"JPEG, JPG, PNG, PDF (Max 10MB - Images will be auto-resized)"})]})})]}),b.card_image&&t.jsxs("p",{className:"trainees-image-error",children:[t.jsx(st,{size:16}),Array.isArray(b.card_image)?b.card_image[0]:b.card_image]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"trainees-classes-label",children:"Enrolled Classes"}),y.length===0?t.jsx("p",{className:"trainees-classes-empty",children:"No training classes available"}):t.jsx("div",{className:"trainees-classes-container",children:y.map(ie=>{var Y,Z;return t.jsxs("label",{className:"trainees-class-item",children:[t.jsx("input",{type:"checkbox",checked:((Y=x.enrolled_classes)==null?void 0:Y.includes(ie.id))||!1,onChange:()=>V(ie.id),className:"trainees-class-checkbox",disabled:j}),t.jsxs("div",{className:"trainees-class-info",children:[t.jsx("span",{className:"trainees-class-name",children:((Z=ie.course)==null?void 0:Z.name)||ie.name||`Class ${ie.id}`}),ie.start_date&&ie.end_date&&t.jsxs("div",{className:"trainees-class-date",children:[t.jsx(tt,{size:12}),new Date(ie.start_date).toLocaleDateString()," - ",new Date(ie.end_date).toLocaleDateString()]})]})]},ie.id)})}),b.enrolled_classes&&t.jsx("p",{className:"trainees-classes-error",children:Array.isArray(b.enrolled_classes)?b.enrolled_classes[0]:b.enrolled_classes})]}),b.general&&t.jsx("div",{className:"trainees-error-box",children:t.jsx("p",{className:"trainees-error-text-bold",children:b.general})}),Object.keys(b).filter(ie=>ie!=="general"&&ie!=="id_image"&&ie!=="card_image"&&ie!=="enrolled_classes").map(ie=>b[ie]&&t.jsxs("p",{className:"trainees-error-text",children:[ie,": ",Array.isArray(b[ie])?b[ie][0]:b[ie]]},ie)),t.jsxs("div",{className:"trainees-form-actions",children:[t.jsx("button",{type:"button",onClick:H,className:"trainees-button-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"trainees-button-submit",children:j?"Saving...":u?"Update Trainee":"Add Trainee"})]})]})]}),t.jsx(Ie,{isOpen:p,onClose:()=>{m(!1),g(null)},title:"Trainee Details",size:"lg",children:u&&t.jsxs("div",{className:"trainees-detail-container",children:[t.jsxs("div",{className:"trainees-detail-grid",children:[t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"First Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.first_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Last Name"}),t.jsx("p",{className:"trainees-detail-value",children:u.last_name||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Wt,{size:16,className:"trainees-detail-label-icon"}),"Email"]}),t.jsx("p",{className:"trainees-detail-value",children:u.email||"N/A"})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsxs("p",{className:"trainees-detail-label",children:[t.jsx(Gr,{size:16,className:"trainees-detail-label-icon"}),"Phone"]}),t.jsx("p",{className:"trainees-detail-value",children:u.phone||"N/A"})]}),u.id_number&&t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"ID Number"}),t.jsx("p",{className:"trainees-detail-value",children:u.id_number})]}),t.jsxs("div",{className:"trainees-detail-item",children:[t.jsx("p",{className:"trainees-detail-label",children:"Status"}),t.jsx("span",{className:`trainees-detail-status ${u.status==="active"?"trainees-detail-status-active":u.status==="inactive"?"trainees-detail-status-inactive":"trainees-detail-status-suspended"}`,children:u.status})]})]}),t.jsxs("div",{className:"trainees-detail-images-grid",children:[u.id_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"ID Image"}),t.jsx("a",{href:u.id_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.id_image_url,alt:"ID",className:"trainees-detail-image"})})]}),u.card_image_url&&t.jsxs("div",{className:"trainees-detail-image-box",children:[t.jsx("p",{className:"trainees-detail-image-label",children:"Card Image"}),t.jsx("a",{href:u.card_image_url,target:"_blank",rel:"noopener noreferrer",className:"trainees-detail-image-link",children:t.jsx("img",{src:u.card_image_url,alt:"Card",className:"trainees-detail-image"})})]})]}),u.training_classes&&u.training_classes.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"trainees-classes-title",children:"Enrolled Classes"}),t.jsx("div",{className:"trainees-classes-list",children:u.training_classes.map((ie,Y)=>{var Z,xe;return t.jsx("div",{className:"trainees-class-detail-item",children:t.jsxs("div",{className:"trainees-class-detail-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"trainees-class-detail-name",children:((Z=ie.course)==null?void 0:Z.name)||ie.name||`Class ${ie.id}`}),ie.start_date&&ie.end_date&&t.jsxs("p",{className:"trainees-class-detail-date",children:[t.jsx(tt,{size:12}),new Date(ie.start_date).toLocaleDateString()," - ",new Date(ie.end_date).toLocaleDateString()]}),ie.instructor&&t.jsxs("p",{className:"trainees-class-detail-instructor",children:["Instructor: ",ie.instructor.first_name," ",ie.instructor.last_name]})]}),((xe=ie.pivot)==null?void 0:xe.status)&&t.jsx("span",{className:`trainees-class-detail-status ${ie.pivot.status==="enrolled"?"trainees-class-detail-status-enrolled":ie.pivot.status==="completed"?"trainees-class-detail-status-completed":ie.pivot.status==="dropped"?"trainees-class-detail-status-dropped":"trainees-class-detail-status-other"}`,children:ie.pivot.status})]})},Y)})})]})]})}),t.jsx(fn,{isOpen:h,onClose:()=>{d(!1),g(null)},onConfirm:G,title:"Delete Trainee",message:`Are you sure you want to delete "${u==null?void 0:u.first_name} ${u==null?void 0:u.last_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},NT=()=>{var Y,Z,xe,ye,Q,se,ce,Ae,ae,_e,Ee,ne,oe,re;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState(!1),[p,m]=f.useState(!0),[u,g]=f.useState(null),[y,S]=f.useState([]),[x,C]=f.useState(!1),[w,_]=f.useState(!1),[z,P]=f.useState(!1),[b,E]=f.useState(!1),[j,F]=f.useState(null),[$,N]=f.useState(null),[A,R]=f.useState({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),[T,v]=f.useState({}),[k,O]=f.useState(!1),[D,L]=f.useState("all");f.useEffect(()=>{W()},[]),f.useEffect(()=>{x&&(B(),S(i),g(null))},[x,i]),f.useEffect(()=>{A.course_id&&x&&l.length>0?H(A.course_id):A.course_id||(g(null),S(i))},[A.course_id,x,l,i]),f.useEffect(()=>(s("Classes"),r("Manage your training classes"),e(t.jsxs("button",{onClick:()=>K(),className:"header-create-btn",children:[t.jsx(Us,{size:20,className:"header-create-btn-icon"}),"Create Class"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const W=async()=>{m(!0);try{const[I,J]=await Promise.all([Ue.listClasses({per_page:1e3}),Ue.listInstructors()]);let ue=[];I!=null&&I.data?ue=Array.isArray(I.data)?I.data:[]:I!=null&&I.classes?ue=Array.isArray(I.classes)?I.classes:[]:Array.isArray(I)&&(ue=I),a(ue),o((J==null?void 0:J.instructors)||(J==null?void 0:J.data)||[])}catch(I){console.error("Failed to load data:",I),a([]),o([])}finally{m(!1)}},H=async I=>{try{const J=l.find(ue=>ue.id===parseInt(I));if(J)if(g(J),J.assessor_required){const ue=i.filter(me=>me.is_assessor===!0);if(S(ue),A.instructor_id){const me=i.find(be=>be.id===parseInt(A.instructor_id));me&&!me.is_assessor&&R(be=>({...be,instructor_id:""}))}}else S(i);else try{const ue=localStorage.getItem("auth_token")||localStorage.getItem("token"),be=await bt.get(`https://aeroenix.com/v1/api/acc/courses/${I}`,{headers:{Authorization:`Bearer ${ue}`,Accept:"application/json"}}),pe=be.data.course||be.data;if(g(pe),pe.assessor_required){const we=i.filter(ke=>ke.is_assessor===!0);if(S(we),A.instructor_id){const ke=i.find(je=>je.id===parseInt(A.instructor_id));ke&&!ke.is_assessor&&R(je=>({...je,instructor_id:""}))}}else S(i)}catch(ue){console.error("Failed to load course details:",ue),g(null),S(i)}}catch(J){console.error("Error loading course details:",J),g(null),S(i)}},B=async()=>{var I;try{const J=await Ue.getAuthorizationStatus();console.log("Authorization data:",J);const ue=J.authorizations||J.data||[];console.log("All authorizations:",ue);const me=ue.filter(ke=>{var ee;const je=(ee=ke.status)==null?void 0:ee.toLowerCase();return je==="approved"||je==="active"||je==="accepted"||ke.status&&ke.status!=="pending"&&ke.status!=="rejected"&&ke.status!=="cancelled"});if(console.log("Approved authorizations:",me),me.length===0){console.log("No approved authorizations found. All authorizations:",ue),d(!1),c([]);return}d(!0);const be=me.map(async ke=>{var je,ee,de;try{const Ce=ke.acc_id||((je=ke.acc)==null?void 0:je.id)||ke.id,Te=((ee=ke.acc)==null?void 0:ee.name)||ke.acc_name||ke.name||"Unknown ACC";if(console.log("Processing authorization for ACC:",{accId:Ce,accName:Te,auth:ke}),!Ce)return console.warn("No ACC ID found in authorization:",ke),[];const ze=localStorage.getItem("auth_token")||localStorage.getItem("token"),$e="https://aeroenix.com/v1/api",Ke=[`${$e}/training-center/accs/${Ce}/courses`,`${$e}/acc/${Ce}/courses`,`${$e}/training-center/courses?acc_id=${Ce}`];for(const dt of Ke)try{console.log(`Trying endpoint: ${dt}`);const rt=(await bt.get(dt,{headers:{Authorization:`Bearer ${ze}`,Accept:"application/json"}})).data,ct=rt.courses||rt.data||rt||[];if(ct.length>0)return console.log(`Successfully loaded ${ct.length} courses from ACC ${Ce} using ${dt}`),ct.map(nt=>({...nt,acc_id:Ce,acc_name:Te}))}catch(yt){console.log(`Endpoint ${dt} failed:`,(de=yt.response)==null?void 0:de.status,yt.message)}return console.warn(`All endpoints failed for ACC ${Ce}`),[]}catch(Ce){console.error("Failed to load courses from authorization:",Ce,ke)}return[]}),we=(await Promise.all(be)).flat();c(we),console.log(`Loaded ${we.length} courses from ${me.length} authorized ACC(s)`),we.length===0&&me.length>0&&console.warn("No courses found despite having approved authorizations. Check endpoint availability.")}catch(J){console.error("Failed to load courses:",J),console.error("Error details:",((I=J.response)==null?void 0:I.data)||J.message),c([])}},K=(I=null)=>{I?(F(I),R({course_id:I.course_id||"",class_id:I.class_id||"",instructor_id:I.instructor_id||"",start_date:I.start_date?I.start_date.split("T")[0]:"",end_date:I.end_date?I.end_date.split("T")[0]:"",exam_date:I.exam_date?I.exam_date.split("T")[0]:"",exam_score:I.exam_score||"",location:I.location||"physical"})):(F(null),R({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"})),g(null),S(i),v({}),C(!0)},q=()=>{C(!1),F(null),R({course_id:"",class_id:"",instructor_id:"",start_date:"",end_date:"",exam_date:"",exam_score:"",location:"physical"}),v({})},V=I=>{R({...A,[I.target.name]:I.target.value}),v({})},te=async I=>{var J,ue,me,be,pe,we,ke;I.preventDefault(),O(!0),v({});try{if(!A.course_id){v({course_id:"Course is required"}),O(!1);return}if(!A.class_id){v({class_id:"Class ID is required"}),O(!1);return}if(!A.instructor_id){v({instructor_id:"Instructor is required"}),O(!1);return}if(!A.start_date){v({start_date:"Start date is required"}),O(!1);return}if(!A.end_date){v({end_date:"End date is required"}),O(!1);return}const je={course_id:parseInt(A.course_id),class_id:parseInt(A.class_id),instructor_id:parseInt(A.instructor_id),start_date:A.start_date,end_date:A.end_date,exam_date:A.exam_date||null,exam_score:A.exam_score?parseFloat(A.exam_score):null,location:A.location};console.log("Submitting class data:",je),j?await Ue.updateClass(j.id,je):await Ue.createClass(je),await W(),q()}catch(je){console.error("Error creating/updating class:",je),console.error("Error response:",(J=je.response)==null?void 0:J.data),(me=(ue=je.response)==null?void 0:ue.data)!=null&&me.errors?v(je.response.data.errors):(pe=(be=je.response)==null?void 0:be.data)!=null&&pe.message?v({general:je.response.data.message}):(ke=(we=je.response)==null?void 0:we.data)!=null&&ke.error?v({general:je.response.data.error}):je.errors?v(je.errors):v({general:je.message||"Failed to save class. Please check all required fields."})}finally{O(!1)}},U=I=>{F(I),_(!0)},M=async()=>{try{await Ue.deleteClass(j.id),await W()}catch(I){alert("Failed to delete class: "+(I.message||"Unknown error"))}_(!1),F(null)},G=async I=>{try{const J=await Ue.getClassDetails(I.id),ue=J.class||J.data||J;ue&&!ue.trainees&&J.trainees&&(ue.trainees=J.trainees),ue&&!ue.trainees&&I.trainees&&(ue.trainees=I.trainees),F(ue),P(!0)}catch(J){console.error("Failed to load class details:",J),F(I),P(!0)}},X=async I=>{if(window.confirm("Mark this class as complete?"))try{await Ue.markClassComplete(I.id),await W()}catch(J){alert("Failed to mark class as complete: "+(J.message||"Unknown error"))}},fe=f.useMemo(()=>[{header:"Course",accessor:"course",sortable:!0,render:(I,J)=>{var me;const ue=typeof J.course=="string"?J.course:((me=J.course)==null?void 0:me.name)||"N/A";return t.jsxs("div",{className:"course-container",children:[t.jsx("div",{className:"course-icon-container",children:t.jsx(ps,{className:"course-icon"})}),t.jsxs("div",{children:[t.jsx("div",{className:"course-name",children:ue}),J.class_id&&t.jsxs("div",{className:"course-id",children:["ID: ",J.class_id]})]})]})}},{header:"Instructor",accessor:"instructor",sortable:!0,render:(I,J)=>{var me,be;const ue=typeof J.instructor=="string"?J.instructor:(me=J.instructor)!=null&&me.first_name&&((be=J.instructor)!=null&&be.last_name)?`${J.instructor.first_name} ${J.instructor.last_name}`:"N/A";return t.jsxs("div",{className:"instructor-container",children:[t.jsx(_t,{className:"instructor-icon"}),ue]})}},{header:"Start Date",accessor:"start_date",sortable:!0,render:(I,J)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),J.start_date?new Date(J.start_date).toLocaleDateString():"N/A"]})},{header:"End Date",accessor:"end_date",sortable:!0,render:(I,J)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),J.end_date?new Date(J.end_date).toLocaleDateString():"N/A"]})},{header:"Exam Date",accessor:"exam_date",sortable:!0,render:I=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon",style:{color:"#9333ea"}}),I?new Date(I).toLocaleDateString():"Not set"]})},{header:"Exam Score",accessor:"exam_score",sortable:!0,render:I=>t.jsx("div",{className:"text-sm",children:I!=null?t.jsxs("span",{className:"font-semibold text-indigo-600",children:[parseFloat(I).toFixed(2),"%"]}):t.jsx("span",{className:"text-gray-400",children:"N/A"})})},{header:"Status",accessor:"status",sortable:!0,render:(I,J)=>{const be=({scheduled:{bg:"from-blue-100 to-blue-200",text:"text-blue-800",border:"border-blue-300",icon:Ve},completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:st}}[J.status]||{icon:Ve}).icon,pe=J.status==="scheduled"?"scheduled":J.status==="completed"?"completed":J.status==="cancelled"?"cancelled":"default";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${pe}`,children:[t.jsx(be,{size:14,className:"status-icon"}),J.status?J.status.charAt(0).toUpperCase()+J.status.slice(1):"N/A"]})})}},{header:"Enrollment",accessor:"enrollment",sortable:!1,render:(I,J)=>{var be;const ue=J.trainees&&Array.isArray(J.trainees)&&J.trainees.length>0,me=pe=>{pe.stopPropagation(),pe.preventDefault(),pe.nativeEvent.stopImmediatePropagation(),ue&&(N(J),E(!0))};return t.jsxs("div",{className:`enrollment-container ${ue?"enrollment-clickable":""}`,onClick:me,onMouseDown:pe=>{pe.stopPropagation(),pe.nativeEvent.stopImmediatePropagation()},onMouseUp:pe=>{pe.stopPropagation(),pe.nativeEvent.stopImmediatePropagation()},role:ue?"button":void 0,tabIndex:ue?0:void 0,onKeyDown:pe=>{ue&&(pe.key==="Enter"||pe.key===" ")&&(pe.preventDefault(),pe.stopPropagation(),me(pe))},children:[J.enrolled_count||0," / ",((be=J.course)==null?void 0:be.max_capacity)||"N/A"]})}}],[]),Ne=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"scheduled",label:"Scheduled",filterFn:I=>I.status==="scheduled"},{value:"completed",label:"Completed",filterFn:I=>I.status==="completed"},{value:"cancelled",label:"Cancelled",filterFn:I=>I.status==="cancelled"}],[]),ge=f.useMemo(()=>n.map(I=>{var be,pe,we;const J=typeof I.course=="string"?I.course:((be=I.course)==null?void 0:be.name)||"",ue=typeof I.instructor=="string"?I.instructor:(pe=I.instructor)!=null&&pe.first_name&&((we=I.instructor)!=null&&we.last_name)?`${I.instructor.first_name} ${I.instructor.last_name}`:"",me=[J,ue,I.class_id||"",I.status||"",I.location||""].filter(Boolean).join(" ").toLowerCase();return{...I,_searchText:me}}),[n]),Pe=n.length,Fe=n.filter(I=>I.status==="scheduled").length,ie=n.filter(I=>I.status==="completed").length;return n.filter(I=>I.status==="cancelled").length,p?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner"})}):t.jsxs("div",{className:"main-container",children:[t.jsxs("div",{className:"stats-cards-grid",children:[t.jsx(qe,{name:"Total Classes",value:Pe,icon:ps,colorType:"indigo",isActive:D==="all",onClick:()=>L("all")}),t.jsx(qe,{name:"Scheduled",value:Fe,icon:tt,colorType:"blue",isActive:D==="scheduled",onClick:()=>L("scheduled")}),t.jsx(qe,{name:"Completed",value:ie,icon:Me,colorType:"green",isActive:D==="completed",onClick:()=>L("completed")})]}),t.jsx("div",{className:"datatable-container",children:t.jsx(lt,{columns:fe,data:ge,onEdit:K,onDelete:U,onView:G,onRowClick:G,isLoading:p,emptyMessage:n.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(ps,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No classes found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Create your first class to get started!"})]}):"No classes found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by course or instructor...",filterOptions:Ne,sortable:!0,defaultFilter:D})}),t.jsx(Ie,{isOpen:x,onClose:q,title:j?"Edit Class":"Create New Class",size:"lg",children:t.jsxs("form",{onSubmit:te,className:"modal-form",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Course ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"course_id",value:A.course_id,onChange:V,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select a course..."}),l.map(I=>{var be;const J=I.name||I.code||`Course ${I.id}`,ue=I.acc_name||((be=I.acc)==null?void 0:be.name)||"",me=ue?`${J} - ${ue}`:J;return t.jsx("option",{value:I.id,children:me},I.id)})]}),T.course_id&&t.jsx("p",{className:"form-error",children:T.course_id}),l.length===0&&!p&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:"No courses available"}),t.jsx("p",{className:"form-warning-text",children:h?"No courses found from your authorized ACCs. Please check if the ACCs have published courses.":"Please ensure you have authorization from at least one ACC. Courses from authorized ACCs will appear here."})]})]}),t.jsx(he,{label:"Class ID",name:"class_id",type:"number",value:A.class_id,onChange:V,required:!0,placeholder:"Enter class ID",error:T.class_id}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Instructor ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"instructor_id",value:A.instructor_id,onChange:V,required:!0,className:"form-select",children:[t.jsx("option",{value:"",children:"Select an instructor..."}),y.length>0?y.map(I=>t.jsxs("option",{value:I.id,children:[I.first_name," ",I.last_name,I.is_assessor&&" (Assessor)"]},I.id)):t.jsx("option",{value:"",disabled:!0,children:"No instructors available"})]}),T.instructor_id&&t.jsx("p",{className:"form-error",children:T.instructor_id}),(u==null?void 0:u.assessor_required)&&y.length===0&&t.jsxs("div",{className:"form-warning",children:[t.jsx("p",{className:"form-warning-title",children:" This course requires an assessor, but no assessors are available."}),t.jsx("p",{className:"form-warning-text",children:"Please mark at least one instructor as an assessor before creating this class."})]}),(u==null?void 0:u.assessor_required)&&y.length>0&&t.jsx("p",{className:"form-info",children:" This course requires an assessor. Only assessors are shown."})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(he,{label:"Start Date",name:"start_date",type:"date",value:A.start_date,onChange:V,required:!0,error:T.start_date}),t.jsx(he,{label:"End Date",name:"end_date",type:"date",value:A.end_date,onChange:V,required:!0,error:T.end_date})]}),t.jsxs("div",{className:"form-grid",children:[t.jsx(he,{label:"Exam Date (Optional)",name:"exam_date",type:"date",value:A.exam_date,onChange:V,error:T.exam_date,helpText:"Date when the exam is scheduled (must be after or equal to start date)"}),t.jsx(he,{label:"Exam Score (Optional)",name:"exam_score",type:"number",value:A.exam_score,onChange:V,error:T.exam_score,helpText:"Exam score (0-100)",min:"0",max:"100",step:"0.01"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"form-label",children:["Location ",t.jsx("span",{className:"form-label-required",children:"*"})]}),t.jsxs("select",{name:"location",value:A.location,onChange:V,required:!0,className:"form-select",children:[t.jsx("option",{value:"physical",children:"Physical"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"hybrid",children:"Hybrid"})]}),T.location&&t.jsx("p",{className:"form-error",children:T.location})]}),T.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:T.general})}),Object.keys(T).filter(I=>I!=="general").length>0&&t.jsxs("div",{className:"form-error-general",children:[t.jsx("p",{className:"form-error-general-text",children:"Please fix the following errors:"}),t.jsx("ul",{className:"form-error-list",children:Object.entries(T).filter(([I])=>I!=="general").map(([I,J])=>t.jsx("li",{children:Array.isArray(J)?J.join(", "):J},I))})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:q,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"form-btn form-btn-submit",children:k?"Saving...":j?"Update Class":"Create Class"})]})]})}),t.jsx(Ie,{isOpen:z,onClose:()=>{P(!1),F(null)},title:"Class Details",size:"lg",children:j&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Class ID"}),t.jsx("p",{className:"detail-modal-value",children:j.class_id||j.id||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${j.status==="completed"?"completed":j.status==="scheduled"?"scheduled":j.status==="cancelled"?"cancelled":"default"}`,children:j.status?j.status.charAt(0).toUpperCase()+j.status.slice(1):"N/A"})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Course Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:typeof j.course=="string"?j.course:((Y=j.course)==null?void 0:Y.name)||"N/A"})]}),((Z=j.course)==null?void 0:Z.code)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Course Code"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.code})]}),((xe=j.course)==null?void 0:xe.max_capacity)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Max Capacity"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.max_capacity})]}),((ye=j.course)==null?void 0:ye.duration)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Duration"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.duration})]}),((Q=j.course)==null?void 0:Q.description)&&t.jsxs("div",{className:"detail-modal-section-item detail-modal-section-full",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-blue",children:"Description"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-blue",children:j.course.description})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-purple",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-purple",children:"Instructor Information"}),t.jsxs("div",{className:"detail-modal-section-grid",children:[t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Name"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:typeof j.instructor=="string"?j.instructor:(se=j.instructor)!=null&&se.first_name&&((ce=j.instructor)!=null&&ce.last_name)?`${j.instructor.first_name} ${j.instructor.last_name}`:"N/A"})]}),((Ae=j.instructor)==null?void 0:Ae.email)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Email"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:j.instructor.email})]}),((ae=j.instructor)==null?void 0:ae.phone)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Phone"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:j.instructor.phone})]}),((_e=j.instructor)==null?void 0:_e.is_assessor)&&t.jsxs("div",{className:"detail-modal-section-item",children:[t.jsx("p",{className:"detail-modal-section-label detail-modal-section-label-purple",children:"Role"}),t.jsx("p",{className:"detail-modal-section-value detail-modal-section-value-purple",children:"Assessor"})]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Start Date"}),t.jsx("p",{className:"detail-modal-value",children:j.start_date?new Date(j.start_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),j.start_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(j.start_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"End Date"}),t.jsx("p",{className:"detail-modal-value",children:j.end_date?new Date(j.end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}),j.end_date&&t.jsx("p",{className:"detail-modal-time",children:new Date(j.end_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),j.exam_date&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#9333ea"},children:"Exam Date"}),t.jsx("p",{className:"detail-modal-value",style:{color:"#7e22ce"},children:new Date(j.exam_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),j.exam_score!==null&&j.exam_score!==void 0&&t.jsxs("div",{className:"detail-modal-item",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"detail-modal-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"detail-modal-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(j.exam_score).toFixed(2),"%"]})]})]}),t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Location"}),t.jsx("p",{className:"detail-modal-value",children:j.location?j.location.charAt(0).toUpperCase()+j.location.slice(1):"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Enrollment"}),t.jsxs("p",{className:"detail-modal-value",children:[j.enrolled_count||0," / ",((Ee=j.course)==null?void 0:Ee.max_capacity)||"N/A"]}),((ne=j.course)==null?void 0:ne.max_capacity)&&t.jsxs("div",{className:"detail-modal-progress-container",children:[t.jsx("div",{className:"detail-modal-progress-bar",children:t.jsx("div",{className:"detail-modal-progress-fill",style:{width:`${Math.min((j.enrolled_count||0)/j.course.max_capacity*100,100)}%`}})}),t.jsxs("p",{className:"detail-modal-progress-text",children:[Math.round((j.enrolled_count||0)/j.course.max_capacity*100),"% full"]})]})]})]}),t.jsxs("div",{className:"detail-modal-section detail-modal-section-blue",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-blue",children:"Enrolled Trainees"}),j.trainees&&Array.isArray(j.trainees)&&j.trainees.length>0?t.jsx("div",{className:"detail-modal-trainees-list",children:j.trainees.map((I,J)=>t.jsx("div",{className:"detail-modal-trainee-item",children:t.jsxs("div",{className:"detail-modal-trainee-content",children:[t.jsxs("div",{className:"detail-modal-trainee-name",children:[t.jsx(_t,{size:16,className:"detail-modal-trainee-icon"}),t.jsxs("span",{children:[I.first_name," ",I.last_name]})]}),t.jsxs("div",{className:"detail-modal-trainee-id",children:[t.jsx(ei,{size:14,className:"detail-modal-trainee-id-icon"}),t.jsx("span",{children:I.id_number||I.id||"N/A"})]})]})},I.id||J))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(_t,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]}),(j.created_at||j.updated_at||j.notes)&&t.jsxs("div",{className:"detail-modal-section detail-modal-section-yellow",children:[t.jsx("p",{className:"detail-modal-section-title detail-modal-section-title-yellow",children:"Additional Information"}),t.jsxs("div",{className:"detail-modal-additional-list",children:[j.created_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Created At"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(j.created_at).toLocaleString("en-US")})]}),j.updated_at&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Last Updated"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:new Date(j.updated_at).toLocaleString("en-US")})]}),j.notes&&t.jsxs("div",{className:"detail-modal-additional-item",children:[t.jsx("p",{className:"detail-modal-additional-label detail-modal-additional-label-yellow",children:"Notes"}),t.jsx("p",{className:"detail-modal-additional-value detail-modal-additional-value-yellow",children:j.notes})]})]})]}),j.status!=="completed"&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>{X(j),P(!1)},className:"detail-modal-action-btn",children:[t.jsx(Me,{size:20,className:"detail-modal-action-icon"}),"Mark as Complete"]})})]})}),t.jsx(Ie,{isOpen:b,onClose:()=>{E(!1),N(null)},title:"Enrolled Trainees",size:"lg",children:$&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Class Information"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((oe=$.course)==null?void 0:oe.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrollment: ",$.enrolled_count||0," / ",((re=$.course)==null?void 0:re.max_capacity)||"N/A"]})]}),$.trainees&&$.trainees.length>0?t.jsx("div",{className:"space-y-3",children:$.trainees.map((I,J)=>t.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(_t,{size:14,className:"mr-1"}),"Name"]}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[I.first_name," ",I.last_name]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Wt,{size:14,className:"mr-1"}),"Email"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I.email||"N/A"})]}),I.phone&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Gr,{size:14,className:"mr-1"}),"Phone"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I.phone})]}),I.id_number&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(ei,{size:14,className:"mr-1"}),"ID Number"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:I.id_number})]}),I.enrolled_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(tt,{size:14,className:"mr-1"}),"Enrolled At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(I.enrolled_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),I.completed_at&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Me,{size:14,className:"mr-1"}),"Completed At"]}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(I.completed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(Ve,{size:14,className:"mr-1"}),"Status"]}),t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm ${I.status==="completed"?"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-300":I.status==="enrolled"?"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:[I.status==="completed"&&t.jsx(Me,{size:12,className:"mr-1"}),I.status?I.status.charAt(0).toUpperCase()+I.status.slice(1):"N/A"]})]})]})},I.id||J))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(_t,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No trainees enrolled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No trainees have been enrolled in this class yet."})]})]})}),t.jsx(fn,{isOpen:w,onClose:()=>{_(!1),F(null)},onConfirm:M,title:"Delete Class",message:"Are you sure you want to delete this class? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})};function CT(e,s){return s.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}function Jj(e,s){return new Promise(function(r,n){let a;return wT(e).then(function(i){try{return a=i,r(new Blob([s.slice(0,2),a,s.slice(2)],{type:"image/jpeg"}))}catch(o){return n(o)}},n)})}const wT=e=>new Promise((s,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:a}})=>{const i=new DataView(a);let o=0;if(i.getUint16(o)!==65496)return r("not a valid JPEG");for(o+=2;;){const l=i.getUint16(o);if(l===65498)break;const c=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){const h=o+10;let d;switch(i.getUint16(h)){case 18761:d=!0;break;case 19789:d=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(h+2,d)!==42)return r("TIFF header contains invalid version");const p=i.getUint32(h+4,d),m=h+p+2+12*i.getUint16(h+p,d);for(let u=h+p+2;u<m;u+=12)if(i.getUint16(u,d)==274){if(i.getUint16(u+2,d)!==3)return r("Orientation data type is invalid");if(i.getUint32(u+4,d)!==1)return r("Orientation data count is invalid");i.setUint16(u+8,1,d);break}return s(a.slice(o,o+2+c))}o+=2+c}return s(new Blob)}),n.readAsArrayBuffer(e)});var nd={},_T={get exports(){return nd},set exports(e){nd=e}};(function(e){var s,r,n={};_T.exports=n,n.parse=function(a,i){for(var o=n.bin.readUshort,l=n.bin.readUint,c=0,h={},d=new Uint8Array(a),p=d.length-4;l(d,p)!=101010256;)p--;c=p,c+=4;var m=o(d,c+=4);o(d,c+=2);var u=l(d,c+=2),g=l(d,c+=4);c+=4,c=g;for(var y=0;y<m;y++){l(d,c),c+=4,c+=4,c+=4,l(d,c+=4),u=l(d,c+=4);var S=l(d,c+=4),x=o(d,c+=4),C=o(d,c+2),w=o(d,c+4);c+=6;var _=l(d,c+=8);c+=4,c+=x+C+w,n._readLocal(d,_,h,u,S,i)}return h},n._readLocal=function(a,i,o,l,c,h){var d=n.bin.readUshort,p=n.bin.readUint;p(a,i),d(a,i+=4),d(a,i+=2);var m=d(a,i+=2);p(a,i+=2),p(a,i+=4),i+=4;var u=d(a,i+=8),g=d(a,i+=2);i+=2;var y=n.bin.readUTF8(a,i,u);if(i+=u,i+=g,h)o[y]={size:c,csize:l};else{var S=new Uint8Array(a.buffer,i);if(m==0)o[y]=new Uint8Array(S.buffer.slice(i,i+l));else{if(m!=8)throw"unknown compression method: "+m;var x=new Uint8Array(c);n.inflateRaw(S,x),o[y]=x}}},n.inflateRaw=function(a,i){return n.F.inflate(a,i)},n.inflate=function(a,i){return a[0],a[1],n.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),i)},n.deflate=function(a,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*a.length));l[o]=120,l[o+1]=156,o+=2,o=n.F.deflateRaw(a,l,o,i.level);var c=n.adler(a,0,a.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},n.deflateRaw=function(a,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*a.length)),l=n.F.deflateRaw(a,o,l,i.level);return new Uint8Array(o.buffer,0,l)},n.encode=function(a,i){i==null&&(i=!1);var o=0,l=n.bin.writeUint,c=n.bin.writeUshort,h={};for(var d in a){var p=!n._noNeed(d)&&!i,m=a[d],u=n.crc.crc(m,0,m.length);h[d]={cpr:p,usize:m.length,crc:u,file:p?n.deflateRaw(m):m}}for(var d in h)o+=h[d].file.length+30+46+2*n.bin.sizeUTF8(d);o+=22;var g=new Uint8Array(o),y=0,S=[];for(var d in h){var x=h[d];S.push(y),y=n._writeHeader(g,y,d,x,0)}var C=0,w=y;for(var d in h)x=h[d],S.push(y),y=n._writeHeader(g,y,d,x,1,S[C++]);var _=y-w;return l(g,y,101010256),y+=4,c(g,y+=4,C),c(g,y+=2,C),l(g,y+=2,_),l(g,y+=4,w),y+=4,y+=2,g.buffer},n._noNeed=function(a){var i=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(a,i,o,l,c,h){var d=n.bin.writeUint,p=n.bin.writeUshort,m=l.file;return d(a,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),p(a,i,20),p(a,i+=2,0),p(a,i+=2,l.cpr?8:0),d(a,i+=2,0),d(a,i+=4,l.crc),d(a,i+=4,m.length),d(a,i+=4,l.usize),p(a,i+=4,n.bin.sizeUTF8(o)),p(a,i+=2,0),i+=2,c==1&&(i+=2,i+=2,d(a,i+=6,h),i+=4),i+=n.bin.writeUTF8(a,i,o),c==0&&(a.set(m,i),i+=m.length),i},n.crc={table:function(){for(var a=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;a[i]=o}return a}(),update:function(a,i,o,l){for(var c=0;c<l;c++)a=n.crc.table[255&(a^i[o+c])]^a>>>8;return a},crc:function(a,i,o){return 4294967295^n.crc.update(4294967295,a,i,o)}},n.adler=function(a,i,o){for(var l=1,c=0,h=i,d=i+o;h<d;){for(var p=Math.min(h+5552,d);h<p;)c+=l+=a[h++];l%=65521,c%=65521}return c<<16|l},n.bin={readUshort:function(a,i){return a[i]|a[i+1]<<8},writeUshort:function(a,i,o){a[i]=255&o,a[i+1]=o>>8&255},readUint:function(a,i){return 16777216*a[i+3]+(a[i+2]<<16|a[i+1]<<8|a[i])},writeUint:function(a,i,o){a[i]=255&o,a[i+1]=o>>8&255,a[i+2]=o>>16&255,a[i+3]=o>>24&255},readASCII:function(a,i,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(a[i+c]);return l},writeASCII:function(a,i,o){for(var l=0;l<o.length;l++)a[i+l]=o.charCodeAt(l)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,i,o){for(var l,c="",h=0;h<o;h++)c+="%"+n.bin.pad(a[i+h].toString(16));try{l=decodeURIComponent(c)}catch{return n.bin.readASCII(a,i,o)}return l},writeUTF8:function(a,i,o){for(var l=o.length,c=0,h=0;h<l;h++){var d=o.charCodeAt(h);if(!(4294967168&d))a[i+c]=d,c++;else if(!(4294965248&d))a[i+c]=192|d>>6,a[i+c+1]=128|d>>0&63,c+=2;else if(!(4294901760&d))a[i+c]=224|d>>12,a[i+c+1]=128|d>>6&63,a[i+c+2]=128|d>>0&63,c+=3;else{if(4292870144&d)throw"e";a[i+c]=240|d>>18,a[i+c+1]=128|d>>12&63,a[i+c+2]=128|d>>6&63,a[i+c+3]=128|d>>0&63,c+=4}}return c},sizeUTF8:function(a){for(var i=a.length,o=0,l=0;l<i;l++){var c=a.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},n.F={},n.F.deflateRaw=function(a,i,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],h=n.F.U,d=n.F._goodIndex;n.F._hash;var p=n.F._putsE,m=0,u=o<<3,g=0,y=a.length;if(l==0){for(;m<y;)p(i,u,m+($=Math.min(65535,y-m))==y?1:0),u=n.F._copyExact(a,m,$,i,u+8),m+=$;return u>>>3}var S=h.lits,x=h.strt,C=h.prev,w=0,_=0,z=0,P=0,b=0,E=0;for(y>2&&(x[E=n.F._hash(a,0)]=0),m=0;m<y;m++){if(b=E,m+1<y-2){E=n.F._hash(a,m+1);var j=m+1&32767;C[j]=x[E],x[E]=j}if(g<=m){(w>14e3||_>26697)&&y-m>100&&(g<m&&(S[w]=m-g,w+=2,g=m),u=n.F._writeBlock(m==y-1||g==y?1:0,S,w,P,a,z,m-z,i,u),w=_=P=0,z=m);var F=0;m<y-2&&(F=n.F._bestMatch(a,m,C,b,Math.min(c[2],y-m),c[3]));var $=F>>>16,N=65535&F;if(F!=0){N=65535&F;var A=d($=F>>>16,h.of0);h.lhst[257+A]++;var R=d(N,h.df0);h.dhst[R]++,P+=h.exb[A]+h.dxb[R],S[w]=$<<23|m-g,S[w+1]=N<<16|A<<8|R,w+=2,g=m+$}else h.lhst[a[m]]++;_++}}for(z==m&&a.length!=0||(g<m&&(S[w]=m-g,w+=2,g=m),u=n.F._writeBlock(1,S,w,P,a,z,m-z,i,u),w=0,_=0,w=_=P=0,z=m);7&u;)u++;return u>>>3},n.F._bestMatch=function(a,i,o,l,c,h){var d=32767&i,p=o[d],m=d-p+32768&32767;if(p==d||l!=n.F._hash(a,i-m))return 0;for(var u=0,g=0,y=Math.min(32767,i);m<=y&&--h!=0&&p!=d;){if(u==0||a[i+u]==a[i+u-m]){var S=n.F._howLong(a,i,m);if(S>u){if(g=m,(u=S)>=c)break;m+2<S&&(S=m+2);for(var x=0,C=0;C<S-2;C++){var w=i-m+C+32768&32767,_=w-o[w]+32768&32767;_>x&&(x=_,p=w)}}}m+=(d=p)-(p=o[d])+32768&32767}return u<<16|g},n.F._howLong=function(a,i,o){if(a[i]!=a[i-o]||a[i+1]!=a[i+1-o]||a[i+2]!=a[i+2-o])return 0;var l=i,c=Math.min(a.length,i+258);for(i+=3;i<c&&a[i]==a[i-o];)i++;return i-l},n.F._hash=function(a,i){return(a[i]<<8|a[i+1])+(a[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(a,i,o,l,c,h,d,p,m){var u,g,y,S,x,C,w,_,z,P=n.F.U,b=n.F._putsF,E=n.F._putsE;P.lhst[256]++,g=(u=n.F.getTrees())[0],y=u[1],S=u[2],x=u[3],C=u[4],w=u[5],_=u[6],z=u[7];var j=32+(m+3&7?8-(m+3&7):0)+(d<<3),F=l+n.F.contSize(P.fltree,P.lhst)+n.F.contSize(P.fdtree,P.dhst),$=l+n.F.contSize(P.ltree,P.lhst)+n.F.contSize(P.dtree,P.dhst);$+=14+3*w+n.F.contSize(P.itree,P.ihst)+(2*P.ihst[16]+3*P.ihst[17]+7*P.ihst[18]);for(var N=0;N<286;N++)P.lhst[N]=0;for(N=0;N<30;N++)P.dhst[N]=0;for(N=0;N<19;N++)P.ihst[N]=0;var A=j<F&&j<$?0:F<$?1:2;if(b(p,m,a),b(p,m+1,A),m+=3,A==0){for(;7&m;)m++;m=n.F._copyExact(c,h,d,p,m)}else{var R,T;if(A==1&&(R=P.fltree,T=P.fdtree),A==2){n.F.makeCodes(P.ltree,g),n.F.revCodes(P.ltree,g),n.F.makeCodes(P.dtree,y),n.F.revCodes(P.dtree,y),n.F.makeCodes(P.itree,S),n.F.revCodes(P.itree,S),R=P.ltree,T=P.dtree,E(p,m,x-257),E(p,m+=5,C-1),E(p,m+=5,w-4),m+=4;for(var v=0;v<w;v++)E(p,m+3*v,P.itree[1+(P.ordr[v]<<1)]);m+=3*w,m=n.F._codeTiny(_,P.itree,p,m),m=n.F._codeTiny(z,P.itree,p,m)}for(var k=h,O=0;O<o;O+=2){for(var D=i[O],L=D>>>23,W=k+(8388607&D);k<W;)m=n.F._writeLit(c[k++],R,p,m);if(L!=0){var H=i[O+1],B=H>>16,K=H>>8&255,q=255&H;E(p,m=n.F._writeLit(257+K,R,p,m),L-P.of0[K]),m+=P.exb[K],b(p,m=n.F._writeLit(q,T,p,m),B-P.df0[q]),m+=P.dxb[q],k+=L}}m=n.F._writeLit(256,R,p,m)}return m},n.F._copyExact=function(a,i,o,l,c){var h=c>>>3;return l[h]=o,l[h+1]=o>>>8,l[h+2]=255-l[h],l[h+3]=255-l[h+1],h+=4,l.set(new Uint8Array(a.buffer,i,o),h),c+(o+4<<3)},n.F.getTrees=function(){for(var a=n.F.U,i=n.F._hufTree(a.lhst,a.ltree,15),o=n.F._hufTree(a.dhst,a.dtree,15),l=[],c=n.F._lenCodes(a.ltree,l),h=[],d=n.F._lenCodes(a.dtree,h),p=0;p<l.length;p+=2)a.ihst[l[p]]++;for(p=0;p<h.length;p+=2)a.ihst[h[p]]++;for(var m=n.F._hufTree(a.ihst,a.itree,7),u=19;u>4&&a.itree[1+(a.ordr[u-1]<<1)]==0;)u--;return[i,o,m,c,d,u,l,h]},n.F.getSecond=function(a){for(var i=[],o=0;o<a.length;o+=2)i.push(a[o+1]);return i},n.F.nonZero=function(a){for(var i="",o=0;o<a.length;o+=2)a[o+1]!=0&&(i+=(o>>1)+",");return i},n.F.contSize=function(a,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*a[1+(l<<1)];return o},n.F._codeTiny=function(a,i,o,l){for(var c=0;c<a.length;c+=2){var h=a[c],d=a[c+1];l=n.F._writeLit(h,i,o,l);var p=h==16?2:h==17?3:7;h>15&&(n.F._putsE(o,l,d,p),l+=p)}return l},n.F._lenCodes=function(a,i){for(var o=a.length;o!=2&&a[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=a[l+1],h=l+3<o?a[l+3]:-1,d=l+5<o?a[l+5]:-1,p=l==0?-1:a[l-1];if(c==0&&h==c&&d==c){for(var m=l+5;m+2<o&&a[m+2]==c;)m+=2;(u=Math.min(m+1-l>>>1,138))<11?i.push(17,u-3):i.push(18,u-11),l+=2*u-2}else if(c==p&&h==c&&d==c){for(m=l+5;m+2<o&&a[m+2]==c;)m+=2;var u=Math.min(m+1-l>>>1,6);i.push(16,u-3),l+=2*u-2}else i.push(c,0)}return o>>>1},n.F._hufTree=function(a,i,o){var l=[],c=a.length,h=i.length,d=0;for(d=0;d<h;d+=2)i[d]=0,i[d+1]=0;for(d=0;d<c;d++)a[d]!=0&&l.push({lit:d,f:a[d]});var p=l.length,m=l.slice(0);if(p==0)return 0;if(p==1){var u=l[0].lit;return m=u==0?1:0,i[1+(u<<1)]=1,i[1+(m<<1)]=1,1}l.sort(function(_,z){return _.f-z.f});var g=l[0],y=l[1],S=0,x=1,C=2;for(l[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};x!=p-1;)g=S!=x&&(C==p||l[S].f<l[C].f)?l[S++]:l[C++],y=S!=x&&(C==p||l[S].f<l[C].f)?l[S++]:l[C++],l[x++]={lit:-1,f:g.f+y.f,l:g,r:y};var w=n.F.setDepth(l[x-1],0);for(w>o&&(n.F.restrictDepth(m,o,w),w=o),d=0;d<p;d++)i[1+(m[d].lit<<1)]=m[d].d;return w},n.F.setDepth=function(a,i){return a.lit!=-1?(a.d=i,i):Math.max(n.F.setDepth(a.l,i+1),n.F.setDepth(a.r,i+1))},n.F.restrictDepth=function(a,i,o){var l=0,c=1<<o-i,h=0;for(a.sort(function(p,m){return m.d==p.d?p.f-m.f:m.d-p.d}),l=0;l<a.length&&a[l].d>i;l++){var d=a[l].d;a[l].d=i,h+=c-(1<<o-d)}for(h>>>=o-i;h>0;)(d=a[l].d)<i?(a[l].d++,h-=1<<i-d-1):l++;for(;l>=0;l--)a[l].d==i&&h<0&&(a[l].d--,h++);h!=0&&console.log("debt left")},n.F._goodIndex=function(a,i){var o=0;return i[16|o]<=a&&(o|=16),i[8|o]<=a&&(o|=8),i[4|o]<=a&&(o|=4),i[2|o]<=a&&(o|=2),i[1|o]<=a&&(o|=1),o},n.F._writeLit=function(a,i,o,l){return n.F._putsF(o,l,i[a<<1]),l+i[1+(a<<1)]},n.F.inflate=function(a,i){var o=Uint8Array;if(a[0]==3&&a[1]==0)return i||new o(0);var l=n.F,c=l._bitsF,h=l._bitsE,d=l._decodeTiny,p=l.makeCodes,m=l.codes2map,u=l._get17,g=l.U,y=i==null;y&&(i=new o(a.length>>>2<<3));for(var S,x,C=0,w=0,_=0,z=0,P=0,b=0,E=0,j=0,F=0;C==0;)if(C=c(a,F,1),w=c(a,F+1,2),F+=3,w!=0){if(y&&(i=n.F._check(i,j+(1<<17))),w==1&&(S=g.flmap,x=g.fdmap,b=511,E=31),w==2){_=h(a,F,5)+257,z=h(a,F+5,5)+1,P=h(a,F+10,4)+4,F+=14;for(var $=0;$<38;$+=2)g.itree[$]=0,g.itree[$+1]=0;var N=1;for($=0;$<P;$++){var A=h(a,F+3*$,3);g.itree[1+(g.ordr[$]<<1)]=A,A>N&&(N=A)}F+=3*P,p(g.itree,N),m(g.itree,N,g.imap),S=g.lmap,x=g.dmap,F=d(g.imap,(1<<N)-1,_+z,a,F,g.ttree);var R=l._copyOut(g.ttree,0,_,g.ltree);b=(1<<R)-1;var T=l._copyOut(g.ttree,_,z,g.dtree);E=(1<<T)-1,p(g.ltree,R),m(g.ltree,R,S),p(g.dtree,T),m(g.dtree,T,x)}for(;;){var v=S[u(a,F)&b];F+=15&v;var k=v>>>4;if(!(k>>>8))i[j++]=k;else{if(k==256)break;var O=j+k-254;if(k>264){var D=g.ldef[k-257];O=j+(D>>>3)+h(a,F,7&D),F+=7&D}var L=x[u(a,F)&E];F+=15&L;var W=L>>>4,H=g.ddef[W],B=(H>>>4)+c(a,F,15&H);for(F+=15&H,y&&(i=n.F._check(i,j+(1<<17)));j<O;)i[j]=i[j++-B],i[j]=i[j++-B],i[j]=i[j++-B],i[j]=i[j++-B];j=O}}}else{7&F&&(F+=8-(7&F));var K=4+(F>>>3),q=a[K-4]|a[K-3]<<8;y&&(i=n.F._check(i,j+q)),i.set(new o(a.buffer,a.byteOffset+K,q),j),F=K+q<<3,j+=q}return i.length==j?i:i.slice(0,j)},n.F._check=function(a,i){var o=a.length;if(i<=o)return a;var l=new Uint8Array(Math.max(o<<1,i));return l.set(a,0),l},n.F._decodeTiny=function(a,i,o,l,c,h){for(var d=n.F._bitsE,p=n.F._get17,m=0;m<o;){var u=a[p(l,c)&i];c+=15&u;var g=u>>>4;if(g<=15)h[m]=g,m++;else{var y=0,S=0;g==16?(S=3+d(l,c,2),c+=2,y=h[m-1]):g==17?(S=3+d(l,c,3),c+=3):g==18&&(S=11+d(l,c,7),c+=7);for(var x=m+S;m<x;)h[m]=y,m++}}return c},n.F._copyOut=function(a,i,o,l){for(var c=0,h=0,d=l.length>>>1;h<o;){var p=a[h+i];l[h<<1]=0,l[1+(h<<1)]=p,p>c&&(c=p),h++}for(;h<d;)l[h<<1]=0,l[1+(h<<1)]=0,h++;return c},n.F.makeCodes=function(a,i){for(var o,l,c,h,d=n.F.U,p=a.length,m=d.bl_count,u=0;u<=i;u++)m[u]=0;for(u=1;u<p;u+=2)m[a[u]]++;var g=d.next_code;for(o=0,m[0]=0,l=1;l<=i;l++)o=o+m[l-1]<<1,g[l]=o;for(c=0;c<p;c+=2)(h=a[c+1])!=0&&(a[c]=g[h],g[h]++)},n.F.codes2map=function(a,i,o){for(var l=a.length,c=n.F.U.rev15,h=0;h<l;h+=2)if(a[h+1]!=0)for(var d=h>>1,p=a[h+1],m=d<<4|p,u=i-p,g=a[h]<<u,y=g+(1<<u);g!=y;)o[c[g]>>>15-i]=m,g++},n.F.revCodes=function(a,i){for(var o=n.F.U.rev15,l=15-i,c=0;c<a.length;c+=2){var h=a[c]<<i-a[c+1];a[c]=o[h]>>>l}},n.F._putsE=function(a,i,o){o<<=7&i;var l=i>>>3;a[l]|=o,a[l+1]|=o>>>8},n.F._putsF=function(a,i,o){o<<=7&i;var l=i>>>3;a[l]|=o,a[l+1]|=o>>>8,a[l+2]|=o>>>16},n.F._bitsE=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},n.F._bitsF=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},n.F._get17=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16|a[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(s=Uint16Array,r=Uint32Array,{next_code:new s(16),bl_count:new s(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new s(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new s(512),fltree:[],fdmap:new s(32),fdtree:[],lmap:new s(32768),ltree:[],ttree:[],dmap:new s(32768),dtree:[],imap:new s(512),itree:[],rev15:new s(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new s(65536),prev:new s(32768)}),function(){for(var a=n.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,a.rev15[i]=(o>>>16|o<<16)>>>17}function l(c,h,d){for(;h--!=0;)c.push(0,d)}for(i=0;i<32;i++)a.ldef[i]=a.of0[i]<<3|a.exb[i],a.ddef[i]=a.df0[i]<<4|a.dxb[i];l(a.fltree,144,8),l(a.fltree,112,9),l(a.fltree,24,7),l(a.fltree,8,8),n.F.makeCodes(a.fltree,9),n.F.codes2map(a.fltree,9,a.flmap),n.F.revCodes(a.fltree,9),l(a.fdtree,32,5),n.F.makeCodes(a.fdtree,5),n.F.codes2map(a.fdtree,5,a.fdmap),n.F.revCodes(a.fdtree,5),l(a.itree,19,0),l(a.ltree,286,0),l(a.dtree,30,0),l(a.ttree,320,0)}()})();var ST=CT({__proto__:null,default:nd},[nd]);const vr=function(){var e={nextZero(d,p){for(;d[p]!=0;)p++;return p},readUshort:(d,p)=>d[p]<<8|d[p+1],writeUshort(d,p,m){d[p]=m>>8&255,d[p+1]=255&m},readUint:(d,p)=>16777216*d[p]+(d[p+1]<<16|d[p+2]<<8|d[p+3]),writeUint(d,p,m){d[p]=m>>24&255,d[p+1]=m>>16&255,d[p+2]=m>>8&255,d[p+3]=255&m},readASCII(d,p,m){let u="";for(let g=0;g<m;g++)u+=String.fromCharCode(d[p+g]);return u},writeASCII(d,p,m){for(let u=0;u<m.length;u++)d[p+u]=m.charCodeAt(u)},readBytes(d,p,m){const u=[];for(let g=0;g<m;g++)u.push(d[p+g]);return u},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,p,m){let u,g="";for(let y=0;y<m;y++)g+=`%${e.pad(d[p+y].toString(16))}`;try{u=decodeURIComponent(g)}catch{return e.readASCII(d,p,m)}return u}};function s(d,p,m,u){const g=p*m,y=i(u),S=Math.ceil(p*y/8),x=new Uint8Array(4*g),C=new Uint32Array(x.buffer),{ctype:w}=u,{depth:_}=u,z=e.readUshort;if(w==6){const D=g<<2;if(_==8)for(var P=0;P<D;P+=4)x[P]=d[P],x[P+1]=d[P+1],x[P+2]=d[P+2],x[P+3]=d[P+3];if(_==16)for(P=0;P<D;P++)x[P]=d[P<<1]}else if(w==2){const D=u.tabs.tRNS;if(D==null){if(_==8)for(P=0;P<g;P++){var b=3*P;C[P]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b]}if(_==16)for(P=0;P<g;P++)b=6*P,C[P]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b]}else{var E=D[0];const L=D[1],W=D[2];if(_==8)for(P=0;P<g;P++){var j=P<<2;b=3*P,C[P]=255<<24|d[b+2]<<16|d[b+1]<<8|d[b],d[b]==E&&d[b+1]==L&&d[b+2]==W&&(x[j+3]=0)}if(_==16)for(P=0;P<g;P++)j=P<<2,b=6*P,C[P]=255<<24|d[b+4]<<16|d[b+2]<<8|d[b],z(d,b)==E&&z(d,b+2)==L&&z(d,b+4)==W&&(x[j+3]=0)}}else if(w==3){const D=u.tabs.PLTE,L=u.tabs.tRNS,W=L?L.length:0;if(_==1)for(var F=0;F<m;F++){var $=F*S,N=F*p;for(P=0;P<p;P++){j=N+P<<2;var A=3*(R=d[$+(P>>3)]>>7-((7&P)<<0)&1);x[j]=D[A],x[j+1]=D[A+1],x[j+2]=D[A+2],x[j+3]=R<W?L[R]:255}}if(_==2)for(F=0;F<m;F++)for($=F*S,N=F*p,P=0;P<p;P++)j=N+P<<2,A=3*(R=d[$+(P>>2)]>>6-((3&P)<<1)&3),x[j]=D[A],x[j+1]=D[A+1],x[j+2]=D[A+2],x[j+3]=R<W?L[R]:255;if(_==4)for(F=0;F<m;F++)for($=F*S,N=F*p,P=0;P<p;P++)j=N+P<<2,A=3*(R=d[$+(P>>1)]>>4-((1&P)<<2)&15),x[j]=D[A],x[j+1]=D[A+1],x[j+2]=D[A+2],x[j+3]=R<W?L[R]:255;if(_==8)for(P=0;P<g;P++){var R;j=P<<2,A=3*(R=d[P]),x[j]=D[A],x[j+1]=D[A+1],x[j+2]=D[A+2],x[j+3]=R<W?L[R]:255}}else if(w==4){if(_==8)for(P=0;P<g;P++){j=P<<2;var T=d[v=P<<1];x[j]=T,x[j+1]=T,x[j+2]=T,x[j+3]=d[v+1]}if(_==16)for(P=0;P<g;P++){var v;j=P<<2,T=d[v=P<<2],x[j]=T,x[j+1]=T,x[j+2]=T,x[j+3]=d[v+2]}}else if(w==0)for(E=u.tabs.tRNS?u.tabs.tRNS:-1,F=0;F<m;F++){const D=F*S,L=F*p;if(_==1)for(var k=0;k<p;k++){var O=(T=255*(d[D+(k>>>3)]>>>7-(7&k)&1))==255*E?0:255;C[L+k]=O<<24|T<<16|T<<8|T}else if(_==2)for(k=0;k<p;k++)O=(T=85*(d[D+(k>>>2)]>>>6-((3&k)<<1)&3))==85*E?0:255,C[L+k]=O<<24|T<<16|T<<8|T;else if(_==4)for(k=0;k<p;k++)O=(T=17*(d[D+(k>>>1)]>>>4-((1&k)<<2)&15))==17*E?0:255,C[L+k]=O<<24|T<<16|T<<8|T;else if(_==8)for(k=0;k<p;k++)O=(T=d[D+k])==E?0:255,C[L+k]=O<<24|T<<16|T<<8|T;else if(_==16)for(k=0;k<p;k++)T=d[D+(k<<1)],O=z(d,D+(k<<1))==E?0:255,C[L+k]=O<<24|T<<16|T<<8|T}return x}function r(d,p,m,u){const g=i(d),y=Math.ceil(m*g/8),S=new Uint8Array((y+1+d.interlace)*u);return p=d.tabs.CgBI?a(p,S):n(p,S),d.interlace==0?p=o(p,d,0,m,u):d.interlace==1&&(p=function(C,w){const _=w.width,z=w.height,P=i(w),b=P>>3,E=Math.ceil(_*P/8),j=new Uint8Array(z*E);let F=0;const $=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],A=[8,8,8,4,4,2,2],R=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const k=A[T],O=R[T];let D=0,L=0,W=$[T];for(;W<z;)W+=k,L++;let H=N[T];for(;H<_;)H+=O,D++;const B=Math.ceil(D*P/8);o(C,w,F,D,L);let K=0,q=$[T];for(;q<z;){let V=N[T],te=F+K*B<<3;for(;V<_;){var v;if(P==1&&(v=(v=C[te>>3])>>7-(7&te)&1,j[q*E+(V>>3)]|=v<<7-((7&V)<<0)),P==2&&(v=(v=C[te>>3])>>6-(7&te)&3,j[q*E+(V>>2)]|=v<<6-((3&V)<<1)),P==4&&(v=(v=C[te>>3])>>4-(7&te)&15,j[q*E+(V>>1)]|=v<<4-((1&V)<<2)),P>=8){const U=q*E+V*b;for(let M=0;M<b;M++)j[U+M]=C[(te>>3)+M]}te+=P,V+=O}K++,q+=k}D*L!=0&&(F+=L*(1+B)),T+=1}return j}(p,d)),p}function n(d,p){return a(new Uint8Array(d.buffer,2,d.length-6),p)}var a=function(){const d={H:{}};return d.H.N=function(p,m){const u=Uint8Array;let g,y,S=0,x=0,C=0,w=0,_=0,z=0,P=0,b=0,E=0;if(p[0]==3&&p[1]==0)return m||new u(0);const j=d.H,F=j.b,$=j.e,N=j.R,A=j.n,R=j.A,T=j.Z,v=j.m,k=m==null;for(k&&(m=new u(p.length>>>2<<5));S==0;)if(S=F(p,E,1),x=F(p,E+1,2),E+=3,x!=0){if(k&&(m=d.H.W(m,b+(1<<17))),x==1&&(g=v.J,y=v.h,z=511,P=31),x==2){C=$(p,E,5)+257,w=$(p,E+5,5)+1,_=$(p,E+10,4)+4,E+=14;let D=1;for(var O=0;O<38;O+=2)v.Q[O]=0,v.Q[O+1]=0;for(O=0;O<_;O++){const H=$(p,E+3*O,3);v.Q[1+(v.X[O]<<1)]=H,H>D&&(D=H)}E+=3*_,A(v.Q,D),R(v.Q,D,v.u),g=v.w,y=v.d,E=N(v.u,(1<<D)-1,C+w,p,E,v.v);const L=j.V(v.v,0,C,v.C);z=(1<<L)-1;const W=j.V(v.v,C,w,v.D);P=(1<<W)-1,A(v.C,L),R(v.C,L,g),A(v.D,W),R(v.D,W,y)}for(;;){const D=g[T(p,E)&z];E+=15&D;const L=D>>>4;if(!(L>>>8))m[b++]=L;else{if(L==256)break;{let W=b+L-254;if(L>264){const V=v.q[L-257];W=b+(V>>>3)+$(p,E,7&V),E+=7&V}const H=y[T(p,E)&P];E+=15&H;const B=H>>>4,K=v.c[B],q=(K>>>4)+F(p,E,15&K);for(E+=15&K;b<W;)m[b]=m[b++-q],m[b]=m[b++-q],m[b]=m[b++-q],m[b]=m[b++-q];b=W}}}}else{7&E&&(E+=8-(7&E));const D=4+(E>>>3),L=p[D-4]|p[D-3]<<8;k&&(m=d.H.W(m,b+L)),m.set(new u(p.buffer,p.byteOffset+D,L),b),E=D+L<<3,b+=L}return m.length==b?m:m.slice(0,b)},d.H.W=function(p,m){const u=p.length;if(m<=u)return p;const g=new Uint8Array(u<<1);return g.set(p,0),g},d.H.R=function(p,m,u,g,y,S){const x=d.H.e,C=d.H.Z;let w=0;for(;w<u;){const _=p[C(g,y)&m];y+=15&_;const z=_>>>4;if(z<=15)S[w]=z,w++;else{let P=0,b=0;z==16?(b=3+x(g,y,2),y+=2,P=S[w-1]):z==17?(b=3+x(g,y,3),y+=3):z==18&&(b=11+x(g,y,7),y+=7);const E=w+b;for(;w<E;)S[w]=P,w++}}return y},d.H.V=function(p,m,u,g){let y=0,S=0;const x=g.length>>>1;for(;S<u;){const C=p[S+m];g[S<<1]=0,g[1+(S<<1)]=C,C>y&&(y=C),S++}for(;S<x;)g[S<<1]=0,g[1+(S<<1)]=0,S++;return y},d.H.n=function(p,m){const u=d.H.m,g=p.length;let y,S,x,C;const w=u.j;for(var _=0;_<=m;_++)w[_]=0;for(_=1;_<g;_+=2)w[p[_]]++;const z=u.K;for(y=0,w[0]=0,S=1;S<=m;S++)y=y+w[S-1]<<1,z[S]=y;for(x=0;x<g;x+=2)C=p[x+1],C!=0&&(p[x]=z[C],z[C]++)},d.H.A=function(p,m,u){const g=p.length,y=d.H.m.r;for(let S=0;S<g;S+=2)if(p[S+1]!=0){const x=S>>1,C=p[S+1],w=x<<4|C,_=m-C;let z=p[S]<<_;const P=z+(1<<_);for(;z!=P;)u[y[z]>>>15-m]=w,z++}},d.H.l=function(p,m){const u=d.H.m.r,g=15-m;for(let y=0;y<p.length;y+=2){const S=p[y]<<m-p[y+1];p[y]=u[S]>>>g}},d.H.M=function(p,m,u){u<<=7&m;const g=m>>>3;p[g]|=u,p[g+1]|=u>>>8},d.H.I=function(p,m,u){u<<=7&m;const g=m>>>3;p[g]|=u,p[g+1]|=u>>>8,p[g+2]|=u>>>16},d.H.e=function(p,m,u){return(p[m>>>3]|p[1+(m>>>3)]<<8)>>>(7&m)&(1<<u)-1},d.H.b=function(p,m,u){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16)>>>(7&m)&(1<<u)-1},d.H.Z=function(p,m){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16)>>>(7&m)},d.H.i=function(p,m){return(p[m>>>3]|p[1+(m>>>3)]<<8|p[2+(m>>>3)]<<16|p[3+(m>>>3)]<<24)>>>(7&m)},d.H.m=function(){const p=Uint16Array,m=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=d.H.m;for(var m=0;m<32768;m++){let g=m;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,p.r[m]=(g>>>16|g<<16)>>>17}function u(g,y,S){for(;y--!=0;)g.push(0,S)}for(m=0;m<32;m++)p.q[m]=p.S[m]<<3|p.T[m],p.c[m]=p.p[m]<<4|p.z[m];u(p._,144,8),u(p._,112,9),u(p._,24,7),u(p._,8,8),d.H.n(p._,9),d.H.A(p._,9,p.J),d.H.l(p._,9),u(p.$,32,5),d.H.n(p.$,5),d.H.A(p.$,5,p.h),d.H.l(p.$,5),u(p.Q,19,0),u(p.C,286,0),u(p.D,30,0),u(p.v,320,0)}(),d.H.N}();function i(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,p,m,u,g){let y=i(p);const S=Math.ceil(u*y/8);let x,C;y=Math.ceil(y/8);let w=d[m],_=0;if(w>1&&(d[m]=[0,0,1][w-2]),w==3)for(_=y;_<S;_++)d[_+1]=d[_+1]+(d[_+1-y]>>>1)&255;for(let z=0;z<g;z++)if(x=m+z*S,C=x+z+1,w=d[C-1],_=0,w==0)for(;_<S;_++)d[x+_]=d[C+_];else if(w==1){for(;_<y;_++)d[x+_]=d[C+_];for(;_<S;_++)d[x+_]=d[C+_]+d[x+_-y]}else if(w==2)for(;_<S;_++)d[x+_]=d[C+_]+d[x+_-S];else if(w==3){for(;_<y;_++)d[x+_]=d[C+_]+(d[x+_-S]>>>1);for(;_<S;_++)d[x+_]=d[C+_]+(d[x+_-S]+d[x+_-y]>>>1)}else{for(;_<y;_++)d[x+_]=d[C+_]+l(0,d[x+_-S],0);for(;_<S;_++)d[x+_]=d[C+_]+l(d[x+_-y],d[x+_-S],d[x+_-y-S])}return d}function l(d,p,m){const u=d+p-m,g=u-d,y=u-p,S=u-m;return g*g<=y*y&&g*g<=S*S?d:y*y<=S*S?p:m}function c(d,p,m){m.width=e.readUint(d,p),p+=4,m.height=e.readUint(d,p),p+=4,m.depth=d[p],p++,m.ctype=d[p],p++,m.compress=d[p],p++,m.filter=d[p],p++,m.interlace=d[p],p++}function h(d,p,m,u,g,y,S,x,C){const w=Math.min(p,g),_=Math.min(m,y);let z=0,P=0;for(let T=0;T<_;T++)for(let v=0;v<w;v++)if(S>=0&&x>=0?(z=T*p+v<<2,P=(x+T)*g+S+v<<2):(z=(-x+T)*p-S+v<<2,P=T*g+v<<2),C==0)u[P]=d[z],u[P+1]=d[z+1],u[P+2]=d[z+2],u[P+3]=d[z+3];else if(C==1){var b=d[z+3]*.00392156862745098,E=d[z]*b,j=d[z+1]*b,F=d[z+2]*b,$=u[P+3]*(1/255),N=u[P]*$,A=u[P+1]*$,R=u[P+2]*$;const k=1-b,O=b+$*k,D=O==0?0:1/O;u[P+3]=255*O,u[P+0]=(E+N*k)*D,u[P+1]=(j+A*k)*D,u[P+2]=(F+R*k)*D}else if(C==2)b=d[z+3],E=d[z],j=d[z+1],F=d[z+2],$=u[P+3],N=u[P],A=u[P+1],R=u[P+2],b==$&&E==N&&j==A&&F==R?(u[P]=0,u[P+1]=0,u[P+2]=0,u[P+3]=0):(u[P]=E,u[P+1]=j,u[P+2]=F,u[P+3]=b);else if(C==3){if(b=d[z+3],E=d[z],j=d[z+1],F=d[z+2],$=u[P+3],N=u[P],A=u[P+1],R=u[P+2],b==$&&E==N&&j==A&&F==R)continue;if(b<220&&$>20)return!1}return!0}return{decode:function(p){const m=new Uint8Array(p);let u=8;const g=e,y=g.readUshort,S=g.readUint,x={tabs:{},frames:[]},C=new Uint8Array(m.length);let w,_=0,z=0;const P=[137,80,78,71,13,10,26,10];for(var b=0;b<8;b++)if(m[b]!=P[b])throw"The input is not a PNG file!";for(;u<m.length;){const T=g.readUint(m,u);u+=4;const v=g.readASCII(m,u,4);if(u+=4,v=="IHDR")c(m,u,x);else if(v=="iCCP"){for(var E=u;m[E]!=0;)E++;g.readASCII(m,u,E-u),m[E+1];const k=m.slice(E+2,u+T);let O=null;try{O=n(k)}catch{O=a(k)}x.tabs[v]=O}else if(v=="CgBI")x.tabs[v]=m.slice(u,u+4);else if(v=="IDAT"){for(b=0;b<T;b++)C[_+b]=m[u+b];_+=T}else if(v=="acTL")x.tabs[v]={num_frames:S(m,u),num_plays:S(m,u+4)},w=new Uint8Array(m.length);else if(v=="fcTL"){z!=0&&((R=x.frames[x.frames.length-1]).data=r(x,w.slice(0,z),R.rect.width,R.rect.height),z=0);const k={x:S(m,u+12),y:S(m,u+16),width:S(m,u+4),height:S(m,u+8)};let O=y(m,u+22);O=y(m,u+20)/(O==0?100:O);const D={rect:k,delay:Math.round(1e3*O),dispose:m[u+24],blend:m[u+25]};x.frames.push(D)}else if(v=="fdAT"){for(b=0;b<T-4;b++)w[z+b]=m[u+b+4];z+=T-4}else if(v=="pHYs")x.tabs[v]=[g.readUint(m,u),g.readUint(m,u+4),m[u+8]];else if(v=="cHRM")for(x.tabs[v]=[],b=0;b<8;b++)x.tabs[v].push(g.readUint(m,u+4*b));else if(v=="tEXt"||v=="zTXt"){x.tabs[v]==null&&(x.tabs[v]={});var j=g.nextZero(m,u),F=g.readASCII(m,u,j-u),$=u+T-j-1;if(v=="tEXt")A=g.readASCII(m,j+1,$);else{var N=n(m.slice(j+2,j+2+$));A=g.readUTF8(N,0,N.length)}x.tabs[v][F]=A}else if(v=="iTXt"){x.tabs[v]==null&&(x.tabs[v]={}),j=0,E=u,j=g.nextZero(m,E),F=g.readASCII(m,E,j-E);const k=m[E=j+1];var A;m[E+1],E+=2,j=g.nextZero(m,E),g.readASCII(m,E,j-E),E=j+1,j=g.nextZero(m,E),g.readUTF8(m,E,j-E),$=T-((E=j+1)-u),k==0?A=g.readUTF8(m,E,$):(N=n(m.slice(E,E+$)),A=g.readUTF8(N,0,N.length)),x.tabs[v][F]=A}else if(v=="PLTE")x.tabs[v]=g.readBytes(m,u,T);else if(v=="hIST"){const k=x.tabs.PLTE.length/3;for(x.tabs[v]=[],b=0;b<k;b++)x.tabs[v].push(y(m,u+2*b))}else if(v=="tRNS")x.ctype==3?x.tabs[v]=g.readBytes(m,u,T):x.ctype==0?x.tabs[v]=y(m,u):x.ctype==2&&(x.tabs[v]=[y(m,u),y(m,u+2),y(m,u+4)]);else if(v=="gAMA")x.tabs[v]=g.readUint(m,u)/1e5;else if(v=="sRGB")x.tabs[v]=m[u];else if(v=="bKGD")x.ctype==0||x.ctype==4?x.tabs[v]=[y(m,u)]:x.ctype==2||x.ctype==6?x.tabs[v]=[y(m,u),y(m,u+2),y(m,u+4)]:x.ctype==3&&(x.tabs[v]=m[u]);else if(v=="IEND")break;u+=T,g.readUint(m,u),u+=4}var R;return z!=0&&((R=x.frames[x.frames.length-1]).data=r(x,w.slice(0,z),R.rect.width,R.rect.height)),x.data=r(x,C,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(p){const m=p.width,u=p.height;if(p.tabs.acTL==null)return[s(p.data,m,u,p).buffer];const g=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const y=m*u*4,S=new Uint8Array(y),x=new Uint8Array(y),C=new Uint8Array(y);for(let _=0;_<p.frames.length;_++){const z=p.frames[_],P=z.rect.x,b=z.rect.y,E=z.rect.width,j=z.rect.height,F=s(z.data,E,j,p);if(_!=0)for(var w=0;w<y;w++)C[w]=S[w];if(z.blend==0?h(F,E,j,S,m,u,P,b,0):z.blend==1&&h(F,E,j,S,m,u,P,b,1),g.push(S.buffer.slice(0)),z.dispose!=0){if(z.dispose==1)h(x,E,j,S,m,u,P,b,0);else if(z.dispose==2)for(w=0;w<y;w++)S[w]=C[w]}}return g},_paeth:l,_copyTile:h,_bin:e}}();(function(){const{_copyTile:e}=vr,{_bin:s}=vr,r=vr._paeth;var n={table:function(){const E=new Uint32Array(256);for(let j=0;j<256;j++){let F=j;for(let $=0;$<8;$++)1&F?F=3988292384^F>>>1:F>>>=1;E[j]=F}return E}(),update(E,j,F,$){for(let N=0;N<$;N++)E=n.table[255&(E^j[F+N])]^E>>>8;return E},crc:(E,j,F)=>4294967295^n.update(4294967295,E,j,F)};function a(E,j,F,$){j[F]+=E[0]*$>>4,j[F+1]+=E[1]*$>>4,j[F+2]+=E[2]*$>>4,j[F+3]+=E[3]*$>>4}function i(E){return Math.max(0,Math.min(255,E))}function o(E,j){const F=E[0]-j[0],$=E[1]-j[1],N=E[2]-j[2],A=E[3]-j[3];return F*F+$*$+N*N+A*A}function l(E,j,F,$,N,A,R){R==null&&(R=1);const T=$.length,v=[];for(var k=0;k<T;k++){const q=$[k];v.push([q>>>0&255,q>>>8&255,q>>>16&255,q>>>24&255])}for(k=0;k<T;k++){let q=4294967295;for(var O=0,D=0;D<T;D++){var L=o(v[k],v[D]);D!=k&&L<q&&(q=L,O=D)}}const W=new Uint32Array(N.buffer),H=new Int16Array(j*F*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<B.length;k++)B[k]=255*((B[k]+.5)/16-.5);for(let q=0;q<F;q++)for(let V=0;V<j;V++){var K;k=4*(q*j+V),R!=2?K=[i(E[k]+H[k]),i(E[k+1]+H[k+1]),i(E[k+2]+H[k+2]),i(E[k+3]+H[k+3])]:(L=B[4*(3&q)+(3&V)],K=[i(E[k]+L),i(E[k+1]+L),i(E[k+2]+L),i(E[k+3]+L)]),O=0;let te=16777215;for(D=0;D<T;D++){const G=o(K,v[D]);G<te&&(te=G,O=D)}const U=v[O],M=[K[0]-U[0],K[1]-U[1],K[2]-U[2],K[3]-U[3]];R==1&&(V!=j-1&&a(M,H,k+4,7),q!=F-1&&(V!=0&&a(M,H,k+4*j-4,3),a(M,H,k+4*j,5),V!=j-1&&a(M,H,k+4*j+4,1))),A[k>>2]=O,W[k>>2]=$[O]}}function c(E,j,F,$,N){N==null&&(N={});const{crc:A}=n,R=s.writeUint,T=s.writeUshort,v=s.writeASCII;let k=8;const O=E.frames.length>1;let D,L=!1,W=33+(O?20:0);if(N.sRGB!=null&&(W+=13),N.pHYs!=null&&(W+=21),N.iCCP!=null&&(D=pako.deflate(N.iCCP),W+=21+D.length+4),E.ctype==3){for(var H=E.plte.length,B=0;B<H;B++)E.plte[B]>>>24!=255&&(L=!0);W+=8+3*H+4+(L?8+1*H+4:0)}for(var K=0;K<E.frames.length;K++)O&&(W+=38),W+=(U=E.frames[K]).cimg.length+12,K!=0&&(W+=4);W+=12;const q=new Uint8Array(W),V=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)q[B]=V[B];if(R(q,k,13),k+=4,v(q,k,"IHDR"),k+=4,R(q,k,j),k+=4,R(q,k,F),k+=4,q[k]=E.depth,k++,q[k]=E.ctype,k++,q[k]=0,k++,q[k]=0,k++,q[k]=0,k++,R(q,k,A(q,k-17,17)),k+=4,N.sRGB!=null&&(R(q,k,1),k+=4,v(q,k,"sRGB"),k+=4,q[k]=N.sRGB,k++,R(q,k,A(q,k-5,5)),k+=4),N.iCCP!=null){const M=13+D.length;R(q,k,M),k+=4,v(q,k,"iCCP"),k+=4,v(q,k,"ICC profile"),k+=11,k+=2,q.set(D,k),k+=D.length,R(q,k,A(q,k-(M+4),M+4)),k+=4}if(N.pHYs!=null&&(R(q,k,9),k+=4,v(q,k,"pHYs"),k+=4,R(q,k,N.pHYs[0]),k+=4,R(q,k,N.pHYs[1]),k+=4,q[k]=N.pHYs[2],k++,R(q,k,A(q,k-13,13)),k+=4),O&&(R(q,k,8),k+=4,v(q,k,"acTL"),k+=4,R(q,k,E.frames.length),k+=4,R(q,k,N.loop!=null?N.loop:0),k+=4,R(q,k,A(q,k-12,12)),k+=4),E.ctype==3){for(R(q,k,3*(H=E.plte.length)),k+=4,v(q,k,"PLTE"),k+=4,B=0;B<H;B++){const M=3*B,G=E.plte[B],X=255&G,fe=G>>>8&255,Ne=G>>>16&255;q[k+M+0]=X,q[k+M+1]=fe,q[k+M+2]=Ne}if(k+=3*H,R(q,k,A(q,k-3*H-4,3*H+4)),k+=4,L){for(R(q,k,H),k+=4,v(q,k,"tRNS"),k+=4,B=0;B<H;B++)q[k+B]=E.plte[B]>>>24&255;k+=H,R(q,k,A(q,k-H-4,H+4)),k+=4}}let te=0;for(K=0;K<E.frames.length;K++){var U=E.frames[K];O&&(R(q,k,26),k+=4,v(q,k,"fcTL"),k+=4,R(q,k,te++),k+=4,R(q,k,U.rect.width),k+=4,R(q,k,U.rect.height),k+=4,R(q,k,U.rect.x),k+=4,R(q,k,U.rect.y),k+=4,T(q,k,$[K]),k+=2,T(q,k,1e3),k+=2,q[k]=U.dispose,k++,q[k]=U.blend,k++,R(q,k,A(q,k-30,30)),k+=4);const M=U.cimg;R(q,k,(H=M.length)+(K==0?0:4)),k+=4;const G=k;v(q,k,K==0?"IDAT":"fdAT"),k+=4,K!=0&&(R(q,k,te++),k+=4),q.set(M,k),k+=H,R(q,k,A(q,G,k-G)),k+=4}return R(q,k,0),k+=4,v(q,k,"IEND"),k+=4,R(q,k,A(q,k-4,4)),k+=4,q.buffer}function h(E,j,F){for(let $=0;$<E.frames.length;$++){const N=E.frames[$];N.rect.width;const A=N.rect.height,R=new Uint8Array(A*N.bpl+A);N.cimg=u(N.img,A,N.bpp,N.bpl,R,j,F)}}function d(E,j,F,$,N){const A=N[0],R=N[1],T=N[2],v=N[3],k=N[4],O=N[5];let D=6,L=8,W=255;for(var H=0;H<E.length;H++){const Fe=new Uint8Array(E[H]);for(var B=Fe.length,K=0;K<B;K+=4)W&=Fe[K+3]}const q=W!=255,V=function(ie,Y,Z,xe,ye,Q){const se=[];for(var ce=0;ce<ie.length;ce++){const oe=new Uint8Array(ie[ce]),re=new Uint32Array(oe.buffer);var Ae;let I=0,J=0,ue=Y,me=Z,be=xe?1:0;if(ce!=0){const pe=Q||xe||ce==1||se[ce-2].dispose!=0?1:2;let we=0,ke=1e9;for(let je=0;je<pe;je++){var ae=new Uint8Array(ie[ce-1-je]);const ee=new Uint32Array(ie[ce-1-je]);let de=Y,Ce=Z,Te=-1,ze=-1;for(let Ke=0;Ke<Z;Ke++)for(let dt=0;dt<Y;dt++)re[Ee=Ke*Y+dt]!=ee[Ee]&&(dt<de&&(de=dt),dt>Te&&(Te=dt),Ke<Ce&&(Ce=Ke),Ke>ze&&(ze=Ke));Te==-1&&(de=Ce=Te=ze=0),ye&&((1&de)==1&&de--,(1&Ce)==1&&Ce--);const $e=(Te-de+1)*(ze-Ce+1);$e<ke&&(ke=$e,we=je,I=de,J=Ce,ue=Te-de+1,me=ze-Ce+1)}ae=new Uint8Array(ie[ce-1-we]),we==1&&(se[ce-1].dispose=2),Ae=new Uint8Array(ue*me*4),e(ae,Y,Z,Ae,ue,me,-I,-J,0),be=e(oe,Y,Z,Ae,ue,me,-I,-J,3)?1:0,be==1?m(oe,Y,Z,Ae,{x:I,y:J,width:ue,height:me}):e(oe,Y,Z,Ae,ue,me,-I,-J,0)}else Ae=oe.slice(0);se.push({rect:{x:I,y:J,width:ue,height:me},img:Ae,blend:be,dispose:0})}if(xe)for(ce=0;ce<se.length;ce++){if((ne=se[ce]).blend==1)continue;const oe=ne.rect,re=se[ce-1].rect,I=Math.min(oe.x,re.x),J=Math.min(oe.y,re.y),ue={x:I,y:J,width:Math.max(oe.x+oe.width,re.x+re.width)-I,height:Math.max(oe.y+oe.height,re.y+re.height)-J};se[ce-1].dispose=1,ce-1!=0&&p(ie,Y,Z,se,ce-1,ue,ye),p(ie,Y,Z,se,ce,ue,ye)}let _e=0;if(ie.length!=1)for(var Ee=0;Ee<se.length;Ee++){var ne;_e+=(ne=se[Ee]).rect.width*ne.rect.height}return se}(E,j,F,A,R,T),te={},U=[],M=[];if($!=0){const Fe=[];for(K=0;K<V.length;K++)Fe.push(V[K].img.buffer);const ie=function(ye){let Q=0;for(var se=0;se<ye.length;se++)Q+=ye[se].byteLength;const ce=new Uint8Array(Q);let Ae=0;for(se=0;se<ye.length;se++){const ae=new Uint8Array(ye[se]),_e=ae.length;for(let Ee=0;Ee<_e;Ee+=4){let ne=ae[Ee],oe=ae[Ee+1],re=ae[Ee+2];const I=ae[Ee+3];I==0&&(ne=oe=re=0),ce[Ae+Ee]=ne,ce[Ae+Ee+1]=oe,ce[Ae+Ee+2]=re,ce[Ae+Ee+3]=I}Ae+=_e}return ce.buffer}(Fe),Y=y(ie,$);for(K=0;K<Y.plte.length;K++)U.push(Y.plte[K].est.rgba);let Z=0;for(K=0;K<V.length;K++){const xe=(X=V[K]).img.length;var G=new Uint8Array(Y.inds.buffer,Z>>2,xe>>2);M.push(G);const ye=new Uint8Array(Y.abuf,Z,xe);O&&l(X.img,X.rect.width,X.rect.height,U,ye,G),X.img.set(ye),Z+=xe}}else for(H=0;H<V.length;H++){var X=V[H];const Fe=new Uint32Array(X.img.buffer);var fe=X.rect.width;for(B=Fe.length,G=new Uint8Array(B),M.push(G),K=0;K<B;K++){const ie=Fe[K];if(K!=0&&ie==Fe[K-1])G[K]=G[K-1];else if(K>fe&&ie==Fe[K-fe])G[K]=G[K-fe];else{let Y=te[ie];if(Y==null&&(te[ie]=Y=U.length,U.push(ie),U.length>=300))break;G[K]=Y}}}const Ne=U.length;for(Ne<=256&&k==0&&(L=Ne<=2?1:Ne<=4?2:Ne<=16?4:8,L=Math.max(L,v)),H=0;H<V.length;H++){(X=V[H]).rect.x,X.rect.y,fe=X.rect.width;const Fe=X.rect.height;let ie=X.img;new Uint32Array(ie.buffer);let Y=4*fe,Z=4;if(Ne<=256&&k==0){Y=Math.ceil(L*fe/8);var ge=new Uint8Array(Y*Fe);const xe=M[H];for(let ye=0;ye<Fe;ye++){K=ye*Y;const Q=ye*fe;if(L==8)for(var Pe=0;Pe<fe;Pe++)ge[K+Pe]=xe[Q+Pe];else if(L==4)for(Pe=0;Pe<fe;Pe++)ge[K+(Pe>>1)]|=xe[Q+Pe]<<4-4*(1&Pe);else if(L==2)for(Pe=0;Pe<fe;Pe++)ge[K+(Pe>>2)]|=xe[Q+Pe]<<6-2*(3&Pe);else if(L==1)for(Pe=0;Pe<fe;Pe++)ge[K+(Pe>>3)]|=xe[Q+Pe]<<7-1*(7&Pe)}ie=ge,D=3,Z=1}else if(q==0&&V.length==1){ge=new Uint8Array(fe*Fe*3);const xe=fe*Fe;for(K=0;K<xe;K++){const ye=3*K,Q=4*K;ge[ye]=ie[Q],ge[ye+1]=ie[Q+1],ge[ye+2]=ie[Q+2]}ie=ge,D=2,Z=3,Y=3*fe}X.img=ie,X.bpl=Y,X.bpp=Z}return{ctype:D,depth:L,plte:U,frames:V}}function p(E,j,F,$,N,A,R){const T=Uint8Array,v=Uint32Array,k=new T(E[N-1]),O=new v(E[N-1]),D=N+1<E.length?new T(E[N+1]):null,L=new T(E[N]),W=new v(L.buffer);let H=j,B=F,K=-1,q=-1;for(let te=0;te<A.height;te++)for(let U=0;U<A.width;U++){const M=A.x+U,G=A.y+te,X=G*j+M,fe=W[X];fe==0||$[N-1].dispose==0&&O[X]==fe&&(D==null||D[4*X+3]!=0)||(M<H&&(H=M),M>K&&(K=M),G<B&&(B=G),G>q&&(q=G))}K==-1&&(H=B=K=q=0),R&&((1&H)==1&&H--,(1&B)==1&&B--),A={x:H,y:B,width:K-H+1,height:q-B+1};const V=$[N];V.rect=A,V.blend=1,V.img=new Uint8Array(A.width*A.height*4),$[N-1].dispose==0?(e(k,j,F,V.img,A.width,A.height,-A.x,-A.y,0),m(L,j,F,V.img,A)):e(L,j,F,V.img,A.width,A.height,-A.x,-A.y,0)}function m(E,j,F,$,N){e(E,j,F,$,N.width,N.height,-N.x,-N.y,2)}function u(E,j,F,$,N,A,R){const T=[];let v,k=[0,1,2,3,4];A!=-1?k=[A]:(j*$>5e5||F==1)&&(k=[0]),R&&(v={level:0});const O=ST;for(var D=0;D<k.length;D++){for(let H=0;H<j;H++)g(N,E,H,$,F,k[D]);T.push(O.deflate(N,v))}let L,W=1e9;for(D=0;D<T.length;D++)T[D].length<W&&(L=D,W=T[D].length);return T[L]}function g(E,j,F,$,N,A){const R=F*$;let T=R+F;if(E[T]=A,T++,A==0)if($<500)for(var v=0;v<$;v++)E[T+v]=j[R+v];else E.set(new Uint8Array(j.buffer,R,$),T);else if(A==1){for(v=0;v<N;v++)E[T+v]=j[R+v];for(v=N;v<$;v++)E[T+v]=j[R+v]-j[R+v-N]+256&255}else if(F==0){for(v=0;v<N;v++)E[T+v]=j[R+v];if(A==2)for(v=N;v<$;v++)E[T+v]=j[R+v];if(A==3)for(v=N;v<$;v++)E[T+v]=j[R+v]-(j[R+v-N]>>1)+256&255;if(A==4)for(v=N;v<$;v++)E[T+v]=j[R+v]-r(j[R+v-N],0,0)+256&255}else{if(A==2)for(v=0;v<$;v++)E[T+v]=j[R+v]+256-j[R+v-$]&255;if(A==3){for(v=0;v<N;v++)E[T+v]=j[R+v]+256-(j[R+v-$]>>1)&255;for(v=N;v<$;v++)E[T+v]=j[R+v]+256-(j[R+v-$]+j[R+v-N]>>1)&255}if(A==4){for(v=0;v<N;v++)E[T+v]=j[R+v]+256-r(0,j[R+v-$],0)&255;for(v=N;v<$;v++)E[T+v]=j[R+v]+256-r(j[R+v-N],j[R+v-$],j[R+v-N-$])&255}}}function y(E,j){const F=new Uint8Array(E),$=F.slice(0),N=new Uint32Array($.buffer),A=S($,j),R=A[0],T=A[1],v=F.length,k=new Uint8Array(v>>2);let O;if(F.length<2e7)for(var D=0;D<v;D+=4)O=x(R,L=F[D]*(1/255),W=F[D+1]*(1/255),H=F[D+2]*(1/255),B=F[D+3]*(1/255)),k[D>>2]=O.ind,N[D>>2]=O.est.rgba;else for(D=0;D<v;D+=4){var L=F[D]*.00392156862745098,W=F[D+1]*(1/255),H=F[D+2]*(1/255),B=F[D+3]*(1/255);for(O=R;O.left;)O=C(O.est,L,W,H,B)<=0?O.left:O.right;k[D>>2]=O.ind,N[D>>2]=O.est.rgba}return{abuf:$.buffer,inds:k,plte:T}}function S(E,j,F){F==null&&(F=1e-4);const $=new Uint32Array(E.buffer),N={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=z(E,N.i0,N.i1),N.est=P(N.bst);const A=[N];for(;A.length<j;){let T=0,v=0;for(var R=0;R<A.length;R++)A[R].est.L>T&&(T=A[R].est.L,v=R);if(T<F)break;const k=A[v],O=w(E,$,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=O||k.i1<=O){k.est.L=0;continue}const D={i0:k.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};D.bst=z(E,D.i0,D.i1),D.est=P(D.bst);const L={i0:O,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:k.bst.N-D.bst.N},R=0;R<16;R++)L.bst.R[R]=k.bst.R[R]-D.bst.R[R];for(R=0;R<4;R++)L.bst.m[R]=k.bst.m[R]-D.bst.m[R];L.est=P(L.bst),k.left=D,k.right=L,A[v]=D,A.push(L)}for(A.sort((T,v)=>v.bst.N-T.bst.N),R=0;R<A.length;R++)A[R].ind=R;return[N,A]}function x(E,j,F,$,N){if(E.left==null)return E.tdst=function(D,L,W,H,B){const K=L-D[0],q=W-D[1],V=H-D[2],te=B-D[3];return K*K+q*q+V*V+te*te}(E.est.q,j,F,$,N),E;const A=C(E.est,j,F,$,N);let R=E.left,T=E.right;A>0&&(R=E.right,T=E.left);const v=x(R,j,F,$,N);if(v.tdst<=A*A)return v;const k=x(T,j,F,$,N);return k.tdst<v.tdst?k:v}function C(E,j,F,$,N){const{e:A}=E;return A[0]*j+A[1]*F+A[2]*$+A[3]*N-E.eMq}function w(E,j,F,$,N,A){for($-=4;F<$;){for(;_(E,F,N)<=A;)F+=4;for(;_(E,$,N)>A;)$-=4;if(F>=$)break;const R=j[F>>2];j[F>>2]=j[$>>2],j[$>>2]=R,F+=4,$-=4}for(;_(E,F,N)>A;)F-=4;return F+4}function _(E,j,F){return E[j]*F[0]+E[j+1]*F[1]+E[j+2]*F[2]+E[j+3]*F[3]}function z(E,j,F){const $=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],A=F-j>>2;for(let R=j;R<F;R+=4){const T=E[R]*.00392156862745098,v=E[R+1]*(1/255),k=E[R+2]*(1/255),O=E[R+3]*(1/255);N[0]+=T,N[1]+=v,N[2]+=k,N[3]+=O,$[0]+=T*T,$[1]+=T*v,$[2]+=T*k,$[3]+=T*O,$[5]+=v*v,$[6]+=v*k,$[7]+=v*O,$[10]+=k*k,$[11]+=k*O,$[15]+=O*O}return $[4]=$[1],$[8]=$[2],$[9]=$[6],$[12]=$[3],$[13]=$[7],$[14]=$[11],{R:$,m:N,N:A}}function P(E){const{R:j}=E,{m:F}=E,{N:$}=E,N=F[0],A=F[1],R=F[2],T=F[3],v=$==0?0:1/$,k=[j[0]-N*N*v,j[1]-N*A*v,j[2]-N*R*v,j[3]-N*T*v,j[4]-A*N*v,j[5]-A*A*v,j[6]-A*R*v,j[7]-A*T*v,j[8]-R*N*v,j[9]-R*A*v,j[10]-R*R*v,j[11]-R*T*v,j[12]-T*N*v,j[13]-T*A*v,j[14]-T*R*v,j[15]-T*T*v],O=k,D=b;let L=[Math.random(),Math.random(),Math.random(),Math.random()],W=0,H=0;if($!=0)for(let K=0;K<16&&(L=D.multVec(O,L),H=Math.sqrt(D.dot(L,L)),L=D.sml(1/H,L),!(K!=0&&Math.abs(H-W)<1e-9));K++)W=H;const B=[N*v,A*v,R*v,T*v];return{Cov:k,q:B,e:L,L:W,eMq255:D.dot(D.sml(255,B),L),eMq:D.dot(L,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var b={multVec:(E,j)=>[E[0]*j[0]+E[1]*j[1]+E[2]*j[2]+E[3]*j[3],E[4]*j[0]+E[5]*j[1]+E[6]*j[2]+E[7]*j[3],E[8]*j[0]+E[9]*j[1]+E[10]*j[2]+E[11]*j[3],E[12]*j[0]+E[13]*j[1]+E[14]*j[2]+E[15]*j[3]],dot:(E,j)=>E[0]*j[0]+E[1]*j[1]+E[2]*j[2]+E[3]*j[3],sml:(E,j)=>[E*j[0],E*j[1],E*j[2],E*j[3]]};vr.encode=function(j,F,$,N,A,R,T){N==null&&(N=0),T==null&&(T=!1);const v=d(j,F,$,N,[!1,!1,!1,0,T,!1]);return h(v,-1),c(v,F,$,A,R)},vr.encodeLL=function(j,F,$,N,A,R,T,v){const k={ctype:0+(N==1?0:2)+(A==0?0:4),depth:R,frames:[]},O=(N+A)*R,D=O*F;for(let L=0;L<j.length;L++)k.frames.push({rect:{x:0,y:0,width:F,height:$},img:new Uint8Array(j[L]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(D/8)});return h(k,0,!0),c(k,F,$,T,v)},vr.encode.compress=d,vr.encode.dither=l,vr.quantize=y,vr.quantize.getKDtree=S,vr.quantize.getNearest=x})();const Xj={toArrayBuffer(e,s){const r=e.width,n=e.height,a=r<<2,i=e.getContext("2d").getImageData(0,0,r,n),o=new Uint32Array(i.data.buffer),l=(32*r+31)/32<<2,c=l*n,h=122+c,d=new ArrayBuffer(h),p=new DataView(d),m=1<<20;let u,g,y,S,x=m,C=0,w=0,_=0;function z(E){p.setUint16(w,E,!0),w+=2}function P(E){p.setUint32(w,E,!0),w+=4}function b(E){w+=E}z(19778),P(h),b(4),P(122),P(108),P(r),P(-n>>>0),z(1),z(32),P(3),P(c),P(2835),P(2835),b(8),P(16711680),P(65280),P(255),P(4278190080),P(1466527264),function E(){for(;C<n&&x>0;){for(S=122+C*l,u=0;u<a;)x--,g=o[_++],y=g>>>24,p.setUint32(S+u,g<<8|y),u+=4;C++}_<o.length?(x=m,setTimeout(E,Xj._dly)):s(d)}()},toBlob(e,s){this.toArrayBuffer(e,r=>{s(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Rs={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},AT={[Rs.CHROME]:16384,[Rs.FIREFOX]:11180,[Rs.DESKTOP_SAFARI]:16384,[Rs.IE]:8192,[Rs.IOS]:4096,[Rs.ETC]:8192};const jh=typeof window<"u",Zj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,ad=jh&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),kT=(jh||Zj)&&(ad&&ad.getOriginalSymbol(window,"File")||typeof File<"u"&&File),e1=(jh||Zj)&&(ad&&ad.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Nh(e,s,r=Date.now()){return new Promise(n=>{const a=e.split(","),i=a[0].match(/:(.*?);/)[1],o=globalThis.atob(a[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const h=new Blob([c],{type:i});h.name=s,h.lastModified=r,n(h)})}function t1(e){return new Promise((s,r)=>{const n=new e1;n.onload=()=>s(n.result),n.onerror=a=>r(a),n.readAsDataURL(e)})}function s1(e){return new Promise((s,r)=>{const n=new Image;n.onload=()=>s(n),n.onerror=a=>r(a),n.src=e})}function aa(){if(aa.cachedResult!==void 0)return aa.cachedResult;let e=Rs.ETC;const{userAgent:s}=navigator;return/Chrom(e|ium)/i.test(s)?e=Rs.CHROME:/iP(ad|od|hone)/i.test(s)&&/WebKit/i.test(s)?e=Rs.IOS:/Safari/i.test(s)?e=Rs.DESKTOP_SAFARI:/Firefox/i.test(s)?e=Rs.FIREFOX:(/MSIE/i.test(s)||document.documentMode)&&(e=Rs.IE),aa.cachedResult=e,aa.cachedResult}function r1(e,s){const r=aa(),n=AT[r];let a=e,i=s,o=a*i;const l=a>i?i/a:a/i;for(;o>n*n;){const c=(n+a)/2,h=(n+i)/2;c<h?(i=h,a=h*l):(i=c*l,a=c),o=a*i}return{width:a,height:i}}function yu(e,s){let r,n;try{if(r=new OffscreenCanvas(e,s),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=e,r.height=s,[r,n]}function n1(e,s){const{width:r,height:n}=r1(e.width,e.height),[a,i]=yu(r,n);return s&&/jpe?g/.test(s)&&(i.fillStyle="white",i.fillRect(0,0,a.width,a.height)),i.drawImage(e,0,0,a.width,a.height),a}function fc(){return fc.cachedResult!==void 0||(fc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),fc.cachedResult}function id(e,s={}){return new Promise(function(r,n){let a,i;var o=function(){try{return i=n1(a,s.fileType||e.type),r([a,i])}catch(c){return n(c)}},l=function(c){try{var h=function(d){try{throw d}catch(p){return n(p)}};try{let d;return t1(e).then(function(p){try{return d=p,s1(d).then(function(m){try{return a=m,function(){try{return o()}catch(u){return n(u)}}()}catch(u){return h(u)}},h)}catch(m){return h(m)}},h)}catch(d){h(d)}}catch(d){return n(d)}};try{if(fc()||[Rs.DESKTOP_SAFARI,Rs.MOBILE_SAFARI].includes(aa()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return a=c,o()}catch{return l()}},l)}catch{l()}})}function od(e,s,r,n,a=1){return new Promise(function(i,o){let l;if(s==="image/png"){let p,m,u;return p=e.getContext("2d"),{data:m}=p.getImageData(0,0,e.width,e.height),u=vr.encode([m.buffer],e.width,e.height,4096*a),l=new Blob([u],{type:s}),l.name=r,l.lastModified=n,c.call(this)}{let p=function(){return c.call(this)};var h=p;if(s==="image/bmp")return new Promise(m=>Xj.toBlob(e,m)).then((function(m){try{return l=m,l.name=r,l.lastModified=n,p.call(this)}catch(u){return o(u)}}).bind(this),o);{let m=function(){return p.call(this)};var d=m;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:s,quality:a}).then((function(u){try{return l=u,l.name=r,l.lastModified=n,m.call(this)}catch(g){return o(g)}}).bind(this),o);{let u;return u=e.toDataURL(s,a),Nh(u,r,n).then((function(g){try{return l=g,m.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function c(){return i(l)}})}function Or(e){e.width=0,e.height=0}function Ga(){return new Promise(function(e,s){let r,n,a,i;return Ga.cachedResult!==void 0?e(Ga.cachedResult):Nh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return r=o,id(r).then(function(l){try{return n=l[1],od(n,r.type,r.name,r.lastModified).then(function(c){try{return a=c,Or(n),id(a).then(function(h){try{return i=h[0],Ga.cachedResult=i.width===1&&i.height===2,e(Ga.cachedResult)}catch(d){return s(d)}},s)}catch(h){return s(h)}},s)}catch(c){return s(c)}},s)}catch(l){return s(l)}},s)})}function a1(e){return new Promise((s,r)=>{const n=new e1;n.onload=a=>{const i=new DataView(a.target.result);if(i.getUint16(0,!1)!=65496)return s(-2);const o=i.byteLength;let l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return s(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return s(-1);const h=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,h);const d=i.getUint16(l,h);l+=2;for(let p=0;p<d;p++)if(i.getUint16(l+12*p,h)==274)return s(i.getUint16(l+12*p+8,h))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return s(-1)},n.onerror=a=>r(a),n.readAsArrayBuffer(e)})}function i1(e,s){const{width:r}=e,{height:n}=e,{maxWidthOrHeight:a}=s;let i,o=e;return isFinite(a)&&(r>a||n>a)&&([o,i]=yu(r,n),r>n?(o.width=a,o.height=n/r*a):(o.width=r/n*a,o.height=a),i.drawImage(e,0,0,o.width,o.height),Or(e)),o}function o1(e,s){const{width:r}=e,{height:n}=e,[a,i]=yu(r,n);switch(s>4&&s<9?(a.width=n,a.height=r):(a.width=r,a.height=n),s){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,n),Or(e),a}function _0(e,s,r=0){return new Promise(function(n,a){let i,o,l,c,h,d,p,m,u,g,y,S,x,C,w,_,z,P,b,E;function j($=5){if(s.signal&&s.signal.aborted)throw s.signal.reason;i+=$,s.onProgress(Math.min(i,100))}function F($){if(s.signal&&s.signal.aborted)throw s.signal.reason;i=Math.min(Math.max($,i),100),s.onProgress(i)}return i=r,o=s.maxIteration||10,l=1024*s.maxSizeMB*1024,j(),id(e,s).then((function($){try{return[,c]=$,j(),h=i1(c,s),j(),new Promise(function(N,A){var R;if(!(R=s.exifOrientation))return a1(e).then((function(v){try{return R=v,T.call(this)}catch(k){return A(k)}}).bind(this),A);function T(){return N(R)}return T.call(this)}).then((function(N){try{return d=N,j(),Ga().then((function(A){try{return p=A?h:o1(h,d),j(),m=s.initialQuality||1,u=s.fileType||e.type,od(p,u,e.name,e.lastModified,m).then((function(R){try{{let O=function(){if(o--&&(w>l||w>x)){let L,W;return L=E?.95*b.width:b.width,W=E?.95*b.height:b.height,[z,P]=yu(L,W),P.drawImage(b,0,0,L,W),m*=u==="image/png"?.85:.95,od(z,u,e.name,e.lastModified,m).then(function(H){try{return _=H,Or(b),b=z,w=_.size,F(Math.min(99,Math.floor((C-w)/(C-l)*100))),O}catch(B){return a(B)}},a)}return[1]},D=function(){return Or(b),Or(z),Or(h),Or(p),Or(c),F(100),n(_)};var v=O,k=D;if(g=R,j(),y=g.size>l,S=g.size>e.size,!y&&!S)return F(100),n(g);var T;return x=e.size,C=g.size,w=C,b=p,E=!s.alwaysKeepResolution&&y,(T=(function(L){for(;L;){if(L.then)return void L.then(T,a);try{if(L.pop){if(L.length)return L.pop()?D.call(this):L;L=O}else L=L.call(this)}catch(W){return a(W)}}}).bind(this))(O)}}catch(O){return a(O)}}).bind(this),a)}catch(R){return a(R)}}).bind(this),a)}catch(A){return a(A)}}).bind(this),a)}catch(N){return a(N)}}).bind(this),a)})}const PT=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cm;function ET(e,s){return new Promise((r,n)=>{cm||(cm=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(PT));const a=new Worker(cm);a.addEventListener("message",function(o){if(s.signal&&s.signal.aborted)a.terminate();else if(o.data.progress===void 0){if(o.data.error)return n(new Error(o.data.error)),void a.terminate();r(o.data.file),a.terminate()}else s.onProgress(o.data.progress)}),a.addEventListener("error",n),s.signal&&s.signal.addEventListener("abort",()=>{n(s.signal.reason),a.terminate()}),a.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})})}function us(e,s){return new Promise(function(r,n){let a,i,o,l,c,h;if(a={...s},o=0,{onProgress:l}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=u=>{o=u,typeof l=="function"&&l(o)},!(e instanceof Blob||e instanceof kT))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return n(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||h)return _0(e,a).then((function(u){try{return i=u,m.call(this)}catch(g){return n(g)}}).bind(this),n);var d=(function(){try{return m.call(this)}catch(u){return n(u)}}).bind(this),p=function(u){try{return _0(e,a).then(function(g){try{return i=g,d()}catch(y){return n(y)}},n)}catch(g){return n(g)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ET(e,a).then(function(u){try{return i=u,d()}catch{return p()}},p)}catch{p()}function m(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{a.preserveExif&&e.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(i=Jj(e,i))}catch{}return r(i)}})}us.getDataUrlFromFile=t1,us.getFilefromDataUrl=Nh,us.loadImage=s1,us.drawImageInCanvas=n1,us.drawFileInCanvas=id,us.canvasToFile=od,us.getExifOrientation=a1,us.handleMaxWidthOrHeight=i1,us.followExifOrientation=o1,us.cleanupCanvasMemory=Or,us.isAutoOrientationInBrowser=Ga,us.approximateBelowMaximumCanvasSizeOfBrowser=r1,us.copyExifWithoutOrientation=Jj,us.getBrowserName=aa,us.version="2.0.2";const TT=()=>{var Ee;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[p,m]=f.useState([]),[u,g]=f.useState(!0),[y,S]=f.useState(!1),[x,C]=f.useState(!1),[w,_]=f.useState("inventory"),[z,P]=f.useState(!1),[b,E]=f.useState({key:null,direction:"asc"}),[j,F]=f.useState(""),[$,N]=f.useState("all"),[A,R]=f.useState({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),[T,v]=f.useState({}),[k,O]=f.useState(!1),[D,L]=f.useState(!1),[W,H]=f.useState(null),[B,K]=f.useState(!1),[q,V]=f.useState(new Map),[te,U]=f.useState(null);f.useEffect(()=>{ge()},[]),f.useEffect(()=>{ie()},[w]),f.useEffect(()=>{if(w==="batches")return;(async()=>{try{let oe=q;oe.size===0&&(oe=await ge());const re={};j&&(re.search=j);const I=await Ue.getCodeBatches(re);let J=[];I.data?J=I.data||[]:I.batches?J=I.batches||[]:J=Array.isArray(I)?I:[];const ue=await Fe(J,oe);o(ue)}catch(oe){console.error("Failed to load batches:",oe),o([])}})()},[j]),f.useEffect(()=>{z&&M()},[z]),f.useEffect(()=>(s("Certificate Codes"),r("Manage your certificate code inventory and purchases"),e(t.jsxs("button",{onClick:Z,className:"header-create-btn",children:[t.jsx(fp,{size:20}),"Purchase Codes"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const M=async()=>{try{const oe=((await Ue.getAuthorizationStatus()).authorizations||[]).filter(J=>J.status==="approved"),re=new Map;oe.forEach(J=>{var me,be;const ue=J.acc_id||((me=J.acc)==null?void 0:me.id);if(ue){const pe=typeof ue=="string"?parseInt(ue):ue;re.has(pe)||re.set(pe,{id:pe,name:((be=J.acc)==null?void 0:be.name)||`ACC ${pe}`})}});const I=Array.from(re.values());console.log("Approved ACCs:",I),d(I),c([])}catch(ne){console.error("Failed to load form data:",ne),d([]),c([])}},G=async ne=>{if(!ne){c([]);return}S(!0);try{const oe=typeof ne=="string"?parseInt(ne):ne,re=ic(),I="https://aeroenix.com/v1/api",J=[`${I}/training-center/accs/${oe}/courses`,`${I}/acc/${oe}/courses`,`${I}/training-center/courses?acc_id=${oe}`];let ue=[];for(const me of J)try{const pe=(await bt.get(me,{headers:{Authorization:`Bearer ${re}`,Accept:"application/json"}})).data;if(ue=pe.courses||pe.data||pe||[],ue.length>0){ue=ue.map(we=>({...we,acc_id:oe}));break}}catch{continue}if(ue.length===0)try{const me=await Ue.listClasses({acc_id:oe}),be=(me==null?void 0:me.classes)||(me==null?void 0:me.data)||[],pe=new Map;be.forEach(we=>{if(we.course){const ke=typeof we.course=="object"?we.course:{id:we.course,name:we.course},je=ke.id?typeof ke.id=="string"?parseInt(ke.id):ke.id:null,ee=je||ke.name;ee&&!pe.has(ee)&&(pe.set(ee,{...ke,id:je||ke.id,acc_id:oe}),ue.push(pe.get(ee)))}})}catch(me){console.error("Failed to load courses from classes:",me)}console.log(`Loaded courses for ACC ${oe}:`,ue),c(ue)}catch(oe){console.error("Failed to load courses:",oe),c([])}finally{S(!1)}},X=async ne=>{R({...A,acc_id:ne,course_id:"",discount_code:"",payment_amount:""}),c([]),m([]),U(null),H(null),G(ne)},fe=async(ne,oe)=>{var re,I,J,ue;if(!ne||!oe){m([]);return}C(!0);try{const me=typeof ne=="string"?parseInt(ne):ne,be=typeof oe=="string"?parseInt(oe):oe,pe=ic(),we="https://aeroenix.com/v1/api";console.log(`Loading discount codes for ACC ${me} and Course ${be}`);const ke=[`${we}/training-center/accs/${me}/courses/${be}/discount-codes`,`${we}/training-center/discount-codes?acc_id=${me}&course_id=${be}`,`${we}/acc/${me}/discount-codes?course_id=${be}`,`${we}/training-center/discount-codes?acc_id=${me}`,`${we}/acc/${me}/discount-codes`];let je=[],ee=null;for(const de of ke)try{console.log(`Trying endpoint: ${de}`);const Ce=await bt.get(de,{headers:{Authorization:`Bearer ${pe}`,Accept:"application/json"}});console.log(`Response from ${de}:`,Ce.data);const Te=Ce.data;if(je=Te.discount_codes||Te.discountCodes||Te.codes||Te.data||Te||[],Array.isArray(je)||(je=[]),console.log(`Raw codes list (${je.length} items):`,je),je.length>0&&(je=je.filter(ze=>{const Ke=!(ze.status!==void 0)||ze.status==="active"||ze.is_active===!0||ze.status!=="inactive",yt=!(ze.expires_at!==void 0&&ze.expires_at!==null)||new Date(ze.expires_at)>new Date,ct=!(ze.max_uses!==void 0&&ze.max_uses!==null)||(ze.used_count||0)<ze.max_uses,nt=Ke&&yt&&ct;return console.log(`Code ${ze.code||ze.discount_code||ze.id}: active=${Ke}, notExpired=${yt}, hasUsesLeft=${ct}, isValid=${nt}`),nt}),console.log(`Filtered codes list (${je.length} items):`,je)),je.length>0){console.log(`Successfully loaded ${je.length} discount codes from ${de}`);break}else if(je.length===0&&Array.isArray(Te.discount_codes||Te.discountCodes||Te.codes||Te.data||Te)){console.log(`No discount codes available from ${de}`);break}}catch(Ce){console.log(`Endpoint ${de} failed:`,(re=Ce.response)==null?void 0:re.status,((I=Ce.response)==null?void 0:I.data)||Ce.message),ee=Ce;continue}console.log(`Final discount codes for ACC ${me} and Course ${be}:`,je),m(je),je.length===0&&ee&&console.warn("No discount codes found. All endpoints failed or returned empty results.")}catch(me){console.error("Failed to load discount codes:",me),console.error("Error details:",(J=me.response)==null?void 0:J.status,(ue=me.response)==null?void 0:ue.data),m([])}finally{C(!1)}},Ne=async ne=>{if(R({...A,course_id:ne,discount_code:"",payment_amount:""}),A.acc_id&&ne){if(fe(A.acc_id,ne),A.payment_method==="manual_payment"&&A.quantity)try{const oe={acc_id:parseInt(A.acc_id,10),course_id:parseInt(ne,10),quantity:parseInt(A.quantity,10)},re=await Ue.createPaymentIntent(oe);re.manual_payment_info&&(U(re.manual_payment_info),R(I=>({...I,payment_amount:re.final_amount||re.total_amount||""})))}catch(oe){console.error("Failed to load manual payment info:",oe)}}else m([])},ge=async()=>{try{const ne=await Ue.listACCs(),oe=Array.isArray(ne)?ne:ne.accs||ne.data||[],re=new Map;return oe.forEach(I=>{const J=I.id||I.acc_id;J&&(re.set(J,I),re.set(String(J),I))}),V(re),console.log("Loaded ACCs map:",re.size,"ACCs"),re}catch(ne){return console.error("Failed to load ACCs:",ne),new Map}},Pe=async ne=>{var oe,re;if(!ne)return null;try{const I=ic(),J="https://aeroenix.com/v1/api",ue=[`${J}/training-center/accs/${ne}`,`${J}/admin/accs/${ne}`];for(const me of ue)try{const be=await bt.get(me,{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"}}),pe=((oe=be.data)==null?void 0:oe.acc)||((re=be.data)==null?void 0:re.data)||be.data;if(pe&&(pe.id||pe.acc_id)){const we=new Map(q),ke=pe.id||pe.acc_id;return we.set(ke,pe),we.set(String(ke),pe),V(we),pe}}catch{continue}}catch(I){console.error(`Failed to fetch ACC details for ID ${ne}:`,I)}return null},Fe=async(ne,oe)=>{var I,J;const re=[];for(const ue of ne){const me=ue.acc_id||(typeof ue.acc=="object"?(I=ue.acc)==null?void 0:I.id:null)||(ue.acc&&typeof ue.acc=="number"?ue.acc:null)||(ue.acc&&typeof ue.acc=="string"&&!isNaN(ue.acc)?parseInt(ue.acc):null);if(typeof ue.acc=="object"&&((J=ue.acc)!=null&&J.name)&&ue.acc.name!=="Unknown ACC"){re.push(ue);continue}if(me){let be=oe.get(me)||oe.get(String(me));be||(be=await Pe(me),be&&(oe=new Map(oe),oe.set(me,be),oe.set(String(me),be))),be?re.push({...ue,acc:{id:be.id||be.acc_id||me,name:be.name||be.acc_name||`ACC ${me}`,...be}}):re.push({...ue,acc:{id:me,name:`ACC ${me}`}})}else re.push(ue)}return re},ie=async()=>{try{g(!0);let ne=q;ne.size===0&&(ne=await ge());const oe={};if(w==="inventory"){const re=await Ue.getCodeInventory({});let I=[];re.data?I=re.data||[]:re.codes?I=re.codes||[]:I=Array.isArray(re)?re:[];const J=await Fe(I,ne);a(J)}else{const re=await Ue.getCodeBatches({});let I=[];re.data?I=re.data||[]:re.batches?I=re.batches||[]:I=Array.isArray(re)?re:[];const J=await Fe(I,ne);o(J)}}catch(ne){console.error("Failed to load data:",ne),w==="inventory"?a([]):o([])}finally{g(!1)}},Y=f.useMemo(()=>{let ne=[...n];if(j){const oe=j.toLowerCase();ne=ne.filter(re=>{var pe,we;const I=re.code||"",J=typeof re.acc=="object"?((pe=re.acc)==null?void 0:pe.name)||"":re.acc||"",ue=typeof re.course=="object"?((we=re.course)==null?void 0:we.name)||"":re.course||"",me=re.status||"";return[I,J,ue,me].filter(Boolean).join(" ").toLowerCase().includes(oe)})}return $!=="all"&&(ne=ne.filter(oe=>oe.status===$)),b.key&&ne.sort((oe,re)=>{var ue,me;let I,J;return typeof oe[b.key]=="object"&&oe[b.key]!==null?I=((ue=oe[b.key])==null?void 0:ue.name)||"":I=oe[b.key]||"",typeof re[b.key]=="object"&&re[b.key]!==null?J=((me=re[b.key])==null?void 0:me.name)||"":J=re[b.key]||"",typeof I=="string"&&(I=I.toLowerCase()),typeof J=="string"&&(J=J.toLowerCase()),I<J?b.direction==="asc"?-1:1:I>J?b.direction==="asc"?1:-1:0}),ne},[n,j,$,b]),Z=()=>{R({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),v({}),H(null),U(null),c([]),m([]),P(!0)},xe=async()=>{var I,J,ue,me;if(!A.acc_id){v({general:"Please select an ACC"});return}if(!A.course_id){v({general:"Please select a course"});return}if(!A.quantity||parseInt(A.quantity)<=0){v({general:"Please enter a valid quantity"});return}const ne=parseInt(A.acc_id,10),oe=parseInt(A.course_id,10),re=parseInt(A.quantity,10);if(isNaN(ne)||isNaN(oe)||isNaN(re)||re<1){v({general:"Invalid data. Please check your selections and try again."});return}L(!0),v({}),H(null),U(null);try{const be={acc_id:parseInt(ne,10),course_id:parseInt(oe,10),quantity:parseInt(re,10)};if(be.quantity<1){v({general:"Quantity must be at least 1."}),L(!1);return}A.discount_code&&A.discount_code.trim()&&(be.discount_code=A.discount_code.trim());const pe=await Ue.createPaymentIntent(be);pe.manual_payment_info&&U(pe.manual_payment_info),A.payment_method==="credit_card"&&(pe.success&&pe.client_secret&&pe.payment_intent_id?(H({...pe,commission_amount:pe.commission_amount,provider_amount:pe.provider_amount,payment_type:pe.payment_type||"standard"}),R(we=>({...we,payment_intent_id:pe.payment_intent_id})),K(!0)):v({general:"Failed to create payment intent. Invalid response from server."}))}catch(be){if(console.error("Failed to create payment intent:",be),((I=be.response)==null?void 0:I.status)===422){const pe=be.response.data;if(pe.errors){const we={};Object.keys(pe.errors).forEach(ke=>{we[ke]=Array.isArray(pe.errors[ke])?pe.errors[ke][0]:pe.errors[ke]}),v(we)}else pe.message?v({general:pe.message}):v({general:"Validation failed. Please check your input."})}else if(((J=be.response)==null?void 0:J.status)===400){const pe=be.response.data;v({general:(pe==null?void 0:pe.message)||"Payment service unavailable. Please contact support."})}else if(((ue=be.response)==null?void 0:ue.status)===500){const pe=be.response.data;v({general:(pe==null?void 0:pe.message)||"Failed to create payment intent. Please try again later."})}else if((me=be.response)!=null&&me.data){const pe=be.response.data;if(pe.errors){const we={};Object.keys(pe.errors).forEach(ke=>{we[ke]=Array.isArray(pe.errors[ke])?pe.errors[ke][0]:pe.errors[ke]}),v(we)}else pe.message?v({general:pe.message}):v({general:"Failed to create payment intent. Please try again."})}else be.message?v({general:be.message}):v({general:"Failed to create payment intent. Please try again."})}finally{L(!1)}},ye=async ne=>{ne.preventDefault(),A.payment_method==="manual_payment"?await Q():await xe()},Q=async()=>{var J,ue,me;if(!A.acc_id){v({general:"Please select an ACC"});return}if(!A.course_id){v({general:"Please select a course"});return}if(!A.quantity||parseInt(A.quantity)<=0){v({general:"Please enter a valid quantity"});return}if(!A.payment_receipt){v({payment_receipt:"Please upload payment receipt"});return}if(!A.payment_amount||parseFloat(A.payment_amount)<=0){v({payment_amount:"Please enter a valid payment amount"});return}const ne=parseInt(A.acc_id,10),oe=parseInt(A.course_id,10),re=parseInt(A.quantity,10),I=parseFloat(A.payment_amount);if(isNaN(ne)||isNaN(oe)||isNaN(re)||re<1||isNaN(I)||I<=0){v({general:"Invalid data. Please check your input."});return}O(!0),v({});try{const be={acc_id:ne,course_id:oe,quantity:re};A.discount_code&&A.discount_code.trim()&&(be.discount_code=A.discount_code.trim());const pe=await Ue.createPaymentIntent(be),we=parseFloat(pe.final_amount||pe.total_amount||0);if(Math.abs(I-we)>.01){v({payment_amount:`Payment amount must match the calculated total amount: $${we.toFixed(2)}`}),O(!1);return}const ke=new FormData;ke.append("acc_id",ne),ke.append("course_id",oe),ke.append("quantity",re),ke.append("payment_method","manual_payment"),ke.append("payment_amount",I),ke.append("payment_receipt",A.payment_receipt),A.discount_code&&A.discount_code.trim()&&ke.append("discount_code",A.discount_code.trim());const je=await Ue.purchaseCodes(ke);await ie(),P(!1),R({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),H(null),U(null),alert("Payment request submitted successfully. Waiting for approval.")}catch(be){if(console.error("Failed to submit manual payment:",be),((J=be.response)==null?void 0:J.status)===422){const pe=be.response.data;if(pe.errors){const we={};Object.keys(pe.errors).forEach(ke=>{we[ke]=Array.isArray(pe.errors[ke])?pe.errors[ke][0]:pe.errors[ke]}),v(we)}else pe.message?v({general:pe.message}):v({general:"Validation failed. Please check your input."})}else if(((ue=be.response)==null?void 0:ue.status)===400){const pe=be.response.data;v({general:(pe==null?void 0:pe.message)||"Invalid payment amount or receipt."})}else if((me=be.response)!=null&&me.data){const pe=be.response.data;if(pe.errors){const we={};Object.keys(pe.errors).forEach(ke=>{we[ke]=Array.isArray(pe.errors[ke])?pe.errors[ke][0]:pe.errors[ke]}),v(we)}else pe.message?v({general:pe.message}):v({general:"Failed to submit payment request. Please try again."})}else v({general:"Failed to submit payment request. Please try again."})}finally{O(!1)}},se=f.useMemo(()=>[{header:"ACC",accessor:"acc",sortable:!0,render:(ne,oe)=>{var re;return t.jsxs("div",{className:"batch-acc-container",children:[t.jsx(Je,{className:"batch-acc-icon"}),typeof oe.acc=="object"?((re=oe.acc)==null?void 0:re.name)||"N/A":oe.acc||"N/A"]})}},{header:"Course",accessor:"course",sortable:!0,render:(ne,oe)=>{var re;return t.jsxs("div",{className:"batch-course-container",children:[t.jsx(_s,{className:"batch-course-icon"}),typeof oe.course=="object"?((re=oe.course)==null?void 0:re.name)||"N/A":oe.course||"N/A"]})}},{header:"Quantity",accessor:"quantity",sortable:!0,render:(ne,oe)=>t.jsx("span",{className:"batch-quantity",children:oe.quantity||0})},{header:"Amount",accessor:"total_amount",sortable:!0,render:(ne,oe)=>t.jsxs("div",{className:"batch-amount-container",children:[t.jsx(Mt,{className:"batch-amount-icon"}),parseFloat(oe.total_amount||0).toFixed(2)]})},{header:"Purchase Date",accessor:"purchase_date",sortable:!0,render:(ne,oe)=>t.jsxs("div",{className:"batch-date-container",children:[t.jsx(tt,{className:"batch-date-icon"}),oe.purchase_date?new Date(oe.purchase_date).toLocaleDateString():"N/A"]})},{header:"Payment Method",accessor:"payment_method",sortable:!0,render:(ne,oe)=>t.jsx("span",{className:"batch-payment-method",children:oe.payment_method?oe.payment_method.replace("_"," "):"N/A"})}],[]),ce=f.useMemo(()=>i.map(ne=>{var J,ue;const oe=typeof ne.acc=="object"?((J=ne.acc)==null?void 0:J.name)||"":ne.acc||"",re=typeof ne.course=="object"?((ue=ne.course)==null?void 0:ue.name)||"":ne.course||"",I=[oe,re,ne.quantity||"",ne.total_amount||"",ne.purchase_date?new Date(ne.purchase_date).toLocaleDateString():"",ne.payment_method||""].filter(Boolean).join(" ").toLowerCase();return{...ne,_searchText:I}}),[i]),Ae=ne=>{const oe=new Map;return ne.forEach(re=>{var we,ke,je,ee;let I=re.acc_id||(typeof re.acc=="object"?(we=re.acc)==null?void 0:we.id:null)||(re.acc&&typeof re.acc=="number"?re.acc:null)||(re.acc&&typeof re.acc=="string"&&!isNaN(re.acc)?parseInt(re.acc):null),J="Unknown ACC";if(typeof re.acc=="object"&&((ke=re.acc)!=null&&ke.name)&&re.acc.name!=="Unknown ACC")J=re.acc.name;else if(typeof re.acc=="string"&&re.acc!=="Unknown ACC"&&re.acc)J=re.acc;else if(I){const de=q.get(I)||q.get(String(I));de?J=de.name||de.acc_name||`ACC ${I}`:J=`ACC ${I}`}const ue=typeof re.course=="object"?(je=re.course)==null?void 0:je.id:re.course,me=typeof re.course=="object"?(ee=re.course)==null?void 0:ee.name:re.course||"Unknown Course",be=`${I||"unknown"}_${ue||"unknown"}`;oe.has(be)||oe.set(be,{accId:I,accName:J,courseId:ue,courseName:me,codes:[],total:0,available:0,used:0});const pe=oe.get(be);pe.codes.push(re),pe.total++,re.status==="available"&&pe.available++,re.status==="used"&&pe.used++}),Array.from(oe.values())},ae=(ne,oe)=>`${ne||"unknown"}_${oe||"unknown"}`,_e=w==="inventory"?Y:ce;return t.jsxs("div",{children:[t.jsx("div",{className:"tabs-container",children:t.jsxs("div",{className:"tabs-wrapper",children:[t.jsxs("button",{onClick:()=>{_("inventory")},className:`tab-button ${w==="inventory"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(oc,{size:20,className:w==="inventory"?"tab-icon-active":"tab-icon-inactive"}),"Inventory (",n.length,")"]}),t.jsxs("button",{onClick:()=>{_("batches")},className:`tab-button ${w==="batches"?"tab-button-active":"tab-button-inactive"}`,children:[t.jsx(fp,{size:20,className:w==="batches"?"tab-icon-active":"tab-icon-inactive"}),"Purchase History (",i.length,")"]})]})}),w==="inventory"&&t.jsx("div",{className:"search-filter-container",children:t.jsxs("div",{className:"search-filter-wrapper",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(Wo,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by code, ACC, course, or status...",value:j,onChange:ne=>{F(ne.target.value)},className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(xa,{className:"filter-icon",size:20}),t.jsxs("select",{value:$,onChange:ne=>{N(ne.target.value)},className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"used",children:"Used"})]})]})]})}),w==="inventory"?u?t.jsx("div",{className:"loading-container",children:t.jsx("div",{className:"loading-spinner",children:t.jsx("div",{className:"loading-spinner-icon"})})}):_e.length===0?t.jsx("div",{className:"empty-state-container",children:t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(oc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No codes in inventory"}),t.jsx("p",{className:"empty-state-subtitle",children:j||$!=="all"?"Try adjusting your filters":"Purchase codes to get started!"})]})}):t.jsx("div",{className:"stats-cards-grid",children:Ae(_e).map((ne,oe)=>{const re=ae(ne.accId,ne.courseId);return t.jsx("div",{className:"stats-card",style:{"--animation-delay":`${oe*.05}s`},children:t.jsxs("div",{className:"stats-card-content",children:[t.jsxs("div",{className:"stats-card-header",children:[t.jsx("div",{className:"stats-card-icon-container",children:t.jsx(Je,{className:"stats-card-icon"})}),t.jsxs("div",{className:"stats-card-title-section",children:[t.jsx("h3",{className:"stats-card-title",children:ne.accName}),t.jsxs("div",{className:"stats-card-subtitle",children:[t.jsx(_s,{className:"stats-card-subtitle-icon"}),t.jsx("p",{className:"stats-card-subtitle-text",children:ne.courseName})]})]})]}),t.jsxs("div",{className:"stats-card-stats",children:[t.jsxs("div",{className:"stats-item stats-item-total",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx("div",{className:"stats-item-dot"}),t.jsx("span",{className:"stats-item-label-text",children:"Total Codes"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-total",children:ne.total})]}),t.jsxs("div",{className:"stats-item stats-item-available",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(k_,{className:"stats-item-icon stats-item-icon-available"}),t.jsx("span",{className:"stats-item-label-text",children:"Available"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-available",children:ne.available})]}),t.jsxs("div",{className:"stats-item stats-item-used",children:[t.jsxs("div",{className:"stats-item-label",children:[t.jsx(st,{className:"stats-item-icon stats-item-icon-used"}),t.jsx("span",{className:"stats-item-label-text",children:"Used"})]}),t.jsx("span",{className:"stats-item-value stats-item-value-used",children:ne.used})]})]})]})},re)})}):t.jsx("div",{className:"datatable-container",children:t.jsx(lt,{columns:se,data:ce,isLoading:u,emptyMessage:i.length===0&&!u?t.jsxs("div",{className:"empty-state-content",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(oc,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No purchase history found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Your purchase history will appear here"})]}):"No purchase history found matching your filters",searchable:!0,filterable:!1,searchPlaceholder:"Search by ACC, course, quantity, amount, date, or payment method...",sortable:!0})}),t.jsx(Ie,{isOpen:z,onClose:()=>{P(!1),R({acc_id:"",course_id:"",quantity:"",discount_code:"",payment_method:"credit_card",payment_intent_id:"",payment_amount:"",payment_receipt:null}),v({}),H(null),U(null),c([]),m([])},title:"Purchase Certificate Codes",size:"lg",children:t.jsxs("form",{onSubmit:ye,className:"modal-form",children:[T.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:T.general})}),t.jsx(he,{label:"ACC",name:"acc_id",type:"select",value:A.acc_id,onChange:ne=>X(ne.target.value),required:!0,disabled:h.length===0,options:h.length>0?h.map(ne=>({value:ne.id,label:ne.name||`ACC ${ne.id}`})):[{value:"",label:"No approved ACCs available. Please get approval from an ACC first."}],error:T.acc_id}),h.length===0&&t.jsx("p",{className:"form-warning-text",children:"No approved ACCs found. Please request and get approval from an ACC first."}),t.jsxs("div",{children:[t.jsx(he,{label:"Course",name:"course_id",type:"select",value:A.course_id,onChange:ne=>Ne(ne.target.value),required:!0,disabled:!A.acc_id||l.length===0||y,options:y?[{value:"",label:"Loading courses..."}]:l.length>0?l.map(ne=>{const oe=ne.id&&typeof ne.id=="string"?parseInt(ne.id):ne.id;return{value:oe,label:ne.name||ne.code||`Course ${oe}`}}):A.acc_id?[{value:"",label:"No courses available for this ACC."}]:[{value:"",label:"Please select an ACC first."}],error:T.course_id}),!A.acc_id&&t.jsx("p",{className:"form-info-text",children:"Please select an ACC first to see available courses."}),A.acc_id&&l.length===0&&!y&&t.jsx("p",{className:"form-warning-text",children:"No courses available for the selected ACC."})]}),t.jsx(he,{label:"Quantity",name:"quantity",type:"number",value:A.quantity,onChange:async ne=>{const oe=ne.target.value;if(R({...A,quantity:oe,payment_amount:""}),A.payment_method==="manual_payment"&&A.acc_id&&A.course_id&&oe)try{const re={acc_id:parseInt(A.acc_id,10),course_id:parseInt(A.course_id,10),quantity:parseInt(oe,10)};A.discount_code&&A.discount_code.trim()&&(re.discount_code=A.discount_code.trim());const I=await Ue.createPaymentIntent(re);I.manual_payment_info&&(U(I.manual_payment_info),H(I),R(J=>({...J,payment_amount:I.final_amount||I.total_amount||""})))}catch(re){console.error("Failed to load manual payment info:",re)}},required:!0,min:"1",error:T.quantity}),t.jsxs("div",{children:[p.length>0?t.jsx(he,{label:"Discount Code (Optional)",name:"discount_code",type:"select",value:A.discount_code,onChange:ne=>R({...A,discount_code:ne.target.value}),disabled:x,options:[{value:"",label:"No discount code"},...p.map(ne=>({value:ne.code||ne.discount_code||ne.id,label:`${ne.code||ne.discount_code||`Code ${ne.id}`}${ne.discount_percentage?` - ${ne.discount_percentage}% off`:""}${ne.discount_amount?` - $${ne.discount_amount} off`:""}`}))],error:T.discount_code,helpText:`${p.length} discount code${p.length>1?"s":""} available for this course`}):t.jsx(he,{label:"Discount Code (Optional)",name:"discount_code",type:"text",value:A.discount_code,onChange:ne=>R({...A,discount_code:ne.target.value}),placeholder:"Enter discount code manually",disabled:x,error:T.discount_code,helpText:x?"Loading discount codes...":A.course_id?"No discount codes available. You can enter a code manually if you have one.":"Select a course first to see available discount codes"}),p.length>0&&t.jsxs("div",{className:"discount-codes-container",children:[t.jsx("p",{className:"discount-codes-title",children:"Available Discount Codes:"}),t.jsx("div",{className:"discount-codes-list",children:p.map((ne,oe)=>t.jsxs("div",{className:"discount-code-item",children:[t.jsx("span",{className:"discount-code-value",children:ne.code||ne.discount_code}),t.jsxs("div",{className:"discount-code-details",children:[ne.discount_percentage&&t.jsxs("span",{className:"discount-code-percentage",children:[ne.discount_percentage,"% off"]}),ne.discount_amount&&t.jsxs("span",{className:"discount-code-amount",children:["$",ne.discount_amount," off"]}),ne.expires_at&&t.jsxs("span",{className:"discount-code-expiry",children:["Expires: ",new Date(ne.expires_at).toLocaleDateString()]})]})]},ne.id||oe))})]})]}),t.jsx(he,{label:"Payment Method",name:"payment_method",type:"select",value:A.payment_method,onChange:async ne=>{const oe=ne.target.value;if(R({...A,payment_method:oe,payment_intent_id:"",payment_amount:"",payment_receipt:null}),H(null),U(null),v({}),oe==="manual_payment"&&A.acc_id&&A.course_id&&A.quantity)try{const re={acc_id:parseInt(A.acc_id,10),course_id:parseInt(A.course_id,10),quantity:parseInt(A.quantity,10)};A.discount_code&&A.discount_code.trim()&&(re.discount_code=A.discount_code.trim());const I=await Ue.createPaymentIntent(re);I.manual_payment_info&&(U(I.manual_payment_info),R(J=>({...J,payment_amount:I.final_amount||I.total_amount||""})))}catch(re){console.error("Failed to load manual payment info:",re)}},options:[{value:"credit_card",label:"Credit Card"},{value:"manual_payment",label:"Manual Payment (Upload Invoice)"}],error:T.payment_method}),A.payment_method==="manual_payment"&&t.jsxs(t.Fragment,{children:[te&&t.jsxs("div",{className:"payment-info-container",style:{marginBottom:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[t.jsx("p",{className:"payment-info-title",style:{fontWeight:"600",marginBottom:"8px"},children:"Manual Payment Information"}),t.jsxs("p",{className:"payment-info-text",style:{fontSize:"14px",color:"#666",marginBottom:"4px"},children:["Final Amount: $",(W==null?void 0:W.final_amount)||(W==null?void 0:W.total_amount)||"0.00"]}),te.requires_receipt&&t.jsxs("p",{className:"payment-info-text",style:{fontSize:"12px",color:"#888"},children:["Supported formats: ",((Ee=te.receipt_formats)==null?void 0:Ee.join(", ").toUpperCase())||"PDF, JPG, PNG","(Max: ",te.max_receipt_size_mb||10," MB)"]})]}),t.jsx(he,{label:"Payment Amount",name:"payment_amount",type:"number",value:A.payment_amount,onChange:ne=>R({...A,payment_amount:ne.target.value}),required:!0,min:"0",step:"0.01",error:T.payment_amount,helpText:te!=null&&te.final_amount?`Enter the amount you paid (should match: $${te.final_amount})`:"Enter the payment amount"}),t.jsxs("div",{className:"form-input-group",children:[t.jsxs("label",{className:"form-input-label",children:["Payment Receipt ",t.jsx("span",{className:"required-asterisk",children:"*"})]}),t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:async ne=>{const oe=ne.target.files[0];if(oe){const re=(te==null?void 0:te.receipt_formats)||["pdf","jpg","jpeg","png"],I=oe.name.split(".").pop().toLowerCase();if(!re.includes(I)){v({payment_receipt:`File type not supported. Allowed: ${re.join(", ").toUpperCase()}`});return}try{let J=oe;if(["jpg","jpeg","png"].includes(I)){const me={maxSizeMB:(te==null?void 0:te.max_receipt_size_mb)||10,maxWidthOrHeight:4096,useWebWorker:!0,fileType:oe.type,initialQuality:.95};J=await us(oe,me);const be=oe.name.substring(0,oe.name.lastIndexOf("."))+"."+I;J=new File([J],be,{type:oe.type})}const ue=((te==null?void 0:te.max_receipt_size_mb)||10)*1024*1024;if(J.size>ue){v({payment_receipt:`File size must be less than ${(te==null?void 0:te.max_receipt_size_mb)||10} MB`});return}R({...A,payment_receipt:J}),v({...T,payment_receipt:null})}catch(J){console.error("Error processing file:",J),v({payment_receipt:"Failed to process file. Please try again."})}}},className:"form-input form-input-file"}),T.payment_receipt&&t.jsx("span",{className:"form-input-error",children:T.payment_receipt}),A.payment_receipt&&t.jsxs("p",{className:"form-input-help",style:{marginTop:"4px",fontSize:"12px",color:"#666"},children:["Selected: ",A.payment_receipt.name," (",(A.payment_receipt.size/1024/1024).toFixed(2)," MB)"]})]})]}),A.payment_method==="credit_card"&&t.jsxs("div",{className:"payment-info-container",children:[t.jsx("p",{className:"payment-info-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-info-text",children:'Payment will be processed securely through Stripe. The total amount will be calculated including any discounts. Click "Purchase Codes" below to enter your card details.'})]}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:()=>{P(!1),v({})},className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:D||k||!A.acc_id||!A.course_id||!A.quantity,className:"form-btn form-btn-submit",children:D||k?"Processing...":"Purchase Codes"})]})]})}),t.jsx(rd,{isOpen:B,onClose:()=>{K(!1)},clientSecret:W==null?void 0:W.client_secret,paymentIntentId:W==null?void 0:W.payment_intent_id,amount:(W==null?void 0:W.final_amount)||0,currency:(W==null?void 0:W.currency)||"USD",paymentSummary:W,onPaymentSuccess:async(ne,oe)=>{var re,I,J,ue,me,be;try{if(!ne){v({general:"Payment intent not found. Please try again."}),K(!1);return}if(ne.status!=="succeeded"){v({general:`Payment not completed. Status: ${ne.status}. Please complete the payment and try again.`}),K(!1);return}const pe=parseInt(A.acc_id,10),we=parseInt(A.course_id,10),ke=parseInt(A.quantity,10);if(isNaN(pe)||isNaN(we)||isNaN(ke)||ke<1)throw v({general:"Invalid data. Please check your selections and try again."}),new Error("Invalid data");const je=ne.id||oe;if(!je){v({general:"Payment intent ID not found. Please try again."}),K(!1);return}const ee={acc_id:pe,course_id:we,quantity:ke,payment_method:"credit_card",payment_intent_id:je};A.discount_code&&A.discount_code.trim()&&(ee.discount_code=A.discount_code.trim()),console.log(" Purchase request data:",ee),console.log(" Payment Intent:",{id:ne.id,status:ne.status,paymentIntentId:oe}),await Ue.purchaseCodes(ee),await ie(),P(!1),K(!1),H(null),alert("Codes purchased successfully!")}catch(pe){if(console.error("Failed to purchase codes:",pe),((re=pe.response)==null?void 0:re.status)===400){const we=pe.response.data;v({general:(we==null?void 0:we.message)||"Payment verification failed. Please contact support."})}else if(((I=pe.response)==null?void 0:I.status)===402){const we=pe.response.data;v({general:(we==null?void 0:we.message)||"Insufficient wallet balance. Please add funds to your wallet or use a different payment method."})}else if(((J=pe.response)==null?void 0:J.status)===403){const we=pe.response.data;v({general:(we==null?void 0:we.message)||"You do not have authorization from this ACC or the ACC is not active."})}else if(((ue=pe.response)==null?void 0:ue.status)===422){const we=pe.response.data;if(we.errors){const ke={};Object.keys(we.errors).forEach(je=>{ke[je]=Array.isArray(we.errors[je])?we.errors[je][0]:we.errors[je]}),v(ke)}else we.message?v({general:we.message}):v({general:"Validation failed. Please check your input."})}else if(((me=pe.response)==null?void 0:me.status)===500){const we=pe.response.data;console.error("Server error details:",we),v({general:(we==null?void 0:we.message)||"Server error occurred. Please contact support or try again later."})}else if((be=pe.response)!=null&&be.data){const we=pe.response.data;if(we.errors){const ke={};Object.keys(we.errors).forEach(je=>{ke[je]=Array.isArray(we.errors[je])?we.errors[je][0]:we.errors[je]}),v(ke)}else we.message?v({general:we.message}):v({general:"Payment succeeded but failed to complete purchase. Please contact support."})}else v({general:"Payment succeeded but failed to complete purchase. Please contact support."});throw pe}},onPaymentError:ne=>{v({general:ne})}})]})},zT=()=>{var W;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[h,d]=f.useState([]),[p,m]=f.useState(!0),[u,g]=f.useState(!1),[y,S]=f.useState(!1),[x,C]=f.useState(null),[w,_]=f.useState("all"),[z,P]=f.useState({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:""}),[b,E]=f.useState({}),[j,F]=f.useState(!1);f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Certificates"),r("Manage and generate training certificates"),e(t.jsxs("button",{onClick:N,className:"header-create-btn",children:[t.jsx(Us,{size:20}),"Generate Certificate"]})),()=>{e(null),s(null),r(null)}),[e,s,r]);const $=async()=>{try{m(!0);const[H,B,K]=await Promise.all([Ue.listCertificates({per_page:1e3}),Ue.listClasses(),Ue.getCodeInventory({status:"available"})]);let q=[];H.data?q=H.data||[]:H.certificates?q=H.certificates||[]:q=Array.isArray(H)?H:[],a(q),o(B.classes||[]),c(K.codes||[])}catch(H){console.error("Failed to load data:",H),a([])}finally{m(!1)}},N=()=>{P({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),E({}),g(!0)},A=()=>{g(!1),P({training_class_id:"",code_id:"",trainee_name:"",trainee_id_number:"",issue_date:new Date().toISOString().split("T")[0]}),E({}),d([])},R=H=>{var q;const{name:B,value:K}=H.target;if(B==="training_class_id"){const V=i.find(te=>te.id===parseInt(K));if(V){const te=typeof V.course=="object"?(q=V.course)==null?void 0:q.id:V.course,U=l.filter(M=>{var X;const G=typeof M.course=="object"?(X=M.course)==null?void 0:X.id:M.course;return G===te||G==te});d(U),P({...z,training_class_id:K,code_id:""})}else d([]),P({...z,training_class_id:K,code_id:""})}else P({...z,[B]:K});b[H.target.name]&&E(V=>{const te={...V};return delete te[H.target.name],te})};f.useEffect(()=>{var H;if(u&&z.training_class_id){const B=i.find(K=>K.id===parseInt(z.training_class_id));if(B){const K=typeof B.course=="object"?(H=B.course)==null?void 0:H.id:B.course,q=l.filter(V=>{var U;const te=typeof V.course=="object"?(U=V.course)==null?void 0:U.id:V.course;return te===K||te==K});d(q)}}else u&&!z.training_class_id&&d([])},[u,l,i]);const T=async H=>{var B;H.preventDefault(),F(!0),E({});try{const K={training_class_id:parseInt(z.training_class_id),code_id:parseInt(z.code_id),trainee_name:z.trainee_name.trim(),trainee_id_number:z.trainee_id_number.trim(),issue_date:z.issue_date||new Date().toISOString().split("T")[0]};await Ue.generateCertificate(K),await $(),A(),alert("Certificate generated successfully!")}catch(K){if(console.error("Failed to generate certificate:",K),(B=K.response)!=null&&B.data){const q=K.response.data;if(q.errors){const V={};Object.keys(q.errors).forEach(te=>{V[te]=Array.isArray(q.errors[te])?q.errors[te][0]:q.errors[te]}),E(V)}else q.message?E({general:q.message}):E(q)}else K.message?E({general:K.message}):E({general:"Failed to generate certificate. Please try again."})}finally{F(!1)}},v=async H=>{try{const B=await Ue.getCertificateDetails(H.id);C(B.certificate||H),S(!0)}catch(B){console.error("Failed to load certificate details:",B),C(H),S(!0)}},k=H=>{H.certificate_pdf_url?window.open(H.certificate_pdf_url,"_blank"):alert("Certificate PDF not available")},O=f.useMemo(()=>[{header:"Certificate Number",accessor:"certificate_number",sortable:!0,render:(H,B)=>t.jsxs("div",{className:"certificate-number-container",children:[t.jsx("div",{className:"certificate-number-icon-container",children:t.jsx(Ge,{className:"certificate-number-icon"})}),t.jsx("div",{children:t.jsx("div",{className:"certificate-number-text",children:B.certificate_number||"N/A"})})]})},{header:"Trainee",accessor:"trainee_name",sortable:!0,render:(H,B)=>t.jsxs("div",{className:"trainee-container",children:[t.jsx(As,{className:"trainee-icon"}),B.trainee_name||"N/A"]})},{header:"Course",accessor:"course",sortable:!0,render:(H,B)=>{var K;return t.jsxs("div",{className:"course-container",children:[t.jsx(_s,{className:"course-icon"}),typeof B.course=="object"?((K=B.course)==null?void 0:K.name)||"N/A":B.course||"N/A"]})}},{header:"Issue Date",accessor:"issue_date",sortable:!0,render:(H,B)=>t.jsxs("div",{className:"date-container",children:[t.jsx(tt,{className:"date-icon"}),B.issue_date?new Date(B.issue_date).toLocaleDateString():"N/A"]})},{header:"Status",accessor:"status",sortable:!0,render:(H,B)=>{const K=B.status==="valid",q=K?Me:st;return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${K?"valid":"expired"}`,children:[t.jsx(q,{size:14,className:"status-icon"}),B.status?B.status.charAt(0).toUpperCase()+B.status.slice(1):"N/A"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(H,B)=>t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:K=>{K.stopPropagation(),v(B)},className:"action-btn action-btn-view",title:"View Details",children:t.jsx(ts,{size:18})}),B.certificate_pdf_url?t.jsx("button",{onClick:K=>{K.stopPropagation(),k(B)},className:"action-btn action-btn-download",title:"Download PDF",children:t.jsx(qc,{size:18})}):t.jsx("button",{onClick:K=>{K.stopPropagation(),v(B)},className:"action-btn action-btn-download",title:"View Info",children:t.jsx(Ge,{size:18})})]})}],[v,k]),D=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"valid",label:"Valid",filterFn:H=>H.status==="valid"},{value:"expired",label:"Expired",filterFn:H=>H.status==="expired"}],[]),L=f.useMemo(()=>n.map(H=>{var q;const B=typeof H.course=="object"?((q=H.course)==null?void 0:q.name)||"":H.course||"",K=[H.certificate_number||"",H.trainee_name||"",B,H.verification_code||"",H.status||""].filter(Boolean).join(" ").toLowerCase();return{...H,_searchText:K}}),[n]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(lt,{columns:O,data:L,onRowClick:v,isLoading:p,emptyMessage:n.length===0&&!p?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(Ge,{className:"empty-state-icon",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No certificates found"}),t.jsx("p",{className:"empty-state-subtitle",children:"Generate your first certificate!"})]}):"No certificates found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by certificate number, trainee name, course, or verification code...",filterOptions:D,sortable:!0,defaultFilter:w})}),t.jsx(Ie,{isOpen:u,onClose:A,title:"Generate Certificate",size:"lg",children:t.jsxs("form",{onSubmit:T,className:"modal-form",children:[b.general&&t.jsx("div",{className:"form-error-general",children:t.jsx("p",{className:"form-error-general-text",children:b.general})}),t.jsx(he,{label:"Training Class",name:"training_class_id",type:"select",value:z.training_class_id,onChange:R,required:!0,options:i.length>0?i.map(H=>{var B;return{value:H.id,label:`${typeof H.course=="object"?(B=H.course)==null?void 0:B.name:H.course} - ${new Date(H.start_date).toLocaleDateString()}`}}):[{value:"",label:"No classes available"}],error:b.training_class_id}),t.jsx(he,{label:"Certificate Code",name:"code_id",type:"select",value:z.code_id,onChange:R,required:!0,disabled:!z.training_class_id||h.length===0,options:z.training_class_id?h.length>0?h.map(H=>{var B;return{value:H.id,label:`${H.code} - ${typeof H.course=="object"?(B=H.course)==null?void 0:B.name:H.course} (${H.status})`}}):[{value:"",label:"No available codes for this class"}]:[{value:"",label:"Please select a training class first"}],error:b.code_id,helpText:z.training_class_id&&h.length===0?"No available codes match the selected training class":""}),t.jsxs("div",{className:"form-grid",children:[t.jsx(he,{label:"Trainee Name",name:"trainee_name",value:z.trainee_name,onChange:R,required:!0,error:b.trainee_name}),t.jsx(he,{label:"Trainee ID Number",name:"trainee_id_number",value:z.trainee_id_number,onChange:R,required:!0,error:b.trainee_id_number})]}),t.jsx(he,{label:"Issue Date",name:"issue_date",type:"date",value:z.issue_date,onChange:R,required:!0,error:b.issue_date}),t.jsxs("div",{className:"form-actions",children:[t.jsx("button",{type:"button",onClick:A,className:"form-btn form-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"form-btn form-btn-submit",children:j?"Generating...":"Generate Certificate"})]})]})}),t.jsx(Ie,{isOpen:y,onClose:()=>{S(!1),C(null)},title:"Certificate Details",size:"lg",children:x&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Certificate Number"}),t.jsx("p",{className:"detail-modal-value",children:x.certificate_number})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Verification Code"}),t.jsx("p",{className:"detail-modal-value detail-modal-value-mono",children:x.verification_code||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Trainee Name"}),t.jsx("p",{className:"detail-modal-value",children:x.trainee_name})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Course"}),t.jsx("p",{className:"detail-modal-value",children:typeof x.course=="object"?(W=x.course)==null?void 0:W.name:x.course})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Issue Date"}),t.jsx("p",{className:"detail-modal-value",children:x.issue_date?new Date(x.issue_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Expiry Date"}),t.jsx("p",{className:"detail-modal-value",children:x.expiry_date?new Date(x.expiry_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${x.status==="valid"?"valid":"expired"}`,children:x.status})]})]}),x.certificate_pdf_url&&t.jsx("div",{className:"detail-modal-actions",children:t.jsxs("button",{onClick:()=>k(x),className:"detail-modal-action-btn",children:[t.jsx(qc,{size:20,className:"detail-modal-action-icon"}),"Download PDF"]})})]})})]})},RT=()=>{const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0});f.useEffect(()=>{c()},[]),f.useEffect(()=>(e("Payment Transactions"),s("View all your payment transactions history"),()=>{e(null),s(null)}),[e,s]);const c=async()=>{try{i(!0);const u=(await Ue.getWalletTransactions()).transactions||[];n(u)}catch(m){console.error("Failed to load data:",m),n([])}finally{i(!1)}},h=m=>{l(u=>({...u,currentPage:m}))},d=m=>{l(u=>({...u,perPage:m,currentPage:1}))};f.useEffect(()=>{const m=r.length,u=Math.ceil(m/o.perPage)||1,g=o.currentPage>u?Math.max(1,u):o.currentPage;l(y=>({...y,totalItems:m,totalPages:u,currentPage:g}))},[r.length,o.perPage]);const p=f.useMemo(()=>{const m=(o.currentPage-1)*o.perPage,u=m+o.perPage;return r.slice(m,u)},[r,o.currentPage,o.perPage]);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"table-header-gradient",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Date"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:a?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})}):p.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-4 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Ge,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your transaction history will appear here"})]})})}):p.map((m,u)=>{const g={completed:{bg:"from-green-100 to-green-200",text:"text-green-800",border:"border-green-300",icon:Me},pending:{bg:"from-yellow-100 to-yellow-200",text:"text-yellow-800",border:"border-yellow-300",icon:Ve},failed:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:st},cancelled:{bg:"from-red-100 to-red-200",text:"text-red-800",border:"border-red-300",icon:st}},y=g[m.status]||g.pending,S=y.icon,x=m.type==="deposit";return t.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-primary-50/30 hover:to-white transition-all duration-200 group table-row-animated",style:{"--animation-delay":`${u*.03}s`},children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-10 h-10 bg-gradient-to-br rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 ${x?"from-green-100 to-green-200":"from-red-100 to-red-200"}`,children:t.jsx(Mt,{className:`h-5 w-5 ${x?"text-green-600":"text-red-600"}`})}),t.jsx("div",{children:t.jsx("div",{className:`text-sm font-semibold group-hover:text-primary-700 transition-colors capitalize ${x?"text-green-700":"text-red-700"}`,children:m.type})})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`text-lg font-bold ${x?"text-green-600":"text-red-600"}`,children:[x?"+":"-","$",parseFloat(m.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("span",{className:`px-3 py-1.5 inline-flex items-center text-xs leading-5 font-bold rounded-full shadow-sm bg-gradient-to-r ${y.bg} ${y.text} border ${y.border}`,children:[t.jsx(S,{size:14,className:"mr-1"}),m.status?m.status.charAt(0).toUpperCase()+m.status.slice(1):"N/A"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[t.jsx(tt,{className:"h-4 w-4 mr-2 text-gray-400"}),m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"]})})]},m.id||u)})})]})}),!a&&o.totalItems>0&&t.jsx("div",{className:"px-4 py-4 border-t border-gray-200",children:t.jsx(bh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:h,onPerPageChange:d})})]})})},FT=()=>{const[e,s]=f.useState([]),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState("marketplace"),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState(!1);f.useEffect(()=>{S()},[o]);const S=async()=>{try{if(o==="marketplace"){const b=await Ue.browseMaterials();s(b.materials||[])}else{const b=await Ue.getLibrary();n(b.library||[])}}catch(b){console.error("Failed to load data:",b)}finally{i(!1)}},x=b=>{u(b),h(!0)},C=b=>{u(b),p(!0)},w=async()=>{y(!0);try{await Ue.purchaseFromMarketplace({purchase_type:"material",item_id:m.id,acc_id:m.acc_id,payment_method:"credit_card"}),await S(),p(!1),alert("Purchase successful!")}catch(b){alert("Failed to purchase: "+(b.message||"Unknown error"))}finally{y(!1)}},_=b=>{var E;(E=b.item)!=null&&E.file_url?window.open(b.item.file_url,"_blank"):alert("File not available")},z=[{header:"Material",accessor:"name",render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ge,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:b}),t.jsx("div",{className:"text-sm text-gray-500",children:E.material_type})]})]})},{header:"ACC",accessor:"acc",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Course",accessor:"course",render:b=>typeof b=="string"?b:(b==null?void 0:b.name)||"N/A"},{header:"Price",accessor:"price",render:b=>`$${parseFloat(b||0).toFixed(2)}`},{header:"Status",accessor:"status",render:b=>t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b})}],P=[{header:"Item",accessor:"item",render:(b,E)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(oc,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:(b==null?void 0:b.name)||"N/A"}),t.jsx("div",{className:"text-sm text-gray-500",children:E.purchase_type})]})]})},{header:"Type",accessor:"purchase_type",render:b=>b?b.charAt(0).toUpperCase()+b.slice(1):"N/A"},{header:"Purchased Date",accessor:"purchased_at",render:b=>b?new Date(b).toLocaleDateString():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Browse and purchase course materials"})]}),t.jsxs("div",{className:"mb-6 flex space-x-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{l("marketplace"),i(!0),S()},className:`px-4 py-2 font-medium ${o==="marketplace"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["Marketplace (",e.length,")"]}),t.jsxs("button",{onClick:()=>{l("library"),i(!0),S()},className:`px-4 py-2 font-medium ${o==="library"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600"}`,children:["My Library (",r.length,")"]})]}),o==="marketplace"?t.jsx(lt,{columns:z,data:e,onView:x,onRowClick:x,isLoading:a,emptyMessage:"No materials available in marketplace."}):t.jsx(lt,{columns:P,data:r,onView:b=>_(b),onRowClick:b=>_(b),isLoading:a,emptyMessage:"No purchased items in library."}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Material Details",size:"lg",children:m&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.material_type})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ACC"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.acc})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["$",parseFloat(m.price||0).toFixed(2)]})]})]}),m.description&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Description"}),t.jsx("p",{className:"text-base text-gray-900",children:m.description})]}),m.preview_url&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:t.jsxs("a",{href:m.preview_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[t.jsx(ts,{size:16,className:"mr-2"}),"View Preview"]})}),t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>{h(!1),C(m)},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(fp,{size:20,className:"mr-2"}),"Purchase"]})})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null)},title:"Confirm Purchase",size:"md",children:m&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to purchase ",t.jsx("strong",{children:m.name}),"?"]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Price"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(m.price||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{onClick:()=>{p(!1),u(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:w,disabled:g,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Processing...":"Confirm Purchase"})]})]})})]})},DT=()=>{var L,W,H,B,K,q,V,te;const{setHeaderActions:e,setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[h,d]=f.useState(!1),[p,m]=f.useState(null),[u,g]=f.useState({payment_method:"credit_card",payment_intent_id:""}),[y,S]=f.useState({}),[x,C]=f.useState(!1),[w,_]=f.useState(null),[z,P]=f.useState(!1),[b,E]=f.useState(!1),[j,F]=f.useState("all");f.useEffect(()=>{$()},[]),f.useEffect(()=>(s("Instructor Authorizations"),r("View and pay for instructor authorization requests"),e(t.jsxs("button",{onClick:$,disabled:i,className:"header-refresh-btn",title:"Refresh data",children:[t.jsx(kv,{size:18,className:i?"animate-spin":""}),"Refresh"]})),()=>{e(null),s(null),r(null)}),[e,s,r,i]),f.useEffect(()=>{n.length>0?console.log("Authorizations loaded:",n):i||console.log("No authorizations found. Make sure you have requested authorization for instructors.")},[n,i]);const $=async()=>{var U,M,G,X;try{o(!0);const fe={per_page:1e3};try{const Ne=await Ue.getInstructorAuthorizations(fe);console.log("Instructor Authorizations API Response:",Ne);let ge=[],Pe=0,Fe=1;Ne!=null&&Ne.authorizations?ge=Ne.authorizations:(U=Ne==null?void 0:Ne.data)!=null&&U.authorizations?ge=Ne.data.authorizations:Array.isArray(Ne==null?void 0:Ne.data)?ge=Ne.data:Array.isArray(Ne)&&(ge=Ne),console.log("Processed authorizations:",ge),a(ge);return}catch(Ne){if(((M=Ne.response)==null?void 0:M.status)===404){console.warn("Main endpoint not found, trying alternative endpoint...");try{const ge=await Ue.getAuthorizationStatus(fe);console.log("Alternative API Response:",ge);const Fe=((ge==null?void 0:ge.authorizations)||(ge==null?void 0:ge.data)||[]).filter(ie=>ie.instructor_id||ie.instructor||ie.type==="instructor");if(Fe.length>0){a(Fe);return}}catch(ge){console.warn("Alternative endpoint also failed:",ge)}}throw Ne}}catch(fe){console.error("Failed to load authorizations:",fe),console.error("Error details:",{status:(G=fe.response)==null?void 0:G.status,data:(X=fe.response)==null?void 0:X.data,message:fe.message}),a([])}finally{o(!1)}},N=U=>{if(U.status!=="approved"||U.group_admin_status!=="commission_set"){alert("This authorization is not ready for payment. Please wait for Group Admin approval.");return}if(U.payment_status==="paid"){alert("This authorization has already been paid.");return}m(U),g({payment_method:"credit_card",payment_intent_id:""}),S({}),_(null),c(!0)},A=async(U,M)=>{var G,X,fe;if(!p){S({general:"No authorization selected"});return}try{const Ne={payment_method:"credit_card",payment_intent_id:M||U.id};if(U&&U.status!=="succeeded"){S({general:`Payment not completed. Status: ${U.status}`});return}await Ue.payInstructorAuthorization(p.id,Ne),await $(),c(!1),E(!1),m(null),_(null),alert("Payment successful. Instructor is now officially authorized.")}catch(Ne){if(console.error("Failed to complete authorization payment:",Ne),((G=Ne.response)==null?void 0:G.status)===400){const ge=Ne.response.data;S({general:(ge==null?void 0:ge.message)||"Payment verification failed. Please contact support."})}else if(((X=Ne.response)==null?void 0:X.status)===422){const ge=Ne.response.data;if(ge.errors){const Pe={};Object.keys(ge.errors).forEach(Fe=>{Pe[Fe]=Array.isArray(ge.errors[Fe])?ge.errors[Fe][0]:ge.errors[Fe]}),S(Pe)}else S({general:(ge==null?void 0:ge.message)||"Validation failed. Please check your input."})}else if((fe=Ne.response)!=null&&fe.data){const ge=Ne.response.data;ge.message?S({general:ge.message}):S({general:"Payment succeeded but failed to complete authorization. Please contact support."})}else S({general:"Payment succeeded but failed to complete authorization. Please contact support."});throw Ne}},R=async()=>{var M,G,X,fe;if(!p){S({general:"No authorization selected"});return}const U=parseFloat(p.authorization_price||0);if(isNaN(U)||U<=0){S({general:"Invalid authorization price. Please contact support."});return}P(!0),S({}),_(null);try{const Ne=await Ue.createInstructorAuthorizationPaymentIntent(p.id,{authorization_price:U});Ne.success&&Ne.client_secret&&Ne.payment_intent_id?(_({...Ne,commission_amount:Ne.commission_amount,provider_amount:Ne.provider_amount,payment_type:Ne.payment_type||"standard"}),g(ge=>({...ge,payment_intent_id:Ne.payment_intent_id})),E(!0)):S({general:"Failed to create payment intent. Invalid response from server."})}catch(Ne){if(console.error("Failed to create payment intent:",Ne),((M=Ne.response)==null?void 0:M.status)===422){const ge=Ne.response.data;if(ge.errors){const Pe={};Object.keys(ge.errors).forEach(Fe=>{Pe[Fe]=Array.isArray(ge.errors[Fe])?ge.errors[Fe][0]:ge.errors[Fe]}),S(Pe)}else ge.message?S({general:ge.message}):S({general:"Validation failed. Please check your input."})}else if(((G=Ne.response)==null?void 0:G.status)===400){const ge=Ne.response.data;S({general:(ge==null?void 0:ge.message)||"Payment service unavailable. Please contact support."})}else if(((X=Ne.response)==null?void 0:X.status)===500){const ge=Ne.response.data;S({general:(ge==null?void 0:ge.message)||"Failed to create payment intent. Please try again later."})}else if((fe=Ne.response)!=null&&fe.data){const ge=Ne.response.data;if(ge.errors){const Pe={};Object.keys(ge.errors).forEach(Fe=>{Pe[Fe]=Array.isArray(ge.errors[Fe])?ge.errors[Fe][0]:ge.errors[Fe]}),S(Pe)}else ge.message?S({general:ge.message}):S({general:"Failed to create payment intent. Please try again."})}else Ne.message?S({general:Ne.message}):S({general:"Failed to create payment intent. Please try again."})}finally{P(!1)}},T=async U=>{U.preventDefault(),p&&await R()},v=U=>{m(U),d(!0)},k=f.useMemo(()=>[{header:"Instructor",accessor:"instructor",sortable:!0,render:(U,M)=>{var G,X,fe;return t.jsxs("div",{className:"instructor-container",children:[t.jsx("div",{className:"instructor-icon-container",children:t.jsx(_t,{className:"h-5 w-5 text-primary-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"instructor-name",children:[(G=M.instructor)==null?void 0:G.first_name," ",(X=M.instructor)==null?void 0:X.last_name]}),((fe=M.instructor)==null?void 0:fe.email)&&t.jsx("div",{className:"instructor-email",children:M.instructor.email})]})]})}},{header:"ACC",accessor:"acc",sortable:!0,render:(U,M)=>{var G;return t.jsxs("div",{className:"acc-container",children:[t.jsx(Je,{className:"acc-icon"}),((G=M.acc)==null?void 0:G.name)||"N/A"]})}},{header:"Authorization Price",accessor:"authorization_price",sortable:!0,render:(U,M)=>t.jsxs("div",{className:"price-container",children:[t.jsx(Mt,{className:"price-icon"}),parseFloat(M.authorization_price||0).toFixed(2)]})},{header:"Status",accessor:"status",sortable:!0,render:(U,M)=>{const G=M.status==="approved"?"approved":M.status==="rejected"?"rejected":M.status==="returned"?"returned":"pending";return t.jsx("div",{className:"status-container",children:t.jsxs("span",{className:`status-badge ${G}`,children:[M.status==="pending"&&t.jsx(Ve,{size:12,className:"status-icon"}),M.status==="approved"&&t.jsx(Me,{size:12,className:"status-icon"}),M.status?M.status.charAt(0).toUpperCase()+M.status.slice(1):"N/A"]})})}},{header:"Payment Status",accessor:"payment_status",sortable:!0,render:(U,M)=>{const G=M.payment_status==="paid"?"paid":M.payment_status==="failed"?"failed":"pending";return t.jsx("div",{className:"payment-status-container",children:t.jsxs("span",{className:`payment-status-badge ${G}`,children:[M.payment_status==="pending"&&t.jsx(Ve,{size:12,className:"payment-status-icon"}),M.payment_status==="paid"&&t.jsx(Me,{size:12,className:"payment-status-icon"}),M.payment_status==="failed"&&t.jsx(cr,{size:12,className:"payment-status-icon"}),M.payment_status?M.payment_status.charAt(0).toUpperCase()+M.payment_status.slice(1):"Pending"]})})}},{header:"Actions",accessor:"actions",sortable:!1,render:(U,M)=>{const G=M.status==="approved"&&M.group_admin_status==="commission_set"&&M.payment_status==="pending";return t.jsxs("div",{className:"actions-container",children:[t.jsx("button",{onClick:X=>{X.stopPropagation(),v(M)},className:"action-btn-view",title:"View Details",children:t.jsx(ts,{size:16})}),G&&t.jsx("button",{onClick:X=>{X.stopPropagation(),N(M)},className:"action-btn-pay",title:"Pay Authorization",children:t.jsx(wr,{size:16})})]})}}],[N,v]),O=f.useMemo(()=>[{value:"all",label:"All Status",filterFn:()=>!0},{value:"pending",label:"Pending",filterFn:U=>U.status==="pending"},{value:"approved",label:"Approved",filterFn:U=>U.status==="approved"},{value:"rejected",label:"Rejected",filterFn:U=>U.status==="rejected"},{value:"returned",label:"Returned",filterFn:U=>U.status==="returned"}],[]),D=f.useMemo(()=>n.map(U=>{var Pe,Fe,ie,Y,Z,xe,ye;const M=`${((Pe=U.instructor)==null?void 0:Pe.first_name)||""} ${((Fe=U.instructor)==null?void 0:Fe.last_name)||""}`.trim(),G=((ie=U.instructor)==null?void 0:ie.email)||"",X=((Y=U.acc)==null?void 0:Y.name)||"",fe=((Z=U.training_center)==null?void 0:Z.name)||"",Ne=U.courses&&Array.isArray(U.courses)?U.courses.map(Q=>typeof Q=="object"?(Q==null?void 0:Q.name)||(Q==null?void 0:Q.course_name)||"":Q||"").join(" "):U.course?typeof U.course=="object"?((xe=U.course)==null?void 0:xe.name)||((ye=U.course)==null?void 0:ye.course_name)||"":U.course||"":"",ge=[M,G,X,fe,Ne,U.authorization_price||"",U.status||"",U.payment_status||""].filter(Boolean).join(" ").toLowerCase();return{...U,_searchText:ge}}),[n]);return t.jsxs("div",{children:[t.jsx("div",{className:"datatable-container",children:t.jsx(lt,{columns:k,data:D,onRowClick:v,isLoading:i,emptyMessage:n.length===0&&!i?t.jsxs("div",{className:"empty-state-container",children:[t.jsx("div",{className:"empty-state-icon-container",children:t.jsx(_t,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-title",children:"No authorization requests found"}),t.jsx("p",{className:"empty-state-subtitle",children:"To see authorizations here, you need to request authorization for an instructor first"}),t.jsxs("div",{className:"empty-state-help",children:[t.jsx("p",{className:"empty-state-help-title",children:" How to get started:"}),t.jsxs("ol",{className:"empty-state-help-list",children:[t.jsxs("li",{children:["Go to ",t.jsx("strong",{children:"Instructors"})," page and create/add an instructor"]}),t.jsxs("li",{children:["Click ",t.jsx("strong",{children:"Request Authorization"})," button for that instructor"]}),t.jsx("li",{children:"Select an ACC and courses for authorization"}),t.jsx("li",{children:"Wait for ACC Admin to approve and set authorization price"}),t.jsx("li",{children:"Wait for Group Admin approval"}),t.jsx("li",{children:"Then come back here to complete payment!"})]}),t.jsx("div",{className:"empty-state-help-note",children:t.jsxs("p",{className:"empty-state-help-note-text",children:[t.jsx("strong",{children:"Note:"})," Authorizations will only appear here after you've submitted a request and it's been approved by ACC Admin."]})})]})]}):"No authorizations found matching your filters",searchable:!0,filterable:!0,searchPlaceholder:"Search by instructor name, ACC, course, or training center...",filterOptions:O,sortable:!0,defaultFilter:j})}),t.jsx(Ie,{isOpen:l,onClose:()=>{c(!1),m(null),S({})},title:"Pay Instructor Authorization",size:"md",children:t.jsxs("form",{onSubmit:T,className:"payment-modal-form",children:[y.general&&t.jsx("div",{className:"payment-error",children:t.jsx("p",{className:"payment-error-text",children:y.general})}),p&&t.jsxs("div",{className:"payment-info-container",children:[t.jsxs("p",{className:"payment-info-text",children:["Instructor: ",t.jsxs("span",{className:"payment-info-value",children:[(L=p.instructor)==null?void 0:L.first_name," ",(W=p.instructor)==null?void 0:W.last_name]})]}),t.jsxs("p",{className:"payment-info-text",children:["ACC: ",t.jsx("span",{className:"payment-info-value",children:(H=p.acc)==null?void 0:H.name})]}),t.jsxs("p",{className:"payment-info-text",children:["Authorization Price: ",t.jsxs("span",{className:"payment-info-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]})]}),t.jsxs("div",{className:"payment-method-info",children:[t.jsx("p",{className:"payment-method-title",children:"Payment Method: Credit Card"}),t.jsx("p",{className:"payment-method-text",children:'Payment will be processed securely through Stripe. Click "Pay Now" below to enter your card details.'}),t.jsxs("p",{className:"payment-method-price",children:[t.jsx("strong",{children:"Authorization Price:"})," $",parseFloat((p==null?void 0:p.authorization_price)||0).toFixed(2)]})]}),t.jsxs("div",{className:"payment-modal-actions",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),m(null),S({})},className:"payment-modal-btn payment-modal-btn-cancel",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:z||x||!p,className:"payment-modal-btn payment-modal-btn-submit",children:z||x?"Processing...":"Pay Now"})]})]})}),t.jsx(Ie,{isOpen:h,onClose:()=>{d(!1),m(null)},title:"Authorization Details",size:"lg",children:p&&t.jsxs("div",{className:"detail-modal-container",children:[t.jsxs("div",{className:"detail-modal-grid",children:[t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Instructor"}),t.jsxs("p",{className:"detail-modal-value",children:[(B=p.instructor)==null?void 0:B.first_name," ",(K=p.instructor)==null?void 0:K.last_name]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"ACC"}),t.jsx("p",{className:"detail-modal-value",children:((q=p.acc)==null?void 0:q.name)||"N/A"})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Courses"}),t.jsx("div",{className:"detail-modal-courses-list",children:p.courses&&Array.isArray(p.courses)&&p.courses.length>0?p.courses.map((U,M)=>t.jsx("p",{className:"detail-modal-value",children:typeof U=="object"?(U==null?void 0:U.name)||(U==null?void 0:U.course_name)||"N/A":U||"N/A"},M)):p.course?t.jsx("p",{className:"detail-modal-value",children:typeof p.course=="object"?((V=p.course)==null?void 0:V.name)||((te=p.course)==null?void 0:te.course_name)||"N/A":p.course||"N/A"}):t.jsx("p",{className:"detail-modal-value",children:"N/A"})})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Authorization Price"}),t.jsxs("p",{className:"detail-modal-value",children:["$",parseFloat(p.authorization_price||0).toFixed(2)]})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Status"}),t.jsx("span",{className:`detail-modal-badge ${p.status==="approved"?"approved":p.status==="rejected"?"rejected":p.status==="returned"?"returned":"pending"}`,children:p.status})]}),t.jsxs("div",{className:"detail-modal-item",children:[t.jsx("p",{className:"detail-modal-label",children:"Payment Status"}),t.jsx("span",{className:`detail-modal-badge ${p.payment_status==="paid"?"paid":p.payment_status==="failed"?"failed":"pending"}`,children:p.payment_status||"pending"})]})]}),p.group_admin_status&&t.jsxs("div",{className:"detail-modal-group-admin",children:[t.jsx("p",{className:"detail-modal-group-admin-title",children:"Group Admin Status"}),t.jsxs("p",{className:"detail-modal-group-admin-text",children:[p.group_admin_status==="pending"&&"Waiting for Group Admin approval",p.group_admin_status==="commission_set"&&"Ready for payment",p.group_admin_status==="completed"&&"Authorization completed"]})]}),p.status==="approved"&&p.group_admin_status==="commission_set"&&p.payment_status==="pending"&&t.jsx("div",{className:"detail-modal-pay-section",children:t.jsxs("button",{onClick:()=>{d(!1),N(p)},className:"detail-modal-pay-btn",children:[t.jsx(wr,{size:20,className:"detail-modal-pay-icon"}),"Pay Authorization"]})})]})}),t.jsx(rd,{isOpen:b,onClose:()=>{E(!1)},clientSecret:w==null?void 0:w.client_secret,paymentIntentId:w==null?void 0:w.payment_intent_id,amount:(w==null?void 0:w.amount)||(p==null?void 0:p.authorization_price)||0,currency:(w==null?void 0:w.currency)||"USD",paymentSummary:w,onPaymentSuccess:A,onPaymentError:U=>{S({general:U})}})]})},$T=()=>{var T,v,k,O;const{setHeaderTitle:e,setHeaderSubtitle:s}=ot(),[r,n]=f.useState([]),[a,i]=f.useState(null),[o,l]=f.useState(!0),[c,h]=f.useState(!1),[d,p]=f.useState(null),[m,u]=f.useState(""),[g,y]=f.useState("all"),[S,x]=f.useState("all");f.useEffect(()=>(e("Payment Transactions"),s("View all payment transactions"),()=>{e(null),s(null)}),[e,s]),f.useEffect(()=>{C()},[]);const C=async()=>{var D,L;l(!0);try{const W=await Ue.getPaymentTransactions({}),H=(W==null?void 0:W.data)||W||[],B=(W==null?void 0:W.summary)||null;n(Array.isArray(H)?H:(H==null?void 0:H.data)||[]),i(B)}catch(W){console.error("Failed to load transactions:",W),(L=(D=W==null?void 0:W.response)==null?void 0:D.data)!=null&&L.message||W!=null&&W.message,console.error("Error details:",W),n([]),i(null)}finally{l(!1)}},w=D=>{p(D),h(!0)},_=f.useMemo(()=>r.map(D=>{var U,M;const L=D.transaction_type||"",W=String(D.amount||""),H=D.currency||"",B=D.status||"",K=D.description||"",q=((U=D.payer)==null?void 0:U.name)||"",V=((M=D.payee)==null?void 0:M.name)||"",te=[L,W,H,B,K,q,V].filter(Boolean).join(" ").toLowerCase();return{...D,_searchText:te}}),[r]),z=f.useMemo(()=>{let D=[..._];if(g!=="all"&&(D=D.filter(L=>L.transaction_type===g)),S!=="all"&&(D=D.filter(L=>L.status===S)),m){const L=m.toLowerCase();D=D.filter(W=>W._searchText?W._searchText.includes(L):!0)}return D},[_,g,S,m]),P=f.useMemo(()=>[{header:"Type",accessor:"transaction_type",sortable:!0,render:(D,L)=>{const W=$(L);return t.jsxs("div",{className:"type-column",children:[t.jsx("div",{className:`type-icon-container ${W?"received":"sent"}`,children:W?t.jsx(pp,{className:"type-icon received",size:20}):t.jsx(Bc,{className:"type-icon sent",size:20})}),t.jsx("div",{children:t.jsx("div",{className:"type-label",children:F(L.transaction_type)})})]})}},{header:"Payer",accessor:"payer",sortable:!0,render:(D,L)=>L.payer?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payer",children:L.payer.type==="acc"||L.payer.type==="training_center"?t.jsx(Je,{className:"payer-payee-icon payer",size:16}):t.jsx(As,{className:"payer-payee-icon payer",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:L.payer.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:L.payer.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Payee",accessor:"payee",sortable:!0,render:(D,L)=>L.payee?t.jsxs("div",{className:"payer-payee-column",children:[t.jsx("div",{className:"payer-payee-avatar payee",children:L.payee.type==="acc"||L.payee.type==="training_center"?t.jsx(Je,{className:"payer-payee-icon payee",size:16}):t.jsx(As,{className:"payer-payee-icon payee",size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"payer-payee-name",children:L.payee.name||"N/A"}),t.jsx("div",{className:"payer-payee-type",children:L.payee.type||""})]})]}):t.jsx("span",{className:"payer-payee-na",children:"N/A"})},{header:"Amount",accessor:"amount",sortable:!0,render:(D,L)=>t.jsxs("div",{className:`amount-column ${$(L)?"received":"sent"}`,children:[$(L)?"+":"-"," ",b(L.amount,L.currency)]})},{header:"Status",accessor:"status",sortable:!0,render:(D,L)=>{var B,K;const W=L.status||"",H=W==="completed"?"completed":W==="pending"?"pending":W==="failed"?"failed":"refunded";return t.jsx("span",{className:`status-badge ${H}`,children:((B=L.status)==null?void 0:B.charAt(0).toUpperCase())+((K=L.status)==null?void 0:K.slice(1))||"N/A"})}},{header:"Date",accessor:"created_at",sortable:!0,render:(D,L)=>t.jsxs("div",{className:"date-column",children:[t.jsx(tt,{className:"date-icon",size:16}),E(L.created_at)]})}],[]),b=(D,L="USD")=>`${parseFloat(D||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} ${L}`,E=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",j=D=>D?new Date(D).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",F=D=>(D==null?void 0:D.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" "))||"N/A",$=D=>D.payee&&D.payee.type==="training_center",N=["transaction_type","status","amount","currency","payment_method","description","created_at","completed_at","payment_gateway_transaction_id","payer","payee","reference"],A=D=>!D||typeof D!="object"?!1:["name","email","type","id"].some(W=>D.hasOwnProperty(W)),R=(D,L="")=>{if(!D||typeof D!="object")return t.jsx("span",{className:"info-section-value",children:"N/A"});if(Array.isArray(D))return t.jsx("div",{className:"reference-details-list",children:D.map((H,B)=>t.jsx("div",{className:"reference-details-item",children:R(H,`${L}[${B}]`)},B))});const W=Object.entries(D).filter(([H])=>{if(N.includes(H))return!1;const B=D[H];return!(typeof B=="object"&&B!==null&&!Array.isArray(B)&&A(B)&&Object.keys(B).every(K=>["name","email","type","id"].includes(K)))});return W.length===0?t.jsx("span",{className:"info-section-value",children:"No additional details"}):t.jsx("div",{className:"reference-details-grid",children:W.map(([H,B])=>{const K=H.split("_").map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ");let q=B;if(B==null)q="N/A";else if(typeof B=="boolean")q=B?"Yes":"No";else{if(typeof B=="object")return Array.isArray(B)?t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[K,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:R(B,H)})]},H):A(B)&&Object.keys(B).every(V=>["name","email","type","id"].includes(V))?null:t.jsxs("div",{className:"reference-details-nested",children:[t.jsxs("span",{className:"reference-details-nested-key",children:[K,":"]}),t.jsx("div",{className:"reference-details-nested-value",children:R(B,H)})]},H);typeof B=="string"&&B.match(/^\d{4}-\d{2}-\d{2}/)&&(q=j(B))}return t.jsxs("div",{className:"reference-details-row",children:[t.jsxs("span",{className:"reference-details-label",children:[K,":"]}),t.jsx("span",{className:"reference-details-value",children:String(q)})]},H)}).filter(Boolean)})};return t.jsxs("div",{className:"payment-transactions-container",children:[a&&t.jsxs("div",{className:"summary-cards-grid",children:[t.jsx(qe,{name:"Total Transactions",value:a.total_transactions||0,icon:Vr,colorType:"indigo"}),t.jsx(qe,{name:"Total Spent",value:b(a.total_spent||0),icon:Bc,colorType:"red"})]}),t.jsx("div",{className:"search-filters-section",children:t.jsxs("div",{className:"search-filters-container",children:[t.jsxs("div",{className:"search-input-container",children:[t.jsx(Wo,{className:"search-icon",size:20}),t.jsx("input",{type:"text",placeholder:"Search by type, amount, status, payer, payee...",value:m,onChange:D=>u(D.target.value),className:"search-input"})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(xa,{className:"filter-icon",size:20}),t.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"code_purchase",children:"Code Purchase"}),t.jsx("option",{value:"course_purchase",children:"Course Purchase"}),t.jsx("option",{value:"instructor_authorization",children:"Instructor Authorization"})]})]}),t.jsxs("div",{className:"filter-container",children:[t.jsx(xa,{className:"filter-icon",size:20}),t.jsxs("select",{value:S,onChange:D=>x(D.target.value),className:"filter-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})]})}),t.jsx("div",{className:"datatable-container",children:t.jsx(lt,{columns:P,data:z,onView:w,onRowClick:w,isLoading:o,emptyMessage:r.length===0&&!o?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:t.jsx(Vr,{className:"text-gray-400",size:32})}),t.jsx("p",{className:"empty-state-text",children:"No transactions found"}),t.jsx("p",{className:"empty-state-subtext",children:"No transactions available"})]}):"No transactions found matching your filters",searchable:!1,filterable:!1,sortable:!0})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),p(null)},title:"Transaction Details",size:"lg",children:d&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Transaction Type"}),t.jsx("p",{className:"modal-value",children:F(d.transaction_type)})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Status"}),t.jsx("span",{className:`status-badge ${d.status==="completed"?"completed":d.status==="pending"?"pending":d.status==="failed"?"failed":"refunded"}`,children:((T=d.status)==null?void 0:T.charAt(0).toUpperCase())+((v=d.status)==null?void 0:v.slice(1))||"N/A"})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Amount"}),t.jsxs("p",{className:`modal-amount ${$(d)?"received":"sent"}`,children:[$(d)?"+":"-"," ",b(d.amount,d.currency)]})]}),t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Payment Method"}),t.jsx("p",{className:"modal-value capitalize",children:((k=d.payment_method)==null?void 0:k.replace("_"," "))||"N/A"})]})]}),d.payer&&t.jsxs("div",{className:"payer-info-section",children:[t.jsx("p",{className:"info-section-title payer",children:"Payer Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Je,{className:"info-section-icon payer",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payer.name})]}),d.payer.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payer.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payer.type})]})]})]}),d.payee&&t.jsxs("div",{className:"payee-info-section",children:[t.jsx("p",{className:"info-section-title payee",children:"Payee Information"}),t.jsxs("div",{className:"info-section-content",children:[t.jsxs("div",{className:"info-section-row",children:[t.jsx(Je,{className:"info-section-icon payee",size:16}),t.jsx("span",{className:"info-section-label",children:"Name:"}),t.jsx("span",{className:"info-section-value",children:d.payee.name})]}),d.payee.email&&t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Email:"}),t.jsx("span",{className:"info-section-value",children:d.payee.email})]}),t.jsxs("div",{className:"info-section-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",children:d.payee.type})]})]})]}),d.description&&t.jsxs("div",{className:"description-section",children:[t.jsx("p",{className:"modal-label",children:"Description"}),t.jsx("p",{className:"description-text",children:d.description})]}),d.reference&&t.jsxs("div",{className:"reference-section",children:[t.jsx("p",{className:"reference-title",children:"Reference Information"}),t.jsxs("div",{className:"reference-content",children:[t.jsxs("div",{className:"reference-type-row",children:[t.jsx("span",{className:"info-section-label",children:"Type:"}),t.jsx("span",{className:"info-section-value",style:{marginLeft:"0.5rem"},children:((O=d.reference.type)==null?void 0:O.split("_").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" "))||"N/A"})]}),d.reference.details&&t.jsxs("div",{className:"reference-details-box",children:[t.jsx("p",{className:"reference-details-title",children:"Details:"}),R(d.reference.details)]})]})]}),t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Created At"}),t.jsx("p",{className:"modal-value",children:j(d.created_at)})]}),d.completed_at&&t.jsxs("div",{className:"modal-info-box",children:[t.jsx("p",{className:"modal-label",children:"Completed At"}),t.jsx("p",{className:"modal-value",children:j(d.completed_at)})]})]}),d.payment_gateway_transaction_id&&t.jsxs("div",{className:"payment-gateway-section",children:[t.jsx("p",{className:"modal-label",children:"Payment Gateway Transaction ID"}),t.jsx("p",{className:"modal-value modal-mono",children:d.payment_gateway_transaction_id})]})]})})]})},MT=()=>{var A,R,T;const[e]=_d(),s=e.get("status"),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState({currentPage:1,perPage:10,totalPages:1,totalItems:0}),[c,h]=f.useState(!1),[d,p]=f.useState(!1),[m,u]=f.useState(null),[g,y]=f.useState({completion_rate_percentage:"",notes:""}),S=()=>s?s==="scheduled"?"scheduled":s==="completed"?"completed":"all":"all",[x,C]=f.useState(()=>S());f.useEffect(()=>{w()},[o.currentPage,o.perPage]),f.useEffect(()=>{const v=S();C(v)},[s]);const w=async()=>{i(!0);try{const v={page:o.currentPage,per_page:o.perPage},k=await Cs.listClasses(v);let O=[];k.data?(O=k.data||[],l(D=>({...D,totalPages:k.last_page||k.total_pages||1,totalItems:k.total||0}))):k.classes?(O=k.classes||[],l(D=>{var L;return{...D,totalPages:1,totalItems:((L=k.classes)==null?void 0:L.length)||0}})):(O=Array.isArray(k)?k:[],l(D=>({...D,totalPages:1,totalItems:O.length}))),n(O)}catch(v){console.error("Failed to load classes:",v),n([])}finally{i(!1)}},_=v=>{l(k=>({...k,currentPage:v}))},z=v=>{l(k=>({...k,perPage:v,currentPage:1}))},P=async v=>{try{const k=await Cs.getClassDetails(v.id);u(k.class),h(!0)}catch(k){console.error("Failed to load class details:",k),u(v),h(!0)}},b=v=>{u(v),y({completion_rate_percentage:"",notes:""}),p(!0)},E=async()=>{if(!g.completion_rate_percentage){alert("Please enter completion rate percentage");return}try{await Cs.markClassComplete(m.id,g),await w(),p(!1),u(null),y({completion_rate_percentage:"",notes:""}),l(v=>({...v,currentPage:1})),alert("Class marked as complete!")}catch(v){alert("Failed to mark complete: "+(v.message||"Unknown error"))}},j=v=>v==="completed"?"status-completed":v==="scheduled"?"status-scheduled":"status-default",F=v=>v==="completed"?"modal-status-completed":v==="scheduled"?"modal-status-scheduled":"modal-status-default",$=[{header:"Course",accessor:"course",render:(v,k)=>{var D;const O=typeof v=="string"?v:(v==null?void 0:v.name)||((D=k.course)==null?void 0:D.name)||"N/A";return t.jsxs("div",{className:"course-cell",children:[t.jsx(ps,{className:"course-icon"}),t.jsx("span",{className:"course-name",children:O})]})}},{header:"Training Center",accessor:"training_center",render:v=>typeof v=="string"?v:(v==null?void 0:v.name)||"N/A"},{header:"Start Date",accessor:"start_date",render:v=>v?new Date(v).toLocaleDateString():"N/A"},{header:"End Date",accessor:"end_date",render:v=>v?new Date(v).toLocaleDateString():"N/A"},{header:"Exam Date",accessor:"exam_date",render:v=>v?new Date(v).toLocaleDateString():"Not set"},{header:"Exam Score",accessor:"exam_score",render:v=>v!=null?`${parseFloat(v).toFixed(2)}%`:"N/A"},{header:"Status",accessor:"status",render:v=>t.jsx("span",{className:`status-badge ${j(v)}`,children:v})},{header:"Enrolled",accessor:"enrolled_count",render:(v,k)=>{var O;return`${v||0}/${((O=k.course)==null?void 0:O.max_capacity)||"N/A"}`}}],N=[{value:"all",label:"All Classes"},{value:"scheduled",label:"Scheduled",filterFn:v=>v.status==="scheduled"},{value:"completed",label:"Completed",filterFn:v=>v.status==="completed"}];return t.jsxs("div",{children:[t.jsx(lt,{columns:$,data:r,onView:P,onRowClick:P,isLoading:a,emptyMessage:"No classes assigned yet.",searchable:!0,filterable:!0,filterOptions:N,sortable:!0,searchPlaceholder:"Search classes...",defaultFilter:x}),!a&&o.totalItems>0&&t.jsx("div",{className:"pagination-container",children:t.jsx(bh,{currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,perPage:o.perPage,onPageChange:_,onPerPageChange:z})}),t.jsx(Ie,{isOpen:c,onClose:()=>{h(!1),u(null)},title:"Class Details",size:"lg",children:m&&t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-grid",children:[t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(ps,{size:16,className:"modal-field-label-icon"}),"Course"]}),t.jsx("p",{className:"modal-field-value",children:typeof m.course=="string"?m.course:((A=m.course)==null?void 0:A.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Training Center"}),t.jsx("p",{className:"modal-field-value",children:typeof m.training_center=="string"?m.training_center:((R=m.training_center)==null?void 0:R.name)||"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"Start Date"]}),t.jsx("p",{className:"modal-field-value",children:m.start_date?new Date(m.start_date).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"End Date"]}),t.jsx("p",{className:"modal-field-value",children:m.end_date?new Date(m.end_date).toLocaleDateString():"N/A"})]}),m.exam_date&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#faf5ff",borderColor:"#e9d5ff"},children:[t.jsxs("p",{className:"modal-field-label",style:{color:"#9333ea"},children:[t.jsx(tt,{size:16,className:"modal-field-label-icon"}),"Exam Date"]}),t.jsx("p",{className:"modal-field-value",style:{color:"#7e22ce"},children:new Date(m.exam_date).toLocaleDateString()})]}),m.exam_score!==null&&m.exam_score!==void 0&&t.jsxs("div",{className:"modal-field",style:{backgroundColor:"#eef2ff",borderColor:"#c7d2fe"},children:[t.jsx("p",{className:"modal-field-label",style:{color:"#4f46e5"},children:"Exam Score"}),t.jsxs("p",{className:"modal-field-value",style:{color:"#4338ca",fontWeight:"bold"},children:[parseFloat(m.exam_score).toFixed(2),"%"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(_t,{size:16,className:"modal-field-label-icon"}),"Enrollment"]}),t.jsxs("p",{className:"modal-field-value",children:[m.enrolled_count||0," / ",((T=m.course)==null?void 0:T.max_capacity)||"N/A"]})]}),t.jsxs("div",{className:"modal-field",children:[t.jsx("p",{className:"modal-field-label",children:"Status"}),t.jsx("span",{className:`modal-status-badge ${F(m.status)}`,children:m.status})]})]}),m.location_details&&t.jsxs("div",{className:"location-field",children:[t.jsxs("p",{className:"modal-field-label",children:[t.jsx(Rt,{size:16,className:"modal-field-label-icon"}),"Location"]}),t.jsx("p",{className:"modal-field-value",children:m.location_details})]}),m.materials&&m.materials.length>0&&t.jsxs("div",{className:"materials-section",children:[t.jsx("h3",{className:"materials-title",children:"Course Materials"}),t.jsx("div",{className:"materials-list",children:m.materials.map((v,k)=>t.jsxs("div",{className:"material-item",children:[t.jsx("p",{className:"material-name",children:v.name}),v.file_url&&t.jsx("a",{href:v.file_url,target:"_blank",rel:"noopener noreferrer",className:"material-link",children:"Download"})]},k))})]}),m.status!=="completed"&&t.jsx("div",{className:"modal-actions",children:t.jsxs("button",{onClick:()=>{h(!1),b(m)},className:"complete-button",children:[t.jsx(Me,{size:20,className:"complete-button-icon"}),"Mark as Complete"]})})]})}),t.jsx(Ie,{isOpen:d,onClose:()=>{p(!1),u(null),y({completion_rate_percentage:"",notes:""})},title:"Mark Class as Complete",size:"md",children:t.jsxs("div",{className:"complete-modal-content",children:[t.jsx(he,{label:"Completion Rate (%)",name:"completion_rate_percentage",type:"number",value:g.completion_rate_percentage,onChange:v=>y({...g,completion_rate_percentage:v.target.value}),required:!0,min:"0",max:"100",placeholder:"e.g., 95"}),t.jsx(he,{label:"Notes (Optional)",name:"notes",value:g.notes,onChange:v=>y({...g,notes:v.target.value}),textarea:!0,rows:4,placeholder:"Add any notes about the class completion..."}),t.jsxs("div",{className:"complete-modal-actions",children:[t.jsx("button",{onClick:()=>{p(!1),u(null),y({completion_rate_percentage:"",notes:""})},className:"cancel-button",children:"Cancel"}),t.jsx("button",{onClick:E,className:"confirm-button",children:"Mark Complete"})]})]})})]})},IT=()=>{var m;const[e,s]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState(!1),[o,l]=f.useState(null);f.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await Cs.getAvailableMaterials();s(u.materials||[])}catch(u){console.error("Failed to load materials:",u)}finally{n(!1)}},h=u=>{l(u),i(!0)},d=u=>{u.file_url?window.open(u.file_url,"_blank"):alert("File not available")},p=[{header:"Material",accessor:"name",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ge,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-900",children:u}),t.jsx("div",{className:"text-sm text-gray-500",children:g.material_type})]})]})},{header:"Course",accessor:"course",render:u=>typeof u=="string"?u:(u==null?void 0:u.name)||"N/A"},{header:"Type",accessor:"material_type",render:u=>u?u.toUpperCase():"N/A"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Materials"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Access course materials for your classes"})]}),t.jsx(lt,{columns:p,data:e,onView:h,onRowClick:h,isLoading:r,emptyMessage:"No materials available."}),t.jsx(Ie,{isOpen:a,onClose:()=>{i(!1),l(null)},title:"Material Details",size:"md",children:o&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.name})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Course"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:o.course})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Type"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:((m=o.material_type)==null?void 0:m.toUpperCase())||"N/A"})]}),o.file_url&&t.jsx("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:t.jsxs("button",{onClick:()=>d(o),className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center justify-center",children:[t.jsx(qc,{size:20,className:"mr-2"}),"Download"]})})]})})]})},LT=()=>{const[e,s]=f.useState([]),[r,n]=f.useState(null),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,h]=f.useState(null);f.useEffect(()=>{d()},[]);const d=async()=>{try{const u=await Cs.getEarnings();s(u.earnings||[]),n(u.summary)}catch(u){console.error("Failed to load earnings:",u)}finally{i(!1)}},p=u=>{h(u),l(!0)},m=[{header:"Certificate",accessor:"certificate",render:(u,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Mt,{className:"h-5 w-5 text-gray-400 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:u})]})},{header:"Amount",accessor:"amount",render:u=>`$${parseFloat(u||0).toFixed(2)}`},{header:"Commission %",accessor:"commission_percentage",render:u=>`${u||0}%`},{header:"Status",accessor:"status",render:u=>{const g={paid:{bg:"bg-green-100",text:"text-green-800",icon:Me},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Ve}},y=g[u]||g.pending,S=y.icon;return t.jsxs("span",{className:`px-2 inline-flex items-center text-xs leading-5 font-semibold rounded-full ${y.bg} ${y.text}`,children:[t.jsx(S,{size:12,className:"mr-1"}),u]})}},{header:"Paid Date",accessor:"paid_at",render:u=>u?new Date(u).toLocaleDateString():"-"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Earnings"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"View your earnings and payment history"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Mt,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-green-100 mb-2",children:"Total Earnings"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Ve,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-yellow-100 mb-2",children:"Pending"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.pending||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg p-6 text-white",children:[t.jsx(Me,{className:"h-10 w-10 mb-3"}),t.jsx("p",{className:"text-blue-100 mb-2",children:"Paid"}),t.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(r.paid||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsx(lt,{columns:m,data:e,onView:p,onRowClick:p,isLoading:a,emptyMessage:"No earnings found."}),t.jsx(Ie,{isOpen:o,onClose:()=>{l(!1),h(null)},title:"Earning Details",size:"md",children:c&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Certificate"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:c.certificate})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",parseFloat(c.amount||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commission Percentage"}),t.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[c.commission_percentage||0,"%"]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${c.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),c.paid_at&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Paid Date"}),t.jsx("p",{className:"text-base font-semibold text-gray-900",children:new Date(c.paid_at).toLocaleDateString()})]})]})})]})},OT="modulepreload",UT=function(e){return"/"+e},S0={},BT=function(s,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=UT(c),c in S0)return;S0[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":OT,h||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((m,u)=>{p.addEventListener("load",m),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},l1=()=>{const{user:e}=hr(),{setHeaderTitle:s,setHeaderSubtitle:r}=ot(),[n,a]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[h,d]=f.useState(null),[p,m]=f.useState(!1),[u,g]=f.useState(!1),[y,S]=f.useState(null),[x,C]=f.useState(null),[w,_]=f.useState([]),[z,P]=f.useState([]),[b,E]=f.useState(!1),[j,F]=f.useState(!1),[$,N]=f.useState([]),[A,R]=f.useState([]),[T,v]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[]}),[k,O]=f.useState({current_password:"",password:"",password_confirmation:""}),[D,L]=f.useState({}),[W,H]=f.useState("");f.useEffect(()=>(s("Profile"),r("Manage your account settings and preferences"),()=>{s(null),r(null)}),[s,r]),f.useEffect(()=>{K()},[]),f.useEffect(()=>{w.length>0&&B()},[w.length]),f.useEffect(()=>{T.country?q(T.country):(P([]),v(Y=>({...Y,city:""})))},[T.country]),f.useEffect(()=>{z.length>0&&(l!=null&&l.city)&&!T.city&&z.some(Z=>Z.name===l.city)&&v(Z=>({...Z,city:l.city}))},[z.length,l==null?void 0:l.city]);const B=async()=>{a(!0);try{const Y=await Cs.getProfile(),Z=Y.profile||Y.instructor||Y;c(Z);let xe=Z.country||"";if(xe&&w.length>0){const Q=w.find(se=>se.name===xe||se.code===xe);Q&&(xe=Q.code)}const ye=Z.city||"";v({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||(e==null?void 0:e.email)||"",phone:Z.phone||"",country:xe,city:ye,id_number:Z.id_number||"",specializations:Z.specializations||[]}),N(Z.certificates||[]),xe&&await q(xe),(Z.cv_url||Z.cv)&&d(Z.cv_url||Z.cv),Z.photo_url||Z.photo?C(Z.photo_url||Z.photo):C(null)}catch(Y){console.error("Failed to load profile:",Y)}finally{a(!1)}},K=async()=>{E(!0);try{const Y=await Fn.getCountries();_(Y.countries||[])}catch(Y){console.error("Failed to load countries:",Y),_([])}finally{E(!1)}},q=async Y=>{var Z;if(!Y){P([]);return}F(!0);try{const xe=await Fn.getCities(Y);let ye=xe.cities||((Z=xe.data)==null?void 0:Z.cities)||xe.data||xe||[];!Array.isArray(ye)&&typeof ye=="object"&&(ye=Object.values(ye)),P(Array.isArray(ye)?ye:[])}catch(xe){console.error("Failed to load cities:",xe),P([])}finally{F(!1)}},V=Y=>{const{name:Z,value:xe}=Y.target;v({...T,[Z]:xe,...Z==="country"&&{city:""}}),L({}),H("")},te=Y=>{O({...k,[Y.target.name]:Y.target.value}),L({}),H("")},U=async Y=>{var Z,xe,ye,Q;Y.preventDefault(),o(!0),L({}),H("");try{let se;const ce=A.length>0,Ae=y instanceof File;if(ce||Ae){const ae=new FormData;T.first_name&&ae.append("first_name",T.first_name),T.last_name&&ae.append("last_name",T.last_name),T.phone&&ae.append("phone",T.phone),T.country&&ae.append("country",T.country),T.city&&ae.append("city",T.city),T.id_number&&ae.append("id_number",T.id_number),T.specializations&&T.specializations.length>0&&T.specializations.forEach(Ee=>{ae.append("specializations[]",Ee)}),Ae&&ae.append("photo",y),A.forEach((Ee,ne)=>{ae.append(`certificates[${ne}][name]`,Ee.name),ae.append(`certificates[${ne}][issue_date]`,Ee.issue_date),Ee.file&&ae.append(`certificates[${ne}][certificate_file]`,Ee.file)}),console.log(" FormData Contents:"),console.log(" FormData object:",ae);for(const[Ee,ne]of ae.entries())ne instanceof File?console.log(`  ${Ee}: File(${ne.name}, ${ne.size} bytes, ${ne.type})`):console.log(`  ${Ee}:`,ne);console.log(" Sending POST request to /instructor/profile");const _e=await Cs.updateProfile(ae);se=_e.profile||_e.instructor||_e,c(se),N(se.certificates||[]),R([]),Ae&&(se.photo_url||se.photo)&&(C(se.photo_url||se.photo),S(null)),H("Profile updated successfully!")}else{const ae={first_name:T.first_name,last_name:T.last_name,phone:T.phone||null,country:T.country||null,city:T.city||null,id_number:T.id_number||null,specializations:T.specializations||[]};console.log(" JSON Update Payload:"),console.log(JSON.stringify(ae,null,2)),console.log(" Sending POST request to /instructor/profile");const _e=await Cs.updateProfile(ae);se=_e.profile||_e.instructor||_e,c(se),H("Profile updated successfully!")}v(ae=>({...ae,first_name:se.first_name||ae.first_name,last_name:se.last_name||ae.last_name,email:se.email||ae.email,phone:se.phone||ae.phone||"",country:se.country||ae.country||"",city:se.city||ae.city||"",id_number:se.id_number||ae.id_number||"",specializations:se.specializations||ae.specializations||[]})),(se.cv_url||se.cv)&&d(se.cv_url||se.cv),(se.photo_url||se.photo)&&C(se.photo_url||se.photo),await B(),g(!1)}catch(se){(xe=(Z=se.response)==null?void 0:Z.data)!=null&&xe.errors?L(se.response.data.errors):se.errors?L(se.errors):L({general:((Q=(ye=se.response)==null?void 0:ye.data)==null?void 0:Q.message)||se.message||"Failed to update profile"})}finally{o(!1)}},M=async Y=>{Y.preventDefault(),o(!0),L({}),H("");try{const{authAPI:Z}=await BT(async()=>{const{authAPI:xe}=await Promise.resolve().then(()=>g_);return{authAPI:xe}},void 0);await Z.changePassword(k),H("Password changed successfully!"),O({current_password:"",password:"",password_confirmation:""})}catch(Z){Z.errors?L(Z.errors):L({password:Z.message||"Failed to change password"})}finally{o(!1)}},G=async Y=>{var xe,ye,Q,se;const Z=Y.target.files[0];if(Z){if(Z.type!=="application/pdf"){L({cv:"Only PDF files are allowed"}),Y.target.value="";return}if(Z.size>10*1024*1024){L({cv:"File size must be less than 10MB"}),Y.target.value="";return}L({}),H(""),m(!0);try{const ce=new FormData;ce.append("cv",Z);const Ae=await Cs.updateProfile(ce),ae=Ae.profile||Ae.instructor||Ae;if(ae.cv_url||ae.cv)d(ae.cv_url||ae.cv),c(ae),H("CV uploaded successfully!");else throw new Error("CV upload failed - no CV URL returned");Y.target.value=""}catch(ce){console.error("Failed to upload CV:",ce),(ye=(xe=ce.response)==null?void 0:xe.data)!=null&&ye.message?L({cv:ce.response.data.message}):(se=(Q=ce.response)==null?void 0:Q.data)!=null&&se.errors?L(ce.response.data.errors):L({cv:ce.message||"Failed to upload CV"})}finally{m(!1)}}},X=async()=>{var Y,Z;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){m(!0),L({}),H("");try{const xe=new FormData;xe.append("cv","");const ye=await Cs.updateProfile(xe),Q=ye.profile||ye.instructor||ye;c(Q),d(null),H("CV removed successfully!")}catch(xe){console.error("Failed to remove CV:",xe),(Z=(Y=xe.response)==null?void 0:Y.data)!=null&&Z.message?L({cv:xe.response.data.message}):L({cv:xe.message||"Failed to remove CV"})}finally{m(!1)}}},fe=(Y,Z=800,xe=800,ye=.9)=>new Promise((Q,se)=>{const ce=new FileReader;ce.onload=Ae=>{const ae=new Image;ae.onload=()=>{const _e=document.createElement("canvas");let Ee=ae.width,ne=ae.height;Ee>ne?Ee>Z&&(ne=ne*Z/Ee,Ee=Z):ne>xe&&(Ee=Ee*xe/ne,ne=xe),_e.width=Ee,_e.height=ne,_e.getContext("2d").drawImage(ae,0,0,Ee,ne),_e.toBlob(re=>{re?Q(re):se(new Error("Failed to resize image"))},Y.type||"image/jpeg",ye)},ae.onerror=se,ae.src=Ae.target.result},ce.onerror=se,ce.readAsDataURL(Y)}),Ne=async Y=>{const Z=Y.target.files[0];if(!Z)return;L({...D,photo:void 0});const xe=["image/jpeg","image/jpg","image/png"],ye=Z.type.toLowerCase();if(!xe.includes(ye)){L({...D,photo:"Please select a valid image file (JPG, JPEG, or PNG only)"}),Y.target.value="";return}try{const Q=await fe(Z),se=new File([Q],Z.name,{type:Z.type});S(se);const ce=new FileReader;ce.onloadend=()=>{C(ce.result)},ce.onerror=()=>{L({...D,photo:"Failed to load image preview"})},ce.readAsDataURL(se)}catch(Q){console.error("Failed to resize image:",Q),L({...D,photo:"Failed to process image"}),Y.target.value=""}Y.target.value=""},ge=()=>{R([...A,{name:"",issue_date:"",file:null}])},Pe=(Y,Z,xe)=>{const ye=[...A];ye[Y]={...ye[Y],[Z]:xe},R(ye)},Fe=Y=>{R(A.filter((Z,xe)=>xe!==Y))},ie=Y=>Y?new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n?t.jsx("div",{className:"instructor-profile-loading",children:t.jsx("div",{className:"instructor-profile-spinner"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[W&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(Me,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:W})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(As,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),!u&&t.jsx(Ye,{type:"button",variant:"primary",onClick:()=>g(!0),icon:t.jsx(gs,{size:18}),children:"Edit Profile"})]}),t.jsxs("form",{onSubmit:U,className:"space-y-5",children:[t.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Photo"}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:x?t.jsx("img",{src:x,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx(As,{className:"text-gray-400",size:40})}),i&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent"})})]}),u&&t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Ne,disabled:i,className:"hidden"}),t.jsx(Ds,{className:"h-4 w-4 text-gray-600 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:y?"Change Photo":"Select Photo"})]})})]}),u&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"JPG, JPEG, PNG only, max 5MB"}),D.photo&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:D.photo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"First Name",name:"first_name",value:T.first_name,onChange:V,required:!0,disabled:!u,error:D.first_name}),t.jsx(he,{label:"Last Name",name:"last_name",value:T.last_name,onChange:V,required:!0,disabled:!u,error:D.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Email Address",type:"email",name:"email",value:T.email,onChange:V,required:!0,disabled:!0,error:D.email,helpText:"Email cannot be changed"}),t.jsx(he,{label:"Phone Number",name:"phone",type:"tel",value:T.phone,onChange:V,disabled:!u,error:D.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:T.country,onChange:V,className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all ${u?"":"no-dropdown-arrow"}`,disabled:!u||b,children:[t.jsx("option",{value:"",children:"Select Country"}),w.map(Y=>t.jsx("option",{value:Y.code,children:Y.name},Y.code))]})]}),D.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:T.city,onChange:V,className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all ${u?"":"no-dropdown-arrow"}`,disabled:!u||!T.country||j,children:[t.jsx("option",{value:"",children:"Select City"}),z.map((Y,Z)=>t.jsx("option",{value:Y.name,children:Y.name},Z))]})]}),D.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.city})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"ID Number",name:"id_number",value:T.id_number,onChange:V,disabled:!u,error:D.id_number}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),t.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50",children:l!=null&&l.is_assessor?t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:"Assessor"}):t.jsx("span",{className:"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-gray-100 text-gray-600 border border-gray-200",children:"Instructor"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This field is managed by your Training Center"})]})]}),t.jsx(vh,{label:"Specializations",value:T.specializations,onChange:Y=>{v({...T,specializations:Y}),L({})},error:D.specializations,disabled:!u}),t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-lg flex items-center justify-center",children:t.jsx(Ge,{className:"text-indigo-600",size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[h&&!u&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsx("div",{className:"flex items-start justify-between gap-3",children:t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ge,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ge,{size:16}),h.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]})})}),!h&&!p&&!u&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ge,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click Edit Profile to upload your CV"})]})]})}),u&&t.jsxs("div",{className:"space-y-3",children:[h&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ge,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ge,{size:16}),h.split("/").pop().split("?")[0]||"View CV"]})]})]}),t.jsx("button",{onClick:X,disabled:p,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(ks,{size:18})})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h?"Update CV":"Upload CV"}),t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:G,disabled:p,className:"hidden"}),t.jsx("div",{className:"text-center",children:p?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary-600 border-t-transparent mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Uploading CV..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ds,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:h?"Click to update CV":"Click to upload CV"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF only, maximum 10MB"})]})})]}),D.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:D.cv})]})]})]})]}),D.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:D.general})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Js,{className:"text-purple-600",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificates"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage your professional certificates"})]}),u&&t.jsx(Ye,{type:"button",variant:"secondary",onClick:ge,icon:t.jsx(Js,{size:18}),children:"Add Certificate"})]}),t.jsxs("div",{className:"space-y-4",children:[$.length>0&&t.jsx("div",{className:"space-y-3",children:$.map((Y,Z)=>t.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Name"}),t.jsx("p",{className:"text-sm text-gray-900",children:Y.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),t.jsx("p",{className:"text-sm text-gray-900",children:ie(Y.issue_date)})]})]}),Y.url&&t.jsx("div",{className:"mt-3 flex items-center gap-2",children:t.jsxs("a",{href:Y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-700 underline flex items-center gap-1",children:[t.jsx(ts,{size:16}),"View Certificate"]})})]})})},Z))}),A.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"New Certificates to Add"}),A.map((Y,Z)=>t.jsx("div",{className:"p-4 border-2 border-dashed border-primary-300 rounded-lg bg-primary-50",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsx(he,{label:"Certificate Name",value:Y.name,onChange:xe=>Pe(Z,"name",xe.target.value),required:!0,error:D[`new_certificates.${Z}.name`]}),t.jsx(he,{label:"Issue Date",type:"date",value:Y.issue_date,onChange:xe=>Pe(Z,"issue_date",xe.target.value),required:!0,error:D[`new_certificates.${Z}.issue_date`]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate File (PDF) *"}),t.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:xe=>{const ye=xe.target.files[0];if(ye){if(ye.type!=="application/pdf"){L({[`new_certificates.${Z}.file`]:"Only PDF files are allowed"});return}if(ye.size>10*1024*1024){L({[`new_certificates.${Z}.file`]:"File size must be less than 10MB"});return}Pe(Z,"file",ye)}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",required:!0}),Y.file&&t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Selected: ",Y.file.name]})]})]}),t.jsx("button",{type:"button",onClick:()=>Fe(Z),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove",children:t.jsx(Ss,{size:18})})]})},Z))]}),$.length===0&&A.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Js,{size:48,className:"mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No certificates added yet"})]}),u&&t.jsxs("div",{className:"pt-4 border-t border-gray-200 flex gap-3 mt-4",children:[t.jsx(Ye,{type:"button",variant:"secondary",onClick:()=>{g(!1),L({}),R([]),B()},disabled:i,fullWidth:!0,children:"Cancel"}),t.jsx(Ye,{type:"button",variant:"primary",onClick:U,fullWidth:!0,disabled:i,loading:i,icon:t.jsx(qo,{size:20}),children:"Save Changes"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Uf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:M,className:"space-y-5",children:[t.jsx(he,{label:"Current Password",type:"password",name:"current_password",value:k.current_password,onChange:te,required:!0,error:D.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"New Password",type:"password",name:"password",value:k.password,onChange:te,required:!0,error:D.password}),t.jsx(he,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:k.password_confirmation,onChange:te,required:!0,error:D.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(Ye,{type:"submit",variant:"danger",disabled:i,loading:i,icon:t.jsx(Td,{size:20}),fullWidth:!0,children:"Change Password"})})]})]})]})]})},qT=()=>{const{user:e,updateUser:s}=hr(),{setHeaderTitle:r,setHeaderSubtitle:n}=ot(),[a,i]=f.useState(!1),[o,l]=f.useState(!1),c=(e==null?void 0:e.role)==="instructor",h=(e==null?void 0:e.role)==="training_center_admin",[d,p]=f.useState(null),[m,u]=f.useState(null),[g,y]=f.useState(null),[S,x]=f.useState(!1),[C,w]=f.useState(null),[_,z]=f.useState(null),[P,b]=f.useState(!1),[E,j]=f.useState([]),[F,$]=f.useState([]),[N,A]=f.useState(!1),[R,T]=f.useState(!1),[v,k]=f.useState({first_name:"",last_name:"",email:(e==null?void 0:e.email)||"",phone:"",country:"",city:"",id_number:"",specializations:[],name:"",legal_name:"",registration_number:"",address:"",state:"",postal_code:"",website:"",description:""}),[O,D]=f.useState({current_password:"",password:"",password_confirmation:""}),[L,W]=f.useState({}),[H,B]=f.useState("");f.useEffect(()=>{U()},[]);const K=f.useRef(!1),q=f.useRef(e==null?void 0:e.role);f.useEffect(()=>{const Y=e==null?void 0:e.role;Y!==q.current&&(K.current=!1,q.current=Y),K.current||(h||c?E.length>0&&(K.current=!0,te()):(K.current=!0,te()))},[E.length,e==null?void 0:e.role]);const V=f.useRef(null);f.useEffect(()=>{h&&v.country&&v.country!==V.current?(V.current=v.country,M(v.country)):h&&!v.country&&(V.current=null,$([]))},[v.country,h]),f.useEffect(()=>{c&&v.country&&v.country!==V.current?(V.current=v.country,M(v.country)):c&&!v.country&&(V.current=null,$([]),k(Y=>({...Y,city:""})))},[v.country,c]),f.useEffect(()=>(r("Profile"),n("Manage your account settings and preferences"),()=>{r(null),n(null)}),[r,n]);const te=async()=>{i(!0);try{if(c){const Y=await Cs.getProfile(),Z=Y.profile||Y.instructor||Y;p(Z);let xe=Z.country||"";if(xe&&E.length>0){const Q=E.find(se=>se.name===xe||se.code===xe);Q&&(xe=Q.code)}const ye=Z.city||"";k({first_name:Z.first_name||"",last_name:Z.last_name||"",email:Z.email||(e==null?void 0:e.email)||"",phone:Z.phone||"",country:xe,city:ye,id_number:Z.id_number||"",specializations:Z.specializations||[]}),(Z.cv_url||Z.cv||Z.resume_url||Z.resume)&&y(Z.cv_url||Z.cv||Z.resume_url||Z.resume)}else if(h){const Y=await Ue.getProfile(),Z=Y.profile||Y.training_center||Y;let xe=Z.country||"";if(xe&&E.length>0){const ye=E.find(Q=>Q.name===xe||Q.code===xe);ye&&(xe=ye.code)}k({name:Z.name||Z.training_center_name||"",legal_name:Z.legal_name||"",registration_number:Z.registration_number||"",email:Z.email||(e==null?void 0:e.email)||"",phone:Z.phone||Z.phone_number||"",address:Z.address||"",city:Z.city||"",state:Z.state||Z.province||"",country:xe,postal_code:Z.postal_code||Z.zip_code||"",website:Z.website||Z.website_url||"",description:Z.description||Z.bio||""}),(Z.logo_url||Z.logo||Z.avatar)&&z(Z.logo_url||Z.logo||Z.avatar)}else{const Y=await nr.getProfile();k({first_name:"",last_name:"",name:Y.user.name||"",email:Y.user.email||"",phone:"",country:"",city:""}),s(Y.user)}}catch(Y){console.error("Failed to load profile:",Y)}finally{i(!1)}},U=async()=>{A(!0);try{const Y=await Fn.getCountries();j(Y.countries||[])}catch(Y){console.error("Failed to load countries:",Y),j([])}finally{A(!1)}},M=async Y=>{var Z;if(!Y){$([]);return}T(!0);try{const xe=await Fn.getCities(Y);let ye=xe.cities||((Z=xe.data)==null?void 0:Z.cities)||xe.data||xe||[];!Array.isArray(ye)&&typeof ye=="object"&&(ye=Object.values(ye)),$(Array.isArray(ye)?ye:[])}catch(xe){console.error("Failed to load cities:",xe),$([])}finally{T(!1)}},G=Y=>{const{name:Z,value:xe}=Y.target;k({...v,[Z]:xe,...Z==="country"&&{city:""}}),W({}),B("")},X=Y=>{const Z=Y.target.files[0];if(Z){W({...L,logo:void 0});const xe=["image/jpeg","image/jpg","image/png"],ye=Z.type.toLowerCase();if(!xe.includes(ye)){W({...L,logo:"Please select a valid image file (JPG, JPEG, or PNG only)"});return}const Q=5*1024*1024;if(Z.size>Q){W({...L,logo:"Image size must be less than 5MB"});return}w(Z);const se=new FileReader;se.onloadend=()=>{z(se.result)},se.onerror=()=>{W({...L,logo:"Failed to load image preview"})},se.readAsDataURL(Z)}},fe=Y=>{D({...O,[Y.target.name]:Y.target.value}),W({}),B("")},Ne=async Y=>{var Z,xe,ye,Q;Y.preventDefault(),l(!0),W({}),B("");try{if(c){const se={first_name:v.first_name,last_name:v.last_name,email:v.email,phone:v.phone||null,country:v.country||null,city:v.city||null,id_number:v.id_number||null,specializations:v.specializations||[]},ce=await Cs.updateProfile(se),Ae=ce.profile||ce.instructor||ce;p(Ae),B("Profile updated successfully!"),k(ae=>({...ae,first_name:Ae.first_name||ae.first_name,last_name:Ae.last_name||ae.last_name,email:Ae.email||ae.email,phone:Ae.phone||ae.phone||"",country:Ae.country||ae.country||"",city:Ae.city||ae.city||"",id_number:Ae.id_number||ae.id_number||"",specializations:Ae.specializations||ae.specializations||[]})),(Ae.cv_url||Ae.cv)&&y(Ae.cv_url||Ae.cv)}else if(h)if(C instanceof File){const ce=new FormData;v.name&&ce.append("name",v.name),v.legal_name&&ce.append("legal_name",v.legal_name),v.registration_number&&ce.append("registration_number",v.registration_number),v.email&&ce.append("email",v.email),v.phone&&ce.append("phone",v.phone),v.address&&ce.append("address",v.address),v.country&&ce.append("country",v.country),v.city&&ce.append("city",v.city),v.website&&ce.append("website",v.website),ce.append("logo",C);const Ae=await Ue.updateProfile(ce),ae=Ae.profile||Ae.training_center||Ae;(ae.logo_url||ae.logo)&&z(ae.logo_url||ae.logo),w(null),b(!1),B(Ae.message||"Profile updated successfully!")}else{const ce=new FormData;v.name&&ce.append("name",v.name),v.legal_name&&ce.append("legal_name",v.legal_name),v.registration_number&&ce.append("registration_number",v.registration_number),v.email&&ce.append("email",v.email),v.phone&&ce.append("phone",v.phone),v.address&&ce.append("address",v.address),v.country&&ce.append("country",v.country),v.city&&ce.append("city",v.city),v.website&&ce.append("website",v.website);const Ae=await Ue.updateProfile(ce),ae=Ae.profile||Ae.training_center||Ae;b(!1),B(Ae.message||"Profile updated successfully!")}else{const se=await nr.updateProfile(v);s(se.user),B("Profile updated successfully!")}}catch(se){(xe=(Z=se.response)==null?void 0:Z.data)!=null&&xe.errors?W(se.response.data.errors):se.errors?W(se.errors):W({general:((Q=(ye=se.response)==null?void 0:ye.data)==null?void 0:Q.message)||se.message||"Failed to update profile"})}finally{l(!1)}},ge=async Y=>{Y.preventDefault(),l(!0),W({}),B("");try{await nr.changePassword(O),B("Password changed successfully!"),D({current_password:"",password:"",password_confirmation:""})}catch(Z){Z.errors?W(Z.errors):W({password:Z.message||"Failed to change password"})}finally{l(!1)}},Pe=Y=>{const Z=Y.target.files[0];if(Z){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Z.type)){W({cv:"Please upload a PDF or Word document"});return}if(Z.size>5*1024*1024){W({cv:"File size must be less than 5MB"});return}u(Z),W({})}},Fe=async()=>{var Y,Z,xe,ye;if(m){x(!0),W({}),B("");try{const Q=new FormData;Q.append("cv",m);const se=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),Ae=await bt.put("https://aeroenix.com/v1/api/instructor/profile",Q,{headers:{Authorization:`Bearer ${se}`,Accept:"application/json"}}),ae=Ae.data.profile||Ae.data.instructor||Ae.data;(ae.cv_url||ae.cv)&&y(ae.cv_url||ae.cv),p(ae),k(_e=>({..._e,first_name:ae.first_name||_e.first_name,last_name:ae.last_name||_e.last_name,email:ae.email||_e.email,phone:ae.phone||_e.phone,country:ae.country||_e.country,city:ae.city||_e.city,id_number:ae.id_number||_e.id_number,specializations:ae.specializations||_e.specializations})),u(null),B("CV uploaded successfully!")}catch(Q){console.error("Failed to upload CV:",Q),(Z=(Y=Q.response)==null?void 0:Y.data)!=null&&Z.errors?W(Q.response.data.errors):W({cv:((ye=(xe=Q.response)==null?void 0:xe.data)==null?void 0:ye.message)||Q.message||"Failed to upload CV"})}finally{x(!1)}}},ie=async()=>{var Y,Z,xe,ye;if(confirm("Are you sure you want to remove your CV? This action cannot be undone.")){x(!0),W({}),B("");try{const Q=localStorage.getItem("auth_token")||localStorage.getItem("token")||sessionStorage.getItem("auth_token")||sessionStorage.getItem("token"),se="https://aeroenix.com/v1/api",ce=new FormData;ce.append("cv","");const Ae=await bt.put(`${se}/instructor/profile`,ce,{headers:{Authorization:`Bearer ${Q}`,Accept:"application/json"}}),ae=Ae.data.profile||Ae.data.instructor||Ae.data;p(ae),y(null),u(null),B("CV removed successfully!"),k(_e=>({..._e,first_name:ae.first_name||_e.first_name,last_name:ae.last_name||_e.last_name,email:ae.email||_e.email,phone:ae.phone||_e.phone,country:ae.country||_e.country,city:ae.city||_e.city,id_number:ae.id_number||_e.id_number,specializations:ae.specializations||_e.specializations}))}catch(Q){console.error("Failed to remove CV:",Q),(Z=(Y=Q.response)==null?void 0:Y.data)!=null&&Z.errors?W(Q.response.data.errors):W({cv:((ye=(xe=Q.response)==null?void 0:xe.data)==null?void 0:ye.message)||Q.message||"Failed to remove CV"})}finally{x(!1)}}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"space-y-4 max-w-7xl mx-auto",children:[H&&t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-xl shadow-lg p-4 flex items-center gap-3 animate-fade-in",children:[t.jsx(Me,{className:"text-green-600 flex-shrink-0",size:24}),t.jsx("p",{className:"text-green-800 font-medium",children:H})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(As,{className:"text-primary-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),t.jsxs("form",{onSubmit:Ne,className:"space-y-5",children:[h?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b border-gray-200",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-gray-200 bg-gray-100 flex items-center justify-center",children:_?t.jsx("img",{src:_,alt:"Logo",className:"w-full h-full object-cover"}):t.jsx(Je,{className:"text-gray-400",size:40})}),P&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[t.jsx(Ds,{size:16}),t.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:X,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Training Center Logo"}),t.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload your training center logo"}),!P&&t.jsxs("button",{type:"button",onClick:()=>b(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[t.jsx(gs,{size:16}),"Edit Profile"]}),L.logo&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:L.logo})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Training Center Name",name:"name",value:v.name,onChange:G,required:!0,disabled:!P,error:L.name}),t.jsx(he,{label:"Email Address",type:"email",name:"email",value:v.email,onChange:G,required:!0,disabled:!P,error:L.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Legal Name",name:"legal_name",value:v.legal_name,onChange:G,disabled:!P,error:L.legal_name,placeholder:"Official legal name of the training center"}),t.jsx(he,{label:"Registration Number",name:"registration_number",value:v.registration_number,onChange:G,disabled:!P,error:L.registration_number,placeholder:"Unique registration number"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Phone Number",name:"phone",type:"tel",value:v.phone,onChange:G,disabled:!P,error:L.phone}),t.jsx(he,{label:"Website",name:"website",type:"url",value:v.website,onChange:G,disabled:!P,error:L.website,placeholder:"https://example.com"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-5",children:t.jsx(he,{label:"Address",name:"address",value:v.address,onChange:G,disabled:!P,error:L.address})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:v.country,onChange:G,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!P||N,children:[t.jsx("option",{value:"",children:"Select Country"}),E.map(Y=>t.jsx("option",{value:Y.code,children:Y.name},Y.code))]})]}),L.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:v.city,onChange:G,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!P||!v.country||R,children:[t.jsx("option",{value:"",children:"Select City"}),F.map((Y,Z)=>t.jsx("option",{value:Y.name,children:Y.name},Z))]})]}),L.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.city})]}),t.jsx(he,{label:"State/Province",name:"state",value:v.state,onChange:G,disabled:!P,error:L.state})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(he,{label:"Postal Code",name:"postal_code",value:v.postal_code,onChange:G,disabled:!P,error:L.postal_code})}),t.jsx(he,{label:"Description",name:"description",textarea:!0,rows:6,value:v.description,onChange:G,disabled:!P,error:L.description,placeholder:"Tell us about your training center..."}),P&&t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(Ye,{type:"button",variant:"secondary",onClick:()=>{b(!1),w(null),te()},disabled:o,children:"Cancel"}),t.jsx(Ye,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(qo,{size:20}),children:"Save Changes"})]})]}):c?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"First Name",name:"first_name",value:v.first_name,onChange:G,required:!0,error:L.first_name}),t.jsx(he,{label:"Last Name",name:"last_name",value:v.last_name,onChange:G,required:!0,error:L.last_name})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Email Address",type:"email",name:"email",value:v.email,onChange:G,required:!0,error:L.email}),t.jsx(he,{label:"Phone Number",name:"phone",type:"tel",value:v.phone,onChange:G,error:L.phone})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"country",value:v.country,onChange:G,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:N,children:[t.jsx("option",{value:"",children:"Select Country"}),E.map(Y=>t.jsx("option",{value:Y.code,children:Y.name},Y.code))]})]}),L.country&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.country})]}),t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),t.jsxs("div",{className:"relative",children:[t.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsxs("select",{name:"city",value:v.city,onChange:G,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white cursor-pointer transition-all",disabled:!v.country||R,children:[t.jsx("option",{value:"",children:"Select City"}),F.map((Y,Z)=>t.jsx("option",{value:Y.name,children:Y.name},Z))]})]}),L.city&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.city})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:t.jsx(he,{label:"ID Number",name:"id_number",value:v.id_number,onChange:G,error:L.id_number})}),t.jsx(vh,{label:"Languages",value:v.specializations,onChange:Y=>{k({...v,specializations:Y}),W({})},error:L.specializations})]}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"Full Name",name:"name",value:v.name,onChange:G,required:!0,error:L.name}),t.jsx(he,{label:"Email Address",type:"email",name:"email",value:v.email,onChange:G,required:!0,error:L.email})]}),L.general&&t.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-700 font-medium",children:L.general})}),!h&&t.jsx("div",{className:"pt-2",children:t.jsx(Ye,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,loading:o,icon:t.jsx(qo,{size:20}),children:"Save Changes"})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Uf,{className:"text-red-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Change Password"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),t.jsxs("form",{onSubmit:ge,className:"space-y-5",children:[t.jsx(he,{label:"Current Password",type:"password",name:"current_password",value:O.current_password,onChange:fe,required:!0,error:L.current_password}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsx(he,{label:"New Password",type:"password",name:"password",value:O.password,onChange:fe,required:!0,error:L.password}),t.jsx(he,{label:"Confirm New Password",type:"password",name:"password_confirmation",value:O.password_confirmation,onChange:fe,required:!0,error:L.password_confirmation})]}),t.jsx("div",{className:"pt-2",children:t.jsx(Ye,{type:"submit",variant:"danger",disabled:o,loading:o,icon:t.jsx(Td,{size:20}),fullWidth:!0,children:"Change Password"})})]})]}),c&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-xl flex items-center justify-center mr-4",children:t.jsx(Ge,{className:"text-indigo-600",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"CV / Resume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Upload or update your curriculum vitae"})]})]}),t.jsxs("div",{className:"space-y-4",children:[g&&t.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t.jsx(Ge,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Current CV"}),t.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700 underline font-medium mb-2 break-all",children:[t.jsx(Ge,{size:16}),g.split("/").pop().split("?")[0]||"View CV"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click the link above to view your current CV in a new tab"})]})]}),t.jsx("button",{onClick:ie,disabled:S,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Remove CV",children:t.jsx(ks,{size:18})})]})}),!g&&!m&&t.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ge,{className:"text-gray-400",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"No CV uploaded"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your CV below to get started"})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g?"Update CV":"Upload CV"}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:Pe,className:"hidden"}),t.jsx("div",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ds,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:m?m.name:"Click to select PDF or Word document"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max size: 5MB"})]})})]})}),L.cv&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:L.cv})]}),m&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ye,{onClick:Fe,disabled:S,loading:S,icon:t.jsx(Ds,{size:18}),children:S?"Uploading...":"Upload CV"}),t.jsx(Ye,{onClick:()=>u(null),variant:"secondary",disabled:S,children:"Cancel"})]})]})]})]})]})})]})},WT=()=>{const{user:e}=hr();return t.jsx(za,{children:(e==null?void 0:e.role)==="acc_admin"?t.jsx(tT,{}):(e==null?void 0:e.role)==="instructor"?t.jsx(l1,{}):t.jsx(qT,{})})};function VT(){return t.jsx(x_,{children:t.jsx(y_,{children:t.jsx(v_,{children:t.jsx(DC,{children:t.jsxs(Ii,{children:[t.jsx(He,{path:"/login",element:t.jsx(h0,{})}),t.jsx(He,{path:"/register",element:t.jsx(h0,{})}),t.jsx(He,{path:"/reset-password",element:t.jsx(aE,{})}),t.jsx(He,{path:"/pending-account",element:t.jsx(Vn,{allowPending:!0,children:t.jsx(nE,{})})}),t.jsx(He,{path:"/unauthorized",element:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700",children:"Go to Dashboard"})]})})}),t.jsx(He,{path:"/dashboard",element:t.jsx(Vn,{children:t.jsx(za,{children:t.jsx(lE,{})})})}),t.jsx(He,{path:"/admin/*",element:t.jsx(Vn,{allowedRoles:["group_admin"],children:t.jsx(za,{children:t.jsxs(Ii,{children:[t.jsx(He,{path:"accs",element:t.jsx(cE,{})}),t.jsx(He,{path:"training-center-applications",element:t.jsx(dE,{})}),t.jsx(He,{path:"all-accs",element:t.jsx(uE,{})}),t.jsx(He,{path:"all-training-centers",element:t.jsx(mE,{})}),t.jsx(He,{path:"all-instructors",element:t.jsx(pE,{})}),t.jsx(He,{path:"all-courses",element:t.jsx(fE,{})}),t.jsx(He,{path:"categories",element:t.jsx(hE,{})}),t.jsx(He,{path:"financial",element:t.jsx(gE,{})}),t.jsx(He,{path:"payment-transactions",element:t.jsx(xE,{})}),t.jsx(He,{path:"reports",element:t.jsx(yE,{})}),t.jsx(He,{path:"instructor-authorizations",element:t.jsx(bE,{})}),t.jsx(He,{path:"stripe-settings",element:t.jsx(vE,{})}),t.jsx(He,{path:"pending-payments",element:t.jsx(jE,{})})]})})})}),t.jsx(He,{path:"/acc/*",element:t.jsx(Vn,{allowedRoles:["acc_admin"],children:t.jsx(za,{children:t.jsxs(Ii,{children:[t.jsx(He,{path:"dashboard",element:t.jsx(Mj,{})}),t.jsx(He,{path:"subscription",element:t.jsx(eT,{})}),t.jsx(He,{path:"training-centers",element:t.jsx(sT,{})}),t.jsx(He,{path:"instructors",element:t.jsx(rT,{})}),t.jsx(He,{path:"courses",element:t.jsx(oT,{})}),t.jsx(He,{path:"certificates",element:t.jsx(lT,{})}),t.jsx(He,{path:"materials",element:t.jsx(cT,{})}),t.jsx(He,{path:"discount-codes",element:t.jsx(dT,{})}),t.jsx(He,{path:"categories",element:t.jsx(uT,{})}),t.jsx(He,{path:"classes",element:t.jsx(pT,{})}),t.jsx(He,{path:"payment-transactions",element:t.jsx(mT,{})}),t.jsx(He,{path:"pending-payments",element:t.jsx(fT,{})})]})})})}),t.jsx(He,{path:"/training-center/*",element:t.jsx(Vn,{allowedRoles:["training_center_admin"],children:t.jsx(za,{children:t.jsxs(Ii,{children:[t.jsx(He,{path:"dashboard",element:t.jsx(Ij,{})}),t.jsx(He,{path:"accs",element:t.jsx(yT,{})}),t.jsx(He,{path:"instructors",element:t.jsx(vT,{})}),t.jsx(He,{path:"trainees",element:t.jsx(jT,{})}),t.jsx(He,{path:"classes",element:t.jsx(NT,{})}),t.jsx(He,{path:"codes",element:t.jsx(TT,{})}),t.jsx(He,{path:"certificates",element:t.jsx(zT,{})}),t.jsx(He,{path:"wallet",element:t.jsx(RT,{})}),t.jsx(He,{path:"marketplace",element:t.jsx(FT,{})}),t.jsx(He,{path:"instructor-authorizations",element:t.jsx(DT,{})}),t.jsx(He,{path:"payment-transactions",element:t.jsx($T,{})})]})})})}),t.jsx(He,{path:"/instructor/*",element:t.jsx(Vn,{allowedRoles:["instructor"],children:t.jsx(za,{children:t.jsxs(Ii,{children:[t.jsx(He,{path:"dashboard",element:t.jsx(Lj,{})}),t.jsx(He,{path:"classes",element:t.jsx(MT,{})}),t.jsx(He,{path:"materials",element:t.jsx(IT,{})}),t.jsx(He,{path:"earnings",element:t.jsx(LT,{})}),t.jsx(He,{path:"profile",element:t.jsx(l1,{})})]})})})}),t.jsx(He,{path:"/profile",element:t.jsx(Vn,{children:t.jsx(WT,{})})}),t.jsx(He,{path:"/",element:t.jsx(sc,{to:"/dashboard",replace:!0})})]})})})})})}dm.createRoot(document.getElementById("root")).render(t.jsx(at.StrictMode,{children:t.jsx(VT,{})}));
